"use strict";var $ne=Object.defineProperty,Wne=Object.defineProperties,qne=Object.getOwnPropertyDescriptors,O$=Object.getOwnPropertySymbols,Zne=Object.prototype.hasOwnProperty,Yne=Object.prototype.propertyIsEnumerable,P$=(nt,Ee,F)=>Ee in nt?$ne(nt,Ee,{enumerable:!0,configurable:!0,writable:!0,value:F}):nt[Ee]=F,N$=(nt,Ee)=>{for(var F in Ee||(Ee={}))Zne.call(Ee,F)&&P$(nt,F,Ee[F]);if(O$)for(var F of O$(Ee))Yne.call(Ee,F)&&P$(nt,F,Ee[F]);return nt},F$=(nt,Ee)=>Wne(nt,qne(Ee));(self.webpackChunklomi_backoffice=self.webpackChunklomi_backoffice||[]).push([[179],{2011:(nt,Ee,F)=>{F.d(Ee,{Dh:()=>pe,GT:()=>De,cc:()=>xe,hO:()=>We,on:()=>K,pX:()=>me,xv:()=>Ce});var o=F(5e3),z=F(127),P=F(5813);nt=F.hmd(nt);const de=["ngOnDestroy"],me=(we,Pe,Le,Ne={})=>new Proxy(we,{get:(et,Me)=>Le.runOutsideAngular(()=>{var it;if(we[Me])return(null===(it=null==Ne?void 0:Ne.spy)||void 0===it?void 0:it.get)&&Ne.spy.get(Me,we[Me]),we[Me];if(de.indexOf(Me)>-1)return()=>{};const fe=Pe.toPromise().then(ve=>{const N=ve&&ve[Me];return"function"==typeof N?N.bind(ve):N&&N.then?N.then(j=>Le.run(()=>j)):Le.run(()=>N)});return new Proxy(()=>{},{get:(ve,N)=>fe[N],apply:(ve,N,j)=>fe.then($=>{var ee;const ue=$&&$(...j);return(null===(ee=null==Ne?void 0:Ne.spy)||void 0===ee?void 0:ee.apply)&&Ne.spy.apply(Me,j,ue),ue})})})}),De=(we,Pe)=>{Pe.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(Ne=>{Object.defineProperty(we.prototype,Ne,Object.getOwnPropertyDescriptor(Le.prototype||Le,Ne))})})};class ce{constructor(Pe){return Pe}}const pe=new o.OlP("angularfire2.app.options"),Ce=new o.OlP("angularfire2.app.name");function K(we,Pe,Le){const et="object"==typeof Le&&Le||{};et.name=et.name||"string"==typeof Le&&Le||"[DEFAULT]";const it=z.Z.apps.filter(fe=>fe&&fe.name===et.name)[0]||Pe.runOutsideAngular(()=>z.Z.initializeApp(we,et));try{JSON.stringify(we)!==JSON.stringify(it.options)&&X("error",`${it.name} Firebase App already initialized with different options${nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(fe){}return new ce(it)}const X=(we,...Pe)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[we](...Pe)},he={provide:ce,useFactory:K,deps:[pe,o.R0b,[new o.FiY,Ce]]};let We=(()=>{class we{constructor(Le){z.Z.registerVersion("angularfire",P.q4.full,"core"),z.Z.registerVersion("angularfire",P.q4.full,"app-compat"),z.Z.registerVersion("angular",o.q4F.full,Le.toString())}static initializeApp(Le,Ne){return{ngModule:we,providers:[{provide:pe,useValue:Le},{provide:Ce,useValue:Ne}]}}}return we.\u0275fac=function(Le){return new(Le||we)(o.LFG(o.Lbi))},we.\u0275mod=o.oAB({type:we}),we.\u0275inj=o.cJS({providers:[he]}),we})();function xe(we,Pe,Le,Ne,et){const[,Me,it]=globalThis.\u0275AngularfireInstanceCache.find(fe=>fe[0]===we)||[];if(Me)return function Be(we,Pe){try{return we.toString()===Pe.toString()}catch(Le){return we===Pe}}(et,it)||(ye("error",`${Pe} was already initialized on the ${Le} Firebase App with different settings.${Ge?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:et,was:it})),Me;{const fe=Ne();return globalThis.\u0275AngularfireInstanceCache.push([we,fe,et]),fe}}const Ge=!!nt.hot,ye=(we,...Pe)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[we](...Pe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(nt,Ee,F)=>{F.d(Ee,{q4:()=>Ec,iC:()=>Ta,fc:()=>Dc,HU:()=>Sl,vb:()=>To,JM:()=>Il,u3:()=>Rd});var o=F(5e3),z=F(5867),P=F(9671),de=F(9681),me=F(2090),De=F(4859),ce=F(1877),pe=F(8766);const Ce="@firebase/installations",K="0.5.12",he=`w:${K}`,We="FIS_v2",Pe=new me.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Le(I){return I instanceof me.ZR&&I.code.includes("request-failed")}function Ne({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function et(I){return{token:I.token,requestStatus:2,expiresIn:$(I.expiresIn),creationTime:Date.now()}}function Me(I,S){return it.apply(this,arguments)}function it(){return(it=(0,P.Z)(function*(I,S){const H=(yield S.json()).error;return Pe.create("request-failed",{requestName:I,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function fe({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function ve(I,{refreshToken:S}){const R=fe(I);return R.append("Authorization",function ee(I){return`${We} ${I}`}(S)),R}function N(I){return j.apply(this,arguments)}function j(){return(j=(0,P.Z)(function*(I){const S=yield I();return S.status>=500&&S.status<600?I():S})).apply(this,arguments)}function $(I){return Number(I.replace("s","000"))}function ue(I,S){return W.apply(this,arguments)}function W(){return(W=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:S},{fid:R}){const H=Ne(I),re=fe(I),ge=S.getImmediate({optional:!0});if(ge){const It=yield ge.getHeartbeatsHeader();It&&re.append("x-firebase-client",It)}const Ke={method:"POST",headers:re,body:JSON.stringify({fid:R,authVersion:We,appId:I.appId,sdkVersion:he})},gt=yield N(()=>fetch(H,Ke));if(gt.ok){const It=yield gt.json();return{fid:It.fid||R,registrationStatus:2,refreshToken:It.refreshToken,authToken:et(It.authToken)}}throw yield Me("Create Installation",gt)})).apply(this,arguments)}function He(I){return new Promise(S=>{setTimeout(S,I)})}const fn=/^[cdef][\w-]{21}$/;function ot(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const R=function Cn(I){return function lt(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return fn.test(R)?R:""}catch(I){return""}}function St(I){return`${I.appName}!${I.appId}`}const Bn=new Map;function nn(I,S){const R=St(I);Gn(R,S),function Zr(I,S){const R=function Kn(){return!$i&&"BroadcastChannel"in self&&($i=new BroadcastChannel("[Firebase] FID Change"),$i.onmessage=I=>{Gn(I.data.key,I.data.fid)}),$i}();R&&R.postMessage({key:I,fid:S}),function Rs(){0===Bn.size&&$i&&($i.close(),$i=null)}()}(R,S)}function Gn(I,S){const R=Bn.get(I);if(R)for(const H of R)H(S)}let $i=null;const ei="firebase-installations-store";let fs=null;function wt(){return fs||(fs=(0,pe.X3)("firebase-installations-database",1,{upgrade:(I,S)=>{0===S&&I.createObjectStore(ei)}})),fs}function Wi(I,S){return $n.apply(this,arguments)}function $n(){return($n=(0,P.Z)(function*(I,S){const R=St(I),re=(yield wt()).transaction(ei,"readwrite"),ge=re.objectStore(ei),Oe=yield ge.get(R);return yield ge.put(S,R),yield re.done,(!Oe||Oe.fid!==S.fid)&&nn(I,S.fid),S})).apply(this,arguments)}function _n(I){return _i.apply(this,arguments)}function _i(){return(_i=(0,P.Z)(function*(I){const S=St(I),H=(yield wt()).transaction(ei,"readwrite");yield H.objectStore(ei).delete(S),yield H.done})).apply(this,arguments)}function qi(I,S){return yi.apply(this,arguments)}function yi(){return(yi=(0,P.Z)(function*(I,S){const R=St(I),re=(yield wt()).transaction(ei,"readwrite"),ge=re.objectStore(ei),Oe=yield ge.get(R),Ke=S(Oe);return void 0===Ke?yield ge.delete(R):yield ge.put(Ke,R),yield re.done,Ke&&(!Oe||Oe.fid!==Ke.fid)&&nn(I,Ke.fid),Ke})).apply(this,arguments)}function Wn(I){return vi.apply(this,arguments)}function vi(){return(vi=(0,P.Z)(function*(I){let S;const R=yield qi(I.appConfig,H=>{const re=Os(H),ge=qt(I,re);return S=ge.registrationPromise,ge.installationEntry});return""===R.fid?{installationEntry:yield S}:{installationEntry:R,registrationPromise:S}})).apply(this,arguments)}function Os(I){return Kr(I||{fid:ot(),registrationStatus:0})}function qt(I,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(Pe.create("app-offline"))};const R={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},H=function mt(I,S){return ct.apply(this,arguments)}(I,R);return{installationEntry:R,registrationPromise:H}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Mr(I)}:{installationEntry:S}}function ct(){return(ct=(0,P.Z)(function*(I,S){try{const R=yield ue(I,S);return Wi(I.appConfig,R)}catch(R){throw Le(R)&&409===R.customData.serverCode?yield _n(I.appConfig):yield Wi(I.appConfig,{fid:S.fid,registrationStatus:0}),R}})).apply(this,arguments)}function Mr(I){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,P.Z)(function*(I){let S=yield Zt(I.appConfig);for(;1===S.registrationStatus;)yield He(100),S=yield Zt(I.appConfig);if(0===S.registrationStatus){const{installationEntry:R,registrationPromise:H}=yield Wn(I);return H||R}return S})).apply(this,arguments)}function Zt(I){return qi(I,S=>{if(!S)throw Pe.create("installation-not-found");return Kr(S)})}function Kr(I){return function ti(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Rn(I,S){return vt.apply(this,arguments)}function vt(){return(vt=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:S},R){const H=rr(I,R),re=ve(I,R),ge=S.getImmediate({optional:!0});if(ge){const It=yield ge.getHeartbeatsHeader();It&&re.append("x-firebase-client",It)}const Ke={method:"POST",headers:re,body:JSON.stringify({installation:{sdkVersion:he,appId:I.appId}})},gt=yield N(()=>fetch(H,Ke));if(gt.ok)return et(yield gt.json());throw yield Me("Generate Auth Token",gt)})).apply(this,arguments)}function rr(I,{fid:S}){return`${Ne(I)}/${S}/authTokens:generate`}function Q(I){return Z.apply(this,arguments)}function Z(){return(Z=(0,P.Z)(function*(I,S=!1){let R;const H=yield qi(I.appConfig,ge=>{if(!Tt(ge))throw Pe.create("not-registered");const Oe=ge.authToken;if(!S&&cn(Oe))return ge;if(1===Oe.requestStatus)return R=G(I,S),ge;{if(!navigator.onLine)throw Pe.create("app-offline");const Ke=bi(ge);return R=ke(I,Ke),Ke}});return R?yield R:H.authToken})).apply(this,arguments)}function G(I,S){return Y.apply(this,arguments)}function Y(){return(Y=(0,P.Z)(function*(I,S){let R=yield J(I.appConfig);for(;1===R.authToken.requestStatus;)yield He(100),R=yield J(I.appConfig);const H=R.authToken;return 0===H.requestStatus?Q(I,S):H})).apply(this,arguments)}function J(I){return qi(I,S=>{if(!Tt(S))throw Pe.create("not-registered");return function se(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function ke(I,S){return qe.apply(this,arguments)}function qe(){return(qe=(0,P.Z)(function*(I,S){try{const R=yield Rn(I,S),H=Object.assign(Object.assign({},S),{authToken:R});return yield Wi(I.appConfig,H),R}catch(R){if(!Le(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const H=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Wi(I.appConfig,H)}else yield _n(I.appConfig);throw R}})).apply(this,arguments)}function Tt(I){return void 0!==I&&2===I.registrationStatus}function cn(I){return 2===I.requestStatus&&!function rn(I){const S=Date.now();return S<I.creationTime||I.creationTime+I.expiresIn<S+36e5}(I)}function bi(I){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:S})}function te(){return(te=(0,P.Z)(function*(I){const S=I,{installationEntry:R,registrationPromise:H}=yield Wn(S);return H?H.catch(console.error):Q(S).catch(console.error),R.fid})).apply(this,arguments)}function Qe(){return(Qe=(0,P.Z)(function*(I,S=!1){const R=I;return yield ft(R),(yield Q(R,S)).token})).apply(this,arguments)}function ft(I){return At.apply(this,arguments)}function At(){return(At=(0,P.Z)(function*(I){const{registrationPromise:S}=yield Wn(I);S&&(yield S)})).apply(this,arguments)}function tl(I){return Pe.create("missing-app-config-values",{valueName:I})}const yr="installations",Ht=I=>{const S=I.getProvider("app").getImmediate(),R=function Si(I){if(!I||!I.options)throw tl("App Configuration");if(!I.name)throw tl("App Name");const S=["projectId","apiKey","appId"];for(const R of S)if(!I.options[R])throw tl(R);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(S);return{app:S,appConfig:R,heartbeatServiceProvider:(0,de._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Nn=I=>{const S=I.getProvider("app").getImmediate(),R=(0,de._getProvider)(S,yr).getImmediate();return{getId:()=>function ne(I){return te.apply(this,arguments)}(R),getToken:re=>function Ie(I){return Qe.apply(this,arguments)}(R,re)}};(function sr(){(0,de._registerComponent)(new De.wA(yr,Ht,"PUBLIC")),(0,de._registerComponent)(new De.wA("installations-internal",Nn,"PRIVATE"))})(),(0,de.registerVersion)(Ce,K),(0,de.registerVersion)(Ce,K,"esm2017");const Ps="@firebase/remote-config",ni=new me.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ad{constructor(S,R,H,re){this.client=S,this.storage=R,this.storageCache=H,this.logger=re}isCachedDataFresh(S,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-R,re=H<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${re}.`),re}fetch(S){var R=this;return(0,P.Z)(function*(){const[H,re]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(re&&R.isCachedDataFresh(S.cacheMaxAgeMillis,H))return re;S.eTag=re&&re.eTag;const ge=yield R.client.fetch(S),Oe=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ge.status&&Oe.push(R.storage.setLastSuccessfulFetchResponse(ge)),yield Promise.all(Oe),ge})()}}function rc(I=navigator){return I.languages&&I.languages[0]||I.language}class fi{constructor(S,R,H,re,ge,Oe){this.firebaseInstallations=S,this.sdkVersion=R,this.namespace=H,this.projectId=re,this.apiKey=ge,this.appId=Oe}fetch(S){var R=this;return(0,P.Z)(function*(){var H,re,ge;const[Oe,Ke]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),It=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Rt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},_t={sdk_version:R.sdkVersion,app_instance_id:Oe,app_instance_id_token:Ke,app_id:R.appId,language_code:rc()},Ei={method:"POST",headers:Rt,body:JSON.stringify(_t)},Ji=fetch(It,Ei),Io=new Promise((ns,Mo)=>{S.signal.addEventListener(()=>{const cf=new Error("The operation was aborted.");cf.name="AbortError",Mo(cf)})});let ts;try{yield Promise.race([Ji,Io]),ts=yield Ji}catch(ns){let Mo="fetch-client-network";throw"AbortError"===(null===(H=ns)||void 0===H?void 0:H.name)&&(Mo="fetch-timeout"),ni.create(Mo,{originalErrorMessage:null===(re=ns)||void 0===re?void 0:re.message})}let So=ts.status;const Eu=ts.headers.get("ETag")||void 0;let Du,Cs;if(200===ts.status){let ns;try{ns=yield ts.json()}catch(Mo){throw ni.create("fetch-client-parse",{originalErrorMessage:null===(ge=Mo)||void 0===ge?void 0:ge.message})}Du=ns.entries,Cs=ns.state}if("INSTANCE_STATE_UNSPECIFIED"===Cs?So=500:"NO_CHANGE"===Cs?So=304:("NO_TEMPLATE"===Cs||"EMPTY_CONFIG"===Cs)&&(Du={}),304!==So&&200!==So)throw ni.create("fetch-status",{httpStatus:So});return{status:So,eTag:Eu,config:Du}})()}}class Fs{constructor(S,R){this.client=S,this.storage=R}fetch(S){var R=this;return(0,P.Z)(function*(){const H=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(S,H)})()}attemptFetch(S,{throttleEndTimeMillis:R,backoffCount:H}){var re=this;return(0,P.Z)(function*(){yield function ld(I,S){return new Promise((R,H)=>{const re=Math.max(S-Date.now(),0),ge=setTimeout(R,re);I.addEventListener(()=>{clearTimeout(ge),H(ni.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,R);try{const ge=yield re.client.fetch(S);return yield re.storage.deleteThrottleMetadata(),ge}catch(ge){if(!function lg(I){if(!(I instanceof me.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ge))throw ge;const Oe={throttleEndTimeMillis:Date.now()+(0,me.$s)(H),backoffCount:H+1};return yield re.storage.setThrottleMetadata(Oe),re.attemptFetch(S,Oe)}})()}}class ug{constructor(S,R,H,re,ge){this.app=S,this._client=R,this._storageCache=H,this._storage=re,this._logger=ge,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function nl(I,S){var R;const H=I.target.error||void 0;return ni.create(S,{originalErrorMessage:H&&(null===(R=H)||void 0===R?void 0:R.message)})}const ha="app_namespace_store";class hd{constructor(S,R,H,re=function dd(){return new Promise((I,S)=>{var R;try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=re=>{S(nl(re,"storage-open"))},H.onsuccess=re=>{I(re.target.result)},H.onupgradeneeded=re=>{0===re.oldVersion&&re.target.result.createObjectStore(ha,{keyPath:"compositeKey"})}}catch(H){S(ni.create("storage-open",{originalErrorMessage:null===(R=H)||void 0===R?void 0:R.message}))}})}()){this.appId=S,this.appName=R,this.namespace=H,this.openDbPromise=re}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var R=this;return(0,P.Z)(function*(){const H=yield R.openDbPromise;return new Promise((re,ge)=>{var Oe;const gt=H.transaction([ha],"readonly").objectStore(ha),It=R.createCompositeKey(S);try{const Rt=gt.get(It);Rt.onerror=_t=>{ge(nl(_t,"storage-get"))},Rt.onsuccess=_t=>{const Ei=_t.target.result;re(Ei?Ei.value:void 0)}}catch(Rt){ge(ni.create("storage-get",{originalErrorMessage:null===(Oe=Rt)||void 0===Oe?void 0:Oe.message}))}})})()}set(S,R){var H=this;return(0,P.Z)(function*(){const re=yield H.openDbPromise;return new Promise((ge,Oe)=>{var Ke;const It=re.transaction([ha],"readwrite").objectStore(ha),Rt=H.createCompositeKey(S);try{const _t=It.put({compositeKey:Rt,value:R});_t.onerror=Ei=>{Oe(nl(Ei,"storage-set"))},_t.onsuccess=()=>{ge()}}catch(_t){Oe(ni.create("storage-set",{originalErrorMessage:null===(Ke=_t)||void 0===Ke?void 0:Ke.message}))}})})()}delete(S){var R=this;return(0,P.Z)(function*(){const H=yield R.openDbPromise;return new Promise((re,ge)=>{var Oe;const gt=H.transaction([ha],"readwrite").objectStore(ha),It=R.createCompositeKey(S);try{const Rt=gt.delete(It);Rt.onerror=_t=>{ge(nl(_t,"storage-delete"))},Rt.onsuccess=()=>{re()}}catch(Rt){ge(ni.create("storage-delete",{originalErrorMessage:null===(Oe=Rt)||void 0===Oe?void 0:Oe.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class fa{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,P.Z)(function*(){const R=S.storage.getLastFetchStatus(),H=S.storage.getLastSuccessfulFetchTimestampMillis(),re=S.storage.getActiveConfig(),ge=yield R;ge&&(S.lastFetchStatus=ge);const Oe=yield H;Oe&&(S.lastSuccessfulFetchTimestampMillis=Oe);const Ke=yield re;Ke&&(S.activeConfig=Ke)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function wy(){return il.apply(this,arguments)}function il(){return(il=(0,P.Z)(function*(){if(!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch(I){return!1}})).apply(this,arguments)}!function hg(){(0,de._registerComponent)(new De.wA("remote-config",function I(S,{instanceIdentifier:R}){const H=S.getProvider("app").getImmediate(),re=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ni.create("registration-window");if(!(0,me.hl)())throw ni.create("indexed-db-unavailable");const{projectId:ge,apiKey:Oe,appId:Ke}=H.options;if(!ge)throw ni.create("registration-project-id");if(!Oe)throw ni.create("registration-api-key");if(!Ke)throw ni.create("registration-app-id");const gt=new hd(Ke,H.name,R=R||"firebase"),It=new fa(gt),Rt=new ce.Yd(Ps);Rt.logLevel=ce.in.ERROR;const _t=new fi(re,de.SDK_VERSION,R,ge,Oe,Ke),Ei=new Fs(_t,gt),Ji=new ad(Ei,gt,It,Rt),Io=new ug(H,Ji,It,gt,Rt);return function En(I){const S=(0,me.m9)(I);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Io),Io},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(Ps,"0.3.11"),(0,de.registerVersion)(Ps,"0.3.11","esm2017")}();const go="/firebase-messaging-sw.js",Rr="/firebase-cloud-messaging-push-scope",pa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sl="google.c.a.c_id",Xh="google.c.a.c_l",fg="google.c.a.ts",Vi="google.c.a.e";var Bs=(()=>{return(I=Bs||(Bs={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Bs;var I})();function Qr(I){const S=new Uint8Array(I);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pd(I){const R=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(R),re=new Uint8Array(H.length);for(let ge=0;ge<H.length;++ge)re[ge]=H.charCodeAt(ge);return re}const Ui="fcm_token_details_db",gd="fcm_token_object_Store";function md(I){return sc.apply(this,arguments)}function sc(){return sc=(0,P.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ge=>ge.name).includes(Ui))return null;let S=null;return(yield(0,pe.X3)(Ui,5,{upgrade:(H=(0,P.Z)(function*(re,ge,Oe,Ke){var gt;if(ge<2||!re.objectStoreNames.contains(gd))return;const It=Ke.objectStore(gd),Rt=yield It.index("fcmSenderId").get(I);if(yield It.clear(),Rt)if(2===ge){const _t=Rt;if(!_t.auth||!_t.p256dh||!_t.endpoint)return;S={token:_t.fcmToken,createTime:null!==(gt=_t.createTime)&&void 0!==gt?gt:Date.now(),subscriptionOptions:{auth:_t.auth,p256dh:_t.p256dh,endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:"string"==typeof _t.vapidKey?_t.vapidKey:Qr(_t.vapidKey)}}}else if(3===ge){const _t=Rt;S={token:_t.fcmToken,createTime:_t.createTime,subscriptionOptions:{auth:Qr(_t.auth),p256dh:Qr(_t.p256dh),endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:Qr(_t.vapidKey)}}}else if(4===ge){const _t=Rt;S={token:_t.fcmToken,createTime:_t.createTime,subscriptionOptions:{auth:Qr(_t.auth),p256dh:Qr(_t.p256dh),endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:Qr(_t.vapidKey)}}}}),function(ge,Oe,Ke,gt){return H.apply(this,arguments)})})).close(),yield(0,pe.Lj)(Ui),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),oc(S)?S:null;var H}),sc.apply(this,arguments)}function oc(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:S}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Vs="firebase-messaging-store";let au=null;function On(){return au||(au=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(I,S)=>{0===S&&I.createObjectStore(Vs)}})),au}function ol(I){return mo.apply(this,arguments)}function mo(){return(mo=(0,P.Z)(function*(I){const S=Mi(I),H=yield(yield On()).transaction(Vs).objectStore(Vs).get(S);if(H)return H;{const re=yield md(I.appConfig.senderId);if(re)return yield Dn(I,re),re}})).apply(this,arguments)}function Dn(I,S){return lc.apply(this,arguments)}function lc(){return(lc=(0,P.Z)(function*(I,S){const R=Mi(I),re=(yield On()).transaction(Vs,"readwrite");return yield re.objectStore(Vs).put(S,R),yield re.done,S})).apply(this,arguments)}function al(I){return jo.apply(this,arguments)}function jo(){return(jo=(0,P.Z)(function*(I){const S=Mi(I),H=(yield On()).transaction(Vs,"readwrite");yield H.objectStore(Vs).delete(S),yield H.done})).apply(this,arguments)}function Mi({appConfig:I}){return I.appId}const ii=new me.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Us(I,S){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,P.Z)(function*(I,S){var R;const H=yield yo(I),re=ll(S),ge={method:"POST",headers:H,body:JSON.stringify(re)};let Oe;try{Oe=yield(yield fetch(_o(I.appConfig),ge)).json()}catch(Ke){throw ii.create("token-subscribe-failed",{errorInfo:null===(R=Ke)||void 0===R?void 0:R.toString()})}if(Oe.error)throw ii.create("token-subscribe-failed",{errorInfo:Oe.error.message});if(!Oe.token)throw ii.create("token-subscribe-no-token");return Oe.token})).apply(this,arguments)}function ga(I,S){return gs.apply(this,arguments)}function gs(){return(gs=(0,P.Z)(function*(I,S){var R;const H=yield yo(I),re=ll(S.subscriptionOptions),ge={method:"PATCH",headers:H,body:JSON.stringify(re)};let Oe;try{Oe=yield(yield fetch(`${_o(I.appConfig)}/${S.token}`,ge)).json()}catch(Ke){throw ii.create("token-update-failed",{errorInfo:null===(R=Ke)||void 0===R?void 0:R.toString()})}if(Oe.error)throw ii.create("token-update-failed",{errorInfo:Oe.error.message});if(!Oe.token)throw ii.create("token-update-no-token");return Oe.token})).apply(this,arguments)}function lu(I,S){return vr.apply(this,arguments)}function vr(){return(vr=(0,P.Z)(function*(I,S){var R;const re={method:"DELETE",headers:yield yo(I)};try{const Oe=yield(yield fetch(`${_o(I.appConfig)}/${S}`,re)).json();if(Oe.error)throw ii.create("token-unsubscribe-failed",{errorInfo:Oe.error.message})}catch(ge){throw ii.create("token-unsubscribe-failed",{errorInfo:null===(R=ge)||void 0===R?void 0:R.toString()})}})).apply(this,arguments)}function _o({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function yo(I){return Et.apply(this,arguments)}function Et(){return(Et=(0,P.Z)(function*({appConfig:I,installations:S}){const R=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function ll({p256dh:I,auth:S,endpoint:R,vapidKey:H}){const re={web:{endpoint:R,auth:S,p256dh:I}};return H!==pa&&(re.web.applicationPubKey=H),re}const cl=6048e5;function _d(I){return ul.apply(this,arguments)}function ul(){return(ul=(0,P.Z)(function*(I){const S=yield Jn(I.swRegistration,I.vapidKey),R={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:S.endpoint,auth:Qr(S.getKey("auth")),p256dh:Qr(S.getKey("p256dh"))},H=yield ol(I.firebaseDependencies);if(H){if(fl(H.subscriptionOptions,R))return Date.now()>=H.createTime+cl?ef(I,{token:H.token,createTime:Date.now(),subscriptionOptions:R}):H.token;try{yield lu(I.firebaseDependencies,H.token)}catch(re){console.warn(re)}return Yt(I.firebaseDependencies,R)}return Yt(I.firebaseDependencies,R)})).apply(this,arguments)}function cu(I){return dl.apply(this,arguments)}function dl(){return(dl=(0,P.Z)(function*(I){const S=yield ol(I.firebaseDependencies);S&&(yield lu(I.firebaseDependencies,S.token),yield al(I.firebaseDependencies));const R=yield I.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function ef(I,S){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,P.Z)(function*(I,S){try{const R=yield ga(I.firebaseDependencies,S),H=Object.assign(Object.assign({},S),{token:R,createTime:Date.now()});return yield Dn(I.firebaseDependencies,H),R}catch(R){throw yield cu(I),R}})).apply(this,arguments)}function Yt(I,S){return hl.apply(this,arguments)}function hl(){return(hl=(0,P.Z)(function*(I,S){const H={token:yield Us(I,S),createTime:Date.now(),subscriptionOptions:S};return yield Dn(I,H),H.token})).apply(this,arguments)}function Jn(I,S){return vo.apply(this,arguments)}function vo(){return(vo=(0,P.Z)(function*(I,S){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pd(S)})})).apply(this,arguments)}function fl(I,S){return S.vapidKey===I.vapidKey&&S.endpoint===I.endpoint&&S.auth===I.auth&&S.p256dh===I.p256dh}function ar(I){const S={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function uu(I,S){if(!S.notification)return;I.notification={};const R=S.notification.title;R&&(I.notification.title=R);const H=S.notification.body;H&&(I.notification.body=H);const re=S.notification.image;re&&(I.notification.image=re)}(S,I),function du(I,S){!S.data||(I.data=S.data)}(S,I),function yd(I,S){var R,H,re,ge,Oe;if(!S.fcmOptions&&!(null===(R=S.notification)||void 0===R?void 0:R.click_action))return;I.fcmOptions={};const Ke=null!==(re=null===(H=S.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==re?re:null===(ge=S.notification)||void 0===ge?void 0:ge.click_action;Ke&&(I.fcmOptions.link=Ke);const gt=null===(Oe=S.fcmOptions)||void 0===Oe?void 0:Oe.analytics_label;gt&&(I.fcmOptions.analyticsLabel=gt)}(S,I),S}function vd(I){return"object"==typeof I&&!!I&&sl in I}function pl(I,S){const R=[];for(let H=0;H<I.length;H++)R.push(I.charAt(H)),H<S.length&&R.push(S.charAt(H));return R.join("")}function wi(I){return ii.create("missing-app-config-values",{valueName:I})}pl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Jr{constructor(S,R,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const re=function ma(I){if(!I||!I.options)throw wi("App Configuration Object");if(!I.name)throw wi("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:R}=I;for(const H of S)if(!R[H])throw wi(H);return{appName:I.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:re,installations:R,analyticsProvider:H}}_delete(){return Promise.resolve()}}function hu(I){return ms.apply(this,arguments)}function ms(){return(ms=(0,P.Z)(function*(I){var S;try{I.swRegistration=yield navigator.serviceWorker.register(go,{scope:Rr}),I.swRegistration.update().catch(()=>{})}catch(R){throw ii.create("failed-service-worker-registration",{browserErrorMessage:null===(S=R)||void 0===S?void 0:S.message})}})).apply(this,arguments)}function Hs(I,S){return gl.apply(this,arguments)}function gl(){return(gl=(0,P.Z)(function*(I,S){if(!S&&!I.swRegistration&&(yield hu(I)),S||!I.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw ii.create("invalid-sw-registration");I.swRegistration=S}})).apply(this,arguments)}function bd(I,S){return ml.apply(this,arguments)}function ml(){return(ml=(0,P.Z)(function*(I,S){S?I.vapidKey=S:I.vapidKey||(I.vapidKey=pa)})).apply(this,arguments)}function zo(){return(zo=(0,P.Z)(function*(I,S){if(!navigator)throw ii.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ii.create("permission-blocked");return yield bd(I,null==S?void 0:S.vapidKey),yield Hs(I,null==S?void 0:S.serviceWorkerRegistration),_d(I)})).apply(this,arguments)}function uc(I,S,R){return _l.apply(this,arguments)}function _l(){return(_l=(0,P.Z)(function*(I,S,R){const H=fu(S);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:R[sl],message_name:R[Xh],message_time:R[fg],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fu(I){switch(I){case Bs.NOTIFICATION_CLICKED:return"notification_open";case Bs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function dc(){return(dc=(0,P.Z)(function*(I,S){const R=S.data;if(!R.isFirebaseMessaging)return;I.onMessageHandler&&R.messageType===Bs.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(ar(R)):I.onMessageHandler.next(ar(R)));const H=R.data;vd(H)&&"1"===H[Vi]&&(yield uc(I,R.messageType,H))})).apply(this,arguments)}const Go="@firebase/messaging",$o=I=>{const S=new Jr(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function pg(I,S){return dc.apply(this,arguments)}(S,R)),S},Cd=I=>{const S=I.getProvider("messaging").getImmediate();return{getToken:H=>function wd(I,S){return zo.apply(this,arguments)}(S,H)}};function _a(){return _s.apply(this,arguments)}function _s(){return(_s=(0,P.Z)(function*(){try{yield(0,me.eu)()}catch(I){return!1}return"undefined"!=typeof window&&(0,me.hl)()&&(0,me.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function tf(){(0,de._registerComponent)(new De.wA("messaging",$o,"PUBLIC")),(0,de._registerComponent)(new De.wA("messaging-internal",Cd,"PRIVATE")),(0,de.registerVersion)(Go,"0.9.16"),(0,de.registerVersion)(Go,"0.9.16","esm2017")}();const Ed="analytics",gg="firebase_id",vl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",hc="https://www.googletagmanager.com/gtag/js",ki=new ce.Yd("@firebase/analytics");function sf(I){return Promise.all(I.map(S=>S.catch(R=>R)))}function Wo(I,S){const R=document.createElement("script");R.src=`${hc}?l=${I}&id=${S}`,R.async=!0,document.head.appendChild(R)}function Dd(I,S,R,H,re,ge){return Td.apply(this,arguments)}function Td(){return(Td=(0,P.Z)(function*(I,S,R,H,re,ge){const Oe=H[re];try{if(Oe)yield S[Oe];else{const gt=(yield sf(R)).find(It=>It.measurementId===re);gt&&(yield S[gt.appId])}}catch(Ke){ki.error(Ke)}I("config",re,ge)})).apply(this,arguments)}function Xr(I,S,R,H,re){return va.apply(this,arguments)}function va(){return(va=(0,P.Z)(function*(I,S,R,H,re){try{let ge=[];if(re&&re.send_to){let Oe=re.send_to;Array.isArray(Oe)||(Oe=[Oe]);const Ke=yield sf(R);for(const gt of Oe){const It=Ke.find(_t=>_t.measurementId===gt),Rt=It&&S[It.appId];if(!Rt){ge=[];break}ge.push(Rt)}}0===ge.length&&(ge=Object.values(S)),yield Promise.all(ge),I("event",H,re||{})}catch(ge){ki.error(ge)}})).apply(this,arguments)}function fc(){const I=window.document.getElementsByTagName("script");for(const S of Object.values(I))if(S.src&&S.src.includes(hc))return S;return null}const Qn=new me.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Qi=new class gn{constructor(S={},R=1e3){this.throttleMetadata=S,this.intervalMillis=R}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,R){this.throttleMetadata[S]=R}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Gs(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function br(I){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,P.Z)(function*(I){var S;const{appId:R,apiKey:H}=I,re={method:"GET",headers:Gs(H)},ge=vl.replace("{app-id}",R),Oe=yield fetch(ge,re);if(200!==Oe.status&&304!==Oe.status){let Ke="";try{const gt=yield Oe.json();(null===(S=gt.error)||void 0===S?void 0:S.message)&&(Ke=gt.error.message)}catch(gt){}throw Qn.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:Ke})}return Oe.json()})).apply(this,arguments)}function wn(I){return yn.apply(this,arguments)}function yn(){return(yn=(0,P.Z)(function*(I,S=Qi,R){const{appId:H,apiKey:re,measurementId:ge}=I.options;if(!H)throw Qn.create("no-app-id");if(!re){if(ge)return{measurementId:ge,appId:H};throw Qn.create("no-api-key")}const Oe=S.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new mc;return setTimeout((0,P.Z)(function*(){Ke.abort()}),void 0!==R?R:6e4),ut({appId:H,apiKey:re,measurementId:ge},Oe,Ke,S)})).apply(this,arguments)}function ut(I,S,R){return pc.apply(this,arguments)}function pc(){return(pc=(0,P.Z)(function*(I,{throttleEndTimeMillis:S,backoffCount:R},H,re=Qi){var ge,Oe;const{appId:Ke,measurementId:gt}=I;try{yield gu(H,S)}catch(It){if(gt)return ki.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${null===(ge=It)||void 0===ge?void 0:ge.message}]`),{appId:Ke,measurementId:gt};throw It}try{const It=yield br(I);return re.deleteThrottleMetadata(Ke),It}catch(It){const Rt=It;if(!gc(Rt)){if(re.deleteThrottleMetadata(Ke),gt)return ki.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${null==Rt?void 0:Rt.message}]`),{appId:Ke,measurementId:gt};throw It}const _t=503===Number(null===(Oe=null==Rt?void 0:Rt.customData)||void 0===Oe?void 0:Oe.httpStatus)?(0,me.$s)(R,re.intervalMillis,30):(0,me.$s)(R,re.intervalMillis),Ei={throttleEndTimeMillis:Date.now()+_t,backoffCount:R+1};return re.setThrottleMetadata(Ke,Ei),ki.debug(`Calling attemptFetch again in ${_t} millis`),ut(I,Ei,H,re)}})).apply(this,arguments)}function gu(I,S){return new Promise((R,H)=>{const re=Math.max(S-Date.now(),0),ge=setTimeout(R,re);I.addEventListener(()=>{clearTimeout(ge),H(Qn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function gc(I){if(!(I instanceof me.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}class mc{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let mu,ba;function un(){return(un=(0,P.Z)(function*(I,S,R,H,re){if(re&&re.global)I("event",R,H);else{const ge=yield S;I("event",R,Object.assign(Object.assign({},H),{send_to:ge}))}})).apply(this,arguments)}function dn(I){ba=I}function pi(I){mu=I}function vs(){return $s.apply(this,arguments)}function $s(){return($s=(0,P.Z)(function*(){var I;if(!(0,me.hl)())return ki.warn(Qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,me.eu)()}catch(S){return ki.warn(Qn.create("indexeddb-unavailable",{errorInfo:null===(I=S)||void 0===I?void 0:I.toString()}).message),!1}return!0})).apply(this,arguments)}function yu(){return(yu=(0,P.Z)(function*(I,S,R,H,re,ge,Oe){var Ke;const gt=wn(I);gt.then(Ji=>{R[Ji.measurementId]=Ji.appId,I.options.measurementId&&Ji.measurementId!==I.options.measurementId&&ki.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Ji.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ji=>ki.error(Ji)),S.push(gt);const It=vs().then(Ji=>{if(Ji)return H.getId()}),[Rt,_t]=yield Promise.all([gt,It]);fc()||Wo(ge,Rt.measurementId),ba&&(re("consent","default",ba),dn(void 0)),re("js",new Date);const Ei=null!==(Ke=null==Oe?void 0:Oe.config)&&void 0!==Ke?Ke:{};return Ei.origin="firebase",Ei.update=!0,null!=_t&&(Ei[gg]=_t),re("config",Rt.measurementId,Ei),mu&&(re("set",mu),pi(void 0)),Rt.measurementId})).apply(this,arguments)}class wa{constructor(S){this.app=S}_delete(){return delete cr[this.app.options.appId],Promise.resolve()}}let cr={},_c=[];const Cl={};let Yo,Pr,bs="dataLayer",yc=!1;function Sd(I,S,R){!function _g(){const I=[];if((0,me.ru)()&&I.push("This is a browser extension environment."),(0,me.zI)()||I.push("Cookies are not available."),I.length>0){const S=I.map((H,re)=>`(${re+1}) ${H}`).join(" "),R=Qn.create("invalid-analytics-context",{errorInfo:S});ki.warn(R.message)}}();const H=I.options.appId;if(!H)throw Qn.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Qn.create("no-api-key");ki.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=cr[H])throw Qn.create("already-exists",{id:H});if(!yc){!function ya(I){let S=[];Array.isArray(window[I])?S=window[I]:window[I]=S}(bs);const{wrappedGtag:ge,gtagCore:Oe}=function mg(I,S,R,H,re){let ge=function(...Oe){window[H].push(arguments)};return window[re]&&"function"==typeof window[re]&&(ge=window[re]),window[re]=function Id(I,S,R,H){function ge(){return(ge=(0,P.Z)(function*(Oe,Ke,gt){try{"event"===Oe?yield Xr(I,S,R,Ke,gt):"config"===Oe?yield Dd(I,S,R,H,Ke,gt):"consent"===Oe?I("consent","update",gt):I("set",Ke)}catch(It){ki.error(It)}})).apply(this,arguments)}return function re(Oe,Ke,gt){return ge.apply(this,arguments)}}(ge,I,S,R),{gtagCore:ge,wrappedGtag:window[re]}}(cr,_c,Cl,bs,"gtag");Pr=ge,Yo=Oe,yc=!0}return cr[H]=function _u(I,S,R,H,re,ge,Oe){return yu.apply(this,arguments)}(I,_c,Cl,S,Yo,bs,R),new wa(I)}function pt(){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,P.Z)(function*(){if((0,me.ru)()||!(0,me.zI)()||!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch(I){return!1}})).apply(this,arguments)}const Hi="@firebase/analytics";!function wc(){(0,de._registerComponent)(new De.wA(Ed,(S,{options:R})=>Sd(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,de._registerComponent)(new De.wA("analytics-internal",function I(S){try{const R=S.getProvider(Ed).getImmediate();return{logEvent:(H,re,ge)=>function Md(I,S,R,H){I=(0,me.m9)(I),function es(I,S,R,H,re){return un.apply(this,arguments)}(Pr,cr[I.app.options.appId],S,R,H).catch(re=>ki.error(re))}(R,H,re,ge)}}catch(R){throw Qn.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,de.registerVersion)(Hi,"0.8.0"),(0,de.registerVersion)(Hi,"0.8.0","esm2017")}();var af=F(4408),wr=F(7565);const Cc=new class El extends wr.v{}(class ur extends af.o{constructor(S,R){super(S,R),this.scheduler=S,this.work=R}schedule(S,R=0){return R>0?super.schedule(S,R):(this.delay=R,this.state=S,this.scheduler.flush(this),this)}execute(S,R){return R>0||this.closed?super.execute(S,R):this._execute(S,R)}requestAsyncId(S,R,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(S,R,H):S.flush(this)}});var Ad=F(4986),Eo=F(8306),Ri=F(8505),Dl=F(5363),xd=F(9468);const Ec=new o.GfV("7.4.1"),ci="__angularfire_symbol__analyticsIsSupportedValue",Do="__angularfire_symbol__analyticsIsSupported",ws="__angularfire_symbol__remoteConfigIsSupportedValue",kd="__angularfire_symbol__remoteConfigIsSupported",Ea="__angularfire_symbol__messagingIsSupportedValue",vu="__angularfire_symbol__messagingIsSupported";function Il(I,S,R){if(S){if(1===S.length)return S[0];const ge=S.filter(Oe=>Oe.app===R);if(1===ge.length)return ge[0]}return R.container.getProvider(I).getImmediate({optional:!0})}globalThis[Do]||(globalThis[Do]=pt().then(I=>globalThis[ci]=I).catch(()=>globalThis[ci]=!1)),globalThis[vu]||(globalThis[vu]=_a().then(I=>globalThis[Ea]=I).catch(()=>globalThis[Ea]=!1)),globalThis[kd]||(globalThis[kd]=wy().then(I=>globalThis[ws]=I).catch(()=>globalThis[ws]=!1));const To=(I,S)=>{const R=S?[S]:(0,z.C6)(),H=[];return R.forEach(re=>{re.container.getProvider(I).instances.forEach(Oe=>{H.includes(Oe)||H.push(Oe)})}),H};function qs(){}class lf{constructor(S,R=Cc){this.zone=S,this.delegate=R}now(){return this.delegate.now()}schedule(S,R,H){const re=this.zone;return this.delegate.schedule(function(Oe){re.runGuarded(()=>{S.apply(this,[Oe])})},R,H)}}class Ko{constructor(S){this.zone=S,this.task=null}call(S,R){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qs,{},qs,qs)),R.pipe((0,Ri.b)({next:H,complete:H,error:H})).subscribe(S).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Sl=(()=>{class I{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new lf(Zone.current)),this.insideAngular=R.run(()=>new lf(Zone.current,Ad.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(R){return new(R||I)(o.LFG(o.R0b))},I.\u0275prov=o.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Cr(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function wu(I){return Cr().ngZone.runOutsideAngular(()=>I())}function Zs(I){return Cr().ngZone.run(()=>I())}function Dc(I){return I.pipe((0,Dl.Q)(Cr().outsideAngular))}function Ta(I){return Cr(),function Ml(I){return function(R){return(R=R.lift(new Ko(I.ngZone))).pipe((0,xd.R)(I.outsideAngular),(0,Dl.Q)(I.insideAngular))}}(Cr())(I)}const Ia=(I,S)=>function(){const H=arguments;return S&&setTimeout(()=>{"scheduled"===S.state&&S.invoke()},10),Zs(()=>I.apply(void 0,H))},Rd=(I,S)=>function(){let R;const H=arguments;for(let ge=0;ge<arguments.length;ge++)"function"==typeof H[ge]&&(S&&(R||(R=Zs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qs,{},qs,qs)))),H[ge]=Ia(H[ge],R));const re=wu(()=>I.apply(this,H));if(!S){if(re instanceof Eo.y){const ge=Cr();return re.pipe((0,xd.R)(ge.outsideAngular),(0,Dl.Q)(ge.insideAngular))}return Zs(()=>re)}return re instanceof Eo.y?re.pipe(Ta):re instanceof Promise?Zs(()=>new Promise((ge,Oe)=>re.then(Ke=>Zs(()=>ge(Ke)),Ke=>Zs(()=>Oe(Ke))))):"function"==typeof re&&R?function(){return setTimeout(()=>{R&&"scheduled"===R.state&&R.invoke()},10),re.apply(this,arguments)}:Zs(()=>re)}},6457:(nt,Ee,F)=>{F.d(Ee,{$:()=>_o,A:()=>X,B:()=>xe,G:()=>Nn,H:()=>bn,J:()=>Fs,L:()=>cn,M:()=>il,N:()=>rl,P:()=>Ad,Q:()=>sl,R:()=>vg,T:()=>Xh,U:()=>pa,V:()=>Bs,W:()=>Qr,X:()=>md,Y:()=>cc,Z:()=>Us,_:()=>ga,a:()=>at,a0:()=>_d,a1:()=>cu,a2:()=>ef,a3:()=>Yt,a4:()=>Jn,a5:()=>fl,a6:()=>uu,a7:()=>du,a8:()=>vd,a9:()=>pl,aA:()=>Ei,aB:()=>Ke,aC:()=>Zs,aD:()=>wu,aE:()=>$e,aI:()=>Gs,aL:()=>Vi,aa:()=>hu,ab:()=>Hs,ac:()=>bd,af:()=>uc,ag:()=>fu,ah:()=>pg,ak:()=>Vs,al:()=>xi,an:()=>hc,ao:()=>Td,ap:()=>oi,aq:()=>N,ar:()=>Gt,as:()=>ft,at:()=>Le,au:()=>Ys,av:()=>So,aw:()=>Ne,ax:()=>fe,ay:()=>$,az:()=>rn,b:()=>Qn,c:()=>kd,d:()=>bg,e:()=>vu,f:()=>Ta,g:()=>R,h:()=>Rd,i:()=>$s,j:()=>ge,k:()=>Ay,l:()=>Ws,m:()=>xy,o:()=>pe,r:()=>af,s:()=>Xt,u:()=>Cc});var o=F(9671),z=F(2090),P=F(9681),de=F(655),me=F(1877),De=F(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},X={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const xe=function he(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Be=function We(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ge=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),we=new me.Yd("@firebase/auth");function Pe(w,...m){we.logLevel<=me.in.ERROR&&we.error(`Auth (${P.SDK_VERSION}): ${w}`,...m)}function Le(w,...m){throw it(w,...m)}function Ne(w,...m){return it(w,...m)}function et(w,m,y){const E=Object.assign(Object.assign({},Be()),{[m]:y});return new z.LL("auth","Firebase",E).create(m,{appName:w.name})}function Me(w,m,y){if(!(m instanceof y))throw y.name!==m.constructor.name&&Le(w,"argument-error"),et(w,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function it(w,...m){if("string"!=typeof w){const y=m[0],E=[...m.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(y,...E)}return Ge.create(w,...m)}function fe(w,m,...y){if(!w)throw it(m,...y)}function ve(w){const m="INTERNAL ASSERTION FAILED: "+w;throw Pe(m),new Error(m)}function N(w,m){w||ve(m)}const j=new Map;function $(w){N(w instanceof Function,"Expected a class definition");let m=j.get(w);return m?(N(m instanceof w,"Instance stored in cache mismatched with class"),m):(m=new w,j.set(w,m),m)}function W(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function He(){return"http:"===lt()||"https:"===lt()}function lt(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class ot{constructor(m,y){this.shortDelay=m,this.longDelay=y,N(y>m,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function fn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(He()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cn(w,m){N(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return m?`${y}${m.startsWith("/")?m.slice(1):m}`:y}class St{static initialize(m,y,E){this.fetchImpl=m,y&&(this.headersImpl=y),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Bn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},nn=new ot(3e4,6e4);function zt(w,m){return w.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:w.tenantId}):m}function pn(w,m,y,E){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,o.Z)(function*(w,m,y,E,x={}){return Zr(w,x,(0,o.Z)(function*(){let L={},ae={};E&&("GET"===m?ae=E:L={body:JSON.stringify(E)});const Se=(0,z.xO)(Object.assign({key:w.config.apiKey},ae)).slice(1),rt=yield w._getAdditionalHeaders();return rt["Content-Type"]="application/json",w.languageCode&&(rt["X-Firebase-Locale"]=w.languageCode),St.fetch()(Sr(w,w.config.apiHost,y,Se),Object.assign({method:m,headers:rt,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function Zr(w,m,y){return $i.apply(this,arguments)}function $i(){return($i=(0,o.Z)(function*(w,m,y){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},Bn),m);try{const x=new Yr(w),L=yield Promise.race([y(),x.promise]);x.clearNetworkTimeout();const ae=yield L.json();if("needConfirmation"in ae)throw ei(w,"account-exists-with-different-credential",ae);if(L.ok&&!("errorMessage"in ae))return ae;{const Se=L.ok?ae.errorMessage:ae.error.message,[rt,Ct]=Se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===rt)throw ei(w,"credential-already-in-use",ae);if("EMAIL_EXISTS"===rt)throw ei(w,"email-already-in-use",ae);if("USER_DISABLED"===rt)throw ei(w,"user-disabled",ae);const Wt=E[rt]||rt.toLowerCase().replace(/[_\s]+/g,"-");if(Ct)throw et(w,Wt,Ct);Le(w,Wt)}}catch(x){if(x instanceof z.ZR)throw x;Le(w,"network-request-failed")}})).apply(this,arguments)}function Kn(w,m,y,E){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,o.Z)(function*(w,m,y,E,x={}){const L=yield pn(w,m,y,E,x);return"mfaPendingCredential"in L&&Le(w,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function Sr(w,m,y,E){const x=`${m}${y}?${E}`;return w.config.emulator?Cn(w.config,x):`${w.config.apiScheme}://${x}`}class Yr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((y,E)=>{this.timer=setTimeout(()=>E(Ne(this.auth,"network-request-failed")),nn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ei(w,m,y){const E={appName:w.name};y.email&&(E.email=y.email),y.phoneNumber&&(E.phoneNumber=y.phoneNumber);const x=Ne(w,m,E);return x.customData._tokenResponse=y,x}function wt(){return(wt=(0,o.Z)(function*(w,m){return pn(w,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Wi(w,m){return $n.apply(this,arguments)}function $n(){return($n=(0,o.Z)(function*(w,m){return pn(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function _n(w,m){return _i.apply(this,arguments)}function _i(){return(_i=(0,o.Z)(function*(w,m){return pn(w,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function qi(w){if(w)try{const m=new Date(Number(w));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function vi(){return(vi=(0,o.Z)(function*(w,m=!1){const y=(0,z.m9)(w),E=yield y.getIdToken(m),x=qt(E);fe(x&&x.exp&&x.auth_time&&x.iat,y.auth,"internal-error");const L="object"==typeof x.firebase?x.firebase:void 0,ae=null==L?void 0:L.sign_in_provider;return{claims:x,token:E,authTime:qi(Os(x.auth_time)),issuedAtTime:qi(Os(x.iat)),expirationTime:qi(Os(x.exp)),signInProvider:ae||null,signInSecondFactor:(null==L?void 0:L.sign_in_second_factor)||null}})).apply(this,arguments)}function Os(w){return 1e3*Number(w)}function qt(w){var m;const[y,E,x]=w.split(".");if(void 0===y||void 0===E||void 0===x)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,z.tV)(E);return L?JSON.parse(L):(Pe("Failed to decode base64 JWT payload"),null)}catch(L){return Pe("Caught error parsing JWT payload as JSON",null===(m=L)||void 0===m?void 0:m.toString()),null}}function ct(w,m){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,o.Z)(function*(w,m,y=!1){if(y)return m;try{return yield m}catch(E){throw E instanceof z.ZR&&Ar(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}function Ar({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Zt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var y;if(m){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const x=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(m=!1){var y=this;if(!this.isRunning)return;const E=this.getInterval(m);this.timerId=setTimeout((0,o.Z)(function*(){yield y.iteration()}),E)}iteration(){var m=this;return(0,o.Z)(function*(){var y;try{yield m.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(y=E)||void 0===y?void 0:y.code)&&m.schedule(!0))}m.schedule()})()}}class Kr{constructor(m,y){this.createdAt=m,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=qi(this.lastLoginAt),this.creationTime=qi(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ti(w){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,o.Z)(function*(w){var m;const y=w.auth,E=yield w.getIdToken(),x=yield ct(w,_n(y,{idToken:E}));fe(null==x?void 0:x.users.length,y,"internal-error");const L=x.users[0];w._notifyReloadListener(L);const ae=(null===(m=L.providerUserInfo)||void 0===m?void 0:m.length)?Z(L.providerUserInfo):[],Se=Q(w.providerData,ae),Wt=!!w.isAnonymous&&!(w.email&&L.passwordHash||(null==Se?void 0:Se.length)),Hn={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:Se,metadata:new Kr(L.createdAt,L.lastLoginAt),isAnonymous:Wt};Object.assign(w,Hn)})).apply(this,arguments)}function rr(){return(rr=(0,o.Z)(function*(w){const m=(0,z.m9)(w);yield ti(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Q(w,m){return[...w.filter(E=>!m.some(x=>x.providerId===E.providerId)),...m]}function Z(w){return w.map(m=>{var{providerId:y}=m,E=(0,de._T)(m,["providerId"]);return{providerId:y,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Y(){return(Y=(0,o.Z)(function*(w,m){const y=yield Zr(w,{},(0,o.Z)(function*(){const E=(0,z.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:x,apiKey:L}=w.config,ae=Sr(w,x,"/v1/token",`key=${L}`),Se=yield w._getAdditionalHeaders();return Se["Content-Type"]="application/x-www-form-urlencoded",St.fetch()(ae,{method:"POST",headers:Se,body:E})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class J{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){fe(m.idToken,"internal-error"),fe(void 0!==m.idToken,"internal-error"),fe(void 0!==m.refreshToken,"internal-error");const y="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function mt(w){const m=qt(w);return fe(m,"internal-error"),fe(void 0!==m.exp,"internal-error"),fe(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,y)}getToken(m,y=!1){var E=this;return(0,o.Z)(function*(){return fe(!E.accessToken||E.refreshToken,m,"user-token-expired"),y||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(m,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,y){var E=this;return(0,o.Z)(function*(){const{accessToken:x,refreshToken:L,expiresIn:ae}=yield function G(w,m){return Y.apply(this,arguments)}(m,y);E.updateTokensAndExpiration(x,L,Number(ae))})()}updateTokensAndExpiration(m,y,E){this.refreshToken=y||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(m,y){const{refreshToken:E,accessToken:x,expirationTime:L}=y,ae=new J;return E&&(fe("string"==typeof E,"internal-error",{appName:m}),ae.refreshToken=E),x&&(fe("string"==typeof x,"internal-error",{appName:m}),ae.accessToken=x),L&&(fe("number"==typeof L,"internal-error",{appName:m}),ae.expirationTime=L),ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new J,this.toJSON())}_performRefresh(){return ve("not implemented")}}function ke(w,m){fe("string"==typeof w||void 0===w,"internal-error",{appName:m})}class qe{constructor(m){var{uid:y,auth:E,stsTokenManager:x}=m,L=(0,de._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=E,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new Kr(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(m){var y=this;return(0,o.Z)(function*(){const E=yield ct(y,y.stsTokenManager.getToken(y.auth,m));return fe(E,y.auth,"internal-error"),y.accessToken!==E&&(y.accessToken=E,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),E})()}getIdTokenResult(m){return function Wn(w){return vi.apply(this,arguments)}(this,m)}reload(){return function vt(w){return rr.apply(this,arguments)}(this)}_assign(m){this!==m&&(fe(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(y=>Object.assign({},y)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new qe(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,y=!1){var E=this;return(0,o.Z)(function*(){let x=!1;m.idToken&&m.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(m),x=!0),y&&(yield ti(E)),yield E.auth._persistUserIfCurrent(E),x&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var m=this;return(0,o.Z)(function*(){const y=yield m.getIdToken();return yield ct(m,function fs(w,m){return wt.apply(this,arguments)}(m.auth,{idToken:y})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,y){var E,x,L,ae,Se,rt,Ct,Wt;const Hn=null!==(E=y.displayName)&&void 0!==E?E:void 0,is=null!==(x=y.email)&&void 0!==x?x:void 0,Nr=null!==(L=y.phoneNumber)&&void 0!==L?L:void 0,pf=null!==(ae=y.photoURL)&&void 0!==ae?ae:void 0,Er=null!==(Se=y.tenantId)&&void 0!==Se?Se:void 0,Pd=null!==(rt=y._redirectEventId)&&void 0!==rt?rt:void 0,kg=null!==(Ct=y.createdAt)&&void 0!==Ct?Ct:void 0,Rg=null!==(Wt=y.lastLoginAt)&&void 0!==Wt?Wt:void 0,{uid:gf,emailVerified:mf,isAnonymous:_f,providerData:Ac,stsTokenManager:yf}=y;fe(gf&&yf,m,"internal-error");const xc=J.fromJSON(this.name,yf);fe("string"==typeof gf,m,"internal-error"),ke(Hn,m.name),ke(is,m.name),fe("boolean"==typeof mf,m,"internal-error"),fe("boolean"==typeof _f,m,"internal-error"),ke(Nr,m.name),ke(pf,m.name),ke(Er,m.name),ke(Pd,m.name),ke(kg,m.name),ke(Rg,m.name);const Nd=new qe({uid:gf,auth:m,email:is,emailVerified:mf,displayName:Hn,isAnonymous:_f,photoURL:pf,phoneNumber:Nr,tenantId:Er,stsTokenManager:xc,createdAt:kg,lastLoginAt:Rg});return Ac&&Array.isArray(Ac)&&(Nd.providerData=Ac.map(gi=>Object.assign({},gi))),Pd&&(Nd._redirectEventId=Pd),Nd}static _fromIdTokenResponse(m,y,E=!1){return(0,o.Z)(function*(){const x=new J;x.updateFromServerResponse(y);const L=new qe({uid:y.localId,auth:m,stsTokenManager:x,isAnonymous:E});return yield ti(L),L})()}}const cn=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(y,E){var x=this;return(0,o.Z)(function*(){x.storage[y]=E})()}_get(y){var E=this;return(0,o.Z)(function*(){const x=E.storage[y];return void 0===x?null:x})()}_remove(y){var E=this;return(0,o.Z)(function*(){delete E.storage[y]})()}_addListener(y,E){}_removeListener(y,E){}}return w.type="NONE",w})();function rn(w,m,y){return`firebase:${w}:${m}:${y}`}class bi{constructor(m,y,E){this.persistence=m,this.auth=y,this.userKey=E;const{config:x,name:L}=this.auth;this.fullUserKey=rn(this.userKey,x.apiKey,L),this.fullPersistenceKey=rn("persistence",x.apiKey,L),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,o.Z)(function*(){const y=yield m.persistence._get(m.fullUserKey);return y?qe._fromJSON(m.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var y=this;return(0,o.Z)(function*(){if(y.persistence===m)return;const E=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=m,E?y.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,y,E="authUser"){return(0,o.Z)(function*(){if(!y.length)return new bi($(cn),m,E);const x=(yield Promise.all(y.map(function(){var Ct=(0,o.Z)(function*(Wt){if(yield Wt._isAvailable())return Wt});return function(Wt){return Ct.apply(this,arguments)}}()))).filter(Ct=>Ct);let L=x[0]||$(cn);const ae=rn(E,m.config.apiKey,m.name);let Se=null;for(const Ct of y)try{const Wt=yield Ct._get(ae);if(Wt){const Hn=qe._fromJSON(m,Wt);Ct!==L&&(Se=Hn),L=Ct;break}}catch(Wt){}const rt=x.filter(Ct=>Ct._shouldAllowMigration);return L._shouldAllowMigration&&rt.length?(L=rt[0],Se&&(yield L._set(ae,Se.toJSON())),yield Promise.all(y.map(function(){var Ct=(0,o.Z)(function*(Wt){if(Wt!==L)try{yield Wt._remove(ae)}catch(Hn){}});return function(Wt){return Ct.apply(this,arguments)}}())),new bi(L,m,E)):new bi(L,m,E)})()}}function se(w){const m=w.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Qe(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(ne(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(At(m))return"Blackberry";if(Qt(m))return"Webos";if(te(m))return"Safari";if((m.includes("chrome/")||Ie(m))&&!m.includes("edge/"))return"Chrome";if(ft(m))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function ne(w=(0,z.z$)()){return/firefox\//i.test(w)}function te(w=(0,z.z$)()){const m=w.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Ie(w=(0,z.z$)()){return/crios\//i.test(w)}function Qe(w=(0,z.z$)()){return/iemobile/i.test(w)}function ft(w=(0,z.z$)()){return/android/i.test(w)}function At(w=(0,z.z$)()){return/blackberry/i.test(w)}function Qt(w=(0,z.z$)()){return/webos/i.test(w)}function Gt(w=(0,z.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function oi(w=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Zi(w=(0,z.z$)()){return Gt(w)||ft(w)||Qt(w)||At(w)||/windows phone/i.test(w)||Qe(w)}function Si(w,m=[]){let y;switch(w){case"Browser":y=se((0,z.z$)());break;case"Worker":y=`${se((0,z.z$)())}-${w}`;break;default:y=w}const E=m.length?m.join(","):"FirebaseCore-web";return`${y}/JsCore/${P.SDK_VERSION}/${E}`}class tl{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,y){const E=L=>new Promise((ae,Se)=>{try{ae(m(L))}catch(rt){Se(rt)}});E.onAbort=y,this.queue.push(E);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(m){var y=this;return(0,o.Z)(function*(){var E;if(y.auth.currentUser===m)return;const x=[];try{for(const L of y.queue)yield L(m),L.onAbort&&x.push(L.onAbort)}catch(L){x.reverse();for(const ae of x)try{ae()}catch(Se){}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=L)||void 0===E?void 0:E.message})}})()}}class yr{constructor(m,y,E){this.app=m,this.heartbeatServiceProvider=y,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ht(this),this.idTokenSubscription=new Ht(this),this.beforeStateQueue=new tl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(m,y){var E=this;return y&&(this._popupRedirectResolver=$(y)),this._initializationPromise=this.queue((0,o.Z)(function*(){var x,L;if(!E._deleted&&(E.persistenceManager=yield bi.create(E,m),!E._deleted)){if(null===(x=E._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(ae){}yield E.initializeCurrentUser(y),E.lastNotifiedUid=(null===(L=E.currentUser)||void 0===L?void 0:L.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,o.Z)(function*(){if(m._deleted)return;const y=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||y){if(m.currentUser&&y&&m.currentUser.uid===y.uid)return m._currentUser._assign(y),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(y,!0)}})()}initializeCurrentUser(m){var y=this;return(0,o.Z)(function*(){var E;const x=yield y.assertedPersistence.getCurrentUser();let L=x,ae=!1;if(m&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Se=null===(E=y.redirectUser)||void 0===E?void 0:E._redirectEventId,rt=null==L?void 0:L._redirectEventId,Ct=yield y.tryRedirectSignIn(m);(!Se||Se===rt)&&(null==Ct?void 0:Ct.user)&&(L=Ct.user,ae=!0)}if(!L)return y.directlySetCurrentUser(null);if(!L._redirectEventId){if(ae)try{yield y.beforeStateQueue.runMiddleware(L)}catch(Se){L=x,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Se))}return L?y.reloadAndSetCurrentUserOrClear(L):y.directlySetCurrentUser(null)}return fe(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===L._redirectEventId?y.directlySetCurrentUser(L):y.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(m){var y=this;return(0,o.Z)(function*(){let E=null;try{E=yield y._popupRedirectResolver._completeRedirectFn(y,m,!0)}catch(x){yield y._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(m){var y=this;return(0,o.Z)(function*(){var E;try{yield ti(m)}catch(x){if("auth/network-request-failed"!==(null===(E=x)||void 0===E?void 0:E.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Fe(){if("undefined"==typeof navigator)return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var m=this;return(0,o.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var y=this;return(0,o.Z)(function*(){const E=m?(0,z.m9)(m):null;return E&&fe(E.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(E&&E._clone(y))})()}_updateCurrentUser(m,y=!1){var E=this;return(0,o.Z)(function*(){if(!E._deleted)return m&&fe(E.tenantId===m.tenantId,E,"tenant-id-mismatch"),y||(yield E.beforeStateQueue.runMiddleware(m)),E.queue((0,o.Z)(function*(){yield E.directlySetCurrentUser(m),E.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,o.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var y=this;return this.queue((0,o.Z)(function*(){yield y.assertedPersistence.setPersistence($(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new z.LL("auth","Firebase",m())}onAuthStateChanged(m,y,E){return this.registerStateListener(this.authStateSubscription,m,y,E)}beforeAuthStateChanged(m,y){return this.beforeStateQueue.pushCallback(m,y)}onIdTokenChanged(m,y,E){return this.registerStateListener(this.idTokenSubscription,m,y,E)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,y){var E=this;return(0,o.Z)(function*(){const x=yield E.getOrInitRedirectPersistenceManager(y);return null===m?x.removeCurrentUser():x.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var y=this;return(0,o.Z)(function*(){if(!y.redirectPersistenceManager){const E=m&&$(m)||y._popupRedirectResolver;fe(E,y,"argument-error"),y.redirectPersistenceManager=yield bi.create(y,[$(E._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(m){var y=this;return(0,o.Z)(function*(){var E,x;return y._isInitialized&&(yield y.queue((0,o.Z)(function*(){}))),(null===(E=y._currentUser)||void 0===E?void 0:E._redirectEventId)===m?y._currentUser:(null===(x=y.redirectUser)||void 0===x?void 0:x._redirectEventId)===m?y.redirectUser:null})()}_persistUserIfCurrent(m){var y=this;return(0,o.Z)(function*(){if(m===y.currentUser)return y.queue((0,o.Z)(function*(){return y.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(y=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,y,E,x){if(this._deleted)return()=>{};const L="function"==typeof y?y:y.next.bind(y),ae=this._isInitialized?Promise.resolve():this._initializationPromise;return fe(ae,this,"internal-error"),ae.then(()=>L(this.currentUser)),"function"==typeof y?m.addObserver(y,E,x):m.addObserver(y)}directlySetCurrentUser(m){var y=this;return(0,o.Z)(function*(){y.currentUser&&y.currentUser!==m&&(y._currentUser._stopProactiveRefresh(),m&&y.isProactiveRefreshEnabled&&m._startProactiveRefresh()),y.currentUser=m,m?yield y.assertedPersistence.setCurrentUser(m):yield y.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Si(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,o.Z)(function*(){var y;const E={"X-Client-Version":m.clientVersion};m.app.options.appId&&(E["X-Firebase-gmpid"]=m.app.options.appId);const x=yield null===(y=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return x&&(E["X-Firebase-Client"]=x),E})()}}function $e(w){return(0,z.m9)(w)}class Ht{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,z.ne)(y=>this.observer=y)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Nn(w,m,y){const E=$e(w);fe(E._canInitEmulator,E,"emulator-config-failed"),fe(/^https?:\/\//.test(m),E,"invalid-emulator-scheme");const x=!!(null==y?void 0:y.disableWarnings),L=sr(m),{host:ae,port:Se}=function Ps(w){const m=sr(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(m.length));if(!y)return{host:"",port:null};const E=y[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(E);if(x){const L=x[1];return{host:L,port:ai(E.substr(L.length+1))}}{const[L,ae]=E.split(":");return{host:L,port:ai(ae)}}}(m);E.config.emulator={url:`${L}//${ae}${null===Se?"":`:${Se}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ae,port:Se,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function Ns(){function w(){const m=document.createElement("p"),y=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function sr(w){const m=w.indexOf(":");return m<0?"":w.substr(0,m+1)}function ai(w){if(!w)return null;const m=Number(w);return isNaN(m)?null:m}class bn{constructor(m,y){this.providerId=m,this.signInMethod=y}toJSON(){return ve("not implemented")}_getIdTokenResponse(m){return ve("not implemented")}_linkToIdToken(m,y){return ve("not implemented")}_getReauthenticationResolver(m){return ve("not implemented")}}function Bo(w,m){return ni.apply(this,arguments)}function ni(){return(ni=(0,o.Z)(function*(w,m){return pn(w,"POST","/v1/accounts:resetPassword",zt(w,m))})).apply(this,arguments)}function Ft(w,m){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,o.Z)(function*(w,m){return pn(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function xr(w,m){return ua.apply(this,arguments)}function ua(){return(ua=(0,o.Z)(function*(w,m){return pn(w,"POST","/v1/accounts:update",zt(w,m))})).apply(this,arguments)}function Vn(){return(Vn=(0,o.Z)(function*(w,m){return Kn(w,"POST","/v1/accounts:signInWithPassword",zt(w,m))})).apply(this,arguments)}function fo(w,m){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,o.Z)(function*(w,m){return pn(w,"POST","/v1/accounts:sendOobCode",zt(w,m))})).apply(this,arguments)}function Un(w,m){return En.apply(this,arguments)}function En(){return(En=(0,o.Z)(function*(w,m){return fo(w,m)})).apply(this,arguments)}function sd(w,m){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,o.Z)(function*(w,m){return fo(w,m)})).apply(this,arguments)}function or(w,m){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,o.Z)(function*(w,m){return fo(w,m)})).apply(this,arguments)}function su(w,m){return ic.apply(this,arguments)}function ic(){return(ic=(0,o.Z)(function*(w,m){return fo(w,m)})).apply(this,arguments)}function kr(){return(kr=(0,o.Z)(function*(w,m){return Kn(w,"POST","/v1/accounts:signInWithEmailLink",zt(w,m))})).apply(this,arguments)}function ad(){return(ad=(0,o.Z)(function*(w,m){return Kn(w,"POST","/v1/accounts:signInWithEmailLink",zt(w,m))})).apply(this,arguments)}class rc extends bn{constructor(m,y,E,x=null){super("password",E),this._email=m,this._password=y,this._tenantId=x}static _fromEmailAndPassword(m,y){return new rc(m,y,"password")}static _fromEmailAndCode(m,y,E=null){return new rc(m,y,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(m){var y=this;return(0,o.Z)(function*(){switch(y.signInMethod){case"password":return function da(w,m){return Vn.apply(this,arguments)}(m,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function po(w,m){return kr.apply(this,arguments)}(m,{email:y._email,oobCode:y._password});default:Le(m,"internal-error")}})()}_linkToIdToken(m,y){var E=this;return(0,o.Z)(function*(){switch(E.signInMethod){case"password":return Ft(m,{idToken:y,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function od(w,m){return ad.apply(this,arguments)}(m,{idToken:y,email:E._email,oobCode:E._password});default:Le(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function fi(w,m){return ld.apply(this,arguments)}function ld(){return(ld=(0,o.Z)(function*(w,m){return Kn(w,"POST","/v1/accounts:signInWithIdp",zt(w,m))})).apply(this,arguments)}class Fs extends bn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const y=new Fs(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(y.idToken=m.idToken),m.accessToken&&(y.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(y.nonce=m.nonce),m.pendingToken&&(y.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(y.accessToken=m.oauthToken,y.secret=m.oauthTokenSecret):Le("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:x}=y,L=(0,de._T)(y,["providerId","signInMethod"]);if(!E||!x)return null;const ae=new Fs(E,x);return ae.idToken=L.idToken||void 0,ae.accessToken=L.accessToken||void 0,ae.secret=L.secret,ae.nonce=L.nonce,ae.pendingToken=L.pendingToken||null,ae}_getIdTokenResponse(m){return fi(m,this.buildRequest())}_linkToIdToken(m,y){const E=this.buildRequest();return E.idToken=y,fi(m,E)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,fi(m,y)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),m.postBody=(0,z.xO)(y)}return m}}function cg(w,m){return cd.apply(this,arguments)}function cd(){return(cd=(0,o.Z)(function*(w,m){return pn(w,"POST","/v1/accounts:sendVerificationCode",zt(w,m))})).apply(this,arguments)}function nl(){return(nl=(0,o.Z)(function*(w,m){return Kn(w,"POST","/v1/accounts:signInWithPhoneNumber",zt(w,m))})).apply(this,arguments)}function ud(){return(ud=(0,o.Z)(function*(w,m){const y=yield Kn(w,"POST","/v1/accounts:signInWithPhoneNumber",zt(w,m));if(y.temporaryProof)throw ei(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const dg={USER_NOT_FOUND:"user-not-found"};function hd(){return(hd=(0,o.Z)(function*(w,m){return Kn(w,"POST","/v1/accounts:signInWithPhoneNumber",zt(w,Object.assign(Object.assign({},m),{operation:"REAUTH"})),dg)})).apply(this,arguments)}class fa extends bn{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,y){return new fa({verificationId:m,verificationCode:y})}static _fromTokenResponse(m,y){return new fa({phoneNumber:m,temporaryProof:y})}_getIdTokenResponse(m){return function ug(w,m){return nl.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,y){return function ha(w,m){return ud.apply(this,arguments)}(m,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function dd(w,m){return hd.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:y,verificationId:E,verificationCode:x}=this.params;return m&&y?{temporaryProof:m,phoneNumber:y}:{sessionInfo:E,code:x}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:y,verificationCode:E,phoneNumber:x,temporaryProof:L}=m;return E||y||x||L?new fa({verificationId:y,verificationCode:E,phoneNumber:x,temporaryProof:L}):null}}class Ls{constructor(m){var y,E,x,L,ae,Se;const rt=(0,z.zd)((0,z.pd)(m)),Ct=null!==(y=rt.apiKey)&&void 0!==y?y:null,Wt=null!==(E=rt.oobCode)&&void 0!==E?E:null,Hn=function hg(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=rt.mode)&&void 0!==x?x:null);fe(Ct&&Wt&&Hn,"argument-error"),this.apiKey=Ct,this.operation=Hn,this.code=Wt,this.continueUrl=null!==(L=rt.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(ae=rt.languageCode)&&void 0!==ae?ae:null,this.tenantId=null!==(Se=rt.tenantId)&&void 0!==Se?Se:null}static parseLink(m){const y=function Jh(w){const m=(0,z.zd)((0,z.pd)(w)).link,y=m?(0,z.zd)((0,z.pd)(m)).deep_link_id:null,E=(0,z.zd)((0,z.pd)(w)).deep_link_id;return(E?(0,z.zd)((0,z.pd)(E)).link:null)||E||y||m||w}(m);try{return new Ls(y)}catch(E){return null}}}let il=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,E){return rc._fromEmailAndPassword(y,E)}static credentialWithLink(y,E){const x=Ls.parseLink(E);return fe(x,"argument-error"),rc._fromEmailAndCode(y,x.code,x.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class go{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Rr extends go{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class pa extends Rr{static credentialFromJSON(m){const y="string"==typeof m?JSON.parse(m):m;return fe("providerId"in y&&"signInMethod"in y,"argument-error"),Fs._fromParams(y)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return fe(m.idToken||m.accessToken,"argument-error"),Fs._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return pa.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return pa.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:y,oauthAccessToken:E,oauthTokenSecret:x,pendingToken:L,nonce:ae,providerId:Se}=m;if(!E&&!x&&!y&&!L||!Se)return null;try{return new pa(Se)._credential({idToken:y,accessToken:E,nonce:ae,pendingToken:L})}catch(rt){return null}}}let rl=(()=>{class w extends Rr{constructor(){super("facebook.com")}static credential(y){return Fs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(E){return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),sl=(()=>{class w extends Rr{constructor(){super("google.com"),this.addScope("profile")}static credential(y,E){return Fs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:E})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:x}=y;if(!E&&!x)return null;try{return w.credential(E,x)}catch(L){return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Xh=(()=>{class w extends Rr{constructor(){super("github.com")}static credential(y){return Fs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(E){return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Vi extends bn{constructor(m,y){super(m,m),this.pendingToken=y}_getIdTokenResponse(m){return fi(m,this.buildRequest())}_linkToIdToken(m,y){const E=this.buildRequest();return E.idToken=y,fi(m,E)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,fi(m,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:x,pendingToken:L}=y;return E&&x&&L&&E===x?new Vi(E,L):null}static _create(m,y){return new Vi(m,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Bs extends go{constructor(m){fe(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Bs.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Bs.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const y=Vi.fromJSON(m);return fe(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:y,providerId:E}=m;if(!y||!E)return null;try{return Vi._create(E,y)}catch(x){return null}}}let Qr=(()=>{class w extends Rr{constructor(){super("twitter.com")}static credential(y,E){return Fs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:E})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:E,oauthTokenSecret:x}=y;if(!E||!x)return null;try{return w.credential(E,x)}catch(L){return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function pd(w,m){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,o.Z)(function*(w,m){return Kn(w,"POST","/v1/accounts:signUp",zt(w,m))})).apply(this,arguments)}class Ki{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,y,E,x=!1){return(0,o.Z)(function*(){const L=yield qe._fromIdTokenResponse(m,E,x),ae=gd(E);return new Ki({user:L,providerId:ae,_tokenResponse:E,operationType:y})})()}static _forOperation(m,y,E){return(0,o.Z)(function*(){yield m._updateTokensIfNecessary(E,!0);const x=gd(E);return new Ki({user:m,providerId:x,_tokenResponse:E,operationType:y})})()}}function gd(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function md(w){return sc.apply(this,arguments)}function sc(){return(sc=(0,o.Z)(function*(w){var m;const y=$e(w);if(yield y._initializationPromise,null===(m=y.currentUser)||void 0===m?void 0:m.isAnonymous)return new Ki({user:y.currentUser,providerId:null,operationType:"signIn"});const E=yield pd(y,{returnSecureToken:!0}),x=yield Ki._fromIdTokenResponse(y,"signIn",E,!0);return yield y._updateCurrentUser(x.user),x})).apply(this,arguments)}class oc extends z.ZR{constructor(m,y,E,x){var L;super(y.code,y.message),this.operationType=E,this.user=x,Object.setPrototypeOf(this,oc.prototype),this.customData={appName:m.name,tenantId:null!==(L=m.tenantId)&&void 0!==L?L:void 0,_serverResponse:y.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(m,y,E,x){return new oc(m,y,E,x)}}function ac(w,m,y,E){return("reauthenticate"===m?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?oc._fromErrorAndOperation(w,L,m,E):L})}function ou(w){return new Set(w.map(({providerId:m})=>m).filter(m=>!!m))}function Vs(w,m){return au.apply(this,arguments)}function au(){return(au=(0,o.Z)(function*(w,m){const y=(0,z.m9)(w);yield mo(!0,y,m);const{providerUserInfo:E}=yield Wi(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[m]}),x=ou(E||[]);return y.providerData=y.providerData.filter(L=>x.has(L.providerId)),x.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function On(w,m){return ol.apply(this,arguments)}function ol(){return(ol=(0,o.Z)(function*(w,m,y=!1){const E=yield ct(w,m._linkToIdToken(w.auth,yield w.getIdToken()),y);return Ki._forOperation(w,"link",E)})).apply(this,arguments)}function mo(w,m,y){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,o.Z)(function*(w,m,y){yield ti(m);const x=!1===w?"provider-already-linked":"no-such-provider";fe(ou(m.providerData).has(y)===w,m.auth,x)})).apply(this,arguments)}function lc(w,m){return al.apply(this,arguments)}function al(){return(al=(0,o.Z)(function*(w,m,y=!1){var E;const{auth:x}=w,L="reauthenticate";try{const ae=yield ct(w,ac(x,L,m,w),y);fe(ae.idToken,x,"internal-error");const Se=qt(ae.idToken);fe(Se,x,"internal-error");const{sub:rt}=Se;return fe(w.uid===rt,x,"user-mismatch"),Ki._forOperation(w,L,ae)}catch(ae){throw"auth/user-not-found"===(null===(E=ae)||void 0===E?void 0:E.code)&&Le(x,"user-mismatch"),ae}})).apply(this,arguments)}function jo(w,m){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,o.Z)(function*(w,m,y=!1){const E="signIn",x=yield ac(w,E,m),L=yield Ki._fromIdTokenResponse(w,E,x);return y||(yield w._updateCurrentUser(L.user)),L})).apply(this,arguments)}function cc(w,m){return ii.apply(this,arguments)}function ii(){return(ii=(0,o.Z)(function*(w,m){return jo($e(w),m)})).apply(this,arguments)}function Us(w,m){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,o.Z)(function*(w,m){const y=(0,z.m9)(w);return yield mo(!1,y,m.providerId),On(y,m)})).apply(this,arguments)}function ga(w,m){return gs.apply(this,arguments)}function gs(){return(gs=(0,o.Z)(function*(w,m){return lc((0,z.m9)(w),m)})).apply(this,arguments)}function lu(w,m){return vr.apply(this,arguments)}function vr(){return(vr=(0,o.Z)(function*(w,m){return Kn(w,"POST","/v1/accounts:signInWithCustomToken",zt(w,m))})).apply(this,arguments)}function _o(w,m){return yo.apply(this,arguments)}function yo(){return(yo=(0,o.Z)(function*(w,m){const y=$e(w),E=yield lu(y,{token:m,returnSecureToken:!0}),x=yield Ki._fromIdTokenResponse(y,"signIn",E);return yield y._updateCurrentUser(x.user),x})).apply(this,arguments)}class Et{constructor(m,y){this.factorId=m,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(m,y){return"phoneInfo"in y?ll._fromServerResponse(m,y):Le(m,"internal-error")}}class ll extends Et{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,y){return new ll(y)}}function cl(w,m,y){var E;fe((null===(E=y.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),fe(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),m.continueUrl=y.url,m.dynamicLinkDomain=y.dynamicLinkDomain,m.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(fe(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),m.iOSBundleId=y.iOS.bundleId),y.android&&(fe(y.android.packageName.length>0,w,"missing-android-pkg-name"),m.androidInstallApp=y.android.installApp,m.androidMinimumVersionCode=y.android.minimumVersion,m.androidPackageName=y.android.packageName)}function _d(w,m,y){return ul.apply(this,arguments)}function ul(){return(ul=(0,o.Z)(function*(w,m,y){const E=(0,z.m9)(w),x={requestType:"PASSWORD_RESET",email:m};y&&cl(E,x,y),yield sd(E,x)})).apply(this,arguments)}function cu(w,m,y){return dl.apply(this,arguments)}function dl(){return(dl=(0,o.Z)(function*(w,m,y){yield Bo((0,z.m9)(w),{oobCode:m,newPassword:y})})).apply(this,arguments)}function ef(w,m){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,o.Z)(function*(w,m){yield xr((0,z.m9)(w),{oobCode:m})})).apply(this,arguments)}function Yt(w,m){return hl.apply(this,arguments)}function hl(){return(hl=(0,o.Z)(function*(w,m){const y=(0,z.m9)(w),E=yield Bo(y,{oobCode:m}),x=E.requestType;switch(fe(x,y,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":fe(E.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":fe(E.mfaInfo,y,"internal-error");default:fe(E.email,y,"internal-error")}let L=null;return E.mfaInfo&&(L=Et._fromServerResponse($e(y),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:L},operation:x}})).apply(this,arguments)}function Jn(w,m){return vo.apply(this,arguments)}function vo(){return(vo=(0,o.Z)(function*(w,m){const{data:y}=yield Yt((0,z.m9)(w),m);return y.email})).apply(this,arguments)}function fl(w,m,y){return ar.apply(this,arguments)}function ar(){return(ar=(0,o.Z)(function*(w,m,y){const E=$e(w),x=yield pd(E,{returnSecureToken:!0,email:m,password:y}),L=yield Ki._fromIdTokenResponse(E,"signIn",x);return yield E._updateCurrentUser(L.user),L})).apply(this,arguments)}function uu(w,m,y){return cc((0,z.m9)(w),il.credential(m,y))}function du(w,m,y){return yd.apply(this,arguments)}function yd(){return(yd=(0,o.Z)(function*(w,m,y){const E=(0,z.m9)(w),x={requestType:"EMAIL_SIGNIN",email:m};fe(y.handleCodeInApp,E,"argument-error"),y&&cl(E,x,y),yield or(E,x)})).apply(this,arguments)}function vd(w,m){const y=Ls.parseLink(m);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}function pl(w,m,y){return ma.apply(this,arguments)}function ma(){return(ma=(0,o.Z)(function*(w,m,y){const E=(0,z.m9)(w),x=il.credentialWithLink(m,y||W());return fe(x._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),cc(E,x)})).apply(this,arguments)}function wi(w,m){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,o.Z)(function*(w,m){return pn(w,"POST","/v1/accounts:createAuthUri",zt(w,m))})).apply(this,arguments)}function hu(w,m){return ms.apply(this,arguments)}function ms(){return(ms=(0,o.Z)(function*(w,m){const E={identifier:m,continueUri:He()?W():"http://localhost"},{signinMethods:x}=yield wi((0,z.m9)(w),E);return x||[]})).apply(this,arguments)}function Hs(w,m){return gl.apply(this,arguments)}function gl(){return(gl=(0,o.Z)(function*(w,m){const y=(0,z.m9)(w),x={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};m&&cl(y.auth,x,m);const{email:L}=yield Un(y.auth,x);L!==w.email&&(yield w.reload())})).apply(this,arguments)}function bd(w,m,y){return ml.apply(this,arguments)}function ml(){return(ml=(0,o.Z)(function*(w,m,y){const E=(0,z.m9)(w),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:m};y&&cl(E.auth,L,y);const{email:ae}=yield su(E.auth,L);ae!==w.email&&(yield w.reload())})).apply(this,arguments)}function wd(w,m){return zo.apply(this,arguments)}function zo(){return(zo=(0,o.Z)(function*(w,m){return pn(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function uc(w,m){return _l.apply(this,arguments)}function _l(){return(_l=(0,o.Z)(function*(w,{displayName:m,photoURL:y}){if(void 0===m&&void 0===y)return;const E=(0,z.m9)(w),L={idToken:yield E.getIdToken(),displayName:m,photoUrl:y,returnSecureToken:!0},ae=yield ct(E,wd(E.auth,L));E.displayName=ae.displayName||null,E.photoURL=ae.photoUrl||null;const Se=E.providerData.find(({providerId:rt})=>"password"===rt);Se&&(Se.displayName=E.displayName,Se.photoURL=E.photoURL),yield E._updateTokensIfNecessary(ae)})).apply(this,arguments)}function fu(w,m){return dc((0,z.m9)(w),m,null)}function pg(w,m){return dc((0,z.m9)(w),null,m)}function dc(w,m,y){return Go.apply(this,arguments)}function Go(){return(Go=(0,o.Z)(function*(w,m,y){const{auth:E}=w,L={idToken:yield w.getIdToken(),returnSecureToken:!0};m&&(L.email=m),y&&(L.password=y);const ae=yield ct(w,Ft(E,L));yield w._updateTokensIfNecessary(ae,!0)})).apply(this,arguments)}class $o{constructor(m,y,E={}){this.isNewUser=m,this.providerId=y,this.profile=E}}class Cd extends $o{constructor(m,y,E,x){super(m,y,E),this.username=x}}class tf extends $o{constructor(m,y){super(m,"facebook.com",y)}}class _a extends Cd{constructor(m,y){super(m,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class _s extends $o{constructor(m,y){super(m,"google.com",y)}}class nf extends Cd{constructor(m,y,E){super(m,"twitter.com",y,E)}}function xi(w){const{user:m,_tokenResponse:y}=w;return m.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function pu(w){var m,y;if(!w)return null;const{providerId:E}=w,x=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},L=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&(null==w?void 0:w.idToken)){const ae=null===(y=null===(m=qt(w.idToken))||void 0===m?void 0:m.firebase)||void 0===y?void 0:y.sign_in_provider;if(ae)return new $o(L,"anonymous"!==ae&&"custom"!==ae?ae:null)}if(!E)return null;switch(E){case"facebook.com":return new tf(L,x);case"github.com":return new _a(L,x);case"google.com":return new _s(L,x);case"twitter.com":return new nf(L,x,w.screenName||null);case"custom":case"anonymous":return new $o(L,null);default:return new $o(L,E,x)}}(y)}class zs{constructor(m,y){this.type=m,this.credential=y}static _fromIdtoken(m){return new zs("enroll",m)}static _fromMfaPendingCredential(m){return new zs("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var y,E;if(null==m?void 0:m.multiFactorSession){if(null===(y=m.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return zs._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(E=m.multiFactorSession)||void 0===E?void 0:E.idToken)return zs._fromIdtoken(m.multiFactorSession.idToken)}return null}}class vl{constructor(m,y,E){this.session=m,this.hints=y,this.signInResolver=E}static _fromError(m,y){const E=$e(m),x=y.customData._serverResponse,L=(x.mfaInfo||[]).map(Se=>Et._fromServerResponse(E,Se));fe(x.mfaPendingCredential,E,"internal-error");const ae=zs._fromMfaPendingCredential(x.mfaPendingCredential);return new vl(ae,L,function(){var Se=(0,o.Z)(function*(rt){const Ct=yield rt._process(E,ae);delete x.mfaInfo,delete x.mfaPendingCredential;const Wt=Object.assign(Object.assign({},x),{idToken:Ct.idToken,refreshToken:Ct.refreshToken});switch(y.operationType){case"signIn":const Hn=yield Ki._fromIdTokenResponse(E,y.operationType,Wt);return yield E._updateCurrentUser(Hn.user),Hn;case"reauthenticate":return fe(y.user,E,"internal-error"),Ki._forOperation(y.user,y.operationType,Wt);default:Le(E,"internal-error")}});return function(rt){return Se.apply(this,arguments)}}())}resolveSignIn(m){var y=this;return(0,o.Z)(function*(){return y.signInResolver(m)})()}}function hc(w,m){var y;const E=(0,z.m9)(w),x=m;return fe(m.customData.operationType,E,"argument-error"),fe(null===(y=x.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,E,"argument-error"),vl._fromError(E,x)}function ki(w,m){return pn(w,"POST","/v2/accounts/mfaEnrollment:start",zt(w,m))}class ya{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(E=>Et._fromServerResponse(m.auth,E)))})}static _fromUser(m){return new ya(m)}getSession(){var m=this;return(0,o.Z)(function*(){return zs._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,y){var E=this;return(0,o.Z)(function*(){const x=m,L=yield E.getSession(),ae=yield ct(E.user,x._process(E.user.auth,L,y));return yield E.user._updateTokensIfNecessary(ae),E.user.reload()})()}unenroll(m){var y=this;return(0,o.Z)(function*(){var E;const x="string"==typeof m?m:m.uid,L=yield y.user.getIdToken(),ae=yield ct(y.user,function Wo(w,m){return pn(w,"POST","/v2/accounts/mfaEnrollment:withdraw",zt(w,m))}(y.user.auth,{idToken:L,mfaEnrollmentId:x}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Se})=>Se!==x),yield y.user._updateTokensIfNecessary(ae);try{yield y.user.reload()}catch(Se){if("auth/user-token-expired"!==(null===(E=Se)||void 0===E?void 0:E.code))throw Se}})()}}const Dd=new WeakMap;function Td(w){const m=(0,z.m9)(w);return Dd.has(m)||Dd.set(m,ya._fromUser(m)),Dd.get(m)}const Xr="__sak";class va{constructor(m,y){this.storageRetriever=m,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Xr,"1"),this.storage.removeItem(Xr),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,y){return this.storage.setItem(m,JSON.stringify(y)),Promise.resolve()}_get(m){const y=this.storage.getItem(m);return Promise.resolve(y?JSON.parse(y):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qn=(()=>{class w extends va{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,E)=>this.onStorageEvent(y,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Id(){const w=(0,z.z$)();return te(w)||Gt(w)}()&&function ps(){try{return!(!window||window===window.top)}catch(w){return!1}}(),this.fallbackToPolling=Zi(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const E of Object.keys(this.listeners)){const x=this.storage.getItem(E),L=this.localCache[E];x!==L&&y(E,L,x)}}onStorageEvent(y,E=!1){if(!y.key)return void this.forAllChangedKeys((Se,rt,Ct)=>{this.notifyListeners(Se,Ct)});const x=y.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Se=this.storage.getItem(x);if(y.newValue!==Se)null!==y.newValue?this.storage.setItem(x,y.newValue):this.storage.removeItem(x);else if(this.localCache[x]===y.newValue&&!E)return}const L=()=>{const Se=this.storage.getItem(x);!E&&this.localCache[x]===Se||this.notifyListeners(x,Se)},ae=this.storage.getItem(x);!function $t(){return(0,z.w1)()&&10===document.documentMode}()||ae===y.newValue||y.newValue===y.oldValue?L():setTimeout(L,10)}notifyListeners(y,E){this.localCache[y]=E;const x=this.listeners[y];if(x)for(const L of Array.from(x))L(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,E,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:E,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,E){var x=()=>super._set,L=this;return(0,o.Z)(function*(){yield x().call(L,y,E),L.localCache[y]=JSON.stringify(E)})()}_get(y){var E=()=>super._get,x=this;return(0,o.Z)(function*(){const L=yield E().call(x,y);return x.localCache[y]=JSON.stringify(L),L})()}_remove(y){var E=()=>super._remove,x=this;return(0,o.Z)(function*(){yield E().call(x,y),delete x.localCache[y]})()}}return w.type="LOCAL",w})(),at=(()=>{class w extends va{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,E){}_removeListener(y,E){}}return w.type="SESSION",w})();let Qi=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const E=this.receivers.find(L=>L.isListeningto(y));if(E)return E;const x=new w(y);return this.receivers.push(x),x}isListeningto(y){return this.eventTarget===y}handleEvent(y){var E=this;return(0,o.Z)(function*(){const x=y,{eventId:L,eventType:ae,data:Se}=x.data,rt=E.handlersMap[ae];if(!(null==rt?void 0:rt.size))return;x.ports[0].postMessage({status:"ack",eventId:L,eventType:ae});const Ct=Array.from(rt).map(function(){var Hn=(0,o.Z)(function*(is){return is(x.origin,Se)});return function(is){return Hn.apply(this,arguments)}}()),Wt=yield function gn(w){return Promise.all(w.map(function(){var m=(0,o.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(E){return{fulfilled:!1,reason:E}}});return function(y){return m.apply(this,arguments)}}()))}(Ct);x.ports[0].postMessage({status:"done",eventId:L,eventType:ae,response:Wt})})()}_subscribe(y,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(E)}_unsubscribe(y,E){this.handlersMap[y]&&E&&this.handlersMap[y].delete(E),(!E||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Gs(w="",m=10){let y="";for(let E=0;E<m;E++)y+=Math.floor(10*Math.random());return w+y}class br{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,y,E=50){var x=this;return(0,o.Z)(function*(){const L="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let ae,Se;return new Promise((rt,Ct)=>{const Wt=Gs("",20);L.port1.start();const Hn=setTimeout(()=>{Ct(new Error("unsupported_event"))},E);Se={messageChannel:L,onMessage(is){const Nr=is;if(Nr.data.eventId===Wt)switch(Nr.data.status){case"ack":clearTimeout(Hn),ae=setTimeout(()=>{Ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(ae),rt(Nr.data.response);break;default:clearTimeout(Hn),clearTimeout(ae),Ct(new Error("invalid_response"))}}},x.handlers.add(Se),L.port1.addEventListener("message",Se.onMessage),x.target.postMessage({eventType:m,eventId:Wt,data:y},[L.port2])}).finally(()=>{Se&&x.removeMessageHandler(Se)})})()}}function Vt(){return window}function yn(){return void 0!==Vt().WorkerGlobalScope&&"function"==typeof Vt().importScripts}function pc(){return(pc=(0,o.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(w){return null}})).apply(this,arguments)}const mc="firebaseLocalStorageDb",es="firebaseLocalStorage",un="fbase_key";class Tn{constructor(m){this.request=m}toPromise(){return new Promise((m,y)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function ys(w,m){return w.transaction([es],m?"readwrite":"readonly").objectStore(es)}function wl(){const w=indexedDB.open(mc,1);return new Promise((m,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(es,{keyPath:un})}catch(x){y(x)}}),w.addEventListener("success",(0,o.Z)(function*(){const E=w.result;E.objectStoreNames.contains(es)?m(E):(E.close(),yield function bl(){const w=indexedDB.deleteDatabase(mc);return new Tn(w).toPromise()}(),m(yield wl()))}))})}function bo(w,m,y){return Or.apply(this,arguments)}function Or(){return(Or=(0,o.Z)(function*(w,m,y){const E=ys(w,!0).put({[un]:m,value:y});return new Tn(E).toPromise()})).apply(this,arguments)}function qo(){return(qo=(0,o.Z)(function*(w,m){const y=ys(w,!1).get(m),E=yield new Tn(y).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function ba(w,m){const y=ys(w,!0).delete(m);return new Tn(y).toPromise()}const $s=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,o.Z)(function*(){return y.db||(y.db=yield wl()),y.db})()}_withRetries(y){var E=this;return(0,o.Z)(function*(){let x=0;for(;;)try{const L=yield E._openDb();return yield y(L)}catch(L){if(x++>3)throw L;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,o.Z)(function*(){return yn()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,o.Z)(function*(){y.receiver=Qi._getInstance(function gc(){return yn()?self:null}()),y.receiver._subscribe("keyChanged",function(){var E=(0,o.Z)(function*(x,L){return{keyProcessed:(yield y._poll()).includes(L.key)}});return function(x,L){return E.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var E=(0,o.Z)(function*(x,L){return["keyChanged"]});return function(x,L){return E.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,o.Z)(function*(){var E,x;if(y.activeServiceWorker=yield function ut(){return pc.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new br(y.activeServiceWorker);const L=yield y.sender._send("ping",{},800);!L||(null===(E=L[0])||void 0===E?void 0:E.fulfilled)&&(null===(x=L[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var E=this;return(0,o.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function gu(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:y},E.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const y=yield wl();return yield bo(y,Xr,"1"),yield ba(y,Xr),!0}catch(y){}return!1})()}_withPendingWrite(y){var E=this;return(0,o.Z)(function*(){E.pendingWrites++;try{yield y()}finally{E.pendingWrites--}})()}_set(y,E){var x=this;return(0,o.Z)(function*(){return x._withPendingWrite((0,o.Z)(function*(){return yield x._withRetries(L=>bo(L,y,E)),x.localCache[y]=E,x.notifyServiceWorker(y)}))})()}_get(y){var E=this;return(0,o.Z)(function*(){const x=yield E._withRetries(L=>function lr(w,m){return qo.apply(this,arguments)}(L,y));return E.localCache[y]=x,x})()}_remove(y){var E=this;return(0,o.Z)(function*(){return E._withPendingWrite((0,o.Z)(function*(){return yield E._withRetries(x=>ba(x,y)),delete E.localCache[y],E.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,o.Z)(function*(){const E=yield y._withRetries(ae=>{const Se=ys(ae,!1).getAll();return new Tn(Se).toPromise()});if(!E)return[];if(0!==y.pendingWrites)return[];const x=[],L=new Set;for(const{fbase_key:ae,value:Se}of E)L.add(ae),JSON.stringify(y.localCache[ae])!==JSON.stringify(Se)&&(y.notifyListeners(ae,Se),x.push(ae));for(const ae of Object.keys(y.localCache))y.localCache[ae]&&!L.has(ae)&&(y.notifyListeners(ae,null),x.push(ae));return x})()}notifyListeners(y,E){this.localCache[y]=E;const x=this.listeners[y];if(x)for(const L of Array.from(x))L(E)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function _u(w,m){return pn(w,"POST","/v2/accounts/mfaSignIn:start",zt(w,m))}function cr(){return(cr=(0,o.Z)(function*(w){return(yield pn(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Cl(w){return new Promise((m,y)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=m,E.onerror=x=>{const L=Ne("internal-error");L.customData=x,y(L)},E.type="text/javascript",E.charset="UTF-8",function _c(){var w,m;return null!==(m=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==m?m:document}().appendChild(E)})}function bs(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Pr=1e12;class yc{constructor(m){this.auth=m,this.counter=Pr,this._widgets=new Map}render(m,y){const E=this.counter;return this._widgets.set(E,new vc(m,this.auth.name,y||{})),this.counter++,E}reset(m){var y;const E=m||Pr;null===(y=this._widgets.get(E))||void 0===y||y.delete(),this._widgets.delete(E)}getResponse(m){var y;return(null===(y=this._widgets.get(m||Pr))||void 0===y?void 0:y.getResponse())||""}execute(m){var y=this;return(0,o.Z)(function*(){var E;return null===(E=y._widgets.get(m||Pr))||void 0===E||E.execute(),""})()}}class vc{constructor(m,y,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof m?document.getElementById(m):m;fe(x,"argument-error",{appName:y}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _g(w){const m=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)m.push(y.charAt(Math.floor(Math.random()*y.length)));return m.join("")}(50);const{callback:m,"expired-callback":y}=this.params;if(m)try{m(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Sd=bs("rcb"),li=new ot(3e4,6e4);class pt{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(m=Vt().grecaptcha)||void 0===m?void 0:m.render)}load(m,y=""){return fe(function Ci(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),m,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Vt().grecaptcha):new Promise((E,x)=>{const L=Vt().setTimeout(()=>{x(Ne(m,"network-request-failed"))},li.get());Vt()[Sd]=()=>{Vt().clearTimeout(L),delete Vt()[Sd];const Se=Vt().grecaptcha;if(!Se)return void x(Ne(m,"internal-error"));const rt=Se.render;Se.render=(Ct,Wt)=>{const Hn=rt(Ct,Wt);return this.counter++,Hn},this.hostLanguage=y,E(Se)},Cl(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:Sd,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(L),x(Ne(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var y;return!!(null===(y=Vt().grecaptcha)||void 0===y?void 0:y.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class wo{load(m){return(0,o.Z)(function*(){return new yc(m)})()}clearedOneInstance(){}}const V="recaptcha",Co={theme:"light",type:"image"};class vg{constructor(m,y=Object.assign({},Co),E){this.parameters=y,this.type=V,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$e(E),this.isInvisible="invisible"===this.parameters.size,fe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof m?document.getElementById(m):m;fe(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wo:new pt,this.validateStartingState()}verify(){var m=this;return(0,o.Z)(function*(){m.assertNotDestroyed();const y=yield m.render(),E=m.getAssertedRecaptcha();return E.getResponse(y)||new Promise(L=>{const ae=Se=>{!Se||(m.tokenChangeListeners.delete(ae),L(Se))};m.tokenChangeListeners.add(ae),m.isInvisible&&E.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){fe(!this.parameters.sitekey,this.auth,"argument-error"),fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),fe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return y=>{if(this.tokenChangeListeners.forEach(E=>E(y)),"function"==typeof m)m(y);else if("string"==typeof m){const E=Vt()[m];"function"==typeof E&&E(y)}}}assertNotDestroyed(){fe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,o.Z)(function*(){if(yield m.init(),!m.widgetId){let y=m.container;if(!m.isInvisible){const E=document.createElement("div");y.appendChild(E),y=E}m.widgetId=m.getAssertedRecaptcha().render(y,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,o.Z)(function*(){fe(He()&&!yn(),m.auth,"internal-error"),yield function bc(){let w=null;return new Promise(m=>{"complete"!==document.readyState?(w=()=>m(),window.addEventListener("load",w)):m()}).catch(m=>{throw w&&window.removeEventListener("load",w),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const y=yield function wa(w){return cr.apply(this,arguments)}(m.auth);fe(y,m.auth,"internal-error"),m.parameters.sitekey=y})()}getAssertedRecaptcha(){return fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Md{constructor(m,y){this.verificationId=m,this.onConfirmation=y}confirm(m){const y=fa._fromVerification(this.verificationId,m);return this.onConfirmation(y)}}function Xt(w,m,y){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,o.Z)(function*(w,m,y){const E=$e(w),x=yield wr(E,m,(0,z.m9)(y));return new Md(x,L=>cc(E,L))})).apply(this,arguments)}function Ws(w,m,y){return wc.apply(this,arguments)}function wc(){return(wc=(0,o.Z)(function*(w,m,y){const E=(0,z.m9)(w);yield mo(!1,E,"phone");const x=yield wr(E.auth,m,(0,z.m9)(y));return new Md(x,L=>Us(E,L))})).apply(this,arguments)}function af(w,m,y){return ur.apply(this,arguments)}function ur(){return(ur=(0,o.Z)(function*(w,m,y){const E=(0,z.m9)(w),x=yield wr(E.auth,m,(0,z.m9)(y));return new Md(x,L=>ga(E,L))})).apply(this,arguments)}function wr(w,m,y){return El.apply(this,arguments)}function El(){return(El=(0,o.Z)(function*(w,m,y){var E;const x=yield y.verify();try{let L;if(fe("string"==typeof x,w,"argument-error"),fe(y.type===V,w,"argument-error"),L="string"==typeof m?{phoneNumber:m}:m,"session"in L){const ae=L.session;if("phoneNumber"in L)return fe("enroll"===ae.type,w,"internal-error"),(yield ki(w,{idToken:ae.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{fe("signin"===ae.type,w,"internal-error");const Se=(null===(E=L.multiFactorHint)||void 0===E?void 0:E.uid)||L.multiFactorUid;return fe(Se,w,"missing-multi-factor-info"),(yield _u(w,{mfaPendingCredential:ae.credential,mfaEnrollmentId:Se,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ae}=yield cg(w,{phoneNumber:L.phoneNumber,recaptchaToken:x});return ae}}finally{y._reset()}})).apply(this,arguments)}function Cc(w,m){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,o.Z)(function*(w,m){yield On((0,z.m9)(w),m)})).apply(this,arguments)}let Ad=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=$e(y)}verifyPhoneNumber(y,E){return wr(this.auth,y,(0,z.m9)(E))}static credential(y,E){return fa._fromVerification(y,E)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:E,temporaryProof:x}=y;return E&&x?fa._fromTokenResponse(E,x):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Eo(w,m){return m?$(m):(fe(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Ri extends bn{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return fi(m,this._buildIdpRequest())}_linkToIdToken(m,y){return fi(m,this._buildIdpRequest(y))}_getReauthenticationResolver(m){return fi(m,this._buildIdpRequest())}_buildIdpRequest(m){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(y.idToken=m),y}}function Dl(w){return jo(w.auth,new Ri(w),w.bypassAuthState)}function xd(w){const{auth:m,user:y}=w;return fe(y,m,"internal-error"),lc(y,new Ri(w),w.bypassAuthState)}function Ec(w){return ci.apply(this,arguments)}function ci(){return(ci=(0,o.Z)(function*(w){const{auth:m,user:y}=w;return fe(y,m,"internal-error"),On(y,new Ri(w),w.bypassAuthState)})).apply(this,arguments)}class Do{constructor(m,y,E,x,L=!1){this.auth=m,this.resolver=E,this.user=x,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var m=this;return new Promise(function(){var y=(0,o.Z)(function*(E,x){m.pendingPromise={resolve:E,reject:x};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(L){m.reject(L)}});return function(E,x){return y.apply(this,arguments)}}())}onAuthEvent(m){var y=this;return(0,o.Z)(function*(){const{urlResponse:E,sessionId:x,postBody:L,tenantId:ae,error:Se,type:rt}=m;if(Se)return void y.reject(Se);const Ct={auth:y.auth,requestUri:E,sessionId:x,tenantId:ae||void 0,postBody:L||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(rt)(Ct))}catch(Wt){y.reject(Wt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Dl;case"linkViaPopup":case"linkViaRedirect":return Ec;case"reauthViaPopup":case"reauthViaRedirect":return xd;default:Le(this.auth,"internal-error")}}resolve(m){N(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){N(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ws=new ot(2e3,1e4);function kd(w,m,y){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,o.Z)(function*(w,m,y){const E=$e(w);Me(w,m,go);const x=Eo(E,y);return new bu(E,"signInViaPopup",m,x).executeNotNull()})).apply(this,arguments)}function vu(w,m,y){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,o.Z)(function*(w,m,y){const E=(0,z.m9)(w);Me(E.auth,m,go);const x=Eo(E.auth,y);return new bu(E.auth,"reauthViaPopup",m,x,E).executeNotNull()})).apply(this,arguments)}function bg(w,m,y){return Da.apply(this,arguments)}function Da(){return(Da=(0,o.Z)(function*(w,m,y){const E=(0,z.m9)(w);Me(E.auth,m,go);const x=Eo(E.auth,y);return new bu(E.auth,"linkViaPopup",m,x,E).executeNotNull()})).apply(this,arguments)}let bu=(()=>{class w extends Do{constructor(y,E,x,L,ae){super(y,E,L,ae),this.provider=x,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,o.Z)(function*(){const E=yield y.execute();return fe(E,y.auth,"internal-error"),E})()}onExecution(){var y=this;return(0,o.Z)(function*(){N(1===y.filter.length,"Popup operations only handle one event");const E=Gs();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],E),y.authWindow.associatedEvent=E,y.resolver._originValidation(y.auth).catch(x=>{y.reject(x)}),y.resolver._isIframeWebStorageSupported(y.auth,x=>{x||y.reject(Ne(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var E,x;this.pollId=(null===(x=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,ws.get())};y()}}return w.currentPopupAction=null,w})();const To=new Map;class qs extends Do{constructor(m,y,E=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,E),this.eventId=null}execute(){var m=()=>super.execute,y=this;return(0,o.Z)(function*(){let E=To.get(y.auth._key());if(!E){try{const L=(yield function lf(w,m){return Ko.apply(this,arguments)}(y.resolver,y.auth))?yield m().call(y):null;E=()=>Promise.resolve(L)}catch(x){E=()=>Promise.reject(x)}To.set(y.auth._key(),E)}return y.bypassAuthState||To.set(y.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(m){var y=()=>super.onAuthEvent,E=this;return(0,o.Z)(function*(){if("signInViaRedirect"===m.type)return y().call(E,m);if("unknown"!==m.type){if(m.eventId){const x=yield E.auth._redirectUserForId(m.eventId);if(x)return E.user=x,y().call(E,m);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function Ko(){return(Ko=(0,o.Z)(function*(w,m){const y=Cu(m),E=Dc(w);if(!(yield E._isAvailable()))return!1;const x="true"===(yield E._get(y));return yield E._remove(y),x})).apply(this,arguments)}function Sl(w,m){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,o.Z)(function*(w,m){return Dc(w)._set(Cu(m),"true")})).apply(this,arguments)}function wu(){To.clear()}function Zs(w,m){To.set(w._key(),m)}function Dc(w){return $(w._redirectPersistence)}function Cu(w){return rn("pendingRedirect",w.config.apiKey,w.name)}function Ta(w,m,y){return function Ml(w,m,y){return Ia.apply(this,arguments)}(w,m,y)}function Ia(){return(Ia=(0,o.Z)(function*(w,m,y){const E=$e(w);Me(w,m,go);const x=Eo(E,y);return yield Sl(x,E),x._openRedirect(E,m,"signInViaRedirect")})).apply(this,arguments)}function Rd(w,m,y){return function I(w,m,y){return S.apply(this,arguments)}(w,m,y)}function S(){return(S=(0,o.Z)(function*(w,m,y){const E=(0,z.m9)(w);Me(E.auth,m,go);const x=Eo(E.auth,y);yield Sl(x,E.auth);const L=yield It(E);return x._openRedirect(E.auth,m,"reauthViaRedirect",L)})).apply(this,arguments)}function R(w,m,y){return function H(w,m,y){return re.apply(this,arguments)}(w,m,y)}function re(){return(re=(0,o.Z)(function*(w,m,y){const E=(0,z.m9)(w);Me(E.auth,m,go);const x=Eo(E.auth,y);yield mo(!1,E,m.providerId),yield Sl(x,E.auth);const L=yield It(E);return x._openRedirect(E.auth,m,"linkViaRedirect",L)})).apply(this,arguments)}function ge(w,m){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,o.Z)(function*(w,m){return yield $e(w)._initializationPromise,Ke(w,m,!1)})).apply(this,arguments)}function Ke(w,m){return gt.apply(this,arguments)}function gt(){return(gt=(0,o.Z)(function*(w,m,y=!1){const E=$e(w),x=Eo(E,m),ae=yield new qs(E,x,y).execute();return ae&&!y&&(delete ae.user._redirectEventId,yield E._persistUserIfCurrent(ae.user),yield E._setRedirectUser(null,m)),ae})).apply(this,arguments)}function It(w){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,o.Z)(function*(w){const m=Gs(`${w.uid}:::`);return w._redirectEventId=m,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),m})).apply(this,arguments)}class Ei{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let y=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(m,E)&&(y=!0,this.sendToConsumer(m,E),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function ts(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Io(w);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=m,y=!0)),y}sendToConsumer(m,y){var E;if(m.error&&!Io(m)){const x=(null===(E=m.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";y.onError(Ne(this.auth,x))}else y.onAuthEvent(m)}isEventForConsumer(m,y){const E=null===y.eventId||!!m.eventId&&m.eventId===y.eventId;return y.filter.includes(m.type)&&E}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ji(m))}saveEventToCache(m){this.cachedEventUids.add(Ji(m)),this.lastProcessedEventTime=Date.now()}}function Ji(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(m=>m).join("-")}function Io({type:w,error:m}){return"unknown"===w&&"auth/no-auth-event"===(null==m?void 0:m.code)}function So(w){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,o.Z)(function*(w,m={}){return pn(w,"GET","/v1/projects",m)})).apply(this,arguments)}const Du=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cs=/^https?/;function Mo(){return(Mo=(0,o.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:m}=yield So(w);for(const y of m)try{if(cf(y))return}catch(E){}Le(w,"unauthorized-domain")})).apply(this,arguments)}function cf(w){const m=W(),{protocol:y,hostname:E}=new URL(m);if(w.startsWith("chrome-extension://")){const ae=new URL(w);return""===ae.hostname&&""===E?"chrome-extension:"===y&&w.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===y&&ae.hostname===E}if(!Cs.test(y))return!1;if(Du.test(w))return E===w;const x=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(E)}const wg=new ot(3e4,6e4);function Cg(){const w=Vt().___jsl;if(null==w?void 0:w.H)for(const m of Object.keys(w.H))if(w.H[m].r=w.H[m].r||[],w.H[m].L=w.H[m].L||[],w.H[m].r=[...w.H[m].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let Al=null;function Eg(w){return Al=Al||function jC(w){return new Promise((m,y)=>{var E,x,L;function ae(){Cg(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Cg(),y(Ne(w,"network-request-failed"))},timeout:wg.get()})}if(null===(x=null===(E=Vt().gapi)||void 0===E?void 0:E.iframes)||void 0===x?void 0:x.Iframe)m(gapi.iframes.getContext());else{if(!(null===(L=Vt().gapi)||void 0===L?void 0:L.load)){const Se=bs("iframefcb");return Vt()[Se]=()=>{gapi.load?ae():y(Ne(w,"network-request-failed"))},Cl(`https://apis.google.com/js/api.js?onload=${Se}`).catch(rt=>y(rt))}ae()}}).catch(m=>{throw Al=null,m})}(w),Al}const Dg=new ot(5e3,15e3),Ic={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tg(w){const m=w.config;fe(m.authDomain,w,"auth-domain-config-required");const y=m.emulator?Cn(m,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,E={apiKey:m.apiKey,appName:w.name,v:P.SDK_VERSION},x=Dy.get(w.config.apiHost);x&&(E.eid=x);const L=w._getFrameworks();return L.length&&(E.fw=L.join(",")),`${y}?${(0,z.xO)(E).slice(1)}`}function xl(){return xl=(0,o.Z)(function*(w){const m=yield Eg(w),y=Vt().gapi;return fe(y,w,"internal-error"),m.open({where:document.body,url:Tg(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ic,dontclear:!0},E=>new Promise(function(){var x=(0,o.Z)(function*(L,ae){yield E.restyle({setHideOnLeave:!1});const Se=Ne(w,"network-request-failed"),rt=Vt().setTimeout(()=>{ae(Se)},Dg.get());function Ct(){Vt().clearTimeout(rt),L(E)}E.ping(Ct).then(Ct,()=>{ae(Se)})});return function(L,ae){return x.apply(this,arguments)}}()))}),xl.apply(this,arguments)}const Od={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Sy{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function Ys(w,m,y,E,x,L){fe(w.config.authDomain,w,"auth-domain-config-required"),fe(w.config.apiKey,w,"invalid-api-key");const ae={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:E,v:P.SDK_VERSION,eventId:x};if(m instanceof go){m.setDefaultLanguage(w.languageCode),ae.providerId=m.providerId||"",(0,z.xb)(m.getCustomParameters())||(ae.customParameters=JSON.stringify(m.getCustomParameters()));for(const[rt,Ct]of Object.entries(L||{}))ae[rt]=Ct}if(m instanceof Rr){const rt=m.getScopes().filter(Ct=>""!==Ct);rt.length>0&&(ae.scopes=rt.join(","))}w.tenantId&&(ae.tid=w.tenantId);const Se=ae;for(const rt of Object.keys(Se))void 0===Se[rt]&&delete Se[rt];return`${function kl({config:w}){return w.emulator?Cn(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,z.xO)(Se).slice(1)}`}const Mc="webStorageSupport",Ay=class Tu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=at,this._completeRedirectFn=Ke,this._overrideRedirectResult=Zs}_openPopup(m,y,E,x){var L=this;return(0,o.Z)(function*(){var ae;N(null===(ae=L.eventManagers[m._key()])||void 0===ae?void 0:ae.manager,"_initialize() not called before _openPopup()");const Se=Ys(m,y,E,W(),x);return function hf(w,m,y,E=500,x=600){const L=Math.max((window.screen.availHeight-x)/2,0).toString(),ae=Math.max((window.screen.availWidth-E)/2,0).toString();let Se="";const rt=Object.assign(Object.assign({},Od),{width:E.toString(),height:x.toString(),top:L,left:ae}),Ct=(0,z.z$)().toLowerCase();y&&(Se=Ie(Ct)?"_blank":y),ne(Ct)&&(m=m||"http://localhost",rt.scrollbars="yes");const Wt=Object.entries(rt).reduce((is,[Nr,pf])=>`${is}${Nr}=${pf},`,"");if(function _r(w=(0,z.z$)()){var m;return Gt(w)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(Ct)&&"_self"!==Se)return function zC(w,m){const y=document.createElement("a");y.href=w,y.target=m;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(E)}(m||"",Se),new Sy(null);const Hn=window.open(m||"",Se,Wt);fe(Hn,w,"popup-blocked");try{Hn.focus()}catch(is){}return new Sy(Hn)}(m,Se,Gs())})()}_openRedirect(m,y,E,x){var L=this;return(0,o.Z)(function*(){return yield L._originValidation(m),function wn(w){Vt().location.href=w}(Ys(m,y,E,W(),x)),new Promise(()=>{})})()}_initialize(m){const y=m._key();if(this.eventManagers[y]){const{manager:x,promise:L}=this.eventManagers[y];return x?Promise.resolve(x):(N(L,"If manager is not set, promise should be"),L)}const E=this.initAndGetManager(m);return this.eventManagers[y]={promise:E},E.catch(()=>{delete this.eventManagers[y]}),E}initAndGetManager(m){var y=this;return(0,o.Z)(function*(){const E=yield function Ty(w){return xl.apply(this,arguments)}(m),x=new Ei(m);return E.register("authEvent",L=>(fe(null==L?void 0:L.authEvent,m,"invalid-auth-event"),{status:x.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[m._key()]={manager:x},y.iframes[m._key()]=E,x})()}_isIframeWebStorageSupported(m,y){this.iframes[m._key()].send(Mc,{type:Mc},x=>{var L;const ae=null===(L=null==x?void 0:x[0])||void 0===L?void 0:L[Mc];void 0!==ae&&y(!!ae),Le(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function ns(w){return Mo.apply(this,arguments)}(m)),this.originValidationPromises[y]}get _shouldInitProactively(){return Zi()||te()||Gt()}};class Mg extends class ff{constructor(m){this.factorId=m}_process(m,y,E){switch(y.type){case"enroll":return this._finalizeEnroll(m,y.credential,E);case"signin":return this._finalizeSignIn(m,y.credential);default:return ve("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Mg(m)}_finalizeEnroll(m,y,E){return function sf(w,m){return pn(w,"POST","/v2/accounts/mfaEnrollment:finalize",zt(w,m))}(m,{idToken:y,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,y){return function yu(w,m){return pn(w,"POST","/v2/accounts/mfaSignIn:finalize",zt(w,m))}(m,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let xy=(()=>{class w{constructor(){}static assertion(y){return Mg._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var Ag="@firebase/auth";class ky{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var y=this;return(0,o.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const y=this.auth.onIdTokenChanged(E=>{var x;m((null===(x=E)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,y),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const y=this.internalListeners.get(m);!y||(this.internalListeners.delete(m),y(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function $C(w){(0,P._registerComponent)(new De.wA("auth",(m,{options:y})=>{const E=m.getProvider("app").getImmediate(),x=m.getProvider("heartbeat"),{apiKey:L,authDomain:ae}=E.options;return((Se,rt)=>{fe(L&&!L.includes(":"),"invalid-api-key",{appName:Se.name}),fe(!(null==ae?void 0:ae.includes(":")),"argument-error",{appName:Se.name});const Ct={apiKey:L,authDomain:ae,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Si(w)},Wt=new yr(Se,rt,Ct);return function ue(w,m){const y=(null==m?void 0:m.persistence)||[],E=(Array.isArray(y)?y:[y]).map($);(null==m?void 0:m.errorMap)&&w._updateErrorMap(m.errorMap),w._initializeWithPersistence(E,null==m?void 0:m.popupRedirectResolver)}(Wt,y),Wt})(E,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,y,E)=>{m.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new De.wA("auth-internal",m=>{const y=$e(m.getProvider("auth").getImmediate());return new ky(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Ag,"0.20.5",function GC(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,P.registerVersion)(Ag,"0.20.5","esm2017")}("Browser")},2090:(nt,Ee,F)=>{F.d(Ee,{$s:()=>ti,BH:()=>We,DV:()=>pn,Dv:()=>qi,GJ:()=>nn,L:()=>pe,LL:()=>W,Mn:()=>Me,Pz:()=>Fe,Sg:()=>xe,UG:()=>ye,UI:()=>Zr,US:()=>De,Wj:()=>vi,Yr:()=>it,ZB:()=>X,ZR:()=>ue,b$:()=>Le,cI:()=>fn,d:()=>Ne,dS:()=>qt,eu:()=>N,g5:()=>P,gK:()=>yi,gQ:()=>fs,h$:()=>ce,hl:()=>ve,hu:()=>z,jU:()=>we,lb:()=>Os,m9:()=>rr,ne:()=>wt,p$:()=>K,pd:()=>ei,r3:()=>zt,ru:()=>Pe,tV:()=>Ce,uI:()=>Ge,ug:()=>mt,vZ:()=>$i,w1:()=>et,w9:()=>Bn,xO:()=>Sr,xb:()=>Gn,z$:()=>Be,zI:()=>j,zd:()=>Yr});const z=function(Q,Z){if(!Q)throw P(Z)},P=function(Q){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Q)},de=function(Q){const Z=[];let G=0;for(let Y=0;Y<Q.length;Y++){let J=Q.charCodeAt(Y);J<128?Z[G++]=J:J<2048?(Z[G++]=J>>6|192,Z[G++]=63&J|128):55296==(64512&J)&&Y+1<Q.length&&56320==(64512&Q.charCodeAt(Y+1))?(J=65536+((1023&J)<<10)+(1023&Q.charCodeAt(++Y)),Z[G++]=J>>18|240,Z[G++]=J>>12&63|128,Z[G++]=J>>6&63|128,Z[G++]=63&J|128):(Z[G++]=J>>12|224,Z[G++]=J>>6&63|128,Z[G++]=63&J|128)}return Z},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,Z){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Y=[];for(let J=0;J<Q.length;J+=3){const ke=Q[J],qe=J+1<Q.length,Tt=qe?Q[J+1]:0,cn=J+2<Q.length,rn=cn?Q[J+2]:0;let ne=(15&Tt)<<2|rn>>6,te=63&rn;cn||(te=64,qe||(ne=64)),Y.push(G[ke>>2],G[(3&ke)<<4|Tt>>4],G[ne],G[te])}return Y.join("")},encodeString(Q,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(Q):this.encodeByteArray(de(Q),Z)},decodeString(Q,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(Q):function(Q){const Z=[];let G=0,Y=0;for(;G<Q.length;){const J=Q[G++];if(J<128)Z[Y++]=String.fromCharCode(J);else if(J>191&&J<224){const ke=Q[G++];Z[Y++]=String.fromCharCode((31&J)<<6|63&ke)}else if(J>239&&J<365){const cn=((7&J)<<18|(63&Q[G++])<<12|(63&Q[G++])<<6|63&Q[G++])-65536;Z[Y++]=String.fromCharCode(55296+(cn>>10)),Z[Y++]=String.fromCharCode(56320+(1023&cn))}else{const ke=Q[G++],qe=Q[G++];Z[Y++]=String.fromCharCode((15&J)<<12|(63&ke)<<6|63&qe)}}return Z.join("")}(this.decodeStringToByteArray(Q,Z))},decodeStringToByteArray(Q,Z){this.init_();const G=Z?this.charToByteMapWebSafe_:this.charToByteMap_,Y=[];for(let J=0;J<Q.length;){const ke=G[Q.charAt(J++)],Tt=J<Q.length?G[Q.charAt(J)]:0;++J;const rn=J<Q.length?G[Q.charAt(J)]:64;++J;const se=J<Q.length?G[Q.charAt(J)]:64;if(++J,null==ke||null==Tt||null==rn||null==se)throw Error();Y.push(ke<<2|Tt>>4),64!==rn&&(Y.push(Tt<<4&240|rn>>2),64!==se&&Y.push(rn<<6&192|se))}return Y},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}},ce=function(Q){const Z=de(Q);return De.encodeByteArray(Z,!0)},pe=function(Q){return ce(Q).replace(/\./g,"")},Ce=function(Q){try{return De.decodeString(Q,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function K(Q){return X(void 0,Q)}function X(Q,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===Q&&(Q={});break;case Array:Q=[];break;default:return Z}for(const G in Z)!Z.hasOwnProperty(G)||!he(G)||(Q[G]=X(Q[G],Z[G]));return Q}function he(Q){return"__proto__"!==Q}class We{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,G)=>{this.resolve=Z,this.reject=G})}wrapCallback(Z){return(G,Y)=>{G?this.reject(G):this.resolve(Y),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(G):Z(G,Y))}}}function xe(Q,Z){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Y=Z||"demo-project",J=Q.iat||0,ke=Q.sub||Q.user_id;if(!ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qe=Object.assign({iss:`https://securetoken.google.com/${Y}`,aud:Y,iat:J,exp:J+3600,auth_time:J,sub:ke,user_id:ke,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(qe)),""].join(".")}function Be(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ge(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Q){return!1}}function we(){return"object"==typeof self&&self.self===self}function Pe(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function Le(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ne(){return Be().indexOf("Electron/")>=0}function et(){const Q=Be();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function Me(){return Be().indexOf("MSAppHost/")>=0}function it(){return!1}function ve(){return"object"==typeof indexedDB}function N(){return new Promise((Q,Z)=>{try{let G=!0;const Y="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(Y);J.onsuccess=()=>{J.result.close(),G||self.indexedDB.deleteDatabase(Y),Q(!0)},J.onupgradeneeded=()=>{G=!1},J.onerror=()=>{var ke;Z((null===(ke=J.error)||void 0===ke?void 0:ke.message)||"")}}catch(G){Z(G)}})}function j(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ue extends Error{constructor(Z,G,Y){super(G),this.code=Z,this.customData=Y,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W.prototype.create)}}class W{constructor(Z,G,Y){this.service=Z,this.serviceName=G,this.errors=Y}create(Z,...G){const Y=G[0]||{},J=`${this.service}/${Z}`,ke=this.errors[Z],qe=ke?function He(Q,Z){return Q.replace(lt,(G,Y)=>{const J=Z[Y];return null!=J?String(J):`<${Y}?>`})}(ke,Y):"Error";return new ue(J,`${this.serviceName}: ${qe} (${J}).`,Y)}}const lt=/\{\$([^}]+)}/g;function fn(Q){return JSON.parse(Q)}function Fe(Q){return JSON.stringify(Q)}const ot=function(Q){let Z={},G={},Y={},J="";try{const ke=Q.split(".");Z=fn(Ce(ke[0])||""),G=fn(Ce(ke[1])||""),J=ke[2],Y=G.d||{},delete G.d}catch(ke){}return{header:Z,claims:G,data:Y,signature:J}},Bn=function(Q){const G=ot(Q).claims;return!!G&&"object"==typeof G&&G.hasOwnProperty("iat")},nn=function(Q){const Z=ot(Q).claims;return"object"==typeof Z&&!0===Z.admin};function zt(Q,Z){return Object.prototype.hasOwnProperty.call(Q,Z)}function pn(Q,Z){if(Object.prototype.hasOwnProperty.call(Q,Z))return Q[Z]}function Gn(Q){for(const Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z))return!1;return!0}function Zr(Q,Z,G){const Y={};for(const J in Q)Object.prototype.hasOwnProperty.call(Q,J)&&(Y[J]=Z.call(G,Q[J],J,Q));return Y}function $i(Q,Z){if(Q===Z)return!0;const G=Object.keys(Q),Y=Object.keys(Z);for(const J of G){if(!Y.includes(J))return!1;const ke=Q[J],qe=Z[J];if(Kn(ke)&&Kn(qe)){if(!$i(ke,qe))return!1}else if(ke!==qe)return!1}for(const J of Y)if(!G.includes(J))return!1;return!0}function Kn(Q){return null!==Q&&"object"==typeof Q}function Sr(Q){const Z=[];for(const[G,Y]of Object.entries(Q))Array.isArray(Y)?Y.forEach(J=>{Z.push(encodeURIComponent(G)+"="+encodeURIComponent(J))}):Z.push(encodeURIComponent(G)+"="+encodeURIComponent(Y));return Z.length?"&"+Z.join("&"):""}function Yr(Q){const Z={};return Q.replace(/^\?/,"").split("&").forEach(Y=>{if(Y){const[J,ke]=Y.split("=");Z[decodeURIComponent(J)]=decodeURIComponent(ke)}}),Z}function ei(Q){const Z=Q.indexOf("?");if(!Z)return"";const G=Q.indexOf("#",Z);return Q.substring(Z,G>0?G:void 0)}class fs{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Z=1;Z<this.blockSize;++Z)this.pad_[Z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Z,G){G||(G=0);const Y=this.W_;if("string"==typeof Z)for(let se=0;se<16;se++)Y[se]=Z.charCodeAt(G)<<24|Z.charCodeAt(G+1)<<16|Z.charCodeAt(G+2)<<8|Z.charCodeAt(G+3),G+=4;else for(let se=0;se<16;se++)Y[se]=Z[G]<<24|Z[G+1]<<16|Z[G+2]<<8|Z[G+3],G+=4;for(let se=16;se<80;se++){const ne=Y[se-3]^Y[se-8]^Y[se-14]^Y[se-16];Y[se]=4294967295&(ne<<1|ne>>>31)}let rn,bi,J=this.chain_[0],ke=this.chain_[1],qe=this.chain_[2],Tt=this.chain_[3],cn=this.chain_[4];for(let se=0;se<80;se++){se<40?se<20?(rn=Tt^ke&(qe^Tt),bi=1518500249):(rn=ke^qe^Tt,bi=1859775393):se<60?(rn=ke&qe|Tt&(ke|qe),bi=2400959708):(rn=ke^qe^Tt,bi=3395469782);const ne=(J<<5|J>>>27)+rn+cn+bi+Y[se]&4294967295;cn=Tt,Tt=qe,qe=4294967295&(ke<<30|ke>>>2),ke=J,J=ne}this.chain_[0]=this.chain_[0]+J&4294967295,this.chain_[1]=this.chain_[1]+ke&4294967295,this.chain_[2]=this.chain_[2]+qe&4294967295,this.chain_[3]=this.chain_[3]+Tt&4294967295,this.chain_[4]=this.chain_[4]+cn&4294967295}update(Z,G){if(null==Z)return;void 0===G&&(G=Z.length);const Y=G-this.blockSize;let J=0;const ke=this.buf_;let qe=this.inbuf_;for(;J<G;){if(0===qe)for(;J<=Y;)this.compress_(Z,J),J+=this.blockSize;if("string"==typeof Z){for(;J<G;)if(ke[qe]=Z.charCodeAt(J),++qe,++J,qe===this.blockSize){this.compress_(ke),qe=0;break}}else for(;J<G;)if(ke[qe]=Z[J],++qe,++J,qe===this.blockSize){this.compress_(ke),qe=0;break}}this.inbuf_=qe,this.total_+=G}digest(){const Z=[];let G=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let J=this.blockSize-1;J>=56;J--)this.buf_[J]=255&G,G/=256;this.compress_(this.buf_);let Y=0;for(let J=0;J<5;J++)for(let ke=24;ke>=0;ke-=8)Z[Y]=this.chain_[J]>>ke&255,++Y;return Z}}function wt(Q,Z){const G=new Wi(Q,Z);return G.subscribe.bind(G)}class Wi{constructor(Z,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{Z(this)}).catch(Y=>{this.error(Y)})}next(Z){this.forEachObserver(G=>{G.next(Z)})}error(Z){this.forEachObserver(G=>{G.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,G,Y){let J;if(void 0===Z&&void 0===G&&void 0===Y)throw new Error("Missing Observer.");J=function _n(Q,Z){if("object"!=typeof Q||null===Q)return!1;for(const G of Z)if(G in Q&&"function"==typeof Q[G])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:G,complete:Y},void 0===J.next&&(J.next=_i),void 0===J.error&&(J.error=_i),void 0===J.complete&&(J.complete=_i);const ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch(qe){}}),this.observers.push(J),ke}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,Z)}sendOne(Z,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{G(this.observers[Z])}catch(Y){"undefined"!=typeof console&&console.error&&console.error(Y)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _i(){}const qi=function(Q,Z,G,Y){let J;if(Y<Z?J="at least "+Z:Y>G&&(J=0===G?"none":"no more than "+G),J)throw new Error(Q+" failed: Was called with "+Y+(1===Y?" argument.":" arguments.")+" Expects "+J+".")};function yi(Q,Z){return`${Q} failed: ${Z} argument `}function vi(Q,Z,G,Y){if((!Y||G)&&"function"!=typeof G)throw new Error(yi(Q,Z)+"must be a valid function.")}function Os(Q,Z,G,Y){if((!Y||G)&&("object"!=typeof G||null===G))throw new Error(yi(Q,Z)+"must be a valid context object.")}const qt=function(Q){const Z=[];let G=0;for(let Y=0;Y<Q.length;Y++){let J=Q.charCodeAt(Y);if(J>=55296&&J<=56319){const ke=J-55296;Y++,z(Y<Q.length,"Surrogate pair missing trail surrogate."),J=65536+(ke<<10)+(Q.charCodeAt(Y)-56320)}J<128?Z[G++]=J:J<2048?(Z[G++]=J>>6|192,Z[G++]=63&J|128):J<65536?(Z[G++]=J>>12|224,Z[G++]=J>>6&63|128,Z[G++]=63&J|128):(Z[G++]=J>>18|240,Z[G++]=J>>12&63|128,Z[G++]=J>>6&63|128,Z[G++]=63&J|128)}return Z},mt=function(Q){let Z=0;for(let G=0;G<Q.length;G++){const Y=Q.charCodeAt(G);Y<128?Z++:Y<2048?Z+=2:Y>=55296&&Y<=56319?(Z+=4,G++):Z+=3}return Z};function ti(Q,Z=1e3,G=2){const Y=Z*Math.pow(G,Q),J=Math.round(.5*Y*(Math.random()-.5)*2);return Math.min(144e5,Y+J)}function rr(Q){return Q&&Q._delegate?Q._delegate:Q}},1591:(nt,Ee,F)=>{var o=F(5e3);let z=null;function P(){return z}const ce=new o.OlP("DocumentToken");let pe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ce(){return(0,o.LFG)(X)}()},providedIn:"platform"}),n})();const K=new o.OlP("Location Initialized");let X=(()=>{class n extends pe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){he()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){he()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function We(){return new X((0,o.LFG)(ce))}()},providedIn:"platform"}),n})();function he(){return!!window.history.pushState}function xe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Be(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ge(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function we(n){const t=(0,o.LFG)(ce).location;return new Le((0,o.LFG)(pe),t&&t.origin||"")}()},providedIn:"root"}),n})();const Pe=new o.OlP("appBaseHref");let Le=(()=>{class n extends ye{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return xe(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ge(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const c=this.prepareExternalUrl(r+Ge(s));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){const c=this.prepareExternalUrl(r+Ge(s));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pe),o.LFG(Pe,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n extends ye{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=xe(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let c=this.prepareExternalUrl(r+Ge(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){let c=this.prepareExternalUrl(r+Ge(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pe),o.LFG(Pe,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),et=(()=>{class n{constructor(e,i){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Be(fe(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ge(i))}normalize(e){return n.stripTrailingSlash(function it(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,fe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ge(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ge(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ge,n.joinWithSlash=xe,n.stripTrailingSlash=Be,n.\u0275fac=function(e){return new(e||n)(o.LFG(ye),o.LFG(pe))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Me(){return new et((0,o.LFG)(ye),(0,o.LFG)(pe))}()},providedIn:"root"}),n})();function fe(n){return n.replace(/\/index.html$/,"")}var $=(()=>(($=$||{})[$.Format=0]="Format",$[$.Standalone=1]="Standalone",$))(),ee=(()=>((ee=ee||{})[ee.Narrow=0]="Narrow",ee[ee.Abbreviated=1]="Abbreviated",ee[ee.Wide=2]="Wide",ee[ee.Short=3]="Short",ee))(),ue=(()=>((ue=ue||{})[ue.Short=0]="Short",ue[ue.Medium=1]="Medium",ue[ue.Long=2]="Long",ue[ue.Full=3]="Full",ue))(),W=(()=>((W=W||{})[W.Decimal=0]="Decimal",W[W.Group=1]="Group",W[W.List=2]="List",W[W.PercentSign=3]="PercentSign",W[W.PlusSign=4]="PlusSign",W[W.MinusSign=5]="MinusSign",W[W.Exponential=6]="Exponential",W[W.SuperscriptingExponent=7]="SuperscriptingExponent",W[W.PerMille=8]="PerMille",W[W.Infinity=9]="Infinity",W[W.NaN=10]="NaN",W[W.TimeSeparator=11]="TimeSeparator",W[W.CurrencyDecimal=12]="CurrencyDecimal",W[W.CurrencyGroup=13]="CurrencyGroup",W))();function nn(n,t){return $n((0,o.cg1)(n)[o.wAp.DateFormat],t)}function zt(n,t){return $n((0,o.cg1)(n)[o.wAp.TimeFormat],t)}function pn(n,t){return $n((0,o.cg1)(n)[o.wAp.DateTimeFormat],t)}function Gn(n,t){const e=(0,o.cg1)(n),i=e[o.wAp.NumberSymbols][t];if(void 0===i){if(t===W.CurrencyDecimal)return e[o.wAp.NumberSymbols][W.Decimal];if(t===W.CurrencyGroup)return e[o.wAp.NumberSymbols][W.Group]}return i}function ei(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function $n(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function _n(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Wn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vi={},Os=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var qt=(()=>((qt=qt||{})[qt.Short=0]="Short",qt[qt.ShortGMT=1]="ShortGMT",qt[qt.Long=2]="Long",qt[qt.Extended=3]="Extended",qt))(),mt=(()=>((mt=mt||{})[mt.FullYear=0]="FullYear",mt[mt.Month=1]="Month",mt[mt.Date=2]="Date",mt[mt.Hours=3]="Hours",mt[mt.Minutes=4]="Minutes",mt[mt.Seconds=5]="Seconds",mt[mt.FractionalSeconds=6]="FractionalSeconds",mt[mt.Day=7]="Day",mt))(),ct=(()=>((ct=ct||{})[ct.DayPeriods=0]="DayPeriods",ct[ct.Days=1]="Days",ct[ct.Months=2]="Months",ct[ct.Eras=3]="Eras",ct))();function Mr(n,t,e,i){let r=function Ie(n){if(ft(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,c=1]=n.split("-").map(d=>+d);return Ar(r,s-1,c)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Wn))return function Qe(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-e,d=Number(n[5]||0)-i,p=Number(n[6]||0),_=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,c,d,p,_),t}(i)}const t=new Date(n);if(!ft(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Zt(e,t)||t;let d,c=[];for(;t;){if(d=Os.exec(t),!d){c.push(t);break}{c=c.concat(d.slice(1));const b=c.pop();if(!b)break;t=b}}let p=r.getTimezoneOffset();i&&(p=se(i,p),r=function te(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function ne(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(se(t,r)-r))}(r,i,!0));let _="";return c.forEach(b=>{const D=function bi(n){if(rn[n])return rn[n];let t;switch(n){case"G":case"GG":case"GGG":t=Q(ct.Eras,ee.Abbreviated);break;case"GGGG":t=Q(ct.Eras,ee.Wide);break;case"GGGGG":t=Q(ct.Eras,ee.Narrow);break;case"y":t=vt(mt.FullYear,1,0,!1,!0);break;case"yy":t=vt(mt.FullYear,2,0,!0,!0);break;case"yyy":t=vt(mt.FullYear,3,0,!1,!0);break;case"yyyy":t=vt(mt.FullYear,4,0,!1,!0);break;case"Y":t=cn(1);break;case"YY":t=cn(2,!0);break;case"YYY":t=cn(3);break;case"YYYY":t=cn(4);break;case"M":case"L":t=vt(mt.Month,1,1);break;case"MM":case"LL":t=vt(mt.Month,2,1);break;case"MMM":t=Q(ct.Months,ee.Abbreviated);break;case"MMMM":t=Q(ct.Months,ee.Wide);break;case"MMMMM":t=Q(ct.Months,ee.Narrow);break;case"LLL":t=Q(ct.Months,ee.Abbreviated,$.Standalone);break;case"LLLL":t=Q(ct.Months,ee.Wide,$.Standalone);break;case"LLLLL":t=Q(ct.Months,ee.Narrow,$.Standalone);break;case"w":t=Tt(1);break;case"ww":t=Tt(2);break;case"W":t=Tt(1,!0);break;case"d":t=vt(mt.Date,1);break;case"dd":t=vt(mt.Date,2);break;case"c":case"cc":t=vt(mt.Day,1);break;case"ccc":t=Q(ct.Days,ee.Abbreviated,$.Standalone);break;case"cccc":t=Q(ct.Days,ee.Wide,$.Standalone);break;case"ccccc":t=Q(ct.Days,ee.Narrow,$.Standalone);break;case"cccccc":t=Q(ct.Days,ee.Short,$.Standalone);break;case"E":case"EE":case"EEE":t=Q(ct.Days,ee.Abbreviated);break;case"EEEE":t=Q(ct.Days,ee.Wide);break;case"EEEEE":t=Q(ct.Days,ee.Narrow);break;case"EEEEEE":t=Q(ct.Days,ee.Short);break;case"a":case"aa":case"aaa":t=Q(ct.DayPeriods,ee.Abbreviated);break;case"aaaa":t=Q(ct.DayPeriods,ee.Wide);break;case"aaaaa":t=Q(ct.DayPeriods,ee.Narrow);break;case"b":case"bb":case"bbb":t=Q(ct.DayPeriods,ee.Abbreviated,$.Standalone,!0);break;case"bbbb":t=Q(ct.DayPeriods,ee.Wide,$.Standalone,!0);break;case"bbbbb":t=Q(ct.DayPeriods,ee.Narrow,$.Standalone,!0);break;case"B":case"BB":case"BBB":t=Q(ct.DayPeriods,ee.Abbreviated,$.Format,!0);break;case"BBBB":t=Q(ct.DayPeriods,ee.Wide,$.Format,!0);break;case"BBBBB":t=Q(ct.DayPeriods,ee.Narrow,$.Format,!0);break;case"h":t=vt(mt.Hours,1,-12);break;case"hh":t=vt(mt.Hours,2,-12);break;case"H":t=vt(mt.Hours,1);break;case"HH":t=vt(mt.Hours,2);break;case"m":t=vt(mt.Minutes,1);break;case"mm":t=vt(mt.Minutes,2);break;case"s":t=vt(mt.Seconds,1);break;case"ss":t=vt(mt.Seconds,2);break;case"S":t=vt(mt.FractionalSeconds,1);break;case"SS":t=vt(mt.FractionalSeconds,2);break;case"SSS":t=vt(mt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=G(qt.Short);break;case"ZZZZZ":t=G(qt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=G(qt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=G(qt.Long);break;default:return null}return rn[n]=t,t}(b);_+=D?D(r,e,p):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),_}function Ar(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Zt(n,t){const e=function lt(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(vi[e]=vi[e]||{},vi[e][t])return vi[e][t];let i="";switch(t){case"shortDate":i=nn(n,ue.Short);break;case"mediumDate":i=nn(n,ue.Medium);break;case"longDate":i=nn(n,ue.Long);break;case"fullDate":i=nn(n,ue.Full);break;case"shortTime":i=zt(n,ue.Short);break;case"mediumTime":i=zt(n,ue.Medium);break;case"longTime":i=zt(n,ue.Long);break;case"fullTime":i=zt(n,ue.Full);break;case"short":const r=Zt(n,"shortTime"),s=Zt(n,"shortDate");i=Kr(pn(n,ue.Short),[r,s]);break;case"medium":const c=Zt(n,"mediumTime"),d=Zt(n,"mediumDate");i=Kr(pn(n,ue.Medium),[c,d]);break;case"long":const p=Zt(n,"longTime"),_=Zt(n,"longDate");i=Kr(pn(n,ue.Long),[p,_]);break;case"full":const b=Zt(n,"fullTime"),D=Zt(n,"fullDate");i=Kr(pn(n,ue.Full),[b,D])}return i&&(vi[e][t]=i),i}function Kr(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function ti(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let c=String(n);for(;c.length<t;)c="0"+c;return i&&(c=c.substr(c.length-t)),s+c}function vt(n,t,e=0,i=!1,r=!1){return function(s,c){let d=function rr(n,t){switch(n){case mt.FullYear:return t.getFullYear();case mt.Month:return t.getMonth();case mt.Date:return t.getDate();case mt.Hours:return t.getHours();case mt.Minutes:return t.getMinutes();case mt.Seconds:return t.getSeconds();case mt.FractionalSeconds:return t.getMilliseconds();case mt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||d>-e)&&(d+=e),n===mt.Hours)0===d&&-12===e&&(d=12);else if(n===mt.FractionalSeconds)return function Rn(n,t){return ti(n,3).substr(0,t)}(d,t);const p=Gn(c,W.MinusSign);return ti(d,t,p,i,r)}}function Q(n,t,e=$.Format,i=!1){return function(r,s){return function Z(n,t,e,i,r,s){switch(e){case ct.Months:return function ot(n,t,e){const i=(0,o.cg1)(n),s=$n([i[o.wAp.MonthsFormat],i[o.wAp.MonthsStandalone]],t);return $n(s,e)}(t,r,i)[n.getMonth()];case ct.Days:return function Fe(n,t,e){const i=(0,o.cg1)(n),s=$n([i[o.wAp.DaysFormat],i[o.wAp.DaysStandalone]],t);return $n(s,e)}(t,r,i)[n.getDay()];case ct.DayPeriods:const c=n.getHours(),d=n.getMinutes();if(s){const _=function fs(n){const t=(0,o.cg1)(n);return ei(t),(t[o.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?_n(i):[_n(i[0]),_n(i[1])])}(t),b=function wt(n,t,e){const i=(0,o.cg1)(n);ei(i);const s=$n([i[o.wAp.ExtraData][0],i[o.wAp.ExtraData][1]],t)||[];return $n(s,e)||[]}(t,r,i),D=_.findIndex(A=>{if(Array.isArray(A)){const[O,B]=A,ie=c>=O.hours&&d>=O.minutes,le=c<B.hours||c===B.hours&&d<B.minutes;if(O.hours<B.hours){if(ie&&le)return!0}else if(ie||le)return!0}else if(A.hours===c&&A.minutes===d)return!0;return!1});if(-1!==D)return b[D]}return function fn(n,t,e){const i=(0,o.cg1)(n),s=$n([i[o.wAp.DayPeriodsFormat],i[o.wAp.DayPeriodsStandalone]],t);return $n(s,e)}(t,r,i)[c<12?0:1];case ct.Eras:return function Cn(n,t){return $n((0,o.cg1)(n)[o.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function G(n){return function(t,e,i){const r=-1*i,s=Gn(e,W.MinusSign),c=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case qt.Short:return(r>=0?"+":"")+ti(c,2,s)+ti(Math.abs(r%60),2,s);case qt.ShortGMT:return"GMT"+(r>=0?"+":"")+ti(c,1,s);case qt.Long:return"GMT"+(r>=0?"+":"")+ti(c,2,s)+":"+ti(Math.abs(r%60),2,s);case qt.Extended:return 0===i?"Z":(r>=0?"+":"")+ti(c,2,s)+":"+ti(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function qe(n){return Ar(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Tt(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,c=e.getDate();r=1+Math.floor((c+s)/7)}else{const s=qe(e),c=function ke(n){const t=Ar(n,0,1).getDay();return Ar(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),d=s.getTime()-c.getTime();r=1+Math.round(d/6048e5)}return ti(r,n,Gn(i,W.MinusSign))}}function cn(n,t=!1){return function(e,i){return ti(qe(e).getFullYear(),n,Gn(i,W.MinusSign),t)}}const rn={};function se(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function ft(n){return n instanceof Date&&!isNaN(n.valueOf())}function Vo(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let xr=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class da{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vn=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new da(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,c),fo(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{fo(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function fo(n,t){n.context.$implicit=t.item}let Un=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new En,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){sd("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){sd("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class En{constructor(){this.$implicit=null,this.ngIf=null}}function sd(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}class Ho{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let or=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Yi=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ho(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(or,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),su=(()=>{class n{constructor(e,i,r){r._addDefault(new Ho(e,i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(or,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();const dg=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let dd=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,s){var c;if(null==e||""===e||e!=e)return null;try{return Mr(e,i,s||this.locale,null!==(c=null!=r?r:this.defaultTimezone)&&void 0!==c?c:void 0)}catch(d){throw function fi(n,t){return new o.vHH(2100,"")}()}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.soG,16),o.Y36(dg,24))},n.\u0275pipe=o.Yjl({name:"date",type:n,pure:!0}),n})(),Vi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const fd="browser";let oc=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new ac((0,o.LFG)(ce),window)}),n})();class ac{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Vs(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ou(this.window.history)||ou(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function ou(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class On{}class mo extends class ol extends class De{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function me(n){z||(z=n)}(new mo)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function lc(){return Dn=Dn||document.querySelector("base"),Dn?Dn.getAttribute("href"):null}();return null==e?null:function jo(n){al=al||document.createElement("a"),al.setAttribute("href",n);const t=al.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Dn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Vo(document.cookie,t)}}let al,Dn=null;const Mi=new o.OlP("TRANSITION_ID"),ii=[{provide:o.ip1,useFactory:function cc(n,t,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const i=P(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Mi,ce,o.zs3],multi:!0}];class Us{static init(){(0,o.VLi)(new Us)}addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const d=function(p){c=c||p,s--,0==s&&i(c)};r.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Ai=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const ga=new o.OlP("EventManagerPlugins");let gs=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ga),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class lu{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=P().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let vr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),_o=(()=>{class n extends vr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(yo),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(yo))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function yo(n){P().remove(n)}const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ll=/%COMP%/g;function Ae(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ae(n,r,e):(r=r.replace(ll,n),e.push(r))}return e}function Yt(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Jn=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new vo(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new uu(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case o.ifc.ShadowDom:return new du(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ae(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gs),o.LFG(_o),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class vo{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Et[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Et[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Et[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Yt(i)):this.eventManager.addEventListener(t,e,Yt(i))}}class uu extends vo{constructor(t,e,i,r){super(t),this.component=i;const s=Ae(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function dl(n){return"_ngcontent-%COMP%".replace(ll,n)}(r+"-"+i.id),this.hostAttr=function ef(n){return"_nghost-%COMP%".replace(ll,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class du extends vo{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Ae(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const d=document.createElement("style");d.textContent=s[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let yd=(()=>{class n extends lu{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const vd=["alt","control","meta","shift"],ma={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Jr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let hu=(()=>{class n extends lu{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,s.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="";if(vd.forEach(p=>{const _=i.indexOf(p);_>-1&&(i.splice(_,1),c+=p+".")}),c+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=r,d.fullKey=c,d}static getEventFullKey(e){let i="",r=function ms(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&wi.hasOwnProperty(t)&&(t=wi[t]))}return ma[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),vd.forEach(s=>{s!=r&&Jr[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const wd=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:fd},{provide:o.g9A,useValue:function Hs(){mo.makeCurrent(),Us.init()},multi:!0},{provide:ce,useFactory:function bd(){return(0,o.RDi)(document),document},deps:[]}]),zo=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function gl(){return new o.qLn},deps:[]},{provide:ga,useClass:yd,multi:!0,deps:[ce,o.R0b,o.Lbi]},{provide:ga,useClass:hu,multi:!0,deps:[ce]},{provide:Jn,useClass:Jn,deps:[gs,_o,o.AFp]},{provide:o.FYo,useExisting:Jn},{provide:vr,useExisting:_o},{provide:_o,useClass:_o,deps:[ce]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:gs,useClass:gs,deps:[ga,o.R0b]},{provide:On,useClass:Ai,deps:[]}];let uc=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:Mi,useExisting:o.AFp},ii]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(n,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:zo,imports:[Vi,o.hGG]}),n})();"undefined"!=typeof window&&window;let Xr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):o.LFG(Id),i},providedIn:"root"}),n})(),Id=(()=>{class n extends Xr{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)(i),(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function va(n){return new Id(n.get(ce))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();var fc=F(127),xt=F(7579),Qn=F(3269),qn=F(8996);function at(...n){const t=(0,Qn.yG)(n);return(0,qn.D)(n,t)}var gn=F(8306),Qi=F(6451),Gs=F(5363),br=F(8421),Vt=F(4482),wn=F(5403);function yn(n,t){return(0,Vt.e)((e,i)=>{let r=null,s=0,c=!1;const d=()=>c&&!r&&i.complete();e.subscribe(new wn.Q(i,p=>{null==r||r.unsubscribe();let _=0;const b=s++;(0,br.Xf)(n(p,b)).subscribe(r=new wn.Q(i,D=>i.next(t?t(p,D,b,_++):D),()=>{r=null,d()}))},()=>{c=!0,d()}))})}var ut=F(4004),pc=F(6063);class gu extends xt.x{constructor(t=1/0,e=1/0,i=pc.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;e||(i.push(t),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!t.closed;c+=i?1:2)t.next(s[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=e.now();let d=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)d=p;d&&i.splice(0,d+1)}}}var gc=F(3099);function mc(n,t,e){var i,r;let s,c=!1;return n&&"object"==typeof n?(s=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(r=n.windowTime)&&void 0!==r?r:1/0,c=!!n.refCount,e=n.scheduler):s=null!=n?n:1/0,(0,gc.B)({connector:()=>new gu(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}const es=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function un(n,t){return(0,Vt.e)((e,i)=>{let r=0;e.subscribe(new wn.Q(i,s=>n.call(t,s,r++)&&i.next(s)))})}var Tn=F(5698);function ys(n){return(0,Vt.e)((t,e)=>{let i=!1;t.subscribe(new wn.Q(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function bl(n=wl){return(0,Vt.e)((t,e)=>{let i=!1;t.subscribe(new wn.Q(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function wl(){return new es}var bo=F(4671);function Or(n,t){const e=arguments.length>=2;return i=>i.pipe(n?un((r,s)=>n(r,s,i)):bo.y,(0,Tn.q)(1),e?ys(t):bl(()=>new es))}var lr=F(576);function qo(n,t){return(0,lr.m)(t)?yn(()=>n,t):yn(()=>n)}var ba=F(9468),dn=F(5813),pi=F(2011),vs=F(5867);class $s{constructor(t){return t}}class _u{constructor(){return(0,vs.C6)()}}const cr=new o.OlP("angularfire2._apps"),_c={provide:$s,useFactory:function wa(n){return n&&1===n.length?n[0]:new $s((0,vs.Mq)())},deps:[[new o.FiY,cr]]},Cl={provide:_u,deps:[[new o.FiY,cr]]};function bs(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new $s(i)}}let Zo=(()=>{class n{constructor(e){(0,vs.KN)("angularfire",dn.q4.full,"core"),(0,vs.KN)("angularfire",dn.q4.full,"app"),(0,vs.KN)("angular",o.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[_c,Cl]}),n})();function Yo(n,...t){return{ngModule:Zo,providers:[{provide:cr,useFactory:bs(n),multi:!0,deps:[o.R0b,o.zs3,dn.HU,...t]}]}}const _g=(0,dn.u3)(vs.ZF,!0);var pt=F(9671),Ci=F(9681),wo=F(4859),V=F(2090),Co=F(1877);const vg=new Map,bc={activated:!1,tokenObservers:[]},Md={initialized:!1,enabled:!1};function Xt(n){return vg.get(n)||bc}function Hi(n,t){vg.set(n,t)}function Ws(){return Md}class Ca{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,pt.Z)(function*(){e.stop();try{e.pending=new V.BH,yield function Ad(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new V.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ri=new V.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xd(n){if(!Xt(n).activated)throw Ri.create("use-before-activation",{appName:n.name})}function Do(n,t){return ws.apply(this,arguments)}function ws(){return(ws=(0,pt.Z)(function*({url:n,body:t},e){var i,r;const s={"Content-Type":"application/json"},c=e.getImmediate({optional:!0});if(c){const O=yield c.getHeartbeatsHeader();O&&(s["X-Firebase-Client"]=O)}const d={method:"POST",body:JSON.stringify(t),headers:s};let p,_;try{p=yield fetch(n,d)}catch(O){throw Ri.create("fetch-network-error",{originalErrorMessage:null===(i=O)||void 0===i?void 0:i.message})}if(200!==p.status)throw Ri.create("fetch-status-error",{httpStatus:p.status});try{_=yield p.json()}catch(O){throw Ri.create("fetch-parse-error",{originalErrorMessage:null===(r=O)||void 0===r?void 0:r.message})}const b=_.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Ri.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const D=1e3*Number(b[1]),A=Date.now();return{token:_.token,expireTimeMillis:A+D,issuedAtTimeMillis:A}})).apply(this,arguments)}function vu(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Da="firebase-app-check-store";let Il=null;function To(){return Il||(Il=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;t(Ri.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Da,{keyPath:"compositeKey"})}}catch(i){t(Ri.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),Il)}function wu(){return(wu=(0,pt.Z)(function*(n,t){const i=(yield To()).transaction(Da,"readwrite"),s=i.objectStore(Da).put({compositeKey:n,value:t});return new Promise((c,d)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var _;d(Ri.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const Ta=new Co.Yd("@firebase/app-check");function Rd(n,t){return(0,V.hl)()?function lf(n,t){return function Cr(n,t){return wu.apply(this,arguments)}(function Cu(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Ta.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function R(){return Ws().enabled}function H(){return re.apply(this,arguments)}function re(){return(re=(0,pt.Z)(function*(){const n=Ws();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Oe={error:"UNKNOWN_ERROR"};function Ke(n){return V.US.encodeString(JSON.stringify(n),!1)}function gt(n){return It.apply(this,arguments)}function It(){return(It=(0,pt.Z)(function*(n,t=!1){const e=n.app;xd(e);const i=Xt(e);let s,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&ts(p)&&(r=p)}if(!t&&r&&ts(r))return{token:r.token};let d,c=!1;if(R()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Do(vu(e,yield H()),n.heartbeatServiceProvider).then(_=>(i.exchangeTokenPromise=void 0,_)),c=!0);const p=yield i.exchangeTokenPromise;return yield Rd(e,p),Hi(e,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),c=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Ta.warn(p.message):Ta.error(p),s=p}return r?(d={token:r.token},Hi(e,Object.assign(Object.assign({},i),{token:r})),yield Rd(e,r)):d=So(s),c&&Io(e,d),d})).apply(this,arguments)}function _t(n,t){const e=Xt(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Hi(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function Ei(n){const{app:t}=n,e=Xt(t);let i=e.tokenRefresher;i||(i=function Ji(n){const{app:t}=n;return new Ca((0,pt.Z)(function*(){let i;if(i=Xt(t).token?yield gt(n,!0):yield gt(n),i.error)throw i.error}),()=>!0,()=>{const e=Xt(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Hi(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Io(n,t){const e=Xt(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function ts(n){return n.expireTimeMillis-Date.now()>0}function So(n){return{token:Ke(Oe),error:n}}class Eu{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Xt(this.app);for(const e of t)_t(this.app,e.next);return Promise.resolve()}}const Sg="app-check-internal";!function Ys(){(0,Ci._registerComponent)(new wo.wA("app-check",n=>function Du(n,t){return new Eu(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Sg).initialize()})),(0,Ci._registerComponent)(new wo.wA(Sg,n=>function Cs(n){return{getToken:t=>gt(n,t),addTokenListener:t=>function Rt(n,t,e,i){const{app:r}=n,s=Xt(r),c={next:e,error:i,type:t};if(Hi(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&ts(s.token)){const d=s.token;Promise.resolve().then(()=>{e({token:d.token}),Ei(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Ei(n))}(n,"INTERNAL",t),removeTokenListener:t=>_t(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ci.registerVersion)("@firebase/app-check","0.5.11")}();class Tu{constructor(){return(0,dn.vb)("app-check")}}"undefined"!=typeof window&&window;const ae=new o.OlP("angularfire2.auth.use-emulator"),Se=new o.OlP("angularfire2.auth.settings"),rt=new o.OlP("angularfire2.auth.tenant-id"),Ct=new o.OlP("angularfire2.auth.langugage-code"),Wt=new o.OlP("angularfire2.auth.use-device-language"),Hn=new o.OlP("angularfire.auth.persistence"),is=(n,t,e,i,r,s,c,d)=>(0,pi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[_,b]of Object.entries(c))p.settings[_]=b;return d&&p.setPersistence(d),p},[e,i,r,s,c,d]);let Nr=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,D,A,O){const B=new xt.x,ie=at(void 0).pipe((0,Gs.Q)(c.outsideAngular),yn(()=>s.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,5881)))),(0,ut.U)(()=>(0,pi.on)(e,s,i)),(0,ut.U)(le=>is(le,s,d,_,b,D,p,A)),mc({bufferSize:1,refCount:!1}));if(function Ki(n){return"server"===n}(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=at(null);else{ie.pipe(Or()).subscribe();const Ve=ie.pipe(yn(Je=>Je.getRedirectResult().then(Ut=>Ut,()=>null)),dn.iC,mc({bufferSize:1,refCount:!1})),Ze=ie.pipe(yn(Je=>new gn.y(Ut=>({unsubscribe:s.runOutsideAngular(()=>Je.onAuthStateChanged(Bt=>Ut.next(Bt),Bt=>Ut.error(Bt),()=>Ut.complete()))})))),Ye=ie.pipe(yn(Je=>new gn.y(Ut=>({unsubscribe:s.runOutsideAngular(()=>Je.onIdTokenChanged(Bt=>Ut.next(Bt),Bt=>Ut.error(Bt),()=>Ut.complete()))}))));this.authState=Ve.pipe(qo(Ze),(0,ba.R)(c.outsideAngular),(0,Gs.Q)(c.insideAngular)),this.user=Ve.pipe(qo(Ye),(0,ba.R)(c.outsideAngular),(0,Gs.Q)(c.insideAngular)),this.idToken=this.user.pipe(yn(Je=>Je?(0,qn.D)(Je.getIdToken()):at(null))),this.idTokenResult=this.user.pipe(yn(Je=>Je?(0,qn.D)(Je.getIdTokenResult()):at(null))),this.credential=(0,Qi.T)(Ve,B,this.authState.pipe(un(Je=>!Je))).pipe((0,ut.U)(Je=>(null==Je?void 0:Je.user)?Je:null),(0,ba.R)(c.outsideAngular),(0,Gs.Q)(c.insideAngular))}return(0,pi.pX)(this,ie,s,{spy:{apply:(le,Ve,Ze)=>{(le.startsWith("signIn")||le.startsWith("createUser"))&&Ze.then(Ye=>B.next(Ye))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pi.Dh),o.LFG(pi.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(dn.HU),o.LFG(ae,8),o.LFG(Se,8),o.LFG(rt,8),o.LFG(Ct,8),o.LFG(Wt,8),o.LFG(Hn,8),o.LFG(Tu,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),pf=(()=>{class n{constructor(){fc.Z.registerVersion("angularfire",dn.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Nr]}),n})();class Er extends xt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:Pd}=Array,{getPrototypeOf:kg,prototype:Rg,keys:gf}=Object;function mf(n){if(1===n.length){const t=n[0];if(Pd(t))return{args:t,keys:null};if(function _f(n){return n&&"object"==typeof n&&kg(n)===Rg}(t)){const e=gf(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:Ac}=Array;function xc(n){return(0,ut.U)(t=>function yf(n,t){return Ac(t)?n(...t):n(t)}(n,t))}function Nd(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var gi=F(9672);function Og(n,t,e){n?(0,gi.f)(e,n,t):t()}function Iu(n,t){const e=(0,lr.m)(n)?n:()=>n,i=r=>r.error(e());return new gn.y(t?r=>t.schedule(i,0,r):i)}var Pg=F(8189);function Ng(...n){return function YS(){return(0,Pg.J)(1)}()((0,qn.D)(n,(0,Qn.yG)(n)))}function Fg(n){return new gn.y(t=>{(0,br.Xf)(n()).subscribe(t)})}var Su=F(515),Es=F(727);function KS(){return(0,Vt.e)((n,t)=>{let e=null;n._refCount++;const i=new wn.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class vf extends gn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Vt.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Es.w0;const e=this.getSubject();t.add(this.source.subscribe(new wn.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Es.w0.EMPTY)}return t}refCount(){return KS()(this)}}function jn(...n){const t=(0,Qn.yG)(n);return(0,Vt.e)((e,i)=>{(t?Ng(n,e,t):Ng(n,e)).subscribe(i)})}function Ry(n,t,e,i,r){return(s,c)=>{let d=e,p=t,_=0;s.subscribe(new wn.Q(c,b=>{const D=_++;p=d?n(p,b,D):(d=!0,b),i&&c.next(p)},r&&(()=>{d&&c.next(p),c.complete()})))}}function bf(n,t){return(0,Vt.e)(Ry(n,t,arguments.length>=2,!0))}function Sa(n){return(0,Vt.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe(new wn.Q(e,void 0,void 0,c=>{s=(0,br.Xf)(n(c,Sa(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}var vn=F(5577);function Ma(n,t){return(0,lr.m)(t)?(0,vn.z)(n,t,1):(0,vn.z)(n,1)}function wf(n){return n<=0?()=>Su.E:(0,Vt.e)((t,e)=>{let i=[];t.subscribe(new wn.Q(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}var Dr=F(8505);function Oy(n){return(0,Vt.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class Rl{constructor(t,e){this.id=t,this.url=e}}class Lg extends Rl{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cf extends Rl{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Py extends Rl{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class JS extends Rl{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class XS extends Rl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ny extends Rl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eM extends Rl{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tM extends Rl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fy extends Rl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qC{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ZC{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bg{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nM{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iM{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rM{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YC{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const tn="primary";class KC{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Fd(n){return new KC(n)}const QC="ngNavigationCancelingError";function Ly(n){const t=Error("NavigationCancelingError: "+n);return t[QC]=!0,t}function oM(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],d=n[s];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Aa(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!XC(n[r],t[r]))return!1;return!0}function XC(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function Mu(n){return Array.prototype.concat.apply([],n)}function Qo(n){return n.length>0?n[n.length-1]:null}function Fr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Jo(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,qn.D)(Promise.resolve(n)):at(n)}const xa={exact:function By(n,t,e){if(!Pl(n.segments,t.segments)||!Ld(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!By(n.children[i],t.children[i],e))return!1;return!0},subset:Vy},Vg={exact:function aM(n,t){return Aa(n,t)},subset:function Ef(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>XC(n[e],t[e]))},ignored:()=>!0};function Ug(n,t,e){return xa[e.paths](n.root,t.root,e.matrixParams)&&Vg[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Vy(n,t,e){return Uy(n,t,t.segments,e)}function Uy(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Pl(r,e)||t.hasChildren()||!Ld(r,e,i))}if(n.segments.length===e.length){if(!Pl(n.segments,e)||!Ld(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Vy(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Pl(n.segments,r)&&Ld(n.segments,r,i)&&n.children[tn])&&Uy(n.children[tn],t,s,i)}}function Ld(n,t,e){return t.every((i,r)=>Vg[e](n[r].parameters,i.parameters))}class Ol{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fd(this.queryParams)),this._queryParamMap}toString(){return lM.serialize(this)}}class sn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Fr(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zg(this)}}class Hg{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Fd(this.parameters)),this._parameterMap}toString(){return Wg(this)}}function Pl(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class t0{}class jg{parse(t){const e=new qg(t);return new Ol(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Df(t.root,!0)}`,i=function dM(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Gg(e)}=${Gg(r)}`).join("&"):`${Gg(e)}=${Gg(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function cM(n){return encodeURI(n)}(t.fragment)}`:""}`}}const lM=new jg;function zg(n){return n.segments.map(t=>Wg(t)).join("/")}function Df(n,t){if(!n.hasChildren())return zg(n);if(t){const e=n.children[tn]?Df(n.children[tn],!1):"",i=[];return Fr(n.children,(r,s)=>{s!==tn&&i.push(`${s}:${Df(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function e0(n,t){let e=[];return Fr(n.children,(i,r)=>{r===tn&&(e=e.concat(t(i,r)))}),Fr(n.children,(i,r)=>{r!==tn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===tn?[Df(n.children[tn],!1)]:[`${r}:${Df(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[tn]?`${zg(n)}/${e[0]}`:`${zg(n)}/(${e.join("//")})`}}function n0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gg(n){return n0(n).replace(/%3B/gi,";")}function $g(n){return n0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vd(n){return decodeURIComponent(n)}function Hy(n){return Vd(n.replace(/\+/g,"%20"))}function Wg(n){return`${$g(n.path)}${function uM(n){return Object.keys(n).map(t=>`;${$g(t)}=${$g(n[t])}`).join("")}(n.parameters)}`}const r0=/^[^\/()?;=#]+/;function Tf(n){const t=n.match(r0);return t?t[0]:""}const Au=/^[^=?&#]+/,o0=/^[^&#]+/;class qg{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sn([],{}):new sn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[tn]=new sn(t,e)),i}parseSegment(){const t=Tf(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Hg(Vd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Tf(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Tf(this.remaining);r&&(i=r,this.capture(i))}t[Vd(e)]=Vd(i)}parseQueryParam(t){const e=function s0(n){const t=n.match(Au);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function hM(n){const t=n.match(o0);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=Hy(e),s=Hy(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Tf(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=tn);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[tn]:new sn([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class a0{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Zg(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Zg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Yg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Yg(t,this._root).map(e=>e.value)}}function Zg(n,t){if(n===t.value)return t;for(const e of t.children){const i=Zg(n,e);if(i)return i}return null}function Yg(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Yg(n,e);if(i.length)return i.unshift(t),i}return[]}class ka{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function kc(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class jy extends a0{constructor(t,e){super(t),this.snapshot=e,zy(this,t)}toString(){return this.snapshot.toString()}}function If(n,t){const e=function Kg(n,t){const c=new Ud([],{},{},"",{},tn,t,null,n.root,-1,{});return new Hd("",new ka(c,[]))}(n,t),i=new Er([new Hg("",{})]),r=new Er({}),s=new Er({}),c=new Er({}),d=new Er(""),p=new Ra(i,r,c,d,s,tn,t,e.root);return p.snapshot=e.root,new jy(new ka(p,[]),e)}class Ra{constructor(t,e,i,r,s,c,d,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ut.U)(t=>Fd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ut.U)(t=>Fd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qg(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function l0(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Ud{constructor(t,e,i,r,s,c,d,p,_,b,D){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=b,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hd extends a0{constructor(t,e){super(e),this.url=t,zy(this,e)}toString(){return Gy(this._root)}}function zy(n,t){t.value._routerState=n,t.children.forEach(e=>zy(n,e))}function Gy(n){const t=n.children.length>0?` { ${n.children.map(Gy).join(", ")} } `:"";return`${n.value}${t}`}function $y(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Aa(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Aa(t.params,e.params)||n.params.next(e.params),function JC(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Aa(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Aa(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Wy(n,t){const e=Aa(n.params,t.params)&&function Bd(n,t){return Pl(n,t)&&n.every((e,i)=>Aa(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Wy(n.parent,t.parent))}function xu(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function u0(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return xu(n,i,r);return xu(n,i)})}(n,t,e);return new ka(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>xu(n,d)),c}}const i=function JN(n){return new Ra(new Er(n.url),new Er(n.params),new Er(n.queryParams),new Er(n.fragment),new Er(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>xu(n,s));return new ka(i,r)}}function Jg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function jd(n){return"object"==typeof n&&null!=n&&n.outlets}function qy(n,t,e,i,r){let s={};if(i&&Fr(i,(d,p)=>{s[p]=Array.isArray(d)?d.map(_=>`${_}`):`${d}`}),n===t)return new Ol(e,s,r);const c=h0(n,t,e);return new Ol(c,s,r)}function h0(n,t,e){const i={};return Fr(n.children,(r,s)=>{i[s]=r===t?e:h0(r,t,e)}),new sn(n.segments,i)}class Ao{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Jg(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(jd);if(r&&r!==Qo(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xg{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function f0(n,t,e){if(n||(n=new sn([],{})),0===n.segments.length&&n.hasChildren())return Sf(n,t,e);const i=function _M(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const c=n.segments[r],d=e[i];if(jd(d))break;const p=`${d}`,_=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!Yy(p,_,c))return s;i+=2}else{if(!Yy(p,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new sn(n.segments.slice(0,i.pathIndex),{});return s.children[tn]=new sn(n.segments.slice(i.pathIndex),n.children),Sf(s,0,r)}return i.match&&0===r.length?new sn(n.segments,{}):i.match&&!n.hasChildren()?Zy(n,t,e):i.match?Sf(n,0,r):Zy(n,t,e)}function Sf(n,t,e){if(0===e.length)return new sn(n.segments,{});{const i=function mM(n){return jd(n[0])?n[0].outlets:{[tn]:n}}(e),r={};return Fr(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=f0(n.children[c],t,s))}),Fr(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new sn(n.segments,r)}}function Zy(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(jd(s)){const p=yM(s.outlets);return new sn(i,p)}if(0===r&&Jg(e[0])){i.push(new Hg(n.segments[t].path,Lt(e[0]))),r++;continue}const c=jd(s)?s.outlets[tn]:`${s}`,d=r<e.length-1?e[r+1]:null;c&&d&&Jg(d)?(i.push(new Hg(c,Lt(d))),r+=2):(i.push(new Hg(c,{})),r++)}return new sn(i,{})}function yM(n){const t={};return Fr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Zy(new sn([],{}),0,e))}),t}function Lt(n){const t={};return Fr(n,(e,i)=>t[i]=`${e}`),t}function Yy(n,t,e){return n==e.path&&Aa(t,e.parameters)}class g0{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),$y(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=kc(e);t.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),Fr(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=kc(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=kc(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=kc(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new rM(s.value.snapshot))}),t.children.length&&this.forwardEvent(new nM(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if($y(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),$y(d.route.value),this.activateChildRoutes(t,null,c.children)}else{const d=function em(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),p=d?d.module.componentFactoryResolver:null;c.attachRef=null,c.route=r,c.resolver=p,c.outlet&&c.outlet.activateWith(r,p),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class Ks{constructor(t,e){this.routes=t,this.module=e}}function Nl(n){return"function"==typeof n}function Fl(n){return n instanceof Ol}const tm=Symbol("INITIAL_VALUE");function zd(){return yn(n=>function WC(...n){const t=(0,Qn.yG)(n),e=(0,Qn.jO)(n),{args:i,keys:r}=mf(n);if(0===i.length)return(0,qn.D)([],t);const s=new gn.y(function ZS(n,t,e=bo.y){return i=>{Og(t,()=>{const{length:r}=n,s=new Array(r);let c=r,d=r;for(let p=0;p<r;p++)Og(t,()=>{const _=(0,qn.D)(n[p],t);let b=!1;_.subscribe(new wn.Q(i,D=>{s[p]=D,b||(b=!0,d--),d||i.next(e(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>Nd(r,c):bo.y));return e?s.pipe(xc(e)):s}(n.map(t=>t.pipe((0,Tn.q)(1),jn(tm)))).pipe(bf((t,e)=>{let i=!1;return e.reduce((r,s,c)=>r!==tm?r:(s===tm&&(i=!0),i||!1!==s&&c!==e.length-1&&!Fl(s)?r:s),t)},tm),un(t=>t!==tm),(0,ut.U)(t=>Fl(t)?t:!0===t),(0,Tn.q)(1)))}class XN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Rc,this.attachRef=null}}class Rc{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new XN,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Gd=(()=>{class n{constructor(e,i,r,s,c){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=s||tn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const c=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),d=this.parentContexts.getOrCreateContext(this.name).children,p=new Jy(e,d,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,p),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Rc),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Jy{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Ra?this.route:t===Rc?this.childContexts:this.parent.get(t,e)}}let nm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[Gd],encapsulation:2}),n})();function im(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];eF(i,bM(t,i))}}function eF(n,t){n.children&&im(n.children,t)}function bM(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Xy(n){const t=n.children&&n.children.map(Xy),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==tn&&(e.component=nm),e}function xo(n){return n.outlet||tn}function _0(n,t){const e=n.filter(i=>xo(i)===t);return e.push(...n.filter(i=>xo(i)!==t)),e}const ev={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tv(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},ev):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(t.matcher||oM)(e,n,t);if(!s)return Object.assign({},ev);const c={};Fr(s.posParams,(p,_)=>{c[_]=p.path});const d=s.consumed.length>0?Object.assign(Object.assign({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:d,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function rm(n,t,e,i,r="corrected"){if(e.length>0&&function v0(n,t,e){return e.some(i=>$d(n,t,i)&&xo(i)!==tn)}(n,e,i)){const c=new sn(t,function y0(n,t,e,i){const r={};r[tn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&xo(s)!==tn){const c=new sn([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[xo(s)]=c}return r}(n,t,i,new sn(e,n.children)));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function wM(n,t,e){return e.some(i=>$d(n,t,i))}(n,e,i)){const c=new sn(n.segments,function tF(n,t,e,i,r,s){const c={};for(const d of i)if($d(n,e,d)&&!r[xo(d)]){const p=new sn([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:t.length,c[xo(d)]=p}return Object.assign(Object.assign({},r),c)}(n,t,e,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const s=new sn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function $d(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function CM(n,t,e,i){return!!(xo(n)===i||i!==tn&&$d(t,e,n))&&("**"===n.path||tv(t,n,e).matched)}function EM(n,t,e){return 0===t.length&&!n.children[e]}class nv{constructor(t){this.segmentGroup=t||null}}class DM{constructor(t){this.urlTree=t}}function sm(n){return Iu(new nv(n))}function TM(n){return Iu(new DM(n))}class sF{constructor(t,e,i,r,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(o.h0i)}apply(){const t=rm(this.urlTree.root,[],[],this.config).segmentGroup,e=new sn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,tn).pipe((0,ut.U)(s=>this.createUrlTree(Mf(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Sa(s=>{if(s instanceof DM)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof nv?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,tn).pipe((0,ut.U)(r=>this.createUrlTree(Mf(r),t.queryParams,t.fragment))).pipe(Sa(r=>{throw r instanceof nv?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new sn([],{[tn]:t}):t;return new Ol(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,ut.U)(s=>new sn([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,qn.D)(r).pipe(Ma(s=>{const c=i.children[s],d=_0(e,s);return this.expandSegmentGroup(t,d,c,s).pipe((0,ut.U)(p=>({segment:p,outlet:s})))}),bf((s,c)=>(s[c.outlet]=c.segment,s),{}),function QS(n,t){const e=arguments.length>=2;return i=>i.pipe(n?un((r,s)=>n(r,s,i)):bo.y,wf(1),e?ys(t):bl(()=>new es))}())}expandSegment(t,e,i,r,s,c){return(0,qn.D)(i).pipe(Ma(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,s,c).pipe(Sa(_=>{if(_ instanceof nv)return at(null);throw _}))),Or(d=>!!d),Sa((d,p)=>{if(d instanceof es||"EmptyError"===d.name)return EM(e,r,s)?at(new sn([],{})):sm(e);throw d}))}expandSegmentAgainstRoute(t,e,i,r,s,c,d){return CM(r,e,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c):sm(e):sm(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?TM(s):this.lineralizeSegments(i,s).pipe((0,vn.z)(c=>{const d=new sn(c,{});return this.expandSegment(t,d,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){const{matched:d,consumedSegments:p,remainingSegments:_,positionalParamSegments:b}=tv(e,r,s);if(!d)return sm(e);const D=this.applyRedirectCommands(p,r.redirectTo,b);return r.redirectTo.startsWith("/")?TM(D):this.lineralizeSegments(r,D).pipe((0,vn.z)(A=>this.expandSegment(t,e,i,A.concat(_),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?at(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,ut.U)(D=>(i._loadedConfig=D,new sn(r,{})))):at(new sn(r,{}));const{matched:c,consumedSegments:d,remainingSegments:p}=tv(e,i,r);return c?this.getChildConfig(t,i,r).pipe((0,vn.z)(b=>{const D=b.module,A=b.routes,{segmentGroup:O,slicedSegments:B}=rm(e,d,p,A),ie=new sn(O.segments,O.children);if(0===B.length&&ie.hasChildren())return this.expandChildren(D,A,ie).pipe((0,ut.U)(Ye=>new sn(d,Ye)));if(0===A.length&&0===B.length)return at(new sn(d,{}));const le=xo(i)===s;return this.expandSegment(D,ie,A,B,le?tn:s,!0).pipe((0,ut.U)(Ze=>new sn(d.concat(Ze.segments),Ze.children)))})):sm(e)}getChildConfig(t,e,i){return e.children?at(new Ks(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?at(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,vn.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,ut.U)(s=>(e._loadedConfig=s,s))):function iF(n){return Iu(Ly(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):at(new Ks([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?at(r.map(c=>{const d=t.get(c);let p;if(function Ll(n){return n&&Nl(n.canLoad)}(d))p=d.canLoad(e,i);else{if(!Nl(d))throw new Error("Invalid CanLoad guard");p=d(e,i)}return Jo(p)})).pipe(zd(),(0,Dr.b)(c=>{if(!Fl(c))return;const d=Ly(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw d.url=c,d}),(0,ut.U)(c=>!0===c)):at(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return at(i);if(r.numberOfChildren>1||!r.children[tn])return Iu(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[tn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Ol(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Fr(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=e[d]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let c={};return Fr(e.children,(d,p)=>{c[p]=this.createSegmentGroup(t,d,i,r)}),new sn(s,c)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function Mf(n){const t={};for(const i of Object.keys(n.children)){const s=Mf(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function Oc(n){if(1===n.numberOfChildren&&n.children[tn]){const t=n.children[tn];return new sn(n.segments.concat(t.segments),t.children)}return n}(new sn(n.segments,t))}class iv{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Wd{constructor(t,e){this.component=t,this.route=e}}function b0(n,t,e){const i=n._root;return qd(i,t?t._root:null,e,[i.value])}function om(n,t,e){const i=function Pc(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function qd(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=kc(t);return n.children.forEach(c=>{(function SM(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function sv(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Pl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Pl(n.url,t.url)||!Aa(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wy(n,t)||!Aa(n.queryParams,t.queryParams);default:return!Wy(n,t)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new iv(i)):(s.data=c.data,s._resolvedData=c._resolvedData),qd(n,t,s.component?d?d.children:null:e,i,r),p&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new Wd(d.outlet.component,c))}else c&&Af(t,d,r),r.canActivateChecks.push(new iv(i)),qd(n,null,s.component?d?d.children:null:e,i,r)})(c,s[c.value.outlet],e,i.concat([c.value]),r),delete s[c.value.outlet]}),Fr(s,(c,d)=>Af(c,e.getContext(d),r)),r}function Af(n,t,e){const i=kc(n),r=n.value;Fr(i,(s,c)=>{Af(s,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new Wd(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class Kd{}function C0(n){return new gn.y(t=>t.error(n))}class D0{constructor(t,e,i,r,s,c){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=c}recognize(){const t=rm(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,tn);if(null===e)return null;const i=new Ud([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},tn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ka(i,e),s=new Hd(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,i=Qg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const s of Object.keys(e.children)){const c=e.children[s],d=_0(t,s),p=this.processSegmentGroup(d,c,s);if(null===p)return null;i.push(...p)}const r=Rf(i);return function av(n){n.sort((t,e)=>t.value.outlet===tn?-1:e.value.outlet===tn?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const s of t){const c=this.processSegmentAgainstRoute(s,e,i,r);if(null!==c)return c}return EM(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!CM(t,e,i,r))return null;let s,c=[],d=[];if("**"===t.path){const O=i.length>0?Qo(i).parameters:{};s=new Ud(i,O,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uv(t),xo(t),t.component,t,cv(e),xM(e)+i.length,dv(t))}else{const O=tv(e,t,i);if(!O.matched)return null;c=O.consumedSegments,d=O.remainingSegments,s=new Ud(c,O.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uv(t),xo(t),t.component,t,cv(e),xM(e)+c.length,dv(t))}const p=function lv(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:_,slicedSegments:b}=rm(e,c,d,p.filter(O=>void 0===O.redirectTo),this.relativeLinkResolution);if(0===b.length&&_.hasChildren()){const O=this.processChildren(p,_);return null===O?null:[new ka(s,O)]}if(0===p.length&&0===b.length)return[new ka(s,[])];const D=xo(t)===r,A=this.processSegment(p,_,b,D?tn:r);return null===A?null:[new ka(s,A)]}}function T0(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Rf(n){const t=[],e=new Set;for(const i of n){if(!T0(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Rf(i.children);t.push(new ka(i.value,r))}return t.filter(i=>!e.has(i))}function cv(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function xM(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function uv(n){return n.data||{}}function dv(n){return n.resolve||{}}function Ds(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function hv(n){return yn(t=>{const e=n(t);return e?(0,qn.D)(e).pipe((0,ut.U)(()=>t)):at(t)})}class S0 extends class lF{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const M0=new o.OlP("ROUTES");class A0{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,ut.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const c=s.create(t);return new Ks(Mu(c.injector.get(M0,void 0,o.XFs.Self|o.XFs.Optional)).map(Xy),c)}),Sa(s=>{throw e._loader$=void 0,s}));return e._loader$=new vf(r,()=>new xt.x).pipe(KS()),e._loader$}loadModuleFactory(t){return Jo(t()).pipe((0,vn.z)(e=>e instanceof o.YKP?at(e):(0,qn.D)(this.compiler.compileModuleAsync(e))))}}class x0{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function NM(n){throw n}function FM(n,t,e){return t.parse("/")}function k0(n,t){return at(null)}const R0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},LM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let dr=(()=>{class n{constructor(e,i,r,s,c,d,p){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new xt.x,this.errorHandler=NM,this.malformedUriErrorHandler=FM,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:k0,afterPreactivation:k0},this.urlHandlingStrategy=new x0,this.routeReuseStrategy=new S0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(o.h0i),this.console=c.get(o.c2e);const D=c.get(o.R0b);this.isNgZoneEnabled=D instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function QN(){return new Ol(new sn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new A0(c,d,A=>this.triggerEvent(new qC(A)),A=>this.triggerEvent(new ZC(A))),this.routerState=If(this.currentUrlTree,this.rootComponentType),this.transitions=new Er({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(un(r=>0!==r.id),(0,ut.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),yn(r=>{let s=!1,c=!1;return at(r).pipe((0,Dr.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.currentRawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),yn(d=>{const p=this.browserUrlTree.toString(),_=!this.navigated||d.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return O0(d.source)&&(this.browserUrlTree=d.extractedUrl),at(d).pipe(yn(D=>{const A=this.transitions.getValue();return i.next(new Lg(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),A!==this.transitions.getValue()?Su.E:Promise.resolve(D)}),function IM(n,t,e,i){return yn(r=>function rF(n,t,e,i,r){return new sF(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,ut.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Dr.b)(D=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:D.urlAfterRedirects})}),function kM(n,t,e,i,r){return(0,vn.z)(s=>function E0(n,t,e,i,r="emptyOnly",s="legacy"){try{const c=new D0(n,t,e,i,r,s).recognize();return null===c?C0(new Kd):at(c)}catch(c){return C0(c)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),i,r).pipe((0,ut.U)(c=>Object.assign(Object.assign({},s),{targetSnapshot:c}))))}(this.rootComponentType,this.config,D=>this.serializeUrl(D),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Dr.b)(D=>{if("eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const O=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(O,D)}this.browserUrlTree=D.urlAfterRedirects}const A=new XS(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);i.next(A)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:A,extractedUrl:O,source:B,restoredState:ie,extras:le}=d,Ve=new Lg(A,this.serializeUrl(O),B,ie);i.next(Ve);const Ze=If(O,this.rootComponentType).snapshot;return at(Object.assign(Object.assign({},d),{targetSnapshot:Ze,urlAfterRedirects:O,extras:Object.assign(Object.assign({},le),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=d.rawUrl,d.resolve(null),Su.E}),hv(d=>{const{targetSnapshot:p,id:_,extractedUrl:b,rawUrl:D,extras:{skipLocationChange:A,replaceUrl:O}}=d;return this.hooks.beforePreactivation(p,{navigationId:_,appliedUrlTree:b,rawUrlTree:D,skipLocationChange:!!A,replaceUrl:!!O})}),(0,Dr.b)(d=>{const p=new Ny(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(p)}),(0,ut.U)(d=>Object.assign(Object.assign({},d),{guards:b0(d.targetSnapshot,d.currentSnapshot,this.rootContexts)})),function w0(n,t){return(0,vn.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?at(Object.assign(Object.assign({},e),{guardsResult:!0})):function MM(n,t,e,i){return(0,qn.D)(n).pipe((0,vn.z)(r=>function kf(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?at(s.map(d=>{const p=om(d,t,r);let _;if(function Qy(n){return n&&Nl(n.canDeactivate)}(p))_=Jo(p.canDeactivate(n,t,e,i));else{if(!Nl(p))throw new Error("Invalid CanDeactivate guard");_=Jo(p(n,t,e,i))}return _.pipe(Or())})).pipe(zd()):at(!0)}(r.component,r.route,e,t,i)),Or(r=>!0!==r,!0))}(c,i,r,n).pipe((0,vn.z)(d=>d&&function vM(n){return"boolean"==typeof n}(d)?function AM(n,t,e,i){return(0,qn.D)(t).pipe(Ma(r=>Ng(function Zd(n,t){return null!==n&&t&&t(new Bg(n)),at(!0)}(r.route.parent,i),function xf(n,t){return null!==n&&t&&t(new iM(n)),at(!0)}(r.route,i),function Yd(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(c=>function rv(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>Fg(()=>at(c.guards.map(p=>{const _=om(p,c.node,e);let b;if(function m0(n){return n&&Nl(n.canActivateChild)}(_))b=Jo(_.canActivateChild(i,n));else{if(!Nl(_))throw new Error("Invalid CanActivateChild guard");b=Jo(_(i,n))}return b.pipe(Or())})).pipe(zd())));return at(s).pipe(zd())}(n,r.path,e),function ov(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return at(!0);const r=i.map(s=>Fg(()=>{const c=om(s,t,e);let d;if(function Ky(n){return n&&Nl(n.canActivate)}(c))d=Jo(c.canActivate(t,n));else{if(!Nl(c))throw new Error("Invalid CanActivate guard");d=Jo(c(t,n))}return d.pipe(Or())}));return at(r).pipe(zd())}(n,r.route,e))),Or(r=>!0!==r,!0))}(i,s,n,t):at(d)),(0,ut.U)(d=>Object.assign(Object.assign({},e),{guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,Dr.b)(d=>{if(Fl(d.guardsResult)){const _=Ly(`Redirecting to "${this.serializeUrl(d.guardsResult)}"`);throw _.url=d.guardsResult,_}const p=new eM(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(p)}),un(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,""),!1)),hv(d=>{if(d.guards.canActivateChecks.length)return at(d).pipe((0,Dr.b)(p=>{const _=new tM(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),yn(p=>{let _=!1;return at(p).pipe(function I0(n,t){return(0,vn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return at(e);let s=0;return(0,qn.D)(r).pipe(Ma(c=>function RM(n,t,e,i){return function OM(n,t,e,i){const r=Ds(n);if(0===r.length)return at({});const s={};return(0,qn.D)(r).pipe((0,vn.z)(c=>function PM(n,t,e,i){const r=om(n,t,i);return Jo(r.resolve?r.resolve(t,e):r(t,e))}(n[c],t,e,i).pipe((0,Dr.b)(d=>{s[c]=d}))),wf(1),(0,vn.z)(()=>Ds(s).length===r.length?at(s):Su.E))}(n._resolve,n,t,i).pipe((0,ut.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),Qg(n,e).resolve),null)))}(c.route,i,n,t)),(0,Dr.b)(()=>s++),wf(1),(0,vn.z)(c=>s===r.length?at(e):Su.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Dr.b)({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(p),this.cancelNavigationTransition(p,"At least one route resolver didn't emit any value."))}}))}),(0,Dr.b)(p=>{const _=new Fy(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}))}),hv(d=>{const{targetSnapshot:p,id:_,extractedUrl:b,rawUrl:D,extras:{skipLocationChange:A,replaceUrl:O}}=d;return this.hooks.afterPreactivation(p,{navigationId:_,appliedUrlTree:b,rawUrlTree:D,skipLocationChange:!!A,replaceUrl:!!O})}),(0,ut.U)(d=>{const p=function c0(n,t,e){const i=xu(n,t._root,e?e._root:void 0);return new jy(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return Object.assign(Object.assign({},d),{targetRouterState:p})}),(0,Dr.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,ut.U)(i=>(new g0(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,Dr.b)({next(){s=!0},complete(){s=!0}}),Oy(()=>{var d;s||c||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(d=this.currentNavigation)||void 0===d?void 0:d.id)===r.id&&(this.currentNavigation=null)}),Sa(d=>{if(c=!0,function sM(n){return n&&n[QC]}(d)){const p=Fl(d.url);p||(this.navigated=!0,this.restoreHistory(r,!0));const _=new Py(r.id,this.serializeUrl(r.extractedUrl),d.message);i.next(_),p?setTimeout(()=>{const b=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),D={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||O0(r.source)};this.scheduleNavigation(b,"imperative",null,D,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new JS(r.id,this.serializeUrl(r.extractedUrl),d);i.next(p);try{r.resolve(this.errorHandler(d))}catch(_){r.reject(_)}}return Su.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},c=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(c){const p=Object.assign({},c);delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const d=this.parseUrl(e.url);this.scheduleNavigation(d,i,c,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){im(e),this.config=e.map(Xy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:p}=i,_=r||this.routerState.root,b=p?this.currentUrlTree.fragment:c;let D=null;switch(d){case"merge":D=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=s||null}return null!==D&&(D=this.removeEmptyProps(D)),function d0(n,t,e,i,r){if(0===e.length)return qy(t.root,t.root,t.root,i,r);const s=function fM(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ao(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return Fr(s.outlets,(p,_)=>{d[_]="string"==typeof p?p.split("/"):p}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new Ao(e,t,i)}(e);if(s.toRoot())return qy(t.root,t.root,new sn([],{}),i,r);const c=function pM(n,t,e){if(n.isAbsolute)return new Xg(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new Xg(s,s===t.root,0)}const i=Jg(n.commands[0])?0:1;return function gM(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Xg(i,!1,r-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,t,n),d=c.processChildren?Sf(c.segmentGroup,c.index,s.commands):f0(c.segmentGroup,c.index,s.commands);return qy(t.root,c.segmentGroup,d,i,r)}(_,this.currentUrlTree,e,D,null!=b?b:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Fl(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function BM(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},R0):!1===i?Object.assign({},LM):i,Fl(e))return Ug(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Ug(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Cf(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,c){var d,p;if(this.disposed)return Promise.resolve(!1);let _,b,D;c?(_=c.resolve,b=c.reject,D=c.promise):D=new Promise((B,ie)=>{_=B,b=ie});const A=++this.navigationId;let O;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),O=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(d=this.browserPageId)&&void 0!==d?d:0:(null!==(p=this.browserPageId)&&void 0!==p?p:0)+1):O=0,this.setTransition({id:A,targetPageId:O,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:_,reject:b,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(B=>Promise.reject(B))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===c?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===c&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new Py(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function O0(n){return"imperative"!==n}let ku=(()=>{class n{constructor(e,i,r,s,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this.commands=null,this.onChanges=new xt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:Qd(this.skipLocationChange),replaceUrl:Qd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Qd(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(dr),o.Y36(Ra),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})();function Qd(n){return""===n||!!n}class P0{}class UM{preload(t,e){return at(null)}}let gv=(()=>{class n{constructor(e,i,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new A0(r,i,p=>e.triggerEvent(new qC(p)),p=>e.triggerEvent(new ZC(p)))}setUpPreloading(){this.subscription=this.router.events.pipe(un(e=>e instanceof Cf),Ma(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(o.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const c=s._loadedConfig;r.push(this.processRoutes(c.module,c.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children));return(0,qn.D)(r).pipe((0,Pg.J)(),(0,ut.U)(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?at(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,vn.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(dr),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(P0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),mv=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Lg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Cf&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof YC&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new YC(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Ru=new o.OlP("ROUTER_CONFIGURATION"),lm=new o.OlP("ROUTER_FORROOT_GUARD"),HM=[et,{provide:t0,useClass:jg},{provide:dr,useFactory:function N0(n,t,e,i,r,s,c={},d,p){const _=new dr(null,n,t,e,i,r,Mu(s));return d&&(_.urlHandlingStrategy=d),p&&(_.routeReuseStrategy=p),function GM(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(c,_),c.enableTracing&&_.events.subscribe(b=>{var D,A;null===(D=console.group)||void 0===D||D.call(console,`Router Event: ${b.constructor.name}`),console.log(b.toString()),console.log(b),null===(A=console.groupEnd)||void 0===A||A.call(console)}),_},deps:[t0,Rc,et,o.zs3,o.Sil,M0,Ru,[class fv{},new o.FiY],[class aF{},new o.FiY]]},Rc,{provide:Ra,useFactory:function $M(n){return n.routerState.root},deps:[dr]},gv,UM,class VM{preload(t,e){return e().pipe(Sa(()=>at(null)))}},{provide:Ru,useValue:{enableTracing:!1}}];function jM(){return new o.PXZ("Router",dr)}let Jd=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[HM,cm(e),{provide:lm,useFactory:yv,deps:[[dr,new o.FiY,new o.tp0]]},{provide:Ru,useValue:i||{}},{provide:ye,useFactory:zM,deps:[pe,[new o.tBr(Pe),new o.FiY],Ru]},{provide:mv,useFactory:_v,deps:[dr,oc,Ru]},{provide:P0,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:UM},{provide:o.PXZ,multi:!0,useFactory:jM},[Of,{provide:o.ip1,multi:!0,useFactory:uF,deps:[Of]},{provide:vv,useFactory:WM,deps:[Of]},{provide:o.tb,multi:!0,useExisting:vv}]]}}static forChild(e){return{ngModule:n,providers:[cm(e)]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(lm,8),o.LFG(dr,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function _v(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new mv(n,t,e)}function zM(n,t,e={}){return e.useHash?new Ne(n,t):new Le(n,t)}function yv(n){return"guarded"}function cm(n){return[{provide:o.deG,multi:!0,useValue:n},{provide:M0,multi:!0,useValue:n}]}let Of=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new xt.x}appInitializer(){return this.injector.get(K,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(d=>i=d),s=this.injector.get(dr),c=this.injector.get(Ru);return"disabled"===c.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?at(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Ru),r=this.injector.get(gv),s=this.injector.get(mv),c=this.injector.get(dr),d=this.injector.get(o.z2F);e===d.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&c.initialNavigation(),r.setUpPreloading(),s.init(),c.resetRootComponentType(d.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function uF(n){return n.appInitializer.bind(n)}function WM(n){return n.bootstrapListener.bind(n)}const vv=new o.OlP("Router Initializer");let bv=(()=>{class n{constructor(e,i){this.auth=e,this.router=i,this.signedIn=!1,this.auth.authState.subscribe(r=>{console.log(r,"auth"),this.authState=r,this.signedIn=!!r,this.router.navigateByUrl("/")}),e.credential.subscribe(r=>{console.log(r,"cred")})}loginWithGoogle(){this.auth.signInWithPopup(new fc.Z.auth.GoogleAuthProvider)}login(e){}logout(){this.auth.signOut().then(e=>{console.log(e),this.router.navigateByUrl("/auth")})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Nr),o.LFG(dr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wv(...n){const t=(0,Qn.jO)(n),{args:e,keys:i}=mf(n),r=new gn.y(s=>{const{length:c}=e;if(!c)return void s.complete();const d=new Array(c);let p=c,_=c;for(let b=0;b<c;b++){let D=!1;(0,br.Xf)(e[b]).subscribe(new wn.Q(s,A=>{D||(D=!0,_--),d[b]=A},()=>p--,void 0,()=>{(!p||!D)&&(_||s.next(i?Nd(i,d):d),s.complete())}))}});return t?r.pipe(xc(t)):r}let Pa=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),Na=(()=>{class n extends Pa{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const Xo=new o.OlP("NgValueAccessor"),Cv={provide:Xo,useExisting:(0,o.Gpc)(()=>Bl),multi:!0},Ev=new o.OlP("CompositionEventMode");let Bl=(()=>{class n extends Pa{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function L0(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Ev,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([Cv]),o.qOj]}),n})();function Nc(n){return null==n||0===n.length}function um(n){return null!=n&&"number"==typeof n.length}const hr=new o.OlP("NgValidators"),Vl=new o.OlP("NgAsyncValidators"),B0=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class V0{static min(t){return function dm(n){return t=>{if(Nc(t.value)||Nc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function U0(n){return t=>{if(Nc(t.value)||Nc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function H0(n){return Nc(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function Dv(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function Ou(n){return Nc(n.value)||B0.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Tv(n){return t=>Nc(t.value)||!um(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function j0(n){return t=>um(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function z0(n){if(!n)return Ul;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Nc(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Iv(t)}static composeAsync(t){return Sv(t)}}function Ul(n){return null}function G0(n){return null!=n}function $0(n){const t=(0,o.QGY)(n)?(0,qn.D)(n):n;return(0,o.CqO)(t),t}function W0(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function q0(n,t){return t.map(e=>e(n))}function hm(n){return n.map(t=>function Fa(n){return!n.validate}(t)?t:e=>t.validate(e))}function Iv(n){if(!n)return null;const t=n.filter(G0);return 0==t.length?null:function(e){return W0(q0(e,t))}}function fm(n){return null!=n?Iv(hm(n)):null}function Sv(n){if(!n)return null;const t=n.filter(G0);return 0==t.length?null:function(e){return wv(q0(e,t).map($0)).pipe((0,ut.U)(W0))}}function pm(n){return null!=n?Sv(hm(n)):null}function Z0(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Y0(n){return n._rawValidators}function K0(n){return n._rawAsyncValidators}function Mv(n){return n?Array.isArray(n)?n:[n]:[]}function Pf(n,t){return Array.isArray(n)?n.includes(t):n===t}function KM(n,t){const e=Mv(t);return Mv(n).forEach(r=>{Pf(e,r)||e.push(r)}),e}function Av(n,t){return Mv(t).filter(e=>!Pf(n,e))}class Q0{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=fm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=pm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class La extends Q0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ts extends Q0{get formDirective(){return null}get path(){return null}}class QM{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let Nf=(()=>{class n extends QM{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(La,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[o.qOj]}),n})(),xv=(()=>{class n extends QM{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ts,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[o.qOj]}),n})();function Ff(n,t){kv(n,t),t.valueAccessor.writeValue(n.value),function sA(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ym(n,t)})}(n,t),function Ba(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function oA(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ym(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Xd(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function _m(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Fc(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Pu(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function kv(n,t){const e=Y0(n);null!==t.validator?n.setValidators(Z0(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=K0(n);null!==t.asyncValidator?n.setAsyncValidators(Z0(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Pu(t._rawValidators,r),Pu(t._rawAsyncValidators,r)}function Fc(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Y0(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=K0(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Pu(t._rawValidators,i),Pu(t._rawAsyncValidators,i),e}function ym(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function eh(n,t){kv(n,t)}function Nu(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Vc(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Va="VALID",Hl="INVALID",Fu="PENDING",ih="DISABLED";function bm(n){return(Bf(n)?n.validators:n)||null}function Rv(n){return Array.isArray(n)?fm(n):n||null}function wm(n,t){return(Bf(t)?t.asyncValidators:n)||null}function Ov(n){return Array.isArray(n)?pm(n):n||null}function Bf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Cm=n=>n instanceof Bv,Em=n=>n instanceof Vf,Pv=n=>n instanceof oE;function sE(n){return Cm(n)?n.value:n.getRawValue()}function Nv(n,t){const e=Em(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new o.vHH(1e3,"");if(!i[t])throw new o.vHH(1001,"")}function Fv(n,t){Em(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new o.vHH(1002,"")})}class Lv{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Rv(this._rawValidators),this._composedAsyncValidatorFn=Ov(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Va}get invalid(){return this.status===Hl}get pending(){return this.status==Fu}get disabled(){return this.status===ih}get enabled(){return this.status!==ih}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Rv(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Ov(t)}addValidators(t){this.setValidators(KM(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(KM(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Av(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Av(t,this._rawAsyncValidators))}hasValidator(t){return Pf(this._rawValidators,t)}hasAsyncValidator(t){return Pf(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Fu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ih,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Va,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Va||this.status===Fu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ih:Va}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Fu,this._hasOwnPendingAsyncValidator=!0;const e=$0(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function rE(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=Em(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:Pv(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?ih:this.errors?Hl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fu)?Fu:this._anyControlsHaveStatus(Hl)?Hl:Va}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Bf(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Bv extends Lv{constructor(t=null,e,i){super(bm(e),wm(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bf(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Vc(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Vc(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Vf extends Lv{constructor(t,e,i){super(bm(e),wm(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Fv(this,t),Object.keys(t).forEach(i=>{Nv(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=sE(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class oE extends Lv{constructor(t,e,i){super(bm(e),wm(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Fv(this,t),t.forEach((i,r)=>{Nv(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>sE(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const aE={provide:Ts,useExisting:(0,o.Gpc)(()=>Hf)},Uf=(()=>Promise.resolve(null))();let Hf=(()=>{class n extends Ts{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new Vf({},fm(e),pm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Uf.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Ff(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Uf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Uf.then(()=>{const i=this._findContainer(e.path),r=new Vf({});eh(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Uf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Uf.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Nu(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(hr,10),o.Y36(Vl,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([aE]),o.qOj]}),n})(),cA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),dE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Uv=new o.OlP("NgModelWithFormControlWarning"),gA={provide:Ts,useExisting:(0,o.Gpc)(()=>rh)};let rh=(()=>{class n extends Ts{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Ff(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){_m(e.control||null,e,!1),Vc(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,Nu(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(_m(i||null,e),Cm(r)&&(Ff(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);eh(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Lr(n,t){return Fc(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kv(this.form,this),this._oldForm&&Fc(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(hr,10),o.Y36(Vl,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([gA]),o.qOj,o.TTD]}),n})();const yF={provide:La,useExisting:(0,o.Gpc)(()=>Gf)};let Gf=(()=>{class n extends La{constructor(e,i,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Bc(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Bl?e=s:function nh(n){return Object.getPrototypeOf(n.constructor)===Na}(s)?i=s:r=s}),r||i||e||null}(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function Lc(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function mm(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(Ts,13),o.Y36(hr,10),o.Y36(Vl,10),o.Y36(Xo,10),o.Y36(Uv,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([yF]),o.qOj,o.TTD]}),n})(),Qv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[dE]]}),n})(),Om=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Qv]}),n})(),Pm=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Uv,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Qv]}),n})(),TE=(()=>{class n{group(e,i=null){const r=this._reduceControls(e);let d,s=null,c=null;return null!=i&&(function DE(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(s=null!=i.validators?i.validators:null,c=null!=i.asyncValidators?i.asyncValidators:null,d=null!=i.updateOn?i.updateOn:void 0):(s=null!=i.validator?i.validator:null,c=null!=i.asyncValidator?i.asyncValidator:null)),new Vf(r,{asyncValidators:c,updateOn:d,validators:s})}control(e,i,r){return new Bv(e,i,r)}array(e,i,r){const s=e.map(c=>this._createControl(c));return new oE(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return Cm(e)||Em(e)||Pv(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:Pm}),n})();class IE{}class SE{}class Ua{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ua?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ua;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ua?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let c=this.headers.get(e);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class wA{encodeKey(t){return AE(t)}encodeValue(t){return AE(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const ME=/%(\d[a-f0-9])/gi,CA={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function AE(n){return encodeURIComponent(n).replace(ME,(t,e)=>{var i;return null!==(i=CA[e])&&void 0!==i?i:t})}function Jv(n){return`${n}`}class Hc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new wA,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Xi(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,d]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],p=e.get(c)||[];p.push(d),e.set(c,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Hc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Jv(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Jv(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class xE{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function kE(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function RE(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Xv(n){return"undefined"!=typeof FormData&&n instanceof FormData}class oh{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function sh(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ua),this.context||(this.context=new xE),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+c}}else this.params=new Hc,this.urlWithParams=e}serializeBody(){return null===this.body?null:kE(this.body)||RE(this.body)||Xv(this.body)||function DA(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Xv(this.body)?null:RE(this.body)?this.body.type||null:kE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,c=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,p=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let _=t.headers||this.headers,b=t.params||this.params;const D=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(_=Object.keys(t.setHeaders).reduce((A,O)=>A.set(O,t.setHeaders[O]),_)),t.setParams&&(b=Object.keys(t.setParams).reduce((A,O)=>A.set(O,t.setParams[O]),b)),new oh(i,r,c,{params:b,headers:_,context:D,reportProgress:p,responseType:s,withCredentials:d})}}var er=(()=>((er=er||{})[er.Sent=0]="Sent",er[er.UploadProgress=1]="UploadProgress",er[er.ResponseHeader=2]="ResponseHeader",er[er.DownloadProgress=3]="DownloadProgress",er[er.Response=4]="Response",er[er.User=5]="User",er))();class Zf{constructor(t,e=200,i="OK"){this.headers=t.headers||new Ua,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Yf extends Zf{constructor(t={}){super(t),this.type=er.ResponseHeader}clone(t={}){return new Yf({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Js extends Zf{constructor(t={}){super(t),this.type=er.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Js({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class OE extends Zf{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function eb(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Xs=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof oh)s=e;else{let p,_;p=r.headers instanceof Ua?r.headers:new Ua(r.headers),r.params&&(_=r.params instanceof Hc?r.params:new Hc({fromObject:r.params})),s=new oh(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=at(s).pipe(Ma(p=>this.handler.handle(p)));if(e instanceof oh||"events"===r.observe)return c;const d=c.pipe(un(p=>p instanceof Js));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,ut.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,ut.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,ut.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,ut.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Hc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,eb(r,i))}post(e,i,r={}){return this.request("POST",e,eb(r,i))}put(e,i,r={}){return this.request("PUT",e,eb(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(IE))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class ko{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Ro=new o.OlP("HTTP_INTERCEPTORS");let PE=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const FE=/^\)\]\}',?\n/;let tb=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new gn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((O,B)=>r.setRequestHeader(O,B.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const O=e.detectContentTypeHeader();null!==O&&r.setRequestHeader("Content-Type",O)}if(e.responseType){const O=e.responseType.toLowerCase();r.responseType="json"!==O?O:"text"}const s=e.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const O=r.statusText||"OK",B=new Ua(r.getAllResponseHeaders()),ie=function IA(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return c=new Yf({headers:B,status:r.status,statusText:O,url:ie}),c},p=()=>{let{headers:O,status:B,statusText:ie,url:le}=d(),Ve=null;204!==B&&(Ve=void 0===r.response?r.responseText:r.response),0===B&&(B=Ve?200:0);let Ze=B>=200&&B<300;if("json"===e.responseType&&"string"==typeof Ve){const Ye=Ve;Ve=Ve.replace(FE,"");try{Ve=""!==Ve?JSON.parse(Ve):null}catch(Je){Ve=Ye,Ze&&(Ze=!1,Ve={error:Je,text:Ve})}}Ze?(i.next(new Js({body:Ve,headers:O,status:B,statusText:ie,url:le||void 0})),i.complete()):i.error(new OE({error:Ve,headers:O,status:B,statusText:ie,url:le||void 0}))},_=O=>{const{url:B}=d(),ie=new OE({error:O,status:r.status||0,statusText:r.statusText||"Unknown Error",url:B||void 0});i.error(ie)};let b=!1;const D=O=>{b||(i.next(d()),b=!0);let B={type:er.DownloadProgress,loaded:O.loaded};O.lengthComputable&&(B.total=O.total),"text"===e.responseType&&!!r.responseText&&(B.partialText=r.responseText),i.next(B)},A=O=>{let B={type:er.UploadProgress,loaded:O.loaded};O.lengthComputable&&(B.total=O.total),i.next(B)};return r.addEventListener("load",p),r.addEventListener("error",_),r.addEventListener("timeout",_),r.addEventListener("abort",_),e.reportProgress&&(r.addEventListener("progress",D),null!==s&&r.upload&&r.upload.addEventListener("progress",A)),r.send(s),i.next({type:er.Sent}),()=>{r.removeEventListener("error",_),r.removeEventListener("abort",_),r.removeEventListener("load",p),r.removeEventListener("timeout",_),e.reportProgress&&(r.removeEventListener("progress",D),null!==s&&r.upload&&r.upload.removeEventListener("progress",A)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(On))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Fm=new o.OlP("XSRF_COOKIE_NAME"),ah=new o.OlP("XSRF_HEADER_NAME");class LE{}let BE=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Vo(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce),o.LFG(o.Lbi),o.LFG(Fm))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Lm=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(LE),o.LFG(ah))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),nb=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(Ro,[]);this.chain=i.reduceRight((r,s)=>new ko(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(SE),o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),VE=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Lm,useClass:PE}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Fm,useValue:e.cookieName}:[],e.headerName?{provide:ah,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Lm,{provide:Ro,useExisting:Lm,multi:!0},{provide:LE,useClass:BE},{provide:Fm,useValue:"XSRF-TOKEN"},{provide:ah,useValue:"X-XSRF-TOKEN"}]}),n})(),UE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Xs,{provide:IE,useClass:nb},tb,{provide:SE,useExisting:tb}],imports:[[VE.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();F(655);var Zn=(()=>{return(n=Zn||(Zn={}))[n.Text=1]="Text",n[n.File=2]="File",n[n.Image=3]="Image",Zn;var n})();class JA{constructor(){this.type=Zn.Text}}var tr=(()=>{return(n=tr||(tr={}))[n.Online=0]="Online",n[n.Busy=1]="Busy",n[n.Away=2]="Away",n[n.Offline=3]="Offline",tr;var n})(),mi=(()=>{return(n=mi||(mi={}))[n.User=0]="User",n[n.Group=1]="Group",mi;var n})();class tD{}let sD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Vi,Om,UE]]}),n})();var ch=F(4986),Qf=F(5032);function cb(n){return(0,ut.U)(()=>n)}function ub(n,t){return t?e=>Ng(t.pipe((0,Tn.q)(1),function oD(){return(0,Vt.e)((n,t)=>{n.subscribe(new wn.Q(t,Qf.Z))})}()),e.pipe(ub(n))):(0,vn.z)((e,i)=>n(e,i).pipe((0,Tn.q)(1),cb(e)))}var ax=F(3532);function aD(n=0,t,e=ch.P){let i=-1;return null!=t&&((0,ax.K)(t)?e=t:i=t),new gn.y(r=>{let s=function lx(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function lD(n,t=ch.z){const e=aD(n,t);return ub(()=>e)}class jc extends class Kf{constructor(){this.friendsListChangedHandler=t=>{},this.messageReceivedHandler=(t,e)=>{}}onFriendsListChanged(t){this.friendsListChangedHandler(t)}onMessageReceived(t,e){this.messageReceivedHandler(t,e)}}{listFriends(){return at(jc.mockedParticipants.map(t=>{let e=new tD;return e.participant=t,e.metadata={totalUnreadMessages:Math.floor(10*Math.random())},e}))}getMessageHistory(t){let e;return e=[{fromId:1,toId:999,message:"Hi there, just type any message bellow to test this Angular module.",dateSent:new Date}],at(e).pipe(lD(2e3))}sendMessage(t){setTimeout(()=>{let e=new JA;if(e.message="You have typed '"+t.message+"'",e.dateSent=new Date,isNaN(t.toId)){let i=jc.mockedParticipants.find(s=>s.id==t.toId),r=Math.floor(Math.random()*i.chattingTo.length);e.fromId=i.chattingTo[r].id,e.toId=t.toId,this.onMessageReceived(i,e)}else{e.fromId=t.toId,e.toId=t.fromId;let i=jc.mockedParticipants.find(r=>r.id==e.fromId);this.onMessageReceived(i,e)}},1e3)}groupCreated(t){jc.mockedParticipants.push(t),jc.mockedParticipants=jc.mockedParticipants.sort((e,i)=>i.displayName>e.displayName?-1:1),this.listFriends().subscribe(e=>{this.onFriendsListChanged(e)})}}jc.mockedParticipants=[{participantType:mi.User,id:1,displayName:"Arya Stark",avatar:"https://66.media.tumblr.com/avatar_9dd9bb497b75_128.pnj",status:tr.Online},{participantType:mi.User,id:2,displayName:"Cersei Lannister",avatar:null,status:tr.Online},{participantType:mi.User,id:3,displayName:"Daenerys Targaryen",avatar:"https://68.media.tumblr.com/avatar_d28d7149f567_128.png",status:tr.Busy},{participantType:mi.User,id:4,displayName:"Eddard Stark",avatar:"https://pbs.twimg.com/profile_images/600707945911844864/MNogF757_400x400.jpg",status:tr.Offline},{participantType:mi.User,id:5,displayName:"Hodor",avatar:"https://pbs.twimg.com/profile_images/378800000449071678/27f2e27edd119a7133110f8635f2c130.jpeg",status:tr.Offline},{participantType:mi.User,id:6,displayName:"Jaime Lannister",avatar:"https://pbs.twimg.com/profile_images/378800000243930208/4fa8efadb63777ead29046d822606a57.jpeg",status:tr.Busy},{participantType:mi.User,id:7,displayName:"John Snow",avatar:"https://pbs.twimg.com/profile_images/3456602315/aad436e6fab77ef4098c7a5b86cac8e3.jpeg",status:tr.Busy},{participantType:mi.User,id:8,displayName:"Lorde Petyr 'Littlefinger' Baelish",avatar:"http://68.media.tumblr.com/avatar_ba75cbb26da7_128.png",status:tr.Offline},{participantType:mi.User,id:9,displayName:"Sansa Stark",avatar:"http://pm1.narvii.com/6201/dfe7ad75cd32130a5c844d58315cbca02fe5b804_128.jpg",status:tr.Online},{participantType:mi.User,id:10,displayName:"Theon Greyjoy",avatar:"https://thumbnail.myheritageimages.com/502/323/78502323/000/000114_884889c3n33qfe004v5024_C_64x64C.jpg",status:tr.Away}];const xF=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function cD(){return(0,o.f3M)(ce)}}),jm=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let db,Ha=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function cx(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?jm.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(xF,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();try{db="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){db=!1}let uh,Br=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Ui(n){return n===fd}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!db)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hb=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function dD(){if(uh)return uh;if("object"!=typeof document||!document)return uh=new Set(hb),uh;let n=document.createElement("input");return uh=new Set(hb.filter(t=>(n.setAttribute("type",t),n.type===t))),uh}let Jf,ep,Hu,zm;function Xf(n){return function dh(){if(null==Jf&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Jf=!0}))}finally{Jf=Jf||!1}return Jf}()?n:!!n.capture}function fb(){if(null==Hu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Hu=!1,Hu;if("scrollBehavior"in document.documentElement.style)Hu=!0;else{const n=Element.prototype.scrollTo;Hu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Hu}function tp(){if("object"!=typeof document||!document)return 0;if(null==ep){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),ep=0,0===n.scrollLeft&&(n.scrollLeft=1,ep=0===n.scrollLeft?1:2),n.remove()}return ep}function gb(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function zc(n){return n.composedPath?n.composedPath()[0]:n.target}function Gm(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function ja(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function sp(n,t=ch.z){return(0,Vt.e)((e,i)=>{let r=null,s=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const _=s;s=null,i.next(_)}};function p(){const _=c+n,b=t.now();if(b<_)return r=this.schedule(void 0,_-b),void i.add(r);d()}e.subscribe(new wn.Q(i,_=>{s=_,c=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}function ju(n,t=bo.y){return n=null!=n?n:jx,(0,Vt.e)((e,i)=>{let r,s=!0;e.subscribe(new wn.Q(i,c=>{const d=t(c);(s||!n(r,d))&&(s=!1,r=d,i.next(c))}))})}function jx(n,t){return n===t}function In(n){return(0,Vt.e)((t,e)=>{(0,br.Xf)(n).subscribe(new wn.Q(e,()=>e.complete(),Qf.Z)),!e.closed&&t.subscribe(e)})}function Fn(n){return null!=n&&"false"!=`${n}`}function Cb(n,t=0){return function MD(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function i_(n){return Array.isArray(n)?n:[n]}function Oi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function za(n){return n instanceof o.SBq?n.nativeElement:n}class $x{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new xt.x,this._typeaheadSubscription=Es.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new xt.x,this.change=new xt.x,t instanceof o.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Dr.b)(e=>this._pressedLetters.push(e)),sp(t),un(()=>this._pressedLetters.length>0),(0,ut.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,c=i[s];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||ja(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),r=e[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class ap extends $x{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class Wx extends $x{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Tb=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function qx(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function kD(n){try{return n.frameElement}catch(t){return null}}(function ND(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Yx(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=Yx(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function PD(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Kx(n){return!function Ib(n){return function OD(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Zx(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function RD(n){return function r_(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||s_(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Br))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function s_(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Yx(n){if(!s_(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class o_{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,Tn.q)(1)).subscribe(t)}}let Sb=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new o_(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Tb),o.LFG(o.R0b),o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function a_(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function l_(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Qx=new o.OlP("cdk-input-modality-detector-options"),BD={ignoreKeys:[18,17,224,91,16]},fh=Xf({passive:!0,capture:!0});let Jx=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Er(null),this._lastTouchMs=0,this._onKeydown=c=>{var d,p;(null===(p=null===(d=this._options)||void 0===d?void 0:d.ignoreKeys)||void 0===p?void 0:p.some(_=>_===c.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=zc(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(a_(c)?"keyboard":"mouse"),this._mostRecentTarget=zc(c))},this._onTouchstart=c=>{l_(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=zc(c))},this._options=Object.assign(Object.assign({},BD),s),this.modalityDetected=this._modality.pipe(function n_(n){return un((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(ju()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,fh),r.addEventListener("mousedown",this._onMousedown,fh),r.addEventListener("touchstart",this._onTouchstart,fh)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,fh),document.removeEventListener("mousedown",this._onMousedown,fh),document.removeEventListener("touchstart",this._onTouchstart,fh))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Br),o.LFG(o.R0b),o.LFG(ce),o.LFG(Qx,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VD=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Xx(){return null}}),UD=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let HD=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,c;return 1===i.length&&"number"==typeof i[0]?c=i[0]:[s,c]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==c&&r&&(c=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e,i;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(VD,8),o.LFG(o.R0b),o.LFG(ce),o.LFG(UD,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jD=new o.OlP("cdk-focus-monitor-default-options"),c_=Xf({passive:!0,capture:!0});let ph=(()=>{class n{constructor(e,i,r,s,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new xt.x,this._rootNodeFocusAndBlurListener=d=>{const p=zc(d),_="focus"===d.type?this._onFocus:this._onBlur;for(let b=p;b;b=b.parentElement)_.call(this,d,b)},this._document=s,this._detectionMode=(null==c?void 0:c.detectionMode)||0}monitor(e,i=!1){const r=za(e);if(!this._platform.isBrowser||1!==r.nodeType)return at(null);const s=function pb(n){if(function dx(){if(null==zm){const n="undefined"!=typeof document?document.head:null;zm=!(!n||!n.createShadowRoot&&!n.attachShadow)}return zm}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new xt.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=za(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=za(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,p])=>this._originChanged(d,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=zc(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,c_),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,c_)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(In(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,c_),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,c_),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(Br),o.LFG(Jx),o.LFG(ce,8),o.LFG(jD,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ab="cdk-high-contrast-black-on-white",tk="cdk-high-contrast-white-on-black",zD="cdk-high-contrast-active";let xL=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(zD),e.remove(Ab),e.remove(tk),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(zD),e.add(Ab)):2===i&&(e.add(zD),e.add(tk))}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Br),o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class nk{}const Gc="*";function gh(n,t){return{type:7,name:n,definitions:t,options:{}}}function eo(n,t=null){return{type:4,styles:t,timings:n}}function ik(n,t=null){return{type:3,steps:n,options:t}}function xb(n,t=null){return{type:2,steps:n,options:t}}function Pi(n){return{type:6,styles:n,offset:null}}function ta(n,t,e){return{type:0,name:n,styles:t,options:e}}function Ga(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function u_(n=null){return{type:9,options:n}}function d_(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function $D(n){Promise.resolve(null).then(n)}class lp{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){$D(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class h_{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?$D(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const mn=!1;function sk(n){return new o.vHH(3e3,mn)}function Ek(){return"undefined"!=typeof window&&void 0!==window.document}function Lb(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Wl(n){switch(n.length){case 0:return new lp;case 1:return n[0];default:return new h_(n)}}function f_(n,t,e,i,r={},s={}){const c=[],d=[];let p=-1,_=null;if(i.forEach(b=>{const D=b.offset,A=D==p,O=A&&_||{};Object.keys(b).forEach(B=>{let ie=B,le=b[B];if("offset"!==B)switch(ie=t.normalizePropertyName(ie,c),le){case"!":le=r[B];break;case Gc:le=s[B];break;default:le=t.normalizeStyleValue(B,ie,le,c)}O[ie]=le}),A||d.push(O),_=O,p=D}),c.length)throw function KD(n){return new o.vHH(3502,mn)}();return d}function cp(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&p_(e,"start",n)));break;case"done":n.onDone(()=>i(e&&p_(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&p_(e,"destroy",n)))}}function p_(n,t,e){const i=e.totalTime,s=Bb(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),c=n._data;return null!=c&&(s._data=c),s}function Bb(n,t,e,i,r="",s=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function Ss(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function Vb(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Ub=(n,t)=>!1,eT=(n,t,e)=>[],Dk=null;function tT(n){const t=n.parentNode||n.host;return t===Dk?null:t}(Lb()||"undefined"!=typeof Element)&&(Ek()?(Dk=(()=>document.documentElement)(),Ub=(n,t)=>{for(;t;){if(t===n)return!0;t=tT(t)}return!1}):Ub=(n,t)=>n.contains(t),eT=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Gu=null,nT=!1;function Sk(n){Gu||(Gu=function LL(){return"undefined"!=typeof document?document.body:null}()||{},nT=!!Gu.style&&"WebkitAppearance"in Gu.style);let t=!0;return Gu.style&&!function Ik(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Gu.style,!t&&nT&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Gu.style)),t}const Mk=Ub,Ak=eT;let iT=(()=>{class n{validateStyleProperty(e){return Sk(e)}matchesElement(e,i){return!1}containsElement(e,i){return Mk(e,i)}getParentElement(e){return tT(e)}query(e,i,r){return Ak(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,c,d=[],p){return new lp(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),mh=(()=>{class n{}return n.NOOP=new iT,n})();const ql="ng-enter",up="ng-leave",_h="ng-trigger",yh=".ng-trigger",oT="ng-animating",dp=".ng-animating";function Zl(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:vh(parseFloat(t[1]),t[2])}function vh(n,t){return"s"===t?1e3*n:n}function Hb(n,t,e){return n.hasOwnProperty("duration")?n:function BL(n,t,e){let r,s=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(sk()),{duration:0,delay:0,easing:""};r=vh(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(s=vh(parseFloat(p),d[4]));const _=d[5];_&&(c=_)}else r=n;if(!e){let d=!1,p=t.length;r<0&&(t.push(function ok(){return new o.vHH(3100,mn)}()),d=!0),s<0&&(t.push(function ak(){return new o.vHH(3101,mn)}()),d=!0),d&&t.splice(p,0,sk())}return{duration:r,delay:s,easing:c}}(n,t,e)}function hp(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Yl(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else hp(n,e);return e}function aT(n,t,e){return e?t+":"+e+";":""}function lT(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=aT(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=aT(0,hT(e),n.style[e]));n.setAttribute("style",t)}function $a(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=dT(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),Lb()&&lT(n))}function $u(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=dT(e);n.style[i]=""}),Lb()&&lT(n))}function bh(n){return Array.isArray(n)?1==n.length?n[0]:xb(n):n}const g_=new RegExp("{{\\s*(.+?)\\s*}}","g");function uT(n){let t=[];if("string"==typeof n){let e;for(;e=g_.exec(n);)t.push(e[1]);g_.lastIndex=0}return t}function m_(n,t,e){const i=n.toString(),r=i.replace(g_,(s,c)=>{let d=t[c];return t.hasOwnProperty(c)||(e.push(function OL(n){return new o.vHH(3003,mn)}()),d=""),d.toString()});return r==i?n:r}function fp(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const jb=/-+([a-z0-9])/g;function dT(n){return n.replace(jb,(...t)=>t[1].toUpperCase())}function hT(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function to(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function ck(n){return new o.vHH(3004,mn)}()}}function Ok(n,t){return window.getComputedStyle(n)[t]}function Nk(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function HL(n,t,e){if(":"==n[0]){const p=function jL(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function mk(n){return new o.vHH(3016,mn)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function gk(n){return new o.vHH(3015,mn)}()),t;const r=i[1],s=i[2],c=i[3];t.push(a(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&t.push(a(c,r))}(i,e,t)):e.push(n),e}const Wb=new Set(["true","1"]),qb=new Set(["false","0"]);function a(n,t){const e=Wb.has(n)||qb.has(n),i=Wb.has(t)||qb.has(t);return(r,s)=>{let c="*"==n||n==r,d="*"==t||t==s;return!c&&e&&"boolean"==typeof r&&(c=r?Wb.has(n):qb.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?Wb.has(t):qb.has(t)),c&&d}}const l=":self",u=new RegExp(`s*${l}s*,?`,"g");function h(n,t,e,i){return new g(n).build(t,e,i)}class g{constructor(t){this._driver=t}build(t,e,i){const r=new T(e);this._resetContextStyleTimingState(r);const s=to(this,bh(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function uk(){return new o.vHH(3006,mn)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const p=d,_=p.name;_.toString().split(/\s*,\s*/).forEach(b=>{p.name=b,s.push(this.visitState(p,e))}),p.name=_}else if(1==d.type){const p=this.visitTransition(d,e);i+=p.queryCount,r+=p.depCount,c.push(p)}else e.errors.push(function na(){return new o.vHH(3007,mn)}())}),{type:7,name:t.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(d=>{if(k(d)){const p=d;Object.keys(p).forEach(_=>{uT(p[_]).forEach(b=>{c.hasOwnProperty(b)||s.add(b)})})}}),s.size&&(fp(s.values()),e.errors.push(function dk(n,t){return new o.vHH(3008,mn)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=to(this,bh(t.animation),e);return{type:1,matchers:Nk(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:q(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>to(this,i,e)),options:q(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(c=>{e.currentTime=i;const d=to(this,c,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:s,options:q(t.options)}}visitAnimate(t,e){const i=function U(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return oe(Hb(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=oe(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Hb(e,t);return oe(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Pi({});if(5==s.type)r=this.visitKeyframes(s,e);else{let c=t.styles,d=!1;if(!c){d=!0;const _={};i.easing&&(_.easing=i.easing),c=Pi(_)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,e);p.isEmptyStep=d,r=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(c=>{"string"==typeof c?c==Gc?i.push(c):e.errors.push(function Pb(n){return new o.vHH(3002,mn)}()):i.push(c)}):i.push(t.styles);let r=!1,s=null;return i.forEach(c=>{if(k(c)){const d=c,p=d.easing;if(p&&(s=p,delete d.easing),!r)for(let _ in d)if(d[_].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(d=>{if(!this._driver.validateStyleProperty(d))return delete c[d],void e.unsupportedCSSPropertiesFound.add(d);const p=e.collectedStyles[e.currentQuerySelector],_=p[d];let b=!0;_&&(s!=r&&s>=_.startTime&&r<=_.endTime&&(e.errors.push(function hk(n,t,e,i,r){return new o.vHH(3010,mn)}()),b=!1),s=_.startTime),b&&(p[d]={startTime:s,endTime:r}),e.options&&function cT(n,t,e){const i=t.params||{},r=uT(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function lk(n){return new o.vHH(3001,mn)}())})}(c[d],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Nb(){return new o.vHH(3011,mn)}()),i;let s=0;const c=[];let d=!1,p=!1,_=0;const b=t.steps.map(Ve=>{const Ze=this._makeStyleAst(Ve,e);let Ye=null!=Ze.offset?Ze.offset:function M(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(k(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(k(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Ze.styles),Je=0;return null!=Ye&&(s++,Je=Ze.offset=Ye),p=p||Je<0||Je>1,d=d||Je<_,_=Je,c.push(Je),Ze});p&&e.errors.push(function WD(){return new o.vHH(3012,mn)}()),d&&e.errors.push(function qD(){return new o.vHH(3200,mn)}());const D=t.steps.length;let A=0;s>0&&s<D?e.errors.push(function fk(){return new o.vHH(3202,mn)}()):0==s&&(A=1/(D-1));const O=D-1,B=e.currentTime,ie=e.currentAnimateTimings,le=ie.duration;return b.forEach((Ve,Ze)=>{const Ye=A>0?Ze==O?1:A*Ze:c[Ze],Je=Ye*le;e.currentTime=B+ie.delay+Je,ie.duration=Je,this._validateStyleAst(Ve,e),Ve.offset=Ye,i.styles.push(Ve)}),i}visitReference(t,e){return{type:8,animation:to(this,bh(t.animation),e),options:q(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:q(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:q(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,c]=function v(n){const t=!!n.split(/\s*,\s*/).find(e=>e==l);return t&&(n=n.replace(u,"")),n=n.replace(/@\*/g,yh).replace(/@\w+/g,e=>yh+"-"+e.substr(1)).replace(/:animating/g,dp),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Ss(e.collectedStyles,e.currentQuerySelector,{});const d=to(this,bh(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:t.selector,options:q(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function ZD(){return new o.vHH(3013,mn)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Hb(t.timings,e.errors,!0);return{type:12,animation:to(this,bh(t.animation),e),timings:i,options:null}}}class T{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function k(n){return!Array.isArray(n)&&"object"==typeof n}function q(n){return n?(n=hp(n)).params&&(n.params=function C(n){return n?hp(n):null}(n.params)):n={},n}function oe(n,t,e){return{duration:n,delay:t,easing:e}}function Te(n,t,e,i,r,s,c=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:d}}class ze{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Re=new RegExp(":enter","g"),on=new RegExp(":leave","g");function Sn(n,t,e,i,r,s={},c={},d,p,_=[]){return(new no).buildKeyframes(n,t,e,i,r,s,c,d,p,_)}class no{buildKeyframes(t,e,i,r,s,c,d,p,_,b=[]){_=_||new ze;const D=new pp(t,e,_,r,s,b,[]);D.options=p,D.currentTimeline.setStyles([c],null,D.errors,p),to(this,i,D);const A=D.timelines.filter(O=>O.containsAnimation());if(Object.keys(d).length){let O;for(let B=A.length-1;B>=0;B--){const ie=A[B];if(ie.element===e){O=ie;break}}O&&!O.allowOnlyTimelineStyles()&&O.setStyles([d],null,D.errors,p)}return A.length?A.map(O=>O.buildKeyframes()):[Te(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const c=null!=i.duration?Zl(i.duration):null,d=null!=i.delay?Zl(i.delay):null;return 0!==c&&t.forEach(p=>{const _=e.appendInstructionToTimeline(p,c,d);s=Math.max(s,_.duration+_.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),to(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Wa);const c=Zl(s.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>to(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Zl(t.options.delay):0;t.steps.forEach(c=>{const d=e.createSubContext(t.options);s&&d.delayNextStep(s),to(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Hb(e.params?m_(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(p=>{d.forwardTime((p.offset||0)*s),d.setStyles(p.styles,p.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Zl(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Wa);let c=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let p=null;d.forEach((_,b)=>{e.currentQueryIndex=b;const D=e.createSubContext(t.options,_);s&&D.delayNextStep(s),_===e.element&&(p=D.currentTimeline),to(this,t.animation,D),D.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,D.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,c=Math.abs(s.duration),d=c*(e.currentQueryTotal-1);let p=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime}const b=e.currentTimeline;p&&b.delayNextStep(p);const D=b.currentTime;to(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const Wa={};class pp{constructor(t,e,i,r,s,c,d,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wa,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new wh(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Zl(i.duration)),null!=i.delay&&(r.delay=Zl(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!e||!c.hasOwnProperty(d))&&(c[d]=m_(s[d],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new pp(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Wa,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},s=new Zb(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,c){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(Re,"."+this._enterClassName)).replace(on,"."+this._leaveClassName);let _=this._driver.query(this.element,t,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),d.push(..._)}return!s&&0==d.length&&c.push(function pk(n){return new o.vHH(3014,mn)}()),d}}class wh{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new wh(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Gc,this._currentKeyframe[e]=Gc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},c=function Yb(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=Gc})):Yl(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(c).forEach(d=>{const p=m_(c[d],s,i);this._pendingStyles[d]=p,this._localTimelineStyles.hasOwnProperty(d)||(this._backFill[d]=this._globalTimelineStyles.hasOwnProperty(d)?this._globalTimelineStyles[d]:Gc),this._updateStyle(d,p)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,p)=>{const _=Yl(d,!0);Object.keys(_).forEach(b=>{const D=_[b];"!"==D?t.add(b):D==Gc&&e.add(b)}),i||(_.offset=p/this.duration),r.push(_)});const s=t.size?fp(t.values()):[],c=e.size?fp(e.values()):[];if(i){const d=r[0],p=hp(d);d.offset=0,p.offset=1,r=[d,p]}return Te(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class Zb extends wh{constructor(t,e,i,r,s,c,d=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],c=i+e,d=e/c,p=Yl(t[0],!1);p.offset=0,s.push(p);const _=Yl(t[0],!1);_.offset=y_(d),s.push(_);const b=t.length-1;for(let D=1;D<=b;D++){let A=Yl(t[D],!1);A.offset=y_((e+A.offset*i)/c),s.push(A)}i=c,e=0,r="",t=s}return Te(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function y_(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class gp{}class Kb extends gp{normalizePropertyName(t,e){return dT(t)}normalizeStyleValue(t,e,i,r){let s="";const c=i.toString().trim();if(eW[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function Ob(n,t){return new o.vHH(3005,mn)}())}return c+s}}const eW=(()=>function tW(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function zL(n,t,e,i,r,s,c,d,p,_,b,D,A){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:c,timelines:d,queriedElements:p,preStyleProps:_,postStyleProps:b,totalTime:D,errors:A}}const Fk={};class GL{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function nW(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],c=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):c}build(t,e,i,r,s,c,d,p,_,b){const D=[],A=this.ast.options&&this.ast.options.params||Fk,B=this.buildStyles(i,d&&d.params||Fk,D),ie=p&&p.params||Fk,le=this.buildStyles(r,ie,D),Ve=new Set,Ze=new Map,Ye=new Map,Je="void"===r,Ut={params:Object.assign(Object.assign({},A),ie)},Bt=b?[]:Sn(t,e,this.ast.animation,s,c,B,le,Ut,_,D);let kn=0;if(Bt.forEach(la=>{kn=Math.max(la.duration+la.delay,kn)}),D.length)return zL(e,this._triggerName,i,r,Je,B,le,[],[],Ze,Ye,kn,D);Bt.forEach(la=>{const rd=la.element,A$=Ss(Ze,rd,{});la.preStyleProps.forEach(sg=>A$[sg]=!0);const UC=Ss(Ye,rd,{});la.postStyleProps.forEach(sg=>UC[sg]=!0),rd!==e&&Ve.add(rd)});const ir=fp(Ve.values());return zL(e,this._triggerName,i,r,Je,B,le,Bt,ir,Ze,Ye,kn)}}class iW{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=hp(this.defaultParams);return Object.keys(t).forEach(s=>{const c=t[s];null!=c&&(r[s]=c)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const c=s;Object.keys(c).forEach(d=>{let p=c[d];p.length>1&&(p=m_(p,r,e));const _=this.normalizer.normalizePropertyName(d,e);p=this.normalizer.normalizeStyleValue(d,_,p,e),i[_]=p})}}),i}}class sW{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new iW(r.style,r.options&&r.options.params||{},i)}),$L(this.states,"true","1"),$L(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new GL(t,r,this.states))}),this.fallbackTransition=function oW(n,t,e){return new GL(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function $L(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const aW=new ze;class lW{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=h(this._driver,e,i,[]);if(i.length)throw function _k(n){return new o.vHH(3503,mn)}();this._animations[t]=s}_buildPlayer(t,e,i){const r=t.element,s=f_(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let c;const d=new Map;if(s?(c=Sn(this._driver,e,s,ql,up,{},{},i,aW,r),c.forEach(b=>{const D=Ss(d,b.element,{});b.postStyleProps.forEach(A=>D[A]=null)})):(r.push(function NL(){return new o.vHH(3300,mn)}()),c=[]),r.length)throw function yk(n){return new o.vHH(3504,mn)}();d.forEach((b,D)=>{Object.keys(b).forEach(A=>{b[A]=this._driver.computeStyle(D,A,Gc)})});const _=Wl(c.map(b=>{const D=d.get(b.element);return this._buildPlayer(b,{},D)}));return this._playersById[t]=_,_.onDestroy(()=>this.destroy(t)),this.players.push(_),_}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function vk(n){return new o.vHH(3301,mn)}();return e}listen(t,e,i,r){const s=Bb(e,"","","");return cp(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const WL="ng-animate-queued",Lk="ng-animate-disabled",fW=[],qL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qa="__ng_removed";class Bk{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function yW(n){return null!=n?n:null}(i?t.value:t),i){const s=hp(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Qb="void",Vk=new Bk(Qb);class gW{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Za(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function bk(n,t){return new o.vHH(3302,mn)}();if(null==i||0==i.length)throw function QD(n){return new o.vHH(3303,mn)}();if(!function vW(n){return"start"==n||"done"==n}(i))throw function wk(n,t){return new o.vHH(3400,mn)}();const s=Ss(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};s.push(c);const d=Ss(this._engine.statesByElement,t,{});return d.hasOwnProperty(e)||(Za(t,_h),Za(t,_h+"-"+e),d[e]=Vk),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers[e]||delete d[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function Ck(n){return new o.vHH(3401,mn)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),c=new Uk(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(Za(t,_h),Za(t,_h+"-"+e),this._engine.statesByElement.set(t,d={}));let p=d[e];const _=new Bk(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),d[e]=_,p||(p=Vk),_.value!==Qb&&p.value===_.value){if(!function CW(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(p.params,_.params)){const ie=[],le=s.matchStyles(p.value,p.params,ie),Ve=s.matchStyles(_.value,_.params,ie);ie.length?this._engine.reportError(ie):this._engine.afterFlush(()=>{$u(t,le),$a(t,Ve)})}return}const A=Ss(this._engine.playersByElement,t,[]);A.forEach(ie=>{ie.namespaceId==this.id&&ie.triggerName==e&&ie.queued&&ie.destroy()});let O=s.matchTransition(p.value,_.value,t,_.params),B=!1;if(!O){if(!r)return;O=s.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:O,fromState:p,toState:_,player:c,isFallbackTransition:B}),B||(Za(t,WL),c.onStart(()=>{v_(t,WL)})),c.onDone(()=>{let ie=this.players.indexOf(c);ie>=0&&this.players.splice(ie,1);const le=this._engine.playersByElement.get(t);if(le){let Ve=le.indexOf(c);Ve>=0&&le.splice(Ve,1)}}),this.players.push(c),A.push(c),c}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,yh,!0);i.forEach(r=>{if(r[qa])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),c=new Map;if(s){const d=[];if(Object.keys(s).forEach(p=>{if(c.set(p,s[p].value),this._triggers[p]){const _=this.trigger(t,p,Qb,r);_&&d.push(_)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&Wl(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers[c].fallbackTransition,_=i[c]||Vk,b=new Bk(Qb),D=new Uk(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:p,fromState:_,toState:b,player:D,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[qa];(!s||s===qL)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Za(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==i.triggerName){const p=Bb(s,i.triggerName,i.fromState.value,i.toState.value);p._data=t,cp(i.player,d.phase,p,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class mW{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new gW(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let c=!1;if(void 0!==this.driver.getParentElement){let d=this.driver.getParentElement(e);for(;d;){const p=r.get(d);if(p){const _=i.indexOf(p);i.splice(_+1,0,t),c=!0;break}d=this.driver.getParentElement(d)}}else for(let d=s;d>=0;d--)if(this.driver.containsElement(i[d].hostElement,e)){i.splice(d+1,0,t),c=!0;break}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const c=i[r[s]].namespaceId;if(c){const d=this._fetchNamespace(c);d&&e.add(d)}}}return e}trigger(t,e,i,r){if(gT(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!gT(e))return;const s=e[qa];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Za(t,Lk)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),v_(t,Lk))}removeNode(t,e,i,r){if(gT(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[qa]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return gT(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,yh,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,dp,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Wl(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[qa];if(i&&i.setForRemoval){if(t[qa]=qL,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Lk))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Za(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Wl(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function FL(n){return new o.vHH(3402,mn)}()}_flushAnimations(t,e){const i=new ze,r=[],s=new Map,c=[],d=new Map,p=new Map,_=new Map,b=new Set;this.disabledNodes.forEach(bt=>{b.add(bt);const kt=this.driver.query(bt,".ng-animate-queued",!0);for(let Nt=0;Nt<kt.length;Nt++)b.add(kt[Nt])});const D=this.bodyNode,A=Array.from(this.statesByElement.keys()),O=KL(A,this.collectedEnterElements),B=new Map;let ie=0;O.forEach((bt,kt)=>{const Nt=ql+ie++;B.set(kt,Nt),bt.forEach(Pn=>Za(Pn,Nt))});const le=[],Ve=new Set,Ze=new Set;for(let bt=0;bt<this.collectedLeaveElements.length;bt++){const kt=this.collectedLeaveElements[bt],Nt=kt[qa];Nt&&Nt.setForRemoval&&(le.push(kt),Ve.add(kt),Nt.hasAnimation?this.driver.query(kt,".ng-star-inserted",!0).forEach(Pn=>Ve.add(Pn)):Ze.add(kt))}const Ye=new Map,Je=KL(A,Array.from(Ve));Je.forEach((bt,kt)=>{const Nt=up+ie++;Ye.set(kt,Nt),bt.forEach(Pn=>Za(Pn,Nt))}),t.push(()=>{O.forEach((bt,kt)=>{const Nt=B.get(kt);bt.forEach(Pn=>v_(Pn,Nt))}),Je.forEach((bt,kt)=>{const Nt=Ye.get(kt);bt.forEach(Pn=>v_(Pn,Nt))}),le.forEach(bt=>{this.processLeaveNode(bt)})});const Ut=[],Bt=[];for(let bt=this._namespaceList.length-1;bt>=0;bt--)this._namespaceList[bt].drainQueuedTransitions(e).forEach(Nt=>{const Pn=Nt.player,qr=Nt.element;if(Ut.push(Pn),this.collectedEnterElements.length){const ho=qr[qa];if(ho&&ho.setForMove){if(ho.previousTriggersValues&&ho.previousTriggersValues.has(Nt.triggerName)){const og=ho.previousTriggersValues.get(Nt.triggerName),Qh=this.statesByElement.get(Nt.element);Qh&&Qh[Nt.triggerName]&&(Qh[Nt.triggerName].value=og)}return void Pn.destroy()}}const ru=!D||!this.driver.containsElement(D,qr),ca=Ye.get(qr),Kh=B.get(qr),Bi=this._buildInstruction(Nt,i,Kh,ca,ru);if(Bi.errors&&Bi.errors.length)return void Bt.push(Bi);if(ru)return Pn.onStart(()=>$u(qr,Bi.fromStyles)),Pn.onDestroy(()=>$a(qr,Bi.toStyles)),void r.push(Pn);if(Nt.isFallbackTransition)return Pn.onStart(()=>$u(qr,Bi.fromStyles)),Pn.onDestroy(()=>$a(qr,Bi.toStyles)),void r.push(Pn);const R$=[];Bi.timelines.forEach(ho=>{ho.stretchStartingKeyframe=!0,this.disabledNodes.has(ho.element)||R$.push(ho)}),Bi.timelines=R$,i.append(qr,Bi.timelines),c.push({instruction:Bi,player:Pn,element:qr}),Bi.queriedElements.forEach(ho=>Ss(d,ho,[]).push(Pn)),Bi.preStyleProps.forEach((ho,og)=>{const Qh=Object.keys(ho);if(Qh.length){let ag=p.get(og);ag||p.set(og,ag=new Set),Qh.forEach(KN=>ag.add(KN))}}),Bi.postStyleProps.forEach((ho,og)=>{const Qh=Object.keys(ho);let ag=_.get(og);ag||_.set(og,ag=new Set),Qh.forEach(KN=>ag.add(KN))})});if(Bt.length){const bt=[];Bt.forEach(kt=>{bt.push(function XD(n,t){return new o.vHH(3505,mn)}())}),Ut.forEach(kt=>kt.destroy()),this.reportError(bt)}const kn=new Map,ir=new Map;c.forEach(bt=>{const kt=bt.element;i.has(kt)&&(ir.set(kt,kt),this._beforeAnimationBuild(bt.player.namespaceId,bt.instruction,kn))}),r.forEach(bt=>{const kt=bt.element;this._getPreviousPlayers(kt,!1,bt.namespaceId,bt.triggerName,null).forEach(Pn=>{Ss(kn,kt,[]).push(Pn),Pn.destroy()})});const la=le.filter(bt=>JL(bt,p,_)),rd=new Map;YL(rd,this.driver,Ze,_,Gc).forEach(bt=>{JL(bt,p,_)&&la.push(bt)});const UC=new Map;O.forEach((bt,kt)=>{YL(UC,this.driver,new Set(bt),p,"!")}),la.forEach(bt=>{const kt=rd.get(bt),Nt=UC.get(bt);rd.set(bt,Object.assign(Object.assign({},kt),Nt))});const sg=[],x$=[],k$={};c.forEach(bt=>{const{element:kt,player:Nt,instruction:Pn}=bt;if(i.has(kt)){if(b.has(kt))return Nt.onDestroy(()=>$a(kt,Pn.toStyles)),Nt.disabled=!0,Nt.overrideTotalTime(Pn.totalTime),void r.push(Nt);let qr=k$;if(ir.size>1){let ca=kt;const Kh=[];for(;ca=ca.parentNode;){const Bi=ir.get(ca);if(Bi){qr=Bi;break}Kh.push(ca)}Kh.forEach(Bi=>ir.set(Bi,qr))}const ru=this._buildAnimation(Nt.namespaceId,Pn,kn,s,UC,rd);if(Nt.setRealPlayer(ru),qr===k$)sg.push(Nt);else{const ca=this.playersByElement.get(qr);ca&&ca.length&&(Nt.parentPlayer=Wl(ca)),r.push(Nt)}}else $u(kt,Pn.fromStyles),Nt.onDestroy(()=>$a(kt,Pn.toStyles)),x$.push(Nt),b.has(kt)&&r.push(Nt)}),x$.forEach(bt=>{const kt=s.get(bt.element);if(kt&&kt.length){const Nt=Wl(kt);bt.setRealPlayer(Nt)}}),r.forEach(bt=>{bt.parentPlayer?bt.syncPlayerEvents(bt.parentPlayer):bt.destroy()});for(let bt=0;bt<le.length;bt++){const kt=le[bt],Nt=kt[qa];if(v_(kt,up),Nt&&Nt.hasAnimation)continue;let Pn=[];if(d.size){let ru=d.get(kt);ru&&ru.length&&Pn.push(...ru);let ca=this.driver.query(kt,dp,!0);for(let Kh=0;Kh<ca.length;Kh++){let Bi=d.get(ca[Kh]);Bi&&Bi.length&&Pn.push(...Bi)}}const qr=Pn.filter(ru=>!ru.destroyed);qr.length?bW(this,kt,qr):this.processLeaveNode(kt)}return le.length=0,sg.forEach(bt=>{this.players.push(bt),bt.onDone(()=>{bt.destroy();const kt=this.players.indexOf(bt);this.players.splice(kt,1)}),bt.play()}),sg}elementContainsData(t,e){let i=!1;const r=e[qa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let c=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(c=d)}else{const d=this.playersByElement.get(t);if(d){const p=!s||s==Qb;d.forEach(_=>{_.queued||!p&&_.triggerName!=r||c.push(_)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(t,e,i){const s=e.element,c=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const _=p.element,b=_!==s,D=Ss(i,_,[]);this._getPreviousPlayers(_,b,c,d,e.toState).forEach(O=>{const B=O.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),O.destroy(),D.push(O)})}$u(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,c){const d=e.triggerName,p=e.element,_=[],b=new Set,D=new Set,A=e.timelines.map(B=>{const ie=B.element;b.add(ie);const le=ie[qa];if(le&&le.removedBeforeQueried)return new lp(B.duration,B.delay);const Ve=ie!==p,Ze=function wW(n){const t=[];return QL(n,t),t}((i.get(ie)||fW).map(kn=>kn.getRealPlayer())).filter(kn=>!!kn.element&&kn.element===ie),Ye=s.get(ie),Je=c.get(ie),Ut=f_(0,this._normalizer,0,B.keyframes,Ye,Je),Bt=this._buildPlayer(B,Ut,Ze);if(B.subTimeline&&r&&D.add(ie),Ve){const kn=new Uk(t,d,ie);kn.setRealPlayer(Bt),_.push(kn)}return Bt});_.forEach(B=>{Ss(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function _W(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,B.element,B))}),b.forEach(B=>Za(B,oT));const O=Wl(A);return O.onDestroy(()=>{b.forEach(B=>v_(B,oT)),$a(p,e.toStyles)}),D.forEach(B=>{Ss(r,B,[]).push(O)}),O}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new lp(t.duration,t.delay)}}class Uk{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new lp,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>cp(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ss(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function gT(n){return n&&1===n.nodeType}function ZL(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function YL(n,t,e,i,r){const s=[];e.forEach(p=>s.push(ZL(p)));const c=[];i.forEach((p,_)=>{const b={};p.forEach(D=>{const A=b[D]=t.computeStyle(_,D,r);(!A||0==A.length)&&(_[qa]=pW,c.push(_))}),n.set(_,b)});let d=0;return e.forEach(p=>ZL(p,s[d++])),c}function KL(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),s=new Map;function c(d){if(!d)return 1;let p=s.get(d);if(p)return p;const _=d.parentNode;return p=e.has(_)?_:r.has(_)?1:c(_),s.set(d,p),p}return t.forEach(d=>{const p=c(d);1!==p&&e.get(p).push(d)}),e}function Za(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function v_(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function bW(n,t,e){Wl(e).onDone(()=>n.processLeaveNode(t))}function QL(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof h_?QL(i.players,t):t.push(i)}}function JL(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class mT{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new mW(t,e,i),this._timelineEngine=new lW(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const c=t+"-"+r;let d=this._triggerCache[c];if(!d){const p=[],b=h(this._driver,s,p,[]);if(p.length)throw function YD(n,t){return new o.vHH(3404,mn)}();d=function rW(n,t,e){return new sW(n,t,e)}(r,b,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,c]=Vb(i);this._timelineEngine.command(s,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[c,d]=Vb(i);return this._timelineEngine.listen(c,e,d,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let DW=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&$a(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($a(this._element,this._initialStyles),this._endStyles&&($a(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&($u(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($u(this._element,this._endStyles),this._endStyles=null),$a(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Hk(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];TW(r)&&(t=t||{},t[r]=n[r])}return t}function TW(n){return"display"===n||"position"===n}class XL{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:Ok(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class IW{validateStyleProperty(t){return Sk(t)}matchesElement(t,e){return!1}containsElement(t,e){return Mk(t,e)}getParentElement(t){return tT(t)}query(t,e,i){return Ak(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const _={},b=c.filter(A=>A instanceof XL);(function zb(n,t){return 0===n||0===t})(i,r)&&b.forEach(A=>{let O=A.currentSnapshot;Object.keys(O).forEach(B=>_[B]=O[B])}),e=function Rk(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],c=[];if(i.forEach(d=>{s.hasOwnProperty(d)||c.push(d),s[d]=e[d]}),c.length)for(var r=1;r<t.length;r++){let d=t[r];c.forEach(function(p){d[p]=Ok(n,p)})}}return t}(t,e=e.map(A=>Yl(A,!1)),_);const D=function EW(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Hk(t[0]),t.length>1&&(i=Hk(t[t.length-1]))):t&&(e=Hk(t)),e||i?new DW(n,e,i):null}(t,e);return new XL(t,e,p,D)}}let SW=(()=>{class n extends nk{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?xb(e):e;return eB(this._renderer,null,i,"register",[r]),new MW(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class MW extends class kL{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new AW(this._id,t,e||{},this._renderer)}}class AW{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return eB(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function eB(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const tB="@.disabled";let xW=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const d=null==c?void 0:c.parentNode(s);d&&c.removeChild(d,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(s);return b||(b=new nB("",s,this.engine),this._rendererCache.set(s,b)),b}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const p=b=>{Array.isArray(b)?b.forEach(p):this.engine.registerTrigger(c,d,e,b.name,b)};return i.data.animation.forEach(p),new kW(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(mT),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class nB{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==tB?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class kW extends nB{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==tB?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function RW(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),c="";return"@"!=s.charAt(0)&&([s,c]=function OW(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let PW=(()=>{class n extends mT{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce),o.LFG(mh),o.LFG(gp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const $c=new o.OlP("AnimationModuleType"),iB=[{provide:nk,useClass:SW},{provide:gp,useFactory:function NW(){return new Kb}},{provide:mT,useClass:PW},{provide:o.FYo,useFactory:function FW(n,t,e){return new xW(n,t,e)},deps:[Jn,mT,o.R0b]}],rB=[{provide:mh,useFactory:()=>new IW},{provide:$c,useValue:"BrowserAnimations"},...iB],LW=[{provide:mh,useClass:iT},{provide:$c,useValue:"NoopAnimations"},...iB];let BW=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?LW:rB}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:rB,imports:[uc]}),n})();function VW(n,t){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=o.oxw();o.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function UW(n,t){if(1&n&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("(",e.group.label,")")}}const HW=["*"],zW=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function jW(){return!0}});let zn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Gm()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(xL),o.LFG(zW,8),o.LFG(ce))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Gl],Gl]}),n})();function yT(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Fn(t)}}}function Jb(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function vT(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Fn(t)}}}function oB(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Cb(e):this.defaultTabIndex}}}function aB(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new xt.x,this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}let jk=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[zn],zn]}),n})();class $W{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const cB={enterDuration:225,exitDuration:150},zk=Xf({passive:!0}),uB=["mousedown","touchstart"],dB=["mouseup","mouseleave","touchend","touchcancel"];class qW{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=za(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},cB),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function YW(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,p=e-r.top,_=s.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=d-c+"px",b.style.top=p-c+"px",b.style.height=2*c+"px",b.style.width=2*c+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(b),function ZW(n){window.getComputedStyle(n).getPropertyValue("opacity")}(b),b.style.transform="scale(1)";const D=new $W(this,b,i);return D.state=0,this._activeRipples.add(D),i.persistent||(this._mostRecentTransientRipple=D),this._runTimeoutOutsideZone(()=>{const A=D===this._mostRecentTransientRipple;D.state=1,!i.persistent&&(!A||!this._isPointerDown)&&D.fadeOut()},_),D}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},cB),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=za(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(uB))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(dB),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=a_(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!l_(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,zk)})})}_removeTriggerEvents(){this._triggerElement&&(uB.forEach(t=>{this._triggerElement.removeEventListener(t,this,zk)}),this._pointerUpEventsRegistered&&dB.forEach(t=>{this._triggerElement.removeEventListener(t,this,zk)}))}}const KW=new o.OlP("mat-ripple-global-options");let ew=(()=>{class n{constructor(e,i,r,s,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new qW(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Br),o.Y36(KW,8),o.Y36($c,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),bT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[zn],zn]}),n})(),QW=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36($c,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),JW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[zn]]}),n})();const hB=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),fB=new o.OlP("MatOptgroup");let XW=0;class eq{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let tq=(()=>{class n{constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+XW++,this.onSelectionChange=new o.vpe,this._stateChanges=new xt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Fn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!ja(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new eq(this,e))}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),pB=(()=>{class n extends tq{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(hB,8),o.Y36(fB,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),o.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:HW,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,VW,1,2,"mat-pseudo-checkbox",0),o.TgZ(1,"span",1),o.Hsn(2),o.qZA(),o.YNc(3,UW,2,1,"span",2),o._UZ(4,"div",3)),2&e&&(o.Q6J("ngIf",i.multiple),o.xp6(3),o.Q6J("ngIf",i.group&&i.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[QW,Un,ew],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function gB(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let c=0;c<n+1;c++)i[c].group&&i[c].group===r[s]&&s++;return s}return 0}let mB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[bT,Vi,zn,JW]]}),n})();const iq=["*",[["mat-toolbar-row"]]],rq=["*","mat-toolbar-row"],sq=Jb(class{constructor(n){this._elementRef=n}});let oq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),aq=(()=>{class n extends sq{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Br),o.Y36(ce))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,oq,5),2&e){let s;o.iGM(s=o.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:rq,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(iq),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),lq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[zn],zn]}),n})();const cq=["mat-button",""],uq=["*"],hq=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],fq=Jb(yT(vT(class{constructor(n){this._elementRef=n}})));let Gk=(()=>{class n extends fq{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of hq)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(ph),o.Y36($c,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&o.Gf(ew,5),2&e){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:cq,ngContentSelectors:uq,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1)(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[ew],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),_B=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[bT,zn],zn]}),n})();var yB=F(4408);let $k,pq=1;const wT={};function vB(n){return n in wT&&(delete wT[n],!0)}const gq={setImmediate(n){const t=pq++;return wT[t]=!0,$k||($k=Promise.resolve()),$k.then(()=>vB(t)&&n()),t},clearImmediate(n){vB(n)}},{setImmediate:mq,clearImmediate:_q}=gq,CT={setImmediate(...n){const{delegate:t}=CT;return((null==t?void 0:t.setImmediate)||mq)(...n)},clearImmediate(n){const{delegate:t}=CT;return((null==t?void 0:t.clearImmediate)||_q)(n)},delegate:void 0};var bB=F(7565);const Wk=new class vq extends bB.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class yq extends yB.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=CT.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(CT.clearImmediate(e),t._scheduled=void 0)}});class qk{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Zk extends qk{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class ET extends qk{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class bq extends qk{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class Yk{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Zk?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof ET?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof bq?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class wq extends Yk{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let wB=(()=>{class n extends Yk{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const c=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(ce))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),CB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var Cq=F(1144);const Eq=["addListener","removeListener"],Dq=["addEventListener","removeEventListener"],Tq=["on","off"];function b_(n,t,e,i){if((0,lr.m)(e)&&(i=e,e=void 0),i)return b_(n,t,e).pipe(xc(i));const[r,s]=function Mq(n){return(0,lr.m)(n.addEventListener)&&(0,lr.m)(n.removeEventListener)}(n)?Dq.map(c=>d=>n[c](t,d,e)):function Iq(n){return(0,lr.m)(n.addListener)&&(0,lr.m)(n.removeListener)}(n)?Eq.map(EB(n,t)):function Sq(n){return(0,lr.m)(n.on)&&(0,lr.m)(n.off)}(n)?Tq.map(EB(n,t)):[];if(!r&&(0,Cq.z)(n))return(0,vn.z)(c=>b_(c,t,e))((0,br.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new gn.y(c=>{const d=(...p)=>c.next(1<p.length?p:p[0]);return r(d),()=>s(d)})}function EB(n,t){return e=>i=>n[e](t,i)}const tw={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=tw;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Es.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=tw;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=tw;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};new class xq extends bB.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class Aq extends yB.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=tw.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(tw.cancelAnimationFrame(e),t._scheduled=void 0)}});function DB(n,t=ch.P){return function Rq(n){return(0,Vt.e)((t,e)=>{let i=!1,r=null,s=null,c=!1;const d=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const _=r;r=null,e.next(_)}c&&e.complete()},p=()=>{s=null,c&&e.complete()};t.subscribe(new wn.Q(e,_=>{i=!0,r=_,s||(0,br.Xf)(n(_)).subscribe(s=new wn.Q(e,d,p))},()=>{c=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>aD(n,t))}let Kk=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new xt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new gn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(DB(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):at()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(un(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=za(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>b_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(Br),o.LFG(ce,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qk=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new xt.x,this._elementScrolled=new gn.y(c=>this.ngZone.runOutsideAngular(()=>b_(this.elementRef.nativeElement,"scroll").pipe(In(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=tp()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==tp()?e.left=e.right:1==tp()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;fb()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==e?e=c?r:i:"end"==e&&(e=c?i:r),c&&2==tp()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:c&&1==tp()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Kk),o.Y36(o.R0b),o.Y36(Ha,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),nw=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new xt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(DB(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Br),o.LFG(o.R0b),o.LFG(ce,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Jk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Gl,w_],Gl,w_]}),n})();const TB=fb();class Fq{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Oi(-this._previousScrollPosition.left),t.style.top=Oi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),TB&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),TB&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Lq{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class IB{enable(){}disable(){}attach(){}}function Xk(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function SB(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Bq{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Xk(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Vq=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new IB,this.close=c=>new Lq(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new Fq(this._viewportRuler,this._document),this.reposition=c=>new Bq(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Kk),o.LFG(nw),o.LFG(o.R0b),o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class DT{constructor(t){if(this.scrollStrategy=new IB,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Uq{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class Hq{constructor(t,e,i,r,s,c,d,p,_){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=d,this._location=p,this._outsideClickDispatcher=_,this._backdropElement=null,this._backdropClick=new xt.x,this._attachments=new xt.x,this._detachments=new xt.x,this._locationChanges=Es.w0.EMPTY,this._backdropClickHandler=b=>this._backdropClick.next(b),this._backdropTransitionendHandler=b=>{this._disposeBackdrop(b.target)},this._keydownEvents=new xt.x,this._outsidePointerEvents=new xt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Tn.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Oi(this._config.width),t.height=Oi(this._config.height),t.minWidth=Oi(this._config.minWidth),t.minHeight=Oi(this._config.minHeight),t.maxWidth=Oi(this._config.maxWidth),t.maxHeight=Oi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=i_(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(In((0,Qi.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let eR=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Gm()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),Gm()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce),o.LFG(Br))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MB="cdk-overlay-connected-position-bounding-box",jq=/([A-Za-z%]+)$/;class zq{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new xt.x,this._resizeSubscription=Es.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(MB),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let c;for(let d of this._preferredPositions){let p=this._getOriginPoint(t,r,d),_=this._getOverlayPoint(p,e,d),b=this._getOverlayFit(_,e,i,d);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(b,_,i)?s.push({position:d,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!c||c.overlayFit.visibleArea<b.visibleArea)&&(c={overlayFit:b,overlayPoint:_,originPoint:p,position:d,overlayRect:e})}if(s.length){let d=null,p=-1;for(const _ of s){const b=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);b>p&&(p=b,d=_)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&mp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(MB),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;r="start"==i.originX?c:d}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=xB(e);let{x:c,y:d}=t,p=this._getOffset(r,"x"),_=this._getOffset(r,"y");p&&(c+=p),_&&(d+=_);let A=0-d,O=d+s.height-i.height,B=this._subtractOverflows(s.width,0-c,c+s.width-i.width),ie=this._subtractOverflows(s.height,A,O),le=B*ie;return{visibleArea:le,isCompletelyWithinViewport:s.width*s.height===le,fitsInViewportVertically:ie===s.height,fitsInViewportHorizontally:B==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,c=AB(this._overlayRef.getConfig().minHeight),d=AB(this._overlayRef.getConfig().minWidth),_=t.fitsInViewportHorizontally||null!=d&&d<=s;return(t.fitsInViewportVertically||null!=c&&c<=r)&&_}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=xB(e),s=this._viewportRect,c=Math.max(t.x+r.width-s.width,0),d=Math.max(t.y+r.height-s.height,0),p=Math.max(s.top-i.top-t.y,0),_=Math.max(s.left-i.left-t.x,0);let b=0,D=0;return b=r.width<=s.width?_||-c:t.x<this._viewportMargin?s.left-i.left-t.x:0,D=r.height<=s.height?p||-d:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:b,y:D},{x:t.x+b,y:t.y+D}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Uq(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,c,d,b,D,A;if("top"===e.overlayY)c=t.y,s=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const O=Math.min(i.bottom-t.y+i.top,t.y),B=this._lastBoundingBoxSize.height;s=2*O,c=t.y-O,s>B&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-B/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)A=i.width-t.x+this._viewportMargin,b=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)D=t.x,b=i.right-t.x;else{const O=Math.min(i.right-t.x+i.left,t.x),B=this._lastBoundingBoxSize.width;b=2*O,D=t.x-O,b>B&&!this._isInitialRender&&!this._growAfterOpen&&(D=t.x-B/2)}return{top:c,left:D,bottom:d,right:A,width:b,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=Oi(i.height),r.top=Oi(i.top),r.bottom=Oi(i.bottom),r.width=Oi(i.width),r.left=Oi(i.left),r.right=Oi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Oi(s)),c&&(r.maxWidth=Oi(c))}this._lastBoundingBoxSize=i,mp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){mp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){mp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();mp(i,this._getExactOverlayY(e,t,b)),mp(i,this._getExactOverlayX(e,t,b))}else i.position="static";let d="",p=this._getOffset(e,"x"),_=this._getOffset(e,"y");p&&(d+=`translateX(${p}px) `),_&&(d+=`translateY(${_}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=Oi(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=Oi(c.maxWidth):s&&(i.maxWidth="")),mp(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Oi(s.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Oi(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:SB(t,i),isOriginOutsideView:Xk(t,i),isOverlayClipped:SB(e,i),isOverlayOutsideView:Xk(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&i_(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function mp(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function AB(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(jq);return e&&"px"!==e?null:parseFloat(t)}return n||null}function xB(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const kB="cdk-global-overlay-wrapper";class Gq{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(kB),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:d}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d);t.position=this._cssPosition,t.marginLeft=p?"0":this._leftOffset,t.marginTop=_?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,p?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(kB),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let $q=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new Gq}flexibleConnectedTo(e){return new zq(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(nw),o.LFG(ce),o.LFG(Br),o.LFG(eR))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RB=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wq=(()=>{class n extends RB{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const d=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qq=(()=>{class n extends RB{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=zc(s)},this._clickListener=s=>{const c=zc(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const b=p[_];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(c)||b.overlayElement.contains(d))break;const D=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>D.next(s)):D.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce),o.LFG(Br),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zq=0,Ch=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,D,A){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=d,this._ngZone=p,this._document=_,this._directionality=b,this._location=D,this._outsideClickDispatcher=A}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new DT(e);return c.direction=c.direction||this._directionality.value,new Hq(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Zq++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new wq(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Vq),o.LFG(eR),o.LFG(o._Vd),o.LFG($q),o.LFG(Wq),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(ce),o.LFG(Ha),o.LFG(et),o.LFG(qq))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Yq=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],OB=new o.OlP("cdk-connected-overlay-scroll-strategy");let PB=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),NB=(()=>{class n{constructor(e,i,r,s,c){this._overlay=e,this._dir=c,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Es.w0.EMPTY,this._attachSubscription=Es.w0.EMPTY,this._detachSubscription=Es.w0.EMPTY,this._positionSubscription=Es.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new ET(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Fn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Fn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Fn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Fn(e)}get push(){return this._push}set push(e){this._push=Fn(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Yq);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!ja(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new DT({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof PB?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function Nq(n,t=!1){return(0,Vt.e)((e,i)=>{let r=0;e.subscribe(new wn.Q(i,s=>{const c=n(s,r++);(c||t)&&i.next(s),!c&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ch),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(OB),o.Y36(Ha,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[o.TTD]}),n})();const Qq={provide:OB,deps:[Ch],useFactory:function Kq(n){return()=>n.scrollStrategies.reposition()}};let tR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Ch,Qq],imports:[[Gl,CB,Jk],Jk]}),n})();const Jq=["mat-menu-item",""];function Xq(n,t){1&n&&(o.O4$(),o.TgZ(0,"svg",2),o._UZ(1,"polygon",3),o.qZA())}const FB=["*"];function e6(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",0),o.NdJ("keydown",function(r){return o.CHM(e),o.oxw()._handleKeydown(r)})("click",function(){return o.CHM(e),o.oxw().closed.emit("click")})("@transformMenu.start",function(r){return o.CHM(e),o.oxw()._onAnimationStart(r)})("@transformMenu.done",function(r){return o.CHM(e),o.oxw()._onAnimationDone(r)}),o.TgZ(1,"div",1),o.Hsn(2),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),o.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const TT={transformMenu:gh("transformMenu",[ta("void",Pi({opacity:0,transform:"scale(0.8)"})),Ga("void => enter",eo("120ms cubic-bezier(0, 0, 0.2, 1)",Pi({opacity:1,transform:"scale(1)"}))),Ga("* => void",eo("100ms 25ms linear",Pi({opacity:0})))]),fadeInItems:gh("fadeInItems",[ta("showing",Pi({opacity:1})),Ga("void => *",[Pi({opacity:0}),eo("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},t6=new o.OlP("MatMenuContent"),nR=new o.OlP("MAT_MENU_PANEL"),n6=vT(yT(class{}));let IT=(()=>{class n extends n6{constructor(e,i,r,s,c){var d;super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=c,this.role="menuitem",this._hovered=new xt.x,this._focused=new xt.x,this._highlighted=!1,this._triggersSubmenu=!1,null===(d=null==s?void 0:s.addItem)||void 0===d||d.call(s,this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e;const i=this._elementRef.nativeElement.cloneNode(!0),r=i.querySelectorAll("mat-icon, .material-icons");for(let s=0;s<r.length;s++)r[s].remove();return(null===(e=i.textContent)||void 0===e?void 0:e.trim())||""}_setHighlighted(e){var i;this._highlighted=e,null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(ce),o.Y36(ph),o.Y36(nR,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(o.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),o.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[o.qOj],attrs:Jq,ngContentSelectors:FB,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(o.F$t(),o.Hsn(0),o._UZ(1,"div",0),o.YNc(2,Xq,2,0,"svg",1)),2&e&&(o.xp6(1),o.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),o.xp6(1),o.Q6J("ngIf",i._triggersSubmenu))},directives:[ew,Un],encapsulation:2,changeDetection:0}),n})();const LB=new o.OlP("mat-menu-default-options",{providedIn:"root",factory:function i6(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let r6=0,iw=(()=>{class n{constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new o.n_E,this._tabSubscription=Es.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new xt.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new o.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+r6++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Fn(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Fn(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Wx(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(jn(this._directDescendantItems),yn(e=>(0,Qi.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{var i;const r=this._keyManager;if("enter"===this._panelAnimationState&&(null===(i=r.activeItem)||void 0===i?void 0:i._hasFocus())){const s=e.toArray(),c=Math.max(0,Math.min(s.length-1,r.activeItemIndex||0));s[c]&&!s[c].disabled?r.setActiveItem(c):r.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(jn(this._directDescendantItems),yn(i=>(0,Qi.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:ja(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe((0,Tn.q)(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(c=>c.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){var r;const s=this._classList;s["mat-menu-before"]="before"===e,s["mat-menu-after"]="after"===e,s["mat-menu-above"]="above"===i,s["mat-menu-below"]="below"===i,null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(jn(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(LB),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,t6,5),o.Suo(r,IT,5),o.Suo(r,IT,4)),2&e){let s;o.iGM(s=o.CRH())&&(i.lazyContent=s.first),o.iGM(s=o.CRH())&&(i._allItems=s),o.iGM(s=o.CRH())&&(i.items=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(o.Rgc,5),2&e){let r;o.iGM(r=o.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),s6=(()=>{class n extends iw{constructor(e,i,r,s){super(e,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(LB),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&o.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[o._Bn([{provide:nR,useExisting:n}]),o.qOj],ngContentSelectors:FB,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,e6,3,6,"ng-template"))},directives:[xr],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::before{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[TT.transformMenu,TT.fadeInItems]},changeDetection:0}),n})();const BB=new o.OlP("mat-menu-scroll-strategy"),a6={provide:BB,deps:[Ch],useFactory:function o6(n){return()=>n.scrollStrategies.reposition()}},UB=Xf({passive:!0});let l6=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=d,this._dir=p,this._focusMonitor=_,this._ngZone=b,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Es.w0.EMPTY,this._hoverSubscription=Es.w0.EMPTY,this._menuCloseSubscription=Es.w0.EMPTY,this._handleTouchStart=D=>{l_(D)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new o.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new o.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=c instanceof iw?c:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,UB),d&&(d._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,UB),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),i=e.getConfig(),r=i.positionStrategy;this._setPosition(r),i.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof iw&&(this.menu._startAnimation(),this.menu._directDescendantItems.changes.pipe(In(this.menu.close)).subscribe(()=>{r.withLockedPosition(!1).reapplyLastPosition(),r.withLockedPosition(!0)}))}closeMenu(){this.menu.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){var e;null===(e=this._overlayRef)||void 0===e||e.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof iw?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(un(r=>"void"===r.toState),(0,Tn.q)(1),In(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i.lazyContent&&i.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,i=this.menu.parentMenu;for(;i;)e++,i=i.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new DT({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(i=>{const r="start"===i.connectionPair.overlayX?"after":"before",s="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>this.menu.setPositionClasses(r,s)):this.menu.setPositionClasses(r,s)})}_setPosition(e){let[i,r]="before"===this.menu.xPosition?["end","start"]:["start","end"],[s,c]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[d,p]=[s,c],[_,b]=[i,r],D=0;this.triggersSubmenu()?(b=i="before"===this.menu.xPosition?"start":"end",r=_="end"===i?"start":"end",D="bottom"===s?8:-8):this.menu.overlapTrigger||(d="top"===s?"bottom":"top",p="top"===c?"bottom":"top"),e.withPositions([{originX:i,originY:d,overlayX:_,overlayY:s,offsetY:D},{originX:r,originY:d,overlayX:b,overlayY:s,offsetY:D},{originX:i,originY:p,overlayX:_,overlayY:c,offsetY:-D},{originX:r,originY:p,overlayX:b,overlayY:c,offsetY:-D}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:at(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(un(c=>c!==this._menuItemInstance),un(()=>this._menuOpen)):at();return(0,Qi.T)(e,r,s,i)}_handleMousedown(e){a_(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(un(e=>e===this._menuItemInstance&&!e.disabled),lD(0,Wk)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof iw&&this.menu._isAnimating?this.menu._animationDone.pipe((0,Tn.q)(1),lD(0,Wk),In(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new ET(this.menu.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ch),o.Y36(o.SBq),o.Y36(o.s_b),o.Y36(BB),o.Y36(nR,8),o.Y36(IT,10),o.Y36(Ha,8),o.Y36(ph),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&e&&o.uIk("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),c6=(()=>{class n extends l6{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[o.qOj]}),n})(),HB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[a6],imports:[[Vi,zn,bT,tR],w_,zn]}),n})();const u6=["*"];let ST;function rw(n){var t;return(null===(t=function d6(){if(void 0===ST&&(ST=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(ST=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return ST}())||void 0===t?void 0:t.createHTML(n))||n}function jB(n){return Error(`Unable to find icon with the name "${n}"`)}function zB(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function GB(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class _p{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let MT=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new _p(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const c=this._sanitizer.sanitize(o.q3G.HTML,r);if(!c)throw GB(r);const d=rw(c);return this._addSvgIconConfig(e,i,new _p("",d,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new _p(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw GB(i);const c=rw(s);return this._addSvgIconSetConfig(e,new _p("",c,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!i)throw zB(e);const r=this._cachedIconsByUrl.get(i);return r?at(AT(r)):this._loadSvgIconFromConfig(new _p(e,null)).pipe((0,Dr.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,ut.U)(s=>AT(s)))}getNamedSvgIcon(e,i=""){const r=$B(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(e,c):Iu(jB(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?at(AT(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,ut.U)(i=>AT(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?at(r):wv(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(Sa(d=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(_)),at(null)})))).pipe((0,ut.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,i);if(!c)throw jB(e);return c}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(c,e,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Dr.b)(i=>e.svgText=i),(0,ut.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?at(null):this._fetchIcon(e).pipe((0,Dr.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString(rw("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(rw("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:c,value:d}=r[s];"id"!==c&&i.setAttribute(c,d)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:s}=e,c=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function h6(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const d=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,r);if(!d)throw zB(r);const p=this._inProgressUrlFetches.get(d);if(p)return p;const _=this._httpClient.get(d,{responseType:"text",withCredentials:c}).pipe((0,ut.U)(b=>rw(b)),Oy(()=>this._inProgressUrlFetches.delete(d)),(0,gc.B)());return this._inProgressUrlFetches.set(d,_),_}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set($B(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return p6(s)?new _p(s.url,null,s.options):new _p(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Xs,8),o.LFG(Xr),o.LFG(ce,8),o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AT(n){return n.cloneNode(!0)}function $B(n,t){return n+":"+t}function p6(n){return!(!n.url||!n.options)}const g6=Jb(class{constructor(n){this._elementRef=n}}),m6=new o.OlP("mat-icon-location",{providedIn:"root",factory:function _6(){const n=(0,o.f3M)(ce),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),WB=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],y6=WB.map(n=>`[${n}]`).join(", "),v6=/^url\(['"]?#(.*?)['"]?\)$/;let xT=(()=>{class n extends g6{constructor(e,i,r,s,c){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._currentIconFetch=Es.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Fn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(y6),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)WB.forEach(c=>{const d=i[s],p=d.getAttribute(c),_=p?p.match(v6):null;if(_){let b=r.get(d);b||(b=[],r.set(d,b)),b.push({name:c,value:_[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Tn.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(MT),o.$8M("aria-hidden"),o.Y36(m6),o.Y36(o.qLn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),o.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:u6,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),qB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[zn],zn]}),n})();const ZB=["*"],b6=["content"];function w6(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(e),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function C6(n,t){1&n&&(o.TgZ(0,"mat-drawer-content"),o.Hsn(1,2),o.qZA())}const E6=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],D6=["mat-drawer","mat-drawer-content","*"],T6={transformDrawer:gh("transform",[ta("open, open-instant",Pi({transform:"none",visibility:"visible"})),ta("void",Pi({"box-shadow":"none",visibility:"hidden"})),Ga("void => open-instant",eo("0ms")),Ga("void <=> open, open-instant => void",eo("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},I6=new o.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function S6(){return!1}}),YB=new o.OlP("MAT_DRAWER_CONTAINER");let iR=(()=>{class n extends Qk{constructor(e,i,r,s,c){super(r,s,c),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>RT)),o.Y36(o.SBq),o.Y36(Kk),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&o.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[o._Bn([{provide:Qk,useExisting:n}]),o.qOj],ngContentSelectors:ZB,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),kT=(()=>{class n{constructor(e,i,r,s,c,d,p,_){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=c,this._interactivityChecker=d,this._doc=p,this._container=_,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new xt.x,this._animationEnd=new xt.x,this._animationState="void",this.openedChange=new o.vpe(!0),this._openedStream=this.openedChange.pipe(un(b=>b),(0,ut.U)(()=>{})),this.openedStart=this._animationStarted.pipe(un(b=>b.fromState!==b.toState&&0===b.toState.indexOf("open")),cb(void 0)),this._closedStream=this.openedChange.pipe(un(b=>!b),(0,ut.U)(()=>{})),this.closedStart=this._animationStarted.pipe(un(b=>b.fromState!==b.toState&&"void"===b.toState),cb(void 0)),this._destroyed=new xt.x,this.onPositionChanged=new o.vpe,this._modeChanged=new xt.x,this.openedChange.subscribe(b=>{b?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{b_(this._elementRef.nativeElement,"keydown").pipe(un(b=>27===b.keyCode&&!this.disableClose&&!ja(b)),In(this._destroyed)).subscribe(b=>this._ngZone.run(()=>{this.close(),b.stopPropagation(),b.preventDefault()}))}),this._animationEnd.pipe(ju((b,D)=>b.fromState===D.fromState&&b.toState===D.toState)).subscribe(b=>{const{fromState:D,toState:A}=b;(0===A.indexOf("open")&&"void"===D||"void"===A&&0===D.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Fn(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Fn(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Fn(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var e;this._focusTrap&&this._focusTrap.destroy(),null===(e=this._anchor)||void 0===e||e.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe((0,Tn.q)(1)).subscribe(c=>s(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Sb),o.Y36(ph),o.Y36(Br),o.Y36(o.R0b),o.Y36(Tb),o.Y36(ce,8),o.Y36(YB,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&o.Gf(b6,5),2&e){let r;o.iGM(r=o.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&o.WFA("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&e&&(o.uIk("align",null),o.d8E("@transform",i._animationState),o.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:ZB,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA())},directives:[Qk],encapsulation:2,data:{animation:[T6.transformDrawer]},changeDetection:0}),n})(),RT=(()=>{class n{constructor(e,i,r,s,c,d=!1,p){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=p,this._drawers=new o.n_E,this.backdropClick=new o.vpe,this._destroyed=new xt.x,this._doCheckSubject=new xt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new xt.x,e&&e.change.pipe(In(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(In(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=d}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Fn(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Fn(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(jn(this._allDrawers),In(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(jn(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(sp(10),In(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(un(i=>i.fromState!==i.toState),In(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(In(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(In(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Tn.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(In((0,Qi.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ha,8),o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(nw),o.Y36(I6),o.Y36($c,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,iR,5),o.Suo(r,kT,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._content=s.first),o.iGM(s=o.CRH())&&(i._allDrawers=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(iR,5),2&e){let r;o.iGM(r=o.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o._Bn([{provide:YB,useExisting:n}])],ngContentSelectors:D6,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(o.F$t(E6),o.YNc(0,w6,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,C6,2,0,"mat-drawer-content",1)),2&e&&(o.Q6J("ngIf",i.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!i._content))},directives:[iR,Un],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),KB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Vi,zn,w_],w_,zn]}),n})();F(5881);var QB=F(3942);const JB="@firebase/database";let rR="";function eV(n){rR=n}class x6{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,V.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,V.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class k6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,V.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const tV=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new x6(t)}}catch(t){}return new k6},yp=tV("localStorage"),sR=tV("sessionStorage"),C_=new Co.Yd("@firebase/database"),nV=function(){let n=1;return function(){return n++}}(),iV=function(n){const t=(0,V.dS)(n),e=new V.gQ;e.update(t);const i=e.digest();return V.US.encodeByteArray(i)},sw=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=sw.apply(null,i):t+="object"==typeof i?(0,V.Pz)(i):i,t+=" "}return t};let vp=null,rV=!0;const sV=function(n,t){(0,V.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(C_.logLevel=Co.in.VERBOSE,vp=C_.log.bind(C_),t&&sR.set("logging_enabled",!0)):"function"==typeof n?vp=n:(vp=null,sR.remove("logging_enabled"))},Vr=function(...n){if(!0===rV&&(rV=!1,null===vp&&!0===sR.get("logging_enabled")&&sV(!0)),vp){const t=sw.apply(null,n);vp(t)}},ow=function(n){return function(...t){Vr(n,...t)}},oR=function(...n){const t="FIREBASE INTERNAL ERROR: "+sw(...n);C_.error(t)},Wc=function(...n){const t=`FIREBASE FATAL ERROR: ${sw(...n)}`;throw C_.error(t),new Error(t)},Ms=function(...n){const t="FIREBASE WARNING: "+sw(...n);C_.warn(t)},OT=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Wu="[MIN_NAME]",qc="[MAX_NAME]",bp=function(n,t){if(n===t)return 0;if(n===Wu||t===qc)return-1;if(t===Wu||n===qc)return 1;{const e=PT(n),i=PT(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},P6=function(n,t){return n===t?0:n<t?-1:1},aw=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,V.Pz)(t))},aR=function(n){if("object"!=typeof n||null===n)return(0,V.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,V.Pz)(t[i]),e+=":",e+=aR(n[t[i]]);return e+="}",e},oV=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Ur(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const aV=function(n){(0,V.hu)(!OT(n),"Invalid JSON number");const i=1023;let r,s,c,d,p;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(r?1:0),_.reverse();const b=_.join("");let D="";for(p=0;p<64;p+=8){let A=parseInt(b.substr(p,8),2).toString(16);1===A.length&&(A="0"+A),D+=A}return D.toLowerCase()},B6=new RegExp("^-?(0*)\\d{1,10}$"),lV=-2147483648,lR=2147483647,PT=function(n){if(B6.test(n)){const t=Number(n);if(t>=lV&&t<=lR)return t}return null},E_=function(n){try{n()}catch(t){setTimeout(()=>{throw Ms("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},lw=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class U6{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ms(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class H6{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Vr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ms(t)}}let cw=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const fV=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mV="websocket",_V="long_polling";class uR{constructor(t,e,i,r,s=!1,c="",d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yp.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&yp.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function yV(n,t,e){let i;if((0,V.hu)("string"==typeof t,"typeof type must == string"),(0,V.hu)("object"==typeof e,"typeof params must == object"),t===mV)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==_V)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function j6(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Ur(e,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class z6{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,V.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,V.p$)(this.counters_)}}const dR={},hR={};function fR(n){const t=n.toString();return dR[t]||(dR[t]=new z6),dR[t]}class $6{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&E_(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Eh{constructor(t,e,i,r,s,c,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ow(t),this.stats_=fR(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),yV(e,_V,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new $6(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,V.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pR((...s)=>{const[c,d,p,_,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&fV.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Eh.forceAllow_=!0}static forceDisallow(){Eh.forceDisallow_=!0}static isAvailable(){return!((0,V.Yr)()||!Eh.forceAllow_&&(Eh.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,V.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,V.h$)(e),r=oV(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,V.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,V.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class pR{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,V.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=nV(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=pR.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){Vr("frame writing exception"),d.stack&&Vr(d.stack),Vr(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Vr("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,V.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Vr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let FT=null;"undefined"!=typeof MozWebSocket?FT=MozWebSocket:"undefined"!=typeof WebSocket&&(FT=WebSocket);let D_=(()=>{class n{constructor(e,i,r,s,c,d,p){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ow(this.connId),this.stats_=fR(i),this.connURL=n.connectionURL_(i,d,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,c){const d={v:"5"};return!(0,V.Yr)()&&"undefined"!=typeof location&&location.hostname&&fV.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),c&&(d.p=c),yV(e,mV,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yp.set("previous_websocket_failure",!0);try{let r;if((0,V.Yr)()){r={headers:{"User-Agent":`Firebase/5/${rR}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new FT(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==FT&&!n.forceDisallow_}static previouslyFailed(){return yp.isInMemoryStorage||!0===yp.get("previous_websocket_failure")}markConnectionHealthy(){yp.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,V.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,V.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,V.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=oV(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),TV=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Eh,D_]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=D_&&D_.isAvailable();let r=i&&!D_.previouslyFailed();if(e.webSocketOnly&&(i||Ms("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[D_];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class RV{constructor(t,e,i,r,s,c,d,p,_,b){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ow("c:"+this.id+":"),this.transportManager_=new TV(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=lw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=aw("t",t),i=aw("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=aw("t",t),i=aw("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=aw("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?oR("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):oR("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Ms("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),lw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):lw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yp.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class OV{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class PV{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,V.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,V.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class LT extends PV{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,V.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new LT}getInitialEvent(t){return(0,V.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Yn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Ln(){return new Yn("")}function an(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Dh(n){return n.pieces_.length-n.pieceNum_}function si(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Yn(n.pieces_,t)}function mR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function uw(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function LV(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Yn(t,0)}function Di(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Yn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Yn(e,0)}function ln(n){return n.pieceNum_>=n.pieces_.length}function io(n,t){const e=an(n),i=an(t);if(null===e)return t;if(e===i)return io(si(n),si(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function f4(n,t){const e=uw(n,0),i=uw(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=bp(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function _R(n,t){if(Dh(n)!==Dh(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Ya(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Dh(n)>Dh(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class p4{constructor(t,e){this.errorPrefix_=e,this.parts_=uw(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,V.ug)(this.parts_[i]);BV(this)}}function BV(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+wp(n))}function wp(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class yR extends PV{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new yR}getInitialEvent(t){return(0,V.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const dw=1e3;let VT,Cp=(()=>{class n extends OV{constructor(e,i,r,s,c,d,p,_){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=ow("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=dw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,V.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yR.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&LT.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,c={r:s,a:e,b:i};this.log_((0,V.Pz)(c)),(0,V.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new V.BH,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const p=d.d;"ok"===d.s?i.resolve(p):i.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,V.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,V.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,p=>{const _=p.d,b=p.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",p),"ok"!==b&&this.removeListen_(r,s),e.onComplete&&e.onComplete(b,_))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,V.r3)(e,"w")){const r=(0,V.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Ms(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,V.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,V.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,d=s.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,V.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const c={p:e};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,V.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):oR("Unrecognized action received from server: "+(0,V.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,V.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=dw,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=dw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=dw),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,pt.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let p=!1,_=null;const b=function(){_?_.close():(p=!0,s())};e.realtime_={close:b,sendRequest:function(O){(0,V.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(O)}};const A=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[O,B]=yield Promise.all([e.authTokenProvider_.getToken(A),e.appCheckTokenProvider_.getToken(A)]);p?Vr("getToken() completed but was canceled"):(Vr("getToken() completed. Creating connection."),e.authToken_=O&&O.accessToken,e.appCheckToken_=B&&B.token,_=new RV(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,ie=>{Ms(ie+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(O){e.log_("Failed to get token: "+O),p||(e.repoInfo_.nodeAdmin&&Ms(O),b())}}})()}interrupt(e){Vr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Vr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,V.xb)(this.interruptReasons_)&&(this.reconnectDelay_=dw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>aR(c)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new Yn(e).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){Vr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Vr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,V.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+rR.replace(/\./g,"-")]=1,(0,V.uI)()?e["framework.cordova"]=1:(0,V.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=LT.getInstance().currentlyOnline();return(0,V.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class hn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new hn(t,e)}}class BT{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new hn(Wu,t),r=new hn(Wu,e);return 0!==this.compare(i,r)}minPost(){return hn.MIN}}class HV extends BT{static get __EMPTY_NODE(){return VT}static set __EMPTY_NODE(t){VT=t}compare(t,e){return bp(t.name,e.name)}isDefinedOn(t){throw(0,V.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return hn.MIN}maxPost(){return new hn(qc,VT)}makePost(t,e){return(0,V.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new hn(t,VT)}toString(){return".key"}}const Zc=new HV;class UT{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(t=t,c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let bR,Kl=(()=>{class n{constructor(e,i,r,s,c){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:Oo.EMPTY_NODE,this.right=null!=c?c:Oo.EMPTY_NODE}copy(e,i,r,s,c){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=c?c:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const c=r(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Oo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Oo.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Oo{constructor(t,e=Oo.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Oo(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Kl.BLACK,null,null))}remove(t){return new Oo(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Kl.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new UT(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new UT(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new UT(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new UT(this.root_,null,this.comparator_,!0,t)}}function C4(n,t){return bp(n.name,t.name)}function vR(n,t){return bp(n,t)}Oo.EMPTY_NODE=new class w4{copy(t,e,i,r,s){return this}insert(t,e,i){return new Kl(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const jV=function(n){return"number"==typeof n?"number:"+aV(n):"string:"+n},zV=function(n){if(n.isLeafNode()){const t=n.val();(0,V.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,V.r3)(t,".sv"),"Priority must be a string or number.")}else(0,V.hu)(n===bR||n.isEmpty(),"priority of unexpected type.");(0,V.hu)(n===bR||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let GV,$V,WV,T_=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,V.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),zV(this.priorityNode_)}static set __childrenNodeConstructor(e){GV=e}static get __childrenNodeConstructor(){return GV}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ln(e)?this:".priority"===an(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=an(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,V.hu)(".priority"!==r||1===Dh(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(si(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+jV(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?aV(this.value_):this.value_,this.lazyHash_=iV(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,V.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,V.hu)(s>=0,"Unknown leaf type: "+i),(0,V.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ui=new class I4 extends BT{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?bp(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return hn.MIN}maxPost(){return new hn(qc,new T_("[PRIORITY-POST]",WV))}makePost(t,e){const i=$V(t);return new hn(e,new T_("[PRIORITY-POST]",i))}toString(){return".priority"}},S4=Math.log(2);class M4{constructor(t){this.count=parseInt(Math.log(t+1)/S4,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const HT=function(n,t,e,i){n.sort(t);const r=function(p,_){const b=_-p;let D,A;if(0===b)return null;if(1===b)return D=n[p],A=e?e(D):D,new Kl(A,D.node,Kl.BLACK,null,null);{const O=parseInt(b/2,10)+p,B=r(p,O),ie=r(O+1,_);return D=n[O],A=e?e(D):D,new Kl(A,D.node,Kl.BLACK,B,ie)}},d=function(p){let _=null,b=null,D=n.length;const A=function(B,ie){const le=D-B,Ve=D;D-=B;const Ze=r(le+1,Ve),Ye=n[le],Je=e?e(Ye):Ye;O(new Kl(Je,Ye.node,ie,null,Ze))},O=function(B){_?(_.left=B,_=B):(b=B,_=B)};for(let B=0;B<p.count;++B){const ie=p.nextBitIsOne(),le=Math.pow(2,p.count-(B+1));ie?A(le,Kl.BLACK):(A(le,Kl.BLACK),A(le,Kl.RED))}return b}(new M4(n.length));return new Oo(i||t,d)};let wR;const I_={};class qu{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,V.hu)(I_&&ui,"ChildrenNode.ts has not been loaded"),wR=wR||new qu({".priority":I_},{".priority":ui}),wR}get(t){const e=(0,V.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Oo?e:null}hasIndex(t){return(0,V.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,V.hu)(t!==Zc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(hn.Wrap);let d,c=s.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=s.getNext();d=r?HT(i,t.getCompare()):I_;const p=t.toString(),_=Object.assign({},this.indexSet_);_[p]=t;const b=Object.assign({},this.indexes_);return b[p]=d,new qu(b,_)}addToIndexes(t,e){const i=(0,V.UI)(this.indexes_,(r,s)=>{const c=(0,V.DV)(this.indexSet_,s);if((0,V.hu)(c,"Missing index implementation for "+s),r===I_){if(c.isDefinedOn(t.node)){const d=[],p=e.getIterator(hn.Wrap);let _=p.getNext();for(;_;)_.name!==t.name&&d.push(_),_=p.getNext();return d.push(t),HT(d,c.getCompare())}return I_}{const d=e.get(t.name);let p=r;return d&&(p=p.remove(new hn(t.name,d))),p.insert(t,t.node)}});return new qu(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,V.UI)(this.indexes_,r=>{if(r===I_)return r;{const s=e.get(t.name);return s?r.remove(new hn(t.name,s)):r}});return new qu(i,this.indexSet_)}}let hw,Kt=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&zV(this.priorityNode_),this.children_.isEmpty()&&(0,V.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return hw||(hw=new n(new Oo(vR),null,qu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hw}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?hw:i}}getChild(e){const i=an(e);return null===i?this:this.getImmediateChild(i).getChild(si(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,V.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new hn(e,i);let s,c;i.isEmpty()?(s=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?hw:this.priorityNode_;return new n(s,d,c)}}updateChild(e,i){const r=an(e);if(null===r)return i;{(0,V.hu)(".priority"!==an(e)||1===Dh(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(si(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(ui,(d,p)=>{i[d]=p.val(e),r++,c&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):c=!1}),!e&&c&&s<2*r){const d=[];for(const p in i)d[p]=i[p];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+jV(this.getPriority().val())+":"),this.forEachChild(ui,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":iV(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new hn(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new hn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new hn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,hn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,hn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)>0;)s.getNext(),c=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===fw?-1:0}withIndex(e){if(e===Zc||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Zc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(ui),s=i.getIterator(ui);let c=r.getNext(),d=s.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=s.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(e){return e===Zc?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const fw=new class A4 extends Kt{constructor(){super(new Oo(vR),Kt.EMPTY_NODE,qu.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Kt.EMPTY_NODE}isEmpty(){return!1}};function Ni(n,t=null){if(null===n)return Kt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,V.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new T_(n,Ni(t));if(n instanceof Array){let e=Kt.EMPTY_NODE;return Ur(n,(i,r)=>{if((0,V.r3)(n,i)&&"."!==i.substring(0,1)){const s=Ni(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(Ni(t))}{const e=[];let i=!1;if(Ur(n,(c,d)=>{if("."!==c.substring(0,1)){const p=Ni(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),e.push(new hn(c,p)))}}),0===e.length)return Kt.EMPTY_NODE;const s=HT(e,C4,c=>c.name,vR);if(i){const c=HT(e,ui.getCompare());return new Kt(s,Ni(t),new qu({".priority":c},{".priority":ui}))}return new Kt(s,Ni(t),qu.Default)}}Object.defineProperties(hn,{MIN:{value:new hn(Wu,Kt.EMPTY_NODE)},MAX:{value:new hn(qc,fw)}}),HV.__EMPTY_NODE=Kt.EMPTY_NODE,T_.__childrenNodeConstructor=Kt,function E4(n){bR=n}(fw),function T4(n){WV=n}(fw),function D4(n){$V=n}(Ni);class CR extends BT{constructor(t){super(),this.indexPath_=t,(0,V.hu)(!ln(t)&&".priority"!==an(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?bp(t.name,e.name):s}makePost(t,e){const i=Ni(t),r=Kt.EMPTY_NODE.updateChild(this.indexPath_,i);return new hn(e,r)}maxPost(){const t=Kt.EMPTY_NODE.updateChild(this.indexPath_,fw);return new hn(qc,t)}toString(){return uw(this.indexPath_,0).join("/")}}const ER=new class k4 extends BT{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?bp(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return hn.MIN}maxPost(){return hn.MAX}makePost(t,e){const i=Ni(t);return new hn(e,i)}toString(){return".value"}},S_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",R4=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=S_.charAt(e%64),e=Math.floor(e/64);(0,V.hu)(0===e,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=S_.charAt(t[r]);return(0,V.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),YV=function(n){if(n===""+lR)return"-";const t=PT(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return qc;const s=S_.charAt(S_.indexOf(e[i])+1);return e[i]=s,e.slice(0,i+1).join("")},KV=function(n){if(n===""+lV)return Wu;const t=PT(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+lR:(delete e[e.length-1],e.join("")):(e[e.length-1]=S_.charAt(S_.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function QV(n){return{type:"value",snapshotNode:n}}function M_(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function pw(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function gw(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class TR{constructor(t){this.index_=t}updateChild(t,e,i,r,s,c){(0,V.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(pw(e,d)):(0,V.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(M_(e,i)):c.trackChildChange(gw(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(ui,(r,s)=>{e.hasChild(r)||i.trackChildChange(pw(r,s))}),e.isLeafNode()||e.forEachChild(ui,(r,s)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(s)||i.trackChildChange(gw(r,s,c))}else i.trackChildChange(M_(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Kt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class mw{constructor(t){this.indexedFilter_=new TR(t.getIndex()),this.index_=t.getIndex(),this.startPost_=mw.getStartPost_(t),this.endPost_=mw.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,s,c){return this.matches(new hn(e,i))||(i=Kt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Kt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Kt.EMPTY_NODE);const s=this;return e.forEachChild(ui,(c,d)=>{s.matches(new hn(c,d))||(r=r.updateImmediateChild(c,Kt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class P4{constructor(t){this.rangedFilter_=new mw(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,s,c){return this.rangedFilter_.matches(new hn(e,i))||(i=Kt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,c):this.fullLimitUpdateChild_(t,e,i,s,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Kt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=Kt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const d=s.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let s,c,d,p;if(r=e.withIndex(this.index_),r=r.updatePriority(Kt.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const D=this.index_.getCompare();d=(A,O)=>D(O,A)}else p=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let _=0,b=!1;for(;p.hasNext();){const D=p.getNext();!b&&d(s,D)<=0&&(b=!0),b&&_<this.limit_&&d(D,c)<=0?_++:r=r.updateImmediateChild(D.name,Kt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let c;if(this.reverse_){const D=this.index_.getCompare();c=(A,O)=>D(O,A)}else c=this.index_.getCompare();const d=t;(0,V.hu)(d.numChildren()===this.limit_,"");const p=new hn(e,i),_=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),b=this.rangedFilter_.matches(p);if(d.hasChild(e)){const D=d.getImmediateChild(e);let A=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=A&&(A.name===e||d.hasChild(A.name));)A=r.getChildAfterChild(this.index_,A,this.reverse_);const O=null==A?1:c(A,p);if(b&&!i.isEmpty()&&O>=0)return null!=s&&s.trackChildChange(gw(e,i,D)),d.updateImmediateChild(e,i);{null!=s&&s.trackChildChange(pw(e,D));const ie=d.updateImmediateChild(e,Kt.EMPTY_NODE);return null!=A&&this.rangedFilter_.matches(A)?(null!=s&&s.trackChildChange(M_(A.name,A.node)),ie.updateImmediateChild(A.name,A.node)):ie}}return i.isEmpty()?t:b&&c(_,p)>=0?(null!=s&&(s.trackChildChange(pw(_.name,_.node)),s.trackChildChange(M_(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(_.name,Kt.EMPTY_NODE)):t}}class jT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ui}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,V.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ui}copy(){const t=new jT;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function IR(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function SR(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function zT(n,t){const e=n.copy();return e.index_=t,e}function JV(n){const t={};if(n.isDefault())return t;let e;return n.index_===ui?e="$priority":n.index_===ER?e="$value":n.index_===Zc?e="$key":((0,V.hu)(n.index_ instanceof CR,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,V.Pz)(e),n.startSet_&&(t.startAt=(0,V.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,V.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,V.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,V.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function XV(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==ui&&(t.i=n.index_.toString()),t}class GT extends OV{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=ow("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,V.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const c=GT.getListenId_(t,i),d={};this.listens_[c]=d;const p=JV(t._queryParams);this.restRequest_(s+".json",p,(_,b)=>{let D=b;if(404===_&&(D=null,_=null),null===_&&this.onDataUpdate_(s,D,!1,i),(0,V.DV)(this.listens_,c)===d){let A;A=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(A,null)}})}unlisten(t,e){const i=GT.getListenId_(t,e);delete this.listens_[i]}get(t){const e=JV(t._queryParams),i=t._path.toString(),r=new V.BH;return this.restRequest_(i+".json",e,(s,c)=>{let d=c;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,V.xO)(e);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=(0,V.cI)(d.responseText)}catch(_){Ms("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,p)}else 401!==d.status&&404!==d.status&&Ms("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class U4{constructor(){this.rootNode_=Kt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function $T(){return{value:null,children:new Map}}function A_(n,t,e){if(ln(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=an(t);n.children.has(i)||n.children.set(i,$T()),A_(n.children.get(i),t=si(t),e)}}function MR(n,t){if(ln(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(ui,(i,r)=>{A_(n,new Yn(i),r)}),MR(n,t)}}if(n.children.size>0){const e=an(t);return t=si(t),n.children.has(e)&&MR(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function AR(n,t,e){null!==n.value?e(t,n.value):function H4(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{AR(r,new Yn(t.toString()+"/"+i),e)})}class j4{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Ur(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class $4{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new j4(t);const i=1e4+2e4*Math.random();lw(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Ur(t,(r,s)=>{s>0&&(0,V.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),lw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ka=(()=>{return(n=Ka||(Ka={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Ka;var n})();function RR(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class WT{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Ka.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(ln(this.path)){if(null!=this.affectedTree.value)return(0,V.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Yn(t));return new WT(Ln(),e,this.revert)}}return(0,V.hu)(an(this.path)===t,"operationForChild called for unrelated child."),new WT(si(this.path),this.affectedTree,this.revert)}}class _w{constructor(t,e){this.source=t,this.path=e,this.type=Ka.LISTEN_COMPLETE}operationForChild(t){return ln(this.path)?new _w(this.source,Ln()):new _w(this.source,si(this.path))}}class Ep{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Ka.OVERWRITE}operationForChild(t){return ln(this.path)?new Ep(this.source,Ln(),this.snap.getImmediateChild(t)):new Ep(this.source,si(this.path),this.snap)}}class x_{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Ka.MERGE}operationForChild(t){if(ln(this.path)){const e=this.children.subtree(new Yn(t));return e.isEmpty()?null:e.value?new Ep(this.source,Ln(),e.value):new x_(this.source,Ln(),e)}return(0,V.hu)(an(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new x_(this.source,si(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Th{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ln(t))return this.isFullyInitialized()&&!this.filtered_;const e=an(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class W4{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function yw(n,t,e,i,r,s){const c=i.filter(d=>d.type===e);c.sort((d,p)=>function Y4(n,t,e){if(null==t.childName||null==e.childName)throw(0,V.g5)("Should only compare child_ events.");const i=new hn(t.childName,t.snapshotNode),r=new hn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,p)),c.forEach(d=>{const p=function Z4(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,s);r.forEach(_=>{_.respondsTo(d.type)&&t.push(_.createEvent(p,n.query_))})})}function qT(n,t){return{eventCache:n,serverCache:t}}function vw(n,t,e,i){return qT(new Th(t,e,i),n.serverCache)}function t2(n,t,e,i){return qT(n.eventCache,new Th(t,e,i))}function ZT(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Dp(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let OR;class di{constructor(t,e=(()=>(OR||(OR=new Oo(P6)),OR))()){this.value=t,this.children=e}static fromObject(t){let e=new di(null);return Ur(t,(i,r)=>{e=e.set(new Yn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Ln(),value:this.value};if(ln(t))return null;{const i=an(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(si(t),e);return null!=s?{path:Di(new Yn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ln(t))return this;{const e=an(t),i=this.children.get(e);return null!==i?i.subtree(si(t)):new di(null)}}set(t,e){if(ln(t))return new di(e,this.children);{const i=an(t),s=(this.children.get(i)||new di(null)).set(si(t),e),c=this.children.insert(i,s);return new di(this.value,c)}}remove(t){if(ln(t))return this.children.isEmpty()?new di(null):new di(null,this.children);{const e=an(t),i=this.children.get(e);if(i){const r=i.remove(si(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new di(null):new di(this.value,s)}return this}}get(t){if(ln(t))return this.value;{const e=an(t),i=this.children.get(e);return i?i.get(si(t)):null}}setTree(t,e){if(ln(t))return e;{const i=an(t),s=(this.children.get(i)||new di(null)).setTree(si(t),e);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new di(this.value,c)}}fold(t){return this.fold_(Ln(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Di(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Ln(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(ln(t))return null;{const s=an(t),c=this.children.get(s);return c?c.findOnPath_(si(t),Di(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Ln(),e)}foreachOnPath_(t,e,i){if(ln(t))return this;{this.value&&i(e,this.value);const r=an(t),s=this.children.get(r);return s?s.foreachOnPath_(si(t),Di(e,r),i):new di(null)}}foreach(t){this.foreach_(Ln(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Di(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Ql{constructor(t){this.writeTree_=t}static empty(){return new Ql(new di(null))}}function bw(n,t,e){if(ln(t))return new Ql(new di(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const c=io(r,t);return s=s.updateChild(c,e),new Ql(n.writeTree_.set(r,s))}{const r=new di(e),s=n.writeTree_.setTree(t,r);return new Ql(s)}}}function PR(n,t,e){let i=n;return Ur(e,(r,s)=>{i=bw(i,Di(t,r),s)}),i}function n2(n,t){if(ln(t))return Ql.empty();{const e=n.writeTree_.setTree(t,new di(null));return new Ql(e)}}function NR(n,t){return null!=Tp(n,t)}function Tp(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(io(e.path,t)):null}function r2(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(ui,(i,r)=>{t.push(new hn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new hn(i,r.value))}),t}function Ih(n,t){if(ln(t))return n;{const e=Tp(n,t);return new Ql(null!=e?new di(e):n.writeTree_.subtree(t))}}function FR(n){return n.writeTree_.isEmpty()}function k_(n,t){return s2(Ln(),n.writeTree_,t)}function s2(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,V.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=s2(Di(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Di(n,".priority"),i)),e}}function YT(n,t){return u2(t,n)}function t5(n,t){if(n.snap)return Ya(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Ya(Di(n.path,e),t))return!0;return!1}function r5(n){return n.visible}function o2(n,t,e){let i=Ql.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const c=s.path;let d;if(s.snap)Ya(e,c)?(d=io(e,c),i=bw(i,d,s.snap)):Ya(c,e)&&(d=io(c,e),i=bw(i,Ln(),s.snap.getChild(d)));else{if(!s.children)throw(0,V.g5)("WriteRecord should have .snap or .children");if(Ya(e,c))d=io(e,c),i=PR(i,d,s.children);else if(Ya(c,e))if(d=io(c,e),ln(d))i=PR(i,Ln(),s.children);else{const p=(0,V.DV)(s.children,an(d));if(p){const _=p.getChild(si(d));i=bw(i,Ln(),_)}}}}}return i}function a2(n,t,e,i,r){if(i||r){const s=Ih(n.visibleWrites,t);return!r&&FR(s)?e:r||null!=e||NR(s,Ln())?k_(o2(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(Ya(_.path,t)||Ya(t,_.path))},t),e||Kt.EMPTY_NODE):null}{const s=Tp(n.visibleWrites,t);if(null!=s)return s;{const c=Ih(n.visibleWrites,t);return FR(c)?e:null!=e||NR(c,Ln())?k_(c,e||Kt.EMPTY_NODE):null}}}function KT(n,t,e,i){return a2(n.writeTree,n.treePath,t,e,i)}function LR(n,t){return function s5(n,t,e){let i=Kt.EMPTY_NODE;const r=Tp(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(ui,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(e){const s=Ih(n.visibleWrites,t);return e.forEachChild(ui,(c,d)=>{const p=k_(Ih(s,new Yn(c)),d);i=i.updateImmediateChild(c,p)}),r2(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return r2(Ih(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function l2(n,t,e,i){return function o5(n,t,e,i,r){(0,V.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Di(t,e);if(NR(n.visibleWrites,s))return null;{const c=Ih(n.visibleWrites,s);return FR(c)?r.getChild(e):k_(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function QT(n,t){return function l5(n,t){return Tp(n.visibleWrites,t)}(n.writeTree,Di(n.treePath,t))}function BR(n,t,e){return function a5(n,t,e,i){const r=Di(t,e),s=Tp(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?k_(Ih(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function c2(n,t){return u2(Di(n.treePath,t),n.writeTree)}function u2(n,t){return{treePath:n,writeTree:t}}class h5{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,V.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,V.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,gw(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,pw(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,M_(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,V.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,gw(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const d2=new class f5{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class VR{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Th(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return BR(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Dp(this.viewCache_),s=function d5(n,t,e,i,r,s){return function c5(n,t,e,i,r,s,c){let d;const p=Ih(n.visibleWrites,t),_=Tp(p,Ln());if(null!=_)d=_;else{if(null==e)return[];d=k_(p,e)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const b=[],D=c.getCompare(),A=s?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let O=A.getNext();for(;O&&b.length<r;)0!==D(O,i)&&b.push(O),O=A.getNext();return b}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function h2(n,t,e,i,r,s){const c=t.eventCache;if(null!=QT(i,e))return t;{let d,p;if(ln(e))if((0,V.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=Dp(t),D=LR(i,_ instanceof Kt?_:Kt.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),D,s)}else{const _=KT(i,Dp(t));d=n.filter.updateFullNode(t.eventCache.getNode(),_,s)}else{const _=an(e);if(".priority"===_){(0,V.hu)(1===Dh(e),"Can't have a priority with additional path components");const b=c.getNode();p=t.serverCache.getNode();const D=l2(i,e,b,p);d=null!=D?n.filter.updatePriority(b,D):c.getNode()}else{const b=si(e);let D;if(c.isCompleteForChild(_)){p=t.serverCache.getNode();const A=l2(i,e,c.getNode(),p);D=null!=A?c.getNode().getImmediateChild(_).updateChild(b,A):c.getNode().getImmediateChild(_)}else D=BR(i,_,t.serverCache);d=null!=D?n.filter.updateChild(c.getNode(),_,D,b,r,s):c.getNode()}}return vw(t,d,c.isFullyInitialized()||ln(e),n.filter.filtersNodes())}}function JT(n,t,e,i,r,s,c,d){const p=t.serverCache;let _;const b=c?n.filter:n.filter.getIndexedFilter();if(ln(e))_=b.updateFullNode(p.getNode(),i,null);else if(b.filtersNodes()&&!p.isFiltered()){const O=p.getNode().updateChild(e,i);_=b.updateFullNode(p.getNode(),O,null)}else{const O=an(e);if(!p.isCompleteForPath(e)&&Dh(e)>1)return t;const B=si(e),le=p.getNode().getImmediateChild(O).updateChild(B,i);_=".priority"===O?b.updatePriority(p.getNode(),le):b.updateChild(p.getNode(),O,le,B,d2,null)}const D=t2(t,_,p.isFullyInitialized()||ln(e),b.filtersNodes());return h2(n,D,e,r,new VR(r,D,s),d)}function UR(n,t,e,i,r,s,c){const d=t.eventCache;let p,_;const b=new VR(r,t,s);if(ln(e))_=n.filter.updateFullNode(t.eventCache.getNode(),i,c),p=vw(t,_,!0,n.filter.filtersNodes());else{const D=an(e);if(".priority"===D)_=n.filter.updatePriority(t.eventCache.getNode(),i),p=vw(t,_,d.isFullyInitialized(),d.isFiltered());else{const A=si(e),O=d.getNode().getImmediateChild(D);let B;if(ln(A))B=i;else{const ie=b.getCompleteChild(D);B=null!=ie?".priority"===mR(A)&&ie.getChild(LV(A)).isEmpty()?ie:ie.updateChild(A,i):Kt.EMPTY_NODE}p=O.equals(B)?t:vw(t,n.filter.updateChild(d.getNode(),D,B,A,b,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return p}function f2(n,t){return n.eventCache.isCompleteForChild(t)}function p2(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function HR(n,t,e,i,r,s,c,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let _,p=t;_=ln(e)?i:new di(null).setTree(e,i);const b=t.serverCache.getNode();return _.children.inorderTraversal((D,A)=>{if(b.hasChild(D)){const B=p2(0,t.serverCache.getNode().getImmediateChild(D),A);p=JT(n,p,new Yn(D),B,r,s,c,d)}}),_.children.inorderTraversal((D,A)=>{const O=!t.serverCache.isCompleteForChild(D)&&void 0===A.value;if(!b.hasChild(D)&&!O){const ie=p2(0,t.serverCache.getNode().getImmediateChild(D),A);p=JT(n,p,new Yn(D),ie,r,s,c,d)}}),p}class C5{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new TR(i.getIndex()),s=function N4(n){return n.loadsAllData()?new TR(n.getIndex()):n.hasLimit()?new P4(n):new mw(n)}(i);this.processor_=function p5(n){return{filter:n}}(s);const c=e.serverCache,d=e.eventCache,p=r.updateFullNode(Kt.EMPTY_NODE,c.getNode(),null),_=s.updateFullNode(Kt.EMPTY_NODE,d.getNode(),null),b=new Th(p,c.isFullyInitialized(),r.filtersNodes()),D=new Th(_,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=qT(D,b),this.eventGenerator_=new W4(this.query_)}get query(){return this.query_}}function T5(n,t){const e=Dp(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!ln(t)&&!e.getImmediateChild(an(t)).isEmpty())?e.getChild(t):null}function g2(n){return 0===n.eventRegistrations_.length}function m2(n,t,e){const i=[];if(e){(0,V.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function _2(n,t,e,i){t.type===Ka.MERGE&&null!==t.source.queryId&&((0,V.hu)(Dp(n.viewCache_),"We should always have a full cache before handling merges"),(0,V.hu)(ZT(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function m5(n,t,e,i,r){const s=new h5;let c,d;if(e.type===Ka.OVERWRITE){const _=e;_.source.fromUser?c=UR(n,t,_.path,_.snap,i,r,s):((0,V.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered()&&!ln(_.path),c=JT(n,t,_.path,_.snap,i,r,d,s))}else if(e.type===Ka.MERGE){const _=e;_.source.fromUser?c=function y5(n,t,e,i,r,s,c){let d=t;return i.foreach((p,_)=>{const b=Di(e,p);f2(t,an(b))&&(d=UR(n,d,b,_,r,s,c))}),i.foreach((p,_)=>{const b=Di(e,p);f2(t,an(b))||(d=UR(n,d,b,_,r,s,c))}),d}(n,t,_.path,_.children,i,r,s):((0,V.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered(),c=HR(n,t,_.path,_.children,i,r,d,s))}else if(e.type===Ka.ACK_USER_WRITE){const _=e;c=_.revert?function w5(n,t,e,i,r,s){let c;if(null!=QT(i,e))return t;{const d=new VR(i,t,r),p=t.eventCache.getNode();let _;if(ln(e)||".priority"===an(e)){let b;if(t.serverCache.isFullyInitialized())b=KT(i,Dp(t));else{const D=t.serverCache.getNode();(0,V.hu)(D instanceof Kt,"serverChildren would be complete if leaf node"),b=LR(i,D)}b=b,_=n.filter.updateFullNode(p,b,s)}else{const b=an(e);let D=BR(i,b,t.serverCache);null==D&&t.serverCache.isCompleteForChild(b)&&(D=p.getImmediateChild(b)),_=null!=D?n.filter.updateChild(p,b,D,si(e),d,s):t.eventCache.getNode().hasChild(b)?n.filter.updateChild(p,b,Kt.EMPTY_NODE,si(e),d,s):p,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=KT(i,Dp(t)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,s)))}return c=t.serverCache.isFullyInitialized()||null!=QT(i,Ln()),vw(t,_,c,n.filter.filtersNodes())}}(n,t,_.path,i,r,s):function v5(n,t,e,i,r,s,c){if(null!=QT(r,e))return t;const d=t.serverCache.isFiltered(),p=t.serverCache;if(null!=i.value){if(ln(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return JT(n,t,e,p.getNode().getChild(e),r,s,d,c);if(ln(e)){let _=new di(null);return p.getNode().forEachChild(Zc,(b,D)=>{_=_.set(new Yn(b),D)}),HR(n,t,e,_,r,s,d,c)}return t}{let _=new di(null);return i.foreach((b,D)=>{const A=Di(e,b);p.isCompleteForPath(A)&&(_=_.set(b,p.getNode().getChild(A)))}),HR(n,t,e,_,r,s,d,c)}}(n,t,_.path,_.affectedTree,i,r,s)}else{if(e.type!==Ka.LISTEN_COMPLETE)throw(0,V.g5)("Unknown operation type: "+e.type);c=function b5(n,t,e,i,r){const s=t.serverCache;return h2(n,t2(t,s.getNode(),s.isFullyInitialized()||ln(e),s.isFiltered()),e,i,d2,r)}(n,t,e.path,i,s)}const p=s.getChanges();return function _5(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=ZT(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(QV(ZT(t)))}}(t,c,p),{viewCache:c,changes:p}}(n.processor_,r,t,e,i);return function g5(n,t){(0,V.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,V.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,V.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,y2(n,s.changes,s.viewCache.eventCache.getNode(),null)}function y2(n,t,e,i){return function q4(n,t,e,i){const r=[],s=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function O4(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),yw(n,r,"child_removed",t,i,e),yw(n,r,"child_added",t,i,e),yw(n,r,"child_moved",s,i,e),yw(n,r,"child_changed",t,i,e),yw(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let XT,tI;class v2{constructor(){this.views=new Map}}function jR(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,V.hu)(null!=s,"SyncTree gave us an op for an invalid query."),_2(s,t,e,i)}{let s=[];for(const c of n.views.values())s=s.concat(_2(c,t,e,i));return s}}function zR(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let d=KT(e,r?i:null),p=!1;d?p=!0:i instanceof Kt?(d=LR(e,i),p=!1):(d=Kt.EMPTY_NODE,p=!1);const _=qT(new Th(d,p,!1),new Th(i,r,!1));return new C5(t,_)}return c}function b2(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Sh(n,t){let e=null;for(const i of n.views.values())e=e||T5(i,t);return e}function w2(n,t){return t._queryParams.loadsAllData()?eI(n):n.views.get(t._queryIdentifier)}function C2(n,t){return null!=w2(n,t)}function Mh(n){return null!=eI(n)}function eI(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let N5=1;class E2{constructor(t){this.listenProvider_=t,this.syncPointTree_=new di(null),this.pendingWriteTree_=function u5(){return{visibleWrites:Ql.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function GR(n,t,e,i,r){return function Q4(n,t,e,i,r){(0,V.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=bw(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?R_(n,new Ep({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Ah(n,t,e=!1){const i=function X4(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function e5(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,V.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=e&&t5(d,i.path)?r=!1:Ya(i.path,d.path)&&(s=!0)),c--}return!!r&&(s?(function n5(n){n.visibleWrites=o2(n.allWrites,r5,Ln()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=n2(n.visibleWrites,i.path):Ur(i.children,p=>{n.visibleWrites=n2(n.visibleWrites,Di(i.path,p))}),!0))}(n.pendingWriteTree_,t)){let s=new di(null);return null!=i.snap?s=s.set(Ln(),!0):Ur(i.children,c=>{s=s.set(new Yn(c),!0)}),R_(n,new WT(i.path,s,e))}return[]}function ww(n,t,e){return R_(n,new Ep({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function nI(n,t,e,i){const r=t._path,s=n.syncPointTree_.get(r);let c=[];if(s&&("default"===t._queryIdentifier||C2(s,t))){const d=function R5(n,t,e,i){const r=t._queryIdentifier,s=[];let c=[];const d=Mh(n);if("default"===r)for(const[p,_]of n.views.entries())c=c.concat(m2(_,e,i)),g2(_)&&(n.views.delete(p),_.query._queryParams.loadsAllData()||s.push(_.query));else{const p=n.views.get(r);p&&(c=c.concat(m2(p,e,i)),g2(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return d&&!Mh(n)&&s.push(new(function A5(){return(0,V.hu)(XT,"Reference.ts has not been loaded"),XT}())(t._repo,t._path)),{removed:s,events:c}}(s,t,e,i);(function x5(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const p=d.removed;c=d.events;const _=-1!==p.findIndex(D=>D._queryParams.loadsAllData()),b=n.syncPointTree_.findOnPath(r,(D,A)=>Mh(A));if(_&&!b){const D=n.syncPointTree_.subtree(r);if(!D.isEmpty()){const A=function z5(n){return n.fold((t,e,i)=>{if(e&&Mh(e))return[eI(e)];{let r=[];return e&&(r=b2(e)),Ur(i,(s,c)=>{r=r.concat(c)}),r}})}(D);for(let O=0;O<A.length;++O){const B=A[O],ie=B.query,le=A2(n,B);n.listenProvider_.startListening(Ew(ie),Cw(n,ie),le.hashFn,le.onComplete)}}}!b&&p.length>0&&!i&&(_?n.listenProvider_.stopListening(Ew(t),null):p.forEach(D=>{const A=n.queryToTagMap.get(rI(D));n.listenProvider_.stopListening(Ew(D),A)})),function G5(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=rI(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,p)}return c}function D2(n,t,e,i){const r=$R(n,i);if(null!=r){const s=WR(r),c=s.path,d=s.queryId,p=io(c,t);return qR(n,c,new Ep(RR(d),p,e))}return[]}function T2(n,t){const e=n._path;let i=null,r=!1;t.syncPointTree_.foreachOnPath(e,(_,b)=>{const D=io(_,e);i=i||Sh(b,D),r=r||Mh(b)});let c,s=t.syncPointTree_.get(e);s?(r=r||Mh(s),i=i||Sh(s,Ln())):(s=new v2,t.syncPointTree_=t.syncPointTree_.set(e,s)),null!=i?c=!0:(c=!1,i=Kt.EMPTY_NODE,t.syncPointTree_.subtree(e).foreachChild((b,D)=>{const A=Sh(D,Ln());A&&(i=i.updateImmediateChild(b,A))}));const d=C2(s,n);if(!d&&!n._queryParams.loadsAllData()){const _=rI(n);(0,V.hu)(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const b=function $5(){return N5++}();t.queryToTagMap.set(_,b),t.tagToQueryMap.set(b,_)}return{syncPoint:s,writesCache:YT(t.pendingWriteTree_,e),serverCache:i,serverCacheComplete:c,foundAncestorDefaultView:r,viewAlreadyExists:d}}function I2(n,t,e){const{syncPoint:i,serverCache:r,writesCache:s,serverCacheComplete:c,viewAlreadyExists:d,foundAncestorDefaultView:p}=T2(t,n);let _=function k5(n,t,e,i,r,s){const c=zR(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function I5(n,t){n.eventRegistrations_.push(t)}(c,e),function S5(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(ui,(s,c)=>{i.push(M_(s,c))}),e.isFullyInitialized()&&i.push(QV(e.getNode())),y2(n,i,e.getNode(),t)}(c,e)}(i,t,e,s,r,c);if(!d&&!p){const b=w2(i,t);_=_.concat(function W5(n,t,e){const i=t._path,r=Cw(n,t),s=A2(n,e),c=n.listenProvider_.startListening(Ew(t),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,V.hu)(!Mh(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((_,b,D)=>{if(!ln(_)&&b&&Mh(b))return[eI(b).query];{let A=[];return b&&(A=A.concat(b2(b).map(O=>O.query))),Ur(D,(O,B)=>{A=A.concat(B)}),A}});for(let _=0;_<p.length;++_){const b=p[_];n.listenProvider_.stopListening(Ew(b),Cw(n,b))}}return c}(n,t,b))}return _}function iI(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(c,d)=>{const _=Sh(d,io(c,t));if(_)return _});return a2(r,t,s,e,!0)}function R_(n,t){return S2(t,n.syncPointTree_,null,YT(n.pendingWriteTree_,Ln()))}function S2(n,t,e,i){if(ln(n.path))return M2(n,t,e,i);{const r=t.get(Ln());null==e&&null!=r&&(e=Sh(r,Ln()));let s=[];const c=an(n.path),d=n.operationForChild(c),p=t.children.get(c);if(p&&d){const _=e?e.getImmediateChild(c):null,b=c2(i,c);s=s.concat(S2(d,p,_,b))}return r&&(s=s.concat(jR(r,n,i,e))),s}}function M2(n,t,e,i){const r=t.get(Ln());null==e&&null!=r&&(e=Sh(r,Ln()));let s=[];return t.children.inorderTraversal((c,d)=>{const p=e?e.getImmediateChild(c):null,_=c2(i,c),b=n.operationForChild(c);b&&(s=s.concat(M2(b,d,p,_)))}),r&&(s=s.concat(jR(r,n,i,e))),s}function A2(n,t){const e=t.query,i=Cw(n,e);return{hashFn:()=>(function E5(n){return n.viewCache_.serverCache.getNode()}(t)||Kt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function V5(n,t,e){const i=$R(n,e);if(i){const r=WR(i),s=r.path,c=r.queryId,d=io(s,t);return qR(n,s,new _w(RR(c),d))}return[]}(n,e._path,i):function B5(n,t){return R_(n,new _w({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function L6(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return nI(n,e,null,s)}}}}function Cw(n,t){const e=rI(t);return n.queryToTagMap.get(e)}function rI(n){return n._path.toString()+"$"+n._queryIdentifier}function $R(n,t){return n.tagToQueryMap.get(t)}function WR(n){const t=n.indexOf("$");return(0,V.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Yn(n.substr(0,t))}}function qR(n,t,e){const i=n.syncPointTree_.get(t);return(0,V.hu)(i,"Missing sync point for query tag that we're tracking"),jR(i,e,YT(n.pendingWriteTree_,t),null)}function Ew(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function P5(){return(0,V.hu)(tI,"Reference.ts has not been loaded"),tI}())(n._repo,n._path):n}class ZR{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new ZR(e)}node(){return this.node_}}class YR{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Di(this.path_,t);return new YR(this.syncTree_,e)}node(){return iI(this.syncTree_,this.path_)}}const x2=function(n,t,e){return n&&"object"==typeof n?((0,V.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Z5(n[".sv"],t,e):"object"==typeof n[".sv"]?Y5(n[".sv"],t):void(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Z5=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,V.hu)(!1,"Unexpected server value: "+n)},Y5=function(n,t,e){n.hasOwnProperty("increment")||(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,V.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,V.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},k2=function(n,t,e,i){return QR(t,new YR(e,n),i)},KR=function(n,t,e){return QR(n,new ZR(t),e)};function QR(n,t,e){const i=n.getPriority().val(),r=x2(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const c=n,d=x2(c.getValue(),t,e);return d!==c.getValue()||r!==c.getPriority().val()?new T_(d,Ni(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new T_(r))),c.forEachChild(ui,(d,p)=>{const _=QR(p,t.getImmediateChild(d),e);_!==p&&(s=s.updateImmediateChild(d,_))}),s}}class JR{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function sI(n,t){let e=t instanceof Yn?t:new Yn(t),i=n,r=an(e);for(;null!==r;){const s=(0,V.DV)(i.node.children,r)||{children:{},childCount:0};i=new JR(r,i,s),e=si(e),r=an(e)}return i}function Ip(n){return n.node.value}function XR(n,t){n.node.value=t,eO(n)}function R2(n){return n.node.childCount>0}function oI(n,t){Ur(n.node.children,(e,i)=>{t(new JR(e,n,i))})}function O2(n,t,e,i){e&&!i&&t(n),oI(n,r=>{O2(r,t,!0,i)}),e&&i&&t(n)}function Dw(n){return new Yn(null===n.parent?n.name:Dw(n.parent)+"/"+n.name)}function eO(n){null!==n.parent&&function J5(n,t,e){const i=function K5(n){return void 0===Ip(n)&&!R2(n)}(e),r=(0,V.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,eO(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,eO(n))}(n.parent,n.name,n)}const X5=/[\[\].#$\/\u0000-\u001F\u007F]/,e8=/[\[\].#$\u0000-\u001F\u007F]/,tO=10485760,aI=function(n){return"string"==typeof n&&0!==n.length&&!X5.test(n)},P2=function(n){return"string"==typeof n&&0!==n.length&&!e8.test(n)},Tw=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!OT(n)||n&&"object"==typeof n&&(0,V.r3)(n,".sv")},Yc=function(n,t,e,i){i&&void 0===t||Iw((0,V.gK)(n,"value"),t,e)},Iw=function(n,t,e){const i=e instanceof Yn?new p4(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+wp(i));if("function"==typeof t)throw new Error(n+"contains a function "+wp(i)+" with contents = "+t.toString());if(OT(t))throw new Error(n+"contains "+t.toString()+" "+wp(i));if("string"==typeof t&&t.length>tO/3&&(0,V.ug)(t)>tO)throw new Error(n+"contains a string greater than "+tO+" utf8 bytes "+wp(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(Ur(t,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!aI(c)))throw new Error(n+" contains an invalid key ("+c+") "+wp(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function g4(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,V.ug)(t),BV(n)})(i,c),Iw(n,d,i),function m4(n){const t=n.parts_.pop();n.byteLength_-=(0,V.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+wp(i)+" in addition to actual children.")}},N2=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,V.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];Ur(t,(c,d)=>{const p=new Yn(c);if(Iw(r,d,Di(e,p)),".priority"===mR(p)&&!Tw(d))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=uw(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!aI(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(f4);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Ya(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},nO=function(n,t,e){if(!e||void 0!==t){if(OT(t))throw new Error((0,V.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Tw(t))throw new Error((0,V.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Sw=function(n,t,e,i){if(!(i&&void 0===e||aI(e)))throw new Error((0,V.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Mw=function(n,t,e,i){if(!(i&&void 0===e||P2(e)))throw new Error((0,V.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Qa=function(n,t){if(".info"===an(t))throw new Error(n+" failed = Can't modify data under /.info/")},F2=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!aI(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),P2(n)}(e))throw new Error((0,V.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class r8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lI(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!_R(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function L2(n,t,e){lI(n,e),B2(n,i=>_R(i,t))}function Ja(n,t,e){lI(n,e),B2(n,i=>Ya(i,t)||Ya(t,i))}function B2(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(s8(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function s8(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();vp&&Vr("event: "+e.toString()),E_(i)}}}const V2="repo_interrupt";class a8{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new r8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$T(),this.transactionQueueTree_=new JR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function U2(n){const e=n.infoData_.getNode(new Yn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Aw(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:U2(n)})}function H2(n,t,e,i,r){n.dataUpdateCount++;const s=new Yn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const p=(0,V.UI)(e,_=>Ni(_));c=function H5(n,t,e,i){const r=$R(n,i);if(r){const s=WR(r),c=s.path,d=s.queryId,p=io(c,t),_=di.fromObject(e);return qR(n,c,new x_(RR(d),p,_))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=Ni(e);c=D2(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,V.UI)(e,_=>Ni(_));c=function L5(n,t,e){const i=di.fromObject(e);return R_(n,new x_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,p)}else{const p=Ni(e);c=ww(n.serverSyncTree_,s,p)}let d=s;c.length>0&&(d=O_(n,s)),Ja(n.eventQueue_,d,c)}function j2(n,t){iO(n,"connected",t),!1===t&&function h8(n){Sp(n,"onDisconnectEvents");const t=Aw(n),e=$T();AR(n.onDisconnect_,Ln(),(r,s)=>{const c=k2(r,s,n.serverSyncTree_,t);A_(e,r,c)});let i=[];AR(e,Ln(),(r,s)=>{i=i.concat(ww(n.serverSyncTree_,r,s));const c=aO(n,r);O_(n,c)}),n.onDisconnect_=$T(),Ja(n.eventQueue_,Ln(),i)}(n)}function iO(n,t,e){const i=new Yn("/.info/"+t),r=Ni(e);n.infoData_.updateSnapshot(i,r);const s=ww(n.infoSyncTree_,i,r);Ja(n.eventQueue_,i,s)}function cI(n){return n.nextWriteId_++}function u8(n,t){const e=function j5(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(_,b)=>{const D=io(_,e);i=i||Sh(b,D)});let r=n.syncPointTree_.get(e);r?i=i||Sh(r,Ln()):(r=new v2,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,c=s?new Th(i,!0,!1):null;return function D5(n){return ZT(n.viewCache_)}(zR(r,t,YT(n.pendingWriteTree_,t._path),s?c.getNode():Kt.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const r=Ni(i).withIndex(t._queryParams.getIndex());if(t._queryParams.loadsAllData())ww(n.serverSyncTree_,t._path,r);else{const c=function U5(n,t){const{syncPoint:e,serverCache:i,writesCache:r,serverCacheComplete:s}=T2(t,n),c=zR(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,c),t._queryParams.loadsAllData()?null:Cw(n,t)}(n.serverSyncTree_,t);D2(n.serverSyncTree_,t._path,r,c)}return nI(n.serverSyncTree_,t,null).length>0&&Sp(n,"unexpected cancel events in repoGetValue"),r},i=>(Sp(n,"get for query "+(0,V.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}function rO(n,t,e,i,r){Sp(n,"set",{path:t.toString(),value:e,priority:i});const s=Aw(n),c=Ni(e,i),d=iI(n.serverSyncTree_,t),p=KR(c,d,s),_=cI(n),b=GR(n.serverSyncTree_,t,p,_,!0);lI(n.eventQueue_,b),n.server_.put(t.toString(),c.val(!0),(A,O)=>{const B="ok"===A;B||Ms("set at "+t+" failed: "+A);const ie=Ah(n.serverSyncTree_,_,!B);Ja(n.eventQueue_,t,ie),xh(0,r,A,O)});const D=aO(n,t);O_(n,D),Ja(n.eventQueue_,D,[])}function f8(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&MR(n.onDisconnect_,t),xh(0,e,i,r)})}function z2(n,t,e,i){const r=Ni(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,c)=>{"ok"===s&&A_(n.onDisconnect_,t,r),xh(0,i,s,c)})}function sO(n,t,e){let i;i=".info"===an(t._path)?nI(n.infoSyncTree_,t,e):nI(n.serverSyncTree_,t,e),L2(n.eventQueue_,t._path,i)}function G2(n){n.persistentConnection_&&n.persistentConnection_.interrupt(V2)}function Sp(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Vr(e,...t)}function xh(n,t,e,i){t&&E_(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,t(c)}})}function oO(n,t,e){return iI(n.serverSyncTree_,t,e)||Kt.EMPTY_NODE}function uI(n,t=n.transactionQueueTree_){if(t||dI(n,t),Ip(t)){const e=W2(n,t);(0,V.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function v8(n,t,e){const i=e.map(_=>_.currentWriteId),r=oO(n,t,i);let s=r;const c=r.hash();for(let _=0;_<e.length;_++){const b=e[_];(0,V.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const D=io(t,b.path);s=s.updateChild(D,b.currentOutputSnapshotRaw)}const d=s.val(!0),p=t;n.server_.put(p.toString(),d,_=>{Sp(n,"transaction put response",{path:p.toString(),status:_});let b=[];if("ok"===_){const D=[];for(let A=0;A<e.length;A++)e[A].status=2,b=b.concat(Ah(n.serverSyncTree_,e[A].currentWriteId)),e[A].onComplete&&D.push(()=>e[A].onComplete(null,!0,e[A].currentOutputSnapshotResolved)),e[A].unwatcher();dI(n,sI(n.transactionQueueTree_,t)),uI(n,n.transactionQueueTree_),Ja(n.eventQueue_,t,b);for(let A=0;A<D.length;A++)E_(D[A])}else{if("datastale"===_)for(let D=0;D<e.length;D++)e[D].status=3===e[D].status?4:0;else{Ms("transaction at "+p.toString()+" failed: "+_);for(let D=0;D<e.length;D++)e[D].status=4,e[D].abortReason=_}O_(n,t)}},c)}(n,Dw(t),e)}else R2(t)&&oI(t,e=>{uI(n,e)})}function O_(n,t){const e=$2(n,t),i=Dw(e);return function b8(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const p=t[d],_=io(e,p.path);let D,b=!1;if((0,V.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)b=!0,D=p.abortReason,r=r.concat(Ah(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)b=!0,D="maxretry",r=r.concat(Ah(n.serverSyncTree_,p.currentWriteId,!0));else{const A=oO(n,p.path,c);p.currentInputSnapshot=A;const O=t[d].update(A.val());if(void 0!==O){Iw("transaction failed: Data returned ",O,p.path);let B=Ni(O);"object"==typeof O&&null!=O&&(0,V.r3)(O,".priority")||(B=B.updatePriority(A.getPriority()));const le=p.currentWriteId,Ve=Aw(n),Ze=KR(B,A,Ve);p.currentOutputSnapshotRaw=B,p.currentOutputSnapshotResolved=Ze,p.currentWriteId=cI(n),c.splice(c.indexOf(le),1),r=r.concat(GR(n.serverSyncTree_,p.path,Ze,p.currentWriteId,p.applyLocally)),r=r.concat(Ah(n.serverSyncTree_,le,!0))}else b=!0,D="nodata",r=r.concat(Ah(n.serverSyncTree_,p.currentWriteId,!0))}Ja(n.eventQueue_,e,r),r=[],b&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===D?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(D),!1,null)))}dI(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)E_(i[d]);uI(n,n.transactionQueueTree_)}(n,W2(n,e),i),i}function $2(n,t){let e,i=n.transactionQueueTree_;for(e=an(t);null!==e&&void 0===Ip(i);)i=sI(i,e),e=an(t=si(t));return i}function W2(n,t){const e=[];return q2(n,t,e),e.sort((i,r)=>i.order-r.order),e}function q2(n,t,e){const i=Ip(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);oI(t,r=>{q2(n,r,e)})}function dI(n,t){const e=Ip(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,XR(t,e.length>0?e:void 0)}oI(t,i=>{dI(n,i)})}function aO(n,t){const e=Dw($2(n,t)),i=sI(n.transactionQueueTree_,t);return function Q5(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{lO(n,r)}),lO(n,i),O2(i,r=>{lO(n,r)}),e}function lO(n,t){const e=Ip(t);if(e){const i=[];let r=[],s=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,V.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,e[c].status=3,e[c].abortReason="set"):((0,V.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(Ah(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?XR(t,void 0):e.length=s+1,Ja(n.eventQueue_,Dw(t),r);for(let c=0;c<i.length;c++)E_(i[c])}}const cO=function(n,t){const e=E8(n),i=e.namespace;return"firebase.com"===e.domain&&Wc(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Wc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ms("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new uR(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Yn(e.pathString)}},E8=function(n){let t="",e="",i="",r="",s="",c=!0,d="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(d=n.substring(0,_-1),n=n.substring(_+2));let b=n.indexOf("/");-1===b&&(b=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),t=n.substring(0,Math.min(b,D)),b<D&&(r=function w8(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}t+="/"+r}return t}(n.substring(b,D)));const A=function C8(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ms(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,D)));_=t.indexOf(":"),_>=0?(c="https"===d||"wss"===d,p=parseInt(t.substring(_+1),10)):_=t.length;const O=t.slice(0,_);if("localhost"===O.toLowerCase())e="localhost";else if(O.split(".").length<=2)e=O;else{const B=t.indexOf(".");i=t.substring(0,B).toLowerCase(),e=t.substring(B+1),s=i}"ns"in A&&(s=A.ns)}return{host:t,port:p,domain:e,subdomain:i,secure:c,scheme:d,pathString:r,namespace:s}};class Z2{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,V.Pz)(this.snapshot.exportVal())}}class Y2{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class K2{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,V.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Q2{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new V.BH;return f8(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Qa("OnDisconnect.remove",this._path);const t=new V.BH;return z2(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Qa("OnDisconnect.set",this._path),Yc("OnDisconnect.set",t,this._path,!1);const e=new V.BH;return z2(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Qa("OnDisconnect.setWithPriority",this._path),Yc("OnDisconnect.setWithPriority",t,this._path,!1),nO("OnDisconnect.setWithPriority",e,!1);const i=new V.BH;return function p8(n,t,e,i,r){const s=Ni(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(c,d)=>{"ok"===c&&A_(n.onDisconnect_,t,s),xh(0,r,c,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Qa("OnDisconnect.update",this._path),N2("OnDisconnect.update",t,this._path,!1);const e=new V.BH;return function g8(n,t,e,i){if((0,V.xb)(e))return Vr("onDisconnect().update() called with empty data.  Don't do anything."),void xh(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&Ur(e,(c,d)=>{const p=Ni(d);A_(n.onDisconnect_,Di(t,c),p)}),xh(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Po{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return ln(this._path)?null:mR(this._path)}get ref(){return new Xa(this._repo,this._path)}get _queryIdentifier(){const t=XV(this._queryParams),e=aR(t);return"{}"===e?"default":e}get _queryObject(){return XV(this._queryParams)}isEqual(t){if(!((t=(0,V.m9)(t))instanceof Po))return!1;const e=this._repo===t._repo,i=_R(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function h4(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function hI(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function kh(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Zc){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Wu)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==qc)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===ui){if(null!=t&&!Tw(t)||null!=e&&!Tw(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,V.hu)(n.getIndex()instanceof CR||n.getIndex()===ER,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function fI(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Xa extends Po{constructor(t,e){super(t,e,new jT,!1)}get parent(){const t=LV(this._path);return null===t?null:new Xa(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Mp{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Yn(t),i=Ap(this.ref,t);return new Mp(this._node.getChild(e),i,ui)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Mp(r,Ap(this.ref,i),ui)))}hasChild(t){const e=new Yn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function J2(n,t){return(n=(0,V.m9)(n))._checkNotDeleted("ref"),void 0!==t?Ap(n._root,t):n._root}function X2(n,t){(n=(0,V.m9)(n))._checkNotDeleted("refFromURL");const e=cO(t,n._repo.repoInfo_.nodeAdmin);F2("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Wc("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),J2(n,e.path.toString())}function Ap(n,t){return null===an((n=(0,V.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Mw("child","path",e,!1)):Mw("child","path",t,!1),new Xa(n._repo,Di(n._path,t));var e}function uO(n,t){n=(0,V.m9)(n),Qa("set",n._path),Yc("set",t,n._path,!1);const e=new V.BH;return rO(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function M8(n,t){N2("update",t,n._path,!1);const e=new V.BH;return function d8(n,t,e,i){Sp(n,"update",{path:t.toString(),value:e});let r=!0;const s=Aw(n),c={};if(Ur(e,(d,p)=>{r=!1,c[d]=k2(Di(t,d),Ni(p),n.serverSyncTree_,s)}),r)Vr("update() called with empty data.  Don't do anything."),xh(0,i,"ok",void 0);else{const d=cI(n),p=function F5(n,t,e,i){!function J4(n,t,e,i){(0,V.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=PR(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=di.fromObject(e);return R_(n,new x_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,d);lI(n.eventQueue_,p),n.server_.merge(t.toString(),e,(_,b)=>{const D="ok"===_;D||Ms("update at "+t+" failed: "+_);const A=Ah(n.serverSyncTree_,d,!D),O=A.length>0?O_(n,t):t;Ja(n.eventQueue_,O,A),xh(0,i,_,b)}),Ur(e,_=>{const b=aO(n,Di(t,_));O_(n,b)}),Ja(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}class pI{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new Z2("value",this,new Mp(t.snapshotNode,new Xa(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Y2(this,t,e):null}matches(t){return t instanceof pI&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class gI{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Y2(this,t,e):null}createEvent(t,e){(0,V.hu)(null!=t.childName,"Child events should have a childName.");const i=Ap(new Xa(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Z2(t.type,this,new Mp(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof gI&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function xw(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=e,_=(b,D)=>{sO(n._repo,n,d),p(b,D)};_.userCallback=e.userCallback,_.context=e.context,e=_}const c=new K2(e,s||void 0),d="value"===t?new pI(c):new gI(t,c);return function m8(n,t,e){let i;i=".info"===an(t._path)?I2(n.infoSyncTree_,t,e):I2(n.serverSyncTree_,t,e),L2(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>sO(n._repo,n,d)}function dO(n,t,e,i){return xw(n,"value",t,e,i)}function eU(n,t,e,i){return xw(n,"child_added",t,e,i)}function tU(n,t,e,i){return xw(n,"child_changed",t,e,i)}function nU(n,t,e,i){return xw(n,"child_moved",t,e,i)}function iU(n,t,e,i){return xw(n,"child_removed",t,e,i)}function rU(n,t,e){let i=null;const r=e?new K2(e):null;"value"===t?i=new pI(r):t&&(i=new gI(t,r)),sO(n._repo,n,i)}class Jl{}class sU extends Jl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yc("endAt",this._value,t._path,!0);const e=SR(t._queryParams,this._value,this._key);if(fI(e),kh(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Po(t._repo,t._path,e,t._orderByCalled)}}class k8 extends Jl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yc("endBefore",this._value,t._path,!1);const e=function V4(n,t,e){let i,r;return n.index_===Zc?("string"==typeof t&&(t=KV(t)),r=SR(n,t,e)):(i=null==e?Wu:KV(e),r=SR(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(fI(e),kh(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Po(t._repo,t._path,e,t._orderByCalled)}}class oU extends Jl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yc("startAt",this._value,t._path,!0);const e=IR(t._queryParams,this._value,this._key);if(fI(e),kh(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Po(t._repo,t._path,e,t._orderByCalled)}}class P8 extends Jl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yc("startAfter",this._value,t._path,!1);const e=function B4(n,t,e){let i;if(n.index_===Zc)"string"==typeof t&&(t=YV(t)),i=IR(n,t,e);else{let r;r=null==e?qc:YV(e),i=IR(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(fI(e),kh(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Po(t._repo,t._path,e,t._orderByCalled)}}class F8 extends Jl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Po(t._repo,t._path,function F4(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class B8 extends Jl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Po(t._repo,t._path,function L4(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class U8 extends Jl{constructor(t){super(),this._path=t}_apply(t){hI(t,"orderByChild");const e=new Yn(this._path);if(ln(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new CR(e),r=zT(t._queryParams,i);return kh(r),new Po(t._repo,t._path,r,!0)}}class j8 extends Jl{_apply(t){hI(t,"orderByKey");const e=zT(t._queryParams,Zc);return kh(e),new Po(t._repo,t._path,e,!0)}}class G8 extends Jl{_apply(t){hI(t,"orderByPriority");const e=zT(t._queryParams,ui);return kh(e),new Po(t._repo,t._path,e,!0)}}class W8 extends Jl{_apply(t){hI(t,"orderByValue");const e=zT(t._queryParams,ER);return kh(e),new Po(t._repo,t._path,e,!0)}}class Z8 extends Jl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Yc("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new sU(this._value,this._key)._apply(new oU(this._value,this._key)._apply(t))}}function Xl(n,...t){let e=(0,V.m9)(n);for(const i of t)e=i._apply(e);return e}(function M5(n){(0,V.hu)(!XT,"__referenceConstructor has already been defined"),XT=n})(Xa),function O5(n){(0,V.hu)(!tI,"__referenceConstructor has already been defined"),tI=n}(Xa);const hO={};function lU(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Wc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,c=cO(s,r),d=c.repoInfo;"undefined"!=typeof process&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(p=!0,s=`http://${_}?ns=${d.namespace}`,c=cO(s,r),d=c.repoInfo):p=!c.repoInfo.secure;const b=r&&p?new cw(cw.OWNER):new H6(n.name,n.options,t);F2("Invalid Firebase Database URL",c),ln(c.path)||Wc("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function X8(n,t,e,i){let r=hO[t.name];r||(r={},hO[t.name]=r);let s=r[n.toURLString()];return s&&Wc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new a8(n,false,e,i),r[n.toURLString()]=s,s}(d,n,b,new U6(n.name,e));return new tZ(D,n)}class tZ{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function l8(n,t,e){if(n.stats_=fR(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new GT(n.repoInfo_,(i,r,s,c)=>{H2(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>j2(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,V.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Cp(n.repoInfo_,t,(i,r,s,c)=>{H2(n,i,r,s,c)},i=>{j2(n,i)},i=>{!function c8(n,t){Ur(t,(e,i)=>{iO(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function G6(n,t){const e=n.toString();return hR[e]||(hR[e]=t()),hR[e]}(n.repoInfo_,()=>new $4(n.stats_,n.server_)),n.infoData_=new U4,n.infoSyncTree_=new E2({startListening:(i,r,s,c)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=ww(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),iO(n,"connected",!1),n.serverSyncTree_=new E2({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(d,p)=>{const _=c(d,p);Ja(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xa(this._repo,Ln())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function J8(n,t){const e=hO[t];(!e||e[n.key]!==n)&&Wc(`Database ${t}(${n.repoInfo_}) has already been deleted.`),G2(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Wc("Cannot call "+t+" on a deleted database.")}}function cU(){TV.IS_TRANSPORT_INITIALIZED&&Ms("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function nZ(){cU(),Eh.forceDisallow()}function iZ(){cU(),D_.forceDisallow(),Eh.forceAllow()}function aZ(n,t){sV(n,t)}const cZ={".sv":"timestamp"};class hZ{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Cp.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Cp.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function lZ(n){eV(Ci.SDK_VERSION),(0,Ci._registerComponent)(new wo.wA("database",(t,{instanceIdentifier:e})=>lU(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Ci.registerVersion)(JB,"0.13.3",n),(0,Ci.registerVersion)(JB,"0.13.3","esm2017")}();const mZ=new Co.Yd("@firebase/database-compat"),uU=function(n){mZ.warn("FIREBASE WARNING: "+n)};class vZ{constructor(t){this._delegate=t}cancel(t){(0,V.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,V.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,V.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,V.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,V.Dv)("OnDisconnect.set",1,2,arguments.length),(0,V.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,V.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,V.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,V.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,uU("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,V.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class bZ{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,V.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Rh{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,V.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,V.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,V.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,V.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,V.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Mw("DataSnapshot.child","path",t,!1),new Rh(this._database,this._delegate.child(t))}hasChild(t){return(0,V.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Mw("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,V.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,V.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,V.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Rh(this._database,e)))}hasChildren(){return(0,V.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,V.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,V.Dv)("DataSnapshot.ref",0,0,arguments.length),new ia(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class os{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,V.Dv)("Query.on",2,4,arguments.length),(0,V.Wj)("Query.on","callback",e,!1);const c=os.getCancelAndContextArgs_("Query.on",i,r),d=(_,b)=>{e.call(c.context,new Rh(this.database,_),b)};d.userCallback=e,d.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(t){case"value":return dO(this._delegate,d,p),e;case"child_added":return eU(this._delegate,d,p),e;case"child_removed":return iU(this._delegate,d,p),e;case"child_changed":return tU(this._delegate,d,p),e;case"child_moved":return nU(this._delegate,d,p),e;default:throw new Error((0,V.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,V.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,V.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,V.Wj)("Query.off","callback",e,!0),(0,V.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,rU(this._delegate,t,r)}else rU(this._delegate,t)}get(){return function A8(n){return u8((n=(0,V.m9)(n))._repo,n).then(t=>new Mp(t,new Xa(n._repo,n._path),n._queryParams.getIndex()))}(this._delegate).then(t=>new Rh(this.database,t))}once(t,e,i,r){(0,V.Dv)("Query.once",1,4,arguments.length),(0,V.Wj)("Query.once","callback",e,!0);const s=os.getCancelAndContextArgs_("Query.once",i,r),c=new V.BH,d=(_,b)=>{const D=new Rh(this.database,_);e&&e.call(s.context,D,b),c.resolve(D)};d.userCallback=e,d.context=s.context;const p=_=>{s.cancel&&s.cancel.call(s.context,_),c.reject(_)};switch(t){case"value":dO(this._delegate,d,p,{onlyOnce:!0});break;case"child_added":eU(this._delegate,d,p,{onlyOnce:!0});break;case"child_removed":iU(this._delegate,d,p,{onlyOnce:!0});break;case"child_changed":tU(this._delegate,d,p,{onlyOnce:!0});break;case"child_moved":nU(this._delegate,d,p,{onlyOnce:!0});break;default:throw new Error((0,V.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,V.Dv)("Query.limitToFirst",1,1,arguments.length),new os(this.database,Xl(this._delegate,function L8(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new F8(n)}(t)))}limitToLast(t){return(0,V.Dv)("Query.limitToLast",1,1,arguments.length),new os(this.database,Xl(this._delegate,function V8(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new B8(n)}(t)))}orderByChild(t){return(0,V.Dv)("Query.orderByChild",1,1,arguments.length),new os(this.database,Xl(this._delegate,function H8(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Mw("orderByChild","path",n,!1),new U8(n)}(t)))}orderByKey(){return(0,V.Dv)("Query.orderByKey",0,0,arguments.length),new os(this.database,Xl(this._delegate,function z8(){return new j8}()))}orderByPriority(){return(0,V.Dv)("Query.orderByPriority",0,0,arguments.length),new os(this.database,Xl(this._delegate,function $8(){return new G8}()))}orderByValue(){return(0,V.Dv)("Query.orderByValue",0,0,arguments.length),new os(this.database,Xl(this._delegate,function q8(){return new W8}()))}startAt(t=null,e){return(0,V.Dv)("Query.startAt",0,2,arguments.length),new os(this.database,Xl(this._delegate,function O8(n=null,t){return Sw("startAt","key",t,!0),new oU(n,t)}(t,e)))}startAfter(t=null,e){return(0,V.Dv)("Query.startAfter",0,2,arguments.length),new os(this.database,Xl(this._delegate,function N8(n,t){return Sw("startAfter","key",t,!0),new P8(n,t)}(t,e)))}endAt(t=null,e){return(0,V.Dv)("Query.endAt",0,2,arguments.length),new os(this.database,Xl(this._delegate,function x8(n,t){return Sw("endAt","key",t,!0),new sU(n,t)}(t,e)))}endBefore(t=null,e){return(0,V.Dv)("Query.endBefore",0,2,arguments.length),new os(this.database,Xl(this._delegate,function R8(n,t){return Sw("endBefore","key",t,!0),new k8(n,t)}(t,e)))}equalTo(t,e){return(0,V.Dv)("Query.equalTo",1,2,arguments.length),new os(this.database,Xl(this._delegate,function Y8(n,t){return Sw("equalTo","key",t,!0),new Z8(n,t)}(t,e)))}toString(){return(0,V.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,V.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,V.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof os))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,V.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,V.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,V.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new ia(this.database,new Xa(this._delegate._repo,this._delegate._path))}}class ia extends os{constructor(t,e){super(t,new Po(e._repo,e._path,new jT,!1)),this.database=t,this._delegate=e}getKey(){return(0,V.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,V.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ia(this.database,Ap(this._delegate,t))}getParent(){(0,V.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ia(this.database,t):null}getRoot(){return(0,V.Dv)("Reference.root",0,0,arguments.length),new ia(this.database,this._delegate.root)}set(t,e){(0,V.Dv)("Reference.set",1,2,arguments.length),(0,V.Wj)("Reference.set","onComplete",e,!0);const i=uO(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,V.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,uU("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Qa("Reference.update",this._delegate._path),(0,V.Wj)("Reference.update","onComplete",e,!0);const i=M8(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,V.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,V.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function S8(n,t,e){if(Qa("setWithPriority",n._path),Yc("setWithPriority",t,n._path,!1),nO("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new V.BH;return rO(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,V.Dv)("Reference.remove",0,1,arguments.length),(0,V.Wj)("Reference.remove","onComplete",t,!0);const e=function T8(n){return Qa("remove",n._path),uO(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,V.Dv)("Reference.transaction",1,3,arguments.length),(0,V.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,V.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,V.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function fZ(n,t,e){var i;if(n=(0,V.m9)(n),Qa("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,s=new V.BH,d=dO(n,()=>{});return function y8(n,t,e,i,r,s){Sp(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:nV(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=oO(n,t,void 0);c.currentInputSnapshot=d;const p=c.update(d.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Iw("transaction failed: Data returned ",p,c.path),c.status=0;const _=sI(n.transactionQueueTree_,t),b=Ip(_)||[];let D;b.push(c),XR(_,b),"object"==typeof p&&null!==p&&(0,V.r3)(p,".priority")?(D=(0,V.DV)(p,".priority"),(0,V.hu)(Tw(D),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):D=(iI(n.serverSyncTree_,t)||Kt.EMPTY_NODE).getPriority().val();const A=Aw(n),O=Ni(p,D),B=KR(O,d,A);c.currentOutputSnapshotRaw=O,c.currentOutputSnapshotResolved=B,c.currentWriteId=cI(n);const ie=GR(n.serverSyncTree_,t,B,c.currentWriteId,c.applyLocally);Ja(n.eventQueue_,t,ie),uI(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(p,_,b)=>{let D=null;p?s.reject(p):(D=new Mp(b,new Xa(n._repo,n._path),ui),s.resolve(new hZ(_,D)))},d,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new bZ(s.committed,new Rh(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,V.Dv)("Reference.setPriority",1,2,arguments.length),(0,V.Wj)("Reference.setPriority","onComplete",e,!0);const i=function I8(n,t){n=(0,V.m9)(n),Qa("setPriority",n._path),nO("setPriority",t,!1);const e=new V.BH;return rO(n._repo,Di(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,V.Dv)("Reference.push",0,2,arguments.length),(0,V.Wj)("Reference.push","onComplete",e,!0);const i=function D8(n,t){n=(0,V.m9)(n),Qa("push",n._path),Yc("push",t,n._path,!0);const e=U2(n._repo),i=R4(e),r=Ap(n,i),s=Ap(n,i);let c;return c=null!=t?uO(s,t).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new ia(this.database,c));e&&r.then(()=>e(null),c=>e(c));const s=new ia(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Qa("Reference.onDisconnect",this._delegate._path),new vZ(new Q2(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class kw{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:nZ,forceLongPolling:iZ}}useEmulator(t,e,i={}){!function rZ(n,t,e,i={}){(n=(0,V.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Wc("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Wc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new cw(cw.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,V.Sg)(i.mockUserToken,n.app.options.projectId);s=new cw(c)}!function Q8(n,t,e,i){n.repoInfo_=new uR(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,V.Dv)("database.ref",0,1,arguments.length),t instanceof ia){const e=X2(this._delegate,t.toString());return new ia(this,e)}{const e=J2(this._delegate,t);return new ia(this,e)}}refFromURL(t){(0,V.Dv)("database.refFromURL",1,1,arguments.length);const i=X2(this._delegate,t);return new ia(this,i)}goOffline(){return(0,V.Dv)("database.goOffline",0,0,arguments.length),function sZ(n){(n=(0,V.m9)(n))._checkNotDeleted("goOffline"),G2(n._repo)}(this._delegate)}goOnline(){return(0,V.Dv)("database.goOnline",0,0,arguments.length),function oZ(n){(n=(0,V.m9)(n))._checkNotDeleted("goOnline"),function _8(n){n.persistentConnection_&&n.persistentConnection_.resume(V2)}(n._repo)}(this._delegate)}}kw.ServerValue={TIMESTAMP:function uZ(){return cZ}(),increment:n=>function dZ(n){return{".sv":{increment:n}}}(n)};var CZ=Object.freeze({__proto__:null,initStandalone:function wZ({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){eV(e);const c=new wo.zt("auth-internal",new wo.H0("database-standalone"));return c.setComponent(new wo.wA("auth-internal",()=>i,"PRIVATE")),{instance:new kw(lU(n,c,void 0,t,s),n),namespace:r}}});const EZ=kw.ServerValue;function dU(n){return null==n}function hU(n){return"function"==typeof n.set}function fU(n,t){return hU(t)?t:n.ref(t)}function pU(n,t){if(function TZ(n){return"string"==typeof n}(n))return t.stringCase();if(hU(n))return t.firebaseCase();if(function IZ(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Rw(n,t,e="on",i=ch.z){return new gn.y(r=>{let s=null;return s=n[e](t,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,ut.U)(r=>{const{snapshot:s,prevKey:c}=r;let d=null;return s.exists()&&(d=s.key),{type:t,payload:s,prevKey:c,key:d}}),(0,gc.B)())}function gU(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function AZ(n,t){const{payload:e,prevKey:i,key:r}=t,s=gU(n,r),c=function MZ(n,t){if(dU(t))return 0;{const e=gU(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(p=>{const _={payload:p,type:"value",prevKey:d,key:p.key};return d=p.key,n=[...n,_],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(p=>p.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function mU(n){return(dU(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function _U(n,t,e){return function SZ(n,t,e){return Rw(n,"value","once",e).pipe(yn(i=>{const r=[at(i)];return t.forEach(s=>r.push(Rw(n,s,"on",e))),(0,Qi.T)(...r).pipe(bf(AZ,[]))}),ju())}(n,t=mU(t),e)}function yU(n,t,e){const i=(t=mU(t)).map(r=>Rw(n,r,"on",e));return(0,Qi.T)(...i)}function vU(n,t){return function(i,r){return pU(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function OZ(n){return function(e){return e?pU(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function bU(n,t){return function(){return Rw(n,"value","on",t)}}!function DZ(n){n.INTERNAL.registerComponent(new wo.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new kw(r,i)},"PUBLIC").setServiceProps({Reference:ia,Query:os,Database:kw,DataSnapshot:Rh,enableLogging:aZ,INTERNAL:CZ,ServerValue:EZ}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.3")}(QB.Z);const FZ=new o.OlP("angularfire2.realtimeDatabaseURL"),LZ=new o.OlP("angularfire2.database.use-emulator");let fO=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,D,A,O,B,ie,le){this.schedulers=d;const Ve=p,Ze=(0,pi.on)(e,c,i);_&&is(Ze,c,b,A,O,B,D,ie),this.database=(0,pi.cc)(`${Ze.name}.database.${r}`,"AngularFireDatabase",Ze.name,()=>{const Ye=c.runOutsideAngular(()=>Ze.database(r||void 0));return Ve&&Ye.useEmulator(...Ve),Ye},[Ve])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>fU(this.database,e));let s=r;return i&&(s=i(r)),function PZ(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:vU(i,"update"),set:vU(i,"set"),push:r=>i.push(r),remove:OZ(i),snapshotChanges:r=>_U(n,r,e).pipe(dn.iC),stateChanges:r=>yU(n,r,e).pipe(dn.iC),auditTrail:r=>function xZ(n,t,e){return function RZ(n,t,e){return function kZ(n,t){return Rw(n,"value","on",t).pipe((0,ut.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function M6(...n){const t=(0,Qn.jO)(n);return(0,Vt.e)((e,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),d=!1;for(let p=0;p<r;p++)(0,br.Xf)(n[p]).subscribe(new wn.Q(i,_=>{s[p]=_,!d&&!c[p]&&(c[p]=!0,(d=c.every(bo.y))&&(c=null))},Qf.Z));e.subscribe(new wn.Q(i,p=>{if(d){const _=[p,...s];i.next(t?t(..._):_)}}))})}(t),(0,ut.U)(([r,s])=>{const c=r.lastKeyToLoad,d=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:d}}),function A6(n){return(0,Vt.e)((t,e)=>{let i=!1,r=0;t.subscribe(new wn.Q(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,ut.U)(r=>r.actions))}(n,yU(n,t).pipe(bf((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(dn.iC),valueChanges:(r,s)=>_U(n,r,e).pipe((0,ut.U)(d=>d.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),dn.iC)}}(s,this)}object(e){return function NZ(n,t){return{query:n,snapshotChanges:()=>bU(n,t.schedulers.outsideAngular)().pipe(dn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>bU(n,t.schedulers.outsideAngular)().pipe(dn.iC,(0,ut.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>fU(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pi.Dh),o.LFG(pi.xv,8),o.LFG(FZ,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(dn.HU),o.LFG(LZ,8),o.LFG(Nr,8),o.LFG(ae,8),o.LFG(Se,8),o.LFG(rt,8),o.LFG(Ct,8),o.LFG(Wt,8),o.LFG(Hn,8),o.LFG(Tu,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),BZ=(()=>{class n{constructor(){fc.Z.registerVersion("angularfire",dn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[fO]}),n})(),VZ=(()=>{class n{constructor(e,i){this.menu=[{name:"Dashboard",icon:"dashboard",route:"/dashboard"},{name:"Ordenes",icon:"shopping_bag",route:"/orders"}],e.list("menu").valueChanges().subscribe(s=>{})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fO),o.LFG(Ra))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UZ=function(n){return[n]};function HZ(n,t){if(1&n&&(o.TgZ(0,"div",2)(1,"mat-icon",3),o._uU(2),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.qZA()()),2&n){const e=t.$implicit,i=o.oxw();o.Gre("menu-item  ",i.router.url.includes(e.route)?"selected":"",""),o.Q6J("routerLink",o.VKq(6,UZ,e.route)),o.xp6(2),o.Oqu(e.icon),o.xp6(2),o.Oqu(e.name)}}let jZ=(()=>{class n{constructor(e,i){this.menuProvider=e,this.router=i}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(VZ),o.Y36(dr))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomii-menu"]],decls:2,vars:1,consts:[[1,"menu"],[3,"class","routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],[1,"material-symbols-outlined"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.YNc(1,HZ,5,8,"div",1),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngForOf",i.menuProvider.menu))},directives:[Vn,ku,xT],styles:[".menu[_ngcontent-%COMP%]{height:100vh;width:14em;background-color:#424962}.menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{color:#fff;text-align:left;padding:6px 12px;border-bottom:1px solid white;display:flex;justify-content:space-between;transition:.4s ease}.menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover, .menu[_ngcontent-%COMP%]   .menu-item.selected[_ngcontent-%COMP%]{background-color:#fff;color:var(--accent-color);cursor:pointer}.menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-transform:uppercase;font-size:.8em}"]}),n})(),wU=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zZ=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=za(e);return new gn.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new xt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(wU))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CU=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Fn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Cb(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(sp(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(zZ),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),EU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[wU]}),n})();const GZ=["connectionContainer"],$Z=["inputContainer"],WZ=["label"];function qZ(n,t){1&n&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15)(3,"div",16)(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15)(7,"div",16)(8,"div",17),o.qZA(),o.BQk())}function ZZ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",19),o.NdJ("cdkObserveContent",function(){return o.CHM(e),o.oxw().updateOutlineGap()}),o.Hsn(1,1),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function YZ(n,t){if(1&n&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&n){const e=o.oxw(2);o.xp6(3),o.Oqu(e._control.placeholder)}}function KZ(n,t){1&n&&o.Hsn(0,3,["*ngSwitchCase","true"])}function QZ(n,t){1&n&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function JZ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){return o.CHM(e),o.oxw().updateOutlineGap()}),o.YNc(2,YZ,4,1,"ng-container",12),o.YNc(3,KZ,1,0,"ng-content",12),o.YNc(4,QZ,2,0,"span",22),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),o.uIk("for",e._control.id)("aria-owns",e._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function XZ(n,t){1&n&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function eY(n,t){if(1&n&&(o.TgZ(0,"div",25),o._UZ(1,"span",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function tY(n,t){if(1&n&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function nY(n,t){if(1&n&&(o.TgZ(0,"div",30),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function iY(n,t){if(1&n&&(o.TgZ(0,"div",27),o.YNc(1,nY,2,2,"div",28),o.Hsn(2,6),o._UZ(3,"div",29),o.Hsn(4,7),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const rY=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],sY=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],oY=new o.OlP("MatError"),aY={transitionMessages:gh("transitionMessages",[ta("enter",Pi({opacity:1,transform:"translateY(0%)"})),Ga("void => enter",[Pi({opacity:0,transform:"translateY(-5px)"}),eo("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let mI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n}),n})();const lY=new o.OlP("MatHint");let _I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),cY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const uY=new o.OlP("MatPrefix"),DU=new o.OlP("MatSuffix");let dY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSuffix",""]],features:[o._Bn([{provide:DU,useExisting:n}])]}),n})(),TU=0;const fY=Jb(class{constructor(n){this._elementRef=n}},"primary"),pY=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),pO=new o.OlP("MatFormField");let SU=(()=>{class n extends fY{constructor(e,i,r,s,c,d,p){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=c,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new xt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+TU++,this._labelId="mat-form-field-label-"+TU++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Fn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(jn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(In(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(In(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Qi.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(jn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(jn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(In(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,b_(this._label.nativeElement,"transitionend").pipe((0,Tn.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const b=i.querySelectorAll(`${r}, ${s}`);for(let D=0;D<b.length;D++)b[D].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,d=0;const p=i.querySelectorAll(r),_=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const b=i.getBoundingClientRect();if(0===b.width&&0===b.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const D=this._getStartEnd(b),A=e.children,O=this._getStartEnd(A[0].getBoundingClientRect());let B=0;for(let ie=0;ie<A.length;ie++)B+=A[ie].offsetWidth;c=Math.abs(O-D)-5,d=B>0?.75*B+10:0}for(let b=0;b<p.length;b++)p[b].style.width=`${c}px`;for(let b=0;b<_.length;b++)_[b].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Ha,8),o.Y36(pY,8),o.Y36(Br),o.Y36(o.R0b),o.Y36($c,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,mI,5),o.Suo(r,mI,7),o.Suo(r,_I,5),o.Suo(r,_I,7),o.Suo(r,cY,5),o.Suo(r,oY,5),o.Suo(r,lY,5),o.Suo(r,uY,5),o.Suo(r,DU,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._controlNonStatic=s.first),o.iGM(s=o.CRH())&&(i._controlStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._placeholderChild=s.first),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(GZ,7),o.Gf($Z,5),o.Gf(WZ,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._connectionContainerRef=r.first),o.iGM(r=o.CRH())&&(i._inputContainerRef=r.first),o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&o.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:pO,useExisting:n}]),o.qOj],ngContentSelectors:sY,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(o.F$t(rY),o.TgZ(0,"div",0)(1,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),o.YNc(3,qZ,9,0,"ng-container",3),o.YNc(4,ZZ,2,1,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,JZ,5,16,"label",8),o.qZA()(),o.YNc(10,XZ,2,0,"div",9),o.qZA(),o.YNc(11,eY,2,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,tY,2,1,"div",12),o.YNc(14,iY,5,2,"div",13),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("ngIf","outline"==i.appearance),o.xp6(1),o.Q6J("ngIf",i._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",i._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",i._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=i.appearance),o.xp6(1),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},directives:[Un,CU,or,Yi],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[aY.transitionMessages]},changeDetection:0}),n})(),gO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Vi,zn,EU],zn]}),n})();const MU=Xf({passive:!0});let gY=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Su.E;const i=za(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new xt.x,c="cdk-text-field-autofilled",d=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,MU),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,MU)}}),s}stopMonitoring(e){const i=za(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Br),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const mY=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),_Y=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let yY=0;const vY=aB(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let xU=(()=>{class n extends vY{constructor(e,i,r,s,c,d,p,_,b,D){super(d,s,c,r),this._elementRef=e,this._platform=i,this._autofillMonitor=_,this._formField=D,this._uid="mat-input-"+yY++,this.focused=!1,this.stateChanges=new xt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(B=>dD().has(B)),this._iOSKeyupListener=B=>{const ie=B.target;!ie.value&&0===ie.selectionStart&&0===ie.selectionEnd&&(ie.setSelectionRange(1,1),ie.setSelectionRange(0,0))};const A=this._elementRef.nativeElement,O=A.nodeName.toLowerCase();this._inputValueAccessor=p||A,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&b.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===O,this._isTextarea="textarea"===O,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=A.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Fn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(V0.required))&&void 0!==s&&s}set required(e){this._required=Fn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&dD().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Fn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){_Y.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Br),o.Y36(La,10),o.Y36(Hf,8),o.Y36(rh,8),o.Y36(jk),o.Y36(mY,10),o.Y36(gY),o.Y36(o.R0b),o.Y36(pO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(o.Ikx("disabled",i.disabled)("required",i.required),o.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),o.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:mI,useExisting:n}]),o.qOj,o.TTD]}),n})(),kU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[jk],imports:[[AU,gO,zn],AU,gO]}),n})();function bY(n,t){1&n&&(o.ynx(0),o.TgZ(1,"mat-form-field",7)(2,"mat-label"),o._uU(3,"Usuario o Correo"),o.qZA(),o._UZ(4,"input",8),o.TgZ(5,"button",9)(6,"mat-icon"),o._uU(7,"close"),o.qZA()()(),o.TgZ(8,"mat-form-field",7)(9,"mat-label"),o._uU(10,"Contrase\xf1a"),o.qZA(),o._UZ(11,"input",10),o.TgZ(12,"button",9)(13,"mat-icon"),o._uU(14,"close"),o.qZA()()(),o.TgZ(15,"div",11)(16,"button",12),o._uU(17,"Crear cuenta"),o.qZA(),o.TgZ(18,"button",12),o._uU(19,"Siguiente"),o.qZA()(),o.BQk())}let RU=(()=>{class n{constructor(e){this.auth=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(bv))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomii-auth"]],decls:9,vars:1,consts:[[1,"auth-container"],[1,"layout"],["src","assets/images/lomi.svg"],[2,"padding-top","1em","margin-bottom","1em"],[4,"ngIf"],["mat-button","",3,"click"],["src","assets/images/google-g.png"],["appearance","fill",1,"example-form-field"],["matInput","","type","text"],["matSuffix","","mat-icon-button","","aria-label","Clear"],["matInput","","type","password"],[2,"display","flex","justify-content","space-between","width","100%"],["mat-button",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"img",2),o.TgZ(3,"h1",3),o._uU(4,"\xbf Quien eres ?"),o.qZA(),o.YNc(5,bY,20,0,"ng-container",4),o.TgZ(6,"button",5),o.NdJ("click",function(){return i.auth.loginWithGoogle()}),o._UZ(7,"img",6),o._uU(8,"Iniciar sesi\xf3n con Google"),o.qZA()()()),2&e&&(o.xp6(5),o.Q6J("ngIf",!1))},directives:[Un,SU,_I,xU,Gk,dY,xT],styles:[".auth-container[_ngcontent-%COMP%]{background-color:var(--accent-color);height:calc(100vh - 4em);width:100vw;display:flex;justify-content:center;align-items:center}.layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:16px;border-radius:15px;width:40em;background-color:#fff}.layout[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:30px}"]}),n})();function wY(n,t){1&n&&(o.ynx(0),o.TgZ(1,"mat-drawer-container",8)(2,"mat-drawer",9,10),o._UZ(4,"lomii-menu"),o.qZA(),o.TgZ(5,"div",11)(6,"div",12),o._UZ(7,"router-outlet"),o.qZA()()(),o.BQk())}const CY=function(){return["/"]};let EY=(()=>{class n{constructor(e){this.auth=e,this.userId=0,this.adapter=new jc,this.title="lomi-material"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(bv))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomii-root"]],decls:19,vars:4,consts:[["color","tertiary"],["src","assets/images/lomi.svg",2,"max-height","60px",3,"routerLink"],[1,"spacer"],["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item",""],[4,"ngIf"],["autosize","",1,"example-container"],["opened","","mode","side",1,"example-sidenav"],["drawer",""],[1,"example-sidenav-content"],[1,"p",2,"padding-top","0em","height","100vh"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div")(1,"mat-toolbar",0),o._UZ(2,"img",1)(3,"span",2),o.TgZ(4,"button",3)(5,"mat-icon"),o._uU(6,"menu"),o.qZA()(),o.TgZ(7,"mat-menu",null,4)(9,"button",5),o.NdJ("click",function(){return i.auth.logout()}),o.TgZ(10,"mat-icon"),o._uU(11,"logout"),o.qZA(),o._uU(12,"Cerrar Sesi\xf3n"),o.qZA(),o.TgZ(13,"button",6)(14,"mat-icon"),o._uU(15,"settings"),o.qZA(),o._uU(16,"Configuraci\xf3n"),o.qZA()()()(),o.YNc(17,wY,8,0,"ng-container",7),o._UZ(18,"lomii-auth")),2&e){const r=o.MAs(8);o.xp6(2),o.Q6J("routerLink",o.DdM(3,CY)),o.xp6(2),o.Q6J("matMenuTriggerFor",r),o.xp6(13),o.Q6J("ngIf",i.auth.signedIn)}},directives:[aq,ku,Gk,c6,xT,s6,IT,Un,RT,kT,jZ,Gd,RU],styles:[""]}),n})();const DY=["*",[["mat-card-footer"]]],TY=["*","mat-card-footer"];let IY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),n})(),SY=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36($c,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:TY,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(DY),o.Hsn(0),o.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),OU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[zn],zn]}),n})(),NU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[lB,zn],lB,zn]}),n})();F(6457);class LU{constructor(){return(0,dn.vb)("auth")}}var ht,OY="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Zu={},yO=yO||{},jt=OY||self;function yI(){}function vO(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Ow(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var bO="closure_uid_"+(1e9*Math.random()>>>0),NY=0;function FY(n,t,e){return n.call.apply(n.bind,arguments)}function LY(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function as(n,t,e){return(as=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?FY:LY).apply(null,arguments)}function vI(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ls(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return t.prototype[r].apply(i,c)}}function Oh(){this.s=this.s,this.o=this.o}var VY={};Oh.prototype.s=!1,Oh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function PY(n){return Object.prototype.hasOwnProperty.call(n,bO)&&n[bO]||(n[bO]=++NY)}(this);delete VY[n]}},Oh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const BU=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},VU=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&t.call(e,r[s],s,n)};function UU(n){return Array.prototype.concat.apply([],arguments)}function wO(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function bI(n){return/^[\s\xa0]*$/.test(n)}var so,HU=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ro(n,t){return-1!=n.indexOf(t)}function CO(n,t){return n<t?-1:n>t?1:0}e:{var jU=jt.navigator;if(jU){var zU=jU.userAgent;if(zU){so=zU;break e}}so=""}function EO(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function GU(n){const t={};for(const e in n)t[e]=n[e];return t}var $U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function WU(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<$U.length;s++)e=$U[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function DO(n){return DO[" "](n),n}DO[" "]=yI;var wI,n,jY=ro(so,"Opera"),P_=ro(so,"Trident")||ro(so,"MSIE"),qU=ro(so,"Edge"),TO=qU||P_,ZU=ro(so,"Gecko")&&!(ro(so.toLowerCase(),"webkit")&&!ro(so,"Edge"))&&!(ro(so,"Trident")||ro(so,"MSIE"))&&!ro(so,"Edge"),zY=ro(so.toLowerCase(),"webkit")&&!ro(so,"Edge");function YU(){var n=jt.document;return n?n.documentMode:void 0}e:{var IO="",SO=(n=so,ZU?/rv:([^\);]+)(\)|;)/.exec(n):qU?/Edge\/([\d\.]+)/.exec(n):P_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):zY?/WebKit\/(\S+)/.exec(n):jY?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(SO&&(IO=SO?SO[1]:""),P_){var MO=YU();if(null!=MO&&MO>parseFloat(IO)){wI=String(MO);break e}}wI=IO}var GY={};var WY=jt.document&&P_&&(YU()||parseInt(wI,10))||void 0,qY=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",yI,t),jt.removeEventListener("test",yI,t)}catch(e){}return n}();function As(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Pw(n,t){if(As.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(ZU){e:{try{DO(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ZY[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Pw.Z.h.call(this)}}As.prototype.h=function(){this.defaultPrevented=!0},ls(Pw,As);var ZY={2:"touch",3:"pen",4:"mouse"};Pw.prototype.h=function(){Pw.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Nw="closure_listenable_"+(1e6*Math.random()|0),YY=0;function KY(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++YY,this.ca=this.fa=!1}function CI(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function EI(n){this.src=n,this.g={},this.h=0}function xO(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=BU(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(CI(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function kO(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==t&&s.capture==!!e&&s.ia==i)return r}return-1}EI.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=kO(n,t,i,r);return-1<c?(t=n[c],e||(t.fa=!1)):((t=new KY(t,this.src,s,!!i,r)).fa=e,n.push(t)),t};var RO="closure_lm_"+(1e6*Math.random()|0),OO={};function QU(n,t,e,i,r){if(i&&i.once)return XU(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)QU(n,t[s],e,i,r);return null}return e=LO(e),n&&n[Nw]?n.N(t,e,Ow(i)?!!i.capture:!!i,r):JU(n,t,e,!1,i,r)}function JU(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var c=Ow(r)?!!r.capture:!!r,d=NO(n);if(d||(n[RO]=d=new EI(n)),(e=d.add(t,e,i,c,s)).proxy)return e;if(i=function QY(){var t=JY;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)qY||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(tH(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function XU(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)XU(n,t[s],e,i,r);return null}return e=LO(e),n&&n[Nw]?n.O(t,e,Ow(i)?!!i.capture:!!i,r):JU(n,t,e,!0,i,r)}function eH(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)eH(n,t[s],e,i,r);else i=Ow(i)?!!i.capture:!!i,e=LO(e),n&&n[Nw]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=kO(s=n.g[t],e,i,r))&&(CI(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=NO(n))&&(t=n.g[t.toString()],n=-1,t&&(n=kO(t,e,i,r)),(e=-1<n?t[n]:null)&&PO(e))}function PO(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Nw])xO(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(tH(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=NO(t))?(xO(e,n),0==e.h&&(e.src=null,t[RO]=null)):CI(n)}}}function tH(n){return n in OO?OO[n]:OO[n]="on"+n}function JY(n,t){if(n.ca)n=!0;else{t=new Pw(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&PO(n),n=e.call(i,t)}return n}function NO(n){return(n=n[RO])instanceof EI?n:null}var FO="__closure_events_fn_"+(1e9*Math.random()>>>0);function LO(n){return"function"==typeof n?n:(n[FO]||(n[FO]=function(t){return n.handleEvent(t)}),n[FO])}function Hr(){Oh.call(this),this.i=new EI(this),this.P=this,this.I=null}function cs(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new As(t,n);else if(t instanceof As)t.target=t.target||n;else{var r=t;WU(t=new As(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var c=t.g=e[s];r=DI(c,i,!0,t)&&r}if(r=DI(c=t.g=n,i,!0,t)&&r,r=DI(c,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=DI(c=t.g=e[s],i,!1,t)&&r}function DI(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var c=t[s];if(c&&!c.ca&&c.capture==e){var d=c.listener,p=c.ia||c.src;c.fa&&xO(n.i,c),r=!1!==d.call(p,i)&&r}}return r&&!i.defaultPrevented}ls(Hr,Oh),Hr.prototype[Nw]=!0,Hr.prototype.removeEventListener=function(n,t,e,i){eH(this,n,t,e,i)},Hr.prototype.M=function(){if(Hr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)CI(e[i]);delete n.g[t],n.h--}}this.I=null},Hr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Hr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var BO=jt.JSON.stringify;function XY(){var n=iH;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var UO,nH=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new tK,n=>n.reset());class tK{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function nK(n){jt.setTimeout(()=>{throw n},0)}function VO(n,t){UO||function iK(){var n=jt.Promise.resolve(void 0);UO=function(){n.then(rK)}}(),HO||(UO(),HO=!0),iH.add(n,t)}var HO=!1,iH=new class eK{constructor(){this.h=this.g=null}add(t,e){const i=nH.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function rK(){for(var n;n=XY();){try{n.h.call(n.g)}catch(e){nK(e)}var t=nH;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}HO=!1}function TI(n,t){Hr.call(this),this.h=n||1,this.g=t||jt,this.j=as(this.kb,this),this.l=Date.now()}function jO(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function zO(n,t,e){if("function"==typeof n)e&&(n=as(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=as(n.handleEvent,n)}return 2147483647<Number(t)?-1:jt.setTimeout(n,t||0)}function rH(n){n.g=zO(()=>{n.g=null,n.i&&(n.i=!1,rH(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}ls(TI,Hr),(ht=TI.prototype).da=!1,ht.S=null,ht.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),cs(this,"tick"),this.da&&(jO(this),this.start()))}},ht.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ht.M=function(){TI.Z.M.call(this),jO(this),delete this.g};class sK extends Oh{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:rH(this)}M(){super.M(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fw(n){Oh.call(this),this.h=n,this.g={}}ls(Fw,Oh);var sH=[];function oH(n,t,e,i){Array.isArray(e)||(e&&(sH[0]=e.toString()),e=sH);for(var r=0;r<e.length;r++){var s=QU(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function aH(n){EO(n.g,function(t,e){this.g.hasOwnProperty(e)&&PO(t)},n),n.g={}}function II(){this.g=!0}function N_(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function cK(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return BO(e)}catch(d){return t}}(n,e)+(i?" "+i:"")})}Fw.prototype.M=function(){Fw.Z.M.call(this),aH(this)},Fw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},II.prototype.Aa=function(){this.g=!1},II.prototype.info=function(){};var kp={},lH=null;function SI(){return lH=lH||new Hr}function cH(n){As.call(this,kp.Ma,n)}function Lw(n){const t=SI();cs(t,new cH(t,n))}function uH(n,t){As.call(this,kp.STAT_EVENT,n),this.stat=t}function oo(n){const t=SI();cs(t,new uH(t,n))}function dH(n,t){As.call(this,kp.Na,n),this.size=t}function Bw(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},t)}kp.Ma="serverreachability",ls(cH,As),kp.STAT_EVENT="statevent",ls(uH,As),kp.Na="timingevent",ls(dH,As);var MI={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},hH={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function GO(){}function pH(){}GO.prototype.h=null;var qO,Vw={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function $O(){As.call(this,"d")}function WO(){As.call(this,"c")}function AI(){}function Uw(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Fw(this),this.P=uK,this.W=new TI(n=TO?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new gH}function gH(){this.i=null,this.g="",this.h=!1}ls($O,As),ls(WO,As),ls(AI,GO),AI.prototype.g=function(){return new XMLHttpRequest},AI.prototype.i=function(){return{}},qO=new AI;var uK=45e3,ZO={},xI={};function YO(n,t,e){n.K=1,n.v=NI(Yu(t)),n.s=e,n.U=!0,mH(n,null)}function mH(n,t){n.F=Date.now(),Hw(n),n.A=Yu(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),TH(e.h,"t",i),n.C=0,e=n.l.H,n.h=new gH,n.g=ZH(n.l,e?t:null,!n.s),0<n.O&&(n.L=new sK(as(n.Ia,n,n.g),n.O)),oH(n.V,n.g,"readystatechange",n.gb),t=n.H?GU(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Lw(1),function oK(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),p=0;p<d.length;p++){var _=d[p].split("=");if(1<_.length){var b=_[0];_=_[1];var D=b.split("_");c=2<=D.length&&"type"==D[1]?c+(b+"=")+_+"&":c+(b+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function _H(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function yH(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=dK(n,e),r==xI){4==t&&(n.o=4,oo(14),i=!1),N_(n.j,n.m,null,"[Incomplete Response]");break}if(r==ZO){n.o=4,oo(15),N_(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}N_(n.j,n.m,r,null),KO(n,r)}_H(n)&&r!=xI&&r!=ZO&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,oo(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),l1(t),t.L=!0,oo(11))):(N_(n.j,n.m,e,"[Invalid Chunked Response]"),Rp(n),jw(n))}function dK(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?xI:(e=Number(t.substring(e,i)),isNaN(e)?ZO:(i+=1)+e>t.length?xI:(t=t.substr(i,e),n.C=i+e,t))}function Hw(n){n.Y=Date.now()+n.P,vH(n,n.P)}function vH(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Bw(as(n.eb,n),t)}function kI(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function jw(n){0==n.l.G||n.I||GH(n.l,n)}function Rp(n){kI(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,jO(n.W),aH(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function KO(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||XO(e.i,n)))if(e.I=n.N,!n.J&&XO(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(_){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=Bw(as(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;HI(e),VI(e)}a1(e),oo(18)}if(1>=MH(e.i)&&e.ka){try{e.ka()}catch(_){}e.ka=void 0}}else Np(e,11)}else if((n.J||e.g==n)&&HI(e),!bI(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let _=r[t];if(e.U=_[0],_=_[1],2==e.G)if("c"==_[0]){e.J=_[1],e.la=_[2];const b=_[3];null!=b&&(e.ma=b,e.h.info("VER="+e.ma));const D=_[4];null!=D&&(e.za=D,e.h.info("SVER="+e.za));const A=_[5];null!=A&&"number"==typeof A&&0<A&&(e.K=i=1.5*A,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const O=n.g;if(O){const B=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var s=i.i;!s.g&&(ro(B,"spdy")||ro(B,"quic")||ro(B,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(e1(s,s.h),s.h=null))}if(i.D){const ie=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;ie&&(i.sa=ie,Ti(i.F,i.D,ie))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var c=n;if((i=e).oa=qH(i,i.H?i.la:null,i.W),c.J){AH(i.i,c);var d=c,p=i.K;p&&d.setTimeout(p),d.B&&(kI(d),Hw(d)),i.g=c}else jH(i);0<e.l.length&&UI(e)}else"stop"!=_[0]&&"close"!=_[0]||Np(e,7);else 3==e.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Np(e,7):s1(e):"noop"!=_[0]&&e.j&&e.j.wa(_),e.A=0)}Lw(4)}catch(_){}}function QO(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(vO(n)||"string"==typeof n)VU(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(vO(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function hK(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(vO(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}}function F_(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof F_)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function JO(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];Op(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)Op(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function Op(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(ht=Uw.prototype).setTimeout=function(n){this.P=n},ht.gb=function(n){n=n.target;const t=this.L;t&&3==Ku(n)?t.l():this.Ia(n)},ht.Ia=function(n){try{if(n==this.g)e:{const b=Ku(this.g);var t=this.g.Da();const D=this.g.ba();if(!(3>b)&&(3!=b||TO||this.g&&(this.h.h||this.g.ga()||LH(this.g)))){this.I||4!=b||7==t||Lw(8==t||0>=D?3:2),kI(this);var e=this.g.ba();this.N=e;t:if(_H(this)){var i=LH(this.g);n="";var r=i.length,s=4==Ku(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Rp(this),jw(this);var c="";break t}this.h.i=new jt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==e,function aK(n,t,e,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.X,b,e),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bI(d)){var _=d;break t}}_=null}if(!(e=_)){this.i=!1,this.o=3,oo(12),Rp(this),jw(this);break e}N_(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,KO(this,e)}this.U?(yH(this,b,c),TO&&this.i&&3==b&&(oH(this.V,this.W,"tick",this.fb),this.W.start())):(N_(this.j,this.m,c,null),KO(this,c)),4==b&&Rp(this),this.i&&!this.I&&(4==b?GH(this.l,this):(this.i=!1,Hw(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,oo(12)):(this.o=0,oo(13)),Rp(this),jw(this)}}}catch(b){}},ht.fb=function(){if(this.g){var n=Ku(this.g),t=this.g.ga();this.C<t.length&&(kI(this),yH(this,n,t),this.i&&4!=n&&Hw(this))}},ht.cancel=function(){this.I=!0,Rp(this)},ht.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function lK(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Lw(3),oo(17)),Rp(this),this.o=2,jw(this)):vH(this,this.Y-n)},(ht=F_.prototype).R=function(){JO(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},ht.T=function(){return JO(this),this.g.concat()},ht.get=function(n,t){return Op(this.h,n)?this.h[n]:t},ht.set=function(n,t){Op(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},ht.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],s=this.get(r);n.call(t,s,r,this)}};var bH=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pp(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Pp){this.g=void 0!==t?t:n.g,RI(this,n.j),this.s=n.s,OI(this,n.i),PI(this,n.m),this.l=n.l,t=n.h;var e=new $w;e.i=t.i,t.g&&(e.g=new F_(t.g),e.h=t.h),wH(this,e),this.o=n.o}else n&&(e=String(n).match(bH))?(this.g=!!t,RI(this,e[1]||"",!0),this.s=zw(e[2]||""),OI(this,e[3]||"",!0),PI(this,e[4]),this.l=zw(e[5]||"",!0),wH(this,e[6]||"",!0),this.o=zw(e[7]||"")):(this.g=!!t,this.h=new $w(null,this.g))}function Yu(n){return new Pp(n)}function RI(n,t,e){n.j=e?zw(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function OI(n,t,e){n.i=e?zw(t,!0):t}function PI(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function wH(n,t,e){t instanceof $w?(n.h=t,function wK(n,t){t&&!n.j&&(Ph(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(EH(this,i),TH(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=Gw(t,vK)),n.h=new $w(t,n.g))}function Ti(n,t,e){n.h.set(t,e)}function NI(n){return Ti(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function zw(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gw(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,mK),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function mK(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Pp.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Gw(t,CH,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Gw(t,CH,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(Gw(e,"/"==e.charAt(0)?yK:_K,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Gw(e,bK)),n.join("")};var CH=/[#\/\?@]/g,_K=/[#\?:]/g,yK=/[#\?]/g,vK=/[#\?@]/g,bK=/#/g;function $w(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Ph(n){n.g||(n.g=new F_,n.h=0,n.i&&function fK(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function EH(n,t){Ph(n),t=L_(n,t),Op(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Op((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&JO(n)))}function DH(n,t){return Ph(n),t=L_(n,t),Op(n.g.h,t)}function TH(n,t,e){EH(n,t),0<e.length&&(n.i=null,n.g.set(L_(n,t),wO(e)),n.h+=e.length)}function L_(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function IH(n){this.l=n||EK,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ea&&jt.g.Ea()&&jt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ht=$w.prototype).add=function(n,t){Ph(this),this.i=null,n=L_(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ht.forEach=function(n,t){Ph(this),this.g.forEach(function(e,i){VU(e,function(r){n.call(t,r,i,this)},this)},this)},ht.T=function(){Ph(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],s=0;s<r.length;s++)e.push(t[i]);return e},ht.R=function(n){Ph(this);var t=[];if("string"==typeof n)DH(this,n)&&(t=UU(t,this.g.get(L_(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=UU(t,n[e])}return t},ht.set=function(n,t){return Ph(this),this.i=null,DH(this,n=L_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ht.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},ht.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var c=r;""!==i[s]&&(c+="="+encodeURIComponent(String(i[s]))),n.push(c)}}return this.i=n.join("&")};var EK=10;function SH(n){return!!n.h||!!n.g&&n.g.size>=n.j}function MH(n){return n.h?1:n.g?n.g.size:0}function XO(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function e1(n,t){n.g?n.g.add(t):n.h=t}function AH(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function xH(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return wO(n.i)}function t1(){}function DK(){this.g=new t1}function TK(n,t,e){const i=e||"";try{QO(n,function(r,s){let c=r;Ow(r)&&(c=BO(r)),t.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function FI(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(s){}}function Ww(n){this.l=n.$b||null,this.j=n.ib||!1}function LI(n,t){Hr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=n1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}IH.prototype.cancel=function(){if(this.i=xH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},t1.prototype.stringify=function(n){return jt.JSON.stringify(n,void 0)},t1.prototype.parse=function(n){return jt.JSON.parse(n,void 0)},ls(Ww,GO),Ww.prototype.g=function(){return new LI(this.l,this.j)},Ww.prototype.i=function(n){return function(){return n}}({}),ls(LI,Hr);var n1=0;function kH(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function qw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Zw(n)}function Zw(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ht=LI.prototype).open=function(n,t){if(this.readyState!=n1)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Zw(this)},ht.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||jt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ht.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qw(this)),this.readyState=n1},ht.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Zw(this)),this.g&&(this.readyState=3,Zw(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==jt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kH(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ht.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?qw(this):Zw(this),3==this.readyState&&kH(this)}},ht.Ua=function(n){this.g&&(this.response=this.responseText=n,qw(this))},ht.Ta=function(n){this.g&&(this.response=n,qw(this))},ht.ha=function(){this.g&&qw(this)},ht.setRequestHeader=function(n,t){this.v.append(n,t)},ht.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ht.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(LI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var SK=jt.JSON.parse;function fr(n){Hr.call(this),this.headers=new F_,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=RH,this.K=this.L=!1}ls(fr,Hr);var RH="",MK=/^https?$/i,AK=["POST","PUT"];function kK(n){return"content-type"==n.toLowerCase()}function OH(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,PH(n),BI(n)}function PH(n){n.D||(n.D=!0,cs(n,"complete"),cs(n,"error"))}function NH(n){if(n.h&&void 0!==yO&&(!n.C[1]||4!=Ku(n)||2!=n.ba()))if(n.v&&4==Ku(n))zO(n.Fa,0,n);else if(cs(n,"readystatechange"),4==Ku(n)){n.h=!1;try{const d=n.ba();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===d){var r=String(n.H).match(bH)[1]||null;if(!r&&jt.self&&jt.self.location){var s=jt.self.location.protocol;r=s.substr(0,s.length-1)}i=!MK.test(r?r.toLowerCase():"")}e=i}if(e)cs(n,"complete"),cs(n,"success");else{n.m=6;try{var c=2<Ku(n)?n.g.statusText:""}catch(p){c=""}n.j=c+" ["+n.ba()+"]",PH(n)}}finally{BI(n)}}}function BI(n,t){if(n.g){FH(n);const e=n.g,i=n.C[0]?yI:null;n.g=null,n.C=null,t||cs(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function FH(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function Ku(n){return n.g?n.g.readyState:0}function LH(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case RH:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function r1(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function RK(n){let t="";return EO(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Ti(n,t,e))}function Yw(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function BH(n){this.za=0,this.l=[],this.h=new II,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Yw("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Yw("baseRetryDelayMs",5e3,n),this.$a=Yw("retryDelaySeedMs",1e4,n),this.Ya=Yw("forwardChannelMaxRetries",2,n),this.ra=Yw("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new IH(n&&n.concurrentRequestLimit),this.Ca=new DK,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function s1(n){if(VH(n),3==n.G){var t=n.V++,e=Yu(n.F);Ti(e,"SID",n.J),Ti(e,"RID",t),Ti(e,"TYPE","terminate"),Kw(n,e),(t=new Uw(n,n.h,t,void 0)).K=2,t.v=NI(Yu(e)),e=!1,jt.navigator&&jt.navigator.sendBeacon&&(e=jt.navigator.sendBeacon(t.v.toString(),"")),!e&&jt.Image&&((new Image).src=t.v,e=!0),e||(t.g=ZH(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Hw(t)}WH(n)}function VI(n){n.g&&(l1(n),n.g.cancel(),n.g=null)}function VH(n){VI(n),n.u&&(jt.clearTimeout(n.u),n.u=null),HI(n),n.i.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function o1(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&UI(n)}function UI(n){SH(n.i)||n.m||(n.m=!0,VO(n.Ha,n),n.C=0)}function UH(n,t){var e;e=t?t.m:n.V++;const i=Yu(n.F);Ti(i,"SID",n.J),Ti(i,"RID",e),Ti(i,"AID",n.U),Kw(n,i),n.o&&n.s&&r1(i,n.o,n.s),e=new Uw(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=HH(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),e1(n.i,e),YO(e,i,t)}function Kw(n,t){n.j&&QO({},function(e,i){Ti(t,i,e)})}function HH(n,t,e){e=Math.min(n.l.length,e);var i=n.j?as(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const c=["count="+e];-1==s?0<e?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let p=0;p<e;p++){let _=r[p].h;const b=r[p].g;if(_-=s,0>_)s=Math.max(0,r[p].h-100),d=!1;else try{TK(b,c,"req"+_+"_")}catch(D){i&&i(b)}}if(d){i=c.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function jH(n){n.g||n.u||(n.Y=1,VO(n.Ga,n),n.A=0)}function a1(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Bw(as(n.Ga,n),$H(n,n.A)),n.A++,0))}function l1(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function zH(n){n.g=new Uw(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Yu(n.oa);Ti(t,"RID","rpc"),Ti(t,"SID",n.J),Ti(t,"CI",n.N?"0":"1"),Ti(t,"AID",n.U),Kw(n,t),Ti(t,"TYPE","xmlhttp"),n.o&&n.s&&r1(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=NI(Yu(t)),e.s=null,e.U=!0,mH(e,n)}function HI(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function GH(n,t){var e=null;if(n.g==t){HI(n),l1(n),n.g=null;var i=2}else{if(!XO(n.i,t))return;e=t.D,AH(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;cs(i=SI(),new dH(i,e,t,r)),UI(n)}else jH(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function OK(n,t){return!(MH(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Bw(as(n.Ha,n,t),$H(n,n.C)),n.C++,0)))}(n,t)||2==i&&a1(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Np(n,5);break;case 4:Np(n,10);break;case 3:Np(n,6);break;default:Np(n,2)}}function $H(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Np(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=as(n.jb,n);e||(e=new Pp("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||RI(e,"https"),NI(e)),function IK(n,t){const e=new II;if(jt.Image){const i=new Image;i.onload=vI(FI,e,i,"TestLoadImage: loaded",!0,t),i.onerror=vI(FI,e,i,"TestLoadImage: error",!1,t),i.onabort=vI(FI,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=vI(FI,e,i,"TestLoadImage: timeout",!1,t),jt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else oo(2);n.G=0,n.j&&n.j.va(t),WH(n),VH(n)}function WH(n){n.G=0,n.I=-1,n.j&&((0!=xH(n.i).length||0!=n.l.length)&&(n.i.i.length=0,wO(n.l),n.l.length=0),n.j.ua())}function qH(n,t,e){let i=function pK(n){return n instanceof Pp?Yu(n):new Pp(n,void 0)}(e);if(""!=i.i)t&&OI(i,t+"."+i.i),PI(i,i.m);else{const r=jt.location;i=function gK(n,t,e,i){var r=new Pp(null,void 0);return n&&RI(r,n),t&&OI(r,t),e&&PI(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&EO(n.aa,function(r,s){Ti(i,s,r)}),e=n.sa,(t=n.D)&&e&&Ti(i,t,e),Ti(i,"VER",n.ma),Kw(n,i),i}function ZH(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new fr(e&&n.Ba&&!n.qa?new Ww({ib:!0}):n.qa)).L=n.H,t}function YH(){}function jI(){if(P_&&!(10<=Number(WY)))throw Error("Environmental error: no available transport.")}function ra(n,t){Hr.call(this),this.g=new BH(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!bI(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!bI(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new B_(this)}function KH(n){$O.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function QH(){WO.call(this),this.status=1}function B_(n){this.g=n}(ht=fr.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qO.g(),this.C=function fH(n){return n.h||(n.h=n.i())}(this.u?this.u:qO),this.g.onreadystatechange=as(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void OH(this,s)}n=e||"";const r=new F_(this.headers);i&&QO(i,function(s,c){r.set(c,s)}),i=function UY(n){e:{var t=kK;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=jt.FormData&&n instanceof jt.FormData,!(0<=BU(AK,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{FH(this),0<this.B&&((this.K=function xK(n){return P_&&function $Y(){return function HY(n){var t=GY;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=HU(String(wI)).split("."),e=HU("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",s=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=CO(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||CO(0==r[2].length,0==s[2].length)||CO(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=as(this.pa,this)):this.A=zO(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){OH(this,s)}},ht.pa=function(){void 0!==yO&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cs(this,"timeout"),this.abort(8))},ht.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,cs(this,"complete"),cs(this,"abort"),BI(this))},ht.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),BI(this,!0)),fr.Z.M.call(this)},ht.Fa=function(){this.s||(this.F||this.v||this.l?NH(this):this.cb())},ht.cb=function(){NH(this)},ht.ba=function(){try{return 2<Ku(this)?this.g.status:-1}catch(n){return-1}},ht.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ht.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),SK(t)}},ht.Da=function(){return this.m},ht.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ht=BH.prototype).ma=8,ht.G=1,ht.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},ht.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Uw(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=GU(s),WU(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=HH(this,r,t),Ti(e=Yu(this.F),"RID",n),Ti(e,"CVER",22),this.D&&Ti(e,"X-HTTP-Session-Id",this.D),Kw(this,e),this.o&&s&&r1(e,this.o,s),e1(this.i,r),this.Ra&&Ti(e,"TYPE","init"),this.ja?(Ti(e,"$req",t),Ti(e,"SID","null"),r.$=!0,YO(r,e,null)):YO(r,e,t),this.G=2}}else 3==this.G&&(n?UH(this,n):0==this.l.length||SH(this.i)||UH(this))},ht.Ga=function(){if(this.u=null,zH(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Bw(as(this.bb,this),n)}},ht.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,oo(10),VI(this),zH(this))},ht.ab=function(){null!=this.v&&(this.v=null,VI(this),a1(this),oo(19))},ht.jb=function(n){n?(this.h.info("Successfully pinged google.com"),oo(2)):(this.h.info("Failed to ping google.com"),oo(1))},(ht=YH.prototype).xa=function(){},ht.wa=function(){},ht.va=function(){},ht.ua=function(){},ht.Oa=function(){},jI.prototype.g=function(n,t){return new ra(n,t)},ls(ra,Hr),ra.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),VO(as(n.hb,n,t))),oo(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=qH(n,null,n.W),UI(n)},ra.prototype.close=function(){s1(this.g)},ra.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,o1(this.g,t)}else this.v?((t={}).__data__=BO(n),o1(this.g,t)):o1(this.g,n)},ra.prototype.M=function(){this.g.j=null,delete this.j,s1(this.g),delete this.g,ra.Z.M.call(this)},ls(KH,$O),ls(QH,WO),ls(B_,YH),B_.prototype.xa=function(){cs(this.g,"a")},B_.prototype.wa=function(n){cs(this.g,new KH(n))},B_.prototype.va=function(n){cs(this.g,new QH(n))},B_.prototype.ua=function(){cs(this.g,"b")},jI.prototype.createWebChannel=jI.prototype.g,ra.prototype.send=ra.prototype.u,ra.prototype.open=ra.prototype.m,ra.prototype.close=ra.prototype.close,MI.NO_ERROR=0,MI.TIMEOUT=8,MI.HTTP_ERROR=6,hH.COMPLETE="complete",pH.EventType=Vw,Vw.OPEN="a",Vw.CLOSE="b",Vw.ERROR="c",Vw.MESSAGE="d",Hr.prototype.listen=Hr.prototype.N,fr.prototype.listenOnce=fr.prototype.O,fr.prototype.getLastError=fr.prototype.La,fr.prototype.getLastErrorCode=fr.prototype.Da,fr.prototype.getStatus=fr.prototype.ba,fr.prototype.getResponseJson=fr.prototype.Qa,fr.prototype.getResponseText=fr.prototype.ga,fr.prototype.send=fr.prototype.ea;var PK=Zu.createWebChannelTransport=function(){return new jI},NK=Zu.getStatEventTarget=function(){return SI()},c1=Zu.ErrorCode=MI,FK=Zu.EventType=hH,LK=Zu.Event=kp,JH=Zu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},BK=Zu.FetchXmlHttpFactory=Ww,zI=Zu.WebChannel=pH,VK=Zu.XhrIo=fr;const XH="@firebase/firestore";class jr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}jr.UNAUTHENTICATED=new jr(null),jr.GOOGLE_CREDENTIALS=new jr("google-credentials-uid"),jr.FIRST_PARTY=new jr("first-party-uid"),jr.MOCK_USER=new jr("mock-user");let V_="9.9.0";const Nh=new Co.Yd("@firebase/firestore");function u1(){return Nh.logLevel}function je(n,...t){if(Nh.logLevel<=Co.in.DEBUG){const e=t.map(d1);Nh.debug(`Firestore (${V_}): ${n}`,...e)}}function pr(n,...t){if(Nh.logLevel<=Co.in.ERROR){const e=t.map(d1);Nh.error(`Firestore (${V_}): ${n}`,...e)}}function GI(n,...t){if(Nh.logLevel<=Co.in.WARN){const e=t.map(d1);Nh.warn(`Firestore (${V_}): ${n}`,...e)}}function d1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function yt(n="Unexpected state"){const t=`FIRESTORE (${V_}) INTERNAL ASSERTION FAILED: `+n;throw pr(t),new Error(t)}function Pt(n,t){n||yt()}function st(n,t){return n}const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends V.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class ej{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class UK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(jr.UNAUTHENTICATED))}shutdown(){}}class jK{constructor(t){this.t=t,this.currentUser=jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,e(_)):Promise.resolve();let c=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new zr,t.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const _=c;t.enqueueRetryable((0,pt.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},p=_=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new zr)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Pt("string"==typeof i.accessToken),new ej(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Pt(null===t||"string"==typeof t),new jr(t)}}class zK{constructor(t,e,i){this.type="FirstParty",this.user=jr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class GK{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new zK(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tj{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $K{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=s=>{null!=s.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.p;return this.p=s.token,je("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Pt("string"==typeof e.token),this.p=e.token,new tj(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function WK(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}function Jt(n,t){return n<t?-1:n>t?1:0}function U_(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}class Fi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ue(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ue(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ue(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ue(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Fi.fromMillis(Date.now())}static fromDate(t){return Fi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Fi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Jt(this.nanoseconds,t.nanoseconds):Jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ot{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ot(t)}static min(){return new Ot(new Fi(0,0))}static max(){return new Ot(new Fi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qw{constructor(t,e,i){void 0===e?e=0:e>t.length&&yt(),void 0===i?i=t.length-e:i>t.length-e&&yt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Qw.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Qw?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),c=e.get(r);if(s<c)return-1;if(s>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Mn extends Qw{construct(t,e,i){return new Mn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ue(be.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Mn(e)}static emptyPath(){return new Mn([])}}const qK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends Qw{construct(t,e,i){return new gr(t,e,i)}static isValidIdentifier(t){return qK.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ue(be.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new Ue(be.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ue(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(s(),r++)}if(s(),c)throw new Ue(be.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gr(e)}static emptyPath(){return new gr([])}}class tt{constructor(t){this.path=t}static fromPath(t){return new tt(Mn.fromString(t))}static fromName(t){return new tt(Mn.fromString(t).popFirst(5))}static empty(){return new tt(Mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Mn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Mn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new tt(new Mn(t.slice()))}}function sj(n){return new sa(n.readTime,n.key,-1)}class sa{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new sa(Ot.min(),tt.empty(),-1)}static max(){return new sa(Ot.max(),tt.empty(),-1)}}function f1(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=tt.comparator(n.documentKey,t.documentKey),0!==e?e:Jt(n.largestBatchId,t.largestBatchId))}const oj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Fh(n){return p1.apply(this,arguments)}function p1(){return p1=(0,pt.Z)(function*(n){if(n.code!==be.FAILED_PRECONDITION||n.message!==oj)throw n;je("LocalStore","Unexpectedly lost primary lease")}),p1.apply(this,arguments)}class _e{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new _e((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof _e?e:_e.resolve(e)}catch(e){return _e.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):_e.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):_e.reject(e)}static resolve(t){return new _e((e,i)=>{e(t)})}static reject(t){return new _e((e,i)=>{i(t)})}static waitFor(t){return new _e((e,i)=>{let r=0,s=0,c=!1;t.forEach(d=>{++r,d.next(()=>{++s,c&&s===r&&e()},p=>i(p))}),c=!0,s===r&&e()})}static or(t){let e=_e.resolve(!1);for(const i of t)e=e.next(r=>r?_e.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new _e((i,r)=>{const s=t.length,c=new Array(s);let d=0;for(let p=0;p<s;p++){const _=p;e(t[_]).next(b=>{c[_]=b,++d,d===s&&i(c)},b=>r(b))}})}static doWhile(t,e){return new _e((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}function Lh(n){return"IndexedDbTransactionError"===n.name}class No{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.it(i),this.rt=i=>e.writeSequenceNumber(i))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}function lj(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Bp(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}No.ot=-1;class ji{constructor(t,e){this.comparator=t,this.root=e||us.EMPTY}insert(t,e){return new ji(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,us.BLACK,null,null))}remove(t){return new ji(this.comparator,this.root.remove(t,this.comparator).copy(null,null,us.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ZI(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ZI(this.root,t,this.comparator,!1)}getReverseIterator(){return new ZI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ZI(this.root,t,this.comparator,!0)}}class ZI{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class us{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=null!=i?i:us.RED,this.left=null!=r?r:us.EMPTY,this.right=null!=s?s:us.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new us(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return us.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return us.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,us.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const t=this.left.check();if(t!==this.right.check())throw yt();return t+(this.isRed()?0:1)}}us.EMPTY=null,us.RED=!0,us.BLACK=!1,us.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new us(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xn{constructor(t){this.comparator=t,this.data=new ji(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new uj(this.data.getIterator())}getIteratorFrom(t){return new uj(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Xn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Xn(this.comparator);return e.data=t,e}}class uj{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class oa{constructor(t){this.fields=t,t.sort(gr.comparator)}static empty(){return new oa([])}unionWith(t){let e=new Xn(gr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new oa(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return U_(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Tr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Tr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Tr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const XK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bh(n){if(Pt(!!n),"string"==typeof n){let t=0;const e=XK.exec(n);if(Pt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:zi(n.seconds),nanos:zi(n.nanos)}}function zi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Vp(n){return"string"==typeof n?Tr.fromBase64String(n):Tr.fromUint8Array(n)}function m1(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function dj(n){const t=n.mapValue.fields.__previous_value__;return m1(t)?dj(t):t}function eC(n){const t=Bh(n.mapValue.fields.__local_write_time__.timestampValue);return new Fi(t.seconds,t.nanos)}class e7{constructor(t,e,i,r,s,c,d,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class Vh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Vh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Vh&&t.projectId===this.projectId&&t.database===this.database}}function tC(n){return null==n}function nC(n){return 0===n&&1/n==-1/0}const Uh_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Up(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?m1(n)?4:mj(n)?9007199254740991:10:yt()}function Kc(n,t){if(n===t)return!0;const e=Up(n);if(e!==Up(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return eC(n).isEqual(eC(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Bh(i.timestampValue),c=Bh(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Vp(n.bytesValue).isEqual(Vp(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return zi(i.geoPointValue.latitude)===zi(r.geoPointValue.latitude)&&zi(i.geoPointValue.longitude)===zi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return zi(i.integerValue)===zi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=zi(i.doubleValue),c=zi(r.doubleValue);return s===c?nC(s)===nC(c):isNaN(s)&&isNaN(c)}return!1}(n,t);case 9:return U_(n.arrayValue.values||[],t.arrayValue.values||[],Kc);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(lj(s)!==lj(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!Kc(s[d],c[d])))return!1;return!0}(n,t);default:return yt()}var r}function iC(n,t){return void 0!==(n.values||[]).find(e=>Kc(e,t))}function Hh(n,t){if(n===t)return 0;const e=Up(n),i=Up(t);if(e!==i)return Jt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Jt(n.booleanValue,t.booleanValue);case 2:return function(r,s){const c=zi(r.integerValue||r.doubleValue),d=zi(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,t);case 3:return fj(n.timestampValue,t.timestampValue);case 4:return fj(eC(n),eC(t));case 5:return Jt(n.stringValue,t.stringValue);case 6:return function(r,s){const c=Vp(r),d=Vp(s);return c.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const c=r.split("/"),d=s.split("/");for(let p=0;p<c.length&&p<d.length;p++){const _=Jt(c[p],d[p]);if(0!==_)return _}return Jt(c.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const c=Jt(zi(r.latitude),zi(s.latitude));return 0!==c?c:Jt(zi(r.longitude),zi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const c=r.values||[],d=s.values||[];for(let p=0;p<c.length&&p<d.length;++p){const _=Hh(c[p],d[p]);if(_)return _}return Jt(c.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===Uh_mapValue&&s===Uh_mapValue)return 0;if(r===Uh_mapValue)return 1;if(s===Uh_mapValue)return-1;const c=r.fields||{},d=Object.keys(c),p=s.fields||{},_=Object.keys(p);d.sort(),_.sort();for(let b=0;b<d.length&&b<_.length;++b){const D=Jt(d[b],_[b]);if(0!==D)return D;const A=Hh(c[d[b]],p[_[b]]);if(0!==A)return A}return Jt(d.length,_.length)}(n.mapValue,t.mapValue);default:throw yt()}}function fj(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Jt(n,t);const e=Bh(n),i=Bh(t),r=Jt(e.seconds,i.seconds);return 0!==r?r:Jt(e.nanos,i.nanos)}function j_(n){return _1(n)}function _1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Bh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Vp(n.bytesValue).toBase64():"referenceValue"in n?tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=_1(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const d of r)c?c=!1:s+=",",s+=`${d}:${_1(i.fields[d])}`;return s+"}"}(n.mapValue):yt();var t}function y1(n){return!!n&&"integerValue"in n}function rC(n){return!!n&&"arrayValue"in n}function pj(n){return!!n&&"nullValue"in n}function gj(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function KI(n){return!!n&&"mapValue"in n}function sC(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Bp(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=sC(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=sC(n.arrayValue.values[e]);return t}return Object.assign({},n)}function mj(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class ds{constructor(t){this.value=t}static empty(){return new ds({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!KI(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=sC(e)}setAll(t){let e=gr.emptyPath(),i={},r=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=d.popLast()}c?i[d.lastSegment()]=sC(c):r.push(d.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());KI(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Kc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];KI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Bp(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new ds(sC(this.value))}}class hi{constructor(t,e,i,r,s,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(t){return new hi(t,0,Ot.min(),Ot.min(),ds.empty(),0)}static newFoundDocument(t,e,i){return new hi(t,1,e,Ot.min(),i,0)}static newNoDocument(t,e){return new hi(t,2,e,Ot.min(),ds.empty(),0)}static newUnknownDocument(t,e){return new hi(t,3,e,Ot.min(),ds.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ds.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof hi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new hi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class i7{constructor(t,e=null,i=[],r=[],s=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=d,this.ut=null}}function bj(n,t=null,e=[],i=[],r=null,s=null,c=null){return new i7(n,t,e,i,r,s,c)}function jp(n){const t=st(n);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+j_(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),tC(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>j_(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>j_(i)).join(",")),t.ut=e}return t.ut}function oC(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!h7(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Kc(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Tj(n.startAt,t.startAt)&&Tj(n.endAt,t.endAt)}function QI(n){return tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class hs extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.ct(t,e,i):new s7(t,e,i):"array-contains"===e?new l7(t,i):"in"===e?new c7(t,i):"not-in"===e?new u7(t,i):"array-contains-any"===e?new d7(t,i):new hs(t,e,i)}static ct(t,e,i){return"in"===e?new o7(t,i):new a7(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.at(Hh(e,this.value)):null!==e&&Up(this.value)===Up(e)&&this.at(Hh(e,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return yt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class s7 extends hs{constructor(t,e,i){super(t,e,i),this.key=tt.fromName(i.referenceValue)}matches(t){const e=tt.comparator(t.key,this.key);return this.at(e)}}class o7 extends hs{constructor(t,e){super(t,"in",e),this.keys=Ej(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class a7 extends hs{constructor(t,e){super(t,"not-in",e),this.keys=Ej(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Ej(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>tt.fromName(i.referenceValue))}class l7 extends hs{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return rC(e)&&iC(e.arrayValue,this.value)}}class c7 extends hs{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&iC(this.value.arrayValue,e)}}class u7 extends hs{constructor(t,e){super(t,"not-in",e)}matches(t){if(iC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!iC(this.value.arrayValue,e)}}class d7 extends hs{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!rC(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>iC(this.value.arrayValue,i))}}class jh{constructor(t,e){this.position=t,this.inclusive=e}}class z_{constructor(t,e="asc"){this.field=t,this.dir=e}}function h7(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function Dj(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],c=n.position[r];if(i=s.field.isKeyField()?tt.comparator(tt.fromName(c.referenceValue),e.key):Hh(c,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function Tj(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Kc(n.position[e],t.position[e]))return!1;return!0}class Qu{constructor(t,e=null,i=[],r=[],s=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=p,this.lt=null,this.ft=null}}function G_(n){return new Qu(n)}function v1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function b1(n){for(const t of n.filters)if(t.ht())return t.field;return null}function $_(n){const t=st(n);if(null===t.lt){t.lt=[];const e=b1(t),i=v1(t);if(null!==e&&null===i)e.isKeyField()||t.lt.push(new z_(e)),t.lt.push(new z_(gr.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.lt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new z_(gr.keyField(),s))}}}return t.lt}function el(n){const t=st(n);if(!t.ft)if("F"===t.limitType)t.ft=bj(t.path,t.collectionGroup,$_(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of $_(t))e.push(new z_(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new jh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jh(t.startAt.position,t.startAt.inclusive):null;t.ft=bj(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.ft}function Sj(n,t,e){return new Qu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function aC(n,t){return oC(el(n),el(t))&&n.limitType===t.limitType}function Mj(n){return`${jp(el(n))}|lt:${n.limitType}`}function C1(n){return`Query(target=${function r7(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${j_(i.value)}`;var i}).join(", ")}]`),tC(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>j_(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>j_(e)).join(",")),`Target(${t})`}(el(n))}; limitType=${n.limitType})`}function E1(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):tt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,c){const d=Dj(r,s,c);return r.inclusive?d<=0:d<0}(e.startAt,$_(e),i)||e.endAt&&!function(r,s,c){const d=Dj(r,s,c);return r.inclusive?d>=0:d>0}(e.endAt,$_(e),i)));var e,i}function xj(n){return(t,e)=>{let i=!1;for(const r of $_(n)){const s=p7(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function p7(n,t,e){const i=n.field.isKeyField()?tt.comparator(t.key,e.key):function(r,s,c){const d=s.data.field(r),p=c.data.field(r);return null!==d&&null!==p?Hh(d,p):yt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return yt()}}class XI{constructor(){this._=void 0}}function g7(n,t,e){return n instanceof W_?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof zp?Nj(n,t):n instanceof Gp?Fj(n,t):function(i,r){const s=function Pj(n,t){return n instanceof q_?y1(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}(i,r),c=Lj(s)+Lj(i._t);return y1(s)&&y1(i._t)?function Rj(n){return{integerValue:""+n}}(c):function kj(n,t){if(n.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nC(t)?"-0":t}}(i.wt,c)}(n,t)}function m7(n,t,e){return n instanceof zp?Nj(n,t):n instanceof Gp?Fj(n,t):e}class W_ extends XI{}class zp extends XI{constructor(t){super(),this.elements=t}}function Nj(n,t){const e=Bj(t);for(const i of n.elements)e.some(r=>Kc(r,i))||e.push(i);return{arrayValue:{values:e}}}class Gp extends XI{constructor(t){super(),this.elements=t}}function Fj(n,t){let e=Bj(t);for(const i of n.elements)e=e.filter(r=>!Kc(r,i));return{arrayValue:{values:e}}}class q_ extends XI{constructor(t,e){super(),this.wt=t,this._t=e}}function Lj(n){return zi(n.integerValue||n.doubleValue)}function Bj(n){return rC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Li{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Li}static exists(t){return new Li(void 0,t)}static updateTime(t){return new Li(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function eS(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class D1{}function Vj(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Y_(n.key,Li.none()):new Z_(n.key,n.data,Li.none());{const e=n.data,i=ds.empty();let r=new Xn(gr.comparator);for(let s of t.fields)if(!r.has(s)){let c=e.field(s);null===c&&s.length>1&&(s=s.popLast(),c=e.field(s)),null===c?i.delete(s):i.set(s,c),r=r.add(s)}return new Ju(n.key,i,new oa(r.toArray()),Li.none())}}function v7(n,t,e){n instanceof Z_?function(i,r,s){const c=i.value.clone(),d=jj(i.fieldTransforms,r,s.transformResults);c.setAll(d),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Ju?function(i,r,s){if(!eS(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=jj(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(Hj(i)),d.setAll(c),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function cC(n,t,e,i){return n instanceof Z_?function(r,s,c,d){if(!eS(r.precondition,s))return c;const p=r.value.clone(),_=zj(r.fieldTransforms,d,s);return p.setAll(_),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,t,e,i):n instanceof Ju?function(r,s,c,d){if(!eS(r.precondition,s))return c;const p=zj(r.fieldTransforms,d,s),_=s.data;return _.setAll(Hj(r)),_.setAll(p),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,t,e,i):(c=e,eS(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function Uj(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&U_(e,i,(r,s)=>function _7(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof zp&&i instanceof zp||e instanceof Gp&&i instanceof Gp?U_(e.elements,i.elements,Kc):e instanceof q_&&i instanceof q_?Kc(e._t,i._t):e instanceof W_&&i instanceof W_);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Z_ extends D1{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ju extends D1{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Hj(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function jj(n,t,e){const i=new Map;Pt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],c=s.transform,d=t.data.field(s.field);i.set(s.field,m7(c,d,e[r]))}return i}function zj(n,t,e){const i=new Map;for(const r of n){const s=r.transform,c=e.data.field(r.field);i.set(r.field,g7(s,c,t))}return i}class Y_ extends D1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w7{constructor(t){this.count=t}}var mr,An;function $j(n){if(void 0===n)return pr("GRPC error has no .code"),be.UNKNOWN;switch(n){case mr.OK:return be.OK;case mr.CANCELLED:return be.CANCELLED;case mr.UNKNOWN:return be.UNKNOWN;case mr.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case mr.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case mr.INTERNAL:return be.INTERNAL;case mr.UNAVAILABLE:return be.UNAVAILABLE;case mr.UNAUTHENTICATED:return be.UNAUTHENTICATED;case mr.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case mr.NOT_FOUND:return be.NOT_FOUND;case mr.ALREADY_EXISTS:return be.ALREADY_EXISTS;case mr.PERMISSION_DENIED:return be.PERMISSION_DENIED;case mr.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case mr.ABORTED:return be.ABORTED;case mr.OUT_OF_RANGE:return be.OUT_OF_RANGE;case mr.UNIMPLEMENTED:return be.UNIMPLEMENTED;case mr.DATA_LOSS:return be.DATA_LOSS;default:return yt()}}(An=mr||(mr={}))[An.OK=0]="OK",An[An.CANCELLED=1]="CANCELLED",An[An.UNKNOWN=2]="UNKNOWN",An[An.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",An[An.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",An[An.NOT_FOUND=5]="NOT_FOUND",An[An.ALREADY_EXISTS=6]="ALREADY_EXISTS",An[An.PERMISSION_DENIED=7]="PERMISSION_DENIED",An[An.UNAUTHENTICATED=16]="UNAUTHENTICATED",An[An.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",An[An.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",An[An.ABORTED=10]="ABORTED",An[An.OUT_OF_RANGE=11]="OUT_OF_RANGE",An[An.UNIMPLEMENTED=12]="UNIMPLEMENTED",An[An.INTERNAL=13]="INTERNAL",An[An.UNAVAILABLE=14]="UNAVAILABLE",An[An.DATA_LOSS=15]="DATA_LOSS";class zh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Bp(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return function cj(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}(this.inner)}size(){return this.innerSize}}const C7=new ji(tt.comparator);function Fo(){return C7}const Wj=new ji(tt.comparator);function uC(...n){let t=Wj;for(const e of n)t=t.insert(e.key,e);return t}function qj(n){let t=Wj;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Qc(){return dC()}function Zj(){return dC()}function dC(){return new zh(n=>n.toString(),(n,t)=>n.isEqual(t))}new ji(tt.comparator);const D7=new Xn(tt.comparator);function en(...n){let t=D7;for(const e of n)t=t.add(e);return t}const T7=new Xn(Jt);function tS(){return T7}class hC{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,fC.createSynthesizedTargetChangeForCurrentChange(t,e)),new hC(Ot.min(),i,tS(),Fo(),en())}}class fC{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new fC(Tr.EMPTY_BYTE_STRING,e,en(),en(),en())}}class nS{constructor(t,e,i,r){this.gt=t,this.removedTargetIds=e,this.key=i,this.yt=r}}class Yj{constructor(t,e){this.targetId=t,this.It=e}}class Kj{constructor(t,e,i=Tr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Qj{constructor(){this.Tt=0,this.Et=Xj(),this.At=Tr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=en(),e=en(),i=en();return this.Et.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:yt()}}),new fC(this.At,this.Rt,t,e,i)}Dt(){this.bt=!1,this.Et=Xj()}Ct(t,e){this.bt=!0,this.Et=this.Et.insert(t,e)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class I7{constructor(t){this.Mt=t,this.Ft=new Map,this.$t=Fo(),this.Bt=Jj(),this.Lt=new Xn(Jt)}Ut(t){for(const e of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(e,t.yt):this.Kt(e,t.key,t.yt);for(const e of t.removedTargetIds)this.Kt(e,t.key,t.yt)}Gt(t){this.forEachTarget(t,e=>{const i=this.Qt(e);switch(t.state){case 0:this.jt(e)&&i.Vt(t.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(t.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(e);break;case 3:this.jt(e)&&(i.Ot(),i.Vt(t.resumeToken));break;case 4:this.jt(e)&&(this.Wt(e),i.Vt(t.resumeToken));break;default:yt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ft.forEach((i,r)=>{this.jt(r)&&e(r)})}zt(t){const e=t.targetId,i=t.It.count,r=this.Ht(e);if(r){const s=r.target;if(QI(s))if(0===i){const c=new tt(s.path);this.Kt(e,c,hi.newNoDocument(c,Ot.min()))}else Pt(1===i);else this.Jt(e)!==i&&(this.Wt(e),this.Lt=this.Lt.add(e))}}Yt(t){const e=new Map;this.Ft.forEach((s,c)=>{const d=this.Ht(c);if(d){if(s.current&&QI(d.target)){const p=new tt(d.target.path);null!==this.$t.get(p)||this.Xt(c,p)||this.Kt(c,p,hi.newNoDocument(p,t))}s.vt&&(e.set(c,s.St()),s.Dt())}});let i=en();this.Bt.forEach((s,c)=>{let d=!0;c.forEachWhile(p=>{const _=this.Ht(p);return!_||2===_.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.$t.forEach((s,c)=>c.setReadTime(t));const r=new hC(t,e,this.Lt,this.$t,i);return this.$t=Fo(),this.Bt=Jj(),this.Lt=new Xn(Jt),r}qt(t,e){if(!this.jt(t))return;const i=this.Xt(t,e.key)?2:0;this.Qt(t).Ct(e.key,i),this.$t=this.$t.insert(e.key,e),this.Bt=this.Bt.insert(e.key,this.Zt(e.key).add(t))}Kt(t,e,i){if(!this.jt(t))return;const r=this.Qt(t);this.Xt(t,e)?r.Ct(e,1):r.xt(e),this.Bt=this.Bt.insert(e,this.Zt(e).delete(t)),i&&(this.$t=this.$t.insert(e,i))}removeTarget(t){this.Ft.delete(t)}Jt(t){const e=this.Qt(t).St();return this.Mt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let e=this.Ft.get(t);return e||(e=new Qj,this.Ft.set(t,e)),e}Zt(t){let e=this.Bt.get(t);return e||(e=new Xn(Jt),this.Bt=this.Bt.insert(t,e)),e}jt(t){const e=null!==this.Ht(t);return e||je("WatchChangeAggregator","Detected inactive target",t),e}Ht(t){const e=this.Ft.get(t);return e&&e.Pt?null:this.Mt.te(t)}Wt(t){this.Ft.set(t,new Qj),this.Mt.getRemoteKeysForTarget(t).forEach(e=>{this.Kt(t,e,null)})}Xt(t,e){return this.Mt.getRemoteKeysForTarget(t).has(e)}}function Jj(){return new ji(tt.comparator)}function Xj(){return new ji(tt.comparator)}const S7={asc:"ASCENDING",desc:"DESCENDING"},M7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class A7{constructor(t,e){this.databaseId=t,this.dt=e}}function Gr(n){return Pt(!!n),Ot.fromTimestamp(function(t){const e=Bh(t);return new Fi(e.seconds,e.nanos)}(n))}function tz(n){const t=Mn.fromString(n);return Pt(uz(t)),t}function Jc(n,t){const e=tz(t);if(e.get(1)!==n.databaseId.projectId)throw new Ue(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ue(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new tt(iz(e))}function S1(n,t){return function I1(n,t){return(e=n,new Mn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}(n.databaseId,t)}function mC(n){return new Mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iz(n){return Pt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function oz(n,t){return{documents:[S1(n,t.path)]}}function az(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=S1(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=S1(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const _=p.map(b=>function(D){if("=="===D.op){if(gj(D.value))return{unaryFilter:{field:K_(D.field),op:"IS_NAN"}};if(pj(D.value))return{unaryFilter:{field:K_(D.field),op:"IS_NULL"}}}else if("!="===D.op){if(gj(D.value))return{unaryFilter:{field:K_(D.field),op:"IS_NOT_NAN"}};if(pj(D.value))return{unaryFilter:{field:K_(D.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:K_(D.field),op:F7(D.op),value:D.value}}}(b));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(_=>{return{field:K_((b=_).field),direction:N7(b.dir)};var b})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const c=(_=t.limit,n.dt||tC(_)?_:{value:_});var _,d,p;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function lz(n){let t=function nz(n){const t=tz(n);return 4===t.length?Mn.emptyPath():iz(t)}(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Pt(1===i);const b=e.from[0];b.allDescendants?r=b.collectionId:t=t.child(b.collectionId)}let s=[];e.where&&(s=cz(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(b=>{return new z_(Q_((D=b).field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let d=null;e.limit&&(d=function(b){let D;return D="object"==typeof b?b.value:b,tC(D)?null:D}(e.limit));let p=null;var b;e.startAt&&(p=new jh((b=e.startAt).values||[],!!b.before));let _=null;return e.endAt&&(_=function(b){return new jh(b.values||[],!b.before)}(e.endAt)),function Ij(n,t,e,i,r,s,c,d){return new Qu(n,t,e,i,r,s,c,d)}(t,r,c,s,d,"F",p,_)}function cz(n){return n?void 0!==n.unaryFilter?[B7(n)]:void 0!==n.fieldFilter?[L7(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>cz(t)).reduce((t,e)=>t.concat(e)):yt():[]}function N7(n){return S7[n]}function F7(n){return M7[n]}function K_(n){return{fieldPath:n.canonicalString()}}function Q_(n){return gr.fromServerFormat(n.fieldPath)}function L7(n){return hs.create(Q_(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(n.fieldFilter.op),n.fieldFilter.value)}function B7(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Q_(n.unaryFilter.field);return hs.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Q_(n.unaryFilter.field);return hs.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Q_(n.unaryFilter.field);return hs.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Q_(n.unaryFilter.field);return hs.create(r,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}function uz(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class x1{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&v7(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=cC(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=cC(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Zj();return this.mutations.forEach(r=>{const s=t.get(r.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=e.has(r.key)?null:d;const p=Vj(c,d);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(Ot.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),en())}isEqual(t){return this.batchId===t.batchId&&U_(this.mutations,t.mutations,(e,i)=>Uj(e,i))&&U_(this.baseMutations,t.baseMutations,(e,i)=>Uj(e,i))}}class R1{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Gh{constructor(t,e,i,r,s=Ot.min(),c=Ot.min(),d=Tr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(t){return new Gh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Gh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Gh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class _z{constructor(t){this.ne=t}}function O1(n){const t=lz({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Sj(t,t.limit,"L"):t}class Zp{constructor(){}re(t,e){this.oe(t,e),e.ue()}oe(t,e){if("nullValue"in t)this.ce(e,5);else if("booleanValue"in t)this.ce(e,10),e.ae(t.booleanValue?1:0);else if("integerValue"in t)this.ce(e,15),e.ae(zi(t.integerValue));else if("doubleValue"in t){const i=zi(t.doubleValue);isNaN(i)?this.ce(e,13):(this.ce(e,15),nC(i)?e.ae(0):e.ae(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ce(e,20),"string"==typeof i?e.he(i):(e.he(`${i.seconds||""}`),e.ae(i.nanos||0))}else if("stringValue"in t)this.le(t.stringValue,e),this.fe(e);else if("bytesValue"in t)this.ce(e,30),e.de(Vp(t.bytesValue)),this.fe(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ce(e,45),e.ae(i.latitude||0),e.ae(i.longitude||0)}else"mapValue"in t?mj(t)?this.ce(e,Number.MAX_SAFE_INTEGER):(this.we(t.mapValue,e),this.fe(e)):"arrayValue"in t?(this.me(t.arrayValue,e),this.fe(e)):yt()}le(t,e){this.ce(e,25),this.ge(t,e)}ge(t,e){e.he(t)}we(t,e){const i=t.fields||{};this.ce(e,55);for(const r of Object.keys(i))this.le(r,e),this.oe(i[r],e)}me(t,e){const i=t.values||[];this.ce(e,50);for(const r of i)this.oe(r,e)}_e(t,e){this.ce(e,37),tt.fromName(t).path.forEach(i=>{this.ce(e,60),this.ge(i,e)})}ce(t,e){t.ae(e)}fe(t){t.ae(2)}}Zp.ye=new Zp;class dQ{constructor(){this.ze=new N1}addToCollectionParentIndex(t,e){return this.ze.add(e),_e.resolve()}getCollectionParents(t,e){return _e.resolve(this.ze.getEntries(e))}addFieldIndex(t,e){return _e.resolve()}deleteFieldIndex(t,e){return _e.resolve()}getDocumentsMatchingTarget(t,e){return _e.resolve(null)}getIndexType(t,e){return _e.resolve(0)}getFieldIndexes(t,e){return _e.resolve([])}getNextCollectionGroupToUpdate(t){return _e.resolve(null)}getMinOffset(t,e){return _e.resolve(sa.min())}getMinOffsetFromCollectionGroup(t,e){return _e.resolve(sa.min())}updateCollectionGroup(t,e,i){return _e.resolve()}updateIndexEntries(t,e){return _e.resolve()}}class N1{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Xn(Mn.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Xn(Mn.comparator)).toArray()}}new Uint8Array(0);class Lo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Lo(t,Lo.DEFAULT_COLLECTION_PERCENTILE,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Lo.DEFAULT_COLLECTION_PERCENTILE=10,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lo.DEFAULT=new Lo(41943040,Lo.DEFAULT_COLLECTION_PERCENTILE,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lo.DISABLED=new Lo(-1,0,0);class Qp{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new Qp(0)}static Rn(){return new Qp(-1)}}class wQ{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Bz{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&cC(i.mutation,r,oa.empty(),Fi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,en()).next(()=>i))}getLocalViewOfDocuments(t,e,i=en()){const r=Qc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let c=uC();return s.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=Qc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,en()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,i,r){let s=Fo();const c=dC(),d=dC();return e.forEach((p,_)=>{const b=i.get(_.key);r.has(_.key)&&(void 0===b||b.mutation instanceof Ju)?s=s.insert(_.key,_):void 0!==b&&(c.set(_.key,b.mutation.getFieldMask()),cC(b.mutation,_,b.mutation.getFieldMask(),Fi.now()))}),this.recalculateAndSaveOverlays(t,s).next(p=>(p.forEach((_,b)=>c.set(_,b)),e.forEach((_,b)=>{var D;return d.set(_,new wQ(b,null!==(D=c.get(_))&&void 0!==D?D:null))}),d))}recalculateAndSaveOverlays(t,e){const i=dC();let r=new ji((c,d)=>c-d),s=en();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(p=>{const _=e.get(p);if(null===_)return;let b=i.get(p)||oa.empty();b=d.applyToLocalView(_,b),i.set(p,b);const D=(r.get(d.batchId)||en()).add(p);r=r.insert(d.batchId,D)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),_=p.key,b=p.value,D=Zj();b.forEach(A=>{if(!s.has(A)){const O=Vj(e.get(A),i.get(A));null!==O&&D.set(A,O),s=s.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(t,_,D))}return _e.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return tt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):function w1(n){return null!==n.collectionGroup}(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):_e.resolve(Qc());let d=-1,p=s;return c.next(_=>_e.forEach(_,(b,D)=>(d<D.largestBatchId&&(d=D.largestBatchId),s.get(b)?_e.resolve():this.getBaseDocument(t,b,D).next(A=>{p=p.insert(b,A)}))).next(()=>this.populateOverlays(t,_,s)).next(()=>this.computeViews(t,p,_,en())).next(b=>({batchId:d,changes:qj(b)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new tt(e)).next(i=>{let r=uC();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=uC();return this.indexManager.getCollectionParents(t,r).next(c=>_e.forEach(c,d=>{const p=(_=e,b=d.child(r),new Qu(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(t,p,i).next(_=>{_.forEach((b,D)=>{s=s.insert(b,D)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(s=>{s.forEach((d,p)=>{const _=p.getKey();null===r.get(_)&&(r=r.insert(_,hi.newInvalidDocument(_)))});let c=uC();return r.forEach((d,p)=>{const _=s.get(d);void 0!==_&&cC(_.mutation,p,oa.empty(),Fi.now()),E1(e,p)&&(c=c.insert(d,p))}),c})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):_e.resolve(hi.newInvalidDocument(e))}}class CQ{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,e){return _e.resolve(this.Jn.get(e))}saveBundleMetadata(t,e){var i;return this.Jn.set(e.id,{id:(i=e).id,version:i.version,createTime:Gr(i.createTime)}),_e.resolve()}getNamedQuery(t,e){return _e.resolve(this.Yn.get(e))}saveNamedQuery(t,e){return this.Yn.set(e.name,{name:(i=e).name,query:O1(i.bundledQuery),readTime:Gr(i.readTime)}),_e.resolve();var i}}class EQ{constructor(){this.overlays=new ji(tt.comparator),this.Xn=new Map}getOverlay(t,e){return _e.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Qc();return _e.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.ie(t,e,s)}),_e.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(i)),_e.resolve()}getOverlaysForCollection(t,e,i){const r=Qc(),s=e.length+1,c=new tt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,_=p.getKey();if(!e.isPrefixOf(_.path))break;_.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return _e.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new ji((_,b)=>_-b);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===e&&_.largestBatchId>i){let b=s.get(_.largestBatchId);null===b&&(b=Qc(),s=s.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const d=Qc(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,b)=>d.set(_,b)),!(d.size()>=r)););return _e.resolve(d)}ie(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new R1(e,i));let s=this.Xn.get(e);void 0===s&&(s=en(),this.Xn.set(e,s)),this.Xn.set(e,s.add(i.key))}}class F1{constructor(){this.Zn=new Xn(Wr.ts),this.es=new Xn(Wr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const i=new Wr(t,e);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.rs(new Wr(t,e))}os(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new tt(new Mn([])),i=new Wr(e,t),r=new Wr(e,t+1),s=[];return this.es.forEachInRange([i,r],c=>{this.rs(c),s.push(c.key)}),s}cs(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new tt(new Mn([])),i=new Wr(e,t),r=new Wr(e,t+1);let s=en();return this.es.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(t){const e=new Wr(t,0),i=this.Zn.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Wr{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return tt.comparator(t.key,e.key)||Jt(t.ls,e.ls)}static ns(t,e){return Jt(t.ls,e.ls)||tt.comparator(t.key,e.key)}}class DQ{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.fs=1,this.ds=new Xn(Wr.ts)}checkEmpty(t){return _e.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.fs;this.fs++;const c=new x1(s,e,i,r);this.mutationQueue.push(c);for(const d of r)this.ds=this.ds.add(new Wr(d.key,s)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return _e.resolve(c)}lookupMutationBatch(t,e){return _e.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ws(e+1),s=r<0?0:r;return _e.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(t){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Wr(e,0),r=new Wr(e,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([i,r],c=>{const d=this._s(c.ls);s.push(d)}),_e.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Xn(Jt);return e.forEach(r=>{const s=new Wr(r,0),c=new Wr(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,c],d=>{i=i.add(d.ls)})}),_e.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;tt.isDocumentKey(s)||(s=s.child(""));const c=new Wr(new tt(s),0);let d=new Xn(Jt);return this.ds.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(d=d.add(p.ls)),!0)},c),_e.resolve(this.gs(d))}gs(t){const e=[];return t.forEach(i=>{const r=this._s(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Pt(0===this.ys(e.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return _e.forEach(e.mutations,r=>{const s=new Wr(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ds=i})}In(t){}containsKey(t,e){const i=new Wr(e,0),r=this.ds.firstAfterOrEqual(i);return _e.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return _e.resolve()}ys(t,e){return this.ws(t)}ws(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}_s(t){const e=this.ws(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class TQ{constructor(t){this.ps=t,this.docs=new ji(tt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,c=this.ps(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return _e.resolve(i?i.document.mutableCopy():hi.newInvalidDocument(e))}getEntries(t,e){let i=Fo();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():hi.newInvalidDocument(r))}),_e.resolve(i)}getAllFromCollection(t,e,i){let r=Fo();const s=new tt(e.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!e.isPrefixOf(d.path))break;d.path.length>e.length+1||f1(sj(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return _e.resolve(r)}getAllFromCollectionGroup(t,e,i,r){yt()}Is(t,e){return _e.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new IQ(this)}getSize(t){return _e.resolve(this.size)}}class IQ extends class yQ{constructor(){this.changes=new zh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,hi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?_e.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}{constructor(t){super(),this.zn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.zn.addEntry(t,r)):this.zn.removeEntry(i)}),_e.waitFor(e)}getFromCache(t,e){return this.zn.getEntry(t,e)}getAllFromCache(t,e){return this.zn.getEntries(t,e)}}class SQ{constructor(t){this.persistence=t,this.Ts=new zh(e=>jp(e),oC),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.Es=0,this.As=new F1,this.targetCount=0,this.Rs=Qp.An()}forEachTarget(t,e){return this.Ts.forEach((i,r)=>e(r)),_e.resolve()}getLastRemoteSnapshotVersion(t){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return _e.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Es&&(this.Es=e),_e.resolve()}vn(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new Qp(e),this.highestTargetId=e),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,e){return this.vn(e),this.targetCount+=1,_e.resolve()}updateTargetData(t,e){return this.vn(e),_e.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.us(e.targetId),this.targetCount-=1,_e.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Ts.forEach((c,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.Ts.delete(c),s.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),_e.waitFor(s).next(()=>r)}getTargetCount(t){return _e.resolve(this.targetCount)}getTargetData(t,e){const i=this.Ts.get(e)||null;return _e.resolve(i)}addMatchingKeys(t,e,i){return this.As.ss(e,i),_e.resolve()}removeMatchingKeys(t,e,i){this.As.os(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(c=>{s.push(r.markPotentiallyOrphaned(t,c))}),_e.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.As.us(e),_e.resolve()}getMatchingKeysForTargetId(t,e){const i=this.As.hs(e);return _e.resolve(i)}containsKey(t,e){return _e.resolve(this.As.containsKey(e))}}class Vz{constructor(t,e){this.bs={},this.overlays={},this.Ps=new No(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new SQ(this),this.indexManager=new dQ,this.remoteDocumentCache=new TQ(i=>this.referenceDelegate.Ss(i)),this.wt=new _z(e),this.Ds=new CQ(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new EQ,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.bs[t.toKey()];return i||(i=new DQ(e,this.referenceDelegate),this.bs[t.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,e,i){je("MemoryPersistence","Starting transaction:",t);const r=new MQ(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(s=>this.referenceDelegate.xs(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ns(t,e){return _e.or(Object.values(this.bs).map(i=>()=>i.containsKey(t,e)))}}class MQ extends class ZK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}{constructor(t){super(),this.currentSequenceNumber=t}}class dS{constructor(t){this.persistence=t,this.ks=new F1,this.Os=null}static Ms(t){return new dS(t)}get Fs(){if(this.Os)return this.Os;throw yt()}addReference(t,e,i){return this.ks.addReference(i,e),this.Fs.delete(i.toString()),_e.resolve()}removeReference(t,e,i){return this.ks.removeReference(i,e),this.Fs.add(i.toString()),_e.resolve()}markPotentiallyOrphaned(t,e){return this.Fs.add(e.toString()),_e.resolve()}removeTarget(t,e){this.ks.us(e.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Fs.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Cs(){this.Os=new Set}xs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.Fs,i=>{const r=tt.fromPath(i);return this.$s(t,r).next(s=>{s||e.removeEntry(r,Ot.min())})}).next(()=>(this.Os=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.Fs.delete(e.toString()):this.Fs.add(e.toString())})}Ss(t){return 0}$s(t,e){return _e.or([()=>_e.resolve(this.ks.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ns(t,e)])}}class U1{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Pi=i,this.vi=r}static Vi(t,e){let i=en(),r=en();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new U1(t,e.fromCache,i,r)}}class Hz{constructor(){this.Si=!1}initialize(t,e){this.Di=t,this.indexManager=e,this.Si=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ci(t,e).next(s=>s||this.xi(t,e,r,i)).next(s=>s||this.Ni(t,e))}Ci(t,e){return _e.resolve(null)}xi(t,e,i,r){return function f7(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(e)||r.isEqual(Ot.min())?this.Ni(t,e):this.Di.getDocuments(t,i).next(s=>{const c=this.ki(e,s);return this.Oi(e,c,i,r)?this.Ni(t,e):(u1()<=Co.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),C1(e)),this.Mi(t,c,e,function rj(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ot.fromTimestamp(1e9===i?new Fi(e+1,0):new Fi(e,i));return new sa(r,tt.empty(),t)}(r,-1)))})}ki(t,e){let i=new Xn(xj(t));return e.forEach((r,s)=>{E1(t,s)&&(i=i.add(s))}),i}Oi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ni(t,e){return u1()<=Co.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",C1(e)),this.Di.getDocumentsMatchingQuery(t,e,sa.min())}Mi(t,e,i,r){return this.Di.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(c=>{s=s.insert(c.key,c)}),s))}}class xQ{constructor(t,e,i,r){this.persistence=t,this.Fi=e,this.wt=r,this.$i=new ji(Jt),this.Bi=new zh(s=>jp(s),oC),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(i)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Bz(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.$i))}}function zz(n,t){return H1.apply(this,arguments)}function H1(){return H1=(0,pt.Z)(function*(n,t){const e=st(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.qi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],d=[];let p=en();for(const _ of r){c.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of s){d.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return e.localDocuments.getDocuments(i,p).next(_=>({Ki:_,removedBatchIds:c,addedBatchIds:d}))})})}),H1.apply(this,arguments)}function Gz(n){const t=st(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Vs.getLastRemoteSnapshotVersion(e))}function RQ(n,t){const e=st(n),i=t.snapshotVersion;let r=e.$i;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=e.Ui.newChangeBuffer({trackRemovals:!0});r=e.$i;const d=[];t.targetChanges.forEach((b,D)=>{const A=r.get(D);if(!A)return;d.push(e.Vs.removeMatchingKeys(s,b.removedDocuments,D).next(()=>e.Vs.addMatchingKeys(s,b.addedDocuments,D)));let O=A.withSequenceNumber(s.currentSequenceNumber);var B,ie,le;t.targetMismatches.has(D)?O=O.withResumeToken(Tr.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):b.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(b.resumeToken,i)),r=r.insert(D,O),ie=O,le=b,(0===(B=A).resumeToken.approximateByteSize()||ie.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0)&&d.push(e.Vs.updateTargetData(s,O))});let p=Fo(),_=en();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(s,b))}),d.push(function $z(n,t,e){let i=en(),r=en();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let c=Fo();return e.forEach((d,p)=>{const _=s.get(d);p.isFoundDocument()!==_.isFoundDocument()&&(r=r.add(d)),p.isNoDocument()&&p.version.isEqual(Ot.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||0===p.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):je("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",p.version)}),{Gi:c,Qi:r}})}(s,c,t.documentUpdates).next(b=>{p=b.Gi,_=b.Qi})),!i.isEqual(Ot.min())){const b=e.Vs.getLastRemoteSnapshotVersion(s).next(D=>e.Vs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(b)}return _e.waitFor(d).next(()=>c.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,p,_)).next(()=>p)}).then(s=>(e.$i=r,s))}function ey(n,t){const e=st(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Vs.getTargetData(i,t).next(s=>s?(r=s,_e.resolve(r)):e.Vs.allocateTargetId(i).next(c=>(r=new Gh(t,c,0,i.currentSequenceNumber),e.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.$i=e.$i.insert(i.targetId,i),e.Bi.set(t,i.targetId)),i})}function ty(n,t,e){return j1.apply(this,arguments)}function j1(){return j1=(0,pt.Z)(function*(n,t,e){const i=st(n),r=i.$i.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Lh(c))throw c;je("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.$i=i.$i.remove(t),i.Bi.delete(r.target)}),j1.apply(this,arguments)}function fS(n,t,e){const i=st(n);let r=Ot.min(),s=en();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,p,_){const b=st(d),D=b.Bi.get(_);return void 0!==D?_e.resolve(b.$i.get(D)):b.Vs.getTargetData(p,_)}(i,c,el(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(c,d.targetId).next(p=>{s=p})}).next(()=>i.Fi.getDocumentsMatchingQuery(c,t,e?r:Ot.min(),e?s:en())).next(d=>(function Zz(n,t,e){let i=Ot.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Li.set(t,i)}(i,function Aj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(t),d),{documents:d,ji:s})))}class q1{constructor(){this.activeTargetIds=tS()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Qz{constructor(){this.Fr=new q1,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,i){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new q1,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class FQ{Br(t){}shutdown(){}}class Jz{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const LQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class BQ{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class VQ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,i,r,s){const c=this.oo(t,e);je("RestConnection","Sending: ",c,i);const d={};return this.uo(d,r,s),this.co(t,c,d,i).then(p=>(je("RestConnection","Received: ",p),p),p=>{throw GI("RestConnection",`${t} failed with error: `,p,"url: ",c,"request:",i),p})}ao(t,e,i,r,s,c){return this.ro(t,e,i,r,s)}uo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+V_,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}oo(t,e){return`${this.so}/v1/${e}:${LQ[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,i,r){return new Promise((s,c)=>{const d=new VK;d.listenOnce(FK.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case c1.NO_ERROR:const _=d.getResponseJson();je("Connection","XHR received:",JSON.stringify(_)),s(_);break;case c1.TIMEOUT:je("Connection",'RPC "'+t+'" timed out'),c(new Ue(be.DEADLINE_EXCEEDED,"Request time out"));break;case c1.HTTP_ERROR:const b=d.getStatus();if(je("Connection",'RPC "'+t+'" failed with status:',b,"response text:",d.getResponseText()),b>0){const D=d.getResponseJson().error;if(D&&D.status&&D.message){const A=function(O){const B=O.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(B)>=0?B:be.UNKNOWN}(D.status);c(new Ue(A,D.message))}else c(new Ue(be.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Ue(be.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{je("Connection",'RPC "'+t+'" completed.')}});const p=JSON.stringify(r);d.send(e,"POST",p,i,15)})}ho(t,e,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=PK(),c=NK(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new BK({})),this.uo(d.initMessageHeaders,e,i),(0,V.uI)()||(0,V.b$)()||(0,V.d)()||(0,V.w1)()||(0,V.Mn)()||(0,V.ru)()||(d.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");je("Connection","Creating WebChannel: "+p,d);const _=s.createWebChannel(p,d);let b=!1,D=!1;const A=new BQ({jr:B=>{D?je("Connection","Not sending because WebChannel is closed:",B):(b||(je("Connection","Opening WebChannel transport."),_.open(),b=!0),je("Connection","WebChannel sending:",B),_.send(B))},Wr:()=>_.close()}),O=(B,ie,le)=>{B.listen(ie,Ve=>{try{le(Ve)}catch(Ze){setTimeout(()=>{throw Ze},0)}})};return O(_,zI.EventType.OPEN,()=>{D||je("Connection","WebChannel transport opened.")}),O(_,zI.EventType.CLOSE,()=>{D||(D=!0,je("Connection","WebChannel transport closed"),A.eo())}),O(_,zI.EventType.ERROR,B=>{D||(D=!0,GI("Connection","WebChannel transport errored:",B),A.eo(new Ue(be.UNAVAILABLE,"The operation could not be completed")))}),O(_,zI.EventType.MESSAGE,B=>{var ie;if(!D){const le=B.data[0];Pt(!!le);const Ve=le,Ze=Ve.error||(null===(ie=Ve[0])||void 0===ie?void 0:ie.error);if(Ze){je("Connection","WebChannel received error:",Ze);const Ye=Ze.status;let Je=function(Bt){const kn=mr[Bt];if(void 0!==kn)return $j(kn)}(Ye),Ut=Ze.message;void 0===Je&&(Je=be.INTERNAL,Ut="Unknown error status: "+Ye+" with message "+Ze.message),D=!0,A.eo(new Ue(Je,Ut)),_.close()}else je("Connection","WebChannel received:",le),A.no(le)}}),O(c,LK.STAT_EVENT,B=>{B.stat===JH.PROXY?je("Connection","Detected buffering proxy"):B.stat===JH.NOPROXY&&je("Connection","Detected no buffering proxy")}),setTimeout(()=>{A.Zr()},0),A}}function mS(){return"undefined"!=typeof document?document:null}function IC(n){return new A7(n,!0)}class Y1{constructor(t,e,i=1e3,r=1.5,s=6e4){this.js=t,this.timerId=e,this.lo=i,this.fo=r,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,e-i);r>0&&je("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class HQ extends class UQ{constructor(t,e,i,r,s,c,d,p){this.js=t,this.Ao=i,this.Ro=r,this.bo=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Y1(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,pt.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(t){this.Fo(),this.stream.send(t)}Oo(){var t=this;return(0,pt.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(t,e){var i=this;return(0,pt.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==t?i.So.reset():e&&e.code===be.RESOURCE_EXHAUSTED?(pr(e.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):e&&e.code===be.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===e&&this.Uo(i,r)},i=>{t(()=>{const r=new Ue(be.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(t,e){const i=this.Lo(this.Po);this.stream=this.Ko(t,e),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var t=this;this.state=5,this.So.Io((0,pt.Z)(function*(){t.state=0,t.start()}))}qo(t){return je("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.js.enqueueAndForget(()=>this.Po===t?e():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}{constructor(t,e,i,r,s,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.wt=s}Ko(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function R7(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:yt(),r=t.targetChange.targetIds||[],s=function(p,_){return p.dt?(Pt(void 0===_||"string"==typeof _),Tr.fromBase64String(_||"")):(Pt(void 0===_||_ instanceof Uint8Array),Tr.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const _=void 0===p.code?be.UNKNOWN:$j(p.code);return new Ue(_,p.message||"")}(c);e=new Kj(i,r,s,d||null)}else if("documentChange"in t){const i=t.documentChange,r=Jc(n,i.document.name),s=Gr(i.document.updateTime),c=new ds({mapValue:{fields:i.document.fields}}),d=hi.newFoundDocument(r,s,c);e=new nS(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){const i=t.documentDelete,r=Jc(n,i.document),s=i.readTime?Gr(i.readTime):Ot.min(),c=hi.newNoDocument(r,s);e=new nS([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=Jc(n,i.document);e=new nS([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return yt();{const i=t.filter,s=new w7(i.count||0);e=new Yj(i.targetId,s)}}var p;return e}(this.wt,t),i=function(r){if(!("targetChange"in r))return Ot.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Ot.min():s.readTime?Gr(s.readTime):Ot.min()}(t);return this.listener.Go(e,i)}Qo(t){const e={};e.database=mC(this.wt),e.addTarget=function(r,s){let c;const d=s.target;return c=QI(d)?{documents:oz(r,d)}:{query:az(r,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=function ez(n,t){return n.dt?t.toBase64():t.toUint8Array()}(r,s.resumeToken):s.snapshotVersion.compareTo(Ot.min())>0&&(c.readTime=function pC(n,t){return n.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}(r,s.snapshotVersion.toTimestamp())),c}(this.wt,t);const i=function P7(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Mo(e)}jo(t){const e={};e.database=mC(this.wt),e.removeTarget=t,this.Mo(e)}}class zQ extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new Ue(be.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.bo.ro(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ue(be.UNKNOWN,r.toString())})}ao(t,e,i,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.bo.ao(t,e,i,s,c,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ue(be.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class GQ{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(pr(e),this.su=!1):je("OnlineStateTracker",e)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class $Q{constructor(t,e,i,r,s){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(d=>{i.enqueueAndForget((0,pt.Z)(function*(){var p;qh(c)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,pt.Z)(function*(_){const b=st(_);b.lu.add(4),yield ny(b),b._u.set("Unknown"),b.lu.delete(4),yield SC(b)}),function(_){return p.apply(this,arguments)})(c))}))}),this._u=new GQ(i,r)}}function SC(n){return K1.apply(this,arguments)}function K1(){return K1=(0,pt.Z)(function*(n){if(qh(n))for(const t of n.fu)yield t(!0)}),K1.apply(this,arguments)}function ny(n){return Q1.apply(this,arguments)}function Q1(){return Q1=(0,pt.Z)(function*(n){for(const t of n.fu)yield t(!1)}),Q1.apply(this,arguments)}function _S(n,t){const e=st(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),eP(e)?X1(e):ry(e).Co()&&J1(e,t))}function MC(n,t){const e=st(n),i=ry(e);e.hu.delete(t),i.Co()&&eG(e,t),0===e.hu.size&&(i.Co()?i.ko():qh(e)&&e._u.set("Unknown"))}function J1(n,t){n.wu.Nt(t.targetId),ry(n).Qo(t)}function eG(n,t){n.wu.Nt(t),ry(n).jo(t)}function X1(n){n.wu=new I7({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),te:t=>n.hu.get(t)||null}),ry(n).start(),n._u.iu()}function eP(n){return qh(n)&&!ry(n).Do()&&n.hu.size>0}function qh(n){return 0===st(n).lu.size}function tG(n){n.wu=void 0}function WQ(n){return tP.apply(this,arguments)}function tP(){return tP=(0,pt.Z)(function*(n){n.hu.forEach((t,e)=>{J1(n,t)})}),tP.apply(this,arguments)}function qQ(n,t){return nP.apply(this,arguments)}function nP(){return nP=(0,pt.Z)(function*(n,t){tG(n),eP(n)?(n._u.uu(t),X1(n)):n._u.set("Unknown")}),nP.apply(this,arguments)}function ZQ(n,t,e){return iP.apply(this,arguments)}function iP(){return iP=(0,pt.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof Kj&&2===t.state&&t.cause)try{yield(i=(0,pt.Z)(function*(r,s){const c=s.cause;for(const d of s.targetIds)r.hu.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.hu.delete(d),r.wu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){je("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield yS(n,i)}else if(t instanceof nS?n.wu.Ut(t):t instanceof Yj?n.wu.zt(t):n.wu.Gt(t),!e.isEqual(Ot.min()))try{const i=yield Gz(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const c=r.wu.Yt(s);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const _=r.hu.get(p);_&&r.hu.set(p,_.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach(d=>{const p=r.hu.get(d);if(!p)return;r.hu.set(d,p.withResumeToken(Tr.EMPTY_BYTE_STRING,p.snapshotVersion)),eG(r,d);const _=new Gh(p.target,d,1,p.sequenceNumber);J1(r,_)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){je("RemoteStore","Failed to raise snapshot:",i),yield yS(n,i)}var i}),iP.apply(this,arguments)}function yS(n,t,e){return rP.apply(this,arguments)}function rP(){return rP=(0,pt.Z)(function*(n,t,e){if(!Lh(t))throw t;n.lu.add(1),yield ny(n),n._u.set("Offline"),e||(e=()=>Gz(n.localStore)),n.asyncQueue.enqueueRetryable((0,pt.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield SC(n)}))}),rP.apply(this,arguments)}function sG(n,t){return uP.apply(this,arguments)}function uP(){return uP=(0,pt.Z)(function*(n,t){const e=st(n);e.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const i=qh(e);e.lu.add(3),yield ny(e),i&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield SC(e)}),uP.apply(this,arguments)}function hP(){return hP=(0,pt.Z)(function*(n,t){const e=st(n);t?(e.lu.delete(2),yield SC(e)):t||(e.lu.add(2),yield ny(e),e._u.set("Unknown"))}),hP.apply(this,arguments)}function ry(n){return n.mu||(n.mu=function(t,e,i){const r=st(t);return r.tu(),new HQ(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:WQ.bind(null,n),Jr:qQ.bind(null,n),Go:ZQ.bind(null,n)}),n.fu.push(function(){var t=(0,pt.Z)(function*(e){e?(n.mu.No(),eP(n)?X1(n):n._u.set("Unknown")):(yield n.mu.stop(),tG(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}class fP{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,s){const c=Date.now()+i,d=new fP(t,e,c,r,s);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ue(be.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sy(n,t){if(pr("AsyncQueue",`${t}: ${n}`),Lh(n))return new Ue(be.UNAVAILABLE,`${t}: ${n}`);throw n}class oy{constructor(t){this.comparator=t?(e,i)=>t(e,i)||tt.comparator(e.key,i.key):(e,i)=>tt.comparator(e.key,i.key),this.keyedMap=uC(),this.sortedSet=new ji(this.comparator)}static emptySet(t){return new oy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof oy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new oy;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class oG{constructor(){this.yu=new ji(tt.comparator)}track(t){const e=t.doc.key,i=this.yu.get(e);i?0!==t.type&&3===i.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==i.type?this.yu=this.yu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.yu=this.yu.remove(e):1===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):yt():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,i)=>{t.push(i)}),t}}class ay{constructor(t,e,i,r,s,c,d,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p}static fromInitialDocuments(t,e,i,r){const s=[];return e.forEach(c=>{s.push({type:0,doc:c})}),new ay(t,e,oy.emptySet(e),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&aC(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class t9{constructor(){this.Iu=void 0,this.listeners=[]}}class n9{constructor(){this.queries=new zh(t=>Mj(t),aC),this.onlineState="Unknown",this.Tu=new Set}}function gP(){return gP=(0,pt.Z)(function*(n,t){const e=st(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new t9),r)try{s.Iu=yield e.onListen(i)}catch(c){const d=sy(c,`Initialization of query '${C1(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,s),s.listeners.push(t),t.Eu(e.onlineState),s.Iu&&t.Au(s.Iu)&&yP(e)}),gP.apply(this,arguments)}function _P(){return _P=(0,pt.Z)(function*(n,t){const e=st(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const c=s.listeners.indexOf(t);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),_P.apply(this,arguments)}function i9(n,t){const e=st(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const d of c.listeners)d.Au(r)&&(i=!0);c.Iu=r}}i&&yP(e)}function r9(n,t,e){const i=st(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function yP(n){n.Tu.forEach(t=>{t.next()})}class vP{constructor(t,e,i){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new ay(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),e=!0):this.Vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}Vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=ay.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class cG{constructor(t){this.key=t}}class uG{constructor(t){this.key=t}}class dG{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=en(),this.mutatedKeys=en(),this.Lu=xj(t),this.Uu=new oy(this.Lu)}get qu(){return this.Fu}Ku(t,e){const i=e?e.Gu:new oG,r=e?e.Uu:this.Uu;let s=e?e.mutatedKeys:this.mutatedKeys,c=r,d=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((b,D)=>{const A=r.get(b),O=E1(this.query,D)?D:null,B=!!A&&this.mutatedKeys.has(A.key),ie=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let le=!1;A&&O?A.data.isEqual(O.data)?B!==ie&&(i.track({type:3,doc:O}),le=!0):this.Qu(A,O)||(i.track({type:2,doc:O}),le=!0,(p&&this.Lu(O,p)>0||_&&this.Lu(O,_)<0)&&(d=!0)):!A&&O?(i.track({type:0,doc:O}),le=!0):A&&!O&&(i.track({type:1,doc:A}),le=!0,(p||_)&&(d=!0)),le&&(O?(c=c.add(O),s=ie?s.add(b):s.delete(b)):(c=c.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const b="F"===this.query.limitType?c.last():c.first();c=c.delete(b.key),s=s.delete(b.key),i.track({type:1,doc:b})}return{Uu:c,Gu:i,Oi:d,mutatedKeys:s}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const s=t.Gu.pu();s.sort((_,b)=>function(D,A){const O=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return O(D)-O(A)}(_.type,b.type)||this.Lu(_.doc,b.doc)),this.ju(i);const c=e?this.Wu():[],d=0===this.Bu.size&&this.current?1:0,p=d!==this.$u;return this.$u=d,0!==s.length||p?{snapshot:new ay(this.query,t.Uu,r,s,t.mutatedKeys,0===d,p,!1),zu:c}:{zu:c}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new oG,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=en(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const e=[];return t.forEach(i=>{this.Bu.has(i)||e.push(new uG(i))}),this.Bu.forEach(i=>{t.has(i)||e.push(new cG(i))}),e}Ju(t){this.Fu=t.ji,this.Bu=en();const e=this.Ku(t.documents);return this.applyChanges(e,!0)}Yu(){return ay.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class a9{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class l9{constructor(t){this.key=t,this.Xu=!1}}class c9{constructor(t,e,i,r,s,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new zh(d=>Mj(d),aC),this.ec=new Map,this.nc=new Set,this.sc=new ji(tt.comparator),this.ic=new Map,this.rc=new F1,this.oc={},this.uc=new Map,this.cc=Qp.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function u9(n,t){return bP.apply(this,arguments)}function bP(){return bP=(0,pt.Z)(function*(n,t){const e=zP(n);let i,r;const s=e.tc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.Yu();else{const c=yield ey(e.localStore,el(t));e.isPrimaryClient&&_S(e.remoteStore,c);const d=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield wP(e,t,i,"current"===d)}return r}),bP.apply(this,arguments)}function wP(n,t,e,i){return CP.apply(this,arguments)}function CP(){return CP=(0,pt.Z)(function*(n,t,e,i){n.hc=(b,D,A)=>{return(O=(0,pt.Z)(function*(B,ie,le,Ve){let Ze=ie.view.Ku(le);Ze.Oi&&(Ze=yield fS(B.localStore,ie.query,!1).then(({documents:Ut})=>ie.view.Ku(Ut,Ze)));const Ye=Ve&&Ve.targetChanges.get(ie.targetId),Je=ie.view.applyChanges(Ze,B.isPrimaryClient,Ye);return RP(B,ie.targetId,Je.zu),Je.snapshot}),function(B,ie,le,Ve){return O.apply(this,arguments)})(n,b,D,A);var O};const r=yield fS(n.localStore,t,!0),s=new dG(t,r.ji),c=s.Ku(r.documents),d=fC.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),p=s.applyChanges(c,n.isPrimaryClient,d);RP(n,e,p.zu);const _=new a9(t,e,s);return n.tc.set(t,_),n.ec.has(e)?n.ec.get(e).push(t):n.ec.set(e,[t]),p.snapshot}),CP.apply(this,arguments)}function d9(n,t){return EP.apply(this,arguments)}function EP(){return EP=(0,pt.Z)(function*(n,t){const e=st(n),i=e.tc.get(t),r=e.ec.get(i.targetId);if(r.length>1)return e.ec.set(i.targetId,r.filter(s=>!aC(s,t))),void e.tc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ty(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),MC(e.remoteStore,i.targetId),ly(e,i.targetId)}).catch(Fh))):(ly(e,i.targetId),yield ty(e.localStore,i.targetId,!0))}),EP.apply(this,arguments)}function hG(n,t){return TP.apply(this,arguments)}function TP(){return TP=(0,pt.Z)(function*(n,t){const e=st(n);try{const i=yield RQ(e.localStore,t);t.targetChanges.forEach((r,s)=>{const c=e.ic.get(s);c&&(Pt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.Xu=!0:r.modifiedDocuments.size>0?Pt(c.Xu):r.removedDocuments.size>0&&(Pt(c.Xu),c.Xu=!1))}),yield Xu(e,i,t)}catch(i){yield Fh(i)}}),TP.apply(this,arguments)}function fG(n,t,e){const i=st(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.tc.forEach((s,c)=>{const d=c.view.Eu(t);d.snapshot&&r.push(d.snapshot)}),function(s,c){const d=st(s);d.onlineState=c;let p=!1;d.queries.forEach((_,b)=>{for(const D of b.listeners)D.Eu(c)&&(p=!0)}),p&&yP(d)}(i.eventManager,t),r.length&&i.Zu.Go(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function f9(n,t,e){return IP.apply(this,arguments)}function IP(){return IP=(0,pt.Z)(function*(n,t,e){const i=st(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ic.get(t),s=r&&r.key;if(s){let c=new ji(tt.comparator);c=c.insert(s,hi.newNoDocument(s,Ot.min()));const d=en().add(s),p=new hC(Ot.min(),new Map,new Xn(Jt),c,d);yield hG(i,p),i.sc=i.sc.remove(s),i.ic.delete(t),OP(i)}else yield ty(i.localStore,t,!1).then(()=>ly(i,t,e)).catch(Fh)}),IP.apply(this,arguments)}function ly(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ec.get(t))n.tc.delete(i),e&&n.Zu.lc(i,e);n.ec.delete(t),n.isPrimaryClient&&n.rc.us(t).forEach(i=>{n.rc.containsKey(i)||pG(n,i)})}function pG(n,t){n.nc.delete(t.path.canonicalString());const e=n.sc.get(t);null!==e&&(MC(n.remoteStore,e),n.sc=n.sc.remove(t),n.ic.delete(e),OP(n))}function RP(n,t,e){for(const i of e)i instanceof cG?(n.rc.addReference(i.key,t),_9(n,i)):i instanceof uG?(je("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,t),n.rc.containsKey(i.key)||pG(n,i.key)):yt()}function _9(n,t){const e=t.key,i=e.path.canonicalString();n.sc.get(e)||n.nc.has(i)||(je("SyncEngine","New document in limbo: "+e),n.nc.add(i),OP(n))}function OP(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const t=n.nc.values().next().value;n.nc.delete(t);const e=new tt(Mn.fromString(t)),i=n.cc.next();n.ic.set(i,new l9(e)),n.sc=n.sc.insert(e,i),_S(n.remoteStore,new Gh(el(G_(e.path)),i,2,No.ot))}}function Xu(n,t,e){return PP.apply(this,arguments)}function PP(){return PP=(0,pt.Z)(function*(n,t,e){const i=st(n),r=[],s=[],c=[];var d;i.tc.isEmpty()||(i.tc.forEach((d,p)=>{c.push(i.hc(p,t,e).then(_=>{if(_){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,_.fromCache?"not-current":"current"),r.push(_);const b=U1.Vi(p.targetId,_);s.push(b)}}))}),yield Promise.all(c),i.Zu.Go(r),yield(d=(0,pt.Z)(function*(p,_){const b=st(p);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>_e.forEach(_,A=>_e.forEach(A.Pi,O=>b.persistence.referenceDelegate.addReference(D,A.targetId,O)).next(()=>_e.forEach(A.vi,O=>b.persistence.referenceDelegate.removeReference(D,A.targetId,O)))))}catch(D){if(!Lh(D))throw D;je("LocalStore","Failed to update sequence numbers: "+D)}for(const D of _){const A=D.targetId;if(!D.fromCache){const O=b.$i.get(A),ie=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);b.$i=b.$i.insert(A,ie)}}}),function(p,_){return d.apply(this,arguments)})(i.localStore,s))}),PP.apply(this,arguments)}function y9(n,t){return NP.apply(this,arguments)}function NP(){return NP=(0,pt.Z)(function*(n,t){const e=st(n);if(!e.currentUser.isEqual(t)){je("SyncEngine","User change. New user:",t.toKey());const i=yield zz(e.localStore,t);e.currentUser=t,(r=e).uc.forEach(c=>{c.forEach(d=>{d.reject(new Ue(be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Xu(e,i.Ki)}var r}),NP.apply(this,arguments)}function v9(n,t){const e=st(n),i=e.ic.get(t);if(i&&i.Xu)return en().add(i.key);{let r=en();const s=e.ec.get(t);if(!s)return r;for(const c of s){const d=e.tc.get(c);r=r.unionWith(d.view.qu)}return r}}function zP(n){const t=st(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=hG.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=v9.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=f9.bind(null,t),t.Zu.Go=i9.bind(null,t.eventManager),t.Zu.lc=r9.bind(null,t.eventManager),t}class M9{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,pt.Z)(function*(){e.wt=IC(t.databaseInfo.databaseId),e.sharedClientState=e.dc(t),e.persistence=e._c(t),yield e.persistence.start(),e.localStore=e.wc(t),e.gcScheduler=e.mc(t,e.localStore),e.indexBackfillerScheduler=e.gc(t,e.localStore)})()}mc(t,e){return null}gc(t,e){return null}wc(t){return function jz(n,t,e,i){return new xQ(n,t,e,i)}(this.persistence,new Hz,t.initialUser,this.wt)}_c(t){return new Vz(dS.Ms,this.wt)}dc(t){return new Qz}terminate(){var t=this;return(0,pt.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class $P{initialize(t,e){var i=this;return(0,pt.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>fG(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=y9.bind(null,i.syncEngine),yield function dP(n,t){return hP.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new n9}createDatastore(t){const e=IC(t.databaseInfo.databaseId),i=new VQ(t.databaseInfo);return new zQ(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=d=>fG(this.syncEngine,d,0),c=Jz.V()?new Jz:new FQ,new $Q(e,i,r,s,c);var e,i,r,s,c}createSyncEngine(t,e){return function(i,r,s,c,d,p,_){const b=new c9(i,r,s,c,d,p);return _&&(b.ac=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,pt.Z)(function*(e){const i=st(e);je("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield ny(i),i.du.shutdown(),i._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}class vS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class P9{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=jr.UNAUTHENTICATED,this.clientId=class nj{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=WK(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,pt.Z)(function*(d){je("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(je("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,pt.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(be.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pt.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=sy(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function yG(n,t){return WP.apply(this,arguments)}function WP(){return WP=(0,pt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,pt.Z)(function*(s){i.isEqual(s)||(yield zz(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),WP.apply(this,arguments)}function vG(n,t){return qP.apply(this,arguments)}function qP(){return qP=(0,pt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield ZP(n);je("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>sG(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>sG(t.remoteStore,s)),n.onlineComponents=t}),qP.apply(this,arguments)}function ZP(n){return YP.apply(this,arguments)}function YP(){return YP=(0,pt.Z)(function*(n){return n.offlineComponents||(je("FirestoreClient","Using default OfflineComponentProvider"),yield yG(n,new M9)),n.offlineComponents}),YP.apply(this,arguments)}function bS(n){return KP.apply(this,arguments)}function KP(){return KP=(0,pt.Z)(function*(n){return n.onlineComponents||(je("FirestoreClient","Using default OnlineComponentProvider"),yield vG(n,new $P)),n.onlineComponents}),KP.apply(this,arguments)}function cy(n){return XP.apply(this,arguments)}function XP(){return XP=(0,pt.Z)(function*(n){const t=yield bS(n),e=t.eventManager;return e.onListen=u9.bind(null,t.syncEngine),e.onUnlisten=d9.bind(null,t.syncEngine),e}),XP.apply(this,arguments)}const DG=new Map;function IG(n){if(tt.isDocumentKey(n))throw new Ue(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ue(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=function wS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":yt()}(n);throw new Ue(be.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}class MG{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ue(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ue(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function z9(n,t,e,i){if(!0===t&&!0===i)throw new Ue(be.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class AC{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MG({}),this._settingsFrozen=!1,t instanceof Vh?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ue(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vh(r.options.projectId)}(t))}get app(){if(!this._app)throw new Ue(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ue(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MG(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new UK;switch(e.type){case"gapi":const i=e.client;return Pt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new GK(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ue(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=DG.get(t);e&&(je("ComponentProvider","Removing Datastore"),DG.delete(t),e.terminate())}(this),Promise.resolve()}}class nr{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new nr(this.firestore,t,this._key)}}class xs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new xs(this.firestore,t,this._query)}}class eu extends xs{constructor(t,e,i){super(t,e,G_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new nr(this.firestore,null,new tt(t))}withConverter(t){return new eu(this.firestore,t,this._path)}}class q9{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Y1(this,"async_queue_retry"),this.Kc=()=>{const e=mS();e&&je("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=mS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const e=mS();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise(()=>{});const e=new zr;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Mc.push(t),this.jc()))}jc(){var t=this;return(0,pt.Z)(function*(){if(0!==t.Mc.length){try{yield t.Mc[0](),t.Mc.shift(),t.So.reset()}catch(e){if(!Lh(e))throw e;je("AsyncQueue","Operation failed with retryable error: "+e)}t.Mc.length>0&&t.So.Io(()=>t.jc())}})()}Qc(t){const e=this.Oc.then(()=>(this.Lc=!0,t().catch(i=>{throw this.Bc=i,this.Lc=!1,pr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Oc=e,e}enqueueAfterDelay(t,e,i){this.Gc(),this.qc.indexOf(t)>-1&&(e=0);const r=fP.createAndSchedule(this,t,e,i,s=>this.Wc(s));return this.$c.push(r),r}Gc(){this.Bc&&yt()}verifyOperationInProgress(){}zc(){var t=this;return(0,pt.Z)(function*(){let e;do{e=t.Oc,yield e}while(e!==t.Oc)})()}Hc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Jc(t){return this.zc().then(()=>{this.$c.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Yc(t){this.qc.push(t)}Wc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}function tN(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Ii extends AC{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new q9,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||AG(this),this._firestoreClient.terminate()}}function Y9(n=(0,Ci.getApp)()){return(0,Ci._getProvider)(n,"firestore").getImmediate()}function AG(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new e7(n._databaseId,s,n._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new P9(n._authCredentials,n._appCheckCredentials,n._queue,i)}class uy{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ue(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Xp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xp(Tr.fromBase64String(t))}catch(e){throw new Ue(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Xp(Tr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class nN{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ue(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ue(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Jt(this._lat,t._lat)||Jt(this._long,t._long)}}const nJ=new RegExp("[~\\*/\\[\\]]");function DS(n,t,e,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new Ue(be.INVALID_ARGUMENT,d+n+p)}class aN{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new iJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(TS("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class iJ extends aN{data(){return super.data()}}function TS(n,t){return"string"==typeof t?function ES(n,t,e){if(t.search(nJ)>=0)throw DS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new uy(...t.split("."))._internalPath}catch(i){throw DS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}(n,t):t instanceof uy?t._internalPath:t._delegate._internalPath}class tg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class hy extends aN{constructor(t,e,i,r,s,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new IS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(TS("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class IS extends hy{data(t={}){return super.data(t)}}class fy{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new tg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new IS(this._firestore,this._userDataWriter,i.key,i,new tg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ue(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new IS(i._firestore,i._userDataWriter,c.doc.key,c.doc,new tg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new IS(i._firestore,i._userDataWriter,c.doc.key,c.doc,new tg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),_=s.indexOf(c.doc.key)),{type:rJ(c.type),doc:d,oldIndex:p,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function rJ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}class zG{}class aJ extends zG{constructor(t,e){super(),this.fa=t,this.wa=e,this.type="orderBy"}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Ue(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ue(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new z_(r,s);return function(d,p){if(null===v1(d)){const _=b1(d);null!==_&&function KG(n,t,e){if(!e.isEqual(t))throw new Ue(be.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}(0,_,p.field)}}(i,c),c}(t._query,this.fa,this.wa);return new xs(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Qu(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class GG extends zG{constructor(t,e,i){super(),this.type=t,this.ma=e,this.ga=i}_apply(t){return new xs(t.firestore,t.converter,Sj(t._query,this.ma,this.ga))}}class ng extends class dJ{convertValue(t,e="none"){switch(Up(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Vp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw yt()}}convertObject(t,e){const i={};return Bp(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new nN(zi(t.latitude),zi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=dj(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(eC(t));default:return null}}convertTimestamp(t){const e=Bh(t);return new Fi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Mn.fromString(t);Pt(uz(i));const r=new Vh(i.get(1),i.get(3)),s=new tt(i.popFirst(5));return r.isEqual(e)||pr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xp(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new nr(this.firestore,null,e)}}!function(n,t=!0){V_=Ci.SDK_VERSION,(0,Ci._registerComponent)(new wo.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),s=new Ii(r,new jK(e.getProvider("auth-internal")),new $K(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC")),(0,Ci.registerVersion)(XH,"3.4.12",n),(0,Ci.registerVersion)(XH,"3.4.12","esm2017")}();var gJ={includeMetadataChanges:!1};function uN(n,t){return void 0===t&&(t=gJ),new gn.y(function(e){var i=function fJ(n,...t){var e,i,r;n=(0,V.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||tN(t[c])||(s=t[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if(tN(t[c])){const D=t[c];t[c]=null===(e=D.next)||void 0===e?void 0:e.bind(D),t[c+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),t[c+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let p,_,b;if(n instanceof nr)_=xn(n.firestore,Ii),b=G_(n._key.path),p={next:D=>{t[c]&&t[c](function cN(n,t,e){const i=e.docs.get(t._key),r=new ng(n);return new hy(n,r,t._key,i,new tg(e.hasPendingWrites,e.fromCache),t.converter)}(_,n,D))},error:t[c+1],complete:t[c+2]};else{const D=xn(n,xs);_=xn(D.firestore,Ii),b=D._query;const A=new ng(_);p={next:O=>{t[c]&&t[c](new fy(_,A,D,O))},error:t[c+1],complete:t[c+2]},function jG(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ue(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(D,A,O,B){const ie=new vS(B),le=new vP(A,ie,O);return D.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return function pP(n,t){return gP.apply(this,arguments)}(yield cy(D),le)})),()=>{ie.Tc(),D.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return function mP(n,t){return _P.apply(this,arguments)}(yield cy(D),le)}))}}(function Ir(n){return n._firestoreClient||AG(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}(_),b,d,p)}(n,t,{next:e.next.bind(e),error:e.error.bind(e),complete:e.complete.bind(e)});return{unsubscribe:i}})}function CJ(n,t){return void 0===t&&(t={}),function wJ(n){return uN(n,{includeMetadataChanges:!0}).pipe((0,ut.U)(function(t){return t.docs}))}(n).pipe((0,ut.U)(function(e){return e.map(function(i){return function JG(n,t){void 0===t&&(t={});var e=n.data();return!n.exists()||"object"!=typeof e||null===e||t.idField&&(e[t.idField]=n.id),e}(i,t)})}))}class MS{constructor(t){return t}}const n3="firestore",fN=new o.OlP("angularfire2.firestore-instances");function TJ(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new MS(i)}}const IJ={provide:class EJ{constructor(){return(0,dn.vb)(n3)}},deps:[[new o.FiY,fN]]},SJ={provide:MS,useFactory:function DJ(n,t){const e=(0,dn.JM)(n3,n,t);return e&&new MS(e)},deps:[[new o.FiY,fN],$s]};let MJ=(()=>{class n{constructor(){(0,vs.KN)("angularfire",dn.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[SJ,IJ]}),n})();function AJ(n,...t){return{ngModule:MJ,providers:[{provide:fN,useFactory:TJ(n),multi:!0,deps:[o.R0b,o.zs3,dn.HU,_u,[new o.FiY,LU],[new o.FiY,Tu],...t]}]}}const xJ=(0,dn.u3)(CJ,!0),kJ=(0,dn.u3)(Y9,!0);let r3=(()=>{class n{constructor(e,i,r){this.firestore=r,this.filters={stockLocationId:1},this.orders=[],this.pendingOrders=[],this.completedOrders=[],this.activatedFilters=[],this.booleanFilters=[{name:"Pedidos completados",action:this.completedFilter}],this.getOrdersData()}completedFilter(e){return e.hermexOrder?8==e.status.id:"drop off"==e.journey_state||"withdrawaled"==e.journey_state}doFilter(e){this.orders=this.orders.filter(e.action),this.activatedFilters.push(e)}getOrdersData(){var e;(null===(e=this.orders$)||void 0===e?void 0:e.unsubscribe)&&this.orders$.unsubscribe(),this.ordersRef=function G9(n,t,...e){if(n=(0,V.m9)(n),function eN(n,t,e){if(!e)throw new Ue(be.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}("collection","path",t),n instanceof AC){const i=Mn.fromString(t,...e);return IG(i),new eu(n,null,i)}{if(!(n instanceof nr||n instanceof eu))throw new Ue(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mn.fromString(t,...e));return IG(i),new eu(n.firestore,null,i)}}(this.firestore,"SPREE_ORDERS_"+this.filters.stockLocationId);const i=function sJ(n,...t){for(const e of t)n=e._apply(n);return n}(this.ordersRef,function lJ(n,t="asc"){const e=t,i=TS("orderBy",n);return new aJ(i,e)}("completed_at","asc"),function cJ(n){return function SG(n,t){if(t<=0)throw new Ue(be.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}("limit",n),new GG("limit",n,"F")}(100));this.orders$=xJ(i),this.orders$.subscribe(r=>{r.reverse(),console.log(r),this.orders=r,this.orders.forEach(s=>{s.badges=[],s.name.includes("Retiro en")?s.badges.push({abreviation:"RT",color:"green"}):s.hermexOrder?(console.log(s),s.badges.push({abreviation:"Hmx",color:"teal"})):s.journey_state&&s.badges.push({abreviation:"CAB",color:"purple"})})})}getOrderByNumber(e){return console.log(this.orders),this.orders.find(i=>i.number==e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fO),o.LFG(Ra),o.LFG(MS))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pN(n){return n&&"function"==typeof n.connect}class s3{applyChanges(t,e,i,r,s){t.forEachOperation((c,d,p)=>{let _,b;if(null==c.previousIndex){const D=i(c,d,p);_=e.createEmbeddedView(D.templateRef,D.context,D.index),b=1}else null==p?(e.remove(d),b=3):(_=e.get(d),e.move(_,p),b=2);s&&s({context:null==_?void 0:_.context,operation:b,record:c})})}detach(){}}class RJ{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new xt.x,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const RC=new o.OlP("_ViewRepeater"),OJ=["trigger"],PJ=["panel"];function NJ(n,t){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.placeholder)}}function FJ(n,t){if(1&n&&(o.TgZ(0,"span",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.triggerValue)}}function LJ(n,t){1&n&&o.Hsn(0,0,["*ngSwitchCase","true"])}function BJ(n,t){if(1&n&&(o.TgZ(0,"span",9),o.YNc(1,FJ,2,1,"span",10),o.YNc(2,LJ,1,0,"ng-content",11),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngSwitch",!!e.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function VJ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",13)(1,"div",14,15),o.NdJ("@transformPanel.done",function(r){return o.CHM(e),o.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return o.CHM(e),o.oxw()._handleKeydown(r)}),o.Hsn(3,1),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("@transformPanelWrap",void 0),o.xp6(1),o.Gre("mat-select-panel ",e._getPanelTheme(),""),o.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),o.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),o.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const UJ=[[["mat-select-trigger"]],"*"],HJ=["mat-select-trigger","*"],a3={transformPanelWrap:gh("transformPanelWrap",[Ga("* => void",d_("@transformPanel",[u_()],{optional:!0}))]),transformPanel:gh("transformPanel",[ta("void",Pi({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),ta("showing",Pi({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),ta("showing-multiple",Pi({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Ga("void => *",eo("120ms cubic-bezier(0, 0, 0.2, 1)")),Ga("* => void",eo("100ms 25ms linear",Pi({opacity:0})))])};let l3=0;const u3=new o.OlP("mat-select-scroll-strategy"),$J=new o.OlP("MAT_SELECT_CONFIG"),WJ={provide:u3,deps:[Ch],useFactory:function GJ(n){return()=>n.scrollStrategies.reposition()}};class qJ{constructor(t,e){this.source=t,this.value=e}}const ZJ=vT(oB(yT(aB(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r}})))),YJ=new o.OlP("MatSelectTrigger");let KJ=(()=>{class n extends ZJ{constructor(e,i,r,s,c,d,p,_,b,D,A,O,B,ie){var le,Ve,Ze;super(c,s,p,_,D),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=d,this._parentFormField=b,this._liveAnnouncer=B,this._defaultOptions=ie,this._panelOpen=!1,this._compareWith=(Ye,Je)=>Ye===Je,this._uid="mat-select-"+l3++,this._triggerAriaLabelledBy=null,this._destroy=new xt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+l3++,this._panelDoneAnimatingStream=new xt.x,this._overlayPanelClass=(null===(le=this._defaultOptions)||void 0===le?void 0:le.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(Ze=null===(Ve=this._defaultOptions)||void 0===Ve?void 0:Ve.disableOptionCentering)&&void 0!==Ze&&Ze,this.ariaLabel="",this.optionSelectionChanges=Fg(()=>{const Ye=this.options;return Ye?Ye.changes.pipe(jn(Ye),yn(()=>(0,Qi.T)(...Ye.map(Je=>Je.onSelectionChange)))):this._ngZone.onStable.pipe((0,Tn.q)(1),yn(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe(un(Ye=>Ye),(0,ut.U)(()=>{})),this._closedStream=this.openedChange.pipe(un(Ye=>!Ye),(0,ut.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==ie?void 0:ie.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=ie.typeaheadDebounceInterval),this._scrollStrategyFactory=O,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(A)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,r,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(V0.required))&&void 0!==s&&s}set required(e){this._required=Fn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Fn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Fn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Cb(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new RJ(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(ju(),In(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(In(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(jn(null),In(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,c=this._keyManager;if(!c.isTyping()&&s&&!ja(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;c.onKeydown(e);const p=this.selected;p&&d!==p&&this._liveAnnouncer.announce(p.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,c=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(c||13!==r&&32!==r||!i.activeItem||ja(e))if(!c&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const d=this.options.some(p=>!p.disabled&&!p.selected);this.options.forEach(p=>{p.disabled||(d?p.select():p.deselect())})}else{const d=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==d&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Tn.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch(s){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new ap(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(In(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(In(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Qi.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(In(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Qi.T)(...this.options.map(i=>i._stateChanges)).pipe(In(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(nw),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(jk),o.Y36(o.SBq),o.Y36(Ha,8),o.Y36(Hf,8),o.Y36(rh,8),o.Y36(pO,8),o.Y36(La,10),o.$8M("tabindex"),o.Y36(u3),o.Y36(HD),o.Y36($J,8))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&(o.Gf(OJ,5),o.Gf(PJ,5),o.Gf(NB,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.trigger=r.first),o.iGM(r=o.CRH())&&(i.panel=r.first),o.iGM(r=o.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),n})(),QJ=(()=>{class n extends KJ{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(In(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Tn.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=gB(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function nq(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new qJ(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let c;if(this.multiple)c=40;else if(this.disableOptionCentering)c=16;else{let _=this._selectionModel.selected[0]||this.options.first;c=_&&_.group?32:16}r||(c*=-1);const d=0-(e.left+c-(r?s:0)),p=e.right+c-i.width+(r?0:s);d>0?c+=d+8:p>0&&(c-=p+8),this._overlayDir.offsetX=Math.round(c),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const s=this._getItemHeight(),c=(s-this._triggerRect.height)/2,d=Math.floor(256/s);let p;return this.disableOptionCentering?0:(p=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-d))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*p-c))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,c=r.height-this._triggerRect.bottom-8,d=Math.abs(this._offsetY),_=Math.min(this._getItemCount()*i,256)-d-this._triggerRect.height;_>c?this._adjustPanelUp(_,c):d>s?this._adjustPanelDown(d,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),c=i*e-r;let d;d=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),d+=gB(d,this.options,this.optionGroups);const p=r/2;this._scrollTop=this._calculateOverlayScroll(d,p,c),this._offsetY=this._calculateOverlayOffsetY(d,p,c),this._checkOverlayWithinViewport(c)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,YJ,5),o.Suo(r,pB,5),o.Suo(r,fB,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.customTrigger=s.first),o.iGM(s=o.CRH())&&(i.options=s),o.iGM(s=o.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&o.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(o.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),o.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o._Bn([{provide:mI,useExisting:n},{provide:hB,useExisting:n}]),o.qOj],ngContentSelectors:HJ,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(o.F$t(UJ),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return i.toggle()}),o.TgZ(3,"div",2),o.YNc(4,NJ,2,1,"span",3),o.YNc(5,BJ,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5),o._UZ(7,"div",6),o.qZA()(),o.YNc(8,VJ,4,14,"ng-template",7),o.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=o.MAs(1);o.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",i.empty),o.uIk("id",i._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(3),o.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[PB,or,Yi,su,NB,xr],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[a3.transformPanelWrap,a3.transformPanel]},changeDetection:0}),n})(),d3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[WJ],imports:[[Vi,tR,mB,zn],w_,gO,mB,zn]}),n})();const XJ=[[["caption"]],[["colgroup"],["col"]]],eX=["caption","colgroup, col"];function gN(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Fn(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const gy=new o.OlP("CDK_TABLE");let my=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),_y=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),xS=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class rX{}const sX=gN(rX);let ed=(()=>{class n extends sX{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Fn(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(gy,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,my,5),o.Suo(r,_y,5),o.Suo(r,xS,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.cell=s.first),o.iGM(s=o.CRH())&&(i.headerCell=s.first),o.iGM(s=o.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[o._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})();class mN{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let _N=(()=>{class n extends mN{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ed),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[o.qOj]}),n})(),yN=(()=>{class n extends mN{constructor(e,i){var r;if(super(e,i),1===(null===(r=e._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const s=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===s||"treegrid"===s?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ed),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[o.qOj]}),n})();class f3{constructor(){this.tasks=[],this.endTasks=[]}}const vN=new o.OlP("_COALESCED_STYLE_SCHEDULER");let p3=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new xt.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new f3,this._getScheduleObservable().pipe(In(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new f3;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,qn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,Tn.q)(1))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),bN=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof PC?e.headerCell.template:this instanceof NC?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();class oX extends bN{}const aX=gN(oX);let PC=(()=>{class n extends aX{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(gy,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})();class lX extends bN{}const cX=gN(lX);let NC=(()=>{class n extends cX{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(gy,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})(),kS=(()=>{class n extends bN{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(gy,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[o.qOj]}),n})(),td=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),EN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},directives:[td],encapsulation:2}),n})(),RS=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const g3=["top","bottom","left","right"];class uX{constructor(t,e,i,r,s=!0,c=!0,d){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=c,this._positionListener=d,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(A=>A)&&!i.some(A=>A))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],c=s.children.length,d=this._getCellWidths(s,r),p=this._getStickyStartColumnPositions(d,e),_=this._getStickyEndColumnPositions(d,i),b=e.lastIndexOf(!0),D=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const A="rtl"===this.direction,O=A?"right":"left",B=A?"left":"right";for(const ie of t)for(let le=0;le<c;le++){const Ve=ie.children[le];e[le]&&this._addStickyStyle(Ve,O,p[le],le===b),i[le]&&this._addStickyStyle(Ve,B,_[le],le===D)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===b?[]:d.slice(0,b+1).map((ie,le)=>e[le]?ie:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===D?[]:d.slice(D).map((ie,le)=>i[le+D]?ie:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,c=[],d=[],p=[];for(let b=0,D=0;b<r.length;b++){if(!s[b])continue;c[b]=D;const A=r[b];p[b]=this._isNativeHtmlTable?Array.from(A.children):[A];const O=A.getBoundingClientRect().height;D+=O,d[b]=O}const _=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var b,D;for(let A=0;A<r.length;A++){if(!s[A])continue;const O=c[A],B=A===_;for(const ie of p[A])this._addStickyStyle(ie,i,O,B)}"top"===i?null===(b=this._positionListener)||void 0===b||b.stickyHeaderRowsUpdated({sizes:d,offsets:c,elements:p}):null===(D=this._positionListener)||void 0===D||D.stickyFooterRowsUpdated({sizes:d,offsets:c,elements:p})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);g3.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of g3)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}}const DN=new o.OlP("CDK_SPL");let OS=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),PS=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),NS=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),FS=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),LS=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,D,A,O){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=c,this._platform=p,this._viewRepeater=_,this._coalescedStyleScheduler=b,this._viewportRuler=D,this._stickyPositioningListener=A,this._ngZone=O,this._onDestroy=new xt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new o.vpe,this.viewChange=new Er({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=d,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Fn(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Fn(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(In(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),pN(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,s,c)=>this._getEmbeddedViewArgs(r.item,c),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&o.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,Tn.q)(1),In(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,c)=>{this._addStickyColumnStyles([s],this._headerRowDefs[c])}),this._rowDefs.forEach(s=>{const c=[];for(let d=0;d<i.length;d++)this._renderRows[d].rowDef===s&&c.push(i[d]);this._addStickyColumnStyles(c,s)}),r.forEach((s,c)=>{this._addStickyColumnStyles([s],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const c=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let d=0;d<c.length;d++){let p=c[d];const _=this._cachedRenderRowsMap.get(p.data);_.has(p.rowDef)?_.get(p.rowDef).push(p):_.set(p.rowDef,[p]),e.push(p)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(c=>{const d=r&&r.has(c)?r.get(c):[];if(d.length){const p=d.shift();return p.dataIndex=i,p}return{data:e,rowDef:c,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),BS(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=BS(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=BS(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=BS(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(c,d)=>c||!!d.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(e){this._data=[],pN(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;pN(this.dataSource)?e=this.dataSource.connect(this):function JJ(n){return!!n&&(n instanceof gn.y||(0,lr.m)(n.lift)&&(0,lr.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=at(this.dataSource)),this._renderChangeSubscription=e.pipe(In(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(d=>this._columnDefsByName.get(d)),s=r.map(d=>d.sticky),c=r.map(d=>d.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(c=>c.when&&c.when(i,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,s={}){const c=e.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),c}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))td.mostRecentCellOutlet&&td.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const c=e.get(i).context;c.count=r,c.first=0===i,c.last=i===r-1,c.even=i%2==0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[i].dataIndex,c.renderIndex=i):c.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const c of r.outlets)s.appendChild(c.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new uX(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:at()).pipe(In(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(e.templateRef),c=s.rootNodes[0];1===s.rootNodes.length&&(null==c?void 0:c.nodeType)===this._document.ELEMENT_NODE&&(c.setAttribute("role","row"),c.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.sBO),o.Y36(o.SBq),o.$8M("role"),o.Y36(Ha,8),o.Y36(ce),o.Y36(Br),o.Y36(RC),o.Y36(vN),o.Y36(nw),o.Y36(DN,12),o.Y36(o.R0b,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,RS,5),o.Suo(r,ed,5),o.Suo(r,kS,5),o.Suo(r,PC,5),o.Suo(r,NC,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._noDataRow=s.first),o.iGM(s=o.CRH())&&(i._contentColumnDefs=s),o.iGM(s=o.CRH())&&(i._contentRowDefs=s),o.iGM(s=o.CRH())&&(i._contentHeaderRowDefs=s),o.iGM(s=o.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(OS,7),o.Gf(PS,7),o.Gf(NS,7),o.Gf(FS,7)),2&e){let r;o.iGM(r=o.CRH())&&(i._rowOutlet=r.first),o.iGM(r=o.CRH())&&(i._headerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._footerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[o._Bn([{provide:gy,useExisting:n},{provide:RC,useClass:s3},{provide:vN,useClass:p3},{provide:DN,useValue:null}])],ngContentSelectors:eX,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(XJ),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0)(3,1)(4,2)(5,3))},directives:[PS,OS,FS,NS],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function BS(n,t){return n.concat(Array.from(t))}let hX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Jk]]}),n})();const fX=[[["caption"]],[["colgroup"],["col"]]],pX=["caption","colgroup, col"];let _3=(()=>{class n extends LS{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[o._Bn([{provide:RC,useClass:s3},{provide:LS,useExisting:n},{provide:gy,useExisting:n},{provide:vN,useClass:p3},{provide:DN,useValue:null}]),o.qOj],ngContentSelectors:pX,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(fX),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0)(3,1)(4,2)(5,3))},directives:[PS,OS,FS,NS],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),TN=(()=>{class n extends my{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matCellDef",""]],features:[o._Bn([{provide:my,useExisting:n}]),o.qOj]}),n})(),IN=(()=>{class n extends _y{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[o._Bn([{provide:_y,useExisting:n}]),o.qOj]}),n})(),SN=(()=>{class n extends ed{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[o._Bn([{provide:ed,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})(),MN=(()=>{class n extends _N{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[o.qOj]}),n})(),AN=(()=>{class n extends yN{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[o.qOj]}),n})(),y3=(()=>{class n extends kS{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[o._Bn([{provide:kS,useExisting:n}]),o.qOj]}),n})(),v3=(()=>{class n extends EN{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[o._Bn([{provide:EN,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},directives:[td],encapsulation:2}),n})(),b3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hX,zn],zn]}),n})();function SX(n,t){1&n&&(o.TgZ(0,"th",28),o._uU(1," N\xba Orden "),o.qZA())}const MX=function(n){return[n]};function AX(n,t){if(1&n&&(o.TgZ(0,"td",29),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("routerLink",o.VKq(2,MX,"/orders/"+e.number)),o.xp6(1),o.hij(" ",e.number," ")}}function xX(n,t){1&n&&(o.TgZ(0,"th",28),o._uU(1," N\xba Orden "),o.qZA())}function kX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",30)(1,"button",31)(2,"mat-icon"),o._uU(3,"receipt"),o.qZA()(),o.TgZ(4,"button",32),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).showItems()}),o.TgZ(5,"mat-icon"),o._uU(6,"receipt_long"),o.qZA()()()}}function RX(n,t){1&n&&(o.TgZ(0,"th",28),o._uU(1," Hora del pedido "),o.qZA())}function OX(n,t){if(1&n&&(o.TgZ(0,"td",30),o._uU(1),o.ALo(2,"date"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",o.xi3(2,1,e.completed_at,"dd/MM HH:mm:ss")," ")}}function PX(n,t){1&n&&(o.TgZ(0,"th",28),o._uU(1," Hora del pedido "),o.qZA())}function NX(n,t){if(1&n&&(o.TgZ(0,"td",30),o._uU(1),o.qZA()),2&n){const e=t.$implicit,i=o.oxw(2);o.xp6(1),o.hij(" ",i.stateName(e.state)," ")}}function FX(n,t){if(1&n&&(o.TgZ(0,"th",28),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.hij(" ",e," ")}}function LX(n,t){if(1&n&&(o.TgZ(0,"td",30),o._uU(1),o.qZA()),2&n){const e=t.$implicit,i=o.oxw().$implicit;o.xp6(1),o.hij(" ",e[i]," ")}}function BX(n,t){1&n&&(o.ynx(0,21),o.YNc(1,FX,2,1,"th",22),o.YNc(2,LX,2,1,"td",24),o.BQk()),2&n&&o.Q6J("matColumnDef",t.$implicit)}function VX(n,t){1&n&&o._UZ(0,"tr",33)}function UX(n,t){if(1&n&&(o.TgZ(0,"div",19)(1,"h1"),o._uU(2,"Ordenes"),o.qZA(),o._UZ(3,"div"),o.TgZ(4,"table",20),o.ynx(5,21),o.YNc(6,SX,2,0,"th",22),o.YNc(7,AX,2,4,"td",23),o.BQk(),o.ynx(8,21),o.YNc(9,xX,2,0,"th",22),o.YNc(10,kX,7,0,"td",24),o.BQk(),o.ynx(11,21),o.YNc(12,RX,2,0,"th",22),o.YNc(13,OX,3,4,"td",24),o.BQk(),o.ynx(14,21),o.YNc(15,PX,2,0,"th",22),o.YNc(16,NX,2,1,"td",24),o.BQk(),o.YNc(17,BX,3,1,"ng-container",25),o.YNc(18,VX,1,0,"tr",26),o.qZA(),o._UZ(19,"div",27),o.qZA()),2&n){const e=o.oxw();o.xp6(4),o.Q6J("dataSource",e.ordersProvider.orders),o.xp6(1),o.Q6J("matColumnDef","number"),o.xp6(3),o.Q6J("matColumnDef","actions"),o.xp6(3),o.Q6J("matColumnDef","completed_at"),o.xp6(3),o.Q6J("matColumnDef","state"),o.xp6(3),o.Q6J("ngForOf",e.commonColumns),o.xp6(1),o.Q6J("matRowDefColumns",e.columnsToDisplay)}}let w3=(()=>{class n{constructor(e,i){this.ordersProvider=e,this.formBuilder=i,this.columnsToDisplay=["number","name","completed_at","state","actions"],this.commonColumns=["name"],this.filtersForm=this.formBuilder.group({stockLocationId:[null],deliveryState:["Estado envio"]})}stateName(e){return"complete"===e?"Confirmado":e}showReceipt(){}showItems(){window.open("https://lomi.cl/admin/orders/R043007150/invoice")}changeStockLocation(){var e;this.ordersProvider.filters.stockLocationId=null===(e=this.filtersForm.get("stockLocationId"))||void 0===e?void 0:e.value,this.ordersProvider.getOrdersData()}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(r3),o.Y36(TE))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomii-orders"]],decls:52,vars:2,consts:[["autosize","",1,"example-container"],["opened","","mode","side","position","end",1,"actions-sidenav",2,"width","300px"],["drawer",""],[1,"p"],[3,"formGroup"],["matInput",""],["formControlName","deliveryState"],["value","frutasVerduras"],["value","bebidas"],["value","junta"],["value",""],["formControlName","stockLocationId",3,"selectionChange"],["value","25"],["value","1"],["value","24"],["value","28"],["value","27"],["value","-1"],["class","example-sidenav-content p",4,"ngIf"],[1,"example-sidenav-content","p"],["mat-table","",2,"width","100%",3,"dataSource"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","hoverable",3,"routerLink",4,"matCellDef"],["mat-cell","",4,"matCellDef"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"divider"],["mat-header-cell",""],["mat-cell","",1,"hoverable",3,"routerLink"],["mat-cell",""],["mat-mini-fab","","color","primary","aria-label","Example icon button with a menu icon"],["mat-mini-fab","","color","primary","aria-label","Example icon button with a menu icon",2,"margin-left","16px",3,"click"],["mat-row",""]],template:function(e,i){1&e&&(o.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"h3"),o._uU(5,"Filtros"),o.qZA(),o.TgZ(6,"form",4)(7,"mat-form-field")(8,"mat-label"),o._uU(9,"E-mail"),o.qZA(),o._UZ(10,"input",5),o.qZA(),o.TgZ(11,"mat-form-field")(12,"mat-label"),o._uU(13,"Numero de pedido empieza por"),o.qZA(),o._UZ(14,"input",5),o.qZA(),o.TgZ(15,"mat-form-field")(16,"mat-label"),o._uU(17,"Nombre empieza por"),o.qZA(),o._UZ(18,"input",5),o.qZA(),o.TgZ(19,"mat-form-field")(20,"mat-label"),o._uU(21,"Estado"),o.qZA(),o.TgZ(22,"mat-select",6)(23,"mat-option",7),o._uU(24,"Confirmado"),o.qZA(),o.TgZ(25,"mat-option",8),o._uU(26,"Preparando pedido"),o.qZA(),o.TgZ(27,"mat-option",9),o._uU(28,"Listo para el despacho"),o.qZA(),o.TgZ(29,"mat-option",10),o._uU(30,"En despacho"),o.qZA(),o.TgZ(31,"mat-option",10),o._uU(32,"Entregado"),o.qZA(),o.TgZ(33,"mat-option",10),o._uU(34,"Devuelto"),o.qZA()()(),o.TgZ(35,"mat-form-field")(36,"mat-label"),o._uU(37,"Tienda"),o.qZA(),o.TgZ(38,"mat-select",11),o.NdJ("selectionChange",function(){return i.changeStockLocation()}),o.TgZ(39,"mat-option",12),o._uU(40,"Vicu\xf1a Mackenna Poniente 6690 local 30 - La Florida"),o.qZA(),o.TgZ(41,"mat-option",13),o._uU(42,"Balmoral 309 local 217 - Las Condes"),o.qZA(),o.TgZ(43,"mat-option",14),o._uU(44,"Irarr\xe1zaval 200 local 107 - \xd1u\xf1oa"),o.qZA(),o.TgZ(45,"mat-option",15),o._uU(46,"Sewell 20, Local 3 - Machal\xed"),o.qZA(),o.TgZ(47,"mat-option",16),o._uU(48,"Av. Edmundo Eluchans 1737, Local 3 - Vi\xf1a del Mar"),o.qZA(),o.TgZ(49,"mat-option",17),o._uU(50,"Todos"),o.qZA()()()()()(),o.YNc(51,UX,20,7,"div",18),o.qZA()),2&e&&(o.xp6(6),o.Q6J("formGroup",i.filtersForm),o.xp6(45),o.Q6J("ngIf",i.ordersProvider.orders))},directives:[RT,kT,cA,xv,rh,SU,_I,xU,QJ,Nf,Gf,pB,Un,_3,SN,IN,MN,TN,AN,ku,Gk,xT,Vn,y3,v3],pipes:[dd],styles:[".order[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.order[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:30em}.order[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:2em;width:auto}"]}),n})();function HX(n,t){if(1&n&&(o.TgZ(0,"h5",11),o._uU(1,"SKU: "),o.TgZ(2,"b"),o._uU(3),o.qZA()()),2&n){const e=o.oxw();o.xp6(3),o.Oqu(e.lineItem.sku)}}let jX=(()=>{class n{constructor(){}get totalItem(){return this.lineItem.quantity*this.lineItem.price}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{const e=document.querySelector(".bars-"+this.lineItem.id);for(let i=0;i<this.lineItem.quantity;i++){const r=document.createElement("div");r.classList.add("bar"),r.style.width="100%",r.style.height="100%",1==this.lineItem.quantity?r.style.borderRadius="25px":i?i==this.lineItem.quantity-1&&(r.style.borderRadius="0 0 25px 25px"):r.style.borderRadius="25px 25px 0 0",r.style.border="1px solid white",r.style.backgroundColor="#00CCD9",null==e||e.appendChild(r)}},0)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomii-line-item"]],inputs:{lineItem:"lineItem"},decls:21,vars:9,consts:[[1,"line-item",2,"width","80%"],[1,"flex",2,"display","flex","justify-content","space-between","align-items","center","width","100%"],[1,"body"],[2,"margin-bottom","0"],["style","margin-top:0;opacity: 0.6;",4,"ngIf"],[2,"margin","0"],[1,"img-container"],["mat-card-image","","alt","Photo of a Shiba Inu",2,"width","5em","margin","0",3,"src"],[1,"agregator",2,"display","flex","justify-content","center","align-items","center","width","15%","border-radius","25px","position","absolute","background-color","white","height","100%","margin-left","100%","margin-top","-1.7em"],[2,"margin","0 !important","position","absolute"],[2,"width","100%","height","100%","display","flex","flex-direction","column"],[2,"margin-top","0","opacity","0.6"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-card",0)(1,"div",1)(2,"div",2)(3,"h4",3),o._uU(4),o.qZA(),o.YNc(5,HX,4,1,"h5",4),o.TgZ(6,"h5",5),o._uU(7,"Valor unidad: "),o.TgZ(8,"b"),o._uU(9),o.qZA()(),o.TgZ(10,"h5",5),o._uU(11,"Total : "),o.TgZ(12,"b"),o._uU(13),o.qZA()()(),o.TgZ(14,"div",6),o._UZ(15,"img",7),o.qZA()(),o.TgZ(16,"div",8)(17,"h1",9)(18,"b"),o._uU(19),o.qZA()(),o._UZ(20,"div",10),o.qZA()()),2&e&&(o.xp6(4),o.Oqu(i.lineItem.name),o.xp6(1),o.Q6J("ngIf",i.lineItem.sku),o.xp6(4),o.hij("$",i.lineItem.price,""),o.xp6(4),o.hij("$",i.totalItem,""),o.xp6(2),o.s9C("src",i.lineItem.img_url,o.LSH),o.xp6(4),o.Oqu(i.lineItem.quantity),o.xp6(1),o.Gre("bars-",i.lineItem.id,""))},directives:[SY,Un,IY],styles:["mat-card[_ngcontent-%COMP%]{display:flex}"]}),n})();function zX(n,t){1&n&&o._UZ(0,"lomii-line-item",11),2&n&&o.Q6J("lineItem",t.$implicit)}let GX=(()=>{class n{constructor(e,i){this.activatedRoute=e,this.ordersProvider=i,this.title="My first AGM project",this.lat=51.678418,this.lng=7.809007}evalType(e,i){return"array"==i?null==e?void 0:e.length:typeof e==i}ngOnInit(){this.activatedRoute.params.subscribe(e=>{this.order=this.ordersProvider.getOrderByNumber(e.number),console.log(this.order)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ra),o.Y36(r3))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomi-order"]],decls:34,vars:11,consts:[["autosize","",1,"example-container",2,"height","100%"],["opened","","mode","side","position","end",1,"example-sidenav",2,"width","300px","height","100%"],["drawer",""],[1,"p"],[2,"margin-bottom","0"],[2,"margin-top","0","margin-bottom","0"],[2,"margin-top","0"],[2,"margin-top","0","opacity","0.8"],[2,"margin-top","0","margin-bottom","0","opacity","0.8"],[1,"example-sidenav-content","p",2,"padding-bottom","10em"],[3,"lineItem",4,"ngFor","ngForOf"],[3,"lineItem"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"h1",4),o._uU(5),o.qZA(),o.TgZ(6,"h3",5)(7,"b"),o._uU(8),o.qZA()(),o.TgZ(9,"h3",5)(10,"b"),o._uU(11),o.qZA()(),o.TgZ(12,"h3",6),o._uU(13),o.qZA(),o.TgZ(14,"h1"),o._uU(15,"Cliente"),o.qZA(),o.TgZ(16,"h3",4),o._uU(17),o.qZA(),o.TgZ(18,"h4",7),o._uU(19),o.qZA(),o.TgZ(20,"h1"),o._uU(21,"Direcci\xf3n"),o.qZA(),o.TgZ(22,"h3",4),o._uU(23),o.qZA(),o.TgZ(24,"h4",8),o._uU(25),o.qZA(),o.TgZ(26,"h4",8),o._uU(27),o.qZA(),o.TgZ(28,"h4",7),o._uU(29),o.qZA()()(),o.TgZ(30,"div",9)(31,"h1"),o._uU(32,"Line Items"),o.qZA(),o.YNc(33,zX,1,1,"lomii-line-item",10),o.qZA()()),2&e&&(o.xp6(5),o.Oqu(i.order.number),o.xp6(3),o.Oqu(i.order.channel),o.xp6(3),o.hij("",i.order.miles_latam," Millas conseguidas"),o.xp6(2),o.hij("$",i.order.total,""),o.xp6(4),o.Oqu(i.order.name),o.xp6(2),o.Oqu(i.order.email),o.xp6(4),o.Oqu(i.order.ship_address_address1),o.xp6(2),o.Oqu(i.order.ship_address_address2),o.xp6(2),o.Oqu(i.order.ship_address_city),o.xp6(2),o.Oqu(i.order.ship_address_phone),o.xp6(4),o.Q6J("ngForOf",i.order.line_items))},directives:[RT,kT,Vn,jX],styles:["[_nghost-%COMP%]{font-size:.7em}.content[_ngcontent-%COMP%]{width:60vw}.image[_ngcontent-%COMP%]{width:40vw;height:100vh}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:-1;height:100%;width:auto;filter:contrast(.4);position:absolute;top:0}.image[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:12px}.ingredients-container[_ngcontent-%COMP%]{transition:.4s ease;background-color:#fff;box-shadow:-1px 0 5px 15px #0000}"]}),n})(),$X=(()=>{class n{constructor(e,i){this.auth=e,this.router=i,this.signedIn=!1,this.auth.authState.subscribe(r=>{console.log(r,"auth"),this.authState=r,this.signedIn=!!r,this.router.navigateByUrl("/")}),e.credential.subscribe(r=>{console.log(r,"cred")})}loginWithGoogle(){this.auth.signInWithPopup(new fc.Z.auth.GoogleAuthProvider)}login(e){}logout(){this.auth.signOut().then(e=>{console.log(e),this.router.navigateByUrl("/auth")})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Nr),o.LFG(dr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const WX=[{path:"auth",component:RU},{path:"",canActivate:[(()=>{class n{constructor(e,i){this.router=e,this.auth=i}canActivate(e,i){return this.auth.signedIn||this.router.navigateByUrl("auth"),this.auth.signedIn}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(dr),o.LFG($X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()],children:[{path:"dashboard",component:w3},{path:"orders",component:w3},{path:"orders/:number",component:GX},{path:"",redirectTo:"/dashboard",pathMatch:"full"}]}];let C3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Jd.forChild(WX)],Jd]}),n})();const xN_firebase={projectId:"lomi-35ab6",appId:"1:394847830425:web:ee909ee573e436db0f9308",storageBucket:"lomi-35ab6.appspot.com",locationId:"southamerica-east1",apiKey:"AIzaSyCC1UbhAV4WpCpUZsEiNPd_TVUD40Lh5Bc",authDomain:"lomi-35ab6.firebaseapp.com",messagingSenderId:"394847830425",measurementId:"G-E3L40DPW9M"};function qX(n,t){}class kN{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const ZX={dialogContainer:gh("dialogContainer",[ta("void, exit",Pi({opacity:0,transform:"scale(0.7)"})),ta("enter",Pi({transform:"none"})),Ga("* => enter",ik([eo("150ms cubic-bezier(0, 0, 0.2, 1)",Pi({transform:"none",opacity:1})),d_("@*",u_(),{optional:!0})])),Ga("* => void, * => exit",ik([eo("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Pi({opacity:0})),d_("@*",u_(),{optional:!0})]))])};let YX=(()=>{class n extends Yk{constructor(e,i,r,s,c,d,p,_){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=c,this._interactivityChecker=d,this._ngZone=p,this._focusMonitor=_,this._animationStateChanged=new o.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(b)),this._ariaLabelledBy=c.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=gb())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=gb(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=gb();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Sb),o.Y36(o.sBO),o.Y36(ce,8),o.Y36(kN),o.Y36(Tb),o.Y36(o.R0b),o.Y36(ph))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(wB,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},features:[o.qOj]}),n})(),KX=(()=>{class n extends YX{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&o.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(o.Ikx("id",i._id),o.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),o.d8E("@dialogContainer",i._state))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,qX,0,0,"ng-template",0)},directives:[wB],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[ZX.dialogContainer]}}),n})(),QX=0;class JX{constructor(t,e,i="mat-dialog-"+QX++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new xt.x,this._afterClosed=new xt.x,this._beforeClosed=new xt.x,this._state=0,e._id=i,e._animationStateChanged.pipe(un(r=>"opened"===r.state),(0,Tn.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(un(r=>"closed"===r.state),(0,Tn.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(un(r=>27===r.keyCode&&!this.disableClose&&!ja(r))).subscribe(r=>{r.preventDefault(),E3(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():E3(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(un(e=>"closing"===e.state),(0,Tn.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function E3(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const XX=new o.OlP("MatDialogData"),eee=new o.OlP("mat-dialog-default-options"),D3=new o.OlP("mat-dialog-scroll-strategy"),nee={provide:D3,deps:[Ch],useFactory:function tee(n){return()=>n.scrollStrategies.block()}};let iee=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,D){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=c,this._dialogRefConstructor=p,this._dialogContainerType=_,this._dialogDataToken=b,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new xt.x,this._afterOpenedAtThisLevel=new xt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Fg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(jn(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function see(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new kN),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),s=this._attachDialogContainer(r,i),c=this._attachDialogContent(e,s,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.afterClosed().subscribe(()=>this._removeOpenDialog(c)),this.afterOpened.next(c),s._initializeWithAttachedContent(),c}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new DT({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const s=o.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:kN,useValue:i}]}),c=new Zk(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return e.attach(c).instance}_attachDialogContent(e,i,r,s){const c=new this._dialogRefConstructor(r,i,s.id);if(e instanceof o.Rgc)i.attachTemplatePortal(new ET(e,null,{$implicit:s.data,dialogRef:c}));else{const d=this._createInjector(s,c,i),p=i.attachComponentPortal(new Zk(e,s.viewContainerRef,d,s.componentFactoryResolver));c.componentInstance=p.instance}return c.updateSize(s.width,s.height).updatePosition(s.position),c}_createInjector(e,i,r){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,c=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!s||!s.get(Ha,null,o.XFs.Optional))&&c.push({provide:Ha,useValue:{value:e.direction,change:at()}}),o.zs3.create({parent:s||this._injector,providers:c})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n}),n})(),ree=(()=>{class n extends iee{constructor(e,i,r,s,c,d,p,_){super(e,i,s,d,p,c,JX,KX,XX,_)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ch),o.LFG(o.zs3),o.LFG(et,8),o.LFG(eee,8),o.LFG(D3),o.LFG(n,12),o.LFG(eR),o.LFG($c,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),T3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[ree,nee],imports:[[tR,CB,zn],zn]}),n})();const uee={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},dee=new o.OlP("config",{providedIn:"root",factory:()=>({modules:uee})});let I3=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:dee,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Vi]]}),n})();const S3="firebasestorage.googleapis.com",M3="storageBucket";class Gi extends V.ZR{constructor(t,e){super(RN(t),`Firebase Storage: ${e} (${RN(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gi.prototype)}_codeEquals(t){return RN(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function RN(n){return"storage/"+n}function ON(){return new Gi("unknown","An unknown error occurred, please check the error payload for server response.")}function A3(){return new Gi("canceled","User canceled the upload/download.")}function x3(){return new Gi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function yy(n){return new Gi("invalid-argument",n)}function k3(){return new Gi("app-deleted","The Firebase app was deleted.")}function R3(n){return new Gi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function FC(n,t){return new Gi("invalid-format","String does not match format '"+n+"': "+t)}function LC(n){throw new Gi("internal-error","Internal error: "+n)}class ks{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=ks.makeFromUrl(t,e)}catch(r){return new ks(t,"")}if(""===i.path)return i;throw function wee(n){return new Gi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function _(Je){Je.path_=decodeURIComponent(Je.path)}const D=e.replace(/[.]/g,"\\."),Ye=[{regex:d,indices:{bucket:1,path:3},postModify:function s(Je){"/"===Je.path.charAt(Je.path.length-1)&&(Je.path_=Je.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${e===S3?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let Je=0;Je<Ye.length;Je++){const Ut=Ye[Je],Bt=Ut.regex.exec(t);if(Bt){let ir=Bt[Ut.indices.path];ir||(ir=""),i=new ks(Bt[Ut.indices.bucket],ir),Ut.postModify(i);break}}if(null==i)throw function bee(n){return new Gi("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class Tee{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function VS(n){return"string"==typeof n||n instanceof String}function O3(n){return PN()&&n instanceof Blob}function PN(){return"undefined"!=typeof Blob}function NN(n,t,e,i){if(i<t)throw yy(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw yy(`Invalid value for '${n}'. Expected ${e} or less.`)}function nd(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function P3(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Yh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Yh||(Yh={})),Yh))();class kee{constructor(t,e,i,r,s,c,d,p,_,b,D){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=b,this.connectionFactory_=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,O)=>{this.resolve_=A,this.reject_=O,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function Mee(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==d){const p=ON();p.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,p):p)}else c(r.canceled?this.appDelete_?k3():A3():function vee(){return new Gi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new US(!1,null,!0)):this.backoffId_=function Iee(n,t,e){let i=1,r=null,s=null,c=!1,d=0;function p(){return 2===d}let _=!1;function b(...le){_||(_=!0,t.apply(null,le))}function D(le){r=setTimeout(()=>{r=null,n(O,p())},le)}function A(){s&&clearTimeout(s)}function O(le,...Ve){if(_)return void A();if(le)return A(),void b.call(null,le,...Ve);if(p()||c)return A(),void b.call(null,le,...Ve);let Ye;i<64&&(i*=2),1===d?(d=2,Ye=0):Ye=1e3*(i+Math.random()),D(Ye)}let B=!1;function ie(le){B||(B=!0,A(),!_&&(null!==r?(le||(d=2),clearTimeout(r),D(0)):le||(d=1)))}return D(0),s=setTimeout(()=>{c=!0,ie(!0)},e),ie}((i,r)=>{if(r)return void i(!1,new US(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===Yh.NO_ERROR,p=s.getStatus();if(!d||this.isRetryStatusCode_(p)){const b=s.getErrorCode()===Yh.ABORT;return void i(!1,new US(!1,null,b))}const _=-1!==this.successCodes_.indexOf(p);i(!0,new US(_,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function See(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),s=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||s}}class US{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function Bee(...n){const t=function Lee(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(PN())return new Blob(n);throw new Gi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const aa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class FN{constructor(t,e){this.data=t,this.contentType=e||null}}function LN(n,t){switch(n){case aa.RAW:return new FN(N3(t));case aa.BASE64:case aa.BASE64URL:return new FN(F3(n,t));case aa.DATA_URL:return new FN(function jee(n){const t=new L3(n);return t.base64?F3(aa.BASE64,t.rest):function Hee(n){let t;try{t=decodeURIComponent(n)}catch(e){throw FC(aa.DATA_URL,"Malformed data URL.")}return N3(t)}(t.rest)}(t),function zee(n){return new L3(n).contentType}(t))}throw ON()}function N3(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function F3(n,t){switch(n){case aa.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw FC(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case aa.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw FC(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function Uee(n){return atob(n)}(t)}catch(r){throw FC(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class L3{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw FC(aa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function Gee(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class tu{constructor(t,e){let i=0,r="";O3(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(O3(this.data_)){const r=function Vee(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new tu(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new tu(i,!0)}}static getBlob(...t){if(PN()){const e=t.map(i=>i instanceof tu?i.data_:i);return new tu(Bee.apply(null,e))}{const e=t.map(c=>VS(c)?LN(aa.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(c=>{for(let d=0;d<c.length;d++)r[s++]=c[d]}),new tu(r,!0)}}uploadData(){return this.data_}}function BN(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function xee(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function B3(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function qee(n,t){return t}class lo{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||qee}}let HS=null;function BC(){if(HS)return HS;const n=[];n.push(new lo("bucket")),n.push(new lo("generation")),n.push(new lo("metageneration")),n.push(new lo("name","fullPath",!0));const e=new lo("name");e.xform=function t(s,c){return function Zee(n){return!VS(n)||n.length<2?n:B3(n)}(c)},n.push(e);const r=new lo("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new lo("timeCreated")),n.push(new lo("updated")),n.push(new lo("md5Hash",null,!0)),n.push(new lo("cacheControl",null,!0)),n.push(new lo("contentDisposition",null,!0)),n.push(new lo("contentEncoding",null,!0)),n.push(new lo("contentLanguage",null,!0)),n.push(new lo("contentType",null,!0)),n.push(new lo("metadata","customMetadata",!0)),HS=n,HS}function V3(n,t,e){const i=BN(t);return null===i?null:function Kee(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const c=e[s];i[c.local]=c.xform(i,t[c.server])}return function Yee(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new ks(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function VN(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const U3="prefixes";class nu{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function iu(n){if(!n)throw ON()}function jS(n,t){return function e(i,r){const s=V3(n,r,t);return iu(null!==s),s}}function vy(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function _ee(){return new Gi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function mee(){return new Gi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function gee(n){return new Gi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function yee(n){return new Gi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function VC(n){const t=vy(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function pee(n){return new Gi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function j3(n,t,e){const r=nd(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new nu(r,"GET",jS(n,e),c);return d.errorHandler=VC(t),d}function nte(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=nd(t.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,b=new nu(d,"GET",function ete(n,t){return function e(i,r){const s=function Xee(n,t,e){const i=BN(e);return null===i?null:function Jee(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[U3])for(const r of e[U3]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new ks(t,s));i.prefixes.push(c)}if(e.items)for(const r of e.items){const s=n._makeStorageReference(new ks(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return iu(null!==s),s}}(n,t.bucket),_);return b.urlParams=s,b.errorHandler=vy(t),b}function G3(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function ote(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class zS{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function UN(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){iu(!1)}return iu(!!e&&-1!==(t||["active"]).indexOf(e)),e}const ute={STATE_CHANGED:"state_changed"},co={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function HN(n){switch(n){case"running":case"pausing":case"canceling":return co.RUNNING;case"paused":return co.PAUSED;case"success":return co.SUCCESS;case"canceled":return co.CANCELED;default:return co.ERROR}}class dte{constructor(t,e,i){if(function Aee(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function by(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class fte extends class hte{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw LC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw LC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw LC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw LC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw LC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function tc(){return new fte}class Z3{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=BC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function ate(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c=G3(t,i,r),d={name:c.fullPath},p=nd(s,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},D=VN(c,e),B=new nu(p,"POST",function O(ie){let le;UN(ie);try{le=ie.getResponseHeader("X-Goog-Upload-URL")}catch(Ve){iu(!1)}return iu(VS(le)),le},n.maxUploadRetryTime);return B.urlParams=d,B.headers=b,B.body=D,B.errorHandler=vy(t),B}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,tc,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function lte(n,t,e,i){const p=new nu(e,"POST",function s(_){const b=UN(_,["active","final"]);let D=null;try{D=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch(O){iu(!1)}D||iu(!1);const A=Number(D);return iu(!isNaN(A)),new zS(A,i.size(),"final"===b)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=vy(t),p}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,tc,e,i);this._request=s,s.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new zS(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function cte(n,t,e,i,r,s,c,d){const p=new zS(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function Eee(){return new Gi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const _=p.total-p.current;let b=_;r>0&&(b=Math.min(b,r));const D=p.current,B={"X-Goog-Upload-Command":b===_?"upload, finalize":"upload","X-Goog-Upload-Offset":`${p.current}`},ie=i.slice(D,D+b);if(null===ie)throw x3();const Ye=new nu(e,"POST",function le(Je,Ut){const Bt=UN(Je,["active","final"]),kn=p.current+b,ir=i.size();let la;return la="final"===Bt?jS(t,s)(Je,Ut):null,new zS(kn,ir,"final"===Bt,la)},t.maxUploadRetryTime);return Ye.headers=B,Ye.body=ie.uploadData(),Ye.progressCallback=d||null,Ye.errorHandler=vy(n),Ye}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const d=this._ref.storage._makeRequest(c,tc,r,s);this._request=d,d.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=j3(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,tc,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function $3(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function d(){let Ye="";for(let Je=0;Je<2;Je++)Ye+=Math.random().toString().slice(2);return Ye}();c["Content-Type"]="multipart/related; boundary="+p;const _=G3(t,i,r),b=VN(_,e),O=tu.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+p+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===O)throw x3();const B={name:_.fullPath},ie=nd(s,n.host,n._protocol),Ve=n.maxUploadRetryTime,Ze=new nu(ie,"POST",jS(n,e),Ve);return Ze.urlParams=B,Ze.headers=c,Ze.body=O.uploadData(),Ze.errorHandler=vy(t),Ze}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,tc,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=A3(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=HN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new dte(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(HN(this._state)){case co.SUCCESS:by(this._resolve.bind(null,this.snapshot))();break;case co.CANCELED:case co.ERROR:by(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(HN(this._state)){case co.RUNNING:case co.PAUSED:t.next&&by(t.next.bind(t,this.snapshot))();break;case co.SUCCESS:t.complete&&by(t.complete.bind(t))();break;default:t.error&&by(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class ig{constructor(t,e){this._service=t,this._location=e instanceof ks?e:ks.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new ig(t,e)}get root(){const t=new ks(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return B3(this._location.path)}get storage(){return this._service}get parent(){const t=function $ee(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new ks(this._location.bucket,t);return new ig(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw R3(t)}}function K3(n,t,e){return jN.apply(this,arguments)}function jN(){return jN=(0,pt.Z)(function*(n,t,e){const r=yield Q3(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield K3(n,t,r.nextPageToken))}),jN.apply(this,arguments)}function Q3(n,t){null!=t&&"number"==typeof t.maxResults&&NN("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=nte(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,tc)}function Tte(n){n._throwIfRoot("getDownloadURL");const t=function ite(n,t,e){const r=nd(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new nu(r,"GET",function tte(n,t){return function e(i,r){const s=V3(n,r,t);return iu(null!==s),function Qee(n,t,e,i){const r=BN(t);if(null===r||!VS(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(_=>{const D=n.fullPath;return nd("/b/"+c(n.bucket)+"/o/"+c(D),e,i)+P3({alt:"media",token:_})})[0]}(s,r,n.host,n._protocol)}}(n,e),c);return d.errorHandler=VC(t),d}(n.storage,n._location,BC());return n.storage.makeRequestWithTokens(t,tc).then(e=>{if(null===e)throw function Dee(){return new Gi("no-download-url","The given file does not have any download URLs.")}();return e})}function J3(n,t){const e=function Wee(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new ks(n._location.bucket,e);return new ig(n.storage,i)}function X3(n,t){if(n instanceof zN){const e=n;if(null==e._bucket)throw function Cee(){return new Gi("no-default-bucket","No default bucket found. Did you set the '"+M3+"' property when initializing the app?")}();const i=new ig(e,e._bucket);return null!=t?X3(i,t):i}return void 0!==t?J3(n,t):n}function Ate(n,t){if(t&&function Ste(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof zN)return function Mte(n,t){return new ig(n,t)}(n,t);throw yy("To use ref(service, url), the first argument must be a Storage instance.")}return X3(n,t)}function e$(n,t){const e=null==t?void 0:t[M3];return null==e?null:ks.makeFromBucketSpec(e,n)}class zN{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=S3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ks.makeFromBucketSpec(r,this._host):e$(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?ks.makeFromBucketSpec(this._url,t):e$(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){NN("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){NN("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,pt.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,pt.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ig(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new Tee(k3());{const s=function Fee(n,t,e,i,r,s){const c=P3(n.urlParams),d=n.url+c,p=Object.assign({},n.headers);return function Pee(n,t){t&&(n["X-Firebase-GMPID"]=t)}(p,t),function Ree(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(p,e),function Oee(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(p,s),function Nee(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(p,i),new kee(d,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){var i=this;return(0,pt.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const t$="@firebase/storage";function r$(n,t){return Ate(n=(0,V.m9)(n),t)}function Ute(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new zN(e,i,r,t,Ci.SDK_VERSION)}!function Hte(){(0,Ci._registerComponent)(new wo.wA("storage",Ute,"PUBLIC").setMultipleInstances(!0)),(0,Ci.registerVersion)(t$,"0.9.9",""),(0,Ci.registerVersion)(t$,"0.9.9","esm2017")}();class GS{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class s${constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new GS(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new GS(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?c=>e(new GS(c,this,this._ref)):{next:e.next?c=>e.next(new GS(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class o${constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new id(t,this._service))}get items(){return this._delegate.items.map(t=>new id(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class id{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function Bte(n,t){return J3(n,t)}(this._delegate,t);return new id(e,this.storage)}get root(){return new id(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new id(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new s$(function kte(n,t,e){return function bte(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new Z3(n,new tu(t),e)}(n=(0,V.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=aa.RAW,i){this._throwIfRoot("putString");const r=LN(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new s$(new Z3(this._delegate,new tu(r.data,!0),s),this)}listAll(){return function Nte(n){return function Cte(n){const t={prefixes:[],items:[]};return K3(n,t).then(()=>t)}(n=(0,V.m9)(n))}(this._delegate).then(t=>new o$(t,this.storage))}list(t){return function Pte(n,t){return Q3(n=(0,V.m9)(n),t)}(this._delegate,t||void 0).then(e=>new o$(e,this.storage))}getMetadata(){return function Rte(n){return function Ete(n){n._throwIfRoot("getMetadata");const t=j3(n.storage,n._location,BC());return n.storage.makeRequestWithTokens(t,tc)}(n=(0,V.m9)(n))}(this._delegate)}updateMetadata(t){return function Ote(n,t){return function Dte(n,t){n._throwIfRoot("updateMetadata");const e=function rte(n,t,e,i){const s=nd(t.fullServerUrl(),n.host,n._protocol),d=VN(e,i),_=n.maxOperationRetryTime,b=new nu(s,"PATCH",jS(n,i),_);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=d,b.errorHandler=VC(t),b}(n.storage,n._location,t,BC());return n.storage.makeRequestWithTokens(e,tc)}(n=(0,V.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function Fte(n){return Tte(n=(0,V.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Lte(n){return function Ite(n){n._throwIfRoot("deleteObject");const t=function ste(n,t){const i=nd(t.fullServerUrl(),n.host,n._protocol),d=new nu(i,"DELETE",function c(p,_){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=VC(t),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,tc)}(n=(0,V.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw R3(t)}}class a${constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(l$(t))throw yy("ref() expected a child path but got a URL, use refFromURL instead.");return new id(r$(this._delegate,t),this)}refFromURL(t){if(!l$(t))throw yy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ks.makeFromUrl(t,this._delegate.host)}catch(e){throw yy("refFromUrl() expected a valid full URL but got an invalid one.")}return new id(r$(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function Vte(n,t,e,i={}){!function xte(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,V.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function l$(n){return/^[A-Za-z]+:\/\//.test(n)}function $te(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new a$(e,i)}function c$(n){const t=function qte(n){return new gn.y(t=>{const e=c=>t.next(c);e(n.snapshot);const s=n.on("state_changed",e);return n.then(c=>{e(c),t.complete()},c=>{e(n.snapshot),(c=>{t.error(c)})(c)}),function(){s()}}).pipe(sp(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,ut.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function $S(n){return{getDownloadURL:()=>at(void 0).pipe(dn.fc,yn(()=>n.getDownloadURL()),dn.iC),getMetadata:()=>at(void 0).pipe(dn.fc,yn(()=>n.getMetadata()),dn.iC),delete:()=>(0,qn.D)(n.delete()),child:t=>$S(n.child(t)),updateMetadata:t=>(0,qn.D)(n.updateMetadata(t)),put:(t,e)=>c$(n.put(t,e)),putString:(t,e,i)=>c$(n.putString(t,e,i)),list:t=>(0,qn.D)(n.list(t)),listAll:()=>(0,qn.D)(n.listAll())}}!function Wte(n){const t={TaskState:co,TaskEvent:ute,StringFormat:aa,Storage:a$,Reference:id};n.INTERNAL.registerComponent(new wo.wA("storage-compat",$te,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(QB.Z);const Zte=new o.OlP("angularfire2.storageBucket"),Yte=new o.OlP("angularfire2.storage.maxUploadRetryTime"),Kte=new o.OlP("angularfire2.storage.maxOperationRetryTime"),Qte=new o.OlP("angularfire2.storage.use-emulator");let Jte=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,D){const A=(0,pi.on)(e,c,i);this.storage=(0,pi.cc)(`${A.name}.storage.${r}`,"AngularFireStorage",A.name,()=>{const O=c.runOutsideAngular(()=>A.storage(r||void 0)),B=b;return B&&O.useEmulator(...B),p&&O.setMaxUploadRetryTime(p),_&&O.setMaxOperationRetryTime(_),O},[p,_])}ref(e){return $S(this.storage.ref(e))}refFromURL(e){return $S(this.storage.refFromURL(e))}upload(e,i,r){return $S(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pi.Dh),o.LFG(pi.xv,8),o.LFG(Zte,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(dn.HU),o.LFG(Yte,8),o.LFG(Kte,8),o.LFG(Qte,8),o.LFG(Tu,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Xte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),u$=(()=>{class n{constructor(){fc.Z.registerVersion("angularfire",dn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Jte],imports:[Xte]}),n})(),d$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),h$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[d$,bT,zn,EU],d$,zn]}),n})(),WS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class m${getNativeWindow(){return window}}class _${getNativeDocument(){return document}}const gne=[m$,_$];var rg=(()=>(function(n){n[n.HTTP=1]="HTTP",n[n.HTTPS=2]="HTTPS",n[n.AUTO=3]="AUTO"}(rg||(rg={})),rg))();const y$=new o.OlP("angular-google-maps LAZY_MAPS_API_CONFIG");let mne=(()=>{class n extends WS{constructor(e=null,i,r,s){super(),this.localeId=s,this._SCRIPT_ID="agmGoogleMapsApiScript",this.callbackName="agmLazyMapsAPILoader",this._config=e||{},this._windowRef=i,this._documentRef=r}load(){const e=this._windowRef.getNativeWindow();if(e.google&&e.google.maps)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;const i=this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);if(i)return this._assignScriptLoadingPromise(i),this._scriptLoadingPromise;const r=this._documentRef.getNativeDocument().createElement("script");return r.type="text/javascript",r.async=!0,r.defer=!0,r.id=this._SCRIPT_ID,r.src=this._getScriptSrc(this.callbackName),this._assignScriptLoadingPromise(r),this._documentRef.getNativeDocument().body.appendChild(r),this._scriptLoadingPromise}_assignScriptLoadingPromise(e){this._scriptLoadingPromise=new Promise((i,r)=>{this._windowRef.getNativeWindow()[this.callbackName]=()=>{i()},e.onerror=s=>{r(s)}})}_getScriptSrc(e){let r;switch(this._config&&this._config.protocol||rg.HTTPS){case rg.AUTO:r="";break;case rg.HTTP:r="http:";break;case rg.HTTPS:r="https:"}const c={v:this._config.apiVersion||"quarterly",callback:e,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language||("en-US"!==this.localeId?this.localeId:null)};return`${r}//${this._config.hostAndPath||"maps.googleapis.com/maps/api/js"}?${Object.keys(c).filter(p=>null!=c[p]).filter(p=>!Array.isArray(c[p])||Array.isArray(c[p])&&c[p].length>0).map(p=>{const _=c[p];return Array.isArray(_)?{key:p,value:_.join(",")}:{key:p,value:c[p]}}).map(p=>`${p.key}=${p.value}`).join("&")}`}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(y$,8),o.LFG(m$),o.LFG(_$),o.LFG(o.soG))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),S$=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[...gne,{provide:WS,useClass:mne},{provide:y$,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),M$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Vi,OU,NU,C3,kU,qB,KB,Om,_B,T3,I3.forRoot(),pi.hO.initializeApp(xN_firebase),Yo(()=>_g(xN_firebase)),AJ(()=>kJ()),u$,BZ,pf,HB,h$,sD,b3,d3,Pm,S$.forRoot({apiKey:"AIzaSyDY6JRoW_FGIBo4tld_Y7jEL-83NWiX-lw"})],OU,NU,C3,kU,_B,qB,KB,Om,T3,I3,u$,HB,h$,sD,S$,b3,d3,Pm]}),n})(),jne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Vi,M$]]}),n})(),zne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[EY]}),n.\u0275inj=o.cJS({providers:[],imports:[[uc,lq,Jd.forRoot([],{initialNavigation:"enabledBlocking"}),BW,jne,M$]]}),n})();(0,o.G48)(),wd().bootstrapModule(zne).catch(n=>console.error(n))},5867:(nt,Ee,F)=>{F.d(Ee,{C6:()=>o.getApps,KN:()=>o.registerVersion,Mq:()=>o.getApp,ZF:()=>o.initializeApp});var o=F(9681);(0,o.registerVersion)("firebase","9.9.0","app")},127:(nt,Ee,F)=>{F.d(Ee,{Z:()=>o.Z});var o=F(3942);o.Z.registerVersion("firebase","9.9.0","app-compat")},5881:(nt,Ee,F)=>{F.r(Ee);var o=F(9671),z=F(3942),P=F(6457),de=F(2090),ce=(F(9681),F(1877),F(4859));function pe(){return window}function X(){return(X=(0,o.Z)(function*(se,ne,te){var Ie;const{BuildInfo:Qe}=pe();(0,P.aq)(ne.sessionId,"AuthEvent did not contain a session ID");const ft=yield we(ne.sessionId),At={};return(0,P.ar)()?At.ibi=Qe.packageName:(0,P.as)()?At.apn=Qe.packageName:(0,P.at)(se,"operation-not-supported-in-this-environment"),Qe.displayName&&(At.appDisplayName=Qe.displayName),At.sessionId=ft,(0,P.au)(se,te,ne.type,void 0,null!==(Ie=ne.eventId)&&void 0!==Ie?Ie:void 0,At)})).apply(this,arguments)}function We(){return(We=(0,o.Z)(function*(se){const{BuildInfo:ne}=pe(),te={};(0,P.ar)()?te.iosBundleId=ne.packageName:(0,P.as)()?te.androidPackageName=ne.packageName:(0,P.at)(se,"operation-not-supported-in-this-environment"),yield(0,P.av)(se,te)})).apply(this,arguments)}function Ge(){return(Ge=(0,o.Z)(function*(se,ne,te){const{cordova:Ie}=pe();let Qe=()=>{};try{yield new Promise((ft,At)=>{let Qt=null;function Gt(){var $t;ft();const Zi=null===($t=Ie.plugins.browsertab)||void 0===$t?void 0:$t.close;"function"==typeof Zi&&Zi(),"function"==typeof(null==te?void 0:te.close)&&te.close()}function oi(){Qt||(Qt=window.setTimeout(()=>{At((0,P.aw)(se,"redirect-cancelled-by-user"))},2e3))}function _r(){"visible"===(null==document?void 0:document.visibilityState)&&oi()}ne.addPassiveListener(Gt),document.addEventListener("resume",oi,!1),(0,P.as)()&&document.addEventListener("visibilitychange",_r,!1),Qe=()=>{ne.removePassiveListener(Gt),document.removeEventListener("resume",oi,!1),document.removeEventListener("visibilitychange",_r,!1),Qt&&window.clearTimeout(Qt)}})}finally{Qe()}})).apply(this,arguments)}function we(se){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,o.Z)(function*(se){const ne=Le(se),te=yield crypto.subtle.digest("SHA-256",ne);return Array.from(new Uint8Array(te)).map(Qe=>Qe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Le(se){if((0,P.aq)(/[0-9a-zA-Z]+/.test(se),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(se);const ne=new ArrayBuffer(se.length),te=new Uint8Array(ne);for(let Ie=0;Ie<se.length;Ie++)te[Ie]=se.charCodeAt(Ie);return te}class et extends P.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ne=>{this.resolveInialized=ne})}addPassiveListener(ne){this.passiveListeners.add(ne)}removePassiveListener(ne){this.passiveListeners.delete(ne)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ne){return this.resolveInialized(),this.passiveListeners.forEach(te=>te(ne)),super.onEvent(ne)}initialized(){var ne=this;return(0,o.Z)(function*(){yield ne.initPromise})()}}function fe(se){return ve.apply(this,arguments)}function ve(){return(ve=(0,o.Z)(function*(se){const ne=yield $()._get(ee(se));return ne&&(yield $()._remove(ee(se))),ne})).apply(this,arguments)}function j(){const se=[],ne="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let te=0;te<20;te++){const Ie=Math.floor(Math.random()*ne.length);se.push(ne.charAt(Ie))}return se.join("")}function $(){return(0,P.ay)(P.b)}function ee(se){return(0,P.az)("authEvent",se.config.apiKey,se.name)}function He(se){if(!(null==se?void 0:se.includes("?")))return{};const[ne,...te]=se.split("?");return(0,de.zd)(te.join("?"))}function ot(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function zt(){var se;return(null===(se=null==self?void 0:self.location)||void 0===se?void 0:se.protocol)||null}function Gn(se=(0,de.z$)()){return!("file:"!==zt()&&"ionic:"!==zt()&&"capacitor:"!==zt()||!se.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sr(){try{const se=self.localStorage,ne=P.aI();if(se)return se.setItem(ne,"1"),se.removeItem(ne),!function Rs(se=(0,de.z$)()){return function $i(){return(0,de.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Kn(se=(0,de.z$)()){return/Edge\/\d+/.test(se)}(se)}()||(0,de.hl)()}catch(se){return Yr()&&(0,de.hl)()}return!1}function Yr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ei(){return(function pn(){return"http:"===zt()||"https:"===zt()}()||(0,de.ru)()||Gn())&&!function Zr(){return(0,de.b$)()||(0,de.UG)()}()&&Sr()&&!Yr()}function fs(){return Gn()&&"undefined"!=typeof document}function Wi(){return(Wi=(0,o.Z)(function*(){return!!fs()&&new Promise(se=>{const ne=setTimeout(()=>{se(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ne),se(!0)})})})).apply(this,arguments)}const _n={LOCAL:"local",NONE:"none",SESSION:"session"},_i=P.ax,qi="persistence";function Wn(se){return vi.apply(this,arguments)}function vi(){return(vi=(0,o.Z)(function*(se){yield se._initializationPromise;const ne=qt(),te=P.az(qi,se.config.apiKey,se.name);ne&&ne.setItem(te,se._getPersistence())})).apply(this,arguments)}function qt(){var se;try{return(null===(se=function $n(){return"undefined"!=typeof window?window:null}())||void 0===se?void 0:se.sessionStorage)||null}catch(ne){return null}}const mt=P.ax;class ct{constructor(){this.browserResolver=P.ay(P.k),this.cordovaResolver=P.ay(class fn{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(ne){var te=this;return(0,o.Z)(function*(){const Ie=ne._key();let Qe=te.eventManagers.get(Ie);return Qe||(Qe=new et(ne),te.eventManagers.set(Ie,Qe),te.attachCallbackListeners(ne,Qe)),Qe})()}_openPopup(ne){(0,P.at)(ne,"operation-not-supported-in-this-environment")}_openRedirect(ne,te,Ie,Qe){var ft=this;return(0,o.Z)(function*(){!function ye(se){var ne,te,Ie,Qe,ft,At,Qt,Gt,oi,_r;const $t=pe();(0,P.ax)("function"==typeof(null===(ne=null==$t?void 0:$t.universalLinks)||void 0===ne?void 0:ne.subscribe),se,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(void 0!==(null===(te=null==$t?void 0:$t.BuildInfo)||void 0===te?void 0:te.packageName),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(ft=null===(Qe=null===(Ie=null==$t?void 0:$t.cordova)||void 0===Ie?void 0:Ie.plugins)||void 0===Qe?void 0:Qe.browsertab)||void 0===ft?void 0:ft.openUrl),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Gt=null===(Qt=null===(At=null==$t?void 0:$t.cordova)||void 0===At?void 0:At.plugins)||void 0===Qt?void 0:Qt.browsertab)||void 0===Gt?void 0:Gt.isAvailable),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(_r=null===(oi=null==$t?void 0:$t.cordova)||void 0===oi?void 0:oi.InAppBrowser)||void 0===_r?void 0:_r.open),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ne);const At=yield ft._initialize(ne);yield At.initialized(),At.resetRedirect(),(0,P.aD)(),yield ft._originValidation(ne);const Qt=function Me(se,ne,te=null){return{type:ne,eventId:te,urlResponse:null,sessionId:j(),postBody:null,tenantId:se.tenantId,error:(0,P.aw)(se,"no-auth-event")}}(ne,Ie,Qe);yield function it(se,ne){return $()._set(ee(se),ne)}(ne,Qt);const Gt=yield function K(se,ne,te){return X.apply(this,arguments)}(ne,Qt,te),oi=yield function xe(se){const{cordova:ne}=pe();return new Promise(te=>{ne.plugins.browsertab.isAvailable(Ie=>{let Qe=null;Ie?ne.plugins.browsertab.openUrl(se):Qe=ne.InAppBrowser.open(se,(0,P.ap)()?"_blank":"_system","location=yes"),te(Qe)})})}(Gt);return function Be(se,ne,te){return Ge.apply(this,arguments)}(ne,At,oi)})()}_isIframeWebStorageSupported(ne,te){throw new Error("Method not implemented.")}_originValidation(ne){const te=ne._key();return this.originValidationPromises[te]||(this.originValidationPromises[te]=function he(se){return We.apply(this,arguments)}(ne)),this.originValidationPromises[te]}attachCallbackListeners(ne,te){const{universalLinks:Ie,handleOpenURL:Qe,BuildInfo:ft}=pe(),At=setTimeout((0,o.Z)(function*(){yield fe(ne),te.onEvent(ot())}),500),Qt=function(){var _r=(0,o.Z)(function*($t){clearTimeout(At);const Zi=yield fe(ne);let ps=null;Zi&&(null==$t?void 0:$t.url)&&(ps=function N(se,ne){var te,Ie;const Qe=function W(se){const ne=He(se),te=ne.link?decodeURIComponent(ne.link):void 0,Ie=He(te).link,Qe=ne.deep_link_id?decodeURIComponent(ne.deep_link_id):void 0;return He(Qe).link||Qe||Ie||te||se}(ne);if(Qe.includes("/__/auth/callback")){const ft=He(Qe),At=ft.firebaseError?function ue(se){try{return JSON.parse(se)}catch(ne){return null}}(decodeURIComponent(ft.firebaseError)):null,Qt=null===(Ie=null===(te=null==At?void 0:At.code)||void 0===te?void 0:te.split("auth/"))||void 0===Ie?void 0:Ie[1],Gt=Qt?(0,P.aw)(Qt):null;return Gt?{type:se.type,eventId:se.eventId,tenantId:se.tenantId,error:Gt,urlResponse:null,sessionId:null,postBody:null}:{type:se.type,eventId:se.eventId,tenantId:se.tenantId,sessionId:se.sessionId,urlResponse:Qe,postBody:null}}return null}(Zi,$t.url)),te.onEvent(ps||ot())});return function(Zi){return _r.apply(this,arguments)}}();void 0!==Ie&&"function"==typeof Ie.subscribe&&Ie.subscribe(null,Qt);const Gt=Qe,oi=`${ft.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var _r=(0,o.Z)(function*($t){if($t.toLowerCase().startsWith(oi)&&Qt({url:$t}),"function"==typeof Gt)try{Gt($t)}catch(Zi){console.error(Zi)}});return function($t){return _r.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(ne){var te=this;return(0,o.Z)(function*(){return yield te.selectUnderlyingResolver(),te.assertedUnderlyingResolver._initialize(ne)})()}_openPopup(ne,te,Ie,Qe){var ft=this;return(0,o.Z)(function*(){return yield ft.selectUnderlyingResolver(),ft.assertedUnderlyingResolver._openPopup(ne,te,Ie,Qe)})()}_openRedirect(ne,te,Ie,Qe){var ft=this;return(0,o.Z)(function*(){return yield ft.selectUnderlyingResolver(),ft.assertedUnderlyingResolver._openRedirect(ne,te,Ie,Qe)})()}_isIframeWebStorageSupported(ne,te){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ne,te)}_originValidation(ne){return this.assertedUnderlyingResolver._originValidation(ne)}get _shouldInitProactively(){return fs()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ne=this;return(0,o.Z)(function*(){if(ne.underlyingResolver)return;const te=yield function wt(){return Wi.apply(this,arguments)}();ne.underlyingResolver=te?ne.cordovaResolver:ne.browserResolver})()}}function Mr(se){return se.unwrap()}function Zt(se){return ti(se)}function ti(se){const{_tokenResponse:ne}=se instanceof de.ZR?se.customData:se;if(!ne)return null;if(!(se instanceof de.ZR)&&"temporaryProof"in ne&&"phoneNumber"in ne)return P.P.credentialFromResult(se);const te=ne.providerId;if(!te||te===P.o.PASSWORD)return null;let Ie;switch(te){case P.o.GOOGLE:Ie=P.Q;break;case P.o.FACEBOOK:Ie=P.N;break;case P.o.GITHUB:Ie=P.T;break;case P.o.TWITTER:Ie=P.W;break;default:const{oauthIdToken:Qe,oauthAccessToken:ft,oauthTokenSecret:At,pendingToken:Qt,nonce:Gt}=ne;return ft||At||Qe||Qt?Qt?te.startsWith("saml.")?P.aL._create(te,Qt):P.J._fromParams({providerId:te,signInMethod:te,pendingToken:Qt,idToken:Qe,accessToken:ft}):new P.U(te).credential({idToken:Qe,accessToken:ft,rawNonce:Gt}):null}return se instanceof de.ZR?Ie.credentialFromError(se):Ie.credentialFromResult(se)}function Rn(se,ne){return ne.catch(te=>{throw te instanceof de.ZR&&function Kr(se,ne){var te,Ie;const Qe=null===(te=ne.customData)||void 0===te?void 0:te._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Ie=ne)||void 0===Ie?void 0:Ie.code))ne.resolver=new Q(se,P.an(se,ne));else if(Qe){const ft=ti(ne),At=ne;ft&&(At.credential=ft,At.tenantId=Qe.tenantId||void 0,At.email=Qe.email||void 0,At.phoneNumber=Qe.phoneNumber||void 0)}}(se,te),te}).then(te=>{const Qe=te.user;return{operationType:te.operationType,credential:Zt(te),additionalUserInfo:P.al(te),user:Z.getOrCreate(Qe)}})}function vt(se,ne){return rr.apply(this,arguments)}function rr(){return(rr=(0,o.Z)(function*(se,ne){const te=yield ne;return{verificationId:te.verificationId,confirm:Ie=>Rn(se,te.confirm(Ie))}})).apply(this,arguments)}class Q{constructor(ne,te){this.resolver=te,this.auth=function Ar(se){return se.wrapped()}(ne)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ne){return Rn(Mr(this.auth),this.resolver.resolveSignIn(ne))}}class Z{constructor(ne){this._delegate=ne,this.multiFactor=P.ao(ne)}static getOrCreate(ne){return Z.USER_MAP.has(ne)||Z.USER_MAP.set(ne,new Z(ne)),Z.USER_MAP.get(ne)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ne){return this._delegate.getIdTokenResult(ne)}getIdToken(ne){return this._delegate.getIdToken(ne)}linkAndRetrieveDataWithCredential(ne){return this.linkWithCredential(ne)}linkWithCredential(ne){var te=this;return(0,o.Z)(function*(){return Rn(te.auth,P.Z(te._delegate,ne))})()}linkWithPhoneNumber(ne,te){var Ie=this;return(0,o.Z)(function*(){return vt(Ie.auth,P.l(Ie._delegate,ne,te))})()}linkWithPopup(ne){var te=this;return(0,o.Z)(function*(){return Rn(te.auth,P.d(te._delegate,ne,ct))})()}linkWithRedirect(ne){var te=this;return(0,o.Z)(function*(){return yield Wn(P.aE(te.auth)),P.g(te._delegate,ne,ct)})()}reauthenticateAndRetrieveDataWithCredential(ne){return this.reauthenticateWithCredential(ne)}reauthenticateWithCredential(ne){var te=this;return(0,o.Z)(function*(){return Rn(te.auth,P._(te._delegate,ne))})()}reauthenticateWithPhoneNumber(ne,te){return vt(this.auth,P.r(this._delegate,ne,te))}reauthenticateWithPopup(ne){return Rn(this.auth,P.e(this._delegate,ne,ct))}reauthenticateWithRedirect(ne){var te=this;return(0,o.Z)(function*(){return yield Wn(P.aE(te.auth)),P.h(te._delegate,ne,ct)})()}sendEmailVerification(ne){return P.ab(this._delegate,ne)}unlink(ne){var te=this;return(0,o.Z)(function*(){return yield P.ak(te._delegate,ne),te})()}updateEmail(ne){return P.ag(this._delegate,ne)}updatePassword(ne){return P.ah(this._delegate,ne)}updatePhoneNumber(ne){return P.u(this._delegate,ne)}updateProfile(ne){return P.af(this._delegate,ne)}verifyBeforeUpdateEmail(ne,te){return P.ac(this._delegate,ne,te)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Z.USER_MAP=new WeakMap;const G=P.ax;let Y=(()=>{class se{constructor(te,Ie){if(this.app=te,Ie.isInitialized())return this._delegate=Ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Qe}=te.options;G(Qe,"invalid-api-key",{appName:te.name}),G(Qe,"invalid-api-key",{appName:te.name});const ft="undefined"!=typeof window?ct:void 0;this._delegate=Ie.initialize({options:{persistence:ke(Qe,te.name),popupRedirectResolver:ft}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Z.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(te){this._delegate.languageCode=te}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(te){this._delegate.tenantId=te}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(te,Ie){P.G(this._delegate,te,Ie)}applyActionCode(te){return P.a2(this._delegate,te)}checkActionCode(te){return P.a3(this._delegate,te)}confirmPasswordReset(te,Ie){return P.a1(this._delegate,te,Ie)}createUserWithEmailAndPassword(te,Ie){var Qe=this;return(0,o.Z)(function*(){return Rn(Qe._delegate,P.a5(Qe._delegate,te,Ie))})()}fetchProvidersForEmail(te){return this.fetchSignInMethodsForEmail(te)}fetchSignInMethodsForEmail(te){return P.aa(this._delegate,te)}isSignInWithEmailLink(te){return P.a8(this._delegate,te)}getRedirectResult(){var te=this;return(0,o.Z)(function*(){G(ei(),te._delegate,"operation-not-supported-in-this-environment");const Ie=yield P.j(te._delegate,ct);return Ie?Rn(te._delegate,Promise.resolve(Ie)):{credential:null,user:null}})()}addFrameworkForLogging(te){!function Cn(se,ne){(0,P.aE)(se)._logFramework(ne)}(this._delegate,te)}onAuthStateChanged(te,Ie,Qe){const{next:ft,error:At,complete:Qt}=J(te,Ie,Qe);return this._delegate.onAuthStateChanged(ft,At,Qt)}onIdTokenChanged(te,Ie,Qe){const{next:ft,error:At,complete:Qt}=J(te,Ie,Qe);return this._delegate.onIdTokenChanged(ft,At,Qt)}sendSignInLinkToEmail(te,Ie){return P.a7(this._delegate,te,Ie)}sendPasswordResetEmail(te,Ie){return P.a0(this._delegate,te,Ie||void 0)}setPersistence(te){var Ie=this;return(0,o.Z)(function*(){let Qe;switch(function yi(se,ne){_i(Object.values(_n).includes(ne),se,"invalid-persistence-type"),(0,de.b$)()?_i(ne!==_n.SESSION,se,"unsupported-persistence-type"):(0,de.UG)()?_i(ne===_n.NONE,se,"unsupported-persistence-type"):Yr()?_i(ne===_n.NONE||ne===_n.LOCAL&&(0,de.hl)(),se,"unsupported-persistence-type"):_i(ne===_n.NONE||Sr(),se,"unsupported-persistence-type")}(Ie._delegate,te),te){case _n.SESSION:Qe=P.a;break;case _n.LOCAL:Qe=(yield P.ay(P.i)._isAvailable())?P.i:P.b;break;case _n.NONE:Qe=P.L;break;default:return P.at("argument-error",{appName:Ie._delegate.name})}return Ie._delegate.setPersistence(Qe)})()}signInAndRetrieveDataWithCredential(te){return this.signInWithCredential(te)}signInAnonymously(){return Rn(this._delegate,P.X(this._delegate))}signInWithCredential(te){return Rn(this._delegate,P.Y(this._delegate,te))}signInWithCustomToken(te){return Rn(this._delegate,P.$(this._delegate,te))}signInWithEmailAndPassword(te,Ie){return Rn(this._delegate,P.a6(this._delegate,te,Ie))}signInWithEmailLink(te,Ie){return Rn(this._delegate,P.a9(this._delegate,te,Ie))}signInWithPhoneNumber(te,Ie){return vt(this._delegate,P.s(this._delegate,te,Ie))}signInWithPopup(te){var Ie=this;return(0,o.Z)(function*(){return G(ei(),Ie._delegate,"operation-not-supported-in-this-environment"),Rn(Ie._delegate,P.c(Ie._delegate,te,ct))})()}signInWithRedirect(te){var Ie=this;return(0,o.Z)(function*(){return G(ei(),Ie._delegate,"operation-not-supported-in-this-environment"),yield Wn(Ie._delegate),P.f(Ie._delegate,te,ct)})()}updateCurrentUser(te){return this._delegate.updateCurrentUser(te)}verifyPasswordResetCode(te){return P.a4(this._delegate,te)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return se.Persistence=_n,se})();function J(se,ne,te){let Ie=se;"function"!=typeof se&&({next:Ie,error:ne,complete:te}=se);const Qe=Ie;return{next:At=>Qe(At&&Z.getOrCreate(At)),error:ne,complete:te}}function ke(se,ne){const te=function Os(se,ne){const te=qt();if(!te)return[];const Ie=P.az(qi,se,ne);switch(te.getItem(Ie)){case _n.NONE:return[P.L];case _n.LOCAL:return[P.i,P.a];case _n.SESSION:return[P.a];default:return[]}}(se,ne);if("undefined"!=typeof self&&!te.includes(P.i)&&te.push(P.i),"undefined"!=typeof window)for(const Ie of[P.b,P.a])te.includes(Ie)||te.push(Ie);return te.includes(P.L)||te.push(P.L),te}class qe{constructor(){this.providerId="phone",this._delegate=new P.P(Mr(z.Z.auth()))}static credential(ne,te){return P.P.credential(ne,te)}verifyPhoneNumber(ne,te){return this._delegate.verifyPhoneNumber(ne,te)}unwrap(){return this._delegate}}qe.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,qe.PROVIDER_ID=P.P.PROVIDER_ID;const Tt=P.ax;class cn{constructor(ne,te,Ie=z.Z.app()){var Qe;Tt(null===(Qe=Ie.options)||void 0===Qe?void 0:Qe.apiKey,"invalid-api-key",{appName:Ie.name}),this._delegate=new P.R(ne,te,Ie.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function bi(se){se.INTERNAL.registerComponent(new ce.wA("auth-compat",ne=>{const te=ne.getProvider("app-compat").getImmediate(),Ie=ne.getProvider("auth");return new Y(te,Ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:qe,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:cn,TwitterAuthProvider:P.W,Auth:Y,AuthCredential:P.H,Error:de.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),se.registerVersion("@firebase/auth-compat","0.2.18")}(z.Z)},8306:(nt,Ee,F)=>{F.d(Ee,{y:()=>K});var o=F(930),z=F(727),P=F(8822),de=F(4671);var ce=F(2416),pe=F(576),Ce=F(2806);let K=(()=>{class xe{constructor(Ge){Ge&&(this._subscribe=Ge)}lift(Ge){const ye=new xe;return ye.source=this,ye.operator=Ge,ye}subscribe(Ge,ye,we){const Pe=function We(xe){return xe&&xe instanceof o.Lv||function he(xe){return xe&&(0,pe.m)(xe.next)&&(0,pe.m)(xe.error)&&(0,pe.m)(xe.complete)}(xe)&&(0,z.Nn)(xe)}(Ge)?Ge:new o.Hp(Ge,ye,we);return(0,Ce.x)(()=>{const{operator:Le,source:Ne}=this;Pe.add(Le?Le.call(Pe,Ne):Ne?this._subscribe(Pe):this._trySubscribe(Pe))}),Pe}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(ye){Ge.error(ye)}}forEach(Ge,ye){return new(ye=X(ye))((we,Pe)=>{let Le;Le=this.subscribe(Ne=>{try{Ge(Ne)}catch(et){Pe(et),null==Le||Le.unsubscribe()}},Pe,we)})}_subscribe(Ge){var ye;return null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(Ge)}[P.L](){return this}pipe(...Ge){return function De(xe){return 0===xe.length?de.y:1===xe.length?xe[0]:function(Ge){return xe.reduce((ye,we)=>we(ye),Ge)}}(Ge)(this)}toPromise(Ge){return new(Ge=X(Ge))((ye,we)=>{let Pe;this.subscribe(Le=>Pe=Le,Le=>we(Le),()=>ye(Pe))})}}return xe.create=Be=>new xe(Be),xe})();function X(xe){var Be;return null!==(Be=null!=xe?xe:ce.v.Promise)&&void 0!==Be?Be:Promise}},7579:(nt,Ee,F)=>{F.d(Ee,{x:()=>ce});var o=F(8306),z=F(727);const de=(0,F(3888).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=F(8737),De=F(2806);let ce=(()=>{class Ce extends o.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(X){const he=new pe(this,this);return he.operator=X,he}_throwIfClosed(){if(this.closed)throw new de}next(X){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const he=this.observers.slice();for(const We of he)We.next(X)}})}error(X){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=X;const{observers:he}=this;for(;he.length;)he.shift().error(X)}})}complete(){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:X}=this;for(;X.length;)X.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var X;return(null===(X=this.observers)||void 0===X?void 0:X.length)>0}_trySubscribe(X){return this._throwIfClosed(),super._trySubscribe(X)}_subscribe(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)}_innerSubscribe(X){const{hasError:he,isStopped:We,observers:xe}=this;return he||We?z.Lc:(xe.push(X),new z.w0(()=>(0,me.P)(xe,X)))}_checkFinalizedStatuses(X){const{hasError:he,thrownError:We,isStopped:xe}=this;he?X.error(We):xe&&X.complete()}asObservable(){const X=new o.y;return X.source=this,X}}return Ce.create=(K,X)=>new pe(K,X),Ce})();class pe extends ce{constructor(K,X){super(),this.destination=K,this.source=X}next(K){var X,he;null===(he=null===(X=this.destination)||void 0===X?void 0:X.next)||void 0===he||he.call(X,K)}error(K){var X,he;null===(he=null===(X=this.destination)||void 0===X?void 0:X.error)||void 0===he||he.call(X,K)}complete(){var K,X;null===(X=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===X||X.call(K)}_subscribe(K){var X,he;return null!==(he=null===(X=this.source)||void 0===X?void 0:X.subscribe(K))&&void 0!==he?he:z.Lc}}},930:(nt,Ee,F)=>{F.d(Ee,{Hp:()=>We,Lv:()=>he});var o=F(576),z=F(727),P=F(2416),de=F(7849),me=F(5032);const De=Ce("C",void 0,void 0);function Ce(we,Pe,Le){return{kind:we,value:Pe,error:Le}}var K=F(3410),X=F(2806);class he extends z.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,z.Nn)(Pe)&&Pe.add(this)):this.destination=ye}static create(Pe,Le,Ne){return new We(Pe,Le,Ne)}next(Pe){this.isStopped?Ge(function pe(we){return Ce("N",we,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?Ge(function ce(we){return Ce("E",void 0,we)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?Ge(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class We extends he{constructor(Pe,Le,Ne){let et;if(super(),(0,o.m)(Pe))et=Pe;else if(Pe){let Me;({next:et,error:Le,complete:Ne}=Pe),this&&P.v.useDeprecatedNextContext?(Me=Object.create(Pe),Me.unsubscribe=()=>this.unsubscribe()):Me=Pe,et=null==et?void 0:et.bind(Me),Le=null==Le?void 0:Le.bind(Me),Ne=null==Ne?void 0:Ne.bind(Me)}this.destination={next:et?xe(et):me.Z,error:xe(null!=Le?Le:Be),complete:Ne?xe(Ne):me.Z}}}function xe(we,Pe){return(...Le)=>{try{we(...Le)}catch(Ne){P.v.useDeprecatedSynchronousErrorHandling?(0,X.O)(Ne):(0,de.h)(Ne)}}}function Be(we){throw we}function Ge(we,Pe){const{onStoppedNotification:Le}=P.v;Le&&K.z.setTimeout(()=>Le(we,Pe))}const ye={closed:!0,next:me.Z,error:Be,complete:me.Z}},727:(nt,Ee,F)=>{F.d(Ee,{Lc:()=>De,w0:()=>me,Nn:()=>ce});var o=F(576);const P=(0,F(3888).d)(Ce=>function(X){Ce(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((he,We)=>`${We+1}) ${he.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X});var de=F(8737);class me{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:X}=this;if(X)if(this._parentage=null,Array.isArray(X))for(const xe of X)xe.remove(this);else X.remove(this);const{initialTeardown:he}=this;if((0,o.m)(he))try{he()}catch(xe){K=xe instanceof P?xe.errors:[xe]}const{_teardowns:We}=this;if(We){this._teardowns=null;for(const xe of We)try{pe(xe)}catch(Be){K=null!=K?K:[],Be instanceof P?K=[...K,...Be.errors]:K.push(Be)}}if(K)throw new P(K)}}add(K){var X;if(K&&K!==this)if(this.closed)pe(K);else{if(K instanceof me){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._teardowns=null!==(X=this._teardowns)&&void 0!==X?X:[]).push(K)}}_hasParent(K){const{_parentage:X}=this;return X===K||Array.isArray(X)&&X.includes(K)}_addParent(K){const{_parentage:X}=this;this._parentage=Array.isArray(X)?(X.push(K),X):X?[X,K]:K}_removeParent(K){const{_parentage:X}=this;X===K?this._parentage=null:Array.isArray(X)&&(0,de.P)(X,K)}remove(K){const{_teardowns:X}=this;X&&(0,de.P)(X,K),K instanceof me&&K._removeParent(this)}}me.EMPTY=(()=>{const Ce=new me;return Ce.closed=!0,Ce})();const De=me.EMPTY;function ce(Ce){return Ce instanceof me||Ce&&"closed"in Ce&&(0,o.m)(Ce.remove)&&(0,o.m)(Ce.add)&&(0,o.m)(Ce.unsubscribe)}function pe(Ce){(0,o.m)(Ce)?Ce():Ce.unsubscribe()}},2416:(nt,Ee,F)=>{F.d(Ee,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(nt,Ee,F)=>{F.d(Ee,{E:()=>z});const z=new(F(8306).y)(me=>me.complete())},8996:(nt,Ee,F)=>{F.d(Ee,{D:()=>et});var o=F(8421),z=F(5363),P=F(9468),De=F(8306),pe=F(2202),Ce=F(576),K=F(9672);function he(Me,it){if(!Me)throw new Error("Iterable cannot be null");return new De.y(fe=>{(0,K.f)(fe,it,()=>{const ve=Me[Symbol.asyncIterator]();(0,K.f)(fe,it,()=>{ve.next().then(N=>{N.done?fe.complete():fe.next(N.value)})},0,!0)})})}var We=F(3670),xe=F(8239),Be=F(1144),Ge=F(6495),ye=F(2206),we=F(4532),Pe=F(3260);function et(Me,it){return it?function Ne(Me,it){if(null!=Me){if((0,We.c)(Me))return function de(Me,it){return(0,o.Xf)(Me).pipe((0,P.R)(it),(0,z.Q)(it))}(Me,it);if((0,Be.z)(Me))return function ce(Me,it){return new De.y(fe=>{let ve=0;return it.schedule(function(){ve===Me.length?fe.complete():(fe.next(Me[ve++]),fe.closed||this.schedule())})})}(Me,it);if((0,xe.t)(Me))return function me(Me,it){return(0,o.Xf)(Me).pipe((0,P.R)(it),(0,z.Q)(it))}(Me,it);if((0,ye.D)(Me))return he(Me,it);if((0,Ge.T)(Me))return function X(Me,it){return new De.y(fe=>{let ve;return(0,K.f)(fe,it,()=>{ve=Me[pe.h](),(0,K.f)(fe,it,()=>{let N,j;try{({value:N,done:j}=ve.next())}catch($){return void fe.error($)}j?fe.complete():fe.next(N)},0,!0)}),()=>(0,Ce.m)(null==ve?void 0:ve.return)&&ve.return()})}(Me,it);if((0,Pe.L)(Me))return function Le(Me,it){return he((0,Pe.Q)(Me),it)}(Me,it)}throw(0,we.z)(Me)}(Me,it):(0,o.Xf)(Me)}},8421:(nt,Ee,F)=>{F.d(Ee,{Xf:()=>We});var o=F(5987),z=F(1144),P=F(8239),de=F(8306),me=F(3670),De=F(2206),ce=F(4532),pe=F(6495),Ce=F(3260),K=F(576),X=F(7849),he=F(8822);function We(Ne){if(Ne instanceof de.y)return Ne;if(null!=Ne){if((0,me.c)(Ne))return function xe(Ne){return new de.y(et=>{const Me=Ne[he.L]();if((0,K.m)(Me.subscribe))return Me.subscribe(et);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,z.z)(Ne))return function Be(Ne){return new de.y(et=>{for(let Me=0;Me<Ne.length&&!et.closed;Me++)et.next(Ne[Me]);et.complete()})}(Ne);if((0,P.t)(Ne))return function Ge(Ne){return new de.y(et=>{Ne.then(Me=>{et.closed||(et.next(Me),et.complete())},Me=>et.error(Me)).then(null,X.h)})}(Ne);if((0,De.D)(Ne))return we(Ne);if((0,pe.T)(Ne))return function ye(Ne){return new de.y(et=>{for(const Me of Ne)if(et.next(Me),et.closed)return;et.complete()})}(Ne);if((0,Ce.L)(Ne))return function Pe(Ne){return we((0,Ce.Q)(Ne))}(Ne)}throw(0,ce.z)(Ne)}function we(Ne){return new de.y(et=>{(function Le(Ne,et){var Me,it,fe,ve;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Me=(0,o.KL)(Ne);!(it=yield Me.next()).done;)if(et.next(it.value),et.closed)return}catch(N){fe={error:N}}finally{try{it&&!it.done&&(ve=Me.return)&&(yield ve.call(Me))}finally{if(fe)throw fe.error}}et.complete()})})(Ne,et).catch(Me=>et.error(Me))})}},6451:(nt,Ee,F)=>{F.d(Ee,{T:()=>De});var o=F(8189),z=F(8421),P=F(515),de=F(3269),me=F(8996);function De(...ce){const pe=(0,de.yG)(ce),Ce=(0,de._6)(ce,1/0),K=ce;return K.length?1===K.length?(0,z.Xf)(K[0]):(0,o.J)(Ce)((0,me.D)(K,pe)):P.E}},5403:(nt,Ee,F)=>{F.d(Ee,{Q:()=>z});var o=F(930);class z extends o.Lv{constructor(de,me,De,ce,pe){super(de),this.onFinalize=pe,this._next=me?function(Ce){try{me(Ce)}catch(K){de.error(K)}}:super._next,this._error=ce?function(Ce){try{ce(Ce)}catch(K){de.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch(Ce){de.error(Ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;const{closed:me}=this;super.unsubscribe(),!me&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}},4004:(nt,Ee,F)=>{F.d(Ee,{U:()=>P});var o=F(4482),z=F(5403);function P(de,me){return(0,o.e)((De,ce)=>{let pe=0;De.subscribe(new z.Q(ce,Ce=>{ce.next(de.call(me,Ce,pe++))}))})}},8189:(nt,Ee,F)=>{F.d(Ee,{J:()=>P});var o=F(5577),z=F(4671);function P(de=1/0){return(0,o.z)(z.y,de)}},5577:(nt,Ee,F)=>{F.d(Ee,{z:()=>pe});var o=F(4004),z=F(8421),P=F(4482),de=F(9672),me=F(5403),ce=F(576);function pe(Ce,K,X=1/0){return(0,ce.m)(K)?pe((he,We)=>(0,o.U)((xe,Be)=>K(he,xe,We,Be))((0,z.Xf)(Ce(he,We))),X):("number"==typeof K&&(X=K),(0,P.e)((he,We)=>function De(Ce,K,X,he,We,xe,Be,Ge){const ye=[];let we=0,Pe=0,Le=!1;const Ne=()=>{Le&&!ye.length&&!we&&K.complete()},et=it=>we<he?Me(it):ye.push(it),Me=it=>{xe&&K.next(it),we++;let fe=!1;(0,z.Xf)(X(it,Pe++)).subscribe(new me.Q(K,ve=>{null==We||We(ve),xe?et(ve):K.next(ve)},()=>{fe=!0},void 0,()=>{if(fe)try{for(we--;ye.length&&we<he;){const ve=ye.shift();Be?(0,de.f)(K,Be,()=>Me(ve)):Me(ve)}Ne()}catch(ve){K.error(ve)}}))};return Ce.subscribe(new me.Q(K,et,()=>{Le=!0,Ne()})),()=>{null==Ge||Ge()}}(he,We,Ce,X)))}},5363:(nt,Ee,F)=>{F.d(Ee,{Q:()=>de});var o=F(9672),z=F(4482),P=F(5403);function de(me,De=0){return(0,z.e)((ce,pe)=>{ce.subscribe(new P.Q(pe,Ce=>(0,o.f)(pe,me,()=>pe.next(Ce),De),()=>(0,o.f)(pe,me,()=>pe.complete(),De),Ce=>(0,o.f)(pe,me,()=>pe.error(Ce),De)))})}},3099:(nt,Ee,F)=>{F.d(Ee,{B:()=>De});var o=F(8996),z=F(5698),P=F(7579),de=F(930),me=F(4482);function De(pe={}){const{connector:Ce=(()=>new P.x),resetOnError:K=!0,resetOnComplete:X=!0,resetOnRefCountZero:he=!0}=pe;return We=>{let xe=null,Be=null,Ge=null,ye=0,we=!1,Pe=!1;const Le=()=>{null==Be||Be.unsubscribe(),Be=null},Ne=()=>{Le(),xe=Ge=null,we=Pe=!1},et=()=>{const Me=xe;Ne(),null==Me||Me.unsubscribe()};return(0,me.e)((Me,it)=>{ye++,!Pe&&!we&&Le();const fe=Ge=null!=Ge?Ge:Ce();it.add(()=>{ye--,0===ye&&!Pe&&!we&&(Be=ce(et,he))}),fe.subscribe(it),xe||(xe=new de.Hp({next:ve=>fe.next(ve),error:ve=>{Pe=!0,Le(),Be=ce(Ne,K,ve),fe.error(ve)},complete:()=>{we=!0,Le(),Be=ce(Ne,X),fe.complete()}}),(0,o.D)(Me).subscribe(xe))})(We)}}function ce(pe,Ce,...K){return!0===Ce?(pe(),null):!1===Ce?null:Ce(...K).pipe((0,z.q)(1)).subscribe(()=>pe())}},9468:(nt,Ee,F)=>{F.d(Ee,{R:()=>z});var o=F(4482);function z(P,de=0){return(0,o.e)((me,De)=>{De.add(P.schedule(()=>me.subscribe(De),de))})}},5698:(nt,Ee,F)=>{F.d(Ee,{q:()=>de});var o=F(515),z=F(4482),P=F(5403);function de(me){return me<=0?()=>o.E:(0,z.e)((De,ce)=>{let pe=0;De.subscribe(new P.Q(ce,Ce=>{++pe<=me&&(ce.next(Ce),me<=pe&&ce.complete())}))})}},8505:(nt,Ee,F)=>{F.d(Ee,{b:()=>me});var o=F(576),z=F(4482),P=F(5403),de=F(4671);function me(De,ce,pe){const Ce=(0,o.m)(De)||ce||pe?{next:De,error:ce,complete:pe}:De;return Ce?(0,z.e)((K,X)=>{var he;null===(he=Ce.subscribe)||void 0===he||he.call(Ce);let We=!0;K.subscribe(new P.Q(X,xe=>{var Be;null===(Be=Ce.next)||void 0===Be||Be.call(Ce,xe),X.next(xe)},()=>{var xe;We=!1,null===(xe=Ce.complete)||void 0===xe||xe.call(Ce),X.complete()},xe=>{var Be;We=!1,null===(Be=Ce.error)||void 0===Be||Be.call(Ce,xe),X.error(xe)},()=>{var xe,Be;We&&(null===(xe=Ce.unsubscribe)||void 0===xe||xe.call(Ce)),null===(Be=Ce.finalize)||void 0===Be||Be.call(Ce)}))}):de.y}},4408:(nt,Ee,F)=>{F.d(Ee,{o:()=>me});var o=F(727);class z extends o.w0{constructor(ce,pe){super()}schedule(ce,pe=0){return this}}const P={setInterval(...De){const{delegate:ce}=P;return((null==ce?void 0:ce.setInterval)||setInterval)(...De)},clearInterval(De){const{delegate:ce}=P;return((null==ce?void 0:ce.clearInterval)||clearInterval)(De)},delegate:void 0};var de=F(8737);class me extends z{constructor(ce,pe){super(ce,pe),this.scheduler=ce,this.work=pe,this.pending=!1}schedule(ce,pe=0){if(this.closed)return this;this.state=ce;const Ce=this.id,K=this.scheduler;return null!=Ce&&(this.id=this.recycleAsyncId(K,Ce,pe)),this.pending=!0,this.delay=pe,this.id=this.id||this.requestAsyncId(K,this.id,pe),this}requestAsyncId(ce,pe,Ce=0){return P.setInterval(ce.flush.bind(ce,this),Ce)}recycleAsyncId(ce,pe,Ce=0){if(null!=Ce&&this.delay===Ce&&!1===this.pending)return pe;P.clearInterval(pe)}execute(ce,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(ce,pe);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,pe){let K,Ce=!1;try{this.work(ce)}catch(X){Ce=!0,K=X||new Error("Scheduled action threw falsy error")}if(Ce)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:ce,scheduler:pe}=this,{actions:Ce}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(Ce,this),null!=ce&&(this.id=this.recycleAsyncId(pe,ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(nt,Ee,F)=>{F.d(Ee,{v:()=>P});var o=F(6063);class z{constructor(me,De=z.now){this.schedulerActionCtor=me,this.now=De}schedule(me,De=0,ce){return new this.schedulerActionCtor(this,me).schedule(ce,De)}}z.now=o.l.now;class P extends z{constructor(me,De=z.now){super(me,De),this.actions=[],this._active=!1,this._scheduled=void 0}flush(me){const{actions:De}=this;if(this._active)return void De.push(me);let ce;this._active=!0;do{if(ce=me.execute(me.state,me.delay))break}while(me=De.shift());if(this._active=!1,ce){for(;me=De.shift();)me.unsubscribe();throw ce}}}},4986:(nt,Ee,F)=>{F.d(Ee,{P:()=>de,z:()=>P});var o=F(4408);const P=new(F(7565).v)(o.o),de=P},6063:(nt,Ee,F)=>{F.d(Ee,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(nt,Ee,F)=>{F.d(Ee,{z:()=>o});const o={setTimeout(...z){const{delegate:P}=o;return((null==P?void 0:P.setTimeout)||setTimeout)(...z)},clearTimeout(z){const{delegate:P}=o;return((null==P?void 0:P.clearTimeout)||clearTimeout)(z)},delegate:void 0}},2202:(nt,Ee,F)=>{F.d(Ee,{h:()=>z});const z=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nt,Ee,F)=>{F.d(Ee,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(nt,Ee,F)=>{F.d(Ee,{_6:()=>De,jO:()=>de,yG:()=>me});var o=F(576),z=F(3532);function P(ce){return ce[ce.length-1]}function de(ce){return(0,o.m)(P(ce))?ce.pop():void 0}function me(ce){return(0,z.K)(P(ce))?ce.pop():void 0}function De(ce,pe){return"number"==typeof P(ce)?ce.pop():pe}},8737:(nt,Ee,F)=>{function o(z,P){if(z){const de=z.indexOf(P);0<=de&&z.splice(de,1)}}F.d(Ee,{P:()=>o})},3888:(nt,Ee,F)=>{function o(z){const de=z(me=>{Error.call(me),me.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}F.d(Ee,{d:()=>o})},2806:(nt,Ee,F)=>{F.d(Ee,{O:()=>de,x:()=>P});var o=F(2416);let z=null;function P(me){if(o.v.useDeprecatedSynchronousErrorHandling){const De=!z;if(De&&(z={errorThrown:!1,error:null}),me(),De){const{errorThrown:ce,error:pe}=z;if(z=null,ce)throw pe}}else me()}function de(me){o.v.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=me)}},9672:(nt,Ee,F)=>{function o(z,P,de,me=0,De=!1){const ce=P.schedule(function(){de(),De?z.add(this.schedule(null,me)):this.unsubscribe()},me);if(z.add(ce),!De)return ce}F.d(Ee,{f:()=>o})},4671:(nt,Ee,F)=>{function o(z){return z}F.d(Ee,{y:()=>o})},1144:(nt,Ee,F)=>{F.d(Ee,{z:()=>o});const o=z=>z&&"number"==typeof z.length&&"function"!=typeof z},2206:(nt,Ee,F)=>{F.d(Ee,{D:()=>z});var o=F(576);function z(P){return Symbol.asyncIterator&&(0,o.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(nt,Ee,F)=>{function o(z){return"function"==typeof z}F.d(Ee,{m:()=>o})},3670:(nt,Ee,F)=>{F.d(Ee,{c:()=>P});var o=F(8822),z=F(576);function P(de){return(0,z.m)(de[o.L])}},6495:(nt,Ee,F)=>{F.d(Ee,{T:()=>P});var o=F(2202),z=F(576);function P(de){return(0,z.m)(null==de?void 0:de[o.h])}},8239:(nt,Ee,F)=>{F.d(Ee,{t:()=>z});var o=F(576);function z(P){return(0,o.m)(null==P?void 0:P.then)}},3260:(nt,Ee,F)=>{F.d(Ee,{L:()=>de,Q:()=>P});var o=F(5987),z=F(576);function P(me){return(0,o.FC)(this,arguments,function*(){const ce=me.getReader();try{for(;;){const{value:pe,done:Ce}=yield(0,o.qq)(ce.read());if(Ce)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(pe)}}finally{ce.releaseLock()}})}function de(me){return(0,z.m)(null==me?void 0:me.getReader)}},3532:(nt,Ee,F)=>{F.d(Ee,{K:()=>z});var o=F(576);function z(P){return P&&(0,o.m)(P.schedule)}},4482:(nt,Ee,F)=>{F.d(Ee,{A:()=>z,e:()=>P});var o=F(576);function z(de){return(0,o.m)(null==de?void 0:de.lift)}function P(de){return me=>{if(z(me))return me.lift(function(De){try{return de(De,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(nt,Ee,F)=>{function o(){}F.d(Ee,{Z:()=>o})},7849:(nt,Ee,F)=>{F.d(Ee,{h:()=>P});var o=F(2416),z=F(3410);function P(de){z.z.setTimeout(()=>{const{onUnhandledError:me}=o.v;if(!me)throw de;me(de)})}},4532:(nt,Ee,F)=>{function o(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ee,{z:()=>o})},5987:(nt,Ee,F)=>{function pe(N,j,$,ee){return new($||($=Promise))(function(W,He){function lt(ot){try{Fe(ee.next(ot))}catch(Cn){He(Cn)}}function fn(ot){try{Fe(ee.throw(ot))}catch(Cn){He(Cn)}}function Fe(ot){ot.done?W(ot.value):function ue(W){return W instanceof $?W:new $(function(He){He(W)})}(ot.value).then(lt,fn)}Fe((ee=ee.apply(N,j||[])).next())})}function ye(N){return this instanceof ye?(this.v=N,this):new ye(N)}function we(N,j,$){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,ee=$.apply(N,j||[]),W=[];return ue={},He("next"),He("throw"),He("return"),ue[Symbol.asyncIterator]=function(){return this},ue;function He(St){ee[St]&&(ue[St]=function(Bn){return new Promise(function(nn,zt){W.push([St,Bn,nn,zt])>1||lt(St,Bn)})})}function lt(St,Bn){try{!function fn(St){St.value instanceof ye?Promise.resolve(St.value.v).then(Fe,ot):Cn(W[0][2],St)}(ee[St](Bn))}catch(nn){Cn(W[0][3],nn)}}function Fe(St){lt("next",St)}function ot(St){lt("throw",St)}function Cn(St,Bn){St(Bn),W.shift(),W.length&&lt(W[0][0],W[0][1])}}function Le(N){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,j=N[Symbol.asyncIterator];return j?j.call(N):(N=function he(N){var j="function"==typeof Symbol&&Symbol.iterator,$=j&&N[j],ee=0;if($)return $.call(N);if(N&&"number"==typeof N.length)return{next:function(){return N&&ee>=N.length&&(N=void 0),{value:N&&N[ee++],done:!N}}};throw new TypeError(j?"Object is not iterable.":"Symbol.iterator is not defined.")}(N),$={},ee("next"),ee("throw"),ee("return"),$[Symbol.asyncIterator]=function(){return this},$);function ee(W){$[W]=N[W]&&function(He){return new Promise(function(lt,fn){!function ue(W,He,lt,fn){Promise.resolve(fn).then(function(Fe){W({value:Fe,done:lt})},He)}(lt,fn,(He=N[W](He)).done,He.value)})}}}F.d(Ee,{FC:()=>we,KL:()=>Le,mG:()=>pe,qq:()=>ye})},655:(nt,Ee,F)=>{function de(N,j){var $={};for(var ee in N)Object.prototype.hasOwnProperty.call(N,ee)&&j.indexOf(ee)<0&&($[ee]=N[ee]);if(null!=N&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(ee=Object.getOwnPropertySymbols(N);ue<ee.length;ue++)j.indexOf(ee[ue])<0&&Object.prototype.propertyIsEnumerable.call(N,ee[ue])&&($[ee[ue]]=N[ee[ue]])}return $}function pe(N,j,$,ee){return new($||($=Promise))(function(W,He){function lt(ot){try{Fe(ee.next(ot))}catch(Cn){He(Cn)}}function fn(ot){try{Fe(ee.throw(ot))}catch(Cn){He(Cn)}}function Fe(ot){ot.done?W(ot.value):function ue(W){return W instanceof $?W:new $(function(He){He(W)})}(ot.value).then(lt,fn)}Fe((ee=ee.apply(N,j||[])).next())})}F.d(Ee,{_T:()=>de,mG:()=>pe})},9671:(nt,Ee,F)=>{function o(P,de,me,De,ce,pe,Ce){try{var K=P[pe](Ce),X=K.value}catch(he){return void me(he)}K.done?de(X):Promise.resolve(X).then(De,ce)}function z(P){return function(){var de=this,me=arguments;return new Promise(function(De,ce){var pe=P.apply(de,me);function Ce(X){o(pe,De,ce,Ce,K,"next",X)}function K(X){o(pe,De,ce,Ce,K,"throw",X)}Ce(void 0)})}}F.d(Ee,{Z:()=>z})},5e3:(nt,Ee,F)=>{F.d(Ee,{$8M:()=>Cl,$Z:()=>Im,AFp:()=>ta,ALo:()=>Fx,AaK:()=>pe,BQk:()=>qf,CHM:()=>hl,CRH:()=>Eb,CZH:()=>Pi,CqO:()=>$v,DdM:()=>Sx,EJc:()=>kb,EiD:()=>yf,EpF:()=>yE,F$t:()=>EE,F4k:()=>vE,FYo:()=>vx,FiY:()=>It,G48:()=>eT,Gf:()=>za,GfV:()=>bx,GkF:()=>jl,Gpc:()=>X,Gre:()=>zE,Hsn:()=>Yv,Ikx:()=>sb,JOm:()=>xa,JVY:()=>Tu,Jf7:()=>JC,L6k:()=>Ay,LAX:()=>Mg,LFG:()=>I,LSH:()=>Og,Lbi:()=>RL,MAs:()=>Nv,NdJ:()=>Wv,O4$:()=>Cy,OlP:()=>li,Oqu:()=>nb,PXZ:()=>vk,Q6J:()=>jv,QGY:()=>Am,Qsj:()=>WF,R0b:()=>na,RDi:()=>ou,Rgc:()=>t_,SBq:()=>Qm,Sil:()=>ak,Suo:()=>zx,TTD:()=>rl,TgZ:()=>Sm,Udp:()=>Zf,VKq:()=>Mx,VLi:()=>mk,WFA:()=>qv,WLB:()=>Ax,X6Q:()=>Ub,XFs:()=>wt,Xpm:()=>qe,Y36:()=>$f,YKP:()=>DD,YNc:()=>Pv,Yjl:()=>Qe,Yz7:()=>nn,ZZ4:()=>jb,_Bn:()=>gx,_UZ:()=>Wf,_Vd:()=>mb,_c5:()=>__,_uU:()=>Lm,aQg:()=>zb,c2e:()=>$D,cJS:()=>pn,cg1:()=>ab,d8E:()=>ob,dDg:()=>ZD,deG:()=>yg,dqk:()=>Zt,eBb:()=>ff,eFA:()=>QD,ekj:()=>Yf,f3M:()=>R,g9A:()=>u_,h0i:()=>hh,hGG:()=>Pk,hij:()=>ib,iGM:()=>Oi,ifc:()=>qt,ip1:()=>xb,kL8:()=>XE,kYT:()=>ne,l5B:()=>xx,lG2:()=>Ie,lcZ:()=>Lx,mCW:()=>m,n5z:()=>cr,n_E:()=>yb,oAB:()=>se,oJD:()=>WC,oxw:()=>wE,pB0:()=>xy,q3G:()=>gi,q4F:()=>wx,qLn:()=>Bg,qOj:()=>nE,qZA:()=>Gv,qzn:()=>kl,s9C:()=>Kv,sBO:()=>Ik,sIi:()=>Fc,s_b:()=>bb,soG:()=>h_,tBr:()=>gt,tb:()=>d_,tp0:()=>_t,uIk:()=>iE,uOi:()=>Iu,vHH:()=>Be,vpe:()=>$l,wAp:()=>Mt,xi3:()=>Bx,xp6:()=>Yy,yhl:()=>Mc,ynx:()=>Mm,z2F:()=>f_,z3N:()=>Ys,zSh:()=>Ev,zs3:()=>Fa});var o=F(7579),z=F(727),P=F(8306),de=F(6451),me=F(3099);function De(a){for(let l in a)if(a[l]===De)return l;throw Error("Could not find renamed property on target object.")}function ce(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function pe(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(pe).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function Ce(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const K=De({__forward_ref__:De});function X(a){return a.__forward_ref__=X,a.toString=function(){return pe(this())},a}function he(a){return We(a)?a():a}function We(a){return"function"==typeof a&&a.hasOwnProperty(K)&&a.__forward_ref__===X}class Be extends Error{constructor(l,u){super(function Ge(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,u)),this.code=l}}function ye(a){return"string"==typeof a?a:null==a?"":String(a)}function we(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ye(a)}function et(a,l){const u=l?` in ${l}`:"";throw new Be(-201,`No provider for ${we(a)} found${u}`)}function Fe(a,l){null==a&&function ot(a,l,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function nn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function pn(a){return{providers:a.providers||[],imports:a.imports||[]}}function Gn(a){return Zr(a,Sr)||Zr(a,ei)}function Zr(a,l){return a.hasOwnProperty(l)?a[l]:null}function Rs(a){return a&&(a.hasOwnProperty(Yr)||a.hasOwnProperty(fs))?a[Yr]:null}const Sr=De({\u0275prov:De}),Yr=De({\u0275inj:De}),ei=De({ngInjectableDef:De}),fs=De({ngInjectorDef:De});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let Wi;function _n(a){const l=Wi;return Wi=a,l}function _i(a,l,u){const h=Gn(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&wt.Optional?null:void 0!==l?l:void et(pe(a),"Injector")}function yi(a){return{toString:a}.toString()}var Wn=(()=>((Wn=Wn||{})[Wn.OnPush=0]="OnPush",Wn[Wn.Default=1]="Default",Wn))(),qt=(()=>{return(a=qt||(qt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",qt;var a})();const mt="undefined"!=typeof globalThis&&globalThis,ct="undefined"!=typeof window&&window,Mr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Zt=mt||"undefined"!=typeof global&&global||ct||Mr,Rn={},vt=[],rr=De({\u0275cmp:De}),Q=De({\u0275dir:De}),Z=De({\u0275pipe:De}),G=De({\u0275mod:De}),Y=De({\u0275fac:De}),J=De({__NG_ELEMENT_ID__:De});let ke=0;function qe(a){return yi(()=>{const u={},h={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Wn.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||vt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||qt.Emulated,id:"c",styles:a.styles||vt,_:null,setInput:null,schemas:a.schemas||null,tView:null},f=a.directives,g=a.features,v=a.pipes;return h.id+=ke++,h.inputs=te(a.inputs,u),h.outputs=te(a.outputs),g&&g.forEach(C=>C(h)),h.directiveDefs=f?()=>("function"==typeof f?f():f).map(cn):null,h.pipeDefs=v?()=>("function"==typeof v?v():v).map(rn):null,h})}function cn(a){return ft(a)||function At(a){return a[Q]||null}(a)}function rn(a){return function Qt(a){return a[Z]||null}(a)}const bi={};function se(a){return yi(()=>{const l={type:a.type,bootstrap:a.bootstrap||vt,declarations:a.declarations||vt,imports:a.imports||vt,exports:a.exports||vt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(bi[a.id]=a.type),l})}function ne(a,l){return yi(()=>{const u=Gt(a,!0);u.declarations=l.declarations||vt,u.imports=l.imports||vt,u.exports=l.exports||vt})}function te(a,l){if(null==a)return Rn;const u={};for(const h in a)if(a.hasOwnProperty(h)){let f=a[h],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),u[f]=h,l&&(l[f]=g)}return u}const Ie=qe;function Qe(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function ft(a){return a[rr]||null}function Gt(a,l){const u=a[G]||null;if(!u&&!0===l)throw new Error(`Type ${pe(a)} does not have '\u0275mod' property.`);return u}function or(a){return Array.isArray(a)&&"object"==typeof a[1]}function Yi(a){return Array.isArray(a)&&!0===a[1]}function su(a){return 0!=(8&a.flags)}function ic(a){return 2==(2&a.flags)}function po(a){return 1==(1&a.flags)}function kr(a){return null!==a.template}function od(a){return 0!=(512&a[2])}function Rr(a,l){return a.hasOwnProperty(Y)?a[Y]:null}class pa{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function rl(){return sl}function sl(a){return a.type.prototype.ngOnChanges&&(a.setInput=fg),Xh}function Xh(){const a=fd(this),l=null==a?void 0:a.current;if(l){const u=a.previous;if(u===Rn)a.previous=l;else for(let h in l)u[h]=l[h];a.current=null,this.ngOnChanges(l)}}function fg(a,l,u,h){const f=fd(a)||function Bs(a,l){return a[Vi]=l}(a,{previous:Rn,current:null}),g=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[u],T=v[C];g[C]=new pa(T&&T.currentValue,l,v===Rn),a[h]=l}rl.ngInherit=!0;const Vi="__ngSimpleChanges__";function fd(a){return a[Vi]||null}let ac;function ou(a){ac=a}function Vs(){return void 0!==ac?ac:"undefined"!=typeof document?document:void 0}function On(a){return!!a.listen}const ol={createRenderer:(a,l)=>Vs()};function Dn(a){for(;Array.isArray(a);)a=a[0];return a}function jo(a,l){return Dn(l[a])}function Mi(a,l){return Dn(l[a.index])}function ii(a,l){return a.data[l]}function Us(a,l){return a[l]}function Ai(a,l){const u=l[a];return or(u)?u:u[0]}function ga(a){return 4==(4&a[2])}function gs(a){return 128==(128&a[2])}function vr(a,l){return null==l?null:a[l]}function _o(a){a[18]=0}function yo(a,l){a[5]+=l;let u=a,h=a[3];for(;null!==h&&(1===l&&1===u[5]||-1===l&&0===u[5]);)h[5]+=l,u=h,h=h[3]}const Et={lFrame:$o(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function cu(){return Et.bindingsEnabled}function Ae(){return Et.lFrame.lView}function Yt(){return Et.lFrame.tView}function hl(a){return Et.lFrame.contextLView=a,a[8]}function Jn(){let a=vo();for(;null!==a&&64===a.type;)a=a.parent;return a}function vo(){return Et.lFrame.currentTNode}function ar(a,l){const u=Et.lFrame;u.currentTNode=a,u.isParent=l}function uu(){return Et.lFrame.isParent}function du(){Et.lFrame.isParent=!1}function pl(){return Et.isInCheckNoChangesMode}function ma(a){Et.isInCheckNoChangesMode=a}function wi(){const a=Et.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function ms(){return Et.lFrame.bindingIndex++}function Hs(a){const l=Et.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function ml(a,l){const u=Et.lFrame;u.bindingIndex=u.bindingRootIndex=a,zo(l)}function zo(a){Et.lFrame.currentDirectiveIndex=a}function uc(a){const l=Et.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function _l(){return Et.lFrame.currentQueryIndex}function fu(a){Et.lFrame.currentQueryIndex=a}function pg(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function dc(a,l,u){if(u&wt.SkipSelf){let f=l,g=a;for(;!(f=f.parent,null!==f||u&wt.Host||(f=pg(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;l=f,a=g}const h=Et.lFrame=pu();return h.currentTNode=l,h.lView=a,!0}function Go(a){const l=pu(),u=a[1];Et.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function pu(){const a=Et.lFrame,l=null===a?null:a.child;return null===l?$o(a):l}function $o(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Cd(){const a=Et.lFrame;return Et.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const tf=Cd;function _a(){const a=Cd();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function xi(){return Et.lFrame.selectedIndex}function js(a){Et.lFrame.selectedIndex=a}function ri(){const a=Et.lFrame;return ii(a.tView,a.selectedIndex)}function Cy(){Et.lFrame.currentNamespace="svg"}function yl(a,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const g=a.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:T,ngAfterViewChecked:M,ngOnDestroy:k}=g;v&&(a.contentHooks||(a.contentHooks=[])).push(-u,v),C&&((a.contentHooks||(a.contentHooks=[])).push(u,C),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,C)),T&&(a.viewHooks||(a.viewHooks=[])).push(-u,T),M&&((a.viewHooks||(a.viewHooks=[])).push(u,M),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,M)),null!=k&&(a.destroyHooks||(a.destroyHooks=[])).push(u,k)}}function zs(a,l,u){ki(a,l,3,u)}function vl(a,l,u,h){(3&a[2])===u&&ki(a,l,u,h)}function hc(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function ki(a,l,u,h){const g=null!=h?h:-1,v=l.length-1;let C=0;for(let T=void 0!==h?65535&a[18]:0;T<v;T++)if("number"==typeof l[T+1]){if(C=l[T],null!=h&&C>=h)break}else l[T]<0&&(a[18]+=65536),(C<g||-1==g)&&(sf(a,u,l,T),a[18]=(4294901760&a[18])+T+2),T++}function sf(a,l,u,h){const f=u[h]<0,g=u[h+1],C=a[f?-u[h]:u[h]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class ya{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Qn(a,l,u){const h=On(a);let f=0;for(;f<u.length;){const g=u[f];if("number"==typeof g){if(0!==g)break;f++;const v=u[f++],C=u[f++],T=u[f++];h?a.setAttribute(l,C,T,v):l.setAttributeNS(v,C,T)}else{const v=g,C=u[++f];at(v)?h&&a.setProperty(l,v,C):h?a.setAttribute(l,v,C):l.setAttribute(v,C),f++}}return f}function qn(a){return 3===a||4===a||6===a}function at(a){return 64===a.charCodeAt(0)}function gn(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const f=l[h];"number"==typeof f?u=f:0===u||Qi(a,u,f,null,-1===u||2===u?l[++h]:null)}}return a}function Qi(a,l,u,h,f){let g=0,v=a.length;if(-1===l)v=-1;else for(;g<a.length;){const C=a[g++];if("number"==typeof C){if(C===l){v=-1;break}if(C>l){v=g-1;break}}}for(;g<a.length;){const C=a[g];if("number"==typeof C)break;if(C===u){if(null===h)return void(null!==f&&(a[g+1]=f));if(h===a[g+1])return void(a[g+2]=f)}g++,null!==h&&g++,null!==f&&g++}-1!==v&&(a.splice(v,0,l),g=v+1),a.splice(g++,0,u),null!==h&&a.splice(g++,0,h),null!==f&&a.splice(g++,0,f)}function Gs(a){return-1!==a}function br(a){return 32767&a}function wn(a,l){let u=function Vt(a){return a>>16}(a),h=l;for(;u>0;)h=h[15],u--;return h}let yn=!0;function ut(a){const l=yn;return yn=a,l}let mc=0;function es(a,l){const u=Tn(a,l);if(-1!==u)return u;const h=l[1];h.firstCreatePass&&(a.injectorIndex=l.length,un(h.data,a),un(l,null),un(h.blueprint,null));const f=ys(a,l),g=a.injectorIndex;if(Gs(f)){const v=br(f),C=wn(f,l),T=C[1].data;for(let M=0;M<8;M++)l[g+M]=C[v+M]|T[v+M]}return l[g+8]=f,g}function un(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Tn(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function ys(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,f=l;for(;null!==f;){const g=f[1],v=g.type;if(h=2===v?g.declTNode:1===v?f[6]:null,null===h)return-1;if(u++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function bl(a,l,u){!function mu(a,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(J)&&(h=u[J]),null==h&&(h=u[J]=mc++);const f=255&h;l.data[a+(f>>5)]|=1<<f}(a,l,u)}function bo(a,l,u){if(u&wt.Optional)return a;et(l,"NodeInjector")}function Or(a,l,u,h){if(u&wt.Optional&&void 0===h&&(h=null),0==(u&(wt.Self|wt.Host))){const f=a[9],g=_n(void 0);try{return f?f.get(l,h,u&wt.Optional):_i(l,h,u&wt.Optional)}finally{_n(g)}}return bo(h,l,u)}function lr(a,l,u,h=wt.Default,f){if(null!==a){const g=function $s(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(J)?a[J]:void 0;return"number"==typeof l?l>=0?255&l:ba:l}(u);if("function"==typeof g){if(!dc(l,a,h))return h&wt.Host?bo(f,u,h):Or(l,u,h,f);try{const v=g(h);if(null!=v||h&wt.Optional)return v;et(u)}finally{tf()}}else if("number"==typeof g){let v=null,C=Tn(a,l),T=-1,M=h&wt.Host?l[16][6]:null;for((-1===C||h&wt.SkipSelf)&&(T=-1===C?ys(a,l):l[C+8],-1!==T&&yu(h,!1)?(v=l[1],C=br(T),l=wn(T,l)):C=-1);-1!==C;){const k=l[1];if(_u(g,C,k.data)){const U=dn(C,l,u,v,h,M);if(U!==qo)return U}T=l[C+8],-1!==T&&yu(h,l[1].data[C+8]===M)&&_u(g,C,l)?(v=k,C=br(T),l=wn(T,l)):C=-1}}}return Or(l,u,h,f)}const qo={};function ba(){return new wa(Jn(),Ae())}function dn(a,l,u,h,f,g){const v=l[1],C=v.data[a+8],k=pi(C,v,u,null==h?ic(C)&&yn:h!=v&&0!=(3&C.type),f&wt.Host&&g===C);return null!==k?vs(l,v,k,C):qo}function pi(a,l,u,h,f){const g=a.providerIndexes,v=l.data,C=1048575&g,T=a.directiveStart,k=g>>20,q=f?C+k:a.directiveEnd;for(let oe=h?C:C+k;oe<q;oe++){const Te=v[oe];if(oe<T&&u===Te||oe>=T&&Te.type===u)return oe}if(f){const oe=v[T];if(oe&&kr(oe)&&oe.type===u)return T}return null}function vs(a,l,u,h){let f=a[u];const g=l.data;if(function Dd(a){return a instanceof ya}(f)){const v=f;v.resolving&&function Pe(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Be(-200,`Circular dependency in DI detected for ${a}${u}`)}(we(g[u]));const C=ut(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?_n(v.injectImpl):null;dc(a,h,wt.Default);try{f=a[u]=v.factory(void 0,g,a,h),l.firstCreatePass&&u>=h.directiveStart&&function gg(a,l,u){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:g}=l.type.prototype;if(h){const v=sl(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,v)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,f),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,g))}(u,g[u],l)}finally{null!==T&&_n(T),ut(C),v.resolving=!1,tf()}}return f}function _u(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function yu(a,l){return!(a&wt.Self||a&wt.Host&&l)}class wa{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,h){return lr(this._tNode,this._lView,l,h,u)}}function cr(a){return yi(()=>{const l=a.prototype.constructor,u=l[Y]||_c(l),h=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==h;){const g=f[Y]||_c(f);if(g&&g!==u)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function _c(a){return We(a)?()=>{const l=_c(he(a));return l&&l()}:Rr(a)}function Cl(a){return function wl(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const h=u.length;let f=0;for(;f<h;){const g=u[f];if(qn(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<h&&"string"==typeof u[f];)f++;else{if(g===l)return u[f+1];f+=2}}}return null}(Jn(),a)}const Zo="__parameters__";function vc(a,l,u){return yi(()=>{const h=function yc(a){return function(...u){if(a){const h=a(...u);for(const f in h)this[f]=h[f]}}}(l);function f(...g){if(this instanceof f)return h.apply(this,g),this;const v=new f(...g);return C.annotation=v,C;function C(T,M,k){const U=T.hasOwnProperty(Zo)?T[Zo]:Object.defineProperty(T,Zo,{value:[]})[Zo];for(;U.length<=k;)U.push(null);return(U[k]=U[k]||[]).push(v),T}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class li{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=nn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const yg=new li("AnalyzeForEntryComponents");function ur(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let h=a[u];Array.isArray(h)?(l===a&&(l=a.slice(0,u)),ur(h,l)):l!==a&&l.push(h)}return l}function wr(a,l){a.forEach(u=>Array.isArray(u)?wr(u,l):l(u))}function El(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function Cc(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Ca(a,l){const u=[];for(let h=0;h<a;h++)u.push(l);return u}function ci(a,l,u){let h=ws(a,l);return h>=0?a[1|h]=u:(h=~h,function Ri(a,l,u,h){let f=a.length;if(f==l)a.push(u,h);else if(1===f)a.push(h,a[0]),a[0]=u;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=u,a[l+1]=h}}(a,h,l,u)),h}function Do(a,l){const u=ws(a,l);if(u>=0)return a[1|u]}function ws(a,l){return function Ea(a,l,u){let h=0,f=a.length>>u;for(;f!==h;){const g=h+(f-h>>1),v=a[g<<u];if(l===v)return g<<u;v>l?f=g:h=g+1}return~(f<<u)}(a,l,1)}const Ko={},Sl="__NG_DI_FLAG__",Cr="ngTempTokenPath",Zs=/\n/gm,Cu="__source",Ta=De({provide:String,useValue:De});let Ml;function Ia(a){const l=Ml;return Ml=a,l}function Rd(a,l=wt.Default){if(void 0===Ml)throw new Be(203,"");return null===Ml?_i(a,void 0,l):Ml.get(a,l&wt.Optional?null:void 0,l)}function I(a,l=wt.Default){return(function $n(){return Wi}()||Rd)(he(a),l)}const R=I;function H(a){const l=[];for(let u=0;u<a.length;u++){const h=he(a[u]);if(Array.isArray(h)){if(0===h.length)throw new Be(900,"");let f,g=wt.Default;for(let v=0;v<h.length;v++){const C=h[v],T=ge(C);"number"==typeof T?-1===T?f=C.token:g|=T:f=C}l.push(I(f,g))}else l.push(I(h))}return l}function re(a,l){return a[Sl]=l,a.prototype[Sl]=l,a}function ge(a){return a[Sl]}const gt=re(vc("Inject",a=>({token:a})),-1),It=re(vc("Optional"),8),_t=re(vc("SkipSelf"),4);let Tc,xl;function Ic(a){var l;return(null===(l=function uf(){if(void 0===Tc&&(Tc=null,Zt.trustedTypes))try{Tc=Zt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Tc}())||void 0===l?void 0:l.createHTML(a))||a}function Od(){if(void 0===xl&&(xl=null,Zt.trustedTypes))try{xl=Zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return xl}function df(a){var l;return(null===(l=Od())||void 0===l?void 0:l.createHTML(a))||a}function Ig(a){var l;return(null===(l=Od())||void 0===l?void 0:l.createScriptURL(a))||a}class Sc{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Sy extends Sc{getTypeName(){return"HTML"}}class hf extends Sc{getTypeName(){return"Style"}}class zC extends Sc{getTypeName(){return"Script"}}class My extends Sc{getTypeName(){return"URL"}}class Sg extends Sc{getTypeName(){return"ResourceURL"}}function Ys(a){return a instanceof Sc?a.changingThisBreaksApplicationSecurity:a}function kl(a,l){const u=Mc(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function Mc(a){return a instanceof Sc&&a.getTypeName()||null}function Tu(a){return new Sy(a)}function Ay(a){return new hf(a)}function ff(a){return new zC(a)}function Mg(a){return new My(a)}function xy(a){return new Sg(a)}class xg{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Ic(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class ky{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Ic(l),u;const h=this.inertDocument.createElement("body");return h.innerHTML=Ic(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const u=l.attributes;for(let f=u.length-1;0<f;f--){const v=u.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const $C=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,w=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function m(a){return(a=String(a)).match($C)||a.match(w)?a:"unsafe:"+a}function E(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function x(...a){const l={};for(const u of a)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const L=E("area,br,col,hr,img,wbr"),ae=E("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Se=E("rp,rt"),Hn=x(L,x(ae,E("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),x(Se,E("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),x(Se,ae)),is=E("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Nr=E("srcset"),Pd=x(is,Nr,E("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),E("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kg=E("script,style,template");class Rg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Hn.hasOwnProperty(u))return this.sanitizedSomething=!0,!kg.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let f=0;f<h.length;f++){const g=h.item(f),v=g.name,C=v.toLowerCase();if(!Pd.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let T=g.value;is[C]&&(T=m(T)),Nr[C]&&(a=T,T=(a=String(a)).split(",").map(l=>m(l.trim())).join(", ")),this.buf.push(" ",v,'="',_f(T),'"')}var a;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Hn.hasOwnProperty(u)&&!L.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(_f(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const gf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mf=/([^\#-~ |!])/g;function _f(a){return a.replace(/&/g,"&amp;").replace(gf,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(mf,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ac;function yf(a,l){let u=null;try{Ac=Ac||function Ag(a){const l=new ky(a);return function GC(){try{return!!(new window.DOMParser).parseFromString(Ic(""),"text/html")}catch(a){return!1}}()?new xg(l):l}(a);let h=l?String(l):"";u=Ac.getInertBodyElement(h);let f=5,g=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=g,g=u.innerHTML,u=Ac.getInertBodyElement(h)}while(h!==g);return Ic((new Rg).sanitizeChildren(xc(u)||u))}finally{if(u){const h=xc(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function xc(a){return"content"in a&&function Nd(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var gi=(()=>((gi=gi||{})[gi.NONE=0]="NONE",gi[gi.HTML=1]="HTML",gi[gi.STYLE=2]="STYLE",gi[gi.SCRIPT=3]="SCRIPT",gi[gi.URL=4]="URL",gi[gi.RESOURCE_URL=5]="RESOURCE_URL",gi))();function WC(a){const l=vf();return l?df(l.sanitize(gi.HTML,a)||""):kl(a,"HTML")?df(Ys(a)):yf(Vs(),ye(a))}function Og(a){const l=vf();return l?l.sanitize(gi.URL,a)||"":kl(a,"URL")?Ys(a):m(ye(a))}function Iu(a){const l=vf();if(l)return Ig(l.sanitize(gi.RESOURCE_URL,a)||"");if(kl(a,"ResourceURL"))return Ig(Ys(a));throw new Be(904,"")}function vf(){const a=Ae();return a&&a[12]}const Sa="__ngContext__";function vn(a,l){a[Sa]=l}function wf(a){const l=function Ma(a){return a[Sa]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function Fy(a){return a.ngOriginalError}function ZC(a,...l){a.error(...l)}class Bg{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l),h=function qC(a){return a&&a.ngErrorLogger||ZC}(l);h(this._console,"ERROR",l),u&&h(this._console,"ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Fy(l);for(;u&&Fy(u);)u=Fy(u);return u||null}}const oM=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Zt))();function JC(a){return a.ownerDocument.defaultView}function Qo(a){return a instanceof Function?a():a}var xa=(()=>((xa=xa||{})[xa.Important=1]="Important",xa[xa.DashCase=2]="DashCase",xa))();function Ug(a,l){return undefined(a,l)}function Ef(a){const l=a[3];return Yi(l)?l[3]:l}function Ld(a){return sn(a[13])}function Ol(a){return sn(a[4])}function sn(a){for(;null!==a&&!Yi(a);)a=a[4];return a}function Bd(a,l,u,h,f){if(null!=h){let g,v=!1;Yi(h)?g=h:or(h)&&(v=!0,h=h[0]);const C=Dn(h);0===a&&null!==u?null==f?s0(l,u,C):Au(l,u,C,f||null,!0):1===a&&null!==u?Au(l,u,C,f||null,!0):2===a?function l0(a,l,u){const h=qg(a,l);h&&function hM(a,l,u,h){On(a)?a.removeChild(l,u,h):l.removeChild(u)}(a,h,l,u)}(l,C,v):3===a&&l.destroyNode(C),null!=g&&function $y(a,l,u,h,f){const g=u[7];g!==Dn(u)&&Bd(l,a,h,g,f);for(let C=10;C<u.length;C++){const T=u[C];Hd(T[1],T,a,l,h,g)}}(l,a,g,u,f)}}function jg(a,l,u){if(On(a))return a.createElement(l,u);{const h=null!==u?function oc(a){const l=a.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(u):null;return null===h?a.createElement(l):a.createElementNS(h,l)}}function $g(a,l){const u=a[9],h=u.indexOf(l),f=l[3];1024&l[2]&&(l[2]&=-1025,yo(f,-1)),u.splice(h,1)}function Vd(a,l){if(a.length<=10)return;const u=10+l,h=a[u];if(h){const f=h[17];null!==f&&f!==a&&$g(f,h),l>0&&(a[u-1][4]=h[4]);const g=Cc(a,10+l);!function lM(a,l){Hd(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const v=g[19];null!==v&&v.detachView(g[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function Hy(a,l){if(!(256&l[2])){const u=l[11];On(u)&&u.destroyNode&&Hd(a,l,u,3,null,null),function n0(a){let l=a[13];if(!l)return Wg(a[1],a);for(;l;){let u=null;if(or(l))u=l[13];else{const h=l[10];h&&(u=h)}if(!u){for(;l&&!l[4]&&l!==a;)or(l)&&Wg(l[1],l),l=l[3];null===l&&(l=a),or(l)&&Wg(l[1],l),u=l&&l[4]}l=u}}(l)}}function Wg(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function dM(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const f=l[u[h]];if(!(f instanceof ya)){const g=u[h+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=f[g[v]],T=g[v+1];try{T.call(C)}finally{}}else try{g.call(f)}finally{}}}}(a,l),function uM(a,l){const u=a.cleanup,h=l[7];let f=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const v=u[g+1],C="function"==typeof v?v(l):Dn(l[v]),T=h[f=u[g+2]],M=u[g+3];"boolean"==typeof M?C.removeEventListener(u[g],T,M):M>=0?h[f=M]():h[f=-M].unsubscribe(),g+=2}else{const v=h[f=u[g+1]];u[g].call(v)}if(null!==h){for(let g=f+1;g<h.length;g++)h[g]();l[7]=null}}(a,l),1===l[1].type&&On(l[11])&&l[11].destroy();const u=l[17];if(null!==u&&Yi(l[3])){u!==l[3]&&$g(u,l);const h=l[19];null!==h&&h.detachView(a)}}}function r0(a,l,u){return function Tf(a,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[0];if(2&h.flags){const f=a.data[h.directiveStart].encapsulation;if(f===qt.None||f===qt.Emulated)return null}return Mi(h,u)}(a,l.parent,u)}function Au(a,l,u,h,f){On(a)?a.insertBefore(l,u,h,f):l.insertBefore(u,h,f)}function s0(a,l,u){On(a)?a.appendChild(l,u):l.appendChild(u)}function o0(a,l,u,h,f){null!==h?Au(a,l,u,h,f):s0(a,l,u)}function qg(a,l){return On(a)?a.parentNode(l):l.parentNode}function Zg(a,l,u){return ka(a,l,u)}let ka=function Yg(a,l,u){return 40&a.type?Mi(a,u):null};function If(a,l,u,h){const f=r0(a,h,l),g=l[11],C=Zg(h.parent||l[6],h,l);if(null!=f)if(Array.isArray(u))for(let T=0;T<u.length;T++)o0(g,f,u[T],C,!1);else o0(g,f,u,C,!1)}function Kg(a,l){if(null!==l){const u=l.type;if(3&u)return Mi(l,a);if(4&u)return Qg(-1,a[l.index]);if(8&u){const h=l.child;if(null!==h)return Kg(a,h);{const f=a[l.index];return Yi(f)?Qg(-1,f):Dn(f)}}if(32&u)return Ug(l,a)()||Dn(a[l.index]);{const h=Ra(a,l);return null!==h?Array.isArray(h)?h[0]:Kg(Ef(a[16]),h):Kg(a,l.next)}}return null}function Ra(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Qg(a,l){const u=10+a+1;if(u<l.length){const h=l[u],f=h[1].firstChild;if(null!==f)return Kg(h,f)}return l[7]}function Ud(a,l,u,h,f,g,v){for(;null!=u;){const C=h[u.index],T=u.type;if(v&&0===l&&(C&&vn(Dn(C),h),u.flags|=4),64!=(64&u.flags))if(8&T)Ud(a,l,u.child,h,f,g,!1),Bd(l,a,f,C,g);else if(32&T){const M=Ug(u,h);let k;for(;k=M();)Bd(l,a,f,k,g);Bd(l,a,f,C,g)}else 16&T?Gy(a,l,h,u,f,g):Bd(l,a,f,C,g);u=v?u.projectionNext:u.next}}function Hd(a,l,u,h,f,g){Ud(u,h,a.firstChild,l,f,g,!1)}function Gy(a,l,u,h,f,g){const v=u[16],T=v[6].projection[h.projection];if(Array.isArray(T))for(let M=0;M<T.length;M++)Bd(l,a,f,T[M],g);else Ud(a,l,T,v[3],f,g,!0)}function c0(a,l,u){On(a)?a.setAttribute(l,"style",u):l.style.cssText=u}function xu(a,l,u){On(a)?""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u):l.className=u}function u0(a,l,u){let h=a.length;for(;;){const f=a.indexOf(l,u);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const g=l.length;if(f+g===h||a.charCodeAt(f+g)<=32)return f}u=f+1}}const d0="ng-template";function Jg(a,l,u){let h=0;for(;h<a.length;){let f=a[h++];if(u&&"class"===f){if(f=a[h],-1!==u0(f.toLowerCase(),l,0))return!0}else if(1===f){for(;h<a.length&&"string"==typeof(f=a[h++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function jd(a){return 4===a.type&&a.value!==d0}function qy(a,l,u){return l===(4!==a.type||u?a.value:d0)}function h0(a,l,u){let h=4;const f=a.attrs||[],g=function gM(a){for(let l=0;l<a.length;l++)if(qn(a[l]))return l;return a.length}(f);let v=!1;for(let C=0;C<l.length;C++){const T=l[C];if("number"!=typeof T){if(!v)if(4&h){if(h=2|1&h,""!==T&&!qy(a,T,u)||""===T&&1===l.length){if(Ao(h))return!1;v=!0}}else{const M=8&h?T:l[++C];if(8&h&&null!==a.attrs){if(!Jg(a.attrs,M,u)){if(Ao(h))return!1;v=!0}continue}const U=fM(8&h?"class":T,f,jd(a),u);if(-1===U){if(Ao(h))return!1;v=!0;continue}if(""!==M){let q;q=U>g?"":f[U+1].toLowerCase();const oe=8&h?q:null;if(oe&&-1!==u0(oe,M,0)||2&h&&M!==q){if(Ao(h))return!1;v=!0}}}}else{if(!v&&!Ao(h)&&!Ao(T))return!1;if(v&&Ao(T))continue;v=!1,h=T|1&h}}return Ao(h)||v}function Ao(a){return 0==(1&a)}function fM(a,l,u,h){if(null===l)return-1;let f=0;if(h||!u){let g=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=l[++f];for(;"string"==typeof C;)C=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function mM(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,a)}function Xg(a,l,u=!1){for(let h=0;h<l.length;h++)if(h0(a,l[h],u))return!0;return!1}function f0(a,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(a.length===h.length){for(let f=0;f<a.length;f++)if(a[f]!==h[f])continue e;return!0}}return!1}function Sf(a,l){return a?":not("+l.trim()+")":l}function _M(a){let l=a[0],u=1,h=2,f="",g=!1;for(;u<a.length;){let v=a[u];if("string"==typeof v)if(2&h){const C=a[++u];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?f+="."+v:4&h&&(f+=" "+v);else""!==f&&!Ao(v)&&(l+=Sf(g,f),f=""),h=v,g=g||!Ao(h);u++}return""!==f&&(l+=Sf(g,f)),l}const Lt={};function Yy(a){p0(Yt(),Ae(),xi()+a,pl())}function p0(a,l,u,h){if(!h)if(3==(3&l[2])){const g=a.preOrderCheckHooks;null!==g&&zs(l,g,u)}else{const g=a.preOrderHooks;null!==g&&vl(l,g,0,u)}js(u)}function em(a,l){return a<<17|l<<2}function Ks(a){return a>>17&32767}function Fl(a){return 2|a}function Ll(a){return(131068&a)>>2}function Ky(a,l){return-131069&a|l<<2}function Qy(a){return 1|a}function w0(a,l){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const f=u[h],g=u[h+1];if(-1!==g){const v=a.data[g];fu(f),v.contentQueries(2,l[g],g)}}}function xf(a,l,u,h,f,g,v,C,T,M){const k=l.blueprint.slice();return k[0]=f,k[2]=140|h,_o(k),k[3]=k[15]=a,k[8]=u,k[10]=v||a&&a[10],k[11]=C||a&&a[11],k[12]=T||a&&a[12]||null,k[9]=M||a&&a[9]||null,k[6]=g,k[16]=2==l.type?a[16]:k,k}function Zd(a,l,u,h,f){let g=a.data[l];if(null===g)g=function ov(a,l,u,h,f){const g=vo(),v=uu(),T=a.data[l]=function kM(a,l,u,h,f,g){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,u,l,h,f);return null===a.firstChild&&(a.firstChild=T),null!==g&&(v?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T)),T}(a,l,u,h,f),function gl(){return Et.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=h,g.attrs=f;const v=function fl(){const a=Et.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return ar(g,!0),g}function Yd(a,l,u,h){if(0===u)return-1;const f=l.length;for(let g=0;g<u;g++)l.push(h),a.blueprint.push(h),a.data.push(null);return f}function kf(a,l,u){Go(l);try{const h=a.viewQuery;null!==h&&Of(1,h,u);const f=a.template;null!==f&&E0(a,l,f,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&w0(a,l),a.staticViewQueries&&Of(2,a.viewQuery,u);const g=a.components;null!==g&&function AM(a,l){for(let u=0;u<l.length;u++)HM(a,l[u])}(l,g)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[2]&=-5,_a()}}function Kd(a,l,u,h){const f=l[2];if(256==(256&f))return;Go(l);const g=pl();try{_o(l),function hu(a){return Et.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&E0(a,l,u,2,h);const v=3==(3&f);if(!g)if(v){const M=a.preOrderCheckHooks;null!==M&&zs(l,M,null)}else{const M=a.preOrderHooks;null!==M&&vl(l,M,0,null),hc(l,0)}if(function cF(a){for(let l=Ld(a);null!==l;l=Ol(l)){if(!l[2])continue;const u=l[9];for(let h=0;h<u.length;h++){const f=u[h],g=f[3];0==(1024&f[2])&&yo(g,1),f[2]|=1024}}}(l),function mv(a){for(let l=Ld(a);null!==l;l=Ol(l))for(let u=10;u<l.length;u++){const h=l[u],f=h[1];gs(h)&&Kd(f,h,f.template,h[8])}}(l),null!==a.contentQueries&&w0(a,l),!g)if(v){const M=a.contentCheckHooks;null!==M&&zs(l,M)}else{const M=a.contentHooks;null!==M&&vl(l,M,1),hc(l,1)}!function Af(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const f=u[h];if(f<0)js(~f);else{const g=f,v=u[++h],C=u[++h];ml(v,g),C(2,l[g])}}}finally{js(-1)}}(a,l);const C=a.components;null!==C&&function MM(a,l){for(let u=0;u<l.length;u++)Ru(a,l[u])}(l,C);const T=a.viewQuery;if(null!==T&&Of(2,T,h),!g)if(v){const M=a.viewCheckHooks;null!==M&&zs(l,M)}else{const M=a.viewHooks;null!==M&&vl(l,M,2),hc(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),g||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,yo(l[3],-1))}finally{_a()}}function C0(a,l,u,h){const f=l[10],g=!pl(),v=ga(l);try{g&&!v&&f.begin&&f.begin(),v&&kf(a,l,h),Kd(a,l,u,h)}finally{g&&!v&&f.end&&f.end()}}function E0(a,l,u,h,f){const g=xi(),v=2&h;try{js(-1),v&&l.length>20&&p0(a,l,20,pl()),u(h,f)}finally{js(g)}}function D0(a,l,u){if(su(l)){const f=l.directiveEnd;for(let g=l.directiveStart;g<f;g++){const v=a.data[g];v.contentQueries&&v.contentQueries(1,u[g],g)}}}function av(a,l,u){!cu()||(function FM(a,l,u,h){const f=u.directiveStart,g=u.directiveEnd;a.firstCreatePass||es(u,l),vn(h,l);const v=u.initialInputs;for(let C=f;C<g;C++){const T=a.data[C],M=kr(T);M&&Qd(l,u,T);const k=vs(l,a,C,u);vn(k,l),null!==v&&P0(0,C-f,k,T,0,v),M&&(Ai(u.index,l)[8]=k)}}(a,l,u,Mi(u,l)),128==(128&u.flags)&&function k0(a,l,u){const h=u.directiveStart,f=u.directiveEnd,v=u.index,C=function wd(){return Et.lFrame.currentDirectiveIndex}();try{js(v);for(let T=h;T<f;T++){const M=a.data[T],k=l[T];zo(T),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&R0(M,k)}}finally{js(-1),zo(C)}}(a,l,u))}function lv(a,l,u=Mi){const h=l.localNames;if(null!==h){let f=l.index+1;for(let g=0;g<h.length;g+=2){const v=h[g+1],C=-1===v?u(l,a):a[v];a[f++]=C}}}function T0(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Rf(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Rf(a,l,u,h,f,g,v,C,T,M){const k=20+h,U=k+f,q=function oF(a,l){const u=[];for(let h=0;h<l;h++)u.push(h<a?null:Lt);return u}(k,U),oe="function"==typeof M?M():M;return q[1]={type:a,blueprint:q,template:u,queries:null,viewQuery:C,declTNode:l,data:q.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:oe,incompleteFirstPass:!1}}function dv(a,l,u,h){const f=vv(l);null===u?f.push(h):(f.push(u),a.firstCreatePass&&F0(a).push(h,f.length-1))}function I0(a,l,u){for(let h in a)if(a.hasOwnProperty(h)){const f=a[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(l,f):u[h]=[l,f]}return u}function Ds(a,l,u,h,f,g,v,C){const T=Mi(l,u);let k,M=l.inputs;!C&&null!=M&&(k=M[h])?(wv(a,u,k,h,f),ic(l)&&function PM(a,l){const u=Ai(l,a);16&u[2]||(u[2]|=64)}(u,l.index)):3&l.type&&(h=function OM(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),f=null!=v?v(f,l.value||"",h):f,On(g)?g.setProperty(T,h,f):at(h)||(T.setProperty?T.setProperty(h,f):T[h]=f))}function fv(a,l,u,h){let f=!1;if(cu()){const g=function LM(a,l,u){const h=a.directiveRegistry;let f=null;if(h)for(let g=0;g<h.length;g++){const v=h[g];Xg(u,v.selectors,!1)&&(f||(f=[]),bl(es(u,l),a,v.type),kr(v)?(dr(a,u),f.unshift(v)):f.push(v))}return f}(a,l,u),v=null===h?null:{"":-1};if(null!==g){f=!0,ku(u,a.data.length,g.length);for(let k=0;k<g.length;k++){const U=g[k];U.providersResolver&&U.providersResolver(U)}let C=!1,T=!1,M=Yd(a,l,g.length,null);for(let k=0;k<g.length;k++){const U=g[k];u.mergedAttrs=gn(u.mergedAttrs,U.hostAttrs),am(a,u,l,M,U),O0(M,U,v),null!==U.contentQueries&&(u.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(u.flags|=128);const q=U.type.prototype;!C&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),C=!0),!T&&(q.ngOnChanges||q.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),T=!0),M++}!function RM(a,l){const h=l.directiveEnd,f=a.data,g=l.attrs,v=[];let C=null,T=null;for(let M=l.directiveStart;M<h;M++){const k=f[M],U=k.inputs,q=null===g||jd(l)?null:VM(U,g);v.push(q),C=I0(U,M,C),T=I0(k.outputs,M,T)}null!==C&&(C.hasOwnProperty("class")&&(l.flags|=16),C.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=C,l.outputs=T}(a,u)}v&&function BM(a,l,u){if(l){const h=a.localNames=[];for(let f=0;f<l.length;f+=2){const g=u[l[f+1]];if(null==g)throw new Be(-301,!1);h.push(l[f],g)}}}(u,h,v)}return u.mergedAttrs=gn(u.mergedAttrs,u.attrs),f}function x0(a,l,u,h,f,g){const v=g.hostBindings;if(v){let C=a.hostBindingOpCodes;null===C&&(C=a.hostBindingOpCodes=[]);const T=~l.index;(function NM(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(C)!=T&&C.push(T),C.push(h,f,v)}}function R0(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function dr(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function O0(a,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=a;kr(l)&&(u[""]=a)}}function ku(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function am(a,l,u,h,f){a.data[h]=f;const g=f.factory||(f.factory=Rr(f.type)),v=new ya(g,kr(f),null);a.blueprint[h]=v,u[h]=v,x0(a,l,0,h,Yd(a,u,f.hostVars,Lt),f)}function Qd(a,l,u){const h=Mi(l,a),f=T0(u),g=a[10],v=Jd(a,xf(a,f,null,u.onPush?64:16,h,l,g,g.createRenderer(h,u),null,null));a[l.index]=v}function Oa(a,l,u,h,f,g){const v=Mi(a,l);!function pv(a,l,u,h,f,g,v){if(null==g)On(a)?a.removeAttribute(l,f,u):l.removeAttribute(f);else{const C=null==v?ye(g):v(g,h||"",f);On(a)?a.setAttribute(l,f,C,u):u?l.setAttributeNS(u,f,C):l.setAttribute(f,C)}}(l[11],v,g,a.value,u,h,f)}function P0(a,l,u,h,f,g){const v=g[l];if(null!==v){const C=h.setInput;for(let T=0;T<v.length;){const M=v[T++],k=v[T++],U=v[T++];null!==C?h.setInput(u,U,M,k):u[k]=U}}}function VM(a,l){let u=null,h=0;for(;h<l.length;){const f=l[h];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,a[f],l[h+1])),h+=2}else h+=2;else h+=4}return u}function gv(a,l,u,h){return new Array(a,!0,!1,l,null,0,h,u,null,null)}function Ru(a,l){const u=Ai(l,a);if(gs(u)){const h=u[1];80&u[2]?Kd(h,u,h.template,u[8]):u[5]>0&&lm(u)}}function lm(a){for(let h=Ld(a);null!==h;h=Ol(h))for(let f=10;f<h.length;f++){const g=h[f];if(1024&g[2]){const v=g[1];Kd(v,g,v.template,g[8])}else g[5]>0&&lm(g)}const u=a[1].components;if(null!==u)for(let h=0;h<u.length;h++){const f=Ai(u[h],a);gs(f)&&f[5]>0&&lm(f)}}function HM(a,l){const u=Ai(l,a),h=u[1];(function jM(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(h,u),kf(h,u,u[8])}function Jd(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function _v(a){for(;a;){a[2]|=64;const l=Ef(a);if(od(a)&&!l)return a;a=l}return null}function cm(a,l,u){const h=l[10];h.begin&&h.begin();try{Kd(a,l,a.template,u)}catch(f){throw bv(l,f),f}finally{h.end&&h.end()}}function N0(a){!function yv(a){for(let l=0;l<a.components.length;l++){const u=a.components[l],h=wf(u),f=h[1];C0(f,h,f.template,u)}}(a[8])}function Of(a,l,u){fu(0),l(a,u)}const WM=(()=>Promise.resolve(null))();function vv(a){return a[7]||(a[7]=[])}function F0(a){return a.cleanup||(a.cleanup=[])}function qM(a,l,u){return(null===a||kr(a))&&(u=function lc(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[l.index])),u[11]}function bv(a,l){const u=a[9],h=u?u.get(Bg,null):null;h&&h.handleError(l)}function wv(a,l,u,h,f){for(let g=0;g<u.length;){const v=u[g++],C=u[g++],T=l[v],M=a.data[v];null!==M.setInput?M.setInput(T,f,h,C):T[C]=f}}function Pa(a,l,u){const h=jo(l,a);!function e0(a,l,u){On(a)?a.setValue(l,u):l.textContent=u}(a[11],h,u)}function Na(a,l,u){let h=u?a.styles:null,f=u?a.classes:null,g=0;if(null!==l)for(let v=0;v<l.length;v++){const C=l[v];"number"==typeof C?g=C:1==g?f=Ce(f,C):2==g&&(h=Ce(h,C+": "+l[++v]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=f:a.classesWithoutHost=f}const Cv=new li("INJECTOR",-1);class L0{get(l,u=Ko){if(u===Ko){const h=new Error(`NullInjectorError: No provider for ${pe(l)}!`);throw h.name="NullInjectorError",h}return u}}const Ev=new li("Set Injector scope."),Bl={},Nc={};let um;function hr(){return void 0===um&&(um=new L0),um}function Vl(a,l=null,u=null,h){const f=B0(a,l,u,h);return f._resolveInjectorDefTypes(),f}function B0(a,l=null,u=null,h){return new V0(a,u,l||hr(),h)}class V0{constructor(l,u,h,f=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];u&&wr(u,C=>this.processProvider(C,l,u)),wr([l],C=>this.processInjectorType(C,[],g)),this.records.set(Cv,Ou(void 0,this));const v=this.records.get(Ev);this.scope=null!=v?v.value:null,this.source=f||("object"==typeof l?null:pe(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,u=Ko,h=wt.Default){this.assertNotDestroyed();const f=Ia(this),g=_n(void 0);try{if(!(h&wt.SkipSelf)){let C=this.records.get(l);if(void 0===C){const T=function q0(a){return"function"==typeof a||"object"==typeof a&&a instanceof li}(l)&&Gn(l);C=T&&this.injectableDefInScope(T)?Ou(dm(l),Bl):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(h&wt.Self?hr():this.parent).get(l,u=h&wt.Optional&&u===Ko?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Cr]=v[Cr]||[]).unshift(pe(l)),f)throw v;return function Oe(a,l,u,h){const f=a[Cr];throw l[Cu]&&f.unshift(l[Cu]),a.message=function Ke(a,l,u,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let f=pe(l);if(Array.isArray(l))f=l.map(pe).join(" -> ");else if("object"==typeof l){let g=[];for(let v in l)if(l.hasOwnProperty(v)){let C=l[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):pe(C)))}f=`{${g.join(", ")}}`}return`${u}${h?"("+h+")":""}[${f}]: ${a.replace(Zs,"\n  ")}`}("\n"+a.message,f,u,h),a.ngTokenPath=f,a[Cr]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{_n(g),Ia(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((h,f)=>l.push(pe(f))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processInjectorType(l,u,h){if(!(l=he(l)))return!1;let f=Rs(l);const g=null==f&&l.ngModule||void 0,v=void 0===g?l:g,C=-1!==h.indexOf(v);if(void 0!==g&&(f=Rs(g)),null==f)return!1;if(null!=f.imports&&!C){let k;h.push(v);try{wr(f.imports,U=>{this.processInjectorType(U,u,h)&&(void 0===k&&(k=[]),k.push(U))})}finally{}if(void 0!==k)for(let U=0;U<k.length;U++){const{ngModule:q,providers:oe}=k[U];wr(oe,Te=>this.processProvider(Te,q,oe||vt))}}this.injectorDefTypes.add(v);const T=Rr(v)||(()=>new v);this.records.set(v,Ou(T,Bl));const M=f.providers;if(null!=M&&!C){const k=l;wr(M,U=>this.processProvider(U,k,M))}return void 0!==g&&void 0!==l.providers}processProvider(l,u,h){let f=Ul(l=he(l))?l:he(l&&l.provide);const g=function H0(a,l,u){return Tv(a)?Ou(void 0,a.useValue):Ou(Dv(a),Bl)}(l);if(Ul(l)||!0!==l.multi)this.records.get(f);else{let v=this.records.get(f);v||(v=Ou(void 0,Bl,!0),v.factory=()=>H(v.multi),this.records.set(f,v)),f=l,v.multi.push(l)}this.records.set(f,g)}hydrate(l,u){return u.value===Bl&&(u.value=Nc,u.value=u.factory()),"object"==typeof u.value&&u.value&&function W0(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=he(l.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function dm(a){const l=Gn(a),u=null!==l?l.factory:Rr(a);if(null!==u)return u;if(a instanceof li)throw new Be(204,!1);if(a instanceof Function)return function U0(a){const l=a.length;if(l>0)throw Ca(l,"?"),new Be(204,!1);const u=function $i(a){const l=a&&(a[Sr]||a[ei]);if(l){const u=function Kn(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Be(204,!1)}function Dv(a,l,u){let h;if(Ul(a)){const f=he(a);return Rr(f)||dm(f)}if(Tv(a))h=()=>he(a.useValue);else if(function z0(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...H(a.deps||[]));else if(function j0(a){return!(!a||!a.useExisting)}(a))h=()=>I(he(a.useExisting));else{const f=he(a&&(a.useClass||a.provide));if(!function $0(a){return!!a.deps}(a))return Rr(f)||dm(f);h=()=>new f(...H(a.deps))}return h}function Ou(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function Tv(a){return null!==a&&"object"==typeof a&&Ta in a}function Ul(a){return"function"==typeof a}let Fa=(()=>{class a{static create(u,h){var f;if(Array.isArray(u))return Vl({name:""},h,u,"");{const g=null!==(f=u.name)&&void 0!==f?f:"";return Vl({name:g},u.parent,u.providers,g)}}}return a.THROW_IF_NOT_FOUND=Ko,a.NULL=new L0,a.\u0275prov=nn({token:a,providedIn:"any",factory:()=>I(Cv)}),a.__NG_ELEMENT_ID__=-1,a})();function fF(a,l){yl(wf(a)[1],Jn())}function nE(a){let l=function eA(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;l;){let f;if(kr(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Be(903,"");f=l.\u0275dir}if(f){if(u){h.push(f);const v=a;v.inputs=gm(a.inputs),v.declaredInputs=gm(a.declaredInputs),v.outputs=gm(a.outputs);const C=f.hostBindings;C&&rA(a,C);const T=f.viewQuery,M=f.contentQueries;if(T&&nA(a,T),M&&iA(a,M),ce(a.inputs,f.inputs),ce(a.declaredInputs,f.declaredInputs),ce(a.outputs,f.outputs),kr(f)&&f.data.animation){const k=a.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(a),C===nE&&(u=!1)}}l=Object.getPrototypeOf(l)}!function tA(a){let l=0,u=null;for(let h=a.length-1;h>=0;h--){const f=a[h];f.hostVars=l+=f.hostVars,f.hostAttrs=gn(f.hostAttrs,u=gn(u,f.hostAttrs))}}(h)}function gm(a){return a===Rn?{}:a===vt?[]:a}function nA(a,l){const u=a.viewQuery;a.viewQuery=u?(h,f)=>{l(h,f),u(h,f)}:l}function iA(a,l){const u=a.contentQueries;a.contentQueries=u?(h,f,g)=>{l(h,f,g),u(h,f,g)}:l}function rA(a,l){const u=a.hostBindings;a.hostBindings=u?(h,f)=>{l(h,f),u(h,f)}:l}let Pu=null;function Xd(){if(!Pu){const a=Zt.Symbol;if(a&&a.iterator)Pu=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const h=l[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Pu=h)}}}return Pu}function Fc(a){return!!ym(a)&&(Array.isArray(a)||!(a instanceof Map)&&Xd()in a)}function ym(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Ba(a,l,u){return a[l]=u}function Lr(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function th(a,l,u,h){const f=Lr(a,l,u);return Lr(a,l+1,h)||f}function iE(a,l,u,h){const f=Ae();return Lr(f,ms(),l)&&(Yt(),Oa(ri(),f,a,l,u,h)),iE}function nh(a,l,u,h){return Lr(a,ms(),u)?l+ye(u)+h:Lt}function Pv(a,l,u,h,f,g,v,C){const T=Ae(),M=Yt(),k=a+20,U=M.firstCreatePass?function Em(a,l,u,h,f,g,v,C,T){const M=l.consts,k=Zd(l,a,4,v||null,vr(M,C));fv(l,u,k,vr(M,T)),yl(l,k);const U=k.tViews=Rf(2,k,h,f,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,M);return null!==l.queries&&(l.queries.template(l,k),U.queries=l.queries.embeddedTView(k)),k}(k,M,T,l,u,h,f,g,v):M.data[k];ar(U,!1);const q=T[11].createComment("");If(M,T,q,U),vn(q,T),Jd(T,T[k]=gv(q,T,q,U)),po(U)&&av(M,T,U),null!=v&&lv(T,U,C)}function Nv(a){return Us(function vd(){return Et.lFrame.contextLView}(),20+a)}function $f(a,l=wt.Default){const u=Ae();return null===u?I(a,l):lr(Jn(),u,he(a),l)}function Im(){throw new Error("invalid")}function jv(a,l,u){const h=Ae();return Lr(h,ms(),l)&&Ds(Yt(),ri(),h,a,l,h[11],u,!1),jv}function zv(a,l,u,h,f){const v=f?"class":"style";wv(a,u,l.inputs[v],v,h)}function Sm(a,l,u,h){const f=Ae(),g=Yt(),v=20+a,C=f[11],T=f[v]=jg(C,l,function Ed(){return Et.lFrame.currentNamespace}()),M=g.firstCreatePass?function mE(a,l,u,h,f,g,v){const C=l.consts,M=Zd(l,a,2,f,vr(C,g));return fv(l,u,M,vr(C,v)),null!==M.attrs&&Na(M,M.attrs,!1),null!==M.mergedAttrs&&Na(M,M.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,M),M}(v,g,f,0,l,u,h):g.data[v];ar(M,!0);const k=M.mergedAttrs;null!==k&&Qn(C,T,k);const U=M.classes;null!==U&&xu(C,T,U);const q=M.styles;return null!==q&&c0(C,T,q),64!=(64&M.flags)&&If(g,f,T,M),0===function cl(){return Et.lFrame.elementDepthCount}()&&vn(T,f),function _d(){Et.lFrame.elementDepthCount++}(),po(M)&&(av(g,f,M),D0(g,M,f)),null!==h&&lv(f,M),Sm}function Gv(){let a=Jn();uu()?du():(a=a.parent,ar(a,!1));const l=a;!function ul(){Et.lFrame.elementDepthCount--}();const u=Yt();return u.firstCreatePass&&(yl(u,a),su(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Id(a){return 0!=(16&a.flags)}(l)&&zv(u,l,Ae(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function mg(a){return 0!=(32&a.flags)}(l)&&zv(u,l,Ae(),l.stylesWithoutHost,!1),Gv}function Wf(a,l,u,h){return Sm(a,l,u,h),Gv(),Wf}function Mm(a,l,u){const h=Ae(),f=Yt(),g=a+20,v=f.firstCreatePass?function _E(a,l,u,h,f){const g=l.consts,v=vr(g,h),C=Zd(l,a,8,"ng-container",v);return null!==v&&Na(C,v,!0),fv(l,u,C,vr(g,f)),null!==l.queries&&l.queries.elementStart(l,C),C}(g,f,h,l,u):f.data[g];ar(v,!0);const C=h[g]=h[11].createComment("");return If(f,h,C,v),vn(C,h),po(v)&&(av(f,h,v),D0(f,v,h)),null!=u&&lv(h,v),Mm}function qf(){let a=Jn();const l=Yt();return uu()?du():(a=a.parent,ar(a,!1)),l.firstCreatePass&&(yl(l,a),su(a)&&l.queries.elementEnd(a)),qf}function jl(a,l,u){return Mm(a,l,u),qf(),jl}function yE(){return Ae()}function Am(a){return!!a&&"function"==typeof a.then}function vE(a){return!!a&&"function"==typeof a.subscribe}const $v=vE;function Wv(a,l,u,h){const f=Ae(),g=Yt(),v=Jn();return xm(g,f,f[11],v,a,l,!!u,h),Wv}function qv(a,l){const u=Jn(),h=Ae(),f=Yt();return xm(f,h,qM(uc(f.data),u,h),u,a,l,!1),qv}function xm(a,l,u,h,f,g,v,C){const T=po(h),k=a.firstCreatePass&&F0(a),U=l[8],q=vv(l);let oe=!0;if(3&h.type||C){const Xe=Mi(h,l),dt=C?C(Xe):Xe,Re=q.length,Dt=C?on=>C(Dn(on[h.index])):h.index;if(On(u)){let on=null;if(!C&&T&&(on=function Zv(a,l,u,h){const f=a.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===u&&f[g+1]===h){const C=l[7],T=f[g+2];return C.length>T?C[T]:null}"string"==typeof v&&(g+=2)}return null}(a,l,f,h.index)),null!==on)(on.__ngLastListenerFn__||on).__ngNextListenerFn__=g,on.__ngLastListenerFn__=g,oe=!1;else{g=km(h,l,U,g,!1);const Sn=u.listen(dt,f,g);q.push(g,Sn),k&&k.push(f,Dt,Re,Re+1)}}else g=km(h,l,U,g,!0),dt.addEventListener(f,g,v),q.push(g),k&&k.push(f,Dt,Re,v)}else g=km(h,l,U,g,!1);const Te=h.outputs;let ze;if(oe&&null!==Te&&(ze=Te[f])){const Xe=ze.length;if(Xe)for(let dt=0;dt<Xe;dt+=2){const no=l[ze[dt]][ze[dt+1]].subscribe(g),Wa=q.length;q.push(g,no),k&&k.push(f,h.index,Wa,-(Wa+1))}}}function bE(a,l,u,h){try{return!1!==u(h)}catch(f){return bv(a,f),!1}}function km(a,l,u,h,f){return function g(v){if(v===Function)return h;const C=2&a.flags?Ai(a.index,l):l;0==(32&l[2])&&_v(C);let T=bE(l,0,h,v),M=g.__ngNextListenerFn__;for(;M;)T=bE(l,0,M,v)&&T,M=M.__ngNextListenerFn__;return f&&!1===T&&(v.preventDefault(),v.returnValue=!1),T}}function wE(a=1){return function _s(a){return(Et.lFrame.contextLView=function nf(a,l){for(;a>0;)l=l[15],a--;return l}(a,Et.lFrame.contextLView))[8]}(a)}function CE(a,l){let u=null;const h=function pM(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let f=0;f<l.length;f++){const g=l[f];if("*"!==g){if(null===h?Xg(a,g,!0):f0(h,g))return f}else u=f}return u}function EE(a){const l=Ae()[16][6];if(!l.projection){const h=l.projection=Ca(a?a.length:1,null),f=h.slice();let g=l.child;for(;null!==g;){const v=a?CE(g,a):0;null!==v&&(f[v]?f[v].projectionNext=g:h[v]=g,f[v]=g),g=g.next}}}function Yv(a,l=0,u){const h=Ae(),f=Yt(),g=Zd(f,20+a,16,null,u||null);null===g.projection&&(g.projection=l),du(),64!=(64&g.flags)&&function zy(a,l,u){Gy(l[11],0,l,u,r0(a,u,l),Zg(u.parent||l[6],u,l))}(f,h,g)}function Kv(a,l,u){return Rm(a,"",l,"",u),Kv}function Rm(a,l,u,h,f){const g=Ae(),v=nh(g,l,u,h);return v!==Lt&&Ds(Yt(),ri(),g,a,v,g[11],f,!1),Rm}function Ua(a,l,u,h,f){const g=a[u+1],v=null===l;let C=h?Ks(g):Ll(g),T=!1;for(;0!==C&&(!1===T||v);){const k=a[C+1];wA(a[C],l)&&(T=!0,a[C+1]=h?Qy(k):Fl(k)),C=h?Ks(k):Ll(k)}T&&(a[u+1]=h?Fl(g):Qy(g))}function wA(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&ws(a,l)>=0}const Xi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ME(a){return a.substring(Xi.key,Xi.keyEnd)}function Jv(a,l){const u=Xi.textEnd;return u===l?-1:(l=Xi.keyEnd=function kE(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,Xi.key=l,u),sh(a,l,u))}function sh(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function Zf(a,l,u){return ko(a,l,u,!1),Zf}function Yf(a,l){return ko(a,l,null,!0),Yf}function Xs(a,l){for(let u=function AE(a){return function xE(a){Xi.key=0,Xi.keyEnd=0,Xi.value=0,Xi.valueEnd=0,Xi.textEnd=a.length}(a),Jv(a,sh(a,0,Xi.textEnd))}(l);u>=0;u=Jv(l,u))ci(a,ME(l),!0)}function ko(a,l,u,h){const f=Ae(),g=Yt(),v=Hs(2);g.firstUpdatePass&&TA(g,a,v,h),l!==Lt&&Lr(f,v,l)&&tb(g,g.data[xi()],f,f[11],a,f[v+1]=function LE(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=pe(Ys(a)))),a}(l,u),h,v)}function PE(a,l){return l>=a.expandoStartIndex}function TA(a,l,u,h){const f=a.data;if(null===f[u+1]){const g=f[xi()],v=PE(a,u);BE(g,h)&&null===l&&!v&&(l=!1),l=function bF(a,l,u,h){const f=uc(a);let g=h?l.residualClasses:l.residualStyles;if(null===f)0===(h?l.classBindings:l.styleBindings)&&(u=Nm(u=NE(null,a,l,u,h),l.attrs,h),g=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(u=NE(f,a,l,u,h),null===g){let T=function wF(a,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==Ll(h))return a[Ks(h)]}(a,l,h);void 0!==T&&Array.isArray(T)&&(T=NE(null,a,l,T[1],h),T=Nm(T,l.attrs,h),function CF(a,l,u,h){a[Ks(u?l.classBindings:l.styleBindings)]=h}(a,l,h,T))}else g=function EF(a,l,u){let h;const f=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<f;g++)h=Nm(h,a[g].hostAttrs,u);return Nm(h,l.attrs,u)}(a,l,h)}return void 0!==g&&(h?l.residualClasses=g:l.residualStyles=g),u}(f,g,l,h),function IE(a,l,u,h,f,g){let v=g?l.classBindings:l.styleBindings,C=Ks(v),T=Ll(v);a[h]=u;let k,M=!1;if(Array.isArray(u)){const U=u;k=U[1],(null===k||ws(U,k)>0)&&(M=!0)}else k=u;if(f)if(0!==T){const q=Ks(a[C+1]);a[h+1]=em(q,C),0!==q&&(a[q+1]=Ky(a[q+1],h)),a[C+1]=function vM(a,l){return 131071&a|l<<17}(a[C+1],h)}else a[h+1]=em(C,0),0!==C&&(a[C+1]=Ky(a[C+1],h)),C=h;else a[h+1]=em(T,0),0===C?C=h:a[T+1]=Ky(a[T+1],h),T=h;M&&(a[h+1]=Fl(a[h+1])),Ua(a,k,h,!0),Ua(a,k,h,!1),function SE(a,l,u,h,f){const g=f?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof l&&ws(g,l)>=0&&(u[h+1]=Qy(u[h+1]))}(l,k,a,h,g),v=em(C,T),g?l.classBindings=v:l.styleBindings=v}(f,g,l,u,v,h)}}function NE(a,l,u,h,f){let g=null;const v=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<v&&(g=l[C],h=Nm(h,g.hostAttrs,f),g!==a);)C++;return null!==a&&(u.directiveStylingLast=C),h}function Nm(a,l,u){const h=u?1:2;let f=-1;if(null!==l)for(let g=0;g<l.length;g++){const v=l[g];"number"==typeof v?f=v:f===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),ci(a,v,!!u||l[++g]))}return void 0===a?null:a}function tb(a,l,u,h,f,g,v,C){if(!(3&l.type))return;const T=a.data,M=T[C+1];ah(function m0(a){return 1==(1&a)}(M)?Fm(T,l,u,f,Ll(M),v):void 0)||(ah(g)||function Nl(a){return 2==(2&a)}(M)&&(g=Fm(T,null,u,f,C,v)),function Wy(a,l,u,h,f){const g=On(a);if(l)f?g?a.addClass(u,h):u.classList.add(h):g?a.removeClass(u,h):u.classList.remove(h);else{let v=-1===h.indexOf("-")?void 0:xa.DashCase;if(null==f)g?a.removeStyle(u,h,v):u.style.removeProperty(h);else{const C="string"==typeof f&&f.endsWith("!important");C&&(f=f.slice(0,-10),v|=xa.Important),g?a.setStyle(u,h,f,v):u.style.setProperty(h,f,C?"important":"")}}}(h,v,jo(xi(),u),f,g))}function Fm(a,l,u,h,f,g){const v=null===l;let C;for(;f>0;){const T=a[f],M=Array.isArray(T),k=M?T[1]:T,U=null===k;let q=u[f+1];q===Lt&&(q=U?vt:void 0);let oe=U?Do(q,h):k===h?q:void 0;if(M&&!ah(oe)&&(oe=Do(T,h)),ah(oe)&&(C=oe,v))return C;const Te=a[f+1];f=v?Ks(Te):Ll(Te)}if(null!==l){let T=g?l.residualClasses:l.residualStyles;null!=T&&(C=Do(T,h))}return C}function ah(a){return void 0!==a}function BE(a,l){return 0!=(a.flags&(l?16:32))}function Lm(a,l=""){const u=Ae(),h=Yt(),f=a+20,g=h.firstCreatePass?Zd(h,f,1,l,null):h.data[f],v=u[f]=function Pl(a,l){return On(a)?a.createText(l):a.createTextNode(l)}(u[11],l);If(h,u,v,g),ar(g,!1)}function nb(a){return ib("",a,""),nb}function ib(a,l,u){const h=Ae(),f=nh(h,a,l,u);return f!==Lt&&Pa(h,xi(),f),ib}function zE(a,l,u){!function Ro(a,l,u,h){const f=Yt(),g=Hs(2);f.firstUpdatePass&&TA(f,null,g,h);const v=Ae();if(u!==Lt&&Lr(v,g,u)){const C=f.data[xi()];if(BE(C,h)&&!PE(f,g)){let T=h?C.classesWithoutHost:C.stylesWithoutHost;null!==T&&(u=Ce(T,u||"")),zv(f,C,v,u,h)}else!function IA(a,l,u,h,f,g,v,C){f===Lt&&(f=vt);let T=0,M=0,k=0<f.length?f[0]:null,U=0<g.length?g[0]:null;for(;null!==k||null!==U;){const q=T<f.length?f[T+1]:void 0,oe=M<g.length?g[M+1]:void 0;let ze,Te=null;k===U?(T+=2,M+=2,q!==oe&&(Te=U,ze=oe)):null===U||null!==k&&k<U?(T+=2,Te=k):(M+=2,Te=U,ze=oe),null!==Te&&tb(a,l,u,h,Te,ze,v,C),k=T<f.length?f[T]:null,U=M<g.length?g[M]:null}}(f,C,v,v[11],v[g+1],v[g+1]=function DF(a,l,u){if(null==u||""===u)return vt;const h=[],f=Ys(u);if(Array.isArray(f))for(let g=0;g<f.length;g++)a(h,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&a(h,g,f[g]);else"string"==typeof f&&l(h,f);return h}(a,l,u),h,g)}}(ci,Xs,nh(Ae(),a,l,u),!0)}function sb(a,l,u){const h=Ae();return Lr(h,ms(),l)&&Ds(Yt(),ri(),h,a,l,h[11],u,!0),sb}function ob(a,l,u){const h=Ae();if(Lr(h,ms(),l)){const g=Yt(),v=ri();Ds(g,v,h,a,l,qM(uc(g.data),v,h),u,!0)}return ob}const Bu=void 0;var qA=["en",[["a","p"],["AM","PM"],Bu],[["AM","PM"],Bu,Bu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bu,"{1} 'at' {0}",Bu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function WA(a){const u=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let Vu={};function ab(a){const l=function ZA(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=eD(l);if(u)return u;const h=l.split("-")[0];if(u=eD(h),u)return u;if("en"===h)return qA;throw new Error(`Missing locale data for the locale "${a}".`)}function XE(a){return ab(a)[Mt.PluralCase]}function eD(a){return a in Vu||(Vu[a]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[a]),Vu[a]}var Mt=(()=>((Mt=Mt||{})[Mt.LocaleId=0]="LocaleId",Mt[Mt.DayPeriodsFormat=1]="DayPeriodsFormat",Mt[Mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mt[Mt.DaysFormat=3]="DaysFormat",Mt[Mt.DaysStandalone=4]="DaysStandalone",Mt[Mt.MonthsFormat=5]="MonthsFormat",Mt[Mt.MonthsStandalone=6]="MonthsStandalone",Mt[Mt.Eras=7]="Eras",Mt[Mt.FirstDayOfWeek=8]="FirstDayOfWeek",Mt[Mt.WeekendRange=9]="WeekendRange",Mt[Mt.DateFormat=10]="DateFormat",Mt[Mt.TimeFormat=11]="TimeFormat",Mt[Mt.DateTimeFormat=12]="DateTimeFormat",Mt[Mt.NumberSymbols=13]="NumberSymbols",Mt[Mt.NumberFormats=14]="NumberFormats",Mt[Mt.CurrencyCode=15]="CurrencyCode",Mt[Mt.CurrencySymbol=16]="CurrencySymbol",Mt[Mt.CurrencyName=17]="CurrencyName",Mt[Mt.Currencies=18]="Currencies",Mt[Mt.Directionality=19]="Directionality",Mt[Mt.PluralCase=20]="PluralCase",Mt[Mt.ExtraData=21]="ExtraData",Mt))();const Bm="en-US";let tr=Bm;function mD(a,l,u,h,f){if(a=he(a),Array.isArray(a))for(let g=0;g<a.length;g++)mD(a[g],l,u,h,f);else{const g=Yt(),v=Ae();let C=Ul(a)?a:he(a.provide),T=Dv(a);const M=Jn(),k=1048575&M.providerIndexes,U=M.directiveStart,q=M.providerIndexes>>20;if(Ul(a)||!a.multi){const oe=new ya(T,f,$f),Te=vD(C,l,f?k:k+q,U);-1===Te?(bl(es(M,v),g,C),_D(g,a,l.length),l.push(C),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),u.push(oe),v.push(oe)):(u[Te]=oe,v[Te]=oe)}else{const oe=vD(C,l,k+q,U),Te=vD(C,l,k,k+q),ze=oe>=0&&u[oe],Xe=Te>=0&&u[Te];if(f&&!Xe||!f&&!ze){bl(es(M,v),g,C);const dt=function jF(a,l,u,h,f){const g=new ya(a,u,$f);return g.multi=[],g.index=l,g.componentProviders=0,yD(g,f,h&&!u),g}(f?HF:UF,u.length,f,h,T);!f&&Xe&&(u[Te].providerFactory=dt),_D(g,a,l.length,0),l.push(C),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),u.push(dt),v.push(dt)}else _D(g,a,oe>-1?oe:Te,yD(u[f?Te:oe],T,!f&&h));!f&&h&&Xe&&u[Te].componentProviders++}}}function _D(a,l,u,h){const f=Ul(l),g=function G0(a){return!!a.useClass}(l);if(f||g){const T=(g?he(l.useClass):l).prototype.ngOnDestroy;if(T){const M=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const k=M.indexOf(u);-1===k?M.push(u,[h,T]):M[k+1].push(h,T)}else M.push(u,T)}}}function yD(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function vD(a,l,u,h){for(let f=u;f<h;f++)if(l[f]===a)return f;return-1}function UF(a,l,u,h){return bD(this.multi,[])}function HF(a,l,u,h){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=vs(u,u[1],this.providerFactory.index,h);g=C.slice(0,v),bD(f,g);for(let T=v;T<C.length;T++)g.push(C[T])}else g=[],bD(f,g);return g}function bD(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function gx(a,l=[]){return u=>{u.providersResolver=(h,f)=>function VF(a,l,u){const h=Yt();if(h.firstCreatePass){const f=kr(a);mD(u,h.data,h.blueprint,f,!0),mD(l,h.data,h.blueprint,f,!1)}}(h,f?f(a):a,l)}}class mx{}class GF{resolveComponentFactory(l){throw function _x(a){const l=Error(`No component factory found for ${pe(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let mb=(()=>{class a{}return a.NULL=new GF,a})();function wD(){return ip(Jn(),Ae())}function ip(a,l){return new Qm(Mi(a,l))}let Qm=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=wD,a})();function $F(a){return a instanceof Qm?a.nativeElement:a}class vx{}let WF=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function ZF(){const a=Ae(),u=Ai(Jn().index,a);return function qF(a){return a[11]}(or(u)?u:a)}(),a})(),YF=(()=>{class a{}return a.\u0275prov=nn({token:a,providedIn:"root",factory:()=>null}),a})();class bx{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const wx=new bx("13.3.5"),CD={};function _b(a,l,u,h,f=!1){for(;null!==u;){const g=l[u.index];if(null!==g&&h.push(Dn(g)),Yi(g))for(let C=10;C<g.length;C++){const T=g[C],M=T[1].firstChild;null!==M&&_b(T[1],T,M,h)}const v=u.type;if(8&v)_b(a,l,u.child,h);else if(32&v){const C=Ug(u,l);let T;for(;T=C();)h.push(T)}else if(16&v){const C=Ra(l,u);if(Array.isArray(C))h.push(...C);else{const T=Ef(l[16]);_b(T[1],T,C,h,!0)}}u=f?u.projectionNext:u.next}return h}class Jm{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return _b(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Yi(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(Vd(l,h),Cc(u,h))}this._attachedToViewContainer=!1}Hy(this._lView[1],this._lView)}onDestroy(l){dv(this._lView[1],this._lView,null,l)}markForCheck(){_v(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){cm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function GM(a,l,u){ma(!0);try{cm(a,l,u)}finally{ma(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Be(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Df(a,l){Hd(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Be(902,"");this._appRef=l}}class KF extends Jm{constructor(l){super(l),this._view=l}detectChanges(){N0(this._view)}checkNoChanges(){!function $M(a){ma(!0);try{N0(a)}finally{ma(!1)}}(this._view)}get context(){return null}}class Cx extends mb{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=ft(l);return new ED(u,this.ngModule)}}function Ex(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class ED extends mx{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function Zy(a){return a.map(_M).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Ex(this.componentDef.inputs)}get outputs(){return Ex(this.componentDef.outputs)}create(l,u,h,f){const g=(f=f||this.ngModule)?function JF(a,l){return{get:(u,h,f)=>{const g=a.get(u,CD,f);return g!==CD||h===CD?g:l.get(u,h,f)}}}(l,f.injector):l,v=g.get(vx,ol),C=g.get(YF,null),T=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",k=h?function uv(a,l,u){if(On(a))return a.selectRootElement(l,u===qt.ShadowDom);let h="string"==typeof l?a.querySelector(l):l;return h.textContent="",h}(T,h,this.componentDef.encapsulation):jg(v.createRenderer(null,this.componentDef),M,function QF(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(M)),U=this.componentDef.onPush?576:528,q=function XM(a,l){return{components:[],scheduler:a||oM,clean:WM,playerHandler:l||null,flags:0}}(),oe=Rf(0,null,null,1,0,null,null,null,null,null),Te=xf(null,oe,q,U,null,null,v,T,C,g);let ze,Xe;Go(Te);try{const dt=function tE(a,l,u,h,f,g){const v=u[1];u[20]=a;const T=Zd(v,20,2,"#host",null),M=T.mergedAttrs=l.hostAttrs;null!==M&&(Na(T,M,!0),null!==a&&(Qn(f,a,M),null!==T.classes&&xu(f,a,T.classes),null!==T.styles&&c0(f,a,T.styles)));const k=h.createRenderer(a,l),U=xf(u,T0(l),null,l.onPush?64:16,u[20],T,h,k,g||null,null);return v.firstCreatePass&&(bl(es(T,u),v,l.type),dr(v,T),ku(T,u.length,1)),Jd(u,U),u[20]=U}(k,this.componentDef,Te,v,T);if(k)if(h)Qn(T,k,["ng-version",wx.full]);else{const{attrs:Re,classes:Dt}=function yM(a){const l=[],u=[];let h=1,f=2;for(;h<a.length;){let g=a[h];if("string"==typeof g)2===f?""!==g&&l.push(g,a[++h]):8===f&&u.push(g);else{if(!Ao(f))break;f=g}h++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Re&&Qn(T,k,Re),Dt&&Dt.length>0&&xu(T,k,Dt.join(" "))}if(Xe=ii(oe,20),void 0!==u){const Re=Xe.projection=[];for(let Dt=0;Dt<this.ngContentSelectors.length;Dt++){const on=u[Dt];Re.push(null!=on?Array.from(on):null)}}ze=function JM(a,l,u,h,f){const g=u[1],v=function A0(a,l,u){const h=Jn();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),am(a,h,l,Yd(a,l,1,null),u));const f=vs(l,a,h.directiveStart,h);vn(f,l);const g=Mi(h,l);return g&&vn(g,l),f}(g,u,l);if(h.components.push(v),a[8]=v,f&&f.forEach(T=>T(v,l)),l.contentQueries){const T=Jn();l.contentQueries(1,v,T.directiveStart)}const C=Jn();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(js(C.index),x0(u[1],C,0,C.directiveStart,C.directiveEnd,l),R0(l,v)),v}(dt,this.componentDef,Te,q,[fF]),kf(oe,Te,null)}finally{_a()}return new eL(this.componentType,ze,ip(Xe,Te),Te,Xe)}}class eL extends class zF{}{constructor(l,u,h,f,g){super(),this.location=h,this._rootLView=f,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new KF(f),this.componentType=l}get injector(){return new wa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class hh{}class DD{}const rp=new Map;class Ix extends hh{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Cx(this);const h=Gt(l);this._bootstrapComponents=Qo(h.bootstrap),this._r3Injector=B0(l,u,[{provide:hh,useValue:this},{provide:mb,useValue:this.componentFactoryResolver}],pe(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,u=Fa.THROW_IF_NOT_FOUND,h=wt.Default){return l===Fa||l===hh||l===Cv?this:this._r3Injector.get(l,u,h)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class TD extends DD{constructor(l){super(),this.moduleType=l,null!==Gt(l)&&function nL(a){const l=new Set;!function u(h){const f=Gt(h,!0),g=f.id;null!==g&&(function Dx(a,l,u){if(l&&l!==u)throw new Error(`Duplicate module registered for ${a} - ${pe(l)} vs ${pe(l.name)}`)}(g,rp.get(g),h),rp.set(g,h));const v=Qo(f.imports);for(const C of v)l.has(C)||(l.add(C),u(C))}(a)}(l)}create(l){return new Ix(this.moduleType,l)}}function Sx(a,l,u){const h=wi()+a,f=Ae();return f[h]===Lt?Ba(f,h,u?l.call(u):l()):function eh(a,l){return a[l]}(f,h)}function Mx(a,l,u,h){return kx(Ae(),wi(),a,l,u,h)}function Ax(a,l,u,h,f){return Rx(Ae(),wi(),a,l,u,h,f)}function xx(a,l,u,h,f,g,v){return function Px(a,l,u,h,f,g,v,C,T){const M=l+u;return function Qs(a,l,u,h,f,g){const v=th(a,l,u,h);return th(a,l+2,f,g)||v}(a,M,f,g,v,C)?Ba(a,M+4,T?h.call(T,f,g,v,C):h(f,g,v,C)):Xm(a,M+4)}(Ae(),wi(),a,l,u,h,f,g,v)}function Xm(a,l){const u=a[l];return u===Lt?void 0:u}function kx(a,l,u,h,f,g){const v=l+u;return Lr(a,v,f)?Ba(a,v+1,g?h.call(g,f):h(f)):Xm(a,v+1)}function Rx(a,l,u,h,f,g,v){const C=l+u;return th(a,C,f,g)?Ba(a,C+2,v?h.call(v,f,g):h(f,g)):Xm(a,C+2)}function Fx(a,l){const u=Yt();let h;const f=a+20;u.firstCreatePass?(h=function cL(a,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(a===h.name)return h}}(l,u.pipeRegistry),u.data[f]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,h.onDestroy)):h=u.data[f];const g=h.factory||(h.factory=Rr(h.type)),v=_n($f);try{const C=ut(!1),T=g();return ut(C),function sE(a,l,u,h){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=h}(u,Ae(),f,T),T}finally{_n(v)}}function Lx(a,l,u){const h=a+20,f=Ae(),g=Us(f,h);return e_(f,h)?kx(f,wi(),l,g.transform,u,g):g.transform(u)}function Bx(a,l,u,h){const f=a+20,g=Ae(),v=Us(g,f);return e_(g,f)?Rx(g,wi(),l,v.transform,u,h,v):v.transform(u,h)}function e_(a,l){return a[1].data[l].pure}function ID(a){return l=>{setTimeout(a,void 0,l)}}const $l=class fL extends o.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){var f,g,v;let C=l,T=u||(()=>null),M=h;if(l&&"object"==typeof l){const U=l;C=null===(f=U.next)||void 0===f?void 0:f.bind(U),T=null===(g=U.error)||void 0===g?void 0:g.bind(U),M=null===(v=U.complete)||void 0===v?void 0:v.bind(U)}this.__isAsync&&(T=ID(T),C&&(C=ID(C)),M&&(M=ID(M)));const k=super.subscribe({next:C,error:T,complete:M});return l instanceof z.w0&&l.add(k),k}};function pL(){return this._results[Xd()]()}class yb{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Xd(),h=yb.prototype;h[u]||(h[u]=pL)}get changes(){return this._changes||(this._changes=new $l)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const f=ur(l);(this._changesDetected=!function af(a,l,u){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let f=a[h],g=l[h];if(u&&(f=u(f),g=u(g)),g!==f)return!1}return!0}(h._results,f,u))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let t_=(()=>{class a{}return a.__NG_ELEMENT_ID__=_L,a})();const gL=t_,mL=class extends gL{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(l){const u=this._declarationTContainer.tViews,h=xf(this._declarationLView,u,l,16,null,u.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(h[19]=g.createEmbeddedView(u)),kf(u,h,l),new Jm(h)}};function _L(){return vb(Jn(),Ae())}function vb(a,l){return 4&a.type?new mL(l,a,ip(a,l)):null}let bb=(()=>{class a{}return a.__NG_ELEMENT_ID__=yL,a})();function yL(){return Hx(Jn(),Ae())}const vL=bb,Vx=class extends vL{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return ip(this._hostTNode,this._hostLView)}get injector(){return new wa(this._hostTNode,this._hostLView)}get parentInjector(){const l=ys(this._hostTNode,this._hostLView);if(Gs(l)){const u=wn(l,this._hostLView),h=br(l);return new wa(u[1].data[h+8],u)}return new wa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=Ux(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,h){const f=l.createEmbeddedView(u||{});return this.insert(f,h),f}createComponent(l,u,h,f,g){const v=l&&!function Ws(a){return"function"==typeof a}(l);let C;if(v)C=u;else{const U=u||{};C=U.index,h=U.injector,f=U.projectableNodes,g=U.ngModuleRef}const T=v?l:new ED(ft(l)),M=h||this.parentInjector;if(!g&&null==T.ngModule){const q=(v?M:this.parentInjector).get(hh,null);q&&(g=q)}const k=T.create(M,f,void 0,g);return this.insert(k.hostView,C),k}insert(l,u){const h=l._lView,f=h[1];if(function lu(a){return Yi(a[3])}(h)){const k=this.indexOf(l);if(-1!==k)this.detach(k);else{const U=h[3],q=new Vx(U,U[6],U[3]);q.detach(q.indexOf(l))}}const g=this._adjustIndex(u),v=this._lContainer;!function Gg(a,l,u,h){const f=10+h,g=u.length;h>0&&(u[f-1][4]=l),h<g-10?(l[4]=u[f],El(u,10+h,l)):(u.push(l),l[4]=null),l[3]=u;const v=l[17];null!==v&&u!==v&&function cM(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(v,l);const C=l[19];null!==C&&C.insertView(a),l[2]|=128}(f,h,v,g);const C=Qg(g,v),T=h[11],M=qg(T,v[7]);return null!==M&&function zg(a,l,u,h,f,g){h[0]=f,h[6]=l,Hd(a,h,u,1,f,g)}(f,v[6],T,h,M,C),l.attachToViewContainerRef(),El(SD(v),g,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=Ux(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=Vd(this._lContainer,u);h&&(Cc(SD(this._lContainer),u),Hy(h[1],h))}detach(l){const u=this._adjustIndex(l,-1),h=Vd(this._lContainer,u);return h&&null!=Cc(SD(this._lContainer),u)?new Jm(h):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function Ux(a){return a[8]}function SD(a){return a[8]||(a[8]=[])}function Hx(a,l){let u;const h=l[a.index];if(Yi(h))u=h;else{let f;if(8&a.type)f=Dn(h);else{const g=l[11];f=g.createComment("");const v=Mi(a,l);Au(g,qg(g,v),f,function a0(a,l){return On(a)?a.nextSibling(l):l.nextSibling}(g,v),!1)}l[a.index]=u=gv(h,l,f,a),Jd(l,u)}return new Vx(u,a,l)}class wb{constructor(l){this.queryList=l,this.matches=null}clone(){return new wb(this.queryList)}setDirty(){this.queryList.setDirty()}}class ja{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let g=0;g<h;g++){const v=u.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new ja(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==AD(l,u).matches&&this.queries[u].setDirty()}}class sp{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class n_{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const f=null!==u?u.length:0,g=this.getByIndex(h).embeddedTView(l,f);g&&(g.indexInDeclarationView=h,null!==u?u.push(g):u=[g])}return null!==u?new n_(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class ju{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new ju(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const g=h[f];this.matchTNodeWithReadOption(l,u,jx(u,g)),this.matchTNodeWithReadOption(l,u,pi(u,l,g,!1,!1))}else h===t_?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,pi(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===Qm||f===bb||f===t_&&4&u.type)this.addMatch(u.index,-2);else{const g=pi(u,l,f,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function jx(a,l){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function Fn(a,l,u,h){return-1===u?function In(a,l){return 11&a.type?ip(a,l):4&a.type?vb(a,l):null}(l,a):-2===u?function Cb(a,l,u){return u===Qm?ip(l,a):u===t_?vb(l,a):u===bb?Hx(l,a):void 0}(a,l,h):vs(a,a[1],u,l)}function MD(a,l,u,h){const f=l[19].queries[h];if(null===f.matches){const g=a.data,v=u.matches,C=[];for(let T=0;T<v.length;T+=2){const M=v[T];C.push(M<0?null:Fn(l,g[M],v[T+1],u.metadata.read))}f.matches=C}return f.matches}function i_(a,l,u,h){const f=a.queries.getByIndex(u),g=f.matches;if(null!==g){const v=MD(a,l,f,u);for(let C=0;C<g.length;C+=2){const T=g[C];if(T>0)h.push(v[C/2]);else{const M=g[C+1],k=l[-T];for(let U=10;U<k.length;U++){const q=k[U];q[17]===q[3]&&i_(q[1],q,M,h)}if(null!==k[9]){const U=k[9];for(let q=0;q<U.length;q++){const oe=U[q];i_(oe[1],oe,M,h)}}}}}return h}function Oi(a){const l=Ae(),u=Yt(),h=_l();fu(h+1);const f=AD(u,h);if(a.dirty&&ga(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const g=f.crossesNgTemplate?i_(u,l,h,[]):MD(u,l,f,h);a.reset(g,$F),a.notifyOnChanges()}return!0}return!1}function za(a,l,u){const h=Yt();h.firstCreatePass&&(Db(h,new sp(a,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),Gx(h,Ae(),l)}function zx(a,l,u,h){const f=Yt();if(f.firstCreatePass){const g=Jn();Db(f,new sp(l,u,h),g.index),function EL(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(f,a),2==(2&u)&&(f.staticContentQueries=!0)}Gx(f,Ae(),u)}function Eb(){return function CL(a,l){return a[19].queries[l].queryList}(Ae(),_l())}function Gx(a,l,u){const h=new yb(4==(4&u));dv(a,l,h,h.destroy),null===l[19]&&(l[19]=new ja),l[19].queries.push(new wb(h))}function Db(a,l,u){null===a.queries&&(a.queries=new n_),a.queries.track(new ju(l,u))}function AD(a,l){return a.queries.getByIndex(l)}function eo(...a){}const xb=new li("Application Initializer");let Pi=(()=>{class a{constructor(u){this.appInits=u,this.resolve=eo,this.reject=eo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(Am(g))u.push(g);else if($v(g)){const v=new Promise((C,T)=>{g.subscribe({complete:C,error:T})});u.push(v)}}Promise.all(u).then(()=>{h()}).catch(f=>{this.reject(f)}),0===u.length&&h(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(I(xb,8))},a.\u0275prov=nn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const ta=new li("AppId",{providedIn:"root",factory:function rk(){return`${GD()}${GD()}${GD()}`}});function GD(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const u_=new li("Platform Initializer"),RL=new li("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),d_=new li("appBootstrapListener");let $D=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=nn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const h_=new li("LocaleId",{providedIn:"root",factory:()=>R(h_,wt.Optional|wt.SkipSelf)||function lp(){return"undefined"!=typeof $localize&&$localize.locale||Bm}()}),kb=new li("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ok{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let ak=(()=>{class a{compileModuleSync(u){return new TD(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),g=Qo(Gt(u).declarations).reduce((v,C)=>{const T=ft(C);return T&&v.push(new ED(T)),v},[]);return new ok(h,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=nn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const ck=(()=>Promise.resolve(0))();function Ob(a){"undefined"==typeof Zone?ck.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class na{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $l(!1),this.onMicrotaskEmpty=new $l(!1),this.onStable=new $l(!1),this.onError=new $l(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&u,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function uk(){let a=Zt.requestAnimationFrame,l=Zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function hk(a){const l=()=>{!function PL(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Zt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Nb(a),a.isCheckStableRunning=!0,Pb(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Nb(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,f,g,v,C)=>{try{return WD(a),u.invokeTask(f,g,v,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&l(),qD(a)}},onInvoke:(u,h,f,g,v,C,T)=>{try{return WD(a),u.invoke(f,g,v,C,T)}finally{a.shouldCoalesceRunChangeDetection&&l(),qD(a)}},onHasTask:(u,h,f,g)=>{u.hasTask(f,g),h===f&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,Nb(a),Pb(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,h,f,g)=>(u.handleError(f,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!na.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(na.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,l,dk,eo,eo);try{return g.runTask(v,u,h)}finally{g.cancelTask(v)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const dk={};function Pb(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Nb(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function WD(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function qD(a){a._nesting--,Pb(a)}class fk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $l,this.onMicrotaskEmpty=new $l,this.onStable=new $l,this.onError=new $l}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,f){return l.apply(u,h)}}let ZD=(()=>{class a{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{na.assertNotInAngularZone(),Ob(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ob(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,f){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:f})}whenStable(u,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,h,f){return[]}}return a.\u0275fac=function(u){return new(u||a)(I(na))},a.\u0275prov=nn({token:a,factory:a.\u0275fac}),a})(),pk=(()=>{class a{constructor(){this._applications=new Map,Fb.addToWindow(this)}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return Fb.findTestabilityInTree(this,u,h)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=nn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();class gk{addToWindow(l){}findTestabilityInTree(l,u,h){return null}}function mk(a){Fb=a}let Fb=new gk,zu=null;const YD=new li("AllowMultipleToken"),KD=new li("PlatformOnDestroy");class vk{constructor(l,u){this.name=l,this.token=u}}function QD(a,l,u=[]){const h=`Platform: ${l}`,f=new li(h);return(g=[])=>{let v=JD();if(!v||v.injector.get(YD,!1)){const C=[...u,...g,{provide:f,useValue:!0}];a?a(C):function bk(a){if(zu&&!zu.get(YD,!1))throw new Be(400,"");zu=a;const l=a.get(XD),u=a.get(u_,null);u&&u.forEach(h=>h())}(function Ck(a=[],l){return Fa.create({name:l,providers:[{provide:Ev,useValue:"platform"},{provide:KD,useValue:()=>zu=null},...a]})}(C,h))}return function wk(a){const l=JD();if(!l)throw new Be(401,"");return l}()}}function JD(){var a;return null!==(a=null==zu?void 0:zu.get(XD))&&void 0!==a?a:null}let XD=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const C=function Ek(a,l){let u;return u="noop"===a?new fk:("zone.js"===a?void 0:a)||new na({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),u}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),T=[{provide:na,useValue:C}];return C.run(()=>{const M=Fa.create({providers:T,parent:this.injector,name:u.moduleType.name}),k=u.create(M),U=k.injector.get(Bg,null);if(!U)throw new Be(402,"");return C.runOutsideAngular(()=>{const q=C.onError.subscribe({next:oe=>{U.handleError(oe)}});k.onDestroy(()=>{cp(this._modules,k),q.unsubscribe()})}),function Lb(a,l,u){try{const h=u();return Am(h)?h.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(U,C,()=>{const q=k.injector.get(Pi);return q.runInitializers(),q.donePromise.then(()=>(function mi(a){Fe(a,"Expected localeId to be defined"),"string"==typeof a&&(tr=a.toLowerCase().replace(/_/g,"-"))}(k.injector.get(h_,Bm)||Bm),this._moduleDoBootstrap(k),k))})})}bootstrapModule(u,h=[]){const f=Wl({},h);return function _k(a,l,u){const h=new TD(u);return Promise.resolve(h)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(u){const h=u.injector.get(f_);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new Be(403,"");u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,"");this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(KD,null);null==u||u(),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(I(Fa))},a.\u0275prov=nn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function Wl(a,l){return Array.isArray(l)?l.reduce(Wl,a):Object.assign(Object.assign({},a),l)}let f_=(()=>{class a{constructor(u,h,f,g){this._zone=u,this._injector=h,this._exceptionHandler=f,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new P.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),C=new P.y(T=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{na.assertNotInAngularZone(),Ob(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{na.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{M.unsubscribe(),k.unsubscribe()}});this.isStable=(0,de.T)(v,C.pipe((0,me.B)()))}bootstrap(u,h){if(!this._initStatus.done)throw new Be(405,"");let f;f=u instanceof mx?u:this._injector.get(mb).resolveComponentFactory(u),this.componentTypes.push(f.componentType);const g=function yk(a){return a.isBoundToModule}(f)?void 0:this._injector.get(hh),C=f.create(Fa.NULL,[],h||f.selector,g),T=C.location.nativeElement,M=C.injector.get(ZD,null),k=M&&C.injector.get(pk);return M&&k&&k.registerApplication(T,M),C.onDestroy(()=>{this.detachView(C.hostView),cp(this.components,C),k&&k.unregisterApplication(T)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Be(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;cp(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(d_,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(u){return new(u||a)(I(na),I(Fa),I(Bg),I(Pi))},a.\u0275prov=nn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function cp(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let Ss=!0,Vb=!1;function Ub(){return Vb=!0,Ss}function eT(){if(Vb)throw new Error("Cannot enable prod mode after platform setup.");Ss=!1}let Ik=(()=>{class a{}return a.__NG_ELEMENT_ID__=Gu,a})();function Gu(a){return function nT(a,l,u){if(ic(a)&&!u){const h=Ai(a.index,l);return new Jm(h,h)}return 47&a.type?new Jm(l[16],l):null}(Jn(),Ae(),16==(16&a))}class Yl{constructor(){}supports(l){return Fc(l)}create(l){return new lT(l)}}const aT=(a,l)=>l;class lT{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||aT}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,f=0,g=null;for(;u||h;){const v=!h||u&&u.currentIndex<cT(h,f,g)?u:h,C=cT(v,f,g),T=v.currentIndex;if(v===h)f--,h=h._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{g||(g=[]);const M=C-f,k=T-f;if(M!=k){for(let q=0;q<M;q++){const oe=q<g.length?g[q]:g[q]=0,Te=oe+q;k<=Te&&Te<M&&(g[q]=oe+1)}g[v.previousIndex]=k-M}}C!==T&&l(v,C,T)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!Fc(l))throw new Be(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,g,v,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)g=l[C],v=this._trackByFn(C,g),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,g,v,C)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,v,C),h=!0),u=u._next}else f=0,function oA(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[Xd()]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,C=>{v=this._trackByFn(f,C),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,C,v,f)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,v,f),h=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,f){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,g,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,g,f)):l=this._addAfter(new $a(u,h),g,f),l}_verifyReinsertion(l,u,h,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?l=this._reinsertAfter(g,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,g=l._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new bh),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bh),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class $a{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $u{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class bh{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new $u,this.map.set(u,h)),h.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cT(a,l,u){const h=a.previousIndex;if(null===h)return h;let f=0;return u&&h<u.length&&(f=u[h]),h+l+f}class g_{constructor(){}supports(l){return l instanceof Map||ym(l)}create(){return new uT}}class uT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||ym(l)))throw new Be(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(f,h);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const h=new m_(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class m_{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fp(){return new jb([new Yl])}let jb=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(null!=h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||fp()),deps:[[a,new _t,new It]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(null!=h)return h;throw new Be(901,"")}}return a.\u0275prov=nn({token:a,providedIn:"root",factory:fp}),a})();function hT(){return new zb([new g_])}let zb=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||hT()),deps:[[a,new _t,new It]]}}find(u){const h=this.factories.find(g=>g.supports(u));if(h)return h;throw new Be(901,"")}}return a.\u0275prov=nn({token:a,providedIn:"root",factory:hT}),a})();const __=QD(null,"core",[]);let Pk=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(I(f_))},a.\u0275mod=se({type:a}),a.\u0275inj=pn({}),a})()},3942:(nt,Ee,F)=>{F.d(Ee,{Z:()=>Be});var o=F(2090),z=F(4859),P=F(9681),de=F(1877);class me{constructor(ye,we){this._delegate=ye,this.firebase=we,(0,P._addComponent)(ye,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(ye,we=P._DEFAULT_ENTRY_NAME){var Pe;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(ye);return!Le.isInitialized()&&"EXPLICIT"===(null===(Pe=Le.getComponent())||void 0===Pe?void 0:Pe.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:we})}_removeServiceInstance(ye,we=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(we)}_addComponent(ye){(0,P._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,P._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function Ce(){const Ge=function pe(Ge){const ye={},we={__esModule:!0,initializeApp:function Ne(fe,ve={}){const N=P.initializeApp(fe,ve);if((0,o.r3)(ye,N.name))return ye[N.name];const j=new Ge(N,we);return ye[N.name]=j,j},app:Le,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Me(fe){const ve=fe.name,N=ve.replace("-compat","");if(P._registerComponent(fe)&&"PUBLIC"===fe.type){const j=($=Le())=>{if("function"!=typeof $[N])throw ce.create("invalid-app-argument",{appName:ve});return $[N]()};void 0!==fe.serviceProps&&(0,o.ZB)(j,fe.serviceProps),we[N]=j,Ge.prototype[N]=function(...$){return this._getService.bind(this,ve).apply(this,fe.multipleInstances?$:[])}}return"PUBLIC"===fe.type?we[N]:null},removeApp:function Pe(fe){delete ye[fe]},useAsService:function it(fe,ve){return"serverAuth"===ve?null:ve},modularAPIs:P}};function Le(fe){if(!(0,o.r3)(ye,fe=fe||P._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:fe});return ye[fe]}return we.default=we,Object.defineProperty(we,"apps",{get:function et(){return Object.keys(ye).map(fe=>ye[fe])}}),Le.App=Ge,we}(me);return Ge.INTERNAL=Object.assign(Object.assign({},Ge.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function ye(we){(0,o.ZB)(Ge,we)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Ge}(),X=new de.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ge=self.firebase.SDK_VERSION;Ge&&Ge.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=K;!function xe(Ge){(0,P.registerVersion)("@firebase/app-compat","0.1.29",Ge)}()},9681:(nt,Ee,F)=>{F.r(Ee),F.d(Ee,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>Sr,_DEFAULT_ENTRY_NAME:()=>Fe,_addComponent:()=>Bn,_addOrOverwriteComponent:()=>nn,_apps:()=>Cn,_clearComponents:()=>Zr,_components:()=>St,_getProvider:()=>pn,_registerComponent:()=>zt,_removeServiceInstance:()=>Gn,deleteApp:()=>wt,getApp:()=>ei,getApps:()=>fs,initializeApp:()=>Yr,onLog:()=>_n,registerVersion:()=>$n,setLogLevel:()=>_i});var o=F(9671),z=F(4859),P=F(1877),de=F(2090),me=F(8766);class De{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map(J=>{if(function ce(G){const Y=G.getComponent();return"VERSION"===(null==Y?void 0:Y.type)}(J)){const ke=J.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(J=>J).join(" ")}}const pe="@firebase/app",K=new P.Yd("@firebase/app"),Fe="[DEFAULT]",ot={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Cn=new Map,St=new Map;function Bn(G,Y){try{G.container.addComponent(Y)}catch(J){K.debug(`Component ${Y.name} failed to register with FirebaseApp ${G.name}`,J)}}function nn(G,Y){G.container.addOrOverwriteComponent(Y)}function zt(G){const Y=G.name;if(St.has(Y))return K.debug(`There were multiple attempts to register component ${Y}.`),!1;St.set(Y,G);for(const J of Cn.values())Bn(J,G);return!0}function pn(G,Y){const J=G.container.getProvider("heartbeat").getImmediate({optional:!0});return J&&J.triggerHeartbeat(),G.container.getProvider(Y)}function Gn(G,Y,J=Fe){pn(G,Y).clearInstance(J)}function Zr(){St.clear()}const Kn=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Rs{constructor(Y,J,ke){this._isDeleted=!1,this._options=Object.assign({},Y),this._config=Object.assign({},J),this._name=J.name,this._automaticDataCollectionEnabled=J.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this.checkDestroyed(),this._automaticDataCollectionEnabled=Y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Y){this._isDeleted=Y}checkDestroyed(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}}const Sr="9.9.0";function Yr(G,Y={}){"object"!=typeof Y&&(Y={name:Y});const J=Object.assign({name:Fe,automaticDataCollectionEnabled:!1},Y),ke=J.name;if("string"!=typeof ke||!ke)throw Kn.create("bad-app-name",{appName:String(ke)});const qe=Cn.get(ke);if(qe){if((0,de.vZ)(G,qe.options)&&(0,de.vZ)(J,qe.config))return qe;throw Kn.create("duplicate-app",{appName:ke})}const Tt=new z.H0(ke);for(const rn of St.values())Tt.addComponent(rn);const cn=new Rs(G,J,Tt);return Cn.set(ke,cn),cn}function ei(G=Fe){const Y=Cn.get(G);if(!Y)throw Kn.create("no-app",{appName:G});return Y}function fs(){return Array.from(Cn.values())}function wt(G){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,o.Z)(function*(G){const Y=G.name;Cn.has(Y)&&(Cn.delete(Y),yield Promise.all(G.container.getProviders().map(J=>J.delete())),G.isDeleted=!0)})).apply(this,arguments)}function $n(G,Y,J){var ke;let qe=null!==(ke=ot[G])&&void 0!==ke?ke:G;J&&(qe+=`-${J}`);const Tt=qe.match(/\s|\//),cn=Y.match(/\s|\//);if(Tt||cn){const rn=[`Unable to register library "${qe}" with version "${Y}":`];return Tt&&rn.push(`library name "${qe}" contains illegal characters (whitespace or "/")`),Tt&&cn&&rn.push("and"),cn&&rn.push(`version name "${Y}" contains illegal characters (whitespace or "/")`),void K.warn(rn.join(" "))}zt(new z.wA(`${qe}-version`,()=>({library:qe,version:Y}),"VERSION"))}function _n(G,Y){if(null!==G&&"function"!=typeof G)throw Kn.create("invalid-log-argument");(0,P.Am)(G,Y)}function _i(G){(0,P.Ub)(G)}const Wn="firebase-heartbeat-store";let vi=null;function Os(){return vi||(vi=(0,me.X3)("firebase-heartbeat-database",1,{upgrade:(G,Y)=>{0===Y&&G.createObjectStore(Wn)}}).catch(G=>{throw Kn.create("storage-open",{originalErrorMessage:G.message})})),vi}function mt(){return(mt=(0,o.Z)(function*(G){var Y;try{return(yield Os()).transaction(Wn).objectStore(Wn).get(Ar(G))}catch(J){throw Kn.create("storage-get",{originalErrorMessage:null===(Y=J)||void 0===Y?void 0:Y.message})}})).apply(this,arguments)}function ct(G,Y){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,o.Z)(function*(G,Y){var J;try{const qe=(yield Os()).transaction(Wn,"readwrite");return yield qe.objectStore(Wn).put(Y,Ar(G)),qe.done}catch(ke){throw Kn.create("storage-set",{originalErrorMessage:null===(J=ke)||void 0===J?void 0:J.message})}})).apply(this,arguments)}function Ar(G){return`${G.name}!${G.options.appId}`}class ti{constructor(Y){this.container=Y,this._heartbeatsCache=null;const J=this.container.getProvider("app").getImmediate();this._storage=new rr(J),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var Y=this;return(0,o.Z)(function*(){const ke=Y.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qe=Rn();if(null===Y._heartbeatsCache&&(Y._heartbeatsCache=yield Y._heartbeatsCachePromise),Y._heartbeatsCache.lastSentHeartbeatDate!==qe&&!Y._heartbeatsCache.heartbeats.some(Tt=>Tt.date===qe))return Y._heartbeatsCache.heartbeats.push({date:qe,agent:ke}),Y._heartbeatsCache.heartbeats=Y._heartbeatsCache.heartbeats.filter(Tt=>{const cn=new Date(Tt.date).valueOf();return Date.now()-cn<=2592e6}),Y._storage.overwrite(Y._heartbeatsCache)})()}getHeartbeatsHeader(){var Y=this;return(0,o.Z)(function*(){if(null===Y._heartbeatsCache&&(yield Y._heartbeatsCachePromise),null===Y._heartbeatsCache||0===Y._heartbeatsCache.heartbeats.length)return"";const J=Rn(),{heartbeatsToSend:ke,unsentEntries:qe}=function vt(G,Y=1024){const J=[];let ke=G.slice();for(const qe of G){const Tt=J.find(cn=>cn.agent===qe.agent);if(Tt){if(Tt.dates.push(qe.date),Q(J)>Y){Tt.dates.pop();break}}else if(J.push({agent:qe.agent,dates:[qe.date]}),Q(J)>Y){J.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:J,unsentEntries:ke}}(Y._heartbeatsCache.heartbeats),Tt=(0,de.L)(JSON.stringify({version:2,heartbeats:ke}));return Y._heartbeatsCache.lastSentHeartbeatDate=J,qe.length>0?(Y._heartbeatsCache.heartbeats=qe,yield Y._storage.overwrite(Y._heartbeatsCache)):(Y._heartbeatsCache.heartbeats=[],Y._storage.overwrite(Y._heartbeatsCache)),Tt})()}}function Rn(){return(new Date).toISOString().substring(0,10)}class rr{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Y=this;return(0,o.Z)(function*(){return(yield Y._canUseIndexedDBPromise)&&(yield function qt(G){return mt.apply(this,arguments)}(Y.app))||{heartbeats:[]}})()}overwrite(Y){var J=this;return(0,o.Z)(function*(){var ke;if(yield J._canUseIndexedDBPromise){const Tt=yield J.read();return ct(J.app,{lastSentHeartbeatDate:null!==(ke=Y.lastSentHeartbeatDate)&&void 0!==ke?ke:Tt.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}})()}add(Y){var J=this;return(0,o.Z)(function*(){var ke;if(yield J._canUseIndexedDBPromise){const Tt=yield J.read();return ct(J.app,{lastSentHeartbeatDate:null!==(ke=Y.lastSentHeartbeatDate)&&void 0!==ke?ke:Tt.lastSentHeartbeatDate,heartbeats:[...Tt.heartbeats,...Y.heartbeats]})}})()}}function Q(G){return(0,de.L)(JSON.stringify({version:2,heartbeats:G})).length}!function Z(G){zt(new z.wA("platform-logger",Y=>new De(Y),"PRIVATE")),zt(new z.wA("heartbeat",Y=>new ti(Y),"PRIVATE")),$n(pe,"0.7.28",G),$n(pe,"0.7.28","esm2017"),$n("fire-js","")}("")},4859:(nt,Ee,F)=>{F.d(Ee,{H0:()=>pe,wA:()=>P,zt:()=>me});var o=F(9671),z=F(2090);class P{constructor(K,X,he){this.name=K,this.instanceFactory=X,this.type=he,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const de="[DEFAULT]";class me{constructor(K,X){this.name=K,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const X=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(X)){const he=new z.BH;if(this.instancesDeferred.set(X,he),this.isInitialized(X)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:X});We&&he.resolve(We)}catch(We){}}return this.instancesDeferred.get(X).promise}getImmediate(K){var X;const he=this.normalizeInstanceIdentifier(null==K?void 0:K.identifier),We=null!==(X=null==K?void 0:K.optional)&&void 0!==X&&X;if(!this.isInitialized(he)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:he})}catch(xe){if(We)return null;throw xe}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function ce(Ce){return"EAGER"===Ce.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:de})}catch(X){}for(const[X,he]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(X);try{const xe=this.getOrInitializeService({instanceIdentifier:We});he.resolve(xe)}catch(xe){}}}}clearInstance(K=de){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,o.Z)(function*(){const X=Array.from(K.instances.values());yield Promise.all([...X.filter(he=>"INTERNAL"in he).map(he=>he.INTERNAL.delete()),...X.filter(he=>"_delete"in he).map(he=>he._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=de){return this.instances.has(K)}getOptions(K=de){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:X={}}=K,he=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(he))throw Error(`${this.name}(${he}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:he,options:X});for(const[xe,Be]of this.instancesDeferred.entries())he===this.normalizeInstanceIdentifier(xe)&&Be.resolve(We);return We}onInit(K,X){var he;const We=this.normalizeInstanceIdentifier(X),xe=null!==(he=this.onInitCallbacks.get(We))&&void 0!==he?he:new Set;xe.add(K),this.onInitCallbacks.set(We,xe);const Be=this.instances.get(We);return Be&&K(Be,We),()=>{xe.delete(K)}}invokeOnInitCallbacks(K,X){const he=this.onInitCallbacks.get(X);if(he)for(const We of he)try{We(K,X)}catch(xe){}}getOrInitializeService({instanceIdentifier:K,options:X={}}){let he=this.instances.get(K);if(!he&&this.component&&(he=this.component.instanceFactory(this.container,{instanceIdentifier:(Ce=K,Ce===de?void 0:Ce),options:X}),this.instances.set(K,he),this.instancesOptions.set(K,X),this.invokeOnInitCallbacks(he,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,he)}catch(We){}var Ce;return he||null}normalizeInstanceIdentifier(K=de){return this.component?this.component.multipleInstances?K:de:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const X=this.getProvider(K.name);if(X.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);X.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const X=new me(K,this);return this.providers.set(K,X),X}getProviders(){return Array.from(this.providers.values())}}},1877:(nt,Ee,F)=>{F.d(Ee,{Am:()=>Ce,Ub:()=>pe,Yd:()=>ce,in:()=>z});const o=[];var z=(()=>{return(K=z||(z={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",z;var K})();const P={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},de=z.INFO,me={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},De=(K,X,...he)=>{if(X<K.logLevel)return;const We=(new Date).toISOString(),xe=me[X];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);console[xe](`[${We}]  ${K.name}:`,...he)};class ce{constructor(X){this.name=X,this._logLevel=de,this._logHandler=De,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(X){if(!(X in z))throw new TypeError(`Invalid value "${X}" assigned to \`logLevel\``);this._logLevel=X}setLogLevel(X){this._logLevel="string"==typeof X?P[X]:X}get logHandler(){return this._logHandler}set logHandler(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X}get userLogHandler(){return this._userLogHandler}set userLogHandler(X){this._userLogHandler=X}debug(...X){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...X),this._logHandler(this,z.DEBUG,...X)}log(...X){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...X),this._logHandler(this,z.VERBOSE,...X)}info(...X){this._userLogHandler&&this._userLogHandler(this,z.INFO,...X),this._logHandler(this,z.INFO,...X)}warn(...X){this._userLogHandler&&this._userLogHandler(this,z.WARN,...X),this._logHandler(this,z.WARN,...X)}error(...X){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...X),this._logHandler(this,z.ERROR,...X)}}function pe(K){o.forEach(X=>{X.setLogLevel(K)})}function Ce(K,X){for(const he of o){let We=null;X&&X.level&&(We=P[X.level]),he.userLogHandler=null===K?null:(xe,Be,...Ge)=>{const ye=Ge.map(we=>{if(null==we)return null;if("string"==typeof we)return we;if("number"==typeof we||"boolean"==typeof we)return we.toString();if(we instanceof Error)return we.message;try{return JSON.stringify(we)}catch(Pe){return null}}).filter(we=>we).join(" ");Be>=(null!=We?We:xe.logLevel)&&K({level:z[Be].toLowerCase(),message:ye,args:Ge,type:xe.name})}}}},8766:(nt,Ee,F)=>{F.d(Ee,{Lj:()=>Ne,X3:()=>Le});var o=F(9671);let P,de;const ce=new WeakMap,pe=new WeakMap,Ce=new WeakMap,K=new WeakMap,X=new WeakMap;let xe={get(ve,N,j){if(ve instanceof IDBTransaction){if("done"===N)return pe.get(ve);if("objectStoreNames"===N)return ve.objectStoreNames||Ce.get(ve);if("store"===N)return j.objectStoreNames[1]?void 0:j.objectStore(j.objectStoreNames[0])}return we(ve[N])},set:(ve,N,j)=>(ve[N]=j,!0),has:(ve,N)=>ve instanceof IDBTransaction&&("done"===N||"store"===N)||N in ve};function ye(ve){return"function"==typeof ve?function Ge(ve){return ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function De(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ve)?function(...N){return ve.apply(Pe(this),N),we(ce.get(this))}:function(...N){return we(ve.apply(Pe(this),N))}:function(N,...j){const $=ve.call(Pe(this),N,...j);return Ce.set($,N.sort?N.sort():[N]),we($)}}(ve):(ve instanceof IDBTransaction&&function We(ve){if(pe.has(ve))return;const N=new Promise((j,$)=>{const ee=()=>{ve.removeEventListener("complete",ue),ve.removeEventListener("error",W),ve.removeEventListener("abort",W)},ue=()=>{j(),ee()},W=()=>{$(ve.error||new DOMException("AbortError","AbortError")),ee()};ve.addEventListener("complete",ue),ve.addEventListener("error",W),ve.addEventListener("abort",W)});pe.set(ve,N)}(ve),((ve,N)=>N.some(j=>ve instanceof j))(ve,function me(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ve,xe):ve)}function we(ve){if(ve instanceof IDBRequest)return function he(ve){const N=new Promise((j,$)=>{const ee=()=>{ve.removeEventListener("success",ue),ve.removeEventListener("error",W)},ue=()=>{j(we(ve.result)),ee()},W=()=>{$(ve.error),ee()};ve.addEventListener("success",ue),ve.addEventListener("error",W)});return N.then(j=>{j instanceof IDBCursor&&ce.set(j,ve)}).catch(()=>{}),X.set(N,ve),N}(ve);if(K.has(ve))return K.get(ve);const N=ye(ve);return N!==ve&&(K.set(ve,N),X.set(N,ve)),N}const Pe=ve=>X.get(ve);function Le(ve,N,{blocked:j,upgrade:$,blocking:ee,terminated:ue}={}){const W=indexedDB.open(ve,N),He=we(W);return $&&W.addEventListener("upgradeneeded",lt=>{$(we(W.result),lt.oldVersion,lt.newVersion,we(W.transaction))}),j&&W.addEventListener("blocked",()=>j()),He.then(lt=>{ue&&lt.addEventListener("close",()=>ue()),ee&&lt.addEventListener("versionchange",()=>ee())}).catch(()=>{}),He}function Ne(ve,{blocked:N}={}){const j=indexedDB.deleteDatabase(ve);return N&&j.addEventListener("blocked",()=>N()),we(j).then(()=>{})}const et=["get","getKey","getAll","getAllKeys","count"],Me=["put","add","delete","clear"],it=new Map;function fe(ve,N){if(!(ve instanceof IDBDatabase)||N in ve||"string"!=typeof N)return;if(it.get(N))return it.get(N);const j=N.replace(/FromIndex$/,""),$=N!==j,ee=Me.includes(j);if(!(j in($?IDBIndex:IDBObjectStore).prototype)||!ee&&!et.includes(j))return;const ue=function(){var W=(0,o.Z)(function*(He,...lt){const fn=this.transaction(He,ee?"readwrite":"readonly");let Fe=fn.store;return $&&(Fe=Fe.index(lt.shift())),(yield Promise.all([Fe[j](...lt),ee&&fn.done]))[0]});return function(lt){return W.apply(this,arguments)}}();return it.set(N,ue),ue}!function Be(ve){xe=ve(xe)}(ve=>F$(N$({},ve),{get:(N,j,$)=>fe(N,j)||ve.get(N,j,$),has:(N,j)=>!!fe(N,j)||ve.has(N,j)}))}},nt=>{nt(nt.s=1591)}]);