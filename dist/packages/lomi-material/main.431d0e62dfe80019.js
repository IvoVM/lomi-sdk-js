var ote=Object.defineProperty,ate=Object.defineProperties,lte=Object.getOwnPropertyDescriptors,DG=Object.getOwnPropertySymbols,cte=Object.prototype.hasOwnProperty,ute=Object.prototype.propertyIsEnumerable,SG=(De,me,M)=>me in De?ote(De,me,{enumerable:!0,configurable:!0,writable:!0,value:M}):De[me]=M,xG=(De,me)=>{for(var M in me||(me={}))cte.call(me,M)&&SG(De,M,me[M]);if(DG)for(var M of DG(me))ute.call(me,M)&&SG(De,M,me[M]);return De},AG=(De,me)=>ate(De,lte(me));(self.webpackChunklomi_material=self.webpackChunklomi_material||[]).push([[179],{2011:(De,me,M)=>{"use strict";M.d(me,{Dh:()=>ee,GT:()=>oe,cc:()=>Se,hO:()=>Oe,on:()=>j,pX:()=>J,xv:()=>ce});var o=M(5e3),L=M(127),k=M(5813);De=M.hmd(De);const q=["ngOnDestroy"],J=(Ee,ke,Be,_e={})=>new Proxy(Ee,{get:(We,Re)=>Be.runOutsideAngular(()=>{var tt;if(Ee[Re])return(null===(tt=null==_e?void 0:_e.spy)||void 0===tt?void 0:tt.get)&&_e.spy.get(Re,Ee[Re]),Ee[Re];if(q.indexOf(Re)>-1)return()=>{};const K=ke.toPromise().then(ye=>{const N=ye&&ye[Re];return"function"==typeof N?N.bind(ye):N&&N.then?N.then(G=>Be.run(()=>G)):Be.run(()=>N)});return new Proxy(()=>{},{get:(ye,N)=>K[N],apply:(ye,N,G)=>K.then(W=>{var te;const pe=W&&W(...G);return(null===(te=null==_e?void 0:_e.spy)||void 0===te?void 0:te.apply)&&_e.spy.apply(Re,G,pe),pe})})})}),oe=(Ee,ke)=>{ke.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(_e=>{Object.defineProperty(Ee.prototype,_e,Object.getOwnPropertyDescriptor(Be.prototype||Be,_e))})})};class Y{constructor(ke){return ke}}const ee=new o.OlP("angularfire2.app.options"),ce=new o.OlP("angularfire2.app.name");function j(Ee,ke,Be){const We="object"==typeof Be&&Be||{};We.name=We.name||"string"==typeof Be&&Be||"[DEFAULT]";const tt=L.Z.apps.filter(K=>K&&K.name===We.name)[0]||ke.runOutsideAngular(()=>L.Z.initializeApp(Ee,We));try{JSON.stringify(Ee)!==JSON.stringify(tt.options)&&V("error",`${tt.name} Firebase App already initialized with different options${De.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(K){}return new Y(tt)}const V=(Ee,...ke)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[Ee](...ke)},$={provide:Y,useFactory:j,deps:[ee,o.R0b,[new o.FiY,ce]]};let Oe=(()=>{class Ee{constructor(Be){L.Z.registerVersion("angularfire",k.q4.full,"core"),L.Z.registerVersion("angularfire",k.q4.full,"app-compat"),L.Z.registerVersion("angular",o.q4F.full,Be.toString())}static initializeApp(Be,_e){return{ngModule:Ee,providers:[{provide:ee,useValue:Be},{provide:ce,useValue:_e}]}}}return Ee.\u0275fac=function(Be){return new(Be||Ee)(o.LFG(o.Lbi))},Ee.\u0275mod=o.oAB({type:Ee}),Ee.\u0275inj=o.cJS({providers:[$]}),Ee})();function Se(Ee,ke,Be,_e,We){const[,Re,tt]=globalThis.\u0275AngularfireInstanceCache.find(K=>K[0]===Ee)||[];if(Re)return function Me(Ee,ke){try{return Ee.toString()===ke.toString()}catch(Be){return Ee===ke}}(We,tt)||(be("error",`${ke} was already initialized on the ${Be} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:We,was:tt})),Re;{const K=_e();return globalThis.\u0275AngularfireInstanceCache.push([Ee,K,We]),K}}const Le=!!De.hot,be=(Ee,...ke)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[Ee](...ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(De,me,M)=>{"use strict";M.d(me,{q4:()=>Zo,iC:()=>Aa,fc:()=>rg,HU:()=>Ko,vb:()=>Kh,JM:()=>cc,u3:()=>uc});var o=M(5e3),L=M(5867),k=M(9671),q=M(9681),J=M(2090),oe=M(4859),Y=M(1877),ee=M(8766);const ce="@firebase/installations",j="0.5.9",$=`w:${j}`,Oe="FIS_v2",ke=new J.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Be(D){return D instanceof J.ZR&&D.code.includes("request-failed")}function _e({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function We(D){return{token:D.token,requestStatus:2,expiresIn:W(D.expiresIn),creationTime:Date.now()}}function Re(D,S){return tt.apply(this,arguments)}function tt(){return(tt=(0,k.Z)(function*(D,S){const Z=(yield S.json()).error;return ke.create("request-failed",{requestName:D,serverCode:Z.code,serverMessage:Z.message,serverStatus:Z.status})})).apply(this,arguments)}function K({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function ye(D,{refreshToken:S}){const P=K(D);return P.append("Authorization",function te(D){return`${Oe} ${D}`}(S)),P}function N(D){return G.apply(this,arguments)}function G(){return(G=(0,k.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function W(D){return Number(D.replace("s","000"))}function pe(D,S){return X.apply(this,arguments)}function X(){return(X=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:S},{fid:P}){const Z=_e(D),he=K(D),Ce=S.getImmediate({optional:!0});if(Ce){const St=yield Ce.getHeartbeatsHeader();St&&he.append("x-firebase-client",St)}const at={method:"POST",headers:he,body:JSON.stringify({fid:P,authVersion:Oe,appId:D.appId,sdkVersion:$})},Dt=yield N(()=>fetch(Z,at));if(Dt.ok){const St=yield Dt.json();return{fid:St.fid||P,registrationStatus:2,refreshToken:St.refreshToken,authToken:We(St.authToken)}}throw yield Re("Create Installation",Dt)})).apply(this,arguments)}function Ge(D){return new Promise(S=>{setTimeout(S,D)})}const dn=/^[cdef][\w-]{21}$/;function ot(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const P=function yn(D){return function dt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return dn.test(P)?P:""}catch(D){return""}}function Tt(D){return`${D.appName}!${D.appId}`}const Fn=new Map;function sn(D,S){const P=Tt(D);Un(P,S),function qr(D,S){const P=function zn(){return!zi&&"BroadcastChannel"in self&&(zi=new BroadcastChannel("[Firebase] FID Change"),zi.onmessage=D=>{Un(D.data.key,D.data.fid)}),zi}();P&&P.postMessage({key:D,fid:S}),function fs(){0===Fn.size&&zi&&(zi.close(),zi=null)}()}(P,S)}function Un(D,S){const P=Fn.get(D);if(P)for(const Z of P)Z(S)}let zi=null;const Kn="firebase-installations-store";let ps=null;function bt(){return ps||(ps=(0,ee.X3)("firebase-installations-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore(Kn)}})),ps}function er(D,S){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,k.Z)(function*(D,S){const P=Tt(D),he=(yield bt()).transaction(Kn,"readwrite"),Ce=he.objectStore(Kn),Fe=yield Ce.get(P);return yield Ce.put(S,P),yield he.done,(!Fe||Fe.fid!==S.fid)&&sn(D,S.fid),S})).apply(this,arguments)}function cn(D){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,k.Z)(function*(D){const S=Tt(D),Z=(yield bt()).transaction(Kn,"readwrite");yield Z.objectStore(Kn).delete(S),yield Z.done})).apply(this,arguments)}function vi(D,S){return tr.apply(this,arguments)}function tr(){return(tr=(0,k.Z)(function*(D,S){const P=Tt(D),he=(yield bt()).transaction(Kn,"readwrite"),Ce=he.objectStore(Kn),Fe=yield Ce.get(P),at=S(Fe);return void 0===at?yield Ce.delete(P):yield Ce.put(at,P),yield he.done,at&&(!Fe||Fe.fid!==at.fid)&&sn(D,at.fid),at})).apply(this,arguments)}function Bn(D){return bi.apply(this,arguments)}function bi(){return(bi=(0,k.Z)(function*(D){let S;const P=yield vi(D.appConfig,Z=>{const he=Ps(Z),Ce=Yt(D,he);return S=Ce.registrationPromise,Ce.installationEntry});return""===P.fid?{installationEntry:yield S}:{installationEntry:P,registrationPromise:S}})).apply(this,arguments)}function Ps(D){return gs(D||{fid:ot(),registrationStatus:0})}function Yt(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(ke.create("app-offline"))};const P={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},Z=function mt(D,S){return ct.apply(this,arguments)}(D,P);return{installationEntry:P,registrationPromise:Z}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:kr(D)}:{installationEntry:S}}function ct(){return(ct=(0,k.Z)(function*(D,S){try{const P=yield pe(D,S);return er(D.appConfig,P)}catch(P){throw Be(P)&&409===P.customData.serverCode?yield cn(D.appConfig):yield er(D.appConfig,{fid:S.fid,registrationStatus:0}),P}})).apply(this,arguments)}function kr(D){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,k.Z)(function*(D){let S=yield Kt(D.appConfig);for(;1===S.registrationStatus;)yield Ge(100),S=yield Kt(D.appConfig);if(0===S.registrationStatus){const{installationEntry:P,registrationPromise:Z}=yield Bn(D);return Z||P}return S})).apply(this,arguments)}function Kt(D){return vi(D,S=>{if(!S)throw ke.create("installation-not-found");return gs(S)})}function gs(D){return function Qn(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function vn(D,S){return Q.apply(this,arguments)}function Q(){return(Q=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:S},P){const Z=re(D,P),he=ye(D,P),Ce=S.getImmediate({optional:!0});if(Ce){const St=yield Ce.getHeartbeatsHeader();St&&he.append("x-firebase-client",St)}const at={method:"POST",headers:he,body:JSON.stringify({installation:{sdkVersion:$,appId:D.appId}})},Dt=yield N(()=>fetch(Z,at));if(Dt.ok)return We(yield Dt.json());throw yield Re("Generate Auth Token",Dt)})).apply(this,arguments)}function re(D,{fid:S}){return`${_e(D)}/${S}/authTokens:generate`}function le(D){return xe.apply(this,arguments)}function xe(){return(xe=(0,k.Z)(function*(D,S=!1){let P;const Z=yield vi(D.appConfig,Ce=>{if(!Nt(Ce))throw ke.create("not-registered");const Fe=Ce.authToken;if(!S&&mn(Fe))return Ce;if(1===Fe.requestStatus)return P=ne(D,S),Ce;{if(!navigator.onLine)throw ke.create("app-offline");const at=di(Ce);return P=it(D,at),at}});return P?yield P:Z.authToken})).apply(this,arguments)}function ne(D,S){return fe.apply(this,arguments)}function fe(){return(fe=(0,k.Z)(function*(D,S){let P=yield He(D.appConfig);for(;1===P.authToken.requestStatus;)yield Ge(100),P=yield He(D.appConfig);const Z=P.authToken;return 0===Z.requestStatus?le(D,S):Z})).apply(this,arguments)}function He(D){return vi(D,S=>{if(!Nt(S))throw ke.create("not-registered");return function ve(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function it(D,S){return vt.apply(this,arguments)}function vt(){return(vt=(0,k.Z)(function*(D,S){try{const P=yield vn(D,S),Z=Object.assign(Object.assign({},S),{authToken:P});return yield er(D.appConfig,Z),P}catch(P){if(!Be(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const Z=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield er(D.appConfig,Z)}else yield cn(D.appConfig);throw P}})).apply(this,arguments)}function Nt(D){return void 0!==D&&2===D.registrationStatus}function mn(D){return 2===D.requestStatus&&!function It(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+36e5}(D)}function di(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}function se(){return(se=(0,k.Z)(function*(D){const S=D,{installationEntry:P,registrationPromise:Z}=yield Bn(S);return Z?Z.catch(console.error):le(S).catch(console.error),P.fid})).apply(this,arguments)}function Xe(){return(Xe=(0,k.Z)(function*(D,S=!1){const P=D;return yield pt(P),(yield le(P,S)).token})).apply(this,arguments)}function pt(D){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,k.Z)(function*(D){const{registrationPromise:S}=yield Bn(D);S&&(yield S)})).apply(this,arguments)}function tl(D){return ke.create("missing-app-config-values",{valueName:D})}const yr="installations",Ht=D=>{const S=D.getProvider("app").getImmediate(),P=function xi(D){if(!D||!D.options)throw tl("App Configuration");if(!D.name)throw tl("App Name");const S=["projectId","apiKey","appId"];for(const P of S)if(!D.options[P])throw tl(P);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S);return{app:S,appConfig:P,heartbeatServiceProvider:(0,q._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},On=D=>{const S=D.getProvider("app").getImmediate(),P=(0,q._getProvider)(S,yr).getImmediate();return{getId:()=>function ue(D){return se.apply(this,arguments)}(P),getToken:he=>function Pe(D){return Xe.apply(this,arguments)}(P,he)}};(function nr(){(0,q._registerComponent)(new oe.wA(yr,Ht,"PUBLIC")),(0,q._registerComponent)(new oe.wA("installations-internal",On,"PRIVATE"))})(),(0,q.registerVersion)(ce,j),(0,q.registerVersion)(ce,j,"esm2017");const Ns="@firebase/remote-config",Jn=new J.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class td{constructor(S,P,Z,he){this.client=S,this.storage=P,this.storageCache=Z,this.logger=he}isCachedDataFresh(S,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Z=Date.now()-P,he=Z<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Z}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${he}.`),he}fetch(S){var P=this;return(0,k.Z)(function*(){const[Z,he]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(he&&P.isCachedDataFresh(S.cacheMaxAgeMillis,Z))return he;S.eTag=he&&he.eTag;const Ce=yield P.client.fetch(S),Fe=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ce.status&&Fe.push(P.storage.setLastSuccessfulFetchResponse(Ce)),yield Promise.all(Fe),Ce})()}}function ql(D=navigator){return D.languages&&D.languages[0]||D.language}class hi{constructor(S,P,Z,he,Ce,Fe){this.firebaseInstallations=S,this.sdkVersion=P,this.namespace=Z,this.projectId=he,this.apiKey=Ce,this.appId=Fe}fetch(S){var P=this;return(0,k.Z)(function*(){const[Z,he]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),Fe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,at={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},Dt={sdk_version:P.sdkVersion,app_instance_id:Z,app_instance_id_token:he,app_id:P.appId,language_code:ql()},St={method:"POST",headers:at,body:JSON.stringify(Dt)},zt=fetch(Fe,St),kt=new Promise((Ir,Qs)=>{S.signal.addEventListener(()=>{const Tl=new Error("The operation was aborted.");Tl.name="AbortError",Qs(Tl)})});let ar;try{yield Promise.race([zt,kt]),ar=yield zt}catch(Ir){let Qs="fetch-client-network";throw"AbortError"===Ir.name&&(Qs="fetch-timeout"),Jn.create(Qs,{originalErrorMessage:Ir.message})}let gi=ar.status;const Ks=ar.headers.get("ETag")||void 0;let Jr,Cs;if(200===ar.status){let Ir;try{Ir=yield ar.json()}catch(Qs){throw Jn.create("fetch-client-parse",{originalErrorMessage:Qs.message})}Jr=Ir.entries,Cs=Ir.state}if("INSTANCE_STATE_UNSPECIFIED"===Cs?gi=500:"NO_CHANGE"===Cs?gi=304:("NO_TEMPLATE"===Cs||"EMPTY_CONFIG"===Cs)&&(Jr={}),304!==gi&&200!==gi)throw Jn.create("fetch-status",{httpStatus:gi});return{status:gi,eTag:Ks,config:Jr}})()}}class Ls{constructor(S,P){this.client=S,this.storage=P}fetch(S){var P=this;return(0,k.Z)(function*(){const Z=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(S,Z)})()}attemptFetch(S,{throttleEndTimeMillis:P,backoffCount:Z}){var he=this;return(0,k.Z)(function*(){yield function nd(D,S){return new Promise((P,Z)=>{const he=Math.max(S-Date.now(),0),Ce=setTimeout(P,he);D.addEventListener(()=>{clearTimeout(Ce),Z(Jn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,P);try{const Ce=yield he.client.fetch(S);return yield he.storage.deleteThrottleMetadata(),Ce}catch(Ce){if(!function Zp(D){if(!(D instanceof J.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(Ce))throw Ce;const Fe={throttleEndTimeMillis:Date.now()+(0,J.$s)(Z),backoffCount:Z+1};return yield he.storage.setThrottleMetadata(Fe),he.attemptFetch(S,Fe)}})()}}class Kp{constructor(S,P,Z,he,Ce){this.app=S,this._client=P,this._storageCache=Z,this._storage=he,this._logger=Ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function nl(D,S){const P=D.target.error||void 0;return Jn.create(S,{originalErrorMessage:P&&P.message})}const pa="app_namespace_store";class od{constructor(S,P,Z,he=function sd(){return new Promise((D,S)=>{try{const P=indexedDB.open("firebase_remote_config",1);P.onerror=Z=>{S(nl(Z,"storage-open"))},P.onsuccess=Z=>{D(Z.target.result)},P.onupgradeneeded=Z=>{0===Z.oldVersion&&Z.target.result.createObjectStore(pa,{keyPath:"compositeKey"})}}catch(P){S(Jn.create("storage-open",{originalErrorMessage:P}))}})}()){this.appId=S,this.appName=P,this.namespace=Z,this.openDbPromise=he}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var P=this;return(0,k.Z)(function*(){const Z=yield P.openDbPromise;return new Promise((he,Ce)=>{const at=Z.transaction([pa],"readonly").objectStore(pa),Dt=P.createCompositeKey(S);try{const St=at.get(Dt);St.onerror=zt=>{Ce(nl(zt,"storage-get"))},St.onsuccess=zt=>{const kt=zt.target.result;he(kt?kt.value:void 0)}}catch(St){Ce(Jn.create("storage-get",{originalErrorMessage:St&&St.message}))}})})()}set(S,P){var Z=this;return(0,k.Z)(function*(){const he=yield Z.openDbPromise;return new Promise((Ce,Fe)=>{const Dt=he.transaction([pa],"readwrite").objectStore(pa),St=Z.createCompositeKey(S);try{const zt=Dt.put({compositeKey:St,value:P});zt.onerror=kt=>{Fe(nl(kt,"storage-set"))},zt.onsuccess=()=>{Ce()}}catch(zt){Fe(Jn.create("storage-set",{originalErrorMessage:zt&&zt.message}))}})})()}delete(S){var P=this;return(0,k.Z)(function*(){const Z=yield P.openDbPromise;return new Promise((he,Ce)=>{const at=Z.transaction([pa],"readwrite").objectStore(pa),Dt=P.createCompositeKey(S);try{const St=at.delete(Dt);St.onerror=zt=>{Ce(nl(zt,"storage-delete"))},St.onsuccess=()=>{he()}}catch(St){Ce(Jn.create("storage-delete",{originalErrorMessage:St&&St.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class ga{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,k.Z)(function*(){const P=S.storage.getLastFetchStatus(),Z=S.storage.getLastSuccessfulFetchTimestampMillis(),he=S.storage.getActiveConfig(),Ce=yield P;Ce&&(S.lastFetchStatus=Ce);const Fe=yield Z;Fe&&(S.lastSuccessfulFetchTimestampMillis=Fe);const at=yield he;at&&(S.activeConfig=at)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function ry(){return il.apply(this,arguments)}function il(){return(il=(0,k.Z)(function*(){if(!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(D){return!1}})).apply(this,arguments)}!function Jp(){(0,q._registerComponent)(new oe.wA("remote-config",function D(S,{instanceIdentifier:P}){const Z=S.getProvider("app").getImmediate(),he=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Jn.create("registration-window");if(!(0,J.hl)())throw Jn.create("indexed-db-unavailable");const{projectId:Ce,apiKey:Fe,appId:at}=Z.options;if(!Ce)throw Jn.create("registration-project-id");if(!Fe)throw Jn.create("registration-api-key");if(!at)throw Jn.create("registration-app-id");const Dt=new od(at,Z.name,P=P||"firebase"),St=new ga(Dt),zt=new Y.Yd(Ns);zt.logLevel=Y.in.ERROR;const kt=new hi(he,q.SDK_VERSION,P,Ce,Fe,at),ar=new Ls(kt,Dt),gi=new td(ar,Dt,St,zt),Ks=new Kp(Z,gi,St,Dt,zt);return function wn(D){const S=(0,J.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Ks),Ks},"PUBLIC").setMultipleInstances(!0)),(0,q.registerVersion)(Ns,"0.3.8"),(0,q.registerVersion)(Ns,"0.3.8","esm2017")}();const po="/firebase-messaging-sw.js",Nr="/firebase-cloud-messaging-push-scope",ma="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sl="google.c.a.c_id",Vh="google.c.a.c_l",Xp="google.c.a.ts",wi="google.c.a.e";var Vs=(()=>{return(D=Vs||(Vs={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Vs;var D})();function Yr(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ld(D){const P=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Z=atob(P),he=new Uint8Array(Z.length);for(let Ce=0;Ce<Z.length;++Ce)he[Ce]=Z.charCodeAt(Ce);return he}const Vi="fcm_token_details_db",cd="fcm_token_object_Store";function ud(D){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,k.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ce=>Ce.name).includes(Vi))return null;let S=null;return(yield(0,ee.X3)(Vi,5,{upgrade:(Z=(0,k.Z)(function*(he,Ce,Fe,at){var Dt;if(Ce<2||!he.objectStoreNames.contains(cd))return;const St=at.objectStore(cd),zt=yield St.index("fcmSenderId").get(D);if(yield St.clear(),zt)if(2===Ce){const kt=zt;if(!kt.auth||!kt.p256dh||!kt.endpoint)return;S={token:kt.fcmToken,createTime:null!==(Dt=kt.createTime)&&void 0!==Dt?Dt:Date.now(),subscriptionOptions:{auth:kt.auth,p256dh:kt.p256dh,endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:"string"==typeof kt.vapidKey?kt.vapidKey:Yr(kt.vapidKey)}}}else if(3===Ce){const kt=zt;S={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:Yr(kt.auth),p256dh:Yr(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:Yr(kt.vapidKey)}}}else if(4===Ce){const kt=zt;S={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:Yr(kt.auth),p256dh:Yr(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:Yr(kt.vapidKey)}}}}),function(Ce,Fe,at,Dt){return Z.apply(this,arguments)})})).close(),yield(0,ee.Lj)(Vi),yield(0,ee.Lj)("fcm_vapid_details_db"),yield(0,ee.Lj)("undefined"),Yl(S)?S:null;var Z}),Zl.apply(this,arguments)}function Yl(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Us="firebase-messaging-store";let Xc=null;function Mn(){return Xc||(Xc=(0,ee.X3)("firebase-messaging-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore(Us)}})),Xc}function ol(D){return go.apply(this,arguments)}function go(){return(go=(0,k.Z)(function*(D){const S=Ai(D),Z=yield(yield Mn()).transaction(Us).objectStore(Us).get(S);if(Z)return Z;{const he=yield ud(D.appConfig.senderId);if(he)return yield Cn(D,he),he}})).apply(this,arguments)}function Cn(D,S){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,k.Z)(function*(D,S){const P=Ai(D),he=(yield Mn()).transaction(Us,"readwrite");return yield he.objectStore(Us).put(S,P),yield he.done,S})).apply(this,arguments)}function al(D){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,k.Z)(function*(D){const S=Ai(D),Z=(yield Mn()).transaction(Us,"readwrite");yield Z.objectStore(Us).delete(S),yield Z.done})).apply(this,arguments)}function Ai({appConfig:D}){return D.appId}const Xn=new J.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Hs(D,S){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,k.Z)(function*(D,S){const P=yield _o(D),Z=ll(S),he={method:"POST",headers:P,body:JSON.stringify(Z)};let Ce;try{Ce=yield(yield fetch(mo(D.appConfig),he)).json()}catch(Fe){throw Xn.create("token-subscribe-failed",{errorInfo:Fe})}if(Ce.error)throw Xn.create("token-subscribe-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw Xn.create("token-subscribe-no-token");return Ce.token})).apply(this,arguments)}function _a(D,S){return _s.apply(this,arguments)}function _s(){return(_s=(0,k.Z)(function*(D,S){const P=yield _o(D),Z=ll(S.subscriptionOptions),he={method:"PATCH",headers:P,body:JSON.stringify(Z)};let Ce;try{Ce=yield(yield fetch(`${mo(D.appConfig)}/${S.token}`,he)).json()}catch(Fe){throw Xn.create("token-update-failed",{errorInfo:Fe})}if(Ce.error)throw Xn.create("token-update-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw Xn.create("token-update-no-token");return Ce.token})).apply(this,arguments)}function eu(D,S){return vr.apply(this,arguments)}function vr(){return(vr=(0,k.Z)(function*(D,S){const Z={method:"DELETE",headers:yield _o(D)};try{const Ce=yield(yield fetch(`${mo(D.appConfig)}/${S}`,Z)).json();if(Ce.error)throw Xn.create("token-unsubscribe-failed",{errorInfo:Ce.error.message})}catch(he){throw Xn.create("token-unsubscribe-failed",{errorInfo:he})}})).apply(this,arguments)}function mo({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function _o(D){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,k.Z)(function*({appConfig:D,installations:S}){const P=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function ll({p256dh:D,auth:S,endpoint:P,vapidKey:Z}){const he={web:{endpoint:P,auth:S,p256dh:D}};return Z!==ma&&(he.web.applicationPubKey=Z),he}const cl=6048e5;function dd(D){return ul.apply(this,arguments)}function ul(){return(ul=(0,k.Z)(function*(D){const S=yield Wn(D.swRegistration,D.vapidKey),P={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:Yr(S.getKey("auth")),p256dh:Yr(S.getKey("p256dh"))},Z=yield ol(D.firebaseDependencies);if(Z){if(fl(Z.subscriptionOptions,P))return Date.now()>=Z.createTime+cl?Uh(D,{token:Z.token,createTime:Date.now(),subscriptionOptions:P}):Z.token;try{yield eu(D.firebaseDependencies,Z.token)}catch(he){console.warn(he)}return Qt(D.firebaseDependencies,P)}return Qt(D.firebaseDependencies,P)})).apply(this,arguments)}function tu(D){return dl.apply(this,arguments)}function dl(){return(dl=(0,k.Z)(function*(D){const S=yield ol(D.firebaseDependencies);S&&(yield eu(D.firebaseDependencies,S.token),yield al(D.firebaseDependencies));const P=yield D.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()})).apply(this,arguments)}function Uh(D,S){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,k.Z)(function*(D,S){try{const P=yield _a(D.firebaseDependencies,S),Z=Object.assign(Object.assign({},S),{token:P,createTime:Date.now()});return yield Cn(D.firebaseDependencies,Z),P}catch(P){throw yield tu(D),P}})).apply(this,arguments)}function Qt(D,S){return hl.apply(this,arguments)}function hl(){return(hl=(0,k.Z)(function*(D,S){const Z={token:yield Hs(D,S),createTime:Date.now(),subscriptionOptions:S};return yield Cn(D,Z),Z.token})).apply(this,arguments)}function Wn(D,S){return yo.apply(this,arguments)}function yo(){return(yo=(0,k.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ld(S)})})).apply(this,arguments)}function fl(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}function rr(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function nu(D,S){if(!S.notification)return;D.notification={};const P=S.notification.title;P&&(D.notification.title=P);const Z=S.notification.body;Z&&(D.notification.body=Z);const he=S.notification.image;he&&(D.notification.image=he)}(S,D),function iu(D,S){!S.data||(D.data=S.data)}(S,D),function hd(D,S){if(!S.fcmOptions)return;D.fcmOptions={};const P=S.fcmOptions.link;P&&(D.fcmOptions.link=P);const Z=S.fcmOptions.analytics_label;Z&&(D.fcmOptions.analyticsLabel=Z)}(S,D),S}function fd(D){return"object"==typeof D&&!!D&&sl in D}function pl(D,S){const P=[];for(let Z=0;Z<D.length;Z++)P.push(D.charAt(Z)),Z<S.length&&P.push(S.charAt(Z));return P.join("")}function Ci(D){return Xn.create("missing-app-config-values",{valueName:D})}pl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Kr{constructor(S,P,Z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const he=function ya(D){if(!D||!D.options)throw Ci("App Configuration Object");if(!D.name)throw Ci("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:P}=D;for(const Z of S)if(!P[Z])throw Ci(Z);return{appName:D.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:he,installations:P,analyticsProvider:Z}}_delete(){return Promise.resolve()}}function ru(D){return ys.apply(this,arguments)}function ys(){return(ys=(0,k.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(po,{scope:Nr}),D.swRegistration.update().catch(()=>{})}catch(S){throw Xn.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function js(D,S){return gl.apply(this,arguments)}function gl(){return(gl=(0,k.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield ru(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Xn.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function pd(D,S){return ml.apply(this,arguments)}function ml(){return(ml=(0,k.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=ma)})).apply(this,arguments)}function Ho(){return(Ho=(0,k.Z)(function*(D,S){if(!navigator)throw Xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xn.create("permission-blocked");return yield pd(D,null==S?void 0:S.vapidKey),yield js(D,null==S?void 0:S.serviceWorkerRegistration),dd(D)})).apply(this,arguments)}function Xl(D,S,P){return _l.apply(this,arguments)}function _l(){return(_l=(0,k.Z)(function*(D,S,P){const Z=su(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(Z,{message_id:P[sl],message_name:P[Vh],message_time:P[Xp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function su(D){switch(D){case Vs.NOTIFICATION_CLICKED:return"notification_open";case Vs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ec(){return(ec=(0,k.Z)(function*(D,S){const P=S.data;if(!P.isFirebaseMessaging)return;D.onMessageHandler&&P.messageType===Vs.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(rr(P)):D.onMessageHandler.next(rr(P)));const Z=P.data;fd(Z)&&"1"===Z[wi]&&(yield Xl(D,P.messageType,Z))})).apply(this,arguments)}const jo="@firebase/messaging",zo=D=>{const S=new Kr(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function eg(D,S){return ec.apply(this,arguments)}(S,P)),S},md=D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:Z=>function gd(D,S){return Ho.apply(this,arguments)}(S,Z)}};function va(){return vs.apply(this,arguments)}function vs(){return(vs=(0,k.Z)(function*(){try{yield(0,J.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,J.hl)()&&(0,J.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Hh(){(0,q._registerComponent)(new oe.wA("messaging",zo,"PUBLIC")),(0,q._registerComponent)(new oe.wA("messaging-internal",md,"PRIVATE")),(0,q.registerVersion)(jo,"0.9.13"),(0,q.registerVersion)(jo,"0.9.13","esm2017")}();const _d="analytics",tg="firebase_id",vl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tc="https://www.googletagmanager.com/gtag/js",Ri=new Y.Yd("@firebase/analytics");function Gh(D){return Promise.all(D.map(S=>S.catch(P=>P)))}function Go(D,S){const P=document.createElement("script");P.src=`${tc}?l=${D}&id=${S}`,P.async=!0,document.head.appendChild(P)}function yd(D,S,P,Z,he,Ce){return vd.apply(this,arguments)}function vd(){return(vd=(0,k.Z)(function*(D,S,P,Z,he,Ce){const Fe=Z[he];try{if(Fe)yield S[Fe];else{const Dt=(yield Gh(P)).find(St=>St.measurementId===he);Dt&&(yield S[Dt.appId])}}catch(at){Ri.error(at)}D("config",he,Ce)})).apply(this,arguments)}function sr(D,S,P,Z,he){return wa.apply(this,arguments)}function wa(){return(wa=(0,k.Z)(function*(D,S,P,Z,he){try{let Ce=[];if(he&&he.send_to){let Fe=he.send_to;Array.isArray(Fe)||(Fe=[Fe]);const at=yield Gh(P);for(const Dt of Fe){const St=at.find(kt=>kt.measurementId===Dt),zt=St&&S[St.appId];if(!zt){Ce=[];break}Ce.push(zt)}}0===Ce.length&&(Ce=Object.values(S)),yield Promise.all(Ce),D("event",Z,he||{})}catch(Ce){Ri.error(Ce)}})).apply(this,arguments)}function au(){const D=window.document.getElementsByTagName("script");for(const S of Object.values(D))if(S.src&&S.src.includes(tc))return S;return null}const Gn=new J.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),or=new class ri{constructor(S={},P=1e3){this.throttleMetadata=S,this.intervalMillis=P}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,P){this.throttleMetadata[S]=P}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function $s(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function br(D){return jt.apply(this,arguments)}function jt(){return(jt=(0,k.Z)(function*(D){var S;const{appId:P,apiKey:Z}=D,he={method:"GET",headers:$s(Z)},Ce=vl.replace("{app-id}",P),Fe=yield fetch(Ce,he);if(200!==Fe.status&&304!==Fe.status){let at="";try{const Dt=yield Fe.json();(null===(S=Dt.error)||void 0===S?void 0:S.message)&&(at=Dt.error.message)}catch(Dt){}throw Gn.create("config-fetch-failed",{httpStatus:Fe.status,responseMessage:at})}return Fe.json()})).apply(this,arguments)}function kn(D){return En.apply(this,arguments)}function En(){return(En=(0,k.Z)(function*(D,S=or,P){const{appId:Z,apiKey:he,measurementId:Ce}=D.options;if(!Z)throw Gn.create("no-app-id");if(!he){if(Ce)return{measurementId:Ce,appId:Z};throw Gn.create("no-api-key")}const Fe=S.getThrottleMetadata(Z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},at=new rc;return setTimeout((0,k.Z)(function*(){at.abort()}),void 0!==P?P:6e4),gt({appId:Z,apiKey:he,measurementId:Ce},Fe,at,S)})).apply(this,arguments)}function gt(D,S,P){return nc.apply(this,arguments)}function nc(){return(nc=(0,k.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:P},Z,he=or){const{appId:Ce,measurementId:Fe}=D;try{yield wd(Z,S)}catch(at){if(Fe)return Ri.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Fe} provided in the "measurementId" field in the local Firebase config. [${at.message}]`),{appId:Ce,measurementId:Fe};throw at}try{const at=yield br(D);return he.deleteThrottleMetadata(Ce),at}catch(at){if(!ic(at)){if(he.deleteThrottleMetadata(Ce),Fe)return Ri.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Fe} provided in the "measurementId" field in the local Firebase config. [${at.message}]`),{appId:Ce,measurementId:Fe};throw at}const Dt=503===Number(at.customData.httpStatus)?(0,J.$s)(P,he.intervalMillis,30):(0,J.$s)(P,he.intervalMillis),St={throttleEndTimeMillis:Date.now()+Dt,backoffCount:P+1};return he.setThrottleMetadata(Ce,St),Ri.debug(`Calling attemptFetch again in ${Dt} millis`),gt(D,St,Z,he)}})).apply(this,arguments)}function wd(D,S){return new Promise((P,Z)=>{const he=Math.max(S-Date.now(),0),Ce=setTimeout(P,he);D.addEventListener(()=>{clearTimeout(Ce),Z(Gn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function ic(D){if(!(D instanceof J.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}class rc{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function $h(){return wr.apply(this,arguments)}function wr(){return(wr=(0,k.Z)(function*(){if(!(0,J.hl)())return Ri.warn(Gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,J.eu)()}catch(D){return Ri.warn(Gn.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function Tn(){return(Tn=(0,k.Z)(function*(D,S,P,Z,he,Ce,Fe){var at;const Dt=kn(D);Dt.then(gi=>{P[gi.measurementId]=gi.appId,D.options.measurementId&&gi.measurementId!==D.options.measurementId&&Ri.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${gi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(gi=>Ri.error(gi)),S.push(Dt);const St=$h().then(gi=>{if(gi)return Z.getId()}),[zt,kt]=yield Promise.all([Dt,St]);au()||Go(Ce,zt.measurementId),he("js",new Date);const ar=null!==(at=null==Fe?void 0:Fe.config)&&void 0!==at?at:{};return ar.origin="firebase",ar.update=!0,null!=kt&&(ar[tg]=kt),he("config",zt.measurementId,ar),zt.measurementId})).apply(this,arguments)}class vo{constructor(S){this.app=S}_delete(){return delete Cr[this.app.options.appId],Promise.resolve()}}let Cr={},sc=[];const Ws={};let Ca,bo,Er="dataLayer",Jt=!1;function $o(D,S,P){!function Lr(){const D=[];if((0,J.ru)()&&D.push("This is a browser extension environment."),(0,J.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((Z,he)=>`(${he+1}) ${Z}`).join(" "),P=Gn.create("invalid-analytics-context",{errorInfo:S});Ri.warn(P.message)}}();const Z=D.options.appId;if(!Z)throw Gn.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Gn.create("no-api-key");Ri.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Cr[Z])throw Gn.create("already-exists",{id:Z});if(!Jt){!function ba(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(Er);const{wrappedGtag:Ce,gtagCore:Fe}=function ng(D,S,P,Z,he){let Ce=function(...Fe){window[Z].push(arguments)};return window[he]&&"function"==typeof window[he]&&(Ce=window[he]),window[he]=function bd(D,S,P,Z){function Ce(){return(Ce=(0,k.Z)(function*(Fe,at,Dt){try{"event"===Fe?yield sr(D,S,P,at,Dt):"config"===Fe?yield yd(D,S,P,Z,at,Dt):D("set",at)}catch(St){Ri.error(St)}})).apply(this,arguments)}return function he(Fe,at,Dt){return Ce.apply(this,arguments)}}(Ce,D,S,P),{gtagCore:Ce,wrappedGtag:window[he]}}(Cr,sc,Ws,Er,"gtag");bo=Ce,Ca=Fe,Jt=!0}return Cr[Z]=function gn(D,S,P,Z,he,Ce,Fe){return Tn.apply(this,arguments)}(D,sc,Ws,S,Ca,Er,P),new vo(D)}function cu(){return(cu=(0,k.Z)(function*(D,S,P,Z,he){if(he&&he.global)D("event",P,Z);else{const Ce=yield S;D("event",P,Object.assign(Object.assign({},Z),{send_to:Ce}))}})).apply(this,arguments)}function ig(){return oc.apply(this,arguments)}function oc(){return(oc=(0,k.Z)(function*(){if((0,J.ru)()||!(0,J.zI)()||!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(D){return!1}})).apply(this,arguments)}const U="@firebase/analytics";!function qh(){(0,q._registerComponent)(new oe.wA(_d,(S,{options:P})=>$o(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,q._registerComponent)(new oe.wA("analytics-internal",function D(S){try{const P=S.getProvider(_d).getImmediate();return{logEvent:(Z,he,Ce)=>function qs(D,S,P,Z){D=(0,J.m9)(D),function lu(D,S,P,Z,he){return cu.apply(this,arguments)}(bo,Cr[D.app.options.appId],S,P,Z).catch(he=>Ri.error(he))}(P,Z,he,Ce)}}catch(P){throw Gn.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,q.registerVersion)(U,"0.7.9"),(0,q.registerVersion)(U,"0.7.9","esm2017")}();var wl=M(4408),tn=M(7565);const Eo=new class qi extends tn.v{}(class Cd extends wl.o{constructor(S,P){super(S,P),this.scheduler=S,this.work=P}schedule(S,P=0){return P>0?super.schedule(S,P):(this.delay=P,this.state=S,this.scheduler.flush(this),this)}execute(S,P){return P>0||this.closed?super.execute(S,P):this._execute(S,P)}requestAsyncId(S,P,Z=0){return null!=Z&&Z>0||null==Z&&this.delay>0?super.requestAsyncId(S,P,Z):S.flush(this)}});var Zh=M(4986),Zi=M(8306),Tr=M(8505),qo=M(5363),Cl=M(9468);const Zo=new o.GfV("7.4.1"),ac="__angularfire_symbol__analyticsIsSupportedValue",Zs="__angularfire_symbol__analyticsIsSupported",fi="__angularfire_symbol__remoteConfigIsSupportedValue",El="__angularfire_symbol__remoteConfigIsSupported",hu="__angularfire_symbol__messagingIsSupportedValue",lc="__angularfire_symbol__messagingIsSupported";function cc(D,S,P){if(S){if(1===S.length)return S[0];const Ce=S.filter(Fe=>Fe.app===P);if(1===Ce.length)return Ce[0]}return P.container.getProvider(D).getImmediate({optional:!0})}globalThis[Zs]||(globalThis[Zs]=ig().then(D=>globalThis[ac]=D).catch(()=>globalThis[ac]=!1)),globalThis[lc]||(globalThis[lc]=va().then(D=>globalThis[hu]=D).catch(()=>globalThis[hu]=!1)),globalThis[El]||(globalThis[El]=ry().then(D=>globalThis[fi]=D).catch(()=>globalThis[fi]=!1));const Kh=(D,S)=>{const P=S?[S]:(0,L.C6)(),Z=[];return P.forEach(he=>{he.container.getProvider(D).instances.forEach(Fe=>{Z.includes(Fe)||Z.push(Fe)})}),Z};function To(){}class Ed{constructor(S,P=Eo){this.zone=S,this.delegate=P}now(){return this.delegate.now()}schedule(S,P,Z){const he=this.zone;return this.delegate.schedule(function(Fe){he.runGuarded(()=>{S.apply(this,[Fe])})},P,Z)}}class fu{constructor(S){this.zone=S,this.task=null}call(S,P){const Z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",To,{},To,To)),P.pipe((0,Tr.b)({next:Z,complete:Z,error:Z})).subscribe(S).add(Z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ko=(()=>{class D{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new Ed(Zone.current)),this.insideAngular=P.run(()=>new Ed(Zone.current,Zh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(P){return new(P||D)(o.LFG(o.R0b))},D.\u0275prov=o.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Ys(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function ws(D){return Ys().ngZone.runOutsideAngular(()=>D())}function Qr(D){return Ys().ngZone.run(()=>D())}function rg(D){return D.pipe((0,qo.Q)(Ys().outsideAngular))}function Aa(D){return Ys(),function Ma(D){return function(P){return(P=P.lift(new fu(D.ngZone))).pipe((0,Cl.R)(D.outsideAngular),(0,qo.Q)(D.insideAngular))}}(Ys())(D)}const Td=(D,S)=>function(){const Z=arguments;return S&&setTimeout(()=>{"scheduled"===S.state&&S.invoke()},10),Qr(()=>D.apply(void 0,Z))},uc=(D,S)=>function(){let P;const Z=arguments;for(let Ce=0;Ce<arguments.length;Ce++)"function"==typeof Z[Ce]&&(S&&(P||(P=Qr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",To,{},To,To)))),Z[Ce]=Td(Z[Ce],P));const he=ws(()=>D.apply(this,Z));if(!S){if(he instanceof Zi.y){const Ce=Ys();return he.pipe((0,Cl.R)(Ce.outsideAngular),(0,qo.Q)(Ce.insideAngular))}return Qr(()=>he)}return he instanceof Zi.y?he.pipe(Aa):he instanceof Promise?Qr(()=>new Promise((Ce,Fe)=>he.then(at=>Qr(()=>Ce(at)),at=>Qr(()=>Fe(at))))):"function"==typeof he&&P?function(){return setTimeout(()=>{P&&"scheduled"===P.state&&P.invoke()},10),he.apply(this,arguments)}:Qr(()=>he)}},2587:(De,me,M)=>{"use strict";M.d(me,{$:()=>mo,A:()=>V,B:()=>Se,G:()=>On,H:()=>_n,J:()=>Ls,L:()=>mn,M:()=>il,N:()=>rl,P:()=>ac,Q:()=>sl,R:()=>qh,T:()=>Vh,U:()=>ma,V:()=>Vs,W:()=>Yr,X:()=>ud,Y:()=>Jl,Z:()=>Hs,_:()=>_a,a:()=>ut,a0:()=>dd,a1:()=>tu,a2:()=>Uh,a3:()=>Qt,a4:()=>Wn,a5:()=>fl,a6:()=>nu,a7:()=>iu,a8:()=>fd,a9:()=>pl,aA:()=>Qs,aB:()=>gi,aC:()=>uc,aD:()=>Td,aE:()=>Ze,aI:()=>$s,aL:()=>wi,aa:()=>ru,ab:()=>js,ac:()=>pd,af:()=>Xl,ag:()=>su,ah:()=>eg,ak:()=>Us,al:()=>ki,an:()=>tc,ao:()=>vd,ap:()=>ni,aq:()=>N,ar:()=>Wt,as:()=>pt,at:()=>Be,au:()=>Es,av:()=>dc,aw:()=>_e,ax:()=>K,ay:()=>W,az:()=>It,b:()=>Gn,c:()=>Yh,d:()=>Ed,e:()=>Kh,f:()=>P,g:()=>Dt,h:()=>Ce,i:()=>$o,j:()=>kt,k:()=>gc,l:()=>Eo,m:()=>Y0,o:()=>ee,r:()=>Zh,s:()=>tn,u:()=>Cl});var o=M(9671),L=M(2090),k=M(9681),q=M(655),J=M(1877),oe=M(4859);const ee={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},V={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Se=function $(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Me=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Le=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new J.Yd("@firebase/auth");function ke(b,...m){Ee.logLevel<=J.in.ERROR&&Ee.error(`Auth (${k.SDK_VERSION}): ${b}`,...m)}function Be(b,...m){throw tt(b,...m)}function _e(b,...m){return tt(b,...m)}function We(b,m,y){const E=Object.assign(Object.assign({},Me()),{[m]:y});return new L.LL("auth","Firebase",E).create(m,{appName:b.name})}function Re(b,m,y){if(!(m instanceof y))throw y.name!==m.constructor.name&&Be(b,"argument-error"),We(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tt(b,...m){if("string"!=typeof b){const y=m[0],E=[...m.slice(1)];return E[0]&&(E[0].appName=b.name),b._errorFactory.create(y,...E)}return Le.create(b,...m)}function K(b,m,...y){if(!b)throw tt(m,...y)}function ye(b){const m="INTERNAL ASSERTION FAILED: "+b;throw ke(m),new Error(m)}function N(b,m){b||ye(m)}const G=new Map;function W(b){N(b instanceof Function,"Expected a class definition");let m=G.get(b);return m?(N(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,G.set(b,m),m)}function X(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Ge(){return"http:"===dt()||"https:"===dt()}function dt(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class ot{constructor(m,y){this.shortDelay=m,this.longDelay=y,N(y>m,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function dn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ge()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yn(b,m){N(b.emulator,"Emulator should always be set here");const{url:y}=b.emulator;return m?`${y}${m.startsWith("/")?m.slice(1):m}`:y}class Tt{static initialize(m,y,E){this.fetchImpl=m,y&&(this.headersImpl=y),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sn=new ot(3e4,6e4);function $t(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function hn(b,m,y,E){return Un.apply(this,arguments)}function Un(){return(Un=(0,o.Z)(function*(b,m,y,E,R={}){return qr(b,R,(0,o.Z)(function*(){let H={},ge={};E&&("GET"===m?ge=E:H={body:JSON.stringify(E)});const Ue=(0,L.xO)(Object.assign({key:b.config.apiKey},ge)).slice(1),lt=yield b._getAdditionalHeaders();return lt["Content-Type"]="application/json",b.languageCode&&(lt["X-Firebase-Locale"]=b.languageCode),Tt.fetch()(Mr(b,b.config.apiHost,y,Ue),Object.assign({method:m,headers:lt,referrerPolicy:"no-referrer"},H))}))})).apply(this,arguments)}function qr(b,m,y){return zi.apply(this,arguments)}function zi(){return(zi=(0,o.Z)(function*(b,m,y){b._canInitEmulator=!1;const E=Object.assign(Object.assign({},Fn),m);try{const R=new Zr(b),H=yield Promise.race([y(),R.promise]);R.clearNetworkTimeout();const ge=yield H.json();if("needConfirmation"in ge)throw Kn(b,"account-exists-with-different-credential",ge);if(H.ok&&!("errorMessage"in ge))return ge;{const Ue=H.ok?ge.errorMessage:ge.error.message,[lt,wt]=Ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===lt)throw Kn(b,"credential-already-in-use",ge);if("EMAIL_EXISTS"===lt)throw Kn(b,"email-already-in-use",ge);if("USER_DISABLED"===lt)throw Kn(b,"user-disabled",ge);const Zt=E[lt]||lt.toLowerCase().replace(/[_\s]+/g,"-");if(wt)throw We(b,Zt,wt);Be(b,Zt)}}catch(R){if(R instanceof L.ZR)throw R;Be(b,"network-request-failed")}})).apply(this,arguments)}function zn(b,m,y,E){return fs.apply(this,arguments)}function fs(){return(fs=(0,o.Z)(function*(b,m,y,E,R={}){const H=yield hn(b,m,y,E,R);return"mfaPendingCredential"in H&&Be(b,"multi-factor-auth-required",{_serverResponse:H}),H})).apply(this,arguments)}function Mr(b,m,y,E){const R=`${m}${y}?${E}`;return b.config.emulator?yn(b.config,R):`${b.config.apiScheme}://${R}`}class Zr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((y,E)=>{this.timer=setTimeout(()=>E(_e(this.auth,"network-request-failed")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kn(b,m,y){const E={appName:b.name};y.email&&(E.email=y.email),y.phoneNumber&&(E.phoneNumber=y.phoneNumber);const R=_e(b,m,E);return R.customData._tokenResponse=y,R}function bt(){return(bt=(0,o.Z)(function*(b,m){return hn(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function er(b,m){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,o.Z)(function*(b,m){return hn(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function cn(b,m){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,o.Z)(function*(b,m){return hn(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function vi(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function bi(){return(bi=(0,o.Z)(function*(b,m=!1){const y=(0,L.m9)(b),E=yield y.getIdToken(m),R=Yt(E);K(R&&R.exp&&R.auth_time&&R.iat,y.auth,"internal-error");const H="object"==typeof R.firebase?R.firebase:void 0,ge=null==H?void 0:H.sign_in_provider;return{claims:R,token:E,authTime:vi(Ps(R.auth_time)),issuedAtTime:vi(Ps(R.iat)),expirationTime:vi(Ps(R.exp)),signInProvider:ge||null,signInSecondFactor:(null==H?void 0:H.sign_in_second_factor)||null}})).apply(this,arguments)}function Ps(b){return 1e3*Number(b)}function Yt(b){const[m,y,E]=b.split(".");if(void 0===m||void 0===y||void 0===E)return ke("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,L.tV)(y);return R?JSON.parse(R):(ke("Failed to decode base64 JWT payload"),null)}catch(R){return ke("Caught error parsing JWT payload as JSON",R),null}}function ct(b,m){return kr.apply(this,arguments)}function kr(){return(kr=(0,o.Z)(function*(b,m,y=!1){if(y)return m;try{return yield m}catch(E){throw E instanceof L.ZR&&Rr(E)&&b.auth.currentUser===b&&(yield b.auth.signOut()),E}})).apply(this,arguments)}function Rr({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Kt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var y;if(m){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const R=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(m=!1){var y=this;if(!this.isRunning)return;const E=this.getInterval(m);this.timerId=setTimeout((0,o.Z)(function*(){yield y.iteration()}),E)}iteration(){var m=this;return(0,o.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&m.schedule(!0))}m.schedule()})()}}class gs{constructor(m,y){this.createdAt=m,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=vi(this.lastLoginAt),this.creationTime=vi(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qn(b){return vn.apply(this,arguments)}function vn(){return(vn=(0,o.Z)(function*(b){var m;const y=b.auth,E=yield b.getIdToken(),R=yield ct(b,cn(y,{idToken:E}));K(null==R?void 0:R.users.length,y,"internal-error");const H=R.users[0];b._notifyReloadListener(H);const ge=(null===(m=H.providerUserInfo)||void 0===m?void 0:m.length)?xe(H.providerUserInfo):[],Ue=le(b.providerData,ge),Zt=!!b.isAnonymous&&!(b.email&&H.passwordHash||(null==Ue?void 0:Ue.length)),Vn={uid:H.localId,displayName:H.displayName||null,photoURL:H.photoUrl||null,email:H.email||null,emailVerified:H.emailVerified||!1,phoneNumber:H.phoneNumber||null,tenantId:H.tenantId||null,providerData:Ue,metadata:new gs(H.createdAt,H.lastLoginAt),isAnonymous:Zt};Object.assign(b,Vn)})).apply(this,arguments)}function re(){return(re=(0,o.Z)(function*(b){const m=(0,L.m9)(b);yield Qn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function le(b,m){return[...b.filter(E=>!m.some(R=>R.providerId===E.providerId)),...m]}function xe(b){return b.map(m=>{var{providerId:y}=m,E=(0,q._T)(m,["providerId"]);return{providerId:y,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function fe(){return(fe=(0,o.Z)(function*(b,m){const y=yield qr(b,{},(0,o.Z)(function*(){const E=(0,L.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:R,apiKey:H}=b.config,ge=Mr(b,R,"/v1/token",`key=${H}`),Ue=yield b._getAdditionalHeaders();return Ue["Content-Type"]="application/x-www-form-urlencoded",Tt.fetch()(ge,{method:"POST",headers:Ue,body:E})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class He{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){K(m.idToken,"internal-error"),K(void 0!==m.idToken,"internal-error"),K(void 0!==m.refreshToken,"internal-error");const y="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function mt(b){const m=Yt(b);return K(m,"internal-error"),K(void 0!==m.exp,"internal-error"),K(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,y)}getToken(m,y=!1){var E=this;return(0,o.Z)(function*(){return K(!E.accessToken||E.refreshToken,m,"user-token-expired"),y||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(m,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,y){var E=this;return(0,o.Z)(function*(){const{accessToken:R,refreshToken:H,expiresIn:ge}=yield function ne(b,m){return fe.apply(this,arguments)}(m,y);E.updateTokensAndExpiration(R,H,Number(ge))})()}updateTokensAndExpiration(m,y,E){this.refreshToken=y||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(m,y){const{refreshToken:E,accessToken:R,expirationTime:H}=y,ge=new He;return E&&(K("string"==typeof E,"internal-error",{appName:m}),ge.refreshToken=E),R&&(K("string"==typeof R,"internal-error",{appName:m}),ge.accessToken=R),H&&(K("number"==typeof H,"internal-error",{appName:m}),ge.expirationTime=H),ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new He,this.toJSON())}_performRefresh(){return ye("not implemented")}}function it(b,m){K("string"==typeof b||void 0===b,"internal-error",{appName:m})}class vt{constructor(m){var{uid:y,auth:E,stsTokenManager:R}=m,H=(0,q._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=E,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=H.displayName||null,this.email=H.email||null,this.emailVerified=H.emailVerified||!1,this.phoneNumber=H.phoneNumber||null,this.photoURL=H.photoURL||null,this.isAnonymous=H.isAnonymous||!1,this.tenantId=H.tenantId||null,this.providerData=H.providerData?[...H.providerData]:[],this.metadata=new gs(H.createdAt||void 0,H.lastLoginAt||void 0)}getIdToken(m){var y=this;return(0,o.Z)(function*(){const E=yield ct(y,y.stsTokenManager.getToken(y.auth,m));return K(E,y.auth,"internal-error"),y.accessToken!==E&&(y.accessToken=E,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),E})()}getIdTokenResult(m){return function Bn(b){return bi.apply(this,arguments)}(this,m)}reload(){return function Q(b){return re.apply(this,arguments)}(this)}_assign(m){this!==m&&(K(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(y=>Object.assign({},y)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new vt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,y=!1){var E=this;return(0,o.Z)(function*(){let R=!1;m.idToken&&m.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(m),R=!0),y&&(yield Qn(E)),yield E.auth._persistUserIfCurrent(E),R&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var m=this;return(0,o.Z)(function*(){const y=yield m.getIdToken();return yield ct(m,function ps(b,m){return bt.apply(this,arguments)}(m.auth,{idToken:y})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,y){var E,R,H,ge,Ue,lt,wt,Zt;const Vn=null!==(E=y.displayName)&&void 0!==E?E:void 0,Xr=null!==(R=y.email)&&void 0!==R?R:void 0,Js=null!==(H=y.phoneNumber)&&void 0!==H?H:void 0,mc=null!==(ge=y.photoURL)&&void 0!==ge?ge:void 0,yy=null!==(Ue=y.tenantId)&&void 0!==Ue?Ue:void 0,lr=null!==(lt=y._redirectEventId)&&void 0!==lt?lt:void 0,lg=null!==(wt=y.createdAt)&&void 0!==wt?wt:void 0,cg=null!==(Zt=y.lastLoginAt)&&void 0!==Zt?Zt:void 0,{uid:sf,emailVerified:ug,isAnonymous:Ad,providerData:_c,stsTokenManager:af}=y;K(sf&&af,m,"internal-error");const lf=He.fromJSON(this.name,af);K("string"==typeof sf,m,"internal-error"),it(Vn,m.name),it(Xr,m.name),K("boolean"==typeof ug,m,"internal-error"),K("boolean"==typeof Ad,m,"internal-error"),it(Js,m.name),it(mc,m.name),it(yy,m.name),it(lr,m.name),it(lg,m.name),it(cg,m.name);const bu=new vt({uid:sf,auth:m,email:Xr,emailVerified:ug,displayName:Vn,isAnonymous:Ad,photoURL:mc,phoneNumber:Js,tenantId:yy,stsTokenManager:lf,createdAt:lg,lastLoginAt:cg});return _c&&Array.isArray(_c)&&(bu.providerData=_c.map(oi=>Object.assign({},oi))),lr&&(bu._redirectEventId=lr),bu}static _fromIdTokenResponse(m,y,E=!1){return(0,o.Z)(function*(){const R=new He;R.updateFromServerResponse(y);const H=new vt({uid:y.localId,auth:m,stsTokenManager:R,isAnonymous:E});return yield Qn(H),H})()}}const mn=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(y,E){var R=this;return(0,o.Z)(function*(){R.storage[y]=E})()}_get(y){var E=this;return(0,o.Z)(function*(){const R=E.storage[y];return void 0===R?null:R})()}_remove(y){var E=this;return(0,o.Z)(function*(){delete E.storage[y]})()}_addListener(y,E){}_removeListener(y,E){}}return b.type="NONE",b})();function It(b,m,y){return`firebase:${b}:${m}:${y}`}class di{constructor(m,y,E){this.persistence=m,this.auth=y,this.userKey=E;const{config:R,name:H}=this.auth;this.fullUserKey=It(this.userKey,R.apiKey,H),this.fullPersistenceKey=It("persistence",R.apiKey,H),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,o.Z)(function*(){const y=yield m.persistence._get(m.fullUserKey);return y?vt._fromJSON(m.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var y=this;return(0,o.Z)(function*(){if(y.persistence===m)return;const E=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=m,E?y.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,y,E="authUser"){return(0,o.Z)(function*(){if(!y.length)return new di(W(mn),m,E);const R=(yield Promise.all(y.map(function(){var wt=(0,o.Z)(function*(Zt){if(yield Zt._isAvailable())return Zt});return function(Zt){return wt.apply(this,arguments)}}()))).filter(wt=>wt);let H=R[0]||W(mn);const ge=It(E,m.config.apiKey,m.name);let Ue=null;for(const wt of y)try{const Zt=yield wt._get(ge);if(Zt){const Vn=vt._fromJSON(m,Zt);wt!==H&&(Ue=Vn),H=wt;break}}catch(Zt){}const lt=R.filter(wt=>wt._shouldAllowMigration);return H._shouldAllowMigration&&lt.length?(H=lt[0],Ue&&(yield H._set(ge,Ue.toJSON())),yield Promise.all(y.map(function(){var wt=(0,o.Z)(function*(Zt){if(Zt!==H)try{yield Zt._remove(ge)}catch(Vn){}});return function(Zt){return wt.apply(this,arguments)}}())),new di(H,m,E)):new di(H,m,E)})()}}function ve(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Xe(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(ue(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Ot(m))return"Blackberry";if(en(m))return"Webos";if(se(m))return"Safari";if((m.includes("chrome/")||Pe(m))&&!m.includes("edge/"))return"Chrome";if(pt(m))return"Android";{const E=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function ue(b=(0,L.z$)()){return/firefox\//i.test(b)}function se(b=(0,L.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Pe(b=(0,L.z$)()){return/crios\//i.test(b)}function Xe(b=(0,L.z$)()){return/iemobile/i.test(b)}function pt(b=(0,L.z$)()){return/android/i.test(b)}function Ot(b=(0,L.z$)()){return/blackberry/i.test(b)}function en(b=(0,L.z$)()){return/webos/i.test(b)}function Wt(b=(0,L.z$)()){return/iphone|ipad|ipod/i.test(b)}function ni(b=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Gi(b=(0,L.z$)()){return Wt(b)||pt(b)||en(b)||Ot(b)||/windows phone/i.test(b)||Xe(b)}function xi(b,m=[]){let y;switch(b){case"Browser":y=ve((0,L.z$)());break;case"Worker":y=`${ve((0,L.z$)())}-${b}`;break;default:y=b}const E=m.length?m.join(","):"FirebaseCore-web";return`${y}/JsCore/${k.SDK_VERSION}/${E}`}class tl{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,y){const E=H=>new Promise((ge,Ue)=>{try{ge(m(H))}catch(lt){Ue(lt)}});E.onAbort=y,this.queue.push(E);const R=this.queue.length-1;return()=>{this.queue[R]=()=>Promise.resolve()}}runMiddleware(m){var y=this;return(0,o.Z)(function*(){if(y.auth.currentUser===m)return;const E=[];try{for(const R of y.queue)yield R(m),R.onAbort&&E.push(R.onAbort)}catch(R){E.reverse();for(const H of E)try{H()}catch(ge){}throw y.auth._errorFactory.create("login-blocked",{originalMessage:R.message})}})()}}class yr{constructor(m,y,E){this.app=m,this.heartbeatServiceProvider=y,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ht(this),this.idTokenSubscription=new Ht(this),this.beforeStateQueue=new tl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Le,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(m,y){var E=this;return y&&(this._popupRedirectResolver=W(y)),this._initializationPromise=this.queue((0,o.Z)(function*(){var R,H;if(!E._deleted&&(E.persistenceManager=yield di.create(E,m),!E._deleted)){if(null===(R=E._popupRedirectResolver)||void 0===R?void 0:R._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(ge){}yield E.initializeCurrentUser(y),E.lastNotifiedUid=(null===(H=E.currentUser)||void 0===H?void 0:H.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,o.Z)(function*(){if(m._deleted)return;const y=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||y){if(m.currentUser&&y&&m.currentUser.uid===y.uid)return m._currentUser._assign(y),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(y,!0)}})()}initializeCurrentUser(m){var y=this;return(0,o.Z)(function*(){var E;const R=yield y.assertedPersistence.getCurrentUser();let H=R,ge=!1;if(m&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Ue=null===(E=y.redirectUser)||void 0===E?void 0:E._redirectEventId,lt=null==H?void 0:H._redirectEventId,wt=yield y.tryRedirectSignIn(m);(!Ue||Ue===lt)&&(null==wt?void 0:wt.user)&&(H=wt.user,ge=!0)}if(!H)return y.directlySetCurrentUser(null);if(!H._redirectEventId){if(ge)try{yield y.beforeStateQueue.runMiddleware(H)}catch(Ue){H=R,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Ue))}return H?y.reloadAndSetCurrentUserOrClear(H):y.directlySetCurrentUser(null)}return K(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===H._redirectEventId?y.directlySetCurrentUser(H):y.reloadAndSetCurrentUserOrClear(H)})()}tryRedirectSignIn(m){var y=this;return(0,o.Z)(function*(){let E=null;try{E=yield y._popupRedirectResolver._completeRedirectFn(y,m,!0)}catch(R){yield y._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(m){var y=this;return(0,o.Z)(function*(){try{yield Qn(m)}catch(E){if("auth/network-request-failed"!==E.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function je(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,o.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var y=this;return(0,o.Z)(function*(){const E=m?(0,L.m9)(m):null;return E&&K(E.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(E&&E._clone(y))})()}_updateCurrentUser(m,y=!1){var E=this;return(0,o.Z)(function*(){if(!E._deleted)return m&&K(E.tenantId===m.tenantId,E,"tenant-id-mismatch"),y||(yield E.beforeStateQueue.runMiddleware(m)),E.queue((0,o.Z)(function*(){yield E.directlySetCurrentUser(m),E.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,o.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var y=this;return this.queue((0,o.Z)(function*(){yield y.assertedPersistence.setPersistence(W(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new L.LL("auth","Firebase",m())}onAuthStateChanged(m,y,E){return this.registerStateListener(this.authStateSubscription,m,y,E)}beforeAuthStateChanged(m,y){return this.beforeStateQueue.pushCallback(m,y)}onIdTokenChanged(m,y,E){return this.registerStateListener(this.idTokenSubscription,m,y,E)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,y){var E=this;return(0,o.Z)(function*(){const R=yield E.getOrInitRedirectPersistenceManager(y);return null===m?R.removeCurrentUser():R.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var y=this;return(0,o.Z)(function*(){if(!y.redirectPersistenceManager){const E=m&&W(m)||y._popupRedirectResolver;K(E,y,"argument-error"),y.redirectPersistenceManager=yield di.create(y,[W(E._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(m){var y=this;return(0,o.Z)(function*(){var E,R;return y._isInitialized&&(yield y.queue((0,o.Z)(function*(){}))),(null===(E=y._currentUser)||void 0===E?void 0:E._redirectEventId)===m?y._currentUser:(null===(R=y.redirectUser)||void 0===R?void 0:R._redirectEventId)===m?y.redirectUser:null})()}_persistUserIfCurrent(m){var y=this;return(0,o.Z)(function*(){if(m===y.currentUser)return y.queue((0,o.Z)(function*(){return y.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(y=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,y,E,R){if(this._deleted)return()=>{};const H="function"==typeof y?y:y.next.bind(y),ge=this._isInitialized?Promise.resolve():this._initializationPromise;return K(ge,this,"internal-error"),ge.then(()=>H(this.currentUser)),"function"==typeof y?m.addObserver(y,E,R):m.addObserver(y)}directlySetCurrentUser(m){var y=this;return(0,o.Z)(function*(){y.currentUser&&y.currentUser!==m&&(y._currentUser._stopProactiveRefresh(),m&&y.isProactiveRefreshEnabled&&m._startProactiveRefresh()),y.currentUser=m,m?yield y.assertedPersistence.setCurrentUser(m):yield y.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=xi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,o.Z)(function*(){var y;const E={"X-Client-Version":m.clientVersion};m.app.options.appId&&(E["X-Firebase-gmpid"]=m.app.options.appId);const R=yield null===(y=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return R&&(E["X-Firebase-Client"]=R),E})()}}function Ze(b){return(0,L.m9)(b)}class Ht{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,L.ne)(y=>this.observer=y)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function On(b,m,y){const E=Ze(b);K(E._canInitEmulator,E,"emulator-config-failed"),K(/^https?:\/\//.test(m),E,"invalid-emulator-scheme");const R=!!(null==y?void 0:y.disableWarnings),H=nr(m),{host:ge,port:Ue}=function Ns(b){const m=nr(b),y=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!y)return{host:"",port:null};const E=y[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(E);if(R){const H=R[1];return{host:H,port:ii(E.substr(H.length+1))}}{const[H,ge]=E.split(":");return{host:H,port:ii(ge)}}}(m);E.config.emulator={url:`${H}//${ge}${null===Ue?"":`:${Ue}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ge,port:Ue,protocol:H.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function Fs(){function b(){const m=document.createElement("p"),y=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function nr(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function ii(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class _n{constructor(m,y){this.providerId=m,this.signInMethod=y}toJSON(){return ye("not implemented")}_getIdTokenResponse(m){return ye("not implemented")}_linkToIdToken(m,y){return ye("not implemented")}_getReauthenticationResolver(m){return ye("not implemented")}}function Fo(b,m){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,o.Z)(function*(b,m){return hn(b,"POST","/v1/accounts:resetPassword",$t(b,m))})).apply(this,arguments)}function Ft(b,m){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,o.Z)(function*(b,m){return hn(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Or(b,m){return ha.apply(this,arguments)}function ha(){return(ha=(0,o.Z)(function*(b,m){return hn(b,"POST","/v1/accounts:update",$t(b,m))})).apply(this,arguments)}function bn(){return(bn=(0,o.Z)(function*(b,m){return zn(b,"POST","/v1/accounts:signInWithPassword",$t(b,m))})).apply(this,arguments)}function ho(b,m){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,o.Z)(function*(b,m){return hn(b,"POST","/v1/accounts:sendOobCode",$t(b,m))})).apply(this,arguments)}function An(b,m){return wn.apply(this,arguments)}function wn(){return(wn=(0,o.Z)(function*(b,m){return ho(b,m)})).apply(this,arguments)}function ed(b,m){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,o.Z)(function*(b,m){return ho(b,m)})).apply(this,arguments)}function ir(b,m){return $i.apply(this,arguments)}function $i(){return($i=(0,o.Z)(function*(b,m){return ho(b,m)})).apply(this,arguments)}function Kc(b,m){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,o.Z)(function*(b,m){return ho(b,m)})).apply(this,arguments)}function Pr(){return(Pr=(0,o.Z)(function*(b,m){return zn(b,"POST","/v1/accounts:signInWithEmailLink",$t(b,m))})).apply(this,arguments)}function td(){return(td=(0,o.Z)(function*(b,m){return zn(b,"POST","/v1/accounts:signInWithEmailLink",$t(b,m))})).apply(this,arguments)}class ql extends _n{constructor(m,y,E,R=null){super("password",E),this._email=m,this._password=y,this._tenantId=R}static _fromEmailAndPassword(m,y){return new ql(m,y,"password")}static _fromEmailAndCode(m,y,E=null){return new ql(m,y,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(m){var y=this;return(0,o.Z)(function*(){switch(y.signInMethod){case"password":return function fa(b,m){return bn.apply(this,arguments)}(m,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function fo(b,m){return Pr.apply(this,arguments)}(m,{email:y._email,oobCode:y._password});default:Be(m,"internal-error")}})()}_linkToIdToken(m,y){var E=this;return(0,o.Z)(function*(){switch(E.signInMethod){case"password":return Ft(m,{idToken:y,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Qc(b,m){return td.apply(this,arguments)}(m,{idToken:y,email:E._email,oobCode:E._password});default:Be(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function hi(b,m){return nd.apply(this,arguments)}function nd(){return(nd=(0,o.Z)(function*(b,m){return zn(b,"POST","/v1/accounts:signInWithIdp",$t(b,m))})).apply(this,arguments)}class Ls extends _n{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const y=new Ls(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(y.idToken=m.idToken),m.accessToken&&(y.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(y.nonce=m.nonce),m.pendingToken&&(y.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(y.accessToken=m.oauthToken,y.secret=m.oauthTokenSecret):Be("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:R}=y,H=(0,q._T)(y,["providerId","signInMethod"]);if(!E||!R)return null;const ge=new Ls(E,R);return ge.idToken=H.idToken||void 0,ge.accessToken=H.accessToken||void 0,ge.secret=H.secret,ge.nonce=H.nonce,ge.pendingToken=H.pendingToken||null,ge}_getIdTokenResponse(m){return hi(m,this.buildRequest())}_linkToIdToken(m,y){const E=this.buildRequest();return E.idToken=y,hi(m,E)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,hi(m,y)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),m.postBody=(0,L.xO)(y)}return m}}function Yp(b,m){return id.apply(this,arguments)}function id(){return(id=(0,o.Z)(function*(b,m){return hn(b,"POST","/v1/accounts:sendVerificationCode",$t(b,m))})).apply(this,arguments)}function nl(){return(nl=(0,o.Z)(function*(b,m){return zn(b,"POST","/v1/accounts:signInWithPhoneNumber",$t(b,m))})).apply(this,arguments)}function rd(){return(rd=(0,o.Z)(function*(b,m){const y=yield zn(b,"POST","/v1/accounts:signInWithPhoneNumber",$t(b,m));if(y.temporaryProof)throw Kn(b,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Qp={USER_NOT_FOUND:"user-not-found"};function od(){return(od=(0,o.Z)(function*(b,m){return zn(b,"POST","/v1/accounts:signInWithPhoneNumber",$t(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Qp)})).apply(this,arguments)}class ga extends _n{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,y){return new ga({verificationId:m,verificationCode:y})}static _fromTokenResponse(m,y){return new ga({phoneNumber:m,temporaryProof:y})}_getIdTokenResponse(m){return function Kp(b,m){return nl.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,y){return function pa(b,m){return rd.apply(this,arguments)}(m,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function sd(b,m){return od.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:y,verificationId:E,verificationCode:R}=this.params;return m&&y?{temporaryProof:m,phoneNumber:y}:{sessionInfo:E,code:R}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:y,verificationCode:E,phoneNumber:R,temporaryProof:H}=m;return E||y||R||H?new ga({verificationId:y,verificationCode:E,phoneNumber:R,temporaryProof:H}):null}}class Bs{constructor(m){var y,E,R,H,ge,Ue;const lt=(0,L.zd)((0,L.pd)(m)),wt=null!==(y=lt.apiKey)&&void 0!==y?y:null,Zt=null!==(E=lt.oobCode)&&void 0!==E?E:null,Vn=function Jp(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=lt.mode)&&void 0!==R?R:null);K(wt&&Zt&&Vn,"argument-error"),this.apiKey=wt,this.operation=Vn,this.code=Zt,this.continueUrl=null!==(H=lt.continueUrl)&&void 0!==H?H:null,this.languageCode=null!==(ge=lt.languageCode)&&void 0!==ge?ge:null,this.tenantId=null!==(Ue=lt.tenantId)&&void 0!==Ue?Ue:null}static parseLink(m){const y=function Bh(b){const m=(0,L.zd)((0,L.pd)(b)).link,y=m?(0,L.zd)((0,L.pd)(m)).deep_link_id:null,E=(0,L.zd)((0,L.pd)(b)).deep_link_id;return(E?(0,L.zd)((0,L.pd)(E)).link:null)||E||y||m||b}(m);try{return new Bs(y)}catch(E){return null}}}let il=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(y,E){return ql._fromEmailAndPassword(y,E)}static credentialWithLink(y,E){const R=Bs.parseLink(E);return K(R,"argument-error"),ql._fromEmailAndCode(y,R.code,R.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class po{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Nr extends po{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class ma extends Nr{static credentialFromJSON(m){const y="string"==typeof m?JSON.parse(m):m;return K("providerId"in y&&"signInMethod"in y,"argument-error"),Ls._fromParams(y)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return K(m.idToken||m.accessToken,"argument-error"),Ls._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return ma.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return ma.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:y,oauthAccessToken:E,oauthTokenSecret:R,pendingToken:H,nonce:ge,providerId:Ue}=m;if(!E&&!R&&!y&&!H||!Ue)return null;try{return new ma(Ue)._credential({idToken:y,accessToken:E,nonce:ge,pendingToken:H})}catch(lt){return null}}}let rl=(()=>{class b extends Nr{constructor(){super("facebook.com")}static credential(y){return Ls._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return b.credential(y.oauthAccessToken)}catch(E){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),sl=(()=>{class b extends Nr{constructor(){super("google.com"),this.addScope("profile")}static credential(y,E){return Ls._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:E})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:R}=y;if(!E&&!R)return null;try{return b.credential(E,R)}catch(H){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Vh=(()=>{class b extends Nr{constructor(){super("github.com")}static credential(y){return Ls._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return b.credential(y.oauthAccessToken)}catch(E){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class wi extends _n{constructor(m,y){super(m,m),this.pendingToken=y}_getIdTokenResponse(m){return hi(m,this.buildRequest())}_linkToIdToken(m,y){const E=this.buildRequest();return E.idToken=y,hi(m,E)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,hi(m,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:R,pendingToken:H}=y;return E&&R&&H&&E===R?new wi(E,H):null}static _create(m,y){return new wi(m,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vs extends po{constructor(m){K(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Vs.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Vs.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const y=wi.fromJSON(m);return K(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:y,providerId:E}=m;if(!y||!E)return null;try{return wi._create(E,y)}catch(R){return null}}}let Yr=(()=>{class b extends Nr{constructor(){super("twitter.com")}static credential(y,E){return Ls._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:E})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:E,oauthTokenSecret:R}=y;if(!E||!R)return null;try{return b.credential(E,R)}catch(H){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function ld(b,m){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,o.Z)(function*(b,m){return zn(b,"POST","/v1/accounts:signUp",$t(b,m))})).apply(this,arguments)}class Wi{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,y,E,R=!1){return(0,o.Z)(function*(){const H=yield vt._fromIdTokenResponse(m,E,R),ge=cd(E);return new Wi({user:H,providerId:ge,_tokenResponse:E,operationType:y})})()}static _forOperation(m,y,E){return(0,o.Z)(function*(){yield m._updateTokensIfNecessary(E,!0);const R=cd(E);return new Wi({user:m,providerId:R,_tokenResponse:E,operationType:y})})()}}function cd(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function ud(b){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,o.Z)(function*(b){var m;const y=Ze(b);if(yield y._initializationPromise,null===(m=y.currentUser)||void 0===m?void 0:m.isAnonymous)return new Wi({user:y.currentUser,providerId:null,operationType:"signIn"});const E=yield ld(y,{returnSecureToken:!0}),R=yield Wi._fromIdTokenResponse(y,"signIn",E,!0);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}class Yl extends L.ZR{constructor(m,y,E,R){var H;super(y.code,y.message),this.operationType=E,this.user=R,Object.setPrototypeOf(this,Yl.prototype),this.customData={appName:m.name,tenantId:null!==(H=m.tenantId)&&void 0!==H?H:void 0,_serverResponse:y.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(m,y,E,R){return new Yl(m,y,E,R)}}function Kl(b,m,y,E){return("reauthenticate"===m?y._getReauthenticationResolver(b):y._getIdTokenResponse(b)).catch(H=>{throw"auth/multi-factor-auth-required"===H.code?Yl._fromErrorAndOperation(b,H,m,E):H})}function Jc(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Us(b,m){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,o.Z)(function*(b,m){const y=(0,L.m9)(b);yield go(!0,y,m);const{providerUserInfo:E}=yield er(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[m]}),R=Jc(E||[]);return y.providerData=y.providerData.filter(H=>R.has(H.providerId)),R.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function Mn(b,m){return ol.apply(this,arguments)}function ol(){return(ol=(0,o.Z)(function*(b,m,y=!1){const E=yield ct(b,m._linkToIdToken(b.auth,yield b.getIdToken()),y);return Wi._forOperation(b,"link",E)})).apply(this,arguments)}function go(b,m,y){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,o.Z)(function*(b,m,y){yield Qn(m);const R=!1===b?"provider-already-linked":"no-such-provider";K(Jc(m.providerData).has(y)===b,m.auth,R)})).apply(this,arguments)}function Ql(b,m){return al.apply(this,arguments)}function al(){return(al=(0,o.Z)(function*(b,m,y=!1){const{auth:E}=b,R="reauthenticate";try{const H=yield ct(b,Kl(E,R,m,b),y);K(H.idToken,E,"internal-error");const ge=Yt(H.idToken);K(ge,E,"internal-error");const{sub:Ue}=ge;return K(b.uid===Ue,E,"user-mismatch"),Wi._forOperation(b,R,H)}catch(H){throw"auth/user-not-found"===(null==H?void 0:H.code)&&Be(E,"user-mismatch"),H}})).apply(this,arguments)}function Uo(b,m){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,o.Z)(function*(b,m,y=!1){const E="signIn",R=yield Kl(b,E,m),H=yield Wi._fromIdTokenResponse(b,E,R);return y||(yield b._updateCurrentUser(H.user)),H})).apply(this,arguments)}function Jl(b,m){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,o.Z)(function*(b,m){return Uo(Ze(b),m)})).apply(this,arguments)}function Hs(b,m){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,o.Z)(function*(b,m){const y=(0,L.m9)(b);return yield go(!1,y,m.providerId),Mn(y,m)})).apply(this,arguments)}function _a(b,m){return _s.apply(this,arguments)}function _s(){return(_s=(0,o.Z)(function*(b,m){return Ql((0,L.m9)(b),m)})).apply(this,arguments)}function eu(b,m){return vr.apply(this,arguments)}function vr(){return(vr=(0,o.Z)(function*(b,m){return zn(b,"POST","/v1/accounts:signInWithCustomToken",$t(b,m))})).apply(this,arguments)}function mo(b,m){return _o.apply(this,arguments)}function _o(){return(_o=(0,o.Z)(function*(b,m){const y=Ze(b),E=yield eu(y,{token:m,returnSecureToken:!0}),R=yield Wi._fromIdTokenResponse(y,"signIn",E);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}class Ct{constructor(m,y){this.factorId=m,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(m,y){return"phoneInfo"in y?ll._fromServerResponse(m,y):Be(m,"internal-error")}}class ll extends Ct{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,y){return new ll(y)}}function cl(b,m,y){var E;K((null===(E=y.url)||void 0===E?void 0:E.length)>0,b,"invalid-continue-uri"),K(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=y.url,m.dynamicLinkDomain=y.dynamicLinkDomain,m.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(K(y.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=y.iOS.bundleId),y.android&&(K(y.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=y.android.installApp,m.androidMinimumVersionCode=y.android.minimumVersion,m.androidPackageName=y.android.packageName)}function dd(b,m,y){return ul.apply(this,arguments)}function ul(){return(ul=(0,o.Z)(function*(b,m,y){const E=(0,L.m9)(b),R={requestType:"PASSWORD_RESET",email:m};y&&cl(E,R,y),yield ed(E,R)})).apply(this,arguments)}function tu(b,m,y){return dl.apply(this,arguments)}function dl(){return(dl=(0,o.Z)(function*(b,m,y){yield Fo((0,L.m9)(b),{oobCode:m,newPassword:y})})).apply(this,arguments)}function Uh(b,m){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,o.Z)(function*(b,m){yield Or((0,L.m9)(b),{oobCode:m})})).apply(this,arguments)}function Qt(b,m){return hl.apply(this,arguments)}function hl(){return(hl=(0,o.Z)(function*(b,m){const y=(0,L.m9)(b),E=yield Fo(y,{oobCode:m}),R=E.requestType;switch(K(R,y,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(E.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(E.mfaInfo,y,"internal-error");default:K(E.email,y,"internal-error")}let H=null;return E.mfaInfo&&(H=Ct._fromServerResponse(Ze(y),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:H},operation:R}})).apply(this,arguments)}function Wn(b,m){return yo.apply(this,arguments)}function yo(){return(yo=(0,o.Z)(function*(b,m){const{data:y}=yield Qt((0,L.m9)(b),m);return y.email})).apply(this,arguments)}function fl(b,m,y){return rr.apply(this,arguments)}function rr(){return(rr=(0,o.Z)(function*(b,m,y){const E=Ze(b),R=yield ld(E,{returnSecureToken:!0,email:m,password:y}),H=yield Wi._fromIdTokenResponse(E,"signIn",R);return yield E._updateCurrentUser(H.user),H})).apply(this,arguments)}function nu(b,m,y){return Jl((0,L.m9)(b),il.credential(m,y))}function iu(b,m,y){return hd.apply(this,arguments)}function hd(){return(hd=(0,o.Z)(function*(b,m,y){const E=(0,L.m9)(b),R={requestType:"EMAIL_SIGNIN",email:m};K(y.handleCodeInApp,E,"argument-error"),y&&cl(E,R,y),yield ir(E,R)})).apply(this,arguments)}function fd(b,m){const y=Bs.parseLink(m);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}function pl(b,m,y){return ya.apply(this,arguments)}function ya(){return(ya=(0,o.Z)(function*(b,m,y){const E=(0,L.m9)(b),R=il.credentialWithLink(m,y||X());return K(R._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Jl(E,R)})).apply(this,arguments)}function Ci(b,m){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,o.Z)(function*(b,m){return hn(b,"POST","/v1/accounts:createAuthUri",$t(b,m))})).apply(this,arguments)}function ru(b,m){return ys.apply(this,arguments)}function ys(){return(ys=(0,o.Z)(function*(b,m){const E={identifier:m,continueUri:Ge()?X():"http://localhost"},{signinMethods:R}=yield Ci((0,L.m9)(b),E);return R||[]})).apply(this,arguments)}function js(b,m){return gl.apply(this,arguments)}function gl(){return(gl=(0,o.Z)(function*(b,m){const y=(0,L.m9)(b),R={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&cl(y.auth,R,m);const{email:H}=yield An(y.auth,R);H!==b.email&&(yield b.reload())})).apply(this,arguments)}function pd(b,m,y){return ml.apply(this,arguments)}function ml(){return(ml=(0,o.Z)(function*(b,m,y){const E=(0,L.m9)(b),H={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};y&&cl(E.auth,H,y);const{email:ge}=yield Kc(E.auth,H);ge!==b.email&&(yield b.reload())})).apply(this,arguments)}function gd(b,m){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,o.Z)(function*(b,m){return hn(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Xl(b,m){return _l.apply(this,arguments)}function _l(){return(_l=(0,o.Z)(function*(b,{displayName:m,photoURL:y}){if(void 0===m&&void 0===y)return;const E=(0,L.m9)(b),H={idToken:yield E.getIdToken(),displayName:m,photoUrl:y,returnSecureToken:!0},ge=yield ct(E,gd(E.auth,H));E.displayName=ge.displayName||null,E.photoURL=ge.photoUrl||null;const Ue=E.providerData.find(({providerId:lt})=>"password"===lt);Ue&&(Ue.displayName=E.displayName,Ue.photoURL=E.photoURL),yield E._updateTokensIfNecessary(ge)})).apply(this,arguments)}function su(b,m){return ec((0,L.m9)(b),m,null)}function eg(b,m){return ec((0,L.m9)(b),null,m)}function ec(b,m,y){return jo.apply(this,arguments)}function jo(){return(jo=(0,o.Z)(function*(b,m,y){const{auth:E}=b,H={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(H.email=m),y&&(H.password=y);const ge=yield ct(b,Ft(E,H));yield b._updateTokensIfNecessary(ge,!0)})).apply(this,arguments)}class zo{constructor(m,y,E={}){this.isNewUser=m,this.providerId=y,this.profile=E}}class md extends zo{constructor(m,y,E,R){super(m,y,E),this.username=R}}class Hh extends zo{constructor(m,y){super(m,"facebook.com",y)}}class va extends md{constructor(m,y){super(m,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class vs extends zo{constructor(m,y){super(m,"google.com",y)}}class jh extends md{constructor(m,y,E){super(m,"twitter.com",y,E)}}function ki(b){const{user:m,_tokenResponse:y}=b;return m.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function ou(b){var m,y;if(!b)return null;const{providerId:E}=b,R=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},H=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!E&&(null==b?void 0:b.idToken)){const ge=null===(y=null===(m=Yt(b.idToken))||void 0===m?void 0:m.firebase)||void 0===y?void 0:y.sign_in_provider;if(ge)return new zo(H,"anonymous"!==ge&&"custom"!==ge?ge:null)}if(!E)return null;switch(E){case"facebook.com":return new Hh(H,R);case"github.com":return new va(H,R);case"google.com":return new vs(H,R);case"twitter.com":return new jh(H,R,b.screenName||null);case"custom":case"anonymous":return new zo(H,null);default:return new zo(H,E,R)}}(y)}class Gs{constructor(m,y){this.type=m,this.credential=y}static _fromIdtoken(m){return new Gs("enroll",m)}static _fromMfaPendingCredential(m){return new Gs("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var y,E;if(null==m?void 0:m.multiFactorSession){if(null===(y=m.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return Gs._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(E=m.multiFactorSession)||void 0===E?void 0:E.idToken)return Gs._fromIdtoken(m.multiFactorSession.idToken)}return null}}class vl{constructor(m,y,E){this.session=m,this.hints=y,this.signInResolver=E}static _fromError(m,y){const E=Ze(m),R=y.customData._serverResponse,H=(R.mfaInfo||[]).map(Ue=>Ct._fromServerResponse(E,Ue));K(R.mfaPendingCredential,E,"internal-error");const ge=Gs._fromMfaPendingCredential(R.mfaPendingCredential);return new vl(ge,H,function(){var Ue=(0,o.Z)(function*(lt){const wt=yield lt._process(E,ge);delete R.mfaInfo,delete R.mfaPendingCredential;const Zt=Object.assign(Object.assign({},R),{idToken:wt.idToken,refreshToken:wt.refreshToken});switch(y.operationType){case"signIn":const Vn=yield Wi._fromIdTokenResponse(E,y.operationType,Zt);return yield E._updateCurrentUser(Vn.user),Vn;case"reauthenticate":return K(y.user,E,"internal-error"),Wi._forOperation(y.user,y.operationType,Zt);default:Be(E,"internal-error")}});return function(lt){return Ue.apply(this,arguments)}}())}resolveSignIn(m){var y=this;return(0,o.Z)(function*(){return y.signInResolver(m)})()}}function tc(b,m){var y;const E=(0,L.m9)(b),R=m;return K(m.customData.operationType,E,"argument-error"),K(null===(y=R.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,E,"argument-error"),vl._fromError(E,R)}function Ri(b,m){return hn(b,"POST","/v2/accounts/mfaEnrollment:start",$t(b,m))}class ba{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(E=>Ct._fromServerResponse(m.auth,E)))})}static _fromUser(m){return new ba(m)}getSession(){var m=this;return(0,o.Z)(function*(){return Gs._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,y){var E=this;return(0,o.Z)(function*(){const R=m,H=yield E.getSession(),ge=yield ct(E.user,R._process(E.user.auth,H,y));return yield E.user._updateTokensIfNecessary(ge),E.user.reload()})()}unenroll(m){var y=this;return(0,o.Z)(function*(){const E="string"==typeof m?m:m.uid,R=yield y.user.getIdToken(),H=yield ct(y.user,function Go(b,m){return hn(b,"POST","/v2/accounts/mfaEnrollment:withdraw",$t(b,m))}(y.user.auth,{idToken:R,mfaEnrollmentId:E}));y.enrolledFactors=y.enrolledFactors.filter(({uid:ge})=>ge!==E),yield y.user._updateTokensIfNecessary(H);try{yield y.user.reload()}catch(ge){if("auth/user-token-expired"!==ge.code)throw ge}})()}}const yd=new WeakMap;function vd(b){const m=(0,L.m9)(b);return yd.has(m)||yd.set(m,ba._fromUser(m)),yd.get(m)}const sr="__sak";class wa{constructor(m,y){this.storageRetriever=m,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(sr,"1"),this.storage.removeItem(sr),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,y){return this.storage.setItem(m,JSON.stringify(y)),Promise.resolve()}_get(m){const y=this.storage.getItem(m);return Promise.resolve(y?JSON.parse(y):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gn=(()=>{class b extends wa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,E)=>this.onStorageEvent(y,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function bd(){const b=(0,L.z$)();return se(b)||Wt(b)}()&&function ms(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=Gi(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const E of Object.keys(this.listeners)){const R=this.storage.getItem(E),H=this.localCache[E];R!==H&&y(E,H,R)}}onStorageEvent(y,E=!1){if(!y.key)return void this.forAllChangedKeys((Ue,lt,wt)=>{this.notifyListeners(Ue,wt)});const R=y.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ue=this.storage.getItem(R);if(y.newValue!==Ue)null!==y.newValue?this.storage.setItem(R,y.newValue):this.storage.removeItem(R);else if(this.localCache[R]===y.newValue&&!E)return}const H=()=>{const Ue=this.storage.getItem(R);!E&&this.localCache[R]===Ue||this.notifyListeners(R,Ue)},ge=this.storage.getItem(R);!function qt(){return(0,L.w1)()&&10===document.documentMode}()||ge===y.newValue||y.newValue===y.oldValue?H():setTimeout(H,10)}notifyListeners(y,E){this.localCache[y]=E;const R=this.listeners[y];if(R)for(const H of Array.from(R))H(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,E,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:E,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,E){var R=()=>super._set,H=this;return(0,o.Z)(function*(){yield R().call(H,y,E),H.localCache[y]=JSON.stringify(E)})()}_get(y){var E=()=>super._get,R=this;return(0,o.Z)(function*(){const H=yield E().call(R,y);return R.localCache[y]=JSON.stringify(H),H})()}_remove(y){var E=()=>super._remove,R=this;return(0,o.Z)(function*(){yield E().call(R,y),delete R.localCache[y]})()}}return b.type="LOCAL",b})(),ut=(()=>{class b extends wa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,E){}_removeListener(y,E){}}return b.type="SESSION",b})();let or=(()=>{class b{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const E=this.receivers.find(H=>H.isListeningto(y));if(E)return E;const R=new b(y);return this.receivers.push(R),R}isListeningto(y){return this.eventTarget===y}handleEvent(y){var E=this;return(0,o.Z)(function*(){const R=y,{eventId:H,eventType:ge,data:Ue}=R.data,lt=E.handlersMap[ge];if(!(null==lt?void 0:lt.size))return;R.ports[0].postMessage({status:"ack",eventId:H,eventType:ge});const wt=Array.from(lt).map(function(){var Vn=(0,o.Z)(function*(Xr){return Xr(R.origin,Ue)});return function(Xr){return Vn.apply(this,arguments)}}()),Zt=yield function ri(b){return Promise.all(b.map(function(){var m=(0,o.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(E){return{fulfilled:!1,reason:E}}});return function(y){return m.apply(this,arguments)}}()))}(wt);R.ports[0].postMessage({status:"done",eventId:H,eventType:ge,response:Zt})})()}_subscribe(y,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(E)}_unsubscribe(y,E){this.handlersMap[y]&&E&&this.handlersMap[y].delete(E),(!E||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function $s(b="",m=10){let y="";for(let E=0;E<m;E++)y+=Math.floor(10*Math.random());return b+y}class br{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,y,E=50){var R=this;return(0,o.Z)(function*(){const H="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!H)throw new Error("connection_unavailable");let ge,Ue;return new Promise((lt,wt)=>{const Zt=$s("",20);H.port1.start();const Vn=setTimeout(()=>{wt(new Error("unsupported_event"))},E);Ue={messageChannel:H,onMessage(Xr){const Js=Xr;if(Js.data.eventId===Zt)switch(Js.data.status){case"ack":clearTimeout(Vn),ge=setTimeout(()=>{wt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ge),lt(Js.data.response);break;default:clearTimeout(Vn),clearTimeout(ge),wt(new Error("invalid_response"))}}},R.handlers.add(Ue),H.port1.addEventListener("message",Ue.onMessage),R.target.postMessage({eventType:m,eventId:Zt,data:y},[H.port2])}).finally(()=>{Ue&&R.removeMessageHandler(Ue)})})()}}function jt(){return window}function En(){return void 0!==jt().WorkerGlobalScope&&"function"==typeof jt().importScripts}function nc(){return(nc=(0,o.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const rc="firebaseLocalStorageDb",wr="firebaseLocalStorage",gn="fbase_key";class Tn{constructor(m){this.request=m}toPromise(){return new Promise((m,y)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function vo(b,m){return b.transaction([wr],m?"readwrite":"readonly").objectStore(wr)}function sc(){const b=indexedDB.open(rc,1);return new Promise((m,y)=>{b.addEventListener("error",()=>{y(b.error)}),b.addEventListener("upgradeneeded",()=>{const E=b.result;try{E.createObjectStore(wr,{keyPath:gn})}catch(R){y(R)}}),b.addEventListener("success",(0,o.Z)(function*(){const E=b.result;E.objectStoreNames.contains(wr)?m(E):(E.close(),yield function Cr(){const b=indexedDB.deleteDatabase(rc);return new Tn(b).toPromise()}(),m(yield sc()))}))})}function Ws(b,m,y){return Er.apply(this,arguments)}function Er(){return(Er=(0,o.Z)(function*(b,m,y){const E=vo(b,!0).put({[gn]:m,value:y});return new Tn(E).toPromise()})).apply(this,arguments)}function Ca(){return(Ca=(0,o.Z)(function*(b,m){const y=vo(b,!1).get(m),E=yield new Tn(y).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function bo(b,m){const y=vo(b,!0).delete(m);return new Tn(y).toPromise()}const $o=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,o.Z)(function*(){return y.db||(y.db=yield sc()),y.db})()}_withRetries(y){var E=this;return(0,o.Z)(function*(){let R=0;for(;;)try{const H=yield E._openDb();return yield y(H)}catch(H){if(R++>3)throw H;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,o.Z)(function*(){return En()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,o.Z)(function*(){y.receiver=or._getInstance(function ic(){return En()?self:null}()),y.receiver._subscribe("keyChanged",function(){var E=(0,o.Z)(function*(R,H){return{keyProcessed:(yield y._poll()).includes(H.key)}});return function(R,H){return E.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var E=(0,o.Z)(function*(R,H){return["keyChanged"]});return function(R,H){return E.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,o.Z)(function*(){var E,R;if(y.activeServiceWorker=yield function gt(){return nc.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new br(y.activeServiceWorker);const H=yield y.sender._send("ping",{},800);!H||(null===(E=H[0])||void 0===E?void 0:E.fulfilled)&&(null===(R=H[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var E=this;return(0,o.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function wd(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:y},E.serviceWorkerReceiverAvailable?800:50)}catch(R){}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const y=yield sc();return yield Ws(y,sr,"1"),yield bo(y,sr),!0}catch(y){}return!1})()}_withPendingWrite(y){var E=this;return(0,o.Z)(function*(){E.pendingWrites++;try{yield y()}finally{E.pendingWrites--}})()}_set(y,E){var R=this;return(0,o.Z)(function*(){return R._withPendingWrite((0,o.Z)(function*(){return yield R._withRetries(H=>Ws(H,y,E)),R.localCache[y]=E,R.notifyServiceWorker(y)}))})()}_get(y){var E=this;return(0,o.Z)(function*(){const R=yield E._withRetries(H=>function Fr(b,m){return Ca.apply(this,arguments)}(H,y));return E.localCache[y]=R,R})()}_remove(y){var E=this;return(0,o.Z)(function*(){return E._withPendingWrite((0,o.Z)(function*(){return yield E._withRetries(R=>bo(R,y)),delete E.localCache[y],E.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,o.Z)(function*(){const E=yield y._withRetries(ge=>{const Ue=vo(ge,!1).getAll();return new Tn(Ue).toPromise()});if(!E)return[];if(0!==y.pendingWrites)return[];const R=[],H=new Set;for(const{fbase_key:ge,value:Ue}of E)H.add(ge),JSON.stringify(y.localCache[ge])!==JSON.stringify(Ue)&&(y.notifyListeners(ge,Ue),R.push(ge));for(const ge of Object.keys(y.localCache))y.localCache[ge]&&!H.has(ge)&&(y.notifyListeners(ge,null),R.push(ge));return R})()}notifyListeners(y,E){this.localCache[y]=E;const R=this.listeners[y];if(R)for(const H of Array.from(R))H(E)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function lu(b,m){return hn(b,"POST","/v2/accounts/mfaSignIn:start",$t(b,m))}function wo(){return(wo=(0,o.Z)(function*(b){return(yield hn(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ta(b){return new Promise((m,y)=>{const E=document.createElement("script");E.setAttribute("src",b),E.onload=m,E.onerror=R=>{const H=_e("internal-error");H.customData=R,y(H)},E.type="text/javascript",E.charset="UTF-8",function uu(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(E)})}function Wo(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Da=1e12;class Wh{constructor(m){this.auth=m,this.counter=Da,this._widgets=new Map}render(m,y){const E=this.counter;return this._widgets.set(E,new bl(m,this.auth.name,y||{})),this.counter++,E}reset(m){var y;const E=m||Da;null===(y=this._widgets.get(E))||void 0===y||y.delete(),this._widgets.delete(E)}getResponse(m){var y;return(null===(y=this._widgets.get(m||Da))||void 0===y?void 0:y.getResponse())||""}execute(m){var y=this;return(0,o.Z)(function*(){var E;return null===(E=y._widgets.get(m||Da))||void 0===E||E.execute(),""})()}}class bl{constructor(m,y,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof m?document.getElementById(m):m;K(R,"argument-error",{appName:y}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ig(b){const m=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<b;E++)m.push(y.charAt(Math.floor(Math.random()*y.length)));return m.join("")}(50);const{callback:m,"expired-callback":y}=this.params;if(m)try{m(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const oc=Wo("rcb"),si=new ot(3e4,6e4);class nt{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!jt().grecaptcha}load(m,y=""){return K(function Pi(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(y),m,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(jt().grecaptcha):new Promise((E,R)=>{const H=jt().setTimeout(()=>{R(_e(m,"network-request-failed"))},si.get());jt()[oc]=()=>{jt().clearTimeout(H),delete jt()[oc];const Ue=jt().grecaptcha;if(!Ue)return void R(_e(m,"internal-error"));const lt=Ue.render;Ue.render=(wt,Zt)=>{const Vn=lt(wt,Zt);return this.counter++,Vn},this.hostLanguage=y,E(Ue)},Ta(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:oc,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(H),R(_e(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!jt().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qs{load(m){return(0,o.Z)(function*(){return new Wh(m)})()}clearedOneInstance(){}}const U="recaptcha",bs={theme:"light",type:"image"};class qh{constructor(m,y=Object.assign({},bs),E){this.parameters=y,this.type=U,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ze(E),this.isInvisible="invisible"===this.parameters.size,K("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof m?document.getElementById(m):m;K(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qs:new nt,this.validateStartingState()}verify(){var m=this;return(0,o.Z)(function*(){m.assertNotDestroyed();const y=yield m.render(),E=m.getAssertedRecaptcha();return E.getResponse(y)||new Promise(H=>{const ge=Ue=>{!Ue||(m.tokenChangeListeners.delete(ge),H(Ue))};m.tokenChangeListeners.add(ge),m.isInvisible&&E.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return y=>{if(this.tokenChangeListeners.forEach(E=>E(y)),"function"==typeof m)m(y);else if("string"==typeof m){const E=jt()[m];"function"==typeof E&&E(y)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,o.Z)(function*(){if(yield m.init(),!m.widgetId){let y=m.container;if(!m.isInvisible){const E=document.createElement("div");y.appendChild(E),y=E}m.widgetId=m.getAssertedRecaptcha().render(y,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,o.Z)(function*(){K(Ge()&&!En(),m.auth,"internal-error"),yield function wl(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const y=yield function Ea(b){return wo.apply(this,arguments)}(m.auth);K(y,m.auth,"internal-error"),m.parameters.sitekey=y})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Cd{constructor(m,y){this.verificationId=m,this.onConfirmation=y}confirm(m){const y=ga._fromVerification(this.verificationId,m);return this.onConfirmation(y)}}function tn(b,m,y){return qi.apply(this,arguments)}function qi(){return(qi=(0,o.Z)(function*(b,m,y){const E=Ze(b),R=yield Tr(E,m,(0,L.m9)(y));return new Cd(R,H=>Jl(E,H))})).apply(this,arguments)}function Eo(b,m,y){return du.apply(this,arguments)}function du(){return(du=(0,o.Z)(function*(b,m,y){const E=(0,L.m9)(b);yield go(!1,E,"phone");const R=yield Tr(E.auth,m,(0,L.m9)(y));return new Cd(R,H=>Hs(E,H))})).apply(this,arguments)}function Zh(b,m,y){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,o.Z)(function*(b,m,y){const E=(0,L.m9)(b),R=yield Tr(E.auth,m,(0,L.m9)(y));return new Cd(R,H=>_a(E,H))})).apply(this,arguments)}function Tr(b,m,y){return qo.apply(this,arguments)}function qo(){return(qo=(0,o.Z)(function*(b,m,y){var E;const R=yield y.verify();try{let H;if(K("string"==typeof R,b,"argument-error"),K(y.type===U,b,"argument-error"),H="string"==typeof m?{phoneNumber:m}:m,"session"in H){const ge=H.session;if("phoneNumber"in H)return K("enroll"===ge.type,b,"internal-error"),(yield Ri(b,{idToken:ge.credential,phoneEnrollmentInfo:{phoneNumber:H.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{K("signin"===ge.type,b,"internal-error");const Ue=(null===(E=H.multiFactorHint)||void 0===E?void 0:E.uid)||H.multiFactorUid;return K(Ue,b,"missing-multi-factor-info"),(yield lu(b,{mfaPendingCredential:ge.credential,mfaEnrollmentId:Ue,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ge}=yield Yp(b,{phoneNumber:H.phoneNumber,recaptchaToken:R});return ge}}finally{y._reset()}})).apply(this,arguments)}function Cl(b,m){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,o.Z)(function*(b,m){yield Mn((0,L.m9)(b),m)})).apply(this,arguments)}let ac=(()=>{class b{constructor(y){this.providerId=b.PROVIDER_ID,this.auth=Ze(y)}verifyPhoneNumber(y,E){return Tr(this.auth,y,(0,L.m9)(E))}static credential(y,E){return ga._fromVerification(y,E)}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:E,temporaryProof:R}=y;return E&&R?ga._fromTokenResponse(E,R):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Zs(b,m){return m?W(m):(K(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class fi extends _n{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return hi(m,this._buildIdpRequest())}_linkToIdToken(m,y){return hi(m,this._buildIdpRequest(y))}_getReauthenticationResolver(m){return hi(m,this._buildIdpRequest())}_buildIdpRequest(m){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(y.idToken=m),y}}function El(b){return Uo(b.auth,new fi(b),b.bypassAuthState)}function hu(b){const{auth:m,user:y}=b;return K(y,m,"internal-error"),Ql(y,new fi(b),b.bypassAuthState)}function lc(b){return pi.apply(this,arguments)}function pi(){return(pi=(0,o.Z)(function*(b){const{auth:m,user:y}=b;return K(y,m,"internal-error"),Mn(y,new fi(b),b.bypassAuthState)})).apply(this,arguments)}class Sa{constructor(m,y,E,R,H=!1){this.auth=m,this.resolver=E,this.user=R,this.bypassAuthState=H,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var m=this;return new Promise(function(){var y=(0,o.Z)(function*(E,R){m.pendingPromise={resolve:E,reject:R};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(H){m.reject(H)}});return function(E,R){return y.apply(this,arguments)}}())}onAuthEvent(m){var y=this;return(0,o.Z)(function*(){const{urlResponse:E,sessionId:R,postBody:H,tenantId:ge,error:Ue,type:lt}=m;if(Ue)return void y.reject(Ue);const wt={auth:y.auth,requestUri:E,sessionId:R,tenantId:ge||void 0,postBody:H||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(lt)(wt))}catch(Zt){y.reject(Zt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return El;case"linkViaPopup":case"linkViaRedirect":return lc;case"reauthViaPopup":case"reauthViaRedirect":return hu;default:Be(this.auth,"internal-error")}}resolve(m){N(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){N(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yo=new ot(2e3,1e4);function Yh(b,m,y){return cc.apply(this,arguments)}function cc(){return(cc=(0,o.Z)(function*(b,m,y){const E=Ze(b);Re(b,m,po);const R=Zs(E,y);return new Ko(E,"signInViaPopup",m,R).executeNotNull()})).apply(this,arguments)}function Kh(b,m,y){return To.apply(this,arguments)}function To(){return(To=(0,o.Z)(function*(b,m,y){const E=(0,L.m9)(b);Re(E.auth,m,po);const R=Zs(E.auth,y);return new Ko(E.auth,"reauthViaPopup",m,R,E).executeNotNull()})).apply(this,arguments)}function Ed(b,m,y){return fu.apply(this,arguments)}function fu(){return(fu=(0,o.Z)(function*(b,m,y){const E=(0,L.m9)(b);Re(E.auth,m,po);const R=Zs(E.auth,y);return new Ko(E.auth,"linkViaPopup",m,R,E).executeNotNull()})).apply(this,arguments)}let Ko=(()=>{class b extends Sa{constructor(y,E,R,H,ge){super(y,E,H,ge),this.provider=R,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var y=this;return(0,o.Z)(function*(){const E=yield y.execute();return K(E,y.auth,"internal-error"),E})()}onExecution(){var y=this;return(0,o.Z)(function*(){N(1===y.filter.length,"Popup operations only handle one event");const E=$s();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],E),y.authWindow.associatedEvent=E,y.resolver._originValidation(y.auth).catch(R=>{y.reject(R)}),y.resolver._isIframeWebStorageSupported(y.auth,R=>{R||y.reject(_e(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const y=()=>{var E,R;this.pollId=(null===(R=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===R?void 0:R.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Yo.get())};y()}}return b.currentPopupAction=null,b})();const ws=new Map;class Qr extends Sa{constructor(m,y,E=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,E),this.eventId=null}execute(){var m=()=>super.execute,y=this;return(0,o.Z)(function*(){let E=ws.get(y.auth._key());if(!E){try{const H=(yield function rg(b,m){return xa.apply(this,arguments)}(y.resolver,y.auth))?yield m().call(y):null;E=()=>Promise.resolve(H)}catch(R){E=()=>Promise.reject(R)}ws.set(y.auth._key(),E)}return y.bypassAuthState||ws.set(y.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(m){var y=()=>super.onAuthEvent,E=this;return(0,o.Z)(function*(){if("signInViaRedirect"===m.type)return y().call(E,m);if("unknown"!==m.type){if(m.eventId){const R=yield E.auth._redirectUserForId(m.eventId);if(R)return E.user=R,y().call(E,m);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function xa(){return(xa=(0,o.Z)(function*(b,m){const y=S(m),E=D(b);if(!(yield E._isAvailable()))return!1;const R="true"===(yield E._get(y));return yield E._remove(y),R})).apply(this,arguments)}function Aa(b,m){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,o.Z)(function*(b,m){return D(b)._set(S(m),"true")})).apply(this,arguments)}function Td(){ws.clear()}function uc(b,m){ws.set(b._key(),m)}function D(b){return W(b._redirectPersistence)}function S(b){return It("pendingRedirect",b.config.apiKey,b.name)}function P(b,m,y){return function Z(b,m,y){return he.apply(this,arguments)}(b,m,y)}function he(){return(he=(0,o.Z)(function*(b,m,y){const E=Ze(b);Re(b,m,po);const R=Zs(E,y);return yield Aa(R,E),R._openRedirect(E,m,"signInViaRedirect")})).apply(this,arguments)}function Ce(b,m,y){return function Fe(b,m,y){return at.apply(this,arguments)}(b,m,y)}function at(){return(at=(0,o.Z)(function*(b,m,y){const E=(0,L.m9)(b);Re(E.auth,m,po);const R=Zs(E.auth,y);yield Aa(R,E.auth);const H=yield Jr(E);return R._openRedirect(E.auth,m,"reauthViaRedirect",H)})).apply(this,arguments)}function Dt(b,m,y){return function St(b,m,y){return zt.apply(this,arguments)}(b,m,y)}function zt(){return(zt=(0,o.Z)(function*(b,m,y){const E=(0,L.m9)(b);Re(E.auth,m,po);const R=Zs(E.auth,y);yield go(!1,E,m.providerId),yield Aa(R,E.auth);const H=yield Jr(E);return R._openRedirect(E.auth,m,"linkViaRedirect",H)})).apply(this,arguments)}function kt(b,m){return ar.apply(this,arguments)}function ar(){return(ar=(0,o.Z)(function*(b,m){return yield Ze(b)._initializationPromise,gi(b,m,!1)})).apply(this,arguments)}function gi(b,m){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,o.Z)(function*(b,m,y=!1){const E=Ze(b),R=Zs(E,m),ge=yield new Qr(E,R,y).execute();return ge&&!y&&(delete ge.user._redirectEventId,yield E._persistUserIfCurrent(ge.user),yield E._setRedirectUser(null,m)),ge})).apply(this,arguments)}function Jr(b){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,o.Z)(function*(b){const m=$s(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class Qs{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let y=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(m,E)&&(y=!0,this.sendToConsumer(m,E),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function pu(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Id(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=m,y=!0)),y}sendToConsumer(m,y){var E;if(m.error&&!Id(m)){const R=(null===(E=m.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";y.onError(_e(this.auth,R))}else y.onAuthEvent(m)}isEventForConsumer(m,y){const E=null===y.eventId||!!m.eventId&&m.eventId===y.eventId;return y.filter.includes(m.type)&&E}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tl(m))}saveEventToCache(m){this.cachedEventUids.add(Tl(m)),this.lastProcessedEventTime=Date.now()}}function Tl(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function Id({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===(null==m?void 0:m.code)}function dc(b){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,o.Z)(function*(b,m={}){return hn(b,"GET","/v1/projects",m)})).apply(this,arguments)}const ly=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hc=/^https?/;function Jh(){return(Jh=(0,o.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield dc(b);for(const y of m)try{if(G0(y))return}catch(E){}Be(b,"unauthorized-domain")})).apply(this,arguments)}function G0(b){const m=X(),{protocol:y,hostname:E}=new URL(m);if(b.startsWith("chrome-extension://")){const ge=new URL(b);return""===ge.hostname&&""===E?"chrome-extension:"===y&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===y&&ge.hostname===E}if(!hc.test(y))return!1;if(ly.test(b))return E===b;const R=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(E)}const sg=new ot(3e4,6e4);function og(){const b=jt().___jsl;if(null==b?void 0:b.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let y=0;y<b.CP.length;y++)b.CP[y]=null}let Dd=null;function Sd(b){return Dd=Dd||function $0(b){return new Promise((m,y)=>{var E,R,H;function ge(){og(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{og(),y(_e(b,"network-request-failed"))},timeout:sg.get()})}if(null===(R=null===(E=jt().gapi)||void 0===E?void 0:E.iframes)||void 0===R?void 0:R.Iframe)m(gapi.iframes.getContext());else{if(!(null===(H=jt().gapi)||void 0===H?void 0:H.load)){const Ue=Wo("iframefcb");return jt()[Ue]=()=>{gapi.load?ge():y(_e(b,"network-request-failed"))},Ta(`https://apis.google.com/js/api.js?onload=${Ue}`).catch(lt=>y(lt))}ge()}}).catch(m=>{throw Dd=null,m})}(b),Dd}const ag=new ot(5e3,15e3),fc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uy(b){const m=b.config;K(m.authDomain,b,"auth-domain-config-required");const y=m.emulator?yn(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,E={apiKey:m.apiKey,appName:b.name,v:k.SDK_VERSION},R=cy.get(b.config.apiHost);R&&(E.eid=R);const H=b._getFrameworks();return H.length&&(E.fw=H.join(",")),`${y}?${(0,L.xO)(E).slice(1)}`}function Il(){return Il=(0,o.Z)(function*(b){const m=yield Sd(b),y=jt().gapi;return K(y,b,"internal-error"),m.open({where:document.body,url:uy(b),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fc,dontclear:!0},E=>new Promise(function(){var R=(0,o.Z)(function*(H,ge){yield E.restyle({setHideOnLeave:!1});const Ue=_e(b,"network-request-failed"),lt=jt().setTimeout(()=>{ge(Ue)},ag.get());function wt(){jt().clearTimeout(lt),H(E)}E.ping(wt).then(wt,()=>{ge(Ue)})});return function(H,ge){return R.apply(this,arguments)}}()))}),Il.apply(this,arguments)}const xd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fy{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function Es(b,m,y,E,R,H){K(b.config.authDomain,b,"auth-domain-config-required"),K(b.config.apiKey,b,"invalid-api-key");const ge={apiKey:b.config.apiKey,appName:b.name,authType:y,redirectUrl:E,v:k.SDK_VERSION,eventId:R};if(m instanceof po){m.setDefaultLanguage(b.languageCode),ge.providerId=m.providerId||"",(0,L.xb)(m.getCustomParameters())||(ge.customParameters=JSON.stringify(m.getCustomParameters()));for(const[lt,wt]of Object.entries(H||{}))ge[lt]=wt}if(m instanceof Nr){const lt=m.getScopes().filter(wt=>""!==wt);lt.length>0&&(ge.scopes=lt.join(","))}b.tenantId&&(ge.tid=b.tenantId);const Ue=ge;for(const lt of Object.keys(Ue))void 0===Ue[lt]&&delete Ue[lt];return`${function pc({config:b}){return b.emulator?yn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,L.xO)(Ue).slice(1)}`}const yu="webStorageSupport",gc=class nf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ut,this._completeRedirectFn=gi,this._overrideRedirectResult=uc}_openPopup(m,y,E,R){var H=this;return(0,o.Z)(function*(){var ge;N(null===(ge=H.eventManagers[m._key()])||void 0===ge?void 0:ge.manager,"_initialize() not called before _openPopup()");const Ue=Es(m,y,E,X(),R);return function W0(b,m,y,E=500,R=600){const H=Math.max((window.screen.availHeight-R)/2,0).toString(),ge=Math.max((window.screen.availWidth-E)/2,0).toString();let Ue="";const lt=Object.assign(Object.assign({},xd),{width:E.toString(),height:R.toString(),top:H,left:ge}),wt=(0,L.z$)().toLowerCase();y&&(Ue=Pe(wt)?"_blank":y),ue(wt)&&(m=m||"http://localhost",lt.scrollbars="yes");const Zt=Object.entries(lt).reduce((Xr,[Js,mc])=>`${Xr}${Js}=${mc},`,"");if(function _r(b=(0,L.z$)()){var m;return Wt(b)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(wt)&&"_self"!==Ue)return function tf(b,m){const y=document.createElement("a");y.href=b,y.target=m;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(E)}(m||"",Ue),new fy(null);const Vn=window.open(m||"",Ue,Zt);K(Vn,b,"popup-blocked");try{Vn.focus()}catch(Xr){}return new fy(Vn)}(m,Ue,$s())})()}_openRedirect(m,y,E,R){var H=this;return(0,o.Z)(function*(){return yield H._originValidation(m),function kn(b){jt().location.href=b}(Es(m,y,E,X(),R)),new Promise(()=>{})})()}_initialize(m){const y=m._key();if(this.eventManagers[y]){const{manager:R,promise:H}=this.eventManagers[y];return R?Promise.resolve(R):(N(H,"If manager is not set, promise should be"),H)}const E=this.initAndGetManager(m);return this.eventManagers[y]={promise:E},E.catch(()=>{delete this.eventManagers[y]}),E}initAndGetManager(m){var y=this;return(0,o.Z)(function*(){const E=yield function dy(b){return Il.apply(this,arguments)}(m),R=new Qs(m);return E.register("authEvent",H=>(K(null==H?void 0:H.authEvent,m,"invalid-auth-event"),{status:R.onEvent(H.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[m._key()]={manager:R},y.iframes[m._key()]=E,R})()}_isIframeWebStorageSupported(m,y){this.iframes[m._key()].send(yu,{type:yu},R=>{var H;const ge=null===(H=null==R?void 0:R[0])||void 0===H?void 0:H[yu];void 0!==ge&&y(!!ge),Be(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function gu(b){return Jh.apply(this,arguments)}(m)),this.originValidationPromises[y]}get _shouldInitProactively(){return Gi()||se()||Wt()}};class vu extends class Z0{constructor(m){this.factorId=m}_process(m,y,E){switch(y.type){case"enroll":return this._finalizeEnroll(m,y.credential,E);case"signin":return this._finalizeSignIn(m,y.credential);default:return ye("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new vu(m)}_finalizeEnroll(m,y,E){return function Gh(b,m){return hn(b,"POST","/v2/accounts/mfaEnrollment:finalize",$t(b,m))}(m,{idToken:y,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,y){return function cu(b,m){return hn(b,"POST","/v2/accounts/mfaSignIn:finalize",$t(b,m))}(m,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Y0=(()=>{class b{constructor(){}static assertion(y){return vu._fromCredential(y)}}return b.FACTOR_ID="phone",b})();var rf="@firebase/auth";class my{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var y=this;return(0,o.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const y=this.auth.onIdTokenChanged(E=>{var R;m((null===(R=E)||void 0===R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,y),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const y=this.internalListeners.get(m);!y||(this.internalListeners.delete(m),y(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function K0(b){(0,k._registerComponent)(new oe.wA("auth",(m,{options:y})=>{const E=m.getProvider("app").getImmediate(),R=m.getProvider("heartbeat"),{apiKey:H,authDomain:ge}=E.options;return((Ue,lt)=>{K(H&&!H.includes(":"),"invalid-api-key",{appName:Ue.name}),K(!(null==ge?void 0:ge.includes(":")),"argument-error",{appName:Ue.name});const wt={apiKey:H,authDomain:ge,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xi(b)},Zt=new yr(Ue,lt,wt);return function pe(b,m){const y=(null==m?void 0:m.persistence)||[],E=(Array.isArray(y)?y:[y]).map(W);(null==m?void 0:m.errorMap)&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(E,null==m?void 0:m.popupRedirectResolver)}(Zt,y),Zt})(E,R)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,y,E)=>{m.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new oe.wA("auth-internal",m=>{const y=Ze(m.getProvider("auth").getImmediate());return new my(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(rf,"0.20.2",function _y(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,k.registerVersion)(rf,"0.20.2","esm2017")}("Browser")},2090:(De,me,M)=>{"use strict";M.d(me,{$s:()=>Kt,BH:()=>Oe,DV:()=>hn,Dv:()=>Bi,GJ:()=>sn,L:()=>ee,LL:()=>X,Mn:()=>Re,Pz:()=>je,Sg:()=>Se,UG:()=>be,UI:()=>qr,US:()=>oe,Wj:()=>Bn,Yr:()=>tt,ZB:()=>V,ZR:()=>pe,b$:()=>Be,cI:()=>dn,d:()=>_e,dS:()=>Ps,eu:()=>N,g5:()=>k,gK:()=>vi,gQ:()=>Kn,h$:()=>Y,hl:()=>ye,hu:()=>L,jU:()=>Ee,lb:()=>bi,m9:()=>vn,ne:()=>ps,p$:()=>j,pd:()=>Zr,r3:()=>$t,ru:()=>ke,tV:()=>ce,uI:()=>Le,ug:()=>Yt,vZ:()=>zi,w1:()=>We,w9:()=>Fn,xO:()=>fs,xb:()=>Un,z$:()=>Me,zI:()=>G,zd:()=>Mr});const L=function(Q,re){if(!Q)throw k(re)},k=function(Q){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Q)},q=function(Q){const re=[];let le=0;for(let xe=0;xe<Q.length;xe++){let ne=Q.charCodeAt(xe);ne<128?re[le++]=ne:ne<2048?(re[le++]=ne>>6|192,re[le++]=63&ne|128):55296==(64512&ne)&&xe+1<Q.length&&56320==(64512&Q.charCodeAt(xe+1))?(ne=65536+((1023&ne)<<10)+(1023&Q.charCodeAt(++xe)),re[le++]=ne>>18|240,re[le++]=ne>>12&63|128,re[le++]=ne>>6&63|128,re[le++]=63&ne|128):(re[le++]=ne>>12|224,re[le++]=ne>>6&63|128,re[le++]=63&ne|128)}return re},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,re){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const le=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,xe=[];for(let ne=0;ne<Q.length;ne+=3){const fe=Q[ne],He=ne+1<Q.length,it=He?Q[ne+1]:0,vt=ne+2<Q.length,Nt=vt?Q[ne+2]:0;let di=(15&it)<<2|Nt>>6,ve=63&Nt;vt||(ve=64,He||(di=64)),xe.push(le[fe>>2],le[(3&fe)<<4|it>>4],le[di],le[ve])}return xe.join("")},encodeString(Q,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(Q):this.encodeByteArray(q(Q),re)},decodeString(Q,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(Q):function(Q){const re=[];let le=0,xe=0;for(;le<Q.length;){const ne=Q[le++];if(ne<128)re[xe++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const fe=Q[le++];re[xe++]=String.fromCharCode((31&ne)<<6|63&fe)}else if(ne>239&&ne<365){const vt=((7&ne)<<18|(63&Q[le++])<<12|(63&Q[le++])<<6|63&Q[le++])-65536;re[xe++]=String.fromCharCode(55296+(vt>>10)),re[xe++]=String.fromCharCode(56320+(1023&vt))}else{const fe=Q[le++],He=Q[le++];re[xe++]=String.fromCharCode((15&ne)<<12|(63&fe)<<6|63&He)}}return re.join("")}(this.decodeStringToByteArray(Q,re))},decodeStringToByteArray(Q,re){this.init_();const le=re?this.charToByteMapWebSafe_:this.charToByteMap_,xe=[];for(let ne=0;ne<Q.length;){const fe=le[Q.charAt(ne++)],it=ne<Q.length?le[Q.charAt(ne)]:0;++ne;const Nt=ne<Q.length?le[Q.charAt(ne)]:64;++ne;const It=ne<Q.length?le[Q.charAt(ne)]:64;if(++ne,null==fe||null==it||null==Nt||null==It)throw Error();xe.push(fe<<2|it>>4),64!==Nt&&(xe.push(it<<4&240|Nt>>2),64!==It&&xe.push(Nt<<6&192|It))}return xe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}},Y=function(Q){const re=q(Q);return oe.encodeByteArray(re,!0)},ee=function(Q){return Y(Q).replace(/\./g,"")},ce=function(Q){try{return oe.decodeString(Q,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function j(Q){return V(void 0,Q)}function V(Q,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===Q&&(Q={});break;case Array:Q=[];break;default:return re}for(const le in re)!re.hasOwnProperty(le)||!$(le)||(Q[le]=V(Q[le],re[le]));return Q}function $(Q){return"__proto__"!==Q}class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((re,le)=>{this.resolve=re,this.reject=le})}wrapCallback(re){return(le,xe)=>{le?this.reject(le):this.resolve(xe),"function"==typeof re&&(this.promise.catch(()=>{}),1===re.length?re(le):re(le,xe))}}}function Se(Q,re){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xe=re||"demo-project",ne=Q.iat||0,fe=Q.sub||Q.user_id;if(!fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const He=Object.assign({iss:`https://securetoken.google.com/${xe}`,aud:xe,iat:ne,exp:ne+3600,auth_time:ne,sub:fe,user_id:fe,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[ee(JSON.stringify({alg:"none",type:"JWT"})),ee(JSON.stringify(He)),""].join(".")}function Me(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Le(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Q){return!1}}function Ee(){return"object"==typeof self&&self.self===self}function ke(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function Be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _e(){return Me().indexOf("Electron/")>=0}function We(){const Q=Me();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function Re(){return Me().indexOf("MSAppHost/")>=0}function tt(){return!1}function ye(){return"object"==typeof indexedDB}function N(){return new Promise((Q,re)=>{try{let le=!0;const xe="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(xe);ne.onsuccess=()=>{ne.result.close(),le||self.indexedDB.deleteDatabase(xe),Q(!0)},ne.onupgradeneeded=()=>{le=!1},ne.onerror=()=>{var fe;re((null===(fe=ne.error)||void 0===fe?void 0:fe.message)||"")}}catch(le){re(le)}})}function G(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class pe extends Error{constructor(re,le,xe){super(le),this.code=re,this.customData=xe,this.name="FirebaseError",Object.setPrototypeOf(this,pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X.prototype.create)}}class X{constructor(re,le,xe){this.service=re,this.serviceName=le,this.errors=xe}create(re,...le){const xe=le[0]||{},ne=`${this.service}/${re}`,fe=this.errors[re],He=fe?function Ge(Q,re){return Q.replace(dt,(le,xe)=>{const ne=re[xe];return null!=ne?String(ne):`<${xe}?>`})}(fe,xe):"Error";return new pe(ne,`${this.serviceName}: ${He} (${ne}).`,xe)}}const dt=/\{\$([^}]+)}/g;function dn(Q){return JSON.parse(Q)}function je(Q){return JSON.stringify(Q)}const ot=function(Q){let re={},le={},xe={},ne="";try{const fe=Q.split(".");re=dn(ce(fe[0])||""),le=dn(ce(fe[1])||""),ne=fe[2],xe=le.d||{},delete le.d}catch(fe){}return{header:re,claims:le,data:xe,signature:ne}},Fn=function(Q){const le=ot(Q).claims;return!!le&&"object"==typeof le&&le.hasOwnProperty("iat")},sn=function(Q){const re=ot(Q).claims;return"object"==typeof re&&!0===re.admin};function $t(Q,re){return Object.prototype.hasOwnProperty.call(Q,re)}function hn(Q,re){if(Object.prototype.hasOwnProperty.call(Q,re))return Q[re]}function Un(Q){for(const re in Q)if(Object.prototype.hasOwnProperty.call(Q,re))return!1;return!0}function qr(Q,re,le){const xe={};for(const ne in Q)Object.prototype.hasOwnProperty.call(Q,ne)&&(xe[ne]=re.call(le,Q[ne],ne,Q));return xe}function zi(Q,re){if(Q===re)return!0;const le=Object.keys(Q),xe=Object.keys(re);for(const ne of le){if(!xe.includes(ne))return!1;const fe=Q[ne],He=re[ne];if(zn(fe)&&zn(He)){if(!zi(fe,He))return!1}else if(fe!==He)return!1}for(const ne of xe)if(!le.includes(ne))return!1;return!0}function zn(Q){return null!==Q&&"object"==typeof Q}function fs(Q){const re=[];for(const[le,xe]of Object.entries(Q))Array.isArray(xe)?xe.forEach(ne=>{re.push(encodeURIComponent(le)+"="+encodeURIComponent(ne))}):re.push(encodeURIComponent(le)+"="+encodeURIComponent(xe));return re.length?"&"+re.join("&"):""}function Mr(Q){const re={};return Q.replace(/^\?/,"").split("&").forEach(xe=>{if(xe){const[ne,fe]=xe.split("=");re[decodeURIComponent(ne)]=decodeURIComponent(fe)}}),re}function Zr(Q){const re=Q.indexOf("?");if(!re)return"";const le=Q.indexOf("#",re);return Q.substring(re,le>0?le:void 0)}class Kn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let re=1;re<this.blockSize;++re)this.pad_[re]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(re,le){le||(le=0);const xe=this.W_;if("string"==typeof re)for(let It=0;It<16;It++)xe[It]=re.charCodeAt(le)<<24|re.charCodeAt(le+1)<<16|re.charCodeAt(le+2)<<8|re.charCodeAt(le+3),le+=4;else for(let It=0;It<16;It++)xe[It]=re[le]<<24|re[le+1]<<16|re[le+2]<<8|re[le+3],le+=4;for(let It=16;It<80;It++){const di=xe[It-3]^xe[It-8]^xe[It-14]^xe[It-16];xe[It]=4294967295&(di<<1|di>>>31)}let Nt,mn,ne=this.chain_[0],fe=this.chain_[1],He=this.chain_[2],it=this.chain_[3],vt=this.chain_[4];for(let It=0;It<80;It++){It<40?It<20?(Nt=it^fe&(He^it),mn=1518500249):(Nt=fe^He^it,mn=1859775393):It<60?(Nt=fe&He|it&(fe|He),mn=2400959708):(Nt=fe^He^it,mn=3395469782);const di=(ne<<5|ne>>>27)+Nt+vt+mn+xe[It]&4294967295;vt=it,it=He,He=4294967295&(fe<<30|fe>>>2),fe=ne,ne=di}this.chain_[0]=this.chain_[0]+ne&4294967295,this.chain_[1]=this.chain_[1]+fe&4294967295,this.chain_[2]=this.chain_[2]+He&4294967295,this.chain_[3]=this.chain_[3]+it&4294967295,this.chain_[4]=this.chain_[4]+vt&4294967295}update(re,le){if(null==re)return;void 0===le&&(le=re.length);const xe=le-this.blockSize;let ne=0;const fe=this.buf_;let He=this.inbuf_;for(;ne<le;){if(0===He)for(;ne<=xe;)this.compress_(re,ne),ne+=this.blockSize;if("string"==typeof re){for(;ne<le;)if(fe[He]=re.charCodeAt(ne),++He,++ne,He===this.blockSize){this.compress_(fe),He=0;break}}else for(;ne<le;)if(fe[He]=re[ne],++He,++ne,He===this.blockSize){this.compress_(fe),He=0;break}}this.inbuf_=He,this.total_+=le}digest(){const re=[];let le=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ne=this.blockSize-1;ne>=56;ne--)this.buf_[ne]=255&le,le/=256;this.compress_(this.buf_);let xe=0;for(let ne=0;ne<5;ne++)for(let fe=24;fe>=0;fe-=8)re[xe]=this.chain_[ne]>>fe&255,++xe;return re}}function ps(Q,re){const le=new bt(Q,re);return le.subscribe.bind(le)}class bt{constructor(re,le){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=le,this.task.then(()=>{re(this)}).catch(xe=>{this.error(xe)})}next(re){this.forEachObserver(le=>{le.next(re)})}error(re){this.forEachObserver(le=>{le.error(re)}),this.close(re)}complete(){this.forEachObserver(re=>{re.complete()}),this.close()}subscribe(re,le,xe){let ne;if(void 0===re&&void 0===le&&void 0===xe)throw new Error("Missing Observer.");ne=function Ln(Q,re){if("object"!=typeof Q||null===Q)return!1;for(const le of re)if(le in Q&&"function"==typeof Q[le])return!0;return!1}(re,["next","error","complete"])?re:{next:re,error:le,complete:xe},void 0===ne.next&&(ne.next=cn),void 0===ne.error&&(ne.error=cn),void 0===ne.complete&&(ne.complete=cn);const fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch(He){}}),this.observers.push(ne),fe}unsubscribeOne(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(re){if(!this.finalized)for(let le=0;le<this.observers.length;le++)this.sendOne(le,re)}sendOne(re,le){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[re])try{le(this.observers[re])}catch(xe){"undefined"!=typeof console&&console.error&&console.error(xe)}})}close(re){this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cn(){}const Bi=function(Q,re,le,xe){let ne;if(xe<re?ne="at least "+re:xe>le&&(ne=0===le?"none":"no more than "+le),ne)throw new Error(Q+" failed: Was called with "+xe+(1===xe?" argument.":" arguments.")+" Expects "+ne+".")};function vi(Q,re){return`${Q} failed: ${re} argument `}function Bn(Q,re,le,xe){if((!xe||le)&&"function"!=typeof le)throw new Error(vi(Q,re)+"must be a valid function.")}function bi(Q,re,le,xe){if((!xe||le)&&("object"!=typeof le||null===le))throw new Error(vi(Q,re)+"must be a valid context object.")}const Ps=function(Q){const re=[];let le=0;for(let xe=0;xe<Q.length;xe++){let ne=Q.charCodeAt(xe);if(ne>=55296&&ne<=56319){const fe=ne-55296;xe++,L(xe<Q.length,"Surrogate pair missing trail surrogate."),ne=65536+(fe<<10)+(Q.charCodeAt(xe)-56320)}ne<128?re[le++]=ne:ne<2048?(re[le++]=ne>>6|192,re[le++]=63&ne|128):ne<65536?(re[le++]=ne>>12|224,re[le++]=ne>>6&63|128,re[le++]=63&ne|128):(re[le++]=ne>>18|240,re[le++]=ne>>12&63|128,re[le++]=ne>>6&63|128,re[le++]=63&ne|128)}return re},Yt=function(Q){let re=0;for(let le=0;le<Q.length;le++){const xe=Q.charCodeAt(le);xe<128?re++:xe<2048?re+=2:xe>=55296&&xe<=56319?(re+=4,le++):re+=3}return re};function Kt(Q,re=1e3,le=2){const xe=re*Math.pow(le,Q),ne=Math.round(.5*xe*(Math.random()-.5)*2);return Math.min(144e5,xe+ne)}function vn(Q){return Q&&Q._delegate?Q._delegate:Q}},577:(De,me,M)=>{"use strict";var o=M(5e3);let L=null;function k(){return L}const Y=new o.OlP("DocumentToken");let ee=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function ce(){return(0,o.LFG)(V)}()},providedIn:"platform"}),n})();const j=new o.OlP("Location Initialized");let V=(()=>{class n extends ee{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(e){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){$()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){$()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Oe(){return new V((0,o.LFG)(Y))}()},providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function Se(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Me(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Le(n){return n&&"?"!==n[0]?"?"+n:n}let be=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ee(n){const t=(0,o.LFG)(Y).location;return new Be((0,o.LFG)(ee),t&&t.origin||"")}()},providedIn:"root"}),n})();const ke=new o.OlP("appBaseHref");let Be=(()=>{class n extends be{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Se(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Le(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const c=this.prepareExternalUrl(r+Le(s));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){const c=this.prepareExternalUrl(r+Le(s));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ee),o.LFG(ke,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),_e=(()=>{class n extends be{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Se(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let c=this.prepareExternalUrl(r+Le(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){let c=this.prepareExternalUrl(r+Le(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ee),o.LFG(ke,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),We=(()=>{class n{constructor(e,i){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Me(K(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Le(i))}normalize(e){return n.stripTrailingSlash(function tt(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,K(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Le(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Le(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Le,n.joinWithSlash=Se,n.stripTrailingSlash=Me,n.\u0275fac=function(e){return new(e||n)(o.LFG(be),o.LFG(ee))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Re(){return new We((0,o.LFG)(be),(0,o.LFG)(ee))}()},providedIn:"root"}),n})();function K(n){return n.replace(/\/index.html$/,"")}var W=(()=>((W=W||{})[W.Format=0]="Format",W[W.Standalone=1]="Standalone",W))(),te=(()=>((te=te||{})[te.Narrow=0]="Narrow",te[te.Abbreviated=1]="Abbreviated",te[te.Wide=2]="Wide",te[te.Short=3]="Short",te))(),pe=(()=>((pe=pe||{})[pe.Short=0]="Short",pe[pe.Medium=1]="Medium",pe[pe.Long=2]="Long",pe[pe.Full=3]="Full",pe))(),X=(()=>((X=X||{})[X.Decimal=0]="Decimal",X[X.Group=1]="Group",X[X.List=2]="List",X[X.PercentSign=3]="PercentSign",X[X.PlusSign=4]="PlusSign",X[X.MinusSign=5]="MinusSign",X[X.Exponential=6]="Exponential",X[X.SuperscriptingExponent=7]="SuperscriptingExponent",X[X.PerMille=8]="PerMille",X[X.Infinity=9]="Infinity",X[X.NaN=10]="NaN",X[X.TimeSeparator=11]="TimeSeparator",X[X.CurrencyDecimal=12]="CurrencyDecimal",X[X.CurrencyGroup=13]="CurrencyGroup",X))();function sn(n,t){return Ln((0,o.cg1)(n)[o.wAp.DateFormat],t)}function $t(n,t){return Ln((0,o.cg1)(n)[o.wAp.TimeFormat],t)}function hn(n,t){return Ln((0,o.cg1)(n)[o.wAp.DateTimeFormat],t)}function Un(n,t){const e=(0,o.cg1)(n),i=e[o.wAp.NumberSymbols][t];if(void 0===i){if(t===X.CurrencyDecimal)return e[o.wAp.NumberSymbols][X.Decimal];if(t===X.CurrencyGroup)return e[o.wAp.NumberSymbols][X.Group]}return i}function Kn(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ln(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function cn(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Bn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,bi={},Ps=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Yt=(()=>((Yt=Yt||{})[Yt.Short=0]="Short",Yt[Yt.ShortGMT=1]="ShortGMT",Yt[Yt.Long=2]="Long",Yt[Yt.Extended=3]="Extended",Yt))(),mt=(()=>((mt=mt||{})[mt.FullYear=0]="FullYear",mt[mt.Month=1]="Month",mt[mt.Date=2]="Date",mt[mt.Hours=3]="Hours",mt[mt.Minutes=4]="Minutes",mt[mt.Seconds=5]="Seconds",mt[mt.FractionalSeconds=6]="FractionalSeconds",mt[mt.Day=7]="Day",mt))(),ct=(()=>((ct=ct||{})[ct.DayPeriods=0]="DayPeriods",ct[ct.Days=1]="Days",ct[ct.Months=2]="Months",ct[ct.Eras=3]="Eras",ct))();function kr(n,t,e,i){let r=function Pe(n){if(pt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,c=1]=n.split("-").map(h=>+h);return Rr(r,s-1,c)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Bn))return function Xe(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-e,h=Number(n[5]||0)-i,p=Number(n[6]||0),_=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,c,h,p,_),t}(i)}const t=new Date(n);if(!pt(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Kt(e,t)||t;let h,c=[];for(;t;){if(h=Ps.exec(t),!h){c.push(t);break}{c=c.concat(h.slice(1));const w=c.pop();if(!w)break;t=w}}let p=r.getTimezoneOffset();i&&(p=ve(i,p),r=function se(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function ue(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(ve(t,r)-r))}(r,i,!0));let _="";return c.forEach(w=>{const T=function di(n){if(It[n])return It[n];let t;switch(n){case"G":case"GG":case"GGG":t=le(ct.Eras,te.Abbreviated);break;case"GGGG":t=le(ct.Eras,te.Wide);break;case"GGGGG":t=le(ct.Eras,te.Narrow);break;case"y":t=Q(mt.FullYear,1,0,!1,!0);break;case"yy":t=Q(mt.FullYear,2,0,!0,!0);break;case"yyy":t=Q(mt.FullYear,3,0,!1,!0);break;case"yyyy":t=Q(mt.FullYear,4,0,!1,!0);break;case"Y":t=mn(1);break;case"YY":t=mn(2,!0);break;case"YYY":t=mn(3);break;case"YYYY":t=mn(4);break;case"M":case"L":t=Q(mt.Month,1,1);break;case"MM":case"LL":t=Q(mt.Month,2,1);break;case"MMM":t=le(ct.Months,te.Abbreviated);break;case"MMMM":t=le(ct.Months,te.Wide);break;case"MMMMM":t=le(ct.Months,te.Narrow);break;case"LLL":t=le(ct.Months,te.Abbreviated,W.Standalone);break;case"LLLL":t=le(ct.Months,te.Wide,W.Standalone);break;case"LLLLL":t=le(ct.Months,te.Narrow,W.Standalone);break;case"w":t=Nt(1);break;case"ww":t=Nt(2);break;case"W":t=Nt(1,!0);break;case"d":t=Q(mt.Date,1);break;case"dd":t=Q(mt.Date,2);break;case"c":case"cc":t=Q(mt.Day,1);break;case"ccc":t=le(ct.Days,te.Abbreviated,W.Standalone);break;case"cccc":t=le(ct.Days,te.Wide,W.Standalone);break;case"ccccc":t=le(ct.Days,te.Narrow,W.Standalone);break;case"cccccc":t=le(ct.Days,te.Short,W.Standalone);break;case"E":case"EE":case"EEE":t=le(ct.Days,te.Abbreviated);break;case"EEEE":t=le(ct.Days,te.Wide);break;case"EEEEE":t=le(ct.Days,te.Narrow);break;case"EEEEEE":t=le(ct.Days,te.Short);break;case"a":case"aa":case"aaa":t=le(ct.DayPeriods,te.Abbreviated);break;case"aaaa":t=le(ct.DayPeriods,te.Wide);break;case"aaaaa":t=le(ct.DayPeriods,te.Narrow);break;case"b":case"bb":case"bbb":t=le(ct.DayPeriods,te.Abbreviated,W.Standalone,!0);break;case"bbbb":t=le(ct.DayPeriods,te.Wide,W.Standalone,!0);break;case"bbbbb":t=le(ct.DayPeriods,te.Narrow,W.Standalone,!0);break;case"B":case"BB":case"BBB":t=le(ct.DayPeriods,te.Abbreviated,W.Format,!0);break;case"BBBB":t=le(ct.DayPeriods,te.Wide,W.Format,!0);break;case"BBBBB":t=le(ct.DayPeriods,te.Narrow,W.Format,!0);break;case"h":t=Q(mt.Hours,1,-12);break;case"hh":t=Q(mt.Hours,2,-12);break;case"H":t=Q(mt.Hours,1);break;case"HH":t=Q(mt.Hours,2);break;case"m":t=Q(mt.Minutes,1);break;case"mm":t=Q(mt.Minutes,2);break;case"s":t=Q(mt.Seconds,1);break;case"ss":t=Q(mt.Seconds,2);break;case"S":t=Q(mt.FractionalSeconds,1);break;case"SS":t=Q(mt.FractionalSeconds,2);break;case"SSS":t=Q(mt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ne(Yt.Short);break;case"ZZZZZ":t=ne(Yt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ne(Yt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ne(Yt.Long);break;default:return null}return It[n]=t,t}(w);_+=T?T(r,e,p):"''"===w?"'":w.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),_}function Rr(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Kt(n,t){const e=function dt(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(bi[e]=bi[e]||{},bi[e][t])return bi[e][t];let i="";switch(t){case"shortDate":i=sn(n,pe.Short);break;case"mediumDate":i=sn(n,pe.Medium);break;case"longDate":i=sn(n,pe.Long);break;case"fullDate":i=sn(n,pe.Full);break;case"shortTime":i=$t(n,pe.Short);break;case"mediumTime":i=$t(n,pe.Medium);break;case"longTime":i=$t(n,pe.Long);break;case"fullTime":i=$t(n,pe.Full);break;case"short":const r=Kt(n,"shortTime"),s=Kt(n,"shortDate");i=gs(hn(n,pe.Short),[r,s]);break;case"medium":const c=Kt(n,"mediumTime"),h=Kt(n,"mediumDate");i=gs(hn(n,pe.Medium),[c,h]);break;case"long":const p=Kt(n,"longTime"),_=Kt(n,"longDate");i=gs(hn(n,pe.Long),[p,_]);break;case"full":const w=Kt(n,"fullTime"),T=Kt(n,"fullDate");i=gs(hn(n,pe.Full),[w,T])}return i&&(bi[e][t]=i),i}function gs(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Qn(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let c=String(n);for(;c.length<t;)c="0"+c;return i&&(c=c.substr(c.length-t)),s+c}function Q(n,t,e=0,i=!1,r=!1){return function(s,c){let h=function re(n,t){switch(n){case mt.FullYear:return t.getFullYear();case mt.Month:return t.getMonth();case mt.Date:return t.getDate();case mt.Hours:return t.getHours();case mt.Minutes:return t.getMinutes();case mt.Seconds:return t.getSeconds();case mt.FractionalSeconds:return t.getMilliseconds();case mt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||h>-e)&&(h+=e),n===mt.Hours)0===h&&-12===e&&(h=12);else if(n===mt.FractionalSeconds)return function vn(n,t){return Qn(n,3).substr(0,t)}(h,t);const p=Un(c,X.MinusSign);return Qn(h,t,p,i,r)}}function le(n,t,e=W.Format,i=!1){return function(r,s){return function xe(n,t,e,i,r,s){switch(e){case ct.Months:return function ot(n,t,e){const i=(0,o.cg1)(n),s=Ln([i[o.wAp.MonthsFormat],i[o.wAp.MonthsStandalone]],t);return Ln(s,e)}(t,r,i)[n.getMonth()];case ct.Days:return function je(n,t,e){const i=(0,o.cg1)(n),s=Ln([i[o.wAp.DaysFormat],i[o.wAp.DaysStandalone]],t);return Ln(s,e)}(t,r,i)[n.getDay()];case ct.DayPeriods:const c=n.getHours(),h=n.getMinutes();if(s){const _=function ps(n){const t=(0,o.cg1)(n);return Kn(t),(t[o.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?cn(i):[cn(i[0]),cn(i[1])])}(t),w=function bt(n,t,e){const i=(0,o.cg1)(n);Kn(i);const s=Ln([i[o.wAp.ExtraData][0],i[o.wAp.ExtraData][1]],t)||[];return Ln(s,e)||[]}(t,r,i),T=_.findIndex(A=>{if(Array.isArray(A)){const[F,B]=A,ae=c>=F.hours&&h>=F.minutes,we=c<B.hours||c===B.hours&&h<B.minutes;if(F.hours<B.hours){if(ae&&we)return!0}else if(ae||we)return!0}else if(A.hours===c&&A.minutes===h)return!0;return!1});if(-1!==T)return w[T]}return function dn(n,t,e){const i=(0,o.cg1)(n),s=Ln([i[o.wAp.DayPeriodsFormat],i[o.wAp.DayPeriodsStandalone]],t);return Ln(s,e)}(t,r,i)[c<12?0:1];case ct.Eras:return function yn(n,t){return Ln((0,o.cg1)(n)[o.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function ne(n){return function(t,e,i){const r=-1*i,s=Un(e,X.MinusSign),c=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Yt.Short:return(r>=0?"+":"")+Qn(c,2,s)+Qn(Math.abs(r%60),2,s);case Yt.ShortGMT:return"GMT"+(r>=0?"+":"")+Qn(c,1,s);case Yt.Long:return"GMT"+(r>=0?"+":"")+Qn(c,2,s)+":"+Qn(Math.abs(r%60),2,s);case Yt.Extended:return 0===i?"Z":(r>=0?"+":"")+Qn(c,2,s)+":"+Qn(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function vt(n){return Rr(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Nt(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,c=e.getDate();r=1+Math.floor((c+s)/7)}else{const s=vt(e),c=function it(n){const t=Rr(n,0,1).getDay();return Rr(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),h=s.getTime()-c.getTime();r=1+Math.round(h/6048e5)}return Qn(r,n,Un(i,X.MinusSign))}}function mn(n,t=!1){return function(e,i){return Qn(vt(e).getFullYear(),n,Un(i,X.MinusSign),t)}}const It={};function ve(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function pt(n){return n instanceof Date&&!isNaN(n.valueOf())}function Lo(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let Or=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class fa{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bn=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new fa(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,c),ho(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{ho(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ho(n,t){n.context.$implicit=t.item}let An=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new wn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ed("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ed("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class wn{constructor(){this.$implicit=null,this.ngIf=null}}function ed(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}class Vo{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ir=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),$i=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Vo(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(ir,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Kc=(()=>{class n{constructor(e,i,r){r._addDefault(new Vo(e,i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(ir,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),Qc=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();const Qp=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let sd=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,s){var c;if(null==e||""===e||e!=e)return null;try{return kr(e,i,s||this.locale,null!==(c=null!=r?r:this.defaultTimezone)&&void 0!==c?c:void 0)}catch(h){throw function hi(n,t){return new o.vHH(2100,"")}()}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.soG,16),o.Y36(Qp,24))},n.\u0275pipe=o.Yjl({name:"date",type:n,pure:!0}),n})(),wi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const ad="browser";function Wi(n){return"server"===n}let Yl=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new Kl((0,o.LFG)(Y),window)}),n})();class Kl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Us(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Jc(this.window.history)||Jc(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Jc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Mn{}class go extends class ol extends class oe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function J(n){L||(L=n)}(new go)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Ql(){return Cn=Cn||document.querySelector("base"),Cn?Cn.getAttribute("href"):null}();return null==e?null:function Uo(n){al=al||document.createElement("a"),al.setAttribute("href",n);const t=al.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Cn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Lo(document.cookie,t)}}let al,Cn=null;const Ai=new o.OlP("TRANSITION_ID"),Xn=[{provide:o.ip1,useFactory:function Jl(n,t,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const i=k(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Ai,Y,o.zs3],multi:!0}];class Hs{static init(){(0,o.VLi)(new Hs)}addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const h=function(p){c=c||p,s--,0==s&&i(c)};r.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?k().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Mi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const _a=new o.OlP("EventManagerPlugins");let _s=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(_a),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class eu{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=k().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let vr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),mo=(()=>{class n extends vr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(_o),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(_o))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function _o(n){k().remove(n)}const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ll=/%COMP%/g;function Ne(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ne(n,r,e):(r=r.replace(ll,n),e.push(r))}return e}function Qt(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Wn=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new yo(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new nu(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case o.ifc.ShadowDom:return new iu(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ne(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(_s),o.LFG(mo),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class yo{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ct[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Ct[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Ct[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Qt(i)):this.eventManager.addEventListener(t,e,Qt(i))}}class nu extends yo{constructor(t,e,i,r){super(t),this.component=i;const s=Ne(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function dl(n){return"_ngcontent-%COMP%".replace(ll,n)}(r+"-"+i.id),this.hostAttr=function Uh(n){return"_nghost-%COMP%".replace(ll,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class iu extends yo{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Ne(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const h=document.createElement("style");h.textContent=s[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let hd=(()=>{class n extends eu{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const fd=["alt","control","meta","shift"],ya={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ci={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Kr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ru=(()=>{class n extends eu{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(e,s.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="";if(fd.forEach(p=>{const _=i.indexOf(p);_>-1&&(i.splice(_,1),c+=p+".")}),c+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=c,h}static getEventFullKey(e){let i="",r=function ys(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Ci.hasOwnProperty(t)&&(t=Ci[t]))}return ya[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),fd.forEach(s=>{s!=r&&Kr[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const gd=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:ad},{provide:o.g9A,useValue:function js(){go.makeCurrent(),Hs.init()},multi:!0},{provide:Y,useFactory:function pd(){return(0,o.RDi)(document),document},deps:[]}]),Ho=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function gl(){return new o.qLn},deps:[]},{provide:_a,useClass:hd,multi:!0,deps:[Y,o.R0b,o.Lbi]},{provide:_a,useClass:ru,multi:!0,deps:[Y]},{provide:Wn,useClass:Wn,deps:[_s,mo,o.AFp]},{provide:o.FYo,useExisting:Wn},{provide:vr,useExisting:mo},{provide:mo,useClass:mo,deps:[Y]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:_s,useClass:_s,deps:[_a,o.R0b]},{provide:Mn,useClass:Mi,deps:[]}];let Xl=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:Ai,useExisting:o.AFp},Xn]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(n,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:Ho,imports:[wi,o.hGG]}),n})();"undefined"!=typeof window&&window;let sr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):o.LFG(bd),i},providedIn:"root"}),n})(),bd=(()=>{class n extends sr{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)(i),(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function wa(n){return new bd(n.get(Y))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();var au=M(127),Mt=M(7579),Gn=M(3269),qn=M(8996);function ut(...n){const t=(0,Gn.yG)(n);return(0,qn.D)(n,t)}var ri=M(8306),or=M(6451),$s=M(5363),br=M(8421),jt=M(4482),kn=M(5403);function En(n,t){return(0,jt.e)((e,i)=>{let r=null,s=0,c=!1;const h=()=>c&&!r&&i.complete();e.subscribe(new kn.Q(i,p=>{null==r||r.unsubscribe();let _=0;const w=s++;(0,br.Xf)(n(p,w)).subscribe(r=new kn.Q(i,T=>i.next(t?t(p,T,w,_++):T),()=>{r=null,h()}))},()=>{c=!0,h()}))})}var gt=M(4004),nc=M(6063);class wd extends Mt.x{constructor(t=1/0,e=1/0,i=nc.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;e||(i.push(t),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!t.closed;c+=i?1:2)t.next(s[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=e.now();let h=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)h=p;h&&i.splice(0,h+1)}}}var ic=M(3099);function rc(n,t,e){var i,r;let s,c=!1;return n&&"object"==typeof n?(s=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(r=n.windowTime)&&void 0!==r?r:1/0,c=!!n.refCount,e=n.scheduler):s=null!=n?n:1/0,(0,ic.B)({connector:()=>new wd(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}const wr=(0,M(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function gn(n,t){return(0,jt.e)((e,i)=>{let r=0;e.subscribe(new kn.Q(i,s=>n.call(t,s,r++)&&i.next(s)))})}var Tn=M(5698);function vo(n){return(0,jt.e)((t,e)=>{let i=!1;t.subscribe(new kn.Q(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Cr(n=sc){return(0,jt.e)((t,e)=>{let i=!1;t.subscribe(new kn.Q(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function sc(){return new wr}var Ws=M(4671);function Er(n,t){const e=arguments.length>=2;return i=>i.pipe(n?gn((r,s)=>n(r,s,i)):Ws.y,(0,Tn.q)(1),e?vo(t):Cr(()=>new wr))}var Fr=M(576);function Ca(n,t){return(0,Fr.m)(t)?En(()=>n,t):En(()=>n)}var bo=M(9468),Jt=M(5813),Oi=M(2011),Lr=M(5867);class $o{constructor(t){return t}}class lu{constructor(){return(0,Lr.C6)()}}const wo=new o.OlP("angularfire2._apps"),uu={provide:$o,useFactory:function Ea(n){return n&&1===n.length?n[0]:new $o((0,Lr.Mq)())},deps:[[new o.FiY,wo]]},Ta={provide:lu,deps:[[new o.FiY,wo]]};function Wo(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new $o(i)}}let Co=(()=>{class n{constructor(e){(0,Lr.KN)("angularfire",Jt.q4.full,"core"),(0,Lr.KN)("angularfire",Jt.q4.full,"app"),(0,Lr.KN)("angular",o.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[uu,Ta]}),n})();function Ia(n,...t){return{ngModule:Co,providers:[{provide:wo,useFactory:Wo(n),multi:!0,deps:[o.R0b,o.zs3,Jt.HU,...t]}]}}const ig=(0,Jt.u3)(Lr.ZF,!0);var nt=M(9671),Pi=M(9681),qs=M(4859),U=M(2090),bs=M(1877);const qh=new Map,wl={activated:!1,tokenObservers:[]},Cd={initialized:!1,enabled:!1};function tn(n){return qh.get(n)||wl}function qi(n,t){qh.set(n,t)}function Eo(){return Cd}class Zo{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,nt.Z)(function*(){e.stop();try{e.pending=new U.BH,yield function ac(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new U.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const fi=new U.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function hu(n){if(!tn(n).activated)throw fi.create("use-before-activation",{appName:n.name})}function Yo(n,t){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,nt.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const T=yield r.getHeartbeatsHeader();T&&(i["X-Firebase-Client"]=T)}const s={method:"POST",body:JSON.stringify(t),headers:i};let c,h;try{c=yield fetch(n,s)}catch(T){throw fi.create("fetch-network-error",{originalErrorMessage:T.message})}if(200!==c.status)throw fi.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(T){throw fi.create("fetch-parse-error",{originalErrorMessage:T.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw fi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const _=1e3*Number(p[1]),w=Date.now();return{token:h.token,expireTimeMillis:w+_,issuedAtTimeMillis:w}})).apply(this,arguments)}function To(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Ko="firebase-app-check-store";let ws=null;function Qr(){return ws||(ws=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(fi.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ko,{keyPath:"compositeKey"})}}catch(e){t(fi.create("storage-open",{originalErrorMessage:e.message}))}}),ws)}function uc(){return(uc=(0,nt.Z)(function*(n,t){const i=(yield Qr()).transaction(Ko,"readwrite"),s=i.objectStore(Ko).put({compositeKey:n,value:t});return new Promise((c,h)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var _;h(fi.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const Z=new bs.Yd("@firebase/app-check");function Fe(n,t){return(0,U.hl)()?function xa(n,t){return function Td(n,t){return uc.apply(this,arguments)}(function P(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Z.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function St(){return Eo().enabled}function zt(){return kt.apply(this,arguments)}function kt(){return(kt=(0,nt.Z)(function*(){const n=Eo();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const gi={error:"UNKNOWN_ERROR"};function Ks(n){return U.US.encodeString(JSON.stringify(n),!1)}function Jr(n){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,nt.Z)(function*(n,t=!1){const e=n.app;hu(e);const i=tn(e);let s,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&dc(p)&&(r=p)}if(!t&&r&&dc(r))return{token:r.token};let h,c=!1;if(St()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Yo(To(e,yield zt()),n.heartbeatServiceProvider).then(_=>(i.exchangeTokenPromise=void 0,_)),c=!0);const p=yield i.exchangeTokenPromise;return yield Fe(e,p),qi(e,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),c=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Z.warn(p.message):Z.error(p),s=p}return r?(h={token:r.token},qi(e,Object.assign(Object.assign({},i),{token:r})),yield Fe(e,r)):h=Qh(s),c&&pu(e,h),h})).apply(this,arguments)}function Qs(n,t){const e=tn(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),qi(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function Tl(n){const{app:t}=n,e=tn(t);let i=e.tokenRefresher;i||(i=function Id(n){const{app:t}=n;return new Zo((0,nt.Z)(function*(){let i;if(i=tn(t).token?yield Jr(n,!0):yield Jr(n),i.error)throw i.error}),()=>!0,()=>{const e=tn(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),qi(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function pu(n,t){const e=tn(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function dc(n){return n.expireTimeMillis-Date.now()>0}function Qh(n){return{token:Ks(gi),error:n}}class ly{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=tn(this.app);for(const e of t)Qs(this.app,e.next);return Promise.resolve()}}const Es="app-check-internal";!function pc(){(0,Pi._registerComponent)(new qs.wA("app-check",n=>function hc(n,t){return new ly(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Es).initialize()})),(0,Pi._registerComponent)(new qs.wA(Es,n=>function gu(n){return{getToken:t=>Jr(n,t),addTokenListener:t=>function Ir(n,t,e,i){const{app:r}=n,s=tn(r),c={next:e,error:i,type:t};if(qi(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&dc(s.token)){const h=s.token;Promise.resolve().then(()=>{e({token:h.token}),Tl(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Tl(n))}(n,"INTERNAL",t),removeTokenListener:t=>Qs(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Pi.registerVersion)("@firebase/app-check","0.5.8")}();class gc{constructor(){return(0,Jt.vb)("app-check")}}"undefined"!=typeof window&&window;const Ue=new o.OlP("angularfire2.auth.use-emulator"),lt=new o.OlP("angularfire2.auth.settings"),wt=new o.OlP("angularfire2.auth.tenant-id"),Zt=new o.OlP("angularfire2.auth.langugage-code"),Vn=new o.OlP("angularfire2.auth.use-device-language"),Xr=new o.OlP("angularfire.auth.persistence"),Js=(n,t,e,i,r,s,c,h)=>(0,Oi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[_,w]of Object.entries(c))p.settings[_]=w;return h&&p.setPersistence(h),p},[e,i,r,s,c,h]);let mc=(()=>{class n{constructor(e,i,r,s,c,h,p,_,w,T,A,F){const B=new Mt.x,ae=ut(void 0).pipe((0,$s.Q)(c.outsideAngular),En(()=>s.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,5881)))),(0,gt.U)(()=>(0,Oi.on)(e,s,i)),(0,gt.U)(we=>Js(we,s,h,_,w,T,p,A)),rc({bufferSize:1,refCount:!1}));if(Wi(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ut(null);else{ae.pipe(Er()).subscribe();const $e=ae.pipe(En(et=>et.getRedirectResult().then(Ut=>Ut,()=>null)),Jt.iC,rc({bufferSize:1,refCount:!1})),Je=ae.pipe(En(et=>new ri.y(Ut=>({unsubscribe:s.runOutsideAngular(()=>et.onAuthStateChanged(Bt=>Ut.next(Bt),Bt=>Ut.error(Bt),()=>Ut.complete()))})))),Qe=ae.pipe(En(et=>new ri.y(Ut=>({unsubscribe:s.runOutsideAngular(()=>et.onIdTokenChanged(Bt=>Ut.next(Bt),Bt=>Ut.error(Bt),()=>Ut.complete()))}))));this.authState=$e.pipe(Ca(Je),(0,bo.R)(c.outsideAngular),(0,$s.Q)(c.insideAngular)),this.user=$e.pipe(Ca(Qe),(0,bo.R)(c.outsideAngular),(0,$s.Q)(c.insideAngular)),this.idToken=this.user.pipe(En(et=>et?(0,qn.D)(et.getIdToken()):ut(null))),this.idTokenResult=this.user.pipe(En(et=>et?(0,qn.D)(et.getIdTokenResult()):ut(null))),this.credential=(0,or.T)($e,B,this.authState.pipe(gn(et=>!et))).pipe((0,gt.U)(et=>(null==et?void 0:et.user)?et:null),(0,bo.R)(c.outsideAngular),(0,$s.Q)(c.insideAngular))}return(0,Oi.pX)(this,ae,s,{spy:{apply:(we,$e,Je)=>{(we.startsWith("signIn")||we.startsWith("createUser"))&&Je.then(Qe=>B.next(Qe))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Oi.Dh),o.LFG(Oi.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Jt.HU),o.LFG(Ue,8),o.LFG(lt,8),o.LFG(wt,8),o.LFG(Zt,8),o.LFG(Vn,8),o.LFG(Xr,8),o.LFG(gc,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),yy=(()=>{class n{constructor(){au.Z.registerVersion("angularfire",Jt.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[mc]}),n})();class lr extends Mt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:lg}=Array,{getPrototypeOf:cg,prototype:sf,keys:ug}=Object;function Ad(n){if(1===n.length){const t=n[0];if(lg(t))return{args:t,keys:null};if(function _c(n){return n&&"object"==typeof n&&cg(n)===sf}(t)){const e=ug(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:af}=Array;function bu(n){return(0,gt.U)(t=>function lf(n,t){return af(t)?n(...t):n(t)}(n,t))}function oi(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Q0=M(9672);function dg(n,t,e){n?(0,Q0.f)(e,n,t):t()}function cf(n,t){const e=(0,Fr.m)(n)?n:()=>n,i=r=>r.error(e());return new ri.y(t?r=>t.schedule(i,0,r):i)}var hg=M(8189);function fg(...n){return function DS(){return(0,hg.J)(1)}()((0,qn.D)(n,(0,Gn.yG)(n)))}function uf(n){return new ri.y(t=>{(0,br.Xf)(n()).subscribe(t)})}var Md=M(515),es=M(727);function kd(){return(0,jt.e)((n,t)=>{let e=null;n._refCount++;const i=new kn.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class ts extends ri.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,jt.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new es.w0;const e=this.getSubject();t.add(this.source.subscribe(new kn.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=es.w0.EMPTY)}return t}refCount(){return kd()(this)}}function Ts(...n){const t=(0,Gn.yG)(n);return(0,jt.e)((e,i)=>{(t?fg(n,e,t):fg(n,e)).subscribe(i)})}function J0(n,t,e,i,r){return(s,c)=>{let h=e,p=t,_=0;s.subscribe(new kn.Q(c,w=>{const T=_++;p=h?n(p,w,T):(h=!0,w),i&&c.next(p)},r&&(()=>{h&&c.next(p),c.complete()})))}}function df(n,t){return(0,jt.e)(J0(n,t,arguments.length>=2,!0))}function ai(n){return(0,jt.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe(new kn.Q(e,void 0,void 0,c=>{s=(0,br.Xf)(n(c,ai(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}var Ei=M(5577);function yc(n,t){return(0,Fr.m)(t)?(0,Ei.z)(n,t,1):(0,Ei.z)(n,1)}function by(n){return n<=0?()=>Md.E:(0,jt.e)((t,e)=>{let i=[];t.subscribe(new kn.Q(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}var cr=M(8505);function X0(n){return(0,jt.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class ka{constructor(t,e){this.id=t,this.url=e}}class wy extends ka{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rd extends ka{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class eC extends ka{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xS extends ka{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Cy extends ka{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AS extends ka{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MS extends ka{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ey extends ka{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kS extends ka{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tC{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hf{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class RS{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OS{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PS{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NS{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nC{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const rn="primary";class FS{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Od(n){return new FS(n)}const iC="ngNavigationCancelingError";function Ty(n){const t=Error("NavigationCancelingError: "+n);return t[iC]=!0,t}function rC(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],h=n[s];if(c.startsWith(":"))r[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ra(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!wu(n[r],t[r]))return!1;return!0}function wu(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function Qo(n){return Array.prototype.concat.apply([],n)}function VS(n){return n.length>0?n[n.length-1]:null}function ur(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Sl(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,qn.D)(Promise.resolve(n)):ut(n)}const Iy={exact:function Pd(n,t,e){if(!bc(n.segments,t.segments)||!Nd(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Pd(n.children[i],t.children[i],e))return!1;return!0},subset:Dy},pg={exact:function oC(n,t){return Ra(n,t)},subset:function aC(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>wu(n[e],t[e]))},ignored:()=>!0};function sC(n,t,e){return Iy[e.paths](n.root,t.root,e.matrixParams)&&pg[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Dy(n,t,e){return gg(n,t,t.segments,e)}function gg(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!bc(r,e)||t.hasChildren()||!Nd(r,e,i))}if(n.segments.length===e.length){if(!bc(n.segments,e)||!Nd(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Dy(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(bc(n.segments,r)&&Nd(n.segments,r,i)&&n.children[rn])&&gg(n.children[rn],t,s,i)}}function Nd(n,t,e){return t.every((i,r)=>pg[e](n[r].parameters,i.parameters))}class vc{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Od(this.queryParams)),this._queryParamMap}toString(){return HS.serialize(this)}}class fn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ur(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _g(this)}}class Pa{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Od(this.parameters)),this._parameterMap}toString(){return dC(this)}}function bc(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class mg{}class lC{parse(t){const e=new GS(t);return new vc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ff(t.root,!0)}`,i=function hC(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${yg(e)}=${yg(r)}`).join("&"):`${yg(e)}=${yg(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function uC(n){return encodeURI(n)}(t.fragment)}`:""}`}}const HS=new lC;function _g(n){return n.segments.map(t=>dC(t)).join("/")}function ff(n,t){if(!n.hasChildren())return _g(n);if(t){const e=n.children[rn]?ff(n.children[rn],!1):"",i=[];return ur(n.children,(r,s)=>{s!==rn&&i.push(`${s}:${ff(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function US(n,t){let e=[];return ur(n.children,(i,r)=>{r===rn&&(e=e.concat(t(i,r)))}),ur(n.children,(i,r)=>{r!==rn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===rn?[ff(n.children[rn],!1)]:[`${r}:${ff(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[rn]?`${_g(n)}/${e[0]}`:`${_g(n)}/(${e.join("//")})`}}function cC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yg(n){return cC(n).replace(/%3B/gi,";")}function pf(n){return cC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gf(n){return decodeURIComponent(n)}function vg(n){return gf(n.replace(/\+/g,"%20"))}function dC(n){return`${pf(n.path)}${function jS(n){return Object.keys(n).map(t=>`;${pf(t)}=${pf(n[t])}`).join("")}(n.parameters)}`}const fC=/^[^\/()?;=#]+/;function Na(n){const t=n.match(fC);return t?t[0]:""}const pC=/^[^=?&#]+/,zS=/^[^&#]+/;class GS{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[rn]=new fn(t,e)),i}parseSegment(){const t=Na(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Pa(gf(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Na(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Na(this.remaining);r&&(i=r,this.capture(i))}t[gf(e)]=gf(i)}parseQueryParam(t){const e=function gC(n){const t=n.match(pC);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function bg(n){const t=n.match(zS);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=vg(e),s=vg(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Na(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=rn);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[rn]:new fn([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class xy{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=wg(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=wg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Cg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Cg(t,this._root).map(e=>e.value)}}function wg(n,t){if(n===t.value)return t;for(const e of t.children){const i=wg(n,e);if(i)return i}return null}function Cg(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Cg(n,e);if(i.length)return i.unshift(t),i}return[]}class Jo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Cu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class mf extends xy{constructor(t,e){super(t),this.snapshot=e,Eg(this,t)}toString(){return this.snapshot.toString()}}function _f(n,t){const e=function mC(n,t){const c=new wc([],{},{},"",{},rn,t,null,n.root,-1,{});return new _C("",new Jo(c,[]))}(n,t),i=new lr([new Pa("",{})]),r=new lr({}),s=new lr({}),c=new lr({}),h=new lr(""),p=new Xs(i,r,c,h,s,rn,t,e.root);return p.snapshot=e.root,new mf(new Jo(p,[]),e)}class Xs{constructor(t,e,i,r,s,c,h,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=h,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(t=>Od(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(t=>Od(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ay(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function My(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class wc{constructor(t,e,i,r,s,c,h,p,_,w,T){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=h,this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=w,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Od(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Od(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _C extends xy{constructor(t,e){super(e),this.url=t,Eg(this,e)}toString(){return yC(this._root)}}function Eg(n,t){t.value._routerState=n,t.children.forEach(e=>Eg(n,e))}function yC(n){const t=n.children.length>0?` { ${n.children.map(yC).join(", ")} } `:"";return`${n.value}${t}`}function ky(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ra(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Ra(t.params,e.params)||n.params.next(e.params),function BS(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ra(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Ra(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Tg(n,t){const e=Ra(n.params,t.params)&&function Sy(n,t){return bc(n,t)&&n.every((e,i)=>Ra(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Tg(n.parent,t.parent))}function Fd(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function yN(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Fd(n,i,r);return Fd(n,i)})}(n,t,e);return new Jo(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(h=>Fd(n,h)),c}}const i=function vC(n){return new Xs(new lr(n.url),new lr(n.params),new lr(n.queryParams),new lr(n.fragment),new lr(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Fd(n,s));return new Jo(i,r)}}function yf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function vf(n){return"object"==typeof n&&null!=n&&n.outlets}function Oy(n,t,e,i,r){let s={};if(i&&ur(i,(h,p)=>{s[p]=Array.isArray(h)?h.map(_=>`${_}`):`${h}`}),n===t)return new vc(e,s,r);const c=Io(n,t,e);return new vc(c,s,r)}function Io(n,t,e){const i={};return ur(n.children,(r,s)=>{i[s]=r===t?e:Io(r,t,e)}),new fn(n.segments,i)}class bC{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&yf(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(vf);if(r&&r!==VS(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Py{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Ny(n,t,e){if(n||(n=new fn([],{})),0===n.segments.length&&n.hasChildren())return Ig(n,t,e);const i=function YS(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const c=n.segments[r],h=e[i];if(vf(h))break;const p=`${h}`,_=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!By(p,_,c))return s;i+=2}else{if(!By(p,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new fn(n.segments.slice(0,i.pathIndex),{});return s.children[rn]=new fn(n.segments.slice(i.pathIndex),n.children),Ig(s,0,r)}return i.match&&0===r.length?new fn(n.segments,{}):i.match&&!n.hasChildren()?Fy(n,t,e):i.match?Ig(n,0,r):Fy(n,t,e)}function Ig(n,t,e){if(0===e.length)return new fn(n.segments,{});{const i=function ZS(n){return vf(n[0])?n[0].outlets:{[rn]:n}}(e),r={};return ur(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=Ny(n.children[c],t,s))}),ur(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new fn(n.segments,r)}}function Fy(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(vf(s)){const p=Vt(s.outlets);return new fn(i,p)}if(0===r&&yf(e[0])){i.push(new Pa(n.segments[t].path,Ly(e[0]))),r++;continue}const c=vf(s)?s.outlets[rn]:`${s}`,h=r<e.length-1?e[r+1]:null;c&&h&&yf(h)?(i.push(new Pa(c,Ly(h))),r+=2):(i.push(new Pa(c,{})),r++)}return new fn(i,{})}function Vt(n){const t={};return ur(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Fy(new fn([],{}),0,e))}),t}function Ly(n){const t={};return ur(n,(e,i)=>t[i]=`${e}`),t}function By(n,t,e){return n==e.path&&Ra(t,e.parameters)}class Dg{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),ky(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Cu(e);t.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),ur(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Cu(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Cu(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Cu(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new NS(s.value.snapshot))}),t.children.length&&this.forwardEvent(new OS(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(ky(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),ky(h.route.value),this.activateChildRoutes(t,null,c.children)}else{const h=function Xo(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),p=h?h.module.componentFactoryResolver:null;c.attachRef=null,c.route=r,c.resolver=p,c.outlet&&c.outlet.activateWith(r,p),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class Sg{constructor(t,e){this.routes=t,this.module=e}}function Cc(n){return"function"==typeof n}function ns(n){return n instanceof vc}const Ld=Symbol("INITIAL_VALUE");function xg(){return En(n=>function IS(...n){const t=(0,Gn.yG)(n),e=(0,Gn.jO)(n),{args:i,keys:r}=Ad(n);if(0===i.length)return(0,qn.D)([],t);const s=new ri.y(function vy(n,t,e=Ws.y){return i=>{dg(t,()=>{const{length:r}=n,s=new Array(r);let c=r,h=r;for(let p=0;p<r;p++)dg(t,()=>{const _=(0,qn.D)(n[p],t);let w=!1;_.subscribe(new kn.Q(i,T=>{s[p]=T,w||(w=!0,h--),h||i.next(e(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>oi(r,c):Ws.y));return e?s.pipe(bu(e)):s}(n.map(t=>t.pipe((0,Tn.q)(1),Ts(Ld)))).pipe(df((t,e)=>{let i=!1;return e.reduce((r,s,c)=>r!==Ld?r:(s===Ld&&(i=!0),i||!1!==s&&c!==e.length-1&&!ns(s)?r:s),t)},Ld),gn(t=>t!==Ld),(0,gt.U)(t=>ns(t)?t:!0===t),(0,Tn.q)(1)))}class Ag{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ec,this.attachRef=null}}class Ec{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Ag,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let bf=(()=>{class n{constructor(e,i,r,s,c){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=s||rn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const c=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,p=new jy(e,h,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,p),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ec),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class jy{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Xs?this.route:t===Ec?this.childContexts:this.parent.get(t,e)}}let Mg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[bf],encapsulation:2}),n})();function KS(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];QS(i,JS(t,i))}}function QS(n,t){n.children&&KS(n.children,t)}function JS(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function zy(n){const t=n.children&&n.children.map(zy),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==rn&&(e.component=Mg),e}function Do(n){return n.outlet||rn}function Gy(n,t){const e=n.filter(i=>Do(i)===t);return e.push(...n.filter(i=>Do(i)!==t)),e}const XS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kg(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},XS):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(t.matcher||rC)(e,n,t);if(!s)return Object.assign({},XS);const c={};ur(s.posParams,(p,_)=>{c[_]=p.path});const h=s.consumed.length>0?Object.assign(Object.assign({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:h,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function $y(n,t,e,i,r="corrected"){if(e.length>0&&function ex(n,t,e){return e.some(i=>qy(n,t,i)&&Do(i)!==rn)}(n,e,i)){const c=new fn(t,function IC(n,t,e,i){const r={};r[rn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Do(s)!==rn){const c=new fn([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[Do(s)]=c}return r}(n,t,i,new fn(e,n.children)));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function Wy(n,t,e){return e.some(i=>qy(n,t,i))}(n,e,i)){const c=new fn(n.segments,function TC(n,t,e,i,r,s){const c={};for(const h of i)if(qy(n,e,h)&&!r[Do(h)]){const p=new fn([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:t.length,c[Do(h)]=p}return Object.assign(Object.assign({},r),c)}(n,t,e,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const s=new fn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function qy(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function tx(n,t,e,i){return!!(Do(n)===i||i!==rn&&qy(t,e,n))&&("**"===n.path||kg(t,n,e).matched)}function nx(n,t,e){return 0===t.length&&!n.children[e]}class Zy{constructor(t){this.segmentGroup=t||null}}class ix{constructor(t){this.urlTree=t}}function Rg(n){return cf(new Zy(n))}function rx(n){return cf(new ix(n))}class Tc{constructor(t,e,i,r,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(o.h0i)}apply(){const t=$y(this.urlTree.root,[],[],this.config).segmentGroup,e=new fn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,rn).pipe((0,gt.U)(s=>this.createUrlTree(Ky(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ai(s=>{if(s instanceof ix)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Zy?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,rn).pipe((0,gt.U)(r=>this.createUrlTree(Ky(r),t.queryParams,t.fragment))).pipe(ai(r=>{throw r instanceof Zy?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new fn([],{[rn]:t}):t;return new vc(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,gt.U)(s=>new fn([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,qn.D)(r).pipe(yc(s=>{const c=i.children[s],h=Gy(e,s);return this.expandSegmentGroup(t,h,c,s).pipe((0,gt.U)(p=>({segment:p,outlet:s})))}),df((s,c)=>(s[c.outlet]=c.segment,s),{}),function SS(n,t){const e=arguments.length>=2;return i=>i.pipe(n?gn((r,s)=>n(r,s,i)):Ws.y,by(1),e?vo(t):Cr(()=>new wr))}())}expandSegment(t,e,i,r,s,c){return(0,qn.D)(i).pipe(yc(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,s,c).pipe(ai(_=>{if(_ instanceof Zy)return ut(null);throw _}))),Er(h=>!!h),ai((h,p)=>{if(h instanceof wr||"EmptyError"===h.name)return nx(e,r,s)?ut(new fn([],{})):Rg(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,s,c,h){return tx(r,e,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c):Rg(e):Rg(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?rx(s):this.lineralizeSegments(i,s).pipe((0,Ei.z)(c=>{const h=new fn(c,{});return this.expandSegment(t,h,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){const{matched:h,consumedSegments:p,remainingSegments:_,positionalParamSegments:w}=kg(e,r,s);if(!h)return Rg(e);const T=this.applyRedirectCommands(p,r.redirectTo,w);return r.redirectTo.startsWith("/")?rx(T):this.lineralizeSegments(r,T).pipe((0,Ei.z)(A=>this.expandSegment(t,e,i,A.concat(_),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?ut(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,gt.U)(T=>(i._loadedConfig=T,new fn(r,{})))):ut(new fn(r,{}));const{matched:c,consumedSegments:h,remainingSegments:p}=kg(e,i,r);return c?this.getChildConfig(t,i,r).pipe((0,Ei.z)(w=>{const T=w.module,A=w.routes,{segmentGroup:F,slicedSegments:B}=$y(e,h,p,A),ae=new fn(F.segments,F.children);if(0===B.length&&ae.hasChildren())return this.expandChildren(T,A,ae).pipe((0,gt.U)(Qe=>new fn(h,Qe)));if(0===A.length&&0===B.length)return ut(new fn(h,{}));const we=Do(i)===s;return this.expandSegment(T,ae,A,B,we?rn:s,!0).pipe((0,gt.U)(Je=>new fn(h.concat(Je.segments),Je.children)))})):Rg(e)}getChildConfig(t,e,i){return e.children?ut(new Sg(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ut(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Ei.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,gt.U)(s=>(e._loadedConfig=s,s))):function wN(n){return cf(Ty(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):ut(new Sg([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?ut(r.map(c=>{const h=t.get(c);let p;if(function Uy(n){return n&&Cc(n.canLoad)}(h))p=h.canLoad(e,i);else{if(!Cc(h))throw new Error("Invalid CanLoad guard");p=h(e,i)}return Sl(p)})).pipe(xg(),(0,cr.b)(c=>{if(!ns(c))return;const h=Ty(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw h.url=c,h}),(0,gt.U)(c=>!0===c)):ut(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ut(i);if(r.numberOfChildren>1||!r.children[rn])return cf(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[rn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new vc(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ur(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[s]=e[h]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let c={};return ur(e.children,(h,p)=>{c[p]=this.createSegmentGroup(t,h,i,r)}),new fn(s,c)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function Ky(n){const t={};for(const i of Object.keys(n.children)){const s=Ky(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function Yy(n){if(1===n.numberOfChildren&&n.children[rn]){const t=n.children[rn];return new fn(n.segments.concat(t.segments),t.children)}return n}(new fn(n.segments,t))}class Og{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class wf{constructor(t,e){this.component=t,this.route=e}}function Qy(n,t,e){const i=n._root;return Cf(i,t?t._root:null,e,[i.value])}function ea(n,t,e){const i=function SC(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Cf(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Cu(t);return n.children.forEach(c=>{(function Jy(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function ox(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!bc(n.url,t.url);case"pathParamsOrQueryParamsChange":return!bc(n.url,t.url)||!Ra(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tg(n,t)||!Ra(n.queryParams,t.queryParams);default:return!Tg(n,t)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new Og(i)):(s.data=c.data,s._resolvedData=c._resolvedData),Cf(n,t,s.component?h?h.children:null:e,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new wf(h.outlet.component,c))}else c&&Bd(t,h,r),r.canActivateChecks.push(new Og(i)),Cf(n,null,s.component?h?h.children:null:e,i,r)})(c,s[c.value.outlet],e,i.concat([c.value]),r),delete s[c.value.outlet]}),ur(s,(c,h)=>Bd(c,e.getContext(h),r)),r}function Bd(n,t,e){const i=Cu(n),r=n.value;ur(i,(s,c)=>{Bd(s,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new wf(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class cx{}function ev(n){return new ri.y(t=>t.error(n))}class tv{constructor(t,e,i,r,s,c){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=c}recognize(){const t=$y(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,rn);if(null===e)return null;const i=new wc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},rn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Jo(i,e),s=new _C(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,i=Ay(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const s of Object.keys(e.children)){const c=e.children[s],h=Gy(t,s),p=this.processSegmentGroup(h,c,s);if(null===p)return null;i.push(...p)}const r=MC(i);return function nv(n){n.sort((t,e)=>t.value.outlet===rn?-1:e.value.outlet===rn?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const s of t){const c=this.processSegmentAgainstRoute(s,e,i,r);if(null!==c)return c}return nx(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!tx(t,e,i,r))return null;let s,c=[],h=[];if("**"===t.path){const F=i.length>0?VS(i).parameters:{};s=new wc(i,F,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rv(t),Do(t),t.component,t,dx(e),iv(e)+i.length,kC(t))}else{const F=kg(e,t,i);if(!F.matched)return null;c=F.consumedSegments,h=F.remainingSegments,s=new wc(c,F.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rv(t),Do(t),t.component,t,dx(e),iv(e)+c.length,kC(t))}const p=function AC(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:_,slicedSegments:w}=$y(e,c,h,p.filter(F=>void 0===F.redirectTo),this.relativeLinkResolution);if(0===w.length&&_.hasChildren()){const F=this.processChildren(p,_);return null===F?null:[new Jo(s,F)]}if(0===p.length&&0===w.length)return[new Jo(s,[])];const T=Do(t)===r,A=this.processSegment(p,_,w,T?rn:r);return null===A?null:[new Jo(s,A)]}}function Pg(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function MC(n){const t=[],e=new Set;for(const i of n){if(!Pg(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=MC(i.children);t.push(new Jo(i.value,r))}return t.filter(i=>!e.has(i))}function dx(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function iv(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function rv(n){return n.data||{}}function kC(n){return n.resolve||{}}function OC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function PC(n){return En(t=>{const e=n(t);return e?(0,qn.D)(e).pipe((0,gt.U)(()=>t)):ut(t)})}class TN extends class NC{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const sv=new o.OlP("ROUTES");class Ng{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,gt.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const c=s.create(t);return new Sg(Qo(c.injector.get(sv,void 0,o.XFs.Self|o.XFs.Optional)).map(zy),c)}),ai(s=>{throw e._loader$=void 0,s}));return e._loader$=new ts(r,()=>new Mt.x).pipe(kd()),e._loader$}loadModuleFactory(t){return Sl(t()).pipe((0,Ei.z)(e=>e instanceof o.YKP?ut(e):(0,qn.D)(this.compiler.compileModuleAsync(e))))}}class gx{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function mx(n){throw n}function _x(n,t,e){return t.parse("/")}function ov(n,t){return ut(null)}const yx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},LC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Dr=(()=>{class n{constructor(e,i,r,s,c,h,p){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Mt.x,this.errorHandler=mx,this.malformedUriErrorHandler=_x,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ov,afterPreactivation:ov},this.urlHandlingStrategy=new gx,this.routeReuseStrategy=new TN,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(o.h0i),this.console=c.get(o.c2e);const T=c.get(o.R0b);this.isNgZoneEnabled=T instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function Oa(){return new vc(new fn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ng(c,h,A=>this.triggerEvent(new tC(A)),A=>this.triggerEvent(new hf(A))),this.routerState=_f(this.currentUrlTree,this.rootComponentType),this.transitions=new lr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(gn(r=>0!==r.id),(0,gt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),En(r=>{let s=!1,c=!1;return ut(r).pipe((0,cr.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),En(h=>{const p=this.browserUrlTree.toString(),_=!this.navigated||h.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return av(h.source)&&(this.browserUrlTree=h.extractedUrl),ut(h).pipe(En(T=>{const A=this.transitions.getValue();return i.next(new wy(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),A!==this.transitions.getValue()?Md.E:Promise.resolve(T)}),function DC(n,t,e,i){return En(r=>function CN(n,t,e,i,r){return new Tc(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,gt.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,cr.b)(T=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:T.urlAfterRedirects})}),function RC(n,t,e,i,r){return(0,Ei.z)(s=>function xC(n,t,e,i,r="emptyOnly",s="legacy"){try{const c=new tv(n,t,e,i,r,s).recognize();return null===c?ev(new cx):ut(c)}catch(c){return ev(c)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),i,r).pipe((0,gt.U)(c=>Object.assign(Object.assign({},s),{targetSnapshot:c}))))}(this.rootComponentType,this.config,T=>this.serializeUrl(T),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,cr.b)(T=>{if("eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const F=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(F,T)}this.browserUrlTree=T.urlAfterRedirects}const A=new Cy(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);i.next(A)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:A,extractedUrl:F,source:B,restoredState:ae,extras:we}=h,$e=new wy(A,this.serializeUrl(F),B,ae);i.next($e);const Je=_f(F,this.rootComponentType).snapshot;return ut(Object.assign(Object.assign({},h),{targetSnapshot:Je,urlAfterRedirects:F,extras:Object.assign(Object.assign({},we),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),Md.E}),PC(h=>{const{targetSnapshot:p,id:_,extractedUrl:w,rawUrl:T,extras:{skipLocationChange:A,replaceUrl:F}}=h;return this.hooks.beforePreactivation(p,{navigationId:_,appliedUrlTree:w,rawUrlTree:T,skipLocationChange:!!A,replaceUrl:!!F})}),(0,cr.b)(h=>{const p=new AS(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),(0,gt.U)(h=>Object.assign(Object.assign({},h),{guards:Qy(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function ax(n,t){return(0,Ei.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?ut(Object.assign(Object.assign({},e),{guardsResult:!0})):function lx(n,t,e,i){return(0,qn.D)(n).pipe((0,Ei.z)(r=>function Hd(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?ut(s.map(h=>{const p=ea(h,t,r);let _;if(function vN(n){return n&&Cc(n.canDeactivate)}(p))_=Sl(p.canDeactivate(n,t,e,i));else{if(!Cc(p))throw new Error("Invalid CanDeactivate guard");_=Sl(p(n,t,e,i))}return _.pipe(Er())})).pipe(xg()):ut(!0)}(r.component,r.route,e,t,i)),Er(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Ei.z)(h=>h&&function Vy(n){return"boolean"==typeof n}(h)?function Ef(n,t,e,i){return(0,qn.D)(t).pipe(yc(r=>fg(function Xy(n,t){return null!==n&&t&&t(new RS(n)),ut(!0)}(r.route.parent,i),function Vd(n,t){return null!==n&&t&&t(new PS(n)),ut(!0)}(r.route,i),function Tf(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(c=>function sx(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>uf(()=>ut(c.guards.map(p=>{const _=ea(p,c.node,e);let w;if(function Hy(n){return n&&Cc(n.canActivateChild)}(_))w=Sl(_.canActivateChild(i,n));else{if(!Cc(_))throw new Error("Invalid CanActivateChild guard");w=Sl(_(i,n))}return w.pipe(Er())})).pipe(xg())));return ut(s).pipe(xg())}(n,r.path,e),function Ud(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return ut(!0);const r=i.map(s=>uf(()=>{const c=ea(s,t,e);let h;if(function EC(n){return n&&Cc(n.canActivate)}(c))h=Sl(c.canActivate(t,n));else{if(!Cc(c))throw new Error("Invalid CanActivate guard");h=Sl(c(t,n))}return h.pipe(Er())}));return ut(r).pipe(xg())}(n,r.route,e))),Er(r=>!0!==r,!0))}(i,s,n,t):ut(h)),(0,gt.U)(h=>Object.assign(Object.assign({},e),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,cr.b)(h=>{if(ns(h.guardsResult)){const _=Ty(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw _.url=h.guardsResult,_}const p=new MS(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(p)}),gn(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),PC(h=>{if(h.guards.canActivateChecks.length)return ut(h).pipe((0,cr.b)(p=>{const _=new Ey(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),En(p=>{let _=!1;return ut(p).pipe(function hx(n,t){return(0,Ei.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return ut(e);let s=0;return(0,qn.D)(r).pipe(yc(c=>function fx(n,t,e,i){return function eo(n,t,e,i){const r=OC(n);if(0===r.length)return ut({});const s={};return(0,qn.D)(r).pipe((0,Ei.z)(c=>function px(n,t,e,i){const r=ea(n,t,i);return Sl(r.resolve?r.resolve(t,e):r(t,e))}(n[c],t,e,i).pipe((0,cr.b)(h=>{s[c]=h}))),by(1),(0,Ei.z)(()=>OC(s).length===r.length?ut(s):Md.E))}(n._resolve,n,t,i).pipe((0,gt.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),Ay(n,e).resolve),null)))}(c.route,i,n,t)),(0,cr.b)(()=>s++),by(1),(0,Ei.z)(c=>s===r.length?ut(e):Md.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,cr.b)({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(p),this.cancelNavigationTransition(p,"At least one route resolver didn't emit any value."))}}))}),(0,cr.b)(p=>{const _=new kS(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}))}),PC(h=>{const{targetSnapshot:p,id:_,extractedUrl:w,rawUrl:T,extras:{skipLocationChange:A,replaceUrl:F}}=h;return this.hooks.afterPreactivation(p,{navigationId:_,appliedUrlTree:w,rawUrlTree:T,skipLocationChange:!!A,replaceUrl:!!F})}),(0,gt.U)(h=>{const p=function Ry(n,t,e){const i=Fd(n,t._root,e?e._root:void 0);return new mf(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:p})}),(0,cr.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,gt.U)(i=>(new Dg(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,cr.b)({next(){s=!0},complete(){s=!0}}),X0(()=>{var h;s||c||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),ai(h=>{if(c=!0,function LS(n){return n&&n[iC]}(h)){const p=ns(h.url);p||(this.navigated=!0,this.restoreHistory(r,!0));const _=new eC(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(_),p?setTimeout(()=>{const w=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),T={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||av(r.source)};this.scheduleNavigation(w,"imperative",null,T,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new xS(r.id,this.serializeUrl(r.extractedUrl),h);i.next(p);try{r.resolve(this.errorHandler(h))}catch(_){r.reject(_)}}return Md.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},c=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(c){const p=Object.assign({},c);delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const h=this.parseUrl(e.url);this.scheduleNavigation(h,i,c,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){KS(e),this.config=e.map(zy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:h,preserveFragment:p}=i,_=r||this.routerState.root,w=p?this.currentUrlTree.fragment:c;let T=null;switch(h){case"merge":T=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=s||null}return null!==T&&(T=this.removeEmptyProps(T)),function $S(n,t,e,i,r){if(0===e.length)return Oy(t.root,t.root,t.root,i,r);const s=function wC(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new bC(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return ur(s.outlets,(p,_)=>{h[_]="string"==typeof p?p.split("/"):p}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new bC(e,t,i)}(e);if(s.toRoot())return Oy(t.root,t.root,new fn([],{}),i,r);const c=function WS(n,t,e){if(n.isAbsolute)return new Py(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new Py(s,s===t.root,0)}const i=yf(n.commands[0])?0:1;return function qS(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Py(i,!1,r-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,t,n),h=c.processChildren?Ig(c.segmentGroup,c.index,s.commands):Ny(c.segmentGroup,c.index,s.commands);return Oy(t.root,c.segmentGroup,h,i,r)}(_,this.currentUrlTree,e,T,null!=w?w:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=ns(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function vx(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},yx):!1===i?Object.assign({},LC):i,ns(e))return sC(this.currentUrlTree,e,r);const s=this.parseUrl(e);return sC(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Rd(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,c){var h,p;if(this.disposed)return Promise.resolve(!1);let _,w,T;c?(_=c.resolve,w=c.reject,T=c.promise):T=new Promise((B,ae)=>{_=B,w=ae});const A=++this.navigationId;let F;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),F=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(p=this.browserPageId)&&void 0!==p?p:0)+1):F=0,this.setTransition({id:A,targetPageId:F,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:_,reject:w,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(B=>Promise.reject(B))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===c?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===c&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new eC(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function av(n){return"imperative"!==n}let xl=(()=>{class n{constructor(e,i,r,s,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this.commands=null,this.onChanges=new Mt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:is(this.skipLocationChange),replaceUrl:is(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:is(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Dr),o.Y36(Xs),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})();function is(n){return""===n||!!n}class BC{}class uv{preload(t,e){return ut(null)}}let VC=(()=>{class n{constructor(e,i,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new Ng(r,i,p=>e.triggerEvent(new tC(p)),p=>e.triggerEvent(new hf(p)))}setUpPreloading(){this.subscription=this.router.events.pipe(gn(e=>e instanceof Rd),yc(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(o.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const c=s._loadedConfig;r.push(this.processRoutes(c.module,c.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children));return(0,qn.D)(r).pipe((0,hg.J)(),(0,gt.U)(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?ut(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Ei.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Dr),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(BC))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),dv=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof wy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Rd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof nC&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new nC(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Al=new o.OlP("ROUTER_CONFIGURATION"),UC=new o.OlP("ROUTER_FORROOT_GUARD"),wx=[We,{provide:mg,useClass:lC},{provide:Dr,useFactory:function Ex(n,t,e,i,r,s,c={},h,p){const _=new Dr(null,n,t,e,i,r,Qo(s));return h&&(_.urlHandlingStrategy=h),p&&(_.routeReuseStrategy=p),function Tx(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(c,_),c.enableTracing&&_.events.subscribe(w=>{var T,A;null===(T=console.group)||void 0===T||T.call(console,`Router Event: ${w.constructor.name}`),console.log(w.toString()),console.log(w),null===(A=console.groupEnd)||void 0===A||A.call(console)}),_},deps:[mg,Ec,We,o.zs3,o.Sil,sv,Al,[class FC{},new o.FiY],[class EN{},new o.FiY]]},Ec,{provide:Xs,useFactory:function gv(n){return n.routerState.root},deps:[Dr]},VC,uv,class IN{preload(t,e){return e().pipe(ai(()=>ut(null)))}},{provide:Al,useValue:{enableTracing:!1}}];function Fg(){return new o.PXZ("Router",Dr)}let If=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[wx,pv(e),{provide:UC,useFactory:fv,deps:[[Dr,new o.FiY,new o.tp0]]},{provide:Al,useValue:i||{}},{provide:be,useFactory:hv,deps:[ee,[new o.tBr(ke),new o.FiY],Al]},{provide:dv,useFactory:Cx,deps:[Dr,Yl,Al]},{provide:BC,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:uv},{provide:o.PXZ,multi:!0,useFactory:Fg},[HC,{provide:o.ip1,multi:!0,useFactory:Ix,deps:[HC]},{provide:mv,useFactory:jC,deps:[HC]},{provide:o.tb,multi:!0,useExisting:mv}]]}}static forChild(e){return{ngModule:n,providers:[pv(e)]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(UC,8),o.LFG(Dr,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function Cx(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new dv(n,t,e)}function hv(n,t,e={}){return e.useHash?new _e(n,t):new Be(n,t)}function fv(n){return"guarded"}function pv(n){return[{provide:o.deG,multi:!0,useValue:n},{provide:sv,multi:!0,useValue:n}]}let HC=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Mt.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),s=this.injector.get(Dr),c=this.injector.get(Al);return"disabled"===c.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ut(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Al),r=this.injector.get(VC),s=this.injector.get(dv),c=this.injector.get(Dr),h=this.injector.get(o.z2F);e===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&c.initialNavigation(),r.setUpPreloading(),s.init(),c.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Ix(n){return n.appInitializer.bind(n)}function jC(n){return n.bootstrapListener.bind(n)}const mv=new o.OlP("Router Initializer");let Lg=(()=>{class n{constructor(e,i){this.auth=e,this.router=i,this.signedIn=!1,this.auth.authState.subscribe(r=>{console.log(r,"auth"),this.authState=r,this.signedIn=!!r,this.router.navigateByUrl("/")}),e.credential.subscribe(r=>{console.log(r,"cred")})}loginWithGoogle(){this.auth.signInWithPopup(new au.Z.auth.GoogleAuthProvider)}login(e){}logout(){this.auth.signOut().then(e=>{console.log(e),this.router.navigateByUrl("/auth")})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(mc),o.LFG(Dr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Fa(...n){const t=(0,Gn.jO)(n),{args:e,keys:i}=Ad(n),r=new ri.y(s=>{const{length:c}=e;if(!c)return void s.complete();const h=new Array(c);let p=c,_=c;for(let w=0;w<c;w++){let T=!1;(0,br.Xf)(e[w]).subscribe(new kn.Q(s,A=>{T||(T=!0,_--),h[w]=A},()=>p--,void 0,()=>{(!p||!T)&&(_||s.next(i?oi(i,h):h),s.complete())}))}});return t?r.pipe(bu(t)):r}let Df=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),Eu=(()=>{class n extends Df{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const So=new o.OlP("NgValueAccessor"),GC={provide:So,useExisting:(0,o.Gpc)(()=>Tu),multi:!0},Sf=new o.OlP("CompositionEventMode");let Tu=(()=>{class n extends Df{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _v(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Sf,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([GC]),o.qOj]}),n})();function La(n){return null==n||0===n.length}function yv(n){return null!=n&&"number"==typeof n.length}const Yi=new o.OlP("NgValidators"),Ml=new o.OlP("NgAsyncValidators"),Sx=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Iu{static min(t){return function $C(n){return t=>{if(La(t.value)||La(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function WC(n){return t=>{if(La(t.value)||La(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function vv(n){return La(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function Du(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function bv(n){return La(n.value)||Sx.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function qC(n){return t=>La(t.value)||!yv(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function ZC(n){return t=>yv(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Su(n){if(!n)return Vg;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(La(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Ev(t)}static composeAsync(t){return Tv(t)}}function Vg(n){return null}function YC(n){return null!=n}function KC(n){const t=(0,o.QGY)(n)?(0,qn.D)(n):n;return(0,o.CqO)(t),t}function QC(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function ta(n,t){return t.map(e=>e(n))}function Cv(n){return n.map(t=>function wv(n){return!n.validate}(t)?t:e=>t.validate(e))}function Ev(n){if(!n)return null;const t=n.filter(YC);return 0==t.length?null:function(e){return QC(ta(e,t))}}function Ug(n){return null!=n?Ev(Cv(n)):null}function Tv(n){if(!n)return null;const t=n.filter(YC);return 0==t.length?null:function(e){return Fa(ta(e,t).map(KC)).pipe((0,gt.U)(QC))}}function Iv(n){return null!=n?Tv(Cv(n)):null}function JC(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function XC(n){return n._rawValidators}function eE(n){return n._rawAsyncValidators}function Hg(n){return n?Array.isArray(n)?n:[n]:[]}function Dv(n,t){return Array.isArray(n)?n.includes(t):n===t}function Sv(n,t){const e=Hg(t);return Hg(n).forEach(r=>{Dv(e,r)||e.push(r)}),e}function tE(n,t){return Hg(t).filter(e=>!Dv(n,e))}class nE{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ug(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Iv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class kl extends nE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Is extends nE{get formDirective(){return null}get path(){return null}}class jg{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let jd=(()=>{class n extends jg{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(kl,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[o.qOj]}),n})(),Ax=(()=>{class n extends jg{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Is,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[o.qOj]}),n})();function Gg(n,t){return[...t.path,n]}function xf(n,t){Au(n,t),t.valueAccessor.writeValue(n.value),function Fx(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&na(n,t)})}(n,t),function Af(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Mv(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&na(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Nx(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function xu(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),$g(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Rl(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Au(n,t){const e=XC(n);null!==t.validator?n.setValidators(JC(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=eE(n);null!==t.asyncValidator?n.setAsyncValidators(JC(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Rl(t._rawValidators,r),Rl(t._rawAsyncValidators,r)}function $g(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=XC(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=eE(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Rl(t._rawValidators,i),Rl(t._rawAsyncValidators,i),e}function na(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Sr(n,t){Au(n,t)}function Ic(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function ku(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Dc(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Tu?e=s:function zd(n){return Object.getPrototypeOf(n.constructor)===Eu}(s)?i=s:r=s}),r||i||e||null}function Sc(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Ba="VALID",Rf="INVALID",Ru="PENDING",Gd="DISABLED";function qg(n){return(Of(n)?n.validators:n)||null}function Rv(n){return Array.isArray(n)?Ug(n):n||null}function Zg(n,t){return(Of(t)?t.asyncValidators:n)||null}function Ov(n){return Array.isArray(n)?Iv(n):n||null}function Of(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Pv=n=>n instanceof Yg,Pf=n=>n instanceof Kg,aE=n=>n instanceof Bv;function Nv(n){return Pv(n)?n.value:n.getRawValue()}function Fv(n,t){const e=Pf(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new o.vHH(1e3,"");if(!i[t])throw new o.vHH(1001,"")}function lE(n,t){Pf(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new o.vHH(1002,"")})}class Lv{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Rv(this._rawValidators),this._composedAsyncValidatorFn=Ov(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ba}get invalid(){return this.status===Rf}get pending(){return this.status==Ru}get disabled(){return this.status===Gd}get enabled(){return this.status!==Gd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Rv(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Ov(t)}addValidators(t){this.setValidators(Sv(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Sv(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(tE(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(tE(t,this._rawAsyncValidators))}hasValidator(t){return Dv(this._rawValidators,t)}hasAsyncValidator(t){return Dv(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ru,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Gd,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ba,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ba||this.status===Ru)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gd:Ba}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ru,this._hasOwnPendingAsyncValidator=!0;const e=KC(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function oE(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=Pf(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:aE(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?Gd:this.errors?Rf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ru)?Ru:this._anyControlsHaveStatus(Rf)?Rf:Ba}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Of(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Yg extends Lv{constructor(t=null,e,i){super(qg(e),Zg(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Of(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Sc(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Sc(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Kg extends Lv{constructor(t,e,i){super(qg(e),Zg(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){lE(this,t),Object.keys(t).forEach(i=>{Fv(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=Nv(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Bv extends Lv{constructor(t,e,i){super(qg(e),Zg(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){lE(this,t),t.forEach((i,r)=>{Fv(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>Nv(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Lx={provide:Is,useExisting:(0,o.Gpc)(()=>Qg)},Nf=(()=>Promise.resolve(null))();let Qg=(()=>{class n extends Is{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new Kg({},Ug(e),Iv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Nf.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),xf(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Nf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Nf.then(()=>{const i=this._findContainer(e.path),r=new Kg({});Sr(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Nf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Nf.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,ku(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Yi,10),o.Y36(Ml,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([Lx]),o.qOj]}),n})();const Vx={provide:kl,useExisting:(0,o.Gpc)(()=>Ff)},Vv=(()=>Promise.resolve(null))();let Ff=(()=>{class n extends kl{constructor(e,i,r,s,c){super(),this._changeDetectorRef=c,this.control=new Yg,this._registered=!1,this.update=new o.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Dc(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Ic(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){xf(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Vv.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;Vv.then(()=>{var s;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(e){return this._parent?Gg(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Is,9),o.Y36(Yi,10),o.Y36(Ml,10),o.Y36(So,10),o.Y36(o.sBO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([Vx]),o.qOj,o.TTD]}),n})(),hE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const $d={provide:So,useExisting:(0,o.Gpc)(()=>Uv),multi:!0};let Uv=(()=>{class n extends Eu{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[o._Bn([$d]),o.qOj]}),n})(),Hv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const jv=new o.OlP("NgModelWithFormControlWarning"),Hx={provide:Is,useExisting:(0,o.Gpc)(()=>Ou)};let Ou=(()=>{class n extends Is{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($g(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return xf(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){xu(e.control||null,e,!1),Sc(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,ku(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(xu(i||null,e),Pv(r)&&(xf(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Sr(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Mu(n,t){return $g(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Au(this.form,this),this._oldForm&&$g(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Yi,10),o.Y36(Ml,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([Hx]),o.qOj,o.TTD]}),n})();const zv={provide:kl,useExisting:(0,o.Gpc)(()=>Gv)};let Gv=(()=>{class n extends kl{constructor(e,i,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Dc(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Ic(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Gg(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(Is,13),o.Y36(Yi,10),o.Y36(Ml,10),o.Y36(So,10),o.Y36(jv,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([zv]),o.qOj,o.TTD]}),n})(),tb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Hv]]}),n})(),om=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tb]}),n})(),nb=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:jv,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tb]}),n})(),FN=(()=>{class n{group(e,i=null){const r=this._reduceControls(e);let h,s=null,c=null;return null!=i&&(function TE(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(s=null!=i.validators?i.validators:null,c=null!=i.asyncValidators?i.asyncValidators:null,h=null!=i.updateOn?i.updateOn:void 0):(s=null!=i.validator?i.validator:null,c=null!=i.asyncValidator?i.asyncValidator:null)),new Kg(r,{asyncValidators:c,updateOn:h,validators:s})}control(e,i,r){return new Yg(e,i,r)}array(e,i,r){const s=e.map(c=>this._createControl(c));return new Bv(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return Pv(e)||Pf(e)||aE(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:nb}),n})();class IE{}class ib{}class Ol{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ol?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ol;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ol?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let c=this.headers.get(e);if(!c)return;c=c.filter(h=>-1===s.indexOf(h)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Ki{encodeKey(t){return rb(t)}encodeValue(t){return rb(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Qx=/%(\d[a-f0-9])/gi,Jx={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function rb(n){return encodeURIComponent(n).replace(Qx,(t,e)=>{var i;return null!==(i=Jx[e])&&void 0!==i?i:t})}function SE(n){return`${n}`}class Pl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ki,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function DE(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,h]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],p=e.get(c)||[];p.push(h),e.set(c,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Pl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(SE(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(SE(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class qd{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function xE(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function sb(n){return"undefined"!=typeof Blob&&n instanceof Blob}function AE(n){return"undefined"!=typeof FormData&&n instanceof FormData}class am{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function eA(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ol),this.context||(this.context=new qd),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+c}}else this.params=new Pl,this.urlWithParams=e}serializeBody(){return null===this.body?null:xE(this.body)||sb(this.body)||AE(this.body)||function ME(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||AE(this.body)?null:sb(this.body)?this.body.type||null:xE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,c=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,p=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let _=t.headers||this.headers,w=t.params||this.params;const T=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(_=Object.keys(t.setHeaders).reduce((A,F)=>A.set(F,t.setHeaders[F]),_)),t.setParams&&(w=Object.keys(t.setParams).reduce((A,F)=>A.set(F,t.setParams[F]),w)),new am(i,r,c,{params:w,headers:_,context:T,reportProgress:p,responseType:s,withCredentials:h})}}var Ti=(()=>((Ti=Ti||{})[Ti.Sent=0]="Sent",Ti[Ti.UploadProgress=1]="UploadProgress",Ti[Ti.ResponseHeader=2]="ResponseHeader",Ti[Ti.DownloadProgress=3]="DownloadProgress",Ti[Ti.Response=4]="Response",Ti[Ti.User=5]="User",Ti))();class Hf{constructor(t,e=200,i="OK"){this.headers=t.headers||new Ol,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Ao extends Hf{constructor(t={}){super(t),this.type=Ti.ResponseHeader}clone(t={}){return new Ao({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class lm extends Hf{constructor(t={}){super(t),this.type=Ti.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new lm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class kE extends Hf{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Mo(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ds=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof am)s=e;else{let p,_;p=r.headers instanceof Ol?r.headers:new Ol(r.headers),r.params&&(_=r.params instanceof Pl?r.params:new Pl({fromObject:r.params})),s=new am(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=ut(s).pipe(yc(p=>this.handler.handle(p)));if(e instanceof am||"events"===r.observe)return c;const h=c.pipe(gn(p=>p instanceof lm));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,gt.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,gt.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,gt.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,gt.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Pl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Mo(r,i))}post(e,i,r={}){return this.request("POST",e,Mo(r,i))}put(e,i,r={}){return this.request("PUT",e,Mo(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(IE))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class ko{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const ob=new o.OlP("HTTP_INTERCEPTORS");let RE=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const nA=/^\)\]\}',?\n/;let ab=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ri.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((F,B)=>r.setRequestHeader(F,B.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const F=e.detectContentTypeHeader();null!==F&&r.setRequestHeader("Content-Type",F)}if(e.responseType){const F=e.responseType.toLowerCase();r.responseType="json"!==F?F:"text"}const s=e.serializeBody();let c=null;const h=()=>{if(null!==c)return c;const F=r.statusText||"OK",B=new Ol(r.getAllResponseHeaders()),ae=function PE(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return c=new Ao({headers:B,status:r.status,statusText:F,url:ae}),c},p=()=>{let{headers:F,status:B,statusText:ae,url:we}=h(),$e=null;204!==B&&($e=void 0===r.response?r.responseText:r.response),0===B&&(B=$e?200:0);let Je=B>=200&&B<300;if("json"===e.responseType&&"string"==typeof $e){const Qe=$e;$e=$e.replace(nA,"");try{$e=""!==$e?JSON.parse($e):null}catch(et){$e=Qe,Je&&(Je=!1,$e={error:et,text:$e})}}Je?(i.next(new lm({body:$e,headers:F,status:B,statusText:ae,url:we||void 0})),i.complete()):i.error(new kE({error:$e,headers:F,status:B,statusText:ae,url:we||void 0}))},_=F=>{const{url:B}=h(),ae=new kE({error:F,status:r.status||0,statusText:r.statusText||"Unknown Error",url:B||void 0});i.error(ae)};let w=!1;const T=F=>{w||(i.next(h()),w=!0);let B={type:Ti.DownloadProgress,loaded:F.loaded};F.lengthComputable&&(B.total=F.total),"text"===e.responseType&&!!r.responseText&&(B.partialText=r.responseText),i.next(B)},A=F=>{let B={type:Ti.UploadProgress,loaded:F.loaded};F.lengthComputable&&(B.total=F.total),i.next(B)};return r.addEventListener("load",p),r.addEventListener("error",_),r.addEventListener("timeout",_),r.addEventListener("abort",_),e.reportProgress&&(r.addEventListener("progress",T),null!==s&&r.upload&&r.upload.addEventListener("progress",A)),r.send(s),i.next({type:Ti.Sent}),()=>{r.removeEventListener("error",_),r.removeEventListener("abort",_),r.removeEventListener("load",p),r.removeEventListener("timeout",_),e.reportProgress&&(r.removeEventListener("progress",T),null!==s&&r.upload&&r.upload.removeEventListener("progress",A)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Mn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Zd=new o.OlP("XSRF_COOKIE_NAME"),lb=new o.OlP("XSRF_HEADER_NAME");class cb{}let NE=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Lo(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y),o.LFG(o.Lbi),o.LFG(Zd))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),jf=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(cb),o.LFG(lb))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),um=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(ob,[]);this.chain=i.reduceRight((r,s)=>new ko(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ib),o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),FE=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:jf,useClass:RE}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Zd,useValue:e.cookieName}:[],e.headerName?{provide:lb,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[jf,{provide:ob,useExisting:jf,multi:!0},{provide:cb,useClass:NE},{provide:Zd,useValue:"XSRF-TOKEN"},{provide:lb,useValue:"X-XSRF-TOKEN"}]}),n})(),LE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Ds,{provide:IE,useClass:um},ab,{provide:ib,useExisting:ab}],imports:[[FE.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var ub=M(655);var Kd=(()=>{return(n=Kd||(Kd={}))[n.Text=1]="Text",n[n.File=2]="File",n[n.Image=3]="Image",Kd;var n})();class gb{constructor(){this.type=Kd.Text}}var dr=(()=>{return(n=dr||(dr={}))[n.Online=0]="Online",n[n.Busy=1]="Busy",n[n.Away=2]="Away",n[n.Offline=3]="Offline",dr;var n})(),_i=(()=>{return(n=_i||(_i={}))[n.User=0]="User",n[n.Group=1]="Group",_i;var n})();class QE{}let mb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[wi,om,LE]]}),n})();var Qd=M(4986),mm=M(5032);function _m(n){return(0,gt.U)(()=>n)}function iT(n,t){return t?e=>fg(t.pipe((0,Tn.q)(1),function LA(){return(0,jt.e)((n,t)=>{n.subscribe(new kn.Q(t,mm.Z))})}()),e.pipe(iT(n))):(0,Ei.z)((e,i)=>n(e,i).pipe((0,Tn.q)(1),_m(e)))}var BA=M(3532);function VA(n=0,t,e=Qd.P){let i=-1;return null!=t&&((0,BA.K)(t)?e=t:i=t),new ri.y(r=>{let s=function WN(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function rT(n,t=Qd.z){const e=VA(n,t);return iT(()=>e)}class Mc extends class mi{constructor(){this.friendsListChangedHandler=t=>{},this.messageReceivedHandler=(t,e)=>{}}onFriendsListChanged(t){this.friendsListChangedHandler(t)}onMessageReceived(t,e){this.messageReceivedHandler(t,e)}}{listFriends(){return ut(Mc.mockedParticipants.map(t=>{let e=new QE;return e.participant=t,e.metadata={totalUnreadMessages:Math.floor(10*Math.random())},e}))}getMessageHistory(t){let e;return e=[{fromId:1,toId:999,message:"Hi there, just type any message bellow to test this Angular module.",dateSent:new Date}],ut(e).pipe(rT(2e3))}sendMessage(t){setTimeout(()=>{let e=new gb;if(e.message="You have typed '"+t.message+"'",e.dateSent=new Date,isNaN(t.toId)){let i=Mc.mockedParticipants.find(s=>s.id==t.toId),r=Math.floor(Math.random()*i.chattingTo.length);e.fromId=i.chattingTo[r].id,e.toId=t.toId,this.onMessageReceived(i,e)}else{e.fromId=t.toId,e.toId=t.fromId;let i=Mc.mockedParticipants.find(r=>r.id==e.fromId);this.onMessageReceived(i,e)}},1e3)}groupCreated(t){Mc.mockedParticipants.push(t),Mc.mockedParticipants=Mc.mockedParticipants.sort((e,i)=>i.displayName>e.displayName?-1:1),this.listFriends().subscribe(e=>{this.onFriendsListChanged(e)})}}Mc.mockedParticipants=[{participantType:_i.User,id:1,displayName:"Arya Stark",avatar:"https://66.media.tumblr.com/avatar_9dd9bb497b75_128.pnj",status:dr.Online},{participantType:_i.User,id:2,displayName:"Cersei Lannister",avatar:null,status:dr.Online},{participantType:_i.User,id:3,displayName:"Daenerys Targaryen",avatar:"https://68.media.tumblr.com/avatar_d28d7149f567_128.png",status:dr.Busy},{participantType:_i.User,id:4,displayName:"Eddard Stark",avatar:"https://pbs.twimg.com/profile_images/600707945911844864/MNogF757_400x400.jpg",status:dr.Offline},{participantType:_i.User,id:5,displayName:"Hodor",avatar:"https://pbs.twimg.com/profile_images/378800000449071678/27f2e27edd119a7133110f8635f2c130.jpeg",status:dr.Offline},{participantType:_i.User,id:6,displayName:"Jaime Lannister",avatar:"https://pbs.twimg.com/profile_images/378800000243930208/4fa8efadb63777ead29046d822606a57.jpeg",status:dr.Busy},{participantType:_i.User,id:7,displayName:"John Snow",avatar:"https://pbs.twimg.com/profile_images/3456602315/aad436e6fab77ef4098c7a5b86cac8e3.jpeg",status:dr.Busy},{participantType:_i.User,id:8,displayName:"Lorde Petyr 'Littlefinger' Baelish",avatar:"http://68.media.tumblr.com/avatar_ba75cbb26da7_128.png",status:dr.Offline},{participantType:_i.User,id:9,displayName:"Sansa Stark",avatar:"http://pm1.narvii.com/6201/dfe7ad75cd32130a5c844d58315cbca02fe5b804_128.jpg",status:dr.Online},{participantType:_i.User,id:10,displayName:"Theon Greyjoy",avatar:"https://thumbnail.myheritageimages.com/502/323/78502323/000/000114_884889c3n33qfe004v5024_C_64x64C.jpg",status:dr.Away}];const sT=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function ym(){return(0,o.f3M)(Y)}}),UA=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let _b,Va=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function HA(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?UA.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(sT,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$f=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();try{_b="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){_b=!1}let Fu,rs=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Vi(n){return n===ad}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_b)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aT=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function lT(){if(Fu)return Fu;if("object"!=typeof document||!document)return Fu=new Set(aT),Fu;let n=document.createElement("input");return Fu=new Set(aT.filter(t=>(n.setAttribute("type",t),n.type===t))),Fu}let Ua,bm,kc,yb;function Jd(n){return function jA(){if(null==Ua&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ua=!0}))}finally{Ua=Ua||!1}return Ua}()?n:!!n.capture}function cT(){if(null==kc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return kc=!1,kc;if("scrollBehavior"in document.documentElement.style)kc=!0;else{const n=Element.prototype.scrollTo;kc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return kc}function Xd(){if("object"!=typeof document||!document)return 0;if(null==bm){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),bm=0,0===n.scrollLeft&&(n.scrollLeft=1,bm=0===n.scrollLeft?1:2),n.remove()}return bm}function wm(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Rc(n){return n.composedPath?n.composedPath()[0]:n.target}function bb(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function Ll(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Oc(n,t=Qd.z){return(0,jt.e)((e,i)=>{let r=null,s=null,c=null;const h=()=>{if(r){r.unsubscribe(),r=null;const _=s;s=null,i.next(_)}};function p(){const _=c+n,w=t.now();if(w<_)return r=this.schedule(void 0,_-w),void i.add(r);h()}e.subscribe(new kn.Q(i,_=>{s=_,c=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}function Rm(n,t=Ws.y){return n=null!=n?n:wM,(0,jt.e)((e,i)=>{let r,s=!0;e.subscribe(new kn.Q(i,c=>{const h=t(c);(s||!n(r,h))&&(s=!1,r=h,i.next(c))}))})}function wM(n,t){return n===t}function Zn(n){return(0,jt.e)((t,e)=>{(0,br.Xf)(n).subscribe(new kn.Q(e,()=>e.complete(),mm.Z)),!e.closed&&t.subscribe(e)})}function Yn(n){return null!=n&&"false"!=`${n}`}function Om(n,t=0){return function Mb(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function kb(n){return Array.isArray(n)?n:[n]}function Ni(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ha(n){return n instanceof o.SBq?n.nativeElement:n}class nh{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Mt.x,this._typeaheadSubscription=es.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Mt.x,this.change=new Mt.x,t instanceof o.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,cr.b)(e=>this._pressedLetters.push(e)),Oc(t),gn(()=>this._pressedLetters.length>0),(0,gt.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,c=i[s];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Ll(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),r=e[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class SM extends nh{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class Rb extends nh{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Pm=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function AM(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function xM(n){try{return n.frameElement}catch(t){return null}}(function Fm(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Nb(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=Nb(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function kM(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function DT(n){return!function TT(n){return function Nm(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Ob(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function IT(n){return function Pb(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||MM(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(rs))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MM(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Nb(n){if(!MM(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class ST{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,Tn.q)(1)).subscribe(t)}}let xT=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new ST(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Pm),o.LFG(o.R0b),o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lm(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Fb(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const kT=new o.OlP("cdk-input-modality-detector-options"),RT={ignoreKeys:[18,17,224,91,16]},ih=Jd({passive:!0,capture:!0});let PT=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new lr(null),this._lastTouchMs=0,this._onKeydown=c=>{var h,p;(null===(p=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)||void 0===p?void 0:p.some(_=>_===c.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Rc(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Lm(c)?"keyboard":"mouse"),this._mostRecentTarget=Rc(c))},this._onTouchstart=c=>{Fb(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Rc(c))},this._options=Object.assign(Object.assign({},RT),s),this.modalityDetected=this._modality.pipe(function Ab(n){return gn((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(Rm()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,ih),r.addEventListener("mousedown",this._onMousedown,ih),r.addEventListener("touchstart",this._onTouchstart,ih)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ih),document.removeEventListener("mousedown",this._onMousedown,ih),document.removeEventListener("touchstart",this._onTouchstart,ih))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(rs),o.LFG(o.R0b),o.LFG(Y),o.LFG(kT,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const OM=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function NT(){return null}}),FT=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let LT=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,c;return 1===i.length&&"number"==typeof i[0]?c=i[0]:[s,c]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==c&&r&&(c=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e,i;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(OM,8),o.LFG(o.R0b),o.LFG(Y),o.LFG(FT,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NM=new o.OlP("cdk-focus-monitor-default-options"),Bm=Jd({passive:!0,capture:!0});let Yf=(()=>{class n{constructor(e,i,r,s,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Mt.x,this._rootNodeFocusAndBlurListener=h=>{const p=Rc(h),_="focus"===h.type?this._onFocus:this._onBlur;for(let w=p;w;w=w.parentElement)_.call(this,h,w)},this._document=s,this._detectionMode=(null==c?void 0:c.detectionMode)||0}monitor(e,i=!1){const r=Ha(e);if(!this._platform.isBrowser||1!==r.nodeType)return ut(null);const s=function zA(n){if(function vb(){if(null==yb){const n="undefined"!=typeof document?document.head:null;yb=!(!n||!n.createShadowRoot&&!n.attachShadow)}return yb}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const h={checkChildren:i,subject:new Mt.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=Ha(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Ha(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,p])=>this._originChanged(h,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Rc(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Bm),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Bm)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Zn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Bm),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Bm),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(rs),o.LFG(PT),o.LFG(Y,8),o.LFG(NM,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const LM="cdk-high-contrast-black-on-white",BM="cdk-high-contrast-white-on-black",BT="cdk-high-contrast-active";let GF=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(BT),e.remove(LM),e.remove(BM),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(BT),e.add(LM)):2===i&&(e.add(BT),e.add(BM))}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(rs),o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class VM{}const Pc="*";function ja(n,t){return{type:7,name:n,definitions:t,options:{}}}function Bl(n,t=null){return{type:4,styles:t,timings:n}}function Lb(n,t=null){return{type:3,steps:n,options:t}}function Vm(n,t=null){return{type:2,steps:n,options:t}}function Ui(n){return{type:6,styles:n,offset:null}}function ra(n,t,e){return{type:0,name:n,styles:t,options:e}}function no(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Bb(n=null){return{type:9,options:n}}function VT(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function UT(n){Promise.resolve(null).then(n)}class Bu{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){UT(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class HT{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?UT(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const pn=!1;function zT(n){return new o.vHH(3e3,pn)}function ok(){return"undefined"!=typeof window&&void 0!==window.document}function Um(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function za(n){switch(n.length){case 0:return new Bu;case 1:return n[0];default:return new HT(n)}}function Hm(n,t,e,i,r={},s={}){const c=[],h=[];let p=-1,_=null;if(i.forEach(w=>{const T=w.offset,A=T==p,F=A&&_||{};Object.keys(w).forEach(B=>{let ae=B,we=w[B];if("offset"!==B)switch(ae=t.normalizePropertyName(ae,c),we){case"!":we=r[B];break;case Pc:we=s[B];break;default:we=t.normalizeStyleValue(B,ae,we,c)}F[ae]=we}),A||h.push(F),_=F,p=T}),c.length)throw function JM(n){return new o.vHH(3502,pn)}();return h}function jm(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&$b(e,"start",n)));break;case"done":n.onDone(()=>i(e&&$b(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&$b(e,"destroy",n)))}}function $b(n,t,e){const i=e.totalTime,s=zm(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),c=n._data;return null!=c&&(s._data=c),s}function zm(n,t,e,i,r="",s=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function xs(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function KT(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Wb=(n,t)=>!1,ak=(n,t,e)=>[],lk=null;function Gm(n){const t=n.parentNode||n.host;return t===lk?null:t}(Um()||"undefined"!=typeof Element)&&(ok()?(lk=(()=>document.documentElement)(),Wb=(n,t)=>{for(;t;){if(t===n)return!0;t=Gm(t)}return!1}):Wb=(n,t)=>n.contains(t),ak=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Uu=null,uk=!1;function dk(n){Uu||(Uu=function JF(){return"undefined"!=typeof document?document.body:null}()||{},uk=!!Uu.style&&"WebkitAppearance"in Uu.style);let t=!0;return Uu.style&&!function ck(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Uu.style,!t&&uk&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Uu.style)),t}const hk=Wb,fk=ak;let Kf=(()=>{class n{validateStyleProperty(e){return dk(e)}matchesElement(e,i){return!1}containsElement(e,i){return hk(e,i)}getParentElement(e){return Gm(e)}query(e,i,r){return fk(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,c,h=[],p){return new Bu(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),qb=(()=>{class n{}return n.NOOP=new Kf,n})();const $m="ng-enter",rh="ng-leave",sh="ng-trigger",Wm=".ng-trigger",qm="ng-animating",Qf=".ng-animating";function Ga(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:QT(parseFloat(t[1]),t[2])}function QT(n,t){return"s"===t?1e3*n:n}function Yb(n,t,e){return n.hasOwnProperty("duration")?n:function eL(n,t,e){let r,s=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(zT()),{duration:0,delay:0,easing:""};r=QT(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=QT(parseFloat(p),h[4]));const _=h[5];_&&(c=_)}else r=n;if(!e){let h=!1,p=t.length;r<0&&(t.push(function jM(){return new o.vHH(3100,pn)}()),h=!0),s<0&&(t.push(function zM(){return new o.vHH(3101,pn)}()),h=!0),h&&t.splice(p,0,zT())}return{duration:r,delay:s,easing:c}}(n,t,e)}function Jf(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Nc(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Jf(n,e);return e}function JT(n,t,e){return e?t+":"+e+";":""}function XT(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=JT(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=JT(0,Jb(e),n.style[e]));n.setAttribute("style",t)}function $a(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=Zm(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),Um()&&XT(n))}function Fc(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=Zm(e);n.style[i]=""}),Um()&&XT(n))}function oh(n){return Array.isArray(n)?1==n.length?n[0]:Vm(n):n}const Qb=new RegExp("{{\\s*(.+?)\\s*}}","g");function tI(n){let t=[];if("string"==typeof n){let e;for(;e=Qb.exec(n);)t.push(e[1]);Qb.lastIndex=0}return t}function Xf(n,t,e){const i=n.toString(),r=i.replace(Qb,(s,c)=>{let h=t[c];return t.hasOwnProperty(c)||(e.push(function GM(n){return new o.vHH(3003,pn)}()),h=""),h.toString()});return r==i?n:r}function ah(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const tL=/-+([a-z0-9])/g;function Zm(n){return n.replace(tL,(...t)=>t[1].toUpperCase())}function Jb(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ro(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Ub(n){return new o.vHH(3004,pn)}()}}function _k(n,t){return window.getComputedStyle(n)[t]}function sL(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function oL(n,t,e){if(":"==n[0]){const p=function aL(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function zb(n){return new o.vHH(3016,pn)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function QM(n){return new o.vHH(3015,pn)}()),t;const r=i[1],s=i[2],c=i[3];t.push(l(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&t.push(l(c,r))}(i,e,t)):e.push(n),e}const Xb=new Set(["true","1"]),a=new Set(["false","0"]);function l(n,t){const e=Xb.has(n)||a.has(n),i=Xb.has(t)||a.has(t);return(r,s)=>{let c="*"==n||n==r,h="*"==t||t==s;return!c&&e&&"boolean"==typeof r&&(c=r?Xb.has(n):a.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?Xb.has(t):a.has(t)),c&&h}}const u=":self",d=new RegExp(`s*${u}s*,?`,"g");function f(n,t,e,i){return new v(n).build(t,e,i)}class v{constructor(t){this._driver=t}build(t,e,i){const r=new x(e);this._resetContextStyleTimingState(r);const s=Ro(this,oh(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function sa(){return new o.vHH(3006,pn)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const p=h,_=p.name;_.toString().split(/\s*,\s*/).forEach(w=>{p.name=w,s.push(this.visitState(p,e))}),p.name=_}else if(1==h.type){const p=this.visitTransition(h,e);i+=p.queryCount,r+=p.depCount,c.push(p)}else e.errors.push(function WM(){return new o.vHH(3007,pn)}())}),{type:7,name:t.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(h=>{if(z(h)){const p=h;Object.keys(p).forEach(_=>{tI(p[_]).forEach(w=>{c.hasOwnProperty(w)||s.add(w)})})}}),s.size&&(ah(s.values()),e.errors.push(function Hb(n,t){return new o.vHH(3008,pn)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ro(this,oh(t.animation),e);return{type:1,matchers:sL(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:de(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ro(this,i,e)),options:de(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(c=>{e.currentTime=i;const h=Ro(this,c,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:s,options:de(t.options)}}visitAnimate(t,e){const i=function ie(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Ae(Yb(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Ae(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Yb(e,t);return Ae(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Ui({});if(5==s.type)r=this.visitKeyframes(s,e);else{let c=t.styles,h=!1;if(!c){h=!0;const _={};i.easing&&(_.easing=i.easing),c=Ui(_)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,e);p.isEmptyStep=h,r=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(c=>{"string"==typeof c?c==Pc?i.push(c):e.errors.push(function qM(n){return new o.vHH(3002,pn)}()):i.push(c)}):i.push(t.styles);let r=!1,s=null;return i.forEach(c=>{if(z(c)){const h=c,p=h.easing;if(p&&(s=p,delete h.easing),!r)for(let _ in h)if(h[_].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete c[h],void e.unsupportedCSSPropertiesFound.add(h);const p=e.collectedStyles[e.currentQuerySelector],_=p[h];let w=!0;_&&(s!=r&&s>=_.startTime&&r<=_.endTime&&(e.errors.push(function jb(n,t,e,i,r){return new o.vHH(3010,pn)}()),w=!1),s=_.startTime),w&&(p[h]={startTime:s,endTime:r}),e.options&&function eI(n,t,e){const i=t.params||{},r=tI(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function qF(n){return new o.vHH(3001,pn)}())})}(c[h],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function GT(){return new o.vHH(3011,pn)}()),i;let s=0;const c=[];let h=!1,p=!1,_=0;const w=t.steps.map($e=>{const Je=this._makeStyleAst($e,e);let Qe=null!=Je.offset?Je.offset:function O(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(z(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(z(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Je.styles),et=0;return null!=Qe&&(s++,et=Je.offset=Qe),p=p||et<0||et>1,h=h||et<_,_=et,c.push(et),Je});p&&e.errors.push(function $T(){return new o.vHH(3012,pn)}()),h&&e.errors.push(function ZM(){return new o.vHH(3200,pn)}());const T=t.steps.length;let A=0;s>0&&s<T?e.errors.push(function WT(){return new o.vHH(3202,pn)}()):0==s&&(A=1/(T-1));const F=T-1,B=e.currentTime,ae=e.currentAnimateTimings,we=ae.duration;return w.forEach(($e,Je)=>{const Qe=A>0?Je==F?1:A*Je:c[Je],et=Qe*we;e.currentTime=B+ae.delay+et,ae.duration=et,this._validateStyleAst($e,e),$e.offset=Qe,i.styles.push($e)}),i}visitReference(t,e){return{type:8,animation:Ro(this,oh(t.animation),e),options:de(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:de(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:de(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,c]=function C(n){const t=!!n.split(/\s*,\s*/).find(e=>e==u);return t&&(n=n.replace(d,"")),n=n.replace(/@\*/g,Wm).replace(/@\w+/g,e=>Wm+"-"+e.substr(1)).replace(/:animating/g,Qf),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,xs(e.collectedStyles,e.currentQuerySelector,{});const h=Ro(this,oh(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:h,originalSelector:t.selector,options:de(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function YM(){return new o.vHH(3013,pn)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Yb(t.timings,e.errors,!0);return{type:12,animation:Ro(this,oh(t.animation),e),timings:i,options:null}}}class x{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function z(n){return!Array.isArray(n)&&"object"==typeof n}function de(n){return n?(n=Jf(n)).params&&(n.params=function I(n){return n?Jf(n):null}(n.params)):n={},n}function Ae(n,t,e){return{duration:n,delay:t,easing:e}}function qe(n,t,e,i,r,s,c=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:h}}class Ke{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Et=new RegExp(":enter","g"),Pn=new RegExp(":leave","g");function ss(n,t,e,i,r,s={},c={},h,p,_=[]){return(new ju).buildKeyframes(n,t,e,i,r,s,c,h,p,_)}class ju{buildKeyframes(t,e,i,r,s,c,h,p,_,w=[]){_=_||new Ke;const T=new ep(t,e,_,r,s,w,[]);T.options=p,T.currentTimeline.setStyles([c],null,T.errors,p),Ro(this,i,T);const A=T.timelines.filter(F=>F.containsAnimation());if(Object.keys(h).length){let F;for(let B=A.length-1;B>=0;B--){const ae=A[B];if(ae.element===e){F=ae;break}}F&&!F.allowOnlyTimelineStyles()&&F.setStyles([h],null,T.errors,p)}return A.length?A.map(F=>F.buildKeyframes()):[qe(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const c=null!=i.duration?Ga(i.duration):null,h=null!=i.delay?Ga(i.delay):null;return 0!==c&&t.forEach(p=>{const _=e.appendInstructionToTimeline(p,c,h);s=Math.max(s,_.duration+_.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Ro(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=lh);const c=Ga(s.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>Ro(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Ga(t.options.delay):0;t.steps.forEach(c=>{const h=e.createSubContext(t.options);s&&h.delayNextStep(s),Ro(this,c,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Yb(e.params?Xf(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Ga(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=lh);let c=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let p=null;h.forEach((_,w)=>{e.currentQueryIndex=w;const T=e.createSubContext(t.options,_);s&&T.delayNextStep(s),_===e.element&&(p=T.currentTimeline),Ro(this,t.animation,T),T.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,T.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,c=Math.abs(s.duration),h=c*(e.currentQueryTotal-1);let p=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const w=e.currentTimeline;p&&w.delayNextStep(p);const T=w.currentTime;Ro(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-T+(r.startTime-i.currentTimeline.startTime)}}const lh={};class ep{constructor(t,e,i,r,s,c,h,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=lh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new ch(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Ga(i.duration)),null!=i.delay&&(r.delay=Ga(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(h=>{(!e||!c.hasOwnProperty(h))&&(c[h]=Xf(s[h],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new ep(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=lh,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},s=new ew(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,c){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(Et,"."+this._enterClassName)).replace(Pn,"."+this._leaveClassName);let _=this._driver.query(this.element,t,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),h.push(..._)}return!s&&0==h.length&&c.push(function KM(n){return new o.vHH(3014,pn)}()),h}}class ch{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ch(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Pc,this._currentKeyframe[e]=Pc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},c=function tw(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=Pc})):Nc(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(c).forEach(h=>{const p=Xf(c[h],s,i);this._pendingStyles[h]=p,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:Pc),this._updateStyle(h,p)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const _=Nc(h,!0);Object.keys(_).forEach(w=>{const T=_[w];"!"==T?t.add(w):T==Pc&&e.add(w)}),i||(_.offset=p/this.duration),r.push(_)});const s=t.size?ah(t.values()):[],c=e.size?ah(e.values()):[];if(i){const h=r[0],p=Jf(h);h.offset=0,p.offset=1,r=[h,p]}return qe(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class ew extends ch{constructor(t,e,i,r,s,c,h=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],c=i+e,h=e/c,p=Nc(t[0],!1);p.offset=0,s.push(p);const _=Nc(t[0],!1);_.offset=Jm(h),s.push(_);const w=t.length-1;for(let T=1;T<=w;T++){let A=Nc(t[T],!1);A.offset=Jm((e+A.offset*i)/c),s.push(A)}i=c,e=0,r="",t=s}return qe(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function Jm(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class tp{}class WG extends tp{normalizePropertyName(t,e){return Zm(t)}normalizeStyleValue(t,e,i,r){let s="";const c=i.toString().trim();if(qG[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function $M(n,t){return new o.vHH(3005,pn)}())}return c+s}}const qG=(()=>function ZG(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function lL(n,t,e,i,r,s,c,h,p,_,w,T,A){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:c,timelines:h,queriedElements:p,preStyleProps:_,postStyleProps:w,totalTime:T,errors:A}}const yk={};class cL{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function YG(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],c=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):c}build(t,e,i,r,s,c,h,p,_,w){const T=[],A=this.ast.options&&this.ast.options.params||yk,B=this.buildStyles(i,h&&h.params||yk,T),ae=p&&p.params||yk,we=this.buildStyles(r,ae,T),$e=new Set,Je=new Map,Qe=new Map,et="void"===r,Ut={params:Object.assign(Object.assign({},A),ae)},Bt=w?[]:ss(t,e,this.ast.animation,s,c,B,we,Ut,_,T);let xn=0;if(Bt.forEach(ua=>{xn=Math.max(ua.duration+ua.delay,xn)}),T.length)return lL(e,this._triggerName,i,r,et,B,we,[],[],Je,Qe,xn,T);Bt.forEach(ua=>{const Xu=ua.element,CG=xs(Je,Xu,{});ua.preStyleProps.forEach($p=>CG[$p]=!0);const j0=xs(Qe,Xu,{});ua.postStyleProps.forEach($p=>j0[$p]=!0),Xu!==e&&$e.add(Xu)});const Xi=ah($e.values());return lL(e,this._triggerName,i,r,et,B,we,Bt,Xi,Je,Qe,xn)}}class KG{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Jf(this.defaultParams);return Object.keys(t).forEach(s=>{const c=t[s];null!=c&&(r[s]=c)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const c=s;Object.keys(c).forEach(h=>{let p=c[h];p.length>1&&(p=Xf(p,r,e));const _=this.normalizer.normalizePropertyName(h,e);p=this.normalizer.normalizeStyleValue(h,_,p,e),i[_]=p})}}),i}}class JG{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new KG(r.style,r.options&&r.options.params||{},i)}),uL(this.states,"true","1"),uL(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new cL(t,r,this.states))}),this.fallbackTransition=function XG(n,t,e){return new cL(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function uL(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const e$=new Ke;class t${constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=f(this._driver,e,i,[]);if(i.length)throw function YF(n){return new o.vHH(3503,pn)}();this._animations[t]=s}_buildPlayer(t,e,i){const r=t.element,s=Hm(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let c;const h=new Map;if(s?(c=ss(this._driver,e,s,$m,rh,{},{},i,e$,r),c.forEach(w=>{const T=xs(h,w.element,{});w.postStyleProps.forEach(A=>T[A]=null)})):(r.push(function XM(){return new o.vHH(3300,pn)}()),c=[]),r.length)throw function ek(n){return new o.vHH(3504,pn)}();h.forEach((w,T)=>{Object.keys(w).forEach(A=>{w[A]=this._driver.computeStyle(T,A,Pc)})});const _=za(c.map(w=>{const T=h.get(w.element);return this._buildPlayer(w,{},T)}));return this._playersById[t]=_,_.onDestroy(()=>this.destroy(t)),this.players.push(_),_}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function tk(n){return new o.vHH(3301,pn)}();return e}listen(t,e,i,r){const s=zm(e,"","","");return jm(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const dL="ng-animate-queued",vk="ng-animate-disabled",o$=[],hL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},a$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wa="__ng_removed";class bk{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function d$(n){return null!=n?n:null}(i?t.value:t),i){const s=Jf(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const nw="void",wk=new bk(nw);class l${constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,qa(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function YT(n,t){return new o.vHH(3302,pn)}();if(null==i||0==i.length)throw function nk(n){return new o.vHH(3303,pn)}();if(!function h$(n){return"start"==n||"done"==n}(i))throw function ik(n,t){return new o.vHH(3400,pn)}();const s=xs(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};s.push(c);const h=xs(this._engine.statesByElement,t,{});return h.hasOwnProperty(e)||(qa(t,sh),qa(t,sh+"-"+e),h[e]=wk),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers[e]||delete h[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function KF(n){return new o.vHH(3401,pn)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),c=new Ck(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(qa(t,sh),qa(t,sh+"-"+e),this._engine.statesByElement.set(t,h={}));let p=h[e];const _=new bk(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),h[e]=_,p||(p=wk),_.value!==nw&&p.value===_.value){if(!function g$(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(p.params,_.params)){const ae=[],we=s.matchStyles(p.value,p.params,ae),$e=s.matchStyles(_.value,_.params,ae);ae.length?this._engine.reportError(ae):this._engine.afterFlush(()=>{Fc(t,we),$a(t,$e)})}return}const A=xs(this._engine.playersByElement,t,[]);A.forEach(ae=>{ae.namespaceId==this.id&&ae.triggerName==e&&ae.queued&&ae.destroy()});let F=s.matchTransition(p.value,_.value,t,_.params),B=!1;if(!F){if(!r)return;F=s.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:F,fromState:p,toState:_,player:c,isFallbackTransition:B}),B||(qa(t,dL),c.onStart(()=>{Xm(t,dL)})),c.onDone(()=>{let ae=this.players.indexOf(c);ae>=0&&this.players.splice(ae,1);const we=this._engine.playersByElement.get(t);if(we){let $e=we.indexOf(c);$e>=0&&we.splice($e,1)}}),this.players.push(c),A.push(c),c}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Wm,!0);i.forEach(r=>{if(r[Wa])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),c=new Map;if(s){const h=[];if(Object.keys(s).forEach(p=>{if(c.set(p,s[p].value),this._triggers[p]){const _=this.trigger(t,p,nw,r);_&&h.push(_)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&za(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers[c].fallbackTransition,_=i[c]||wk,w=new bk(nw),T=new Ck(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:p,fromState:_,toState:w,player:T,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Wa];(!s||s===hL)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){qa(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(h=>{if(h.name==i.triggerName){const p=zm(s,i.triggerName,i.fromState.value,i.toState.value);p._data=t,jm(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class c${constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new l$(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let c=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(e);for(;h;){const p=r.get(h);if(p){const _=i.indexOf(p);i.splice(_+1,0,t),c=!0;break}h=this.driver.getParentElement(h)}}else for(let h=s;h>=0;h--)if(this.driver.containsElement(i[h].hostElement,e)){i.splice(h+1,0,t),c=!0;break}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const c=i[r[s]].namespaceId;if(c){const h=this._fetchNamespace(c);h&&e.add(h)}}}return e}trigger(t,e,i,r){if(rI(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!rI(e))return;const s=e[Wa];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),qa(t,vk)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Xm(t,vk))}removeNode(t,e,i,r){if(rI(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Wa]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return rI(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Wm,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Qf,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return za(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[Wa];if(i&&i.setForRemoval){if(t[Wa]=hL,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(vk))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)qa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?za(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Gb(n){return new o.vHH(3402,pn)}()}_flushAnimations(t,e){const i=new Ke,r=[],s=new Map,c=[],h=new Map,p=new Map,_=new Map,w=new Set;this.disabledNodes.forEach(yt=>{w.add(yt);const At=this.driver.query(yt,".ng-animate-queued",!0);for(let Pt=0;Pt<At.length;Pt++)w.add(At[Pt])});const T=this.bodyNode,A=Array.from(this.statesByElement.keys()),F=gL(A,this.collectedEnterElements),B=new Map;let ae=0;F.forEach((yt,At)=>{const Pt=$m+ae++;B.set(At,Pt),yt.forEach(Rn=>qa(Rn,Pt))});const we=[],$e=new Set,Je=new Set;for(let yt=0;yt<this.collectedLeaveElements.length;yt++){const At=this.collectedLeaveElements[yt],Pt=At[Wa];Pt&&Pt.setForRemoval&&(we.push(At),$e.add(At),Pt.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(Rn=>$e.add(Rn)):Je.add(At))}const Qe=new Map,et=gL(A,Array.from($e));et.forEach((yt,At)=>{const Pt=rh+ae++;Qe.set(At,Pt),yt.forEach(Rn=>qa(Rn,Pt))}),t.push(()=>{F.forEach((yt,At)=>{const Pt=B.get(At);yt.forEach(Rn=>Xm(Rn,Pt))}),et.forEach((yt,At)=>{const Pt=Qe.get(At);yt.forEach(Rn=>Xm(Rn,Pt))}),we.forEach(yt=>{this.processLeaveNode(yt)})});const Ut=[],Bt=[];for(let yt=this._namespaceList.length-1;yt>=0;yt--)this._namespaceList[yt].drainQueuedTransitions(e).forEach(Pt=>{const Rn=Pt.player,Wr=Pt.element;if(Ut.push(Rn),this.collectedEnterElements.length){const uo=Wr[Wa];if(uo&&uo.setForMove){if(uo.previousTriggersValues&&uo.previousTriggersValues.has(Pt.triggerName)){const Wp=uo.previousTriggersValues.get(Pt.triggerName),Lh=this.statesByElement.get(Pt.element);Lh&&Lh[Pt.triggerName]&&(Lh[Pt.triggerName].value=Wp)}return void Rn.destroy()}}const Yc=!T||!this.driver.containsElement(T,Wr),da=Qe.get(Wr),Fh=B.get(Wr),Li=this._buildInstruction(Pt,i,Fh,da,Yc);if(Li.errors&&Li.errors.length)return void Bt.push(Li);if(Yc)return Rn.onStart(()=>Fc(Wr,Li.fromStyles)),Rn.onDestroy(()=>$a(Wr,Li.toStyles)),void r.push(Rn);if(Pt.isFallbackTransition)return Rn.onStart(()=>Fc(Wr,Li.fromStyles)),Rn.onDestroy(()=>$a(Wr,Li.toStyles)),void r.push(Rn);const IG=[];Li.timelines.forEach(uo=>{uo.stretchStartingKeyframe=!0,this.disabledNodes.has(uo.element)||IG.push(uo)}),Li.timelines=IG,i.append(Wr,Li.timelines),c.push({instruction:Li,player:Rn,element:Wr}),Li.queriedElements.forEach(uo=>xs(h,uo,[]).push(Rn)),Li.preStyleProps.forEach((uo,Wp)=>{const Lh=Object.keys(uo);if(Lh.length){let qp=p.get(Wp);qp||p.set(Wp,qp=new Set),Lh.forEach(mN=>qp.add(mN))}}),Li.postStyleProps.forEach((uo,Wp)=>{const Lh=Object.keys(uo);let qp=_.get(Wp);qp||_.set(Wp,qp=new Set),Lh.forEach(mN=>qp.add(mN))})});if(Bt.length){const yt=[];Bt.forEach(At=>{yt.push(function sk(n,t){return new o.vHH(3505,pn)}())}),Ut.forEach(At=>At.destroy()),this.reportError(yt)}const xn=new Map,Xi=new Map;c.forEach(yt=>{const At=yt.element;i.has(At)&&(Xi.set(At,At),this._beforeAnimationBuild(yt.player.namespaceId,yt.instruction,xn))}),r.forEach(yt=>{const At=yt.element;this._getPreviousPlayers(At,!1,yt.namespaceId,yt.triggerName,null).forEach(Rn=>{xs(xn,At,[]).push(Rn),Rn.destroy()})});const ua=we.filter(yt=>_L(yt,p,_)),Xu=new Map;pL(Xu,this.driver,Je,_,Pc).forEach(yt=>{_L(yt,p,_)&&ua.push(yt)});const j0=new Map;F.forEach((yt,At)=>{pL(j0,this.driver,new Set(yt),p,"!")}),ua.forEach(yt=>{const At=Xu.get(yt),Pt=j0.get(yt);Xu.set(yt,Object.assign(Object.assign({},At),Pt))});const $p=[],EG=[],TG={};c.forEach(yt=>{const{element:At,player:Pt,instruction:Rn}=yt;if(i.has(At)){if(w.has(At))return Pt.onDestroy(()=>$a(At,Rn.toStyles)),Pt.disabled=!0,Pt.overrideTotalTime(Rn.totalTime),void r.push(Pt);let Wr=TG;if(Xi.size>1){let da=At;const Fh=[];for(;da=da.parentNode;){const Li=Xi.get(da);if(Li){Wr=Li;break}Fh.push(da)}Fh.forEach(Li=>Xi.set(Li,Wr))}const Yc=this._buildAnimation(Pt.namespaceId,Rn,xn,s,j0,Xu);if(Pt.setRealPlayer(Yc),Wr===TG)$p.push(Pt);else{const da=this.playersByElement.get(Wr);da&&da.length&&(Pt.parentPlayer=za(da)),r.push(Pt)}}else Fc(At,Rn.fromStyles),Pt.onDestroy(()=>$a(At,Rn.toStyles)),EG.push(Pt),w.has(At)&&r.push(Pt)}),EG.forEach(yt=>{const At=s.get(yt.element);if(At&&At.length){const Pt=za(At);yt.setRealPlayer(Pt)}}),r.forEach(yt=>{yt.parentPlayer?yt.syncPlayerEvents(yt.parentPlayer):yt.destroy()});for(let yt=0;yt<we.length;yt++){const At=we[yt],Pt=At[Wa];if(Xm(At,rh),Pt&&Pt.hasAnimation)continue;let Rn=[];if(h.size){let Yc=h.get(At);Yc&&Yc.length&&Rn.push(...Yc);let da=this.driver.query(At,Qf,!0);for(let Fh=0;Fh<da.length;Fh++){let Li=h.get(da[Fh]);Li&&Li.length&&Rn.push(...Li)}}const Wr=Rn.filter(Yc=>!Yc.destroyed);Wr.length?f$(this,At,Wr):this.processLeaveNode(At)}return we.length=0,$p.forEach(yt=>{this.players.push(yt),yt.onDone(()=>{yt.destroy();const At=this.players.indexOf(yt);this.players.splice(At,1)}),yt.play()}),$p}elementContainsData(t,e){let i=!1;const r=e[Wa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let c=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(c=h)}else{const h=this.playersByElement.get(t);if(h){const p=!s||s==nw;h.forEach(_=>{_.queued||!p&&_.triggerName!=r||c.push(_)})}}return(i||r)&&(c=c.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),c}_beforeAnimationBuild(t,e,i){const s=e.element,c=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const _=p.element,w=_!==s,T=xs(i,_,[]);this._getPreviousPlayers(_,w,c,h,e.toState).forEach(F=>{const B=F.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),F.destroy(),T.push(F)})}Fc(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,c){const h=e.triggerName,p=e.element,_=[],w=new Set,T=new Set,A=e.timelines.map(B=>{const ae=B.element;w.add(ae);const we=ae[Wa];if(we&&we.removedBeforeQueried)return new Bu(B.duration,B.delay);const $e=ae!==p,Je=function p$(n){const t=[];return mL(n,t),t}((i.get(ae)||o$).map(xn=>xn.getRealPlayer())).filter(xn=>!!xn.element&&xn.element===ae),Qe=s.get(ae),et=c.get(ae),Ut=Hm(0,this._normalizer,0,B.keyframes,Qe,et),Bt=this._buildPlayer(B,Ut,Je);if(B.subTimeline&&r&&T.add(ae),$e){const xn=new Ck(t,h,ae);xn.setRealPlayer(Bt),_.push(xn)}return Bt});_.forEach(B=>{xs(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function u$(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,B.element,B))}),w.forEach(B=>qa(B,qm));const F=za(A);return F.onDestroy(()=>{w.forEach(B=>Xm(B,qm)),$a(p,e.toStyles)}),T.forEach(B=>{xs(r,B,[]).push(F)}),F}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Bu(t.duration,t.delay)}}class Ck{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Bu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>jm(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){xs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function rI(n){return n&&1===n.nodeType}function fL(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function pL(n,t,e,i,r){const s=[];e.forEach(p=>s.push(fL(p)));const c=[];i.forEach((p,_)=>{const w={};p.forEach(T=>{const A=w[T]=t.computeStyle(_,T,r);(!A||0==A.length)&&(_[Wa]=a$,c.push(_))}),n.set(_,w)});let h=0;return e.forEach(p=>fL(p,s[h++])),c}function gL(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),s=new Map;function c(h){if(!h)return 1;let p=s.get(h);if(p)return p;const _=h.parentNode;return p=e.has(_)?_:r.has(_)?1:c(_),s.set(h,p),p}return t.forEach(h=>{const p=c(h);1!==p&&e.get(p).push(h)}),e}function qa(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Xm(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function f$(n,t,e){za(e).onDone(()=>n.processLeaveNode(t))}function mL(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof HT?mL(i.players,t):t.push(i)}}function _L(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class sI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new c$(t,e,i),this._timelineEngine=new t$(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const c=t+"-"+r;let h=this._triggerCache[c];if(!h){const p=[],w=f(this._driver,s,p,[]);if(p.length)throw function ZT(n,t){return new o.vHH(3404,pn)}();h=function QG(n,t,e){return new JG(n,t,e)}(r,w,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,c]=KT(i);this._timelineEngine.command(s,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[c,h]=KT(i);return this._timelineEngine.listen(c,e,h,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let _$=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&$a(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($a(this._element,this._initialStyles),this._endStyles&&($a(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Fc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fc(this._element,this._endStyles),this._endStyles=null),$a(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Ek(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];y$(r)&&(t=t||{},t[r]=n[r])}return t}function y$(n){return"display"===n||"position"===n}class yL{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:_k(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class v${validateStyleProperty(t){return dk(t)}matchesElement(t,e){return!1}containsElement(t,e){return hk(t,e)}getParentElement(t){return Gm(t)}query(t,e,i){return fk(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const _={},w=c.filter(A=>A instanceof yL);(function gk(n,t){return 0===n||0===t})(i,r)&&w.forEach(A=>{let F=A.currentSnapshot;Object.keys(F).forEach(B=>_[B]=F[B])}),e=function mk(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],c=[];if(i.forEach(h=>{s.hasOwnProperty(h)||c.push(h),s[h]=e[h]}),c.length)for(var r=1;r<t.length;r++){let h=t[r];c.forEach(function(p){h[p]=_k(n,p)})}}return t}(t,e=e.map(A=>Nc(A,!1)),_);const T=function m$(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Ek(t[0]),t.length>1&&(i=Ek(t[t.length-1]))):t&&(e=Ek(t)),e||i?new _$(n,e,i):null}(t,e);return new yL(t,e,p,T)}}let b$=(()=>{class n extends VM{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Vm(e):e;return vL(this._renderer,null,i,"register",[r]),new w$(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class w$ extends class $F{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new C$(this._id,t,e||{},this._renderer)}}class C${constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return vL(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function vL(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const bL="@.disabled";let E$=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const h=null==c?void 0:c.parentNode(s);h&&c.removeChild(h,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(s);return w||(w=new wL("",s,this.engine),this._rendererCache.set(s,w)),w}const c=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const p=w=>{Array.isArray(w)?w.forEach(p):this.engine.registerTrigger(c,h,e,w.name,w)};return i.data.animation.forEach(p),new T$(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,h]=s;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(sI),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class wL{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==bL?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class T$ extends wL{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==bL?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function I$(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),c="";return"@"!=s.charAt(0)&&([s,c]=function D$(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let S$=(()=>{class n extends sI{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y),o.LFG(qb),o.LFG(tp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Lc=new o.OlP("AnimationModuleType"),CL=[{provide:VM,useClass:b$},{provide:tp,useFactory:function x$(){return new WG}},{provide:sI,useClass:S$},{provide:o.FYo,useFactory:function A$(n,t,e){return new E$(n,t,e)},deps:[Wn,sI,o.R0b]}],EL=[{provide:qb,useFactory:()=>new v$},{provide:Lc,useValue:"BrowserAnimations"},...CL],M$=[{provide:qb,useClass:Kf},{provide:Lc,useValue:"NoopAnimations"},...CL];let k$=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?M$:EL}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:EL,imports:[Xl]}),n})();function R$(n,t){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=o.oxw();o.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function O$(n,t){if(1&n&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("(",e.group.label,")")}}const P$=["*"],F$=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function N$(){return!0}});let $n=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!bb()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(GF),o.LFG(F$,8),o.LFG(Y))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[$f],$f]}),n})();function aI(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Yn(t)}}}function iw(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function lI(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Yn(t)}}}function IL(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Om(e):this.defaultTabIndex}}}function DL(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new Mt.x,this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}let Tk=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[$n],$n]}),n})();class B${constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const xL={enterDuration:225,exitDuration:150},Ik=Jd({passive:!0}),AL=["mousedown","touchstart"],ML=["mouseup","mouseleave","touchend","touchcancel"];class U${constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ha(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},xL),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function j$(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,p=e-r.top,_=s.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=h-c+"px",w.style.top=p-c+"px",w.style.height=2*c+"px",w.style.width=2*c+"px",null!=i.color&&(w.style.backgroundColor=i.color),w.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(w),function H$(n){window.getComputedStyle(n).getPropertyValue("opacity")}(w),w.style.transform="scale(1)";const T=new B$(this,w,i);return T.state=0,this._activeRipples.add(T),i.persistent||(this._mostRecentTransientRipple=T),this._runTimeoutOutsideZone(()=>{const A=T===this._mostRecentTransientRipple;T.state=1,!i.persistent&&(!A||!this._isPointerDown)&&T.fadeOut()},_),T}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},xL),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ha(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(AL))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ML),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Lm(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Fb(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Ik)})})}_removeTriggerEvents(){this._triggerElement&&(AL.forEach(t=>{this._triggerElement.removeEventListener(t,this,Ik)}),this._pointerUpEventsRegistered&&ML.forEach(t=>{this._triggerElement.removeEventListener(t,this,Ik)}))}}const z$=new o.OlP("mat-ripple-global-options");let sw=(()=>{class n{constructor(e,i,r,s,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new U$(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(rs),o.Y36(z$,8),o.Y36(Lc,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),cI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[$n],$n]}),n})(),G$=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Lc,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),$$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[$n]]}),n})();const kL=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),RL=new o.OlP("MatOptgroup");let W$=0;class q${constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Z$=(()=>{class n{constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+W$++,this.onSelectionChange=new o.vpe,this._stateChanges=new Mt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Yn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Ll(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new q$(this,e))}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),OL=(()=>{class n extends Z${constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(kL,8),o.Y36(RL,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),o.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:P$,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,R$,1,2,"mat-pseudo-checkbox",0),o.TgZ(1,"span",1),o.Hsn(2),o.qZA(),o.YNc(3,O$,2,1,"span",2),o._UZ(4,"div",3)),2&e&&(o.Q6J("ngIf",i.multiple),o.xp6(3),o.Q6J("ngIf",i.group&&i.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[G$,An,sw],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function PL(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let c=0;c<n+1;c++)i[c].group&&i[c].group===r[s]&&s++;return s}return 0}let NL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[cI,wi,$n,$$]]}),n})();const K$=["*",[["mat-toolbar-row"]]],Q$=["*","mat-toolbar-row"],J$=iw(class{constructor(n){this._elementRef=n}});let X$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),e6=(()=>{class n extends J${constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(rs),o.Y36(Y))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,X$,5),2&e){let s;o.iGM(s=o.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:Q$,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(K$),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),t6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[$n],$n]}),n})();const n6=["mat-button",""],i6=["*"],s6=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],o6=iw(aI(lI(class{constructor(n){this._elementRef=n}})));let e_=(()=>{class n extends o6{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of s6)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Yf),o.Y36(Lc,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&o.Gf(sw,5),2&e){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:n6,ngContentSelectors:i6,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1)(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[sw],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),FL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[cI,$n],$n]}),n})();var LL=M(4408);let Dk,a6=1;const uI={};function BL(n){return n in uI&&(delete uI[n],!0)}const l6={setImmediate(n){const t=a6++;return uI[t]=!0,Dk||(Dk=Promise.resolve()),Dk.then(()=>BL(t)&&n()),t},clearImmediate(n){BL(n)}},{setImmediate:c6,clearImmediate:u6}=l6,dI={setImmediate(...n){const{delegate:t}=dI;return((null==t?void 0:t.setImmediate)||c6)(...n)},clearImmediate(n){const{delegate:t}=dI;return((null==t?void 0:t.clearImmediate)||u6)(n)},delegate:void 0};var VL=M(7565);const Sk=new class h6 extends VL.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class d6 extends LL.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=dI.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(dI.clearImmediate(e),t._scheduled=void 0)}});class xk{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Ak extends xk{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class hI extends xk{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class f6 extends xk{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class Mk{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Ak?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof hI?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof f6?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class p6 extends Mk{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const h=c.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let UL=(()=>{class n extends Mk{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const c=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(h,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(c,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(Y))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),HL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var g6=M(1144);const m6=["addListener","removeListener"],_6=["addEventListener","removeEventListener"],y6=["on","off"];function zu(n,t,e,i){if((0,Fr.m)(e)&&(i=e,e=void 0),i)return zu(n,t,e).pipe(bu(i));const[r,s]=function w6(n){return(0,Fr.m)(n.addEventListener)&&(0,Fr.m)(n.removeEventListener)}(n)?_6.map(c=>h=>n[c](t,h,e)):function v6(n){return(0,Fr.m)(n.addListener)&&(0,Fr.m)(n.removeListener)}(n)?m6.map(jL(n,t)):function b6(n){return(0,Fr.m)(n.on)&&(0,Fr.m)(n.off)}(n)?y6.map(jL(n,t)):[];if(!r&&(0,g6.z)(n))return(0,Ei.z)(c=>zu(c,t,e))((0,br.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ri.y(c=>{const h=(...p)=>c.next(1<p.length?p:p[0]);return r(h),()=>s(h)})}function jL(n,t){return e=>i=>n[e](t,i)}const ow={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=ow;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new es.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=ow;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=ow;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};new class E6 extends VL.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class C6 extends LL.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ow.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(ow.cancelAnimationFrame(e),t._scheduled=void 0)}});function zL(n,t=Qd.P){return function I6(n){return(0,jt.e)((t,e)=>{let i=!1,r=null,s=null,c=!1;const h=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const _=r;r=null,e.next(_)}c&&e.complete()},p=()=>{s=null,c&&e.complete()};t.subscribe(new kn.Q(e,_=>{i=!0,r=_,s||(0,br.Xf)(n(_)).subscribe(s=new kn.Q(e,h,p))},()=>{c=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>VA(n,t))}let kk=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Mt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ri.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(zL(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ut()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(gn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Ha(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>zu(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(rs),o.LFG(Y,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rk=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new Mt.x,this._elementScrolled=new ri.y(c=>this.ngZone.runOutsideAngular(()=>zu(this.elementRef.nativeElement,"scroll").pipe(Zn(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Xd()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Xd()?e.left=e.right:1==Xd()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;cT()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==e?e=c?r:i:"end"==e&&(e=c?i:r),c&&2==Xd()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:c&&1==Xd()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(kk),o.Y36(o.R0b),o.Y36(Va,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),fI=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Mt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(zL(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(rs),o.LFG(o.R0b),o.LFG(Y,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),t_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),GL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[$f,t_],$f,t_]}),n})();const $L=cT();class A6{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ni(-this._previousScrollPosition.left),t.style.top=Ni(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),$L&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),$L&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class M6{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class WL{enable(){}disable(){}attach(){}}function Ok(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function qL(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class k6{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Ok(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let R6=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new WL,this.close=c=>new M6(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new A6(this._viewportRuler,this._document),this.reposition=c=>new k6(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(kk),o.LFG(fI),o.LFG(o.R0b),o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pI{constructor(t){if(this.scrollStrategy=new WL,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class O6{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class P6{constructor(t,e,i,r,s,c,h,p,_){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=h,this._location=p,this._outsideClickDispatcher=_,this._backdropElement=null,this._backdropClick=new Mt.x,this._attachments=new Mt.x,this._detachments=new Mt.x,this._locationChanges=es.w0.EMPTY,this._backdropClickHandler=w=>this._backdropClick.next(w),this._backdropTransitionendHandler=w=>{this._disposeBackdrop(w.target)},this._keydownEvents=new Mt.x,this._outsidePointerEvents=new Mt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Tn.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Ni(this._config.width),t.height=Ni(this._config.height),t.minWidth=Ni(this._config.minWidth),t.minHeight=Ni(this._config.minHeight),t.maxWidth=Ni(this._config.maxWidth),t.maxHeight=Ni(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=kb(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Zn((0,or.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Pk=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||bb()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),bb()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y),o.LFG(rs))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZL="cdk-overlay-connected-position-bounding-box",N6=/([A-Za-z%]+)$/;class F6{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Mt.x,this._resizeSubscription=es.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(ZL),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let c;for(let h of this._preferredPositions){let p=this._getOriginPoint(t,r,h),_=this._getOverlayPoint(p,e,h),w=this._getOverlayFit(_,e,i,h);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(w,_,i)?s.push({position:h,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!c||c.overlayFit.visibleArea<w.visibleArea)&&(c={overlayFit:w,overlayPoint:_,originPoint:p,position:h,overlayRect:e})}if(s.length){let h=null,p=-1;for(const _ of s){const w=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);w>p&&(p=w,h=_)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&np(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ZL),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?c:h}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=KL(e);let{x:c,y:h}=t,p=this._getOffset(r,"x"),_=this._getOffset(r,"y");p&&(c+=p),_&&(h+=_);let A=0-h,F=h+s.height-i.height,B=this._subtractOverflows(s.width,0-c,c+s.width-i.width),ae=this._subtractOverflows(s.height,A,F),we=B*ae;return{visibleArea:we,isCompletelyWithinViewport:s.width*s.height===we,fitsInViewportVertically:ae===s.height,fitsInViewportHorizontally:B==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,c=YL(this._overlayRef.getConfig().minHeight),h=YL(this._overlayRef.getConfig().minWidth),_=t.fitsInViewportHorizontally||null!=h&&h<=s;return(t.fitsInViewportVertically||null!=c&&c<=r)&&_}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=KL(e),s=this._viewportRect,c=Math.max(t.x+r.width-s.width,0),h=Math.max(t.y+r.height-s.height,0),p=Math.max(s.top-i.top-t.y,0),_=Math.max(s.left-i.left-t.x,0);let w=0,T=0;return w=r.width<=s.width?_||-c:t.x<this._viewportMargin?s.left-i.left-t.x:0,T=r.height<=s.height?p||-h:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:w,y:T},{x:t.x+w,y:t.y+T}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new O6(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,c,h,w,T,A;if("top"===e.overlayY)c=t.y,s=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const F=Math.min(i.bottom-t.y+i.top,t.y),B=this._lastBoundingBoxSize.height;s=2*F,c=t.y-F,s>B&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-B/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)A=i.width-t.x+this._viewportMargin,w=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)T=t.x,w=i.right-t.x;else{const F=Math.min(i.right-t.x+i.left,t.x),B=this._lastBoundingBoxSize.width;w=2*F,T=t.x-F,w>B&&!this._isInitialRender&&!this._growAfterOpen&&(T=t.x-B/2)}return{top:c,left:T,bottom:h,right:A,width:w,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=Ni(i.height),r.top=Ni(i.top),r.bottom=Ni(i.bottom),r.width=Ni(i.width),r.left=Ni(i.left),r.right=Ni(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Ni(s)),c&&(r.maxWidth=Ni(c))}this._lastBoundingBoxSize=i,np(this._boundingBox.style,r)}_resetBoundingBoxStyles(){np(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){np(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const w=this._viewportRuler.getViewportScrollPosition();np(i,this._getExactOverlayY(e,t,w)),np(i,this._getExactOverlayX(e,t,w))}else i.position="static";let h="",p=this._getOffset(e,"x"),_=this._getOffset(e,"y");p&&(h+=`translateX(${p}px) `),_&&(h+=`translateY(${_}px)`),i.transform=h.trim(),c.maxHeight&&(r?i.maxHeight=Ni(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=Ni(c.maxWidth):s&&(i.maxWidth="")),np(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Ni(s.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Ni(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:qL(t,i),isOriginOutsideView:Ok(t,i),isOverlayClipped:qL(e,i),isOverlayOutsideView:Ok(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&kb(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function np(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function YL(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(N6);return e&&"px"!==e?null:parseFloat(t)}return n||null}function KL(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const QL="cdk-global-overlay-wrapper";class L6{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(QL),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:h}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h);t.position=this._cssPosition,t.marginLeft=p?"0":this._leftOffset,t.marginTop=_?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,p?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(QL),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let B6=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new L6}flexibleConnectedTo(e){return new F6(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fI),o.LFG(Y),o.LFG(rs),o.LFG(Pk))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JL=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V6=(()=>{class n extends JL{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const h=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U6=(()=>{class n extends JL{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Rc(s)},this._clickListener=s=>{const c=Rc(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const w=p[_];if(w._outsidePointerEvents.observers.length<1||!w.hasAttached())continue;if(w.overlayElement.contains(c)||w.overlayElement.contains(h))break;const T=w._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(s)):T.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y),o.LFG(rs),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),H6=0,uh=(()=>{class n{constructor(e,i,r,s,c,h,p,_,w,T,A){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=h,this._ngZone=p,this._document=_,this._directionality=w,this._location=T,this._outsideClickDispatcher=A}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new pI(e);return c.direction=c.direction||this._directionality.value,new P6(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+H6++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new p6(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(R6),o.LFG(Pk),o.LFG(o._Vd),o.LFG(B6),o.LFG(V6),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(Y),o.LFG(Va),o.LFG(We),o.LFG(U6))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const j6=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],XL=new o.OlP("cdk-connected-overlay-scroll-strategy");let e2=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),t2=(()=>{class n{constructor(e,i,r,s,c){this._overlay=e,this._dir=c,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=es.w0.EMPTY,this._attachSubscription=es.w0.EMPTY,this._detachSubscription=es.w0.EMPTY,this._positionSubscription=es.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new hI(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Yn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Yn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Yn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Yn(e)}get push(){return this._push}set push(e){this._push=Yn(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=j6);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Ll(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new pI({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof e2?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function x6(n,t=!1){return(0,jt.e)((e,i)=>{let r=0;e.subscribe(new kn.Q(i,s=>{const c=n(s,r++);(c||t)&&i.next(s),!c&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(uh),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(XL),o.Y36(Va,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[o.TTD]}),n})();const G6={provide:XL,deps:[uh],useFactory:function z6(n){return()=>n.scrollStrategies.reposition()}};let Nk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[uh,G6],imports:[[$f,HL,GL],GL]}),n})();const $6=["mat-menu-item",""];function W6(n,t){1&n&&(o.O4$(),o.TgZ(0,"svg",2),o._UZ(1,"polygon",3),o.qZA())}const n2=["*"];function q6(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",0),o.NdJ("keydown",function(r){return o.CHM(e),o.oxw()._handleKeydown(r)})("click",function(){return o.CHM(e),o.oxw().closed.emit("click")})("@transformMenu.start",function(r){return o.CHM(e),o.oxw()._onAnimationStart(r)})("@transformMenu.done",function(r){return o.CHM(e),o.oxw()._onAnimationDone(r)}),o.TgZ(1,"div",1),o.Hsn(2),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),o.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const gI={transformMenu:ja("transformMenu",[ra("void",Ui({opacity:0,transform:"scale(0.8)"})),no("void => enter",Bl("120ms cubic-bezier(0, 0, 0.2, 1)",Ui({opacity:1,transform:"scale(1)"}))),no("* => void",Bl("100ms 25ms linear",Ui({opacity:0})))]),fadeInItems:ja("fadeInItems",[ra("showing",Ui({opacity:1})),no("void => *",[Ui({opacity:0}),Bl("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Z6=new o.OlP("MatMenuContent"),Fk=new o.OlP("MAT_MENU_PANEL"),Y6=lI(aI(class{}));let mI=(()=>{class n extends Y6{constructor(e,i,r,s,c){var h;super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=c,this.role="menuitem",this._hovered=new Mt.x,this._focused=new Mt.x,this._highlighted=!1,this._triggersSubmenu=!1,null===(h=null==s?void 0:s.addItem)||void 0===h||h.call(s,this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e;const i=this._elementRef.nativeElement.cloneNode(!0),r=i.querySelectorAll("mat-icon, .material-icons");for(let s=0;s<r.length;s++)r[s].remove();return(null===(e=i.textContent)||void 0===e?void 0:e.trim())||""}_setHighlighted(e){var i;this._highlighted=e,null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Y),o.Y36(Yf),o.Y36(Fk,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(o.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),o.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[o.qOj],attrs:$6,ngContentSelectors:n2,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(o.F$t(),o.Hsn(0),o._UZ(1,"div",0),o.YNc(2,W6,2,0,"svg",1)),2&e&&(o.xp6(1),o.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),o.xp6(1),o.Q6J("ngIf",i._triggersSubmenu))},directives:[sw,An],encapsulation:2,changeDetection:0}),n})();const r2=new o.OlP("mat-menu-default-options",{providedIn:"root",factory:function K6(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Q6=0,aw=(()=>{class n{constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new o.n_E,this._tabSubscription=es.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Mt.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new o.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Q6++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Yn(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Yn(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Rb(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ts(this._directDescendantItems),En(e=>(0,or.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{var i;const r=this._keyManager;if("enter"===this._panelAnimationState&&(null===(i=r.activeItem)||void 0===i?void 0:i._hasFocus())){const s=e.toArray(),c=Math.max(0,Math.min(s.length-1,r.activeItemIndex||0));s[c]&&!s[c].disabled?r.setActiveItem(c):r.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Ts(this._directDescendantItems),En(i=>(0,or.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Ll(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe((0,Tn.q)(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(c=>c.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){var r;const s=this._classList;s["mat-menu-before"]="before"===e,s["mat-menu-after"]="after"===e,s["mat-menu-above"]="above"===i,s["mat-menu-below"]="below"===i,null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Ts(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(r2),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,Z6,5),o.Suo(r,mI,5),o.Suo(r,mI,4)),2&e){let s;o.iGM(s=o.CRH())&&(i.lazyContent=s.first),o.iGM(s=o.CRH())&&(i._allItems=s),o.iGM(s=o.CRH())&&(i.items=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(o.Rgc,5),2&e){let r;o.iGM(r=o.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),J6=(()=>{class n extends aw{constructor(e,i,r,s){super(e,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(r2),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&o.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[o._Bn([{provide:Fk,useExisting:n}]),o.qOj],ngContentSelectors:n2,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,q6,3,6,"ng-template"))},directives:[Or],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::before{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[gI.transformMenu,gI.fadeInItems]},changeDetection:0}),n})();const s2=new o.OlP("mat-menu-scroll-strategy"),eW={provide:s2,deps:[uh],useFactory:function X6(n){return()=>n.scrollStrategies.reposition()}},a2=Jd({passive:!0});let tW=(()=>{class n{constructor(e,i,r,s,c,h,p,_,w){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=h,this._dir=p,this._focusMonitor=_,this._ngZone=w,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=es.w0.EMPTY,this._hoverSubscription=es.w0.EMPTY,this._menuCloseSubscription=es.w0.EMPTY,this._handleTouchStart=T=>{Fb(T)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new o.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new o.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=c instanceof aw?c:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,a2),h&&(h._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,a2),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),i=e.getConfig(),r=i.positionStrategy;this._setPosition(r),i.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof aw&&(this.menu._startAnimation(),this.menu._directDescendantItems.changes.pipe(Zn(this.menu.close)).subscribe(()=>{r.withLockedPosition(!1).reapplyLastPosition(),r.withLockedPosition(!0)}))}closeMenu(){this.menu.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){var e;null===(e=this._overlayRef)||void 0===e||e.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof aw?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(gn(r=>"void"===r.toState),(0,Tn.q)(1),Zn(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i.lazyContent&&i.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,i=this.menu.parentMenu;for(;i;)e++,i=i.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new pI({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(i=>{const r="start"===i.connectionPair.overlayX?"after":"before",s="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>this.menu.setPositionClasses(r,s)):this.menu.setPositionClasses(r,s)})}_setPosition(e){let[i,r]="before"===this.menu.xPosition?["end","start"]:["start","end"],[s,c]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[h,p]=[s,c],[_,w]=[i,r],T=0;this.triggersSubmenu()?(w=i="before"===this.menu.xPosition?"start":"end",r=_="end"===i?"start":"end",T="bottom"===s?8:-8):this.menu.overlapTrigger||(h="top"===s?"bottom":"top",p="top"===c?"bottom":"top"),e.withPositions([{originX:i,originY:h,overlayX:_,overlayY:s,offsetY:T},{originX:r,originY:h,overlayX:w,overlayY:s,offsetY:T},{originX:i,originY:p,overlayX:_,overlayY:c,offsetY:-T},{originX:r,originY:p,overlayX:w,overlayY:c,offsetY:-T}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:ut(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(gn(c=>c!==this._menuItemInstance),gn(()=>this._menuOpen)):ut();return(0,or.T)(e,r,s,i)}_handleMousedown(e){Lm(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(gn(e=>e===this._menuItemInstance&&!e.disabled),rT(0,Sk)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof aw&&this.menu._isAnimating?this.menu._animationDone.pipe((0,Tn.q)(1),rT(0,Sk),Zn(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new hI(this.menu.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(uh),o.Y36(o.SBq),o.Y36(o.s_b),o.Y36(s2),o.Y36(Fk,8),o.Y36(mI,10),o.Y36(Va,8),o.Y36(Yf),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&e&&o.uIk("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),nW=(()=>{class n extends tW{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[o.qOj]}),n})(),l2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[eW],imports:[[wi,$n,cI,Nk],t_,$n]}),n})();const iW=["*"];let _I;function lw(n){var t;return(null===(t=function rW(){if(void 0===_I&&(_I=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(_I=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return _I}())||void 0===t?void 0:t.createHTML(n))||n}function c2(n){return Error(`Unable to find icon with the name "${n}"`)}function u2(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function d2(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class ip{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let yI=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new ip(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const c=this._sanitizer.sanitize(o.q3G.HTML,r);if(!c)throw d2(r);const h=lw(c);return this._addSvgIconConfig(e,i,new ip("",h,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new ip(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw d2(i);const c=lw(s);return this._addSvgIconSetConfig(e,new ip("",c,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!i)throw u2(e);const r=this._cachedIconsByUrl.get(i);return r?ut(vI(r)):this._loadSvgIconFromConfig(new ip(e,null)).pipe((0,cr.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,gt.U)(s=>vI(s)))}getNamedSvgIcon(e,i=""){const r=h2(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(e,c):cf(c2(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ut(vI(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,gt.U)(i=>vI(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?ut(r):Fa(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(ai(h=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,c.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(_)),ut(null)})))).pipe((0,gt.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,i);if(!c)throw c2(e);return c}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(c,e,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,cr.b)(i=>e.svgText=i),(0,gt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ut(null):this._fetchIcon(e).pipe((0,cr.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const h=this._svgElementFromString(lw("<svg></svg>"));return h.appendChild(c),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(lw("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:c,value:h}=r[s];"id"!==c&&i.setAttribute(c,h)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:s}=e,c=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function sW(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const h=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,r);if(!h)throw u2(r);const p=this._inProgressUrlFetches.get(h);if(p)return p;const _=this._httpClient.get(h,{responseType:"text",withCredentials:c}).pipe((0,gt.U)(w=>lw(w)),X0(()=>this._inProgressUrlFetches.delete(h)),(0,ic.B)());return this._inProgressUrlFetches.set(h,_),_}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(h2(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return aW(s)?new ip(s.url,null,s.options):new ip(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ds,8),o.LFG(sr),o.LFG(Y,8),o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vI(n){return n.cloneNode(!0)}function h2(n,t){return n+":"+t}function aW(n){return!(!n.url||!n.options)}const lW=iw(class{constructor(n){this._elementRef=n}}),cW=new o.OlP("mat-icon-location",{providedIn:"root",factory:function uW(){const n=(0,o.f3M)(Y),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),f2=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],dW=f2.map(n=>`[${n}]`).join(", "),hW=/^url\(['"]?#(.*?)['"]?\)$/;let n_=(()=>{class n extends lW{constructor(e,i,r,s,c){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._currentIconFetch=es.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Yn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(dW),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)f2.forEach(c=>{const h=i[s],p=h.getAttribute(c),_=p?p.match(hW):null;if(_){let w=r.get(h);w||(w=[],r.set(h,w)),w.push({name:c,value:_[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Tn.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(yI),o.$8M("aria-hidden"),o.Y36(cW),o.Y36(o.qLn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),o.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:iW,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),p2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[$n],$n]}),n})();const g2=["*"],fW=["content"];function pW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(e),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function gW(n,t){1&n&&(o.TgZ(0,"mat-drawer-content"),o.Hsn(1,2),o.qZA())}const mW=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],_W=["mat-drawer","mat-drawer-content","*"],yW={transformDrawer:ja("transform",[ra("open, open-instant",Ui({transform:"none",visibility:"visible"})),ra("void",Ui({"box-shadow":"none",visibility:"hidden"})),no("void => open-instant",Bl("0ms")),no("void <=> open, open-instant => void",Bl("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},vW=new o.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function bW(){return!1}}),m2=new o.OlP("MAT_DRAWER_CONTAINER");let Lk=(()=>{class n extends Rk{constructor(e,i,r,s,c){super(r,s,c),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>r_)),o.Y36(o.SBq),o.Y36(kk),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&o.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[o._Bn([{provide:Rk,useExisting:n}]),o.qOj],ngContentSelectors:g2,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),i_=(()=>{class n{constructor(e,i,r,s,c,h,p,_){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=c,this._interactivityChecker=h,this._doc=p,this._container=_,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Mt.x,this._animationEnd=new Mt.x,this._animationState="void",this.openedChange=new o.vpe(!0),this._openedStream=this.openedChange.pipe(gn(w=>w),(0,gt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(gn(w=>w.fromState!==w.toState&&0===w.toState.indexOf("open")),_m(void 0)),this._closedStream=this.openedChange.pipe(gn(w=>!w),(0,gt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(gn(w=>w.fromState!==w.toState&&"void"===w.toState),_m(void 0)),this._destroyed=new Mt.x,this.onPositionChanged=new o.vpe,this._modeChanged=new Mt.x,this.openedChange.subscribe(w=>{w?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{zu(this._elementRef.nativeElement,"keydown").pipe(gn(w=>27===w.keyCode&&!this.disableClose&&!Ll(w)),Zn(this._destroyed)).subscribe(w=>this._ngZone.run(()=>{this.close(),w.stopPropagation(),w.preventDefault()}))}),this._animationEnd.pipe(Rm((w,T)=>w.fromState===T.fromState&&w.toState===T.toState)).subscribe(w=>{const{fromState:T,toState:A}=w;(0===A.indexOf("open")&&"void"===T||"void"===A&&0===T.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Yn(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Yn(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Yn(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var e;this._focusTrap&&this._focusTrap.destroy(),null===(e=this._anchor)||void 0===e||e.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe((0,Tn.q)(1)).subscribe(c=>s(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(xT),o.Y36(Yf),o.Y36(rs),o.Y36(o.R0b),o.Y36(Pm),o.Y36(Y,8),o.Y36(m2,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&o.Gf(fW,5),2&e){let r;o.iGM(r=o.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&o.WFA("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&e&&(o.uIk("align",null),o.d8E("@transform",i._animationState),o.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:g2,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA())},directives:[Rk],encapsulation:2,data:{animation:[yW.transformDrawer]},changeDetection:0}),n})(),r_=(()=>{class n{constructor(e,i,r,s,c,h=!1,p){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=p,this._drawers=new o.n_E,this.backdropClick=new o.vpe,this._destroyed=new Mt.x,this._doCheckSubject=new Mt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Mt.x,e&&e.change.pipe(Zn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(Zn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Yn(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Yn(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Ts(this._allDrawers),Zn(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Ts(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Oc(10),Zn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(gn(i=>i.fromState!==i.toState),Zn(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Zn(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Zn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Tn.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Zn((0,or.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Va,8),o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(fI),o.Y36(vW),o.Y36(Lc,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,Lk,5),o.Suo(r,i_,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._content=s.first),o.iGM(s=o.CRH())&&(i._allDrawers=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(Lk,5),2&e){let r;o.iGM(r=o.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o._Bn([{provide:m2,useExisting:n}])],ngContentSelectors:_W,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(o.F$t(mW),o.YNc(0,pW,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,gW,2,0,"mat-drawer-content",1)),2&e&&(o.Q6J("ngIf",i.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!i._content))},directives:[Lk,An],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),_2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[wi,$n,t_],t_,$n]}),n})();M(5881);var y2=M(3942);const v2="@firebase/database";let Bk="";function w2(n){Bk=n}class EW{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,U.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,U.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class TW{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,U.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const C2=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new EW(t)}}catch(t){}return new TW},rp=C2("localStorage"),Vk=C2("sessionStorage"),s_=new bs.Yd("@firebase/database"),E2=function(){let n=1;return function(){return n++}}(),T2=function(n){const t=(0,U.dS)(n),e=new U.gQ;e.update(t);const i=e.digest();return U.US.encodeByteArray(i)},cw=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=cw.apply(null,i):t+="object"==typeof i?(0,U.Pz)(i):i,t+=" "}return t};let sp=null,I2=!0;const D2=function(n,t){(0,U.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(s_.logLevel=bs.in.VERBOSE,sp=s_.log.bind(s_),t&&Vk.set("logging_enabled",!0)):"function"==typeof n?sp=n:(sp=null,Vk.remove("logging_enabled"))},Br=function(...n){if(!0===I2&&(I2=!1,null===sp&&!0===Vk.get("logging_enabled")&&D2(!0)),sp){const t=cw.apply(null,n);sp(t)}},uw=function(n){return function(...t){Br(n,...t)}},Uk=function(...n){const t="FIREBASE INTERNAL ERROR: "+cw(...n);s_.error(t)},Bc=function(...n){const t=`FIREBASE FATAL ERROR: ${cw(...n)}`;throw s_.error(t),new Error(t)},As=function(...n){const t="FIREBASE WARNING: "+cw(...n);s_.warn(t)},bI=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Gu="[MIN_NAME]",Vc="[MAX_NAME]",op=function(n,t){if(n===t)return 0;if(n===Gu||t===Vc)return-1;if(t===Gu||n===Vc)return 1;{const e=wI(n),i=wI(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},SW=function(n,t){return n===t?0:n<t?-1:1},dw=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,U.Pz)(t))},Hk=function(n){if("object"!=typeof n||null===n)return(0,U.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,U.Pz)(t[i]),e+=":",e+=Hk(n[t[i]]);return e+="}",e},S2=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Vr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const x2=function(n){(0,U.hu)(!bI(n),"Invalid JSON number");const i=1023;let r,s,c,h,p;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=h+i,c=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(r?1:0),_.reverse();const w=_.join("");let T="";for(p=0;p<64;p+=8){let A=parseInt(w.substr(p,8),2).toString(16);1===A.length&&(A="0"+A),T+=A}return T.toLowerCase()},kW=new RegExp("^-?(0*)\\d{1,10}$"),A2=-2147483648,jk=2147483647,wI=function(n){if(kW.test(n)){const t=Number(n);if(t>=A2&&t<=jk)return t}return null},o_=function(n){try{n()}catch(t){setTimeout(()=>{throw As("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},hw=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class OW{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){As(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class PW{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Br("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',As(t)}}let fw=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const P2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,L2="websocket",B2="long_polling";class Gk{constructor(t,e,i,r,s=!1,c="",h=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rp.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&rp.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function V2(n,t,e){let i;if((0,U.hu)("string"==typeof t,"typeof type must == string"),(0,U.hu)("object"==typeof e,"typeof params must == object"),t===L2)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==B2)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function NW(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Vr(e,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class FW{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,U.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,U.p$)(this.counters_)}}const $k={},Wk={};function qk(n){const t=n.toString();return $k[t]||($k[t]=new FW),$k[t]}class BW{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&o_(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class dh{constructor(t,e,i,r,s,c,h){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=uw(t),this.stats_=qk(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),V2(e,B2,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new BW(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,U.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zk((...s)=>{const[c,h,p,_,w]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=h,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&P2.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){dh.forceAllow_=!0}static forceDisallow(){dh.forceDisallow_=!0}static isAvailable(){return!((0,U.Yr)()||!dh.forceAllow_&&(dh.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,U.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,U.h$)(e),r=S2(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,U.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,U.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Zk{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,U.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=E2(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Zk.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Br("frame writing exception"),h.stack&&Br(h.stack),Br(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Br("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,U.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Br("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let EI=null;"undefined"!=typeof MozWebSocket?EI=MozWebSocket:"undefined"!=typeof WebSocket&&(EI=WebSocket);let a_=(()=>{class n{constructor(e,i,r,s,c,h,p){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=uw(this.connId),this.stats_=qk(i),this.connURL=n.connectionURL_(i,h,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,c){const h={v:"5"};return!(0,U.Yr)()&&"undefined"!=typeof location&&location.hostname&&P2.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),s&&(h.ac=s),c&&(h.p=c),V2(e,L2,h)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rp.set("previous_websocket_failure",!0);try{let r;if((0,U.Yr)()){const c={headers:{"User-Agent":`Firebase/5/${Bk}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,p=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;p&&(c.proxy={origin:p})}this.mySock=new EI(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==EI&&!n.forceDisallow_}static previouslyFailed(){return rp.isInMemoryStorage||!0===rp.get("previous_websocket_failure")}markConnectionHealthy(){rp.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,U.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,U.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,U.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=S2(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),W2=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[dh,a_]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=a_&&a_.isAvailable();let r=i&&!a_.previouslyFailed();if(e.webSocketOnly&&(i||As("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[a_];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class X2{constructor(t,e,i,r,s,c,h,p,_,w){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=uw("c:"+this.id+":"),this.transportManager_=new W2(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=hw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=dw("t",t),i=dw("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=dw("t",t),i=dw("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=dw("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Uk("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Uk("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&As("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),hw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rp.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class eB{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class tB{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,U.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,U.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class TI extends tB{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,U.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new TI}getInitialEvent(t){return(0,U.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Hn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Nn(){return new Hn("")}function an(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function hh(n){return n.pieces_.length-n.pieceNum_}function ti(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Hn(n.pieces_,t)}function Kk(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function pw(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function rB(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Hn(t,0)}function Ii(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Hn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Hn(e,0)}function ln(n){return n.pieceNum_>=n.pieces_.length}function io(n,t){const e=an(n),i=an(t);if(null===e)return t;if(e===i)return io(ti(n),ti(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function oq(n,t){const e=pw(n,0),i=pw(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=op(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function Qk(n,t){if(hh(n)!==hh(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Za(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(hh(n)>hh(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class aq{constructor(t,e){this.errorPrefix_=e,this.parts_=pw(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,U.ug)(this.parts_[i]);sB(this)}}function sB(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ap(n))}function ap(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Jk extends tB{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Jk}getInitialEvent(t){return(0,U.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const gw=1e3;let DI,lp=(()=>{class n extends eB{constructor(e,i,r,s,c,h,p,_){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=uw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=gw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,U.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Jk.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&TI.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,c={r:s,a:e,b:i};this.log_((0,U.Pz)(c)),(0,U.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new U.BH,r={p:e._path.toString(),q:e._queryObject},s={action:"g",request:r,onComplete:h=>{const p=h.d;"ok"===h.s?(this.onDataUpdate_(r.p,p,!1,null),i.resolve(p)):i.reject(p)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const h=this.outstandingGets_[c];void 0===h||s!==h||(delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(c),i.promise}listen(e,i,r,s){this.initConnection_();const c=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),(0,U.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,U.hu)(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(h).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,p=>{const _=p.d,w=p.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",p),"ok"!==w&&this.removeListen_(r,s),e.onComplete&&e.onComplete(w,_))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,U.r3)(e,"w")){const r=(0,U.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();As(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,U.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,U.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,h=s.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,U.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const c={p:e};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,c){this.initConnection_();const h={p:i,d:r};void 0!==c&&(h.h=c),this.outstandingPuts_.push({action:e,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,U.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Uk("Unrecognized action received from server: "+(0,U.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,U.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gw,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=gw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=gw),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,nt.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,h=e.lastSessionId;let p=!1,_=null;const w=function(){_?_.close():(p=!0,s())};e.realtime_={close:w,sendRequest:function(F){(0,U.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(F)}};const A=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[F,B]=yield Promise.all([e.authTokenProvider_.getToken(A),e.appCheckTokenProvider_.getToken(A)]);p?Br("getToken() completed but was canceled"):(Br("getToken() completed. Creating connection."),e.authToken_=F&&F.accessToken,e.appCheckToken_=B&&B.token,_=new X2(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,ae=>{As(ae+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},h))}catch(F){e.log_("Failed to get token: "+F),p||(e.repoInfo_.nodeAdmin&&As(F),w())}}})()}interrupt(e){Br("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Br("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,U.xb)(this.interruptReasons_)&&(this.reconnectDelay_=gw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>Hk(c)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new Hn(e).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){Br("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Br("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,U.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+Bk.replace(/\./g,"-")]=1,(0,U.uI)()?e["framework.cordova"]=1:(0,U.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=TI.getInstance().currentlyOnline();return(0,U.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class un{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new un(t,e)}}class II{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new un(Gu,t),r=new un(Gu,e);return 0!==this.compare(i,r)}minPost(){return un.MIN}}class lB extends II{static get __EMPTY_NODE(){return DI}static set __EMPTY_NODE(t){DI=t}compare(t,e){return op(t.name,e.name)}isDefinedOn(t){throw(0,U.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return un.MIN}maxPost(){return new un(Vc,DI)}makePost(t,e){return(0,U.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new un(t,DI)}toString(){return".key"}}const Uc=new lB;class SI{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(t=t,c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let eR,Vl=(()=>{class n{constructor(e,i,r,s,c){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:Oo.EMPTY_NODE,this.right=null!=c?c:Oo.EMPTY_NODE}copy(e,i,r,s,c){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=c?c:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const c=r(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Oo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Oo.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Oo{constructor(t,e=Oo.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Oo(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Vl.BLACK,null,null))}remove(t){return new Oo(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Vl.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new SI(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new SI(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new SI(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new SI(this.root_,null,this.comparator_,!0,t)}}function mq(n,t){return op(n.name,t.name)}function Xk(n,t){return op(n,t)}Oo.EMPTY_NODE=new class gq{copy(t,e,i,r,s){return this}insert(t,e,i){return new Vl(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const cB=function(n){return"number"==typeof n?"number:"+x2(n):"string:"+n},uB=function(n){if(n.isLeafNode()){const t=n.val();(0,U.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,U.r3)(t,".sv"),"Priority must be a string or number.")}else(0,U.hu)(n===eR||n.isEmpty(),"priority of unexpected type.");(0,U.hu)(n===eR||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let dB,hB,fB,l_=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,U.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),uB(this.priorityNode_)}static set __childrenNodeConstructor(e){dB=e}static get __childrenNodeConstructor(){return dB}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ln(e)?this:".priority"===an(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=an(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,U.hu)(".priority"!==r||1===hh(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ti(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+cB(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?x2(this.value_):this.value_,this.lazyHash_=T2(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,U.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,U.hu)(s>=0,"Unknown leaf type: "+i),(0,U.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const li=new class bq extends II{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?op(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return un.MIN}maxPost(){return new un(Vc,new l_("[PRIORITY-POST]",fB))}makePost(t,e){const i=hB(t);return new un(e,new l_("[PRIORITY-POST]",i))}toString(){return".priority"}},wq=Math.log(2);class Cq{constructor(t){this.count=parseInt(Math.log(t+1)/wq,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const xI=function(n,t,e,i){n.sort(t);const r=function(p,_){const w=_-p;let T,A;if(0===w)return null;if(1===w)return T=n[p],A=e?e(T):T,new Vl(A,T.node,Vl.BLACK,null,null);{const F=parseInt(w/2,10)+p,B=r(p,F),ae=r(F+1,_);return T=n[F],A=e?e(T):T,new Vl(A,T.node,Vl.BLACK,B,ae)}},h=function(p){let _=null,w=null,T=n.length;const A=function(B,ae){const we=T-B,$e=T;T-=B;const Je=r(we+1,$e),Qe=n[we],et=e?e(Qe):Qe;F(new Vl(et,Qe.node,ae,null,Je))},F=function(B){_?(_.left=B,_=B):(w=B,_=B)};for(let B=0;B<p.count;++B){const ae=p.nextBitIsOne(),we=Math.pow(2,p.count-(B+1));ae?A(we,Vl.BLACK):(A(we,Vl.BLACK),A(we,Vl.RED))}return w}(new Cq(n.length));return new Oo(i||t,h)};let tR;const c_={};class $u{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,U.hu)(c_&&li,"ChildrenNode.ts has not been loaded"),tR=tR||new $u({".priority":c_},{".priority":li}),tR}get(t){const e=(0,U.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Oo?e:null}hasIndex(t){return(0,U.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,U.hu)(t!==Uc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(un.Wrap);let h,c=s.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=s.getNext();h=r?xI(i,t.getCompare()):c_;const p=t.toString(),_=Object.assign({},this.indexSet_);_[p]=t;const w=Object.assign({},this.indexes_);return w[p]=h,new $u(w,_)}addToIndexes(t,e){const i=(0,U.UI)(this.indexes_,(r,s)=>{const c=(0,U.DV)(this.indexSet_,s);if((0,U.hu)(c,"Missing index implementation for "+s),r===c_){if(c.isDefinedOn(t.node)){const h=[],p=e.getIterator(un.Wrap);let _=p.getNext();for(;_;)_.name!==t.name&&h.push(_),_=p.getNext();return h.push(t),xI(h,c.getCompare())}return c_}{const h=e.get(t.name);let p=r;return h&&(p=p.remove(new un(t.name,h))),p.insert(t,t.node)}});return new $u(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,U.UI)(this.indexes_,r=>{if(r===c_)return r;{const s=e.get(t.name);return s?r.remove(new un(t.name,s)):r}});return new $u(i,this.indexSet_)}}let mw,Xt=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&uB(this.priorityNode_),this.children_.isEmpty()&&(0,U.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return mw||(mw=new n(new Oo(Xk),null,$u.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||mw}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?mw:i}}getChild(e){const i=an(e);return null===i?this:this.getImmediateChild(i).getChild(ti(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,U.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new un(e,i);let s,c;i.isEmpty()?(s=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const h=s.isEmpty()?mw:this.priorityNode_;return new n(s,h,c)}}updateChild(e,i){const r=an(e);if(null===r)return i;{(0,U.hu)(".priority"!==an(e)||1===hh(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ti(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(li,(h,p)=>{i[h]=p.val(e),r++,c&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):c=!1}),!e&&c&&s<2*r){const h=[];for(const p in i)h[p]=i[p];return h}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+cB(this.getPriority().val())+":"),this.forEachChild(li,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":T2(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new un(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new un(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new un(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,un.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,un.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)>0;)s.getNext(),c=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_w?-1:0}withIndex(e){if(e===Uc||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Uc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(li),s=i.getIterator(li);let c=r.getNext(),h=s.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=r.getNext(),h=s.getNext()}return null===c&&null===h}return!1}return!1}}resolveIndex_(e){return e===Uc?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const _w=new class Eq extends Xt{constructor(){super(new Oo(Xk),Xt.EMPTY_NODE,$u.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Xt.EMPTY_NODE}isEmpty(){return!1}};function Fi(n,t=null){if(null===n)return Xt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,U.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new l_(n,Fi(t));if(n instanceof Array){let e=Xt.EMPTY_NODE;return Vr(n,(i,r)=>{if((0,U.r3)(n,i)&&"."!==i.substring(0,1)){const s=Fi(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(Fi(t))}{const e=[];let i=!1;if(Vr(n,(c,h)=>{if("."!==c.substring(0,1)){const p=Fi(h);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),e.push(new un(c,p)))}}),0===e.length)return Xt.EMPTY_NODE;const s=xI(e,mq,c=>c.name,Xk);if(i){const c=xI(e,li.getCompare());return new Xt(s,Fi(t),new $u({".priority":c},{".priority":li}))}return new Xt(s,Fi(t),$u.Default)}}Object.defineProperties(un,{MIN:{value:new un(Gu,Xt.EMPTY_NODE)},MAX:{value:new un(Vc,_w)}}),lB.__EMPTY_NODE=Xt.EMPTY_NODE,l_.__childrenNodeConstructor=Xt,function _q(n){eR=n}(_w),function vq(n){fB=n}(_w),function yq(n){hB=n}(Fi);class nR extends II{constructor(t){super(),this.indexPath_=t,(0,U.hu)(!ln(t)&&".priority"!==an(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?op(t.name,e.name):s}makePost(t,e){const i=Fi(t),r=Xt.EMPTY_NODE.updateChild(this.indexPath_,i);return new un(e,r)}maxPost(){const t=Xt.EMPTY_NODE.updateChild(this.indexPath_,_w);return new un(Vc,t)}toString(){return pw(this.indexPath_,0).join("/")}}const iR=new class Iq extends II{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?op(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return un.MIN}maxPost(){return un.MAX}makePost(t,e){const i=Fi(t);return new un(e,i)}toString(){return".value"}},u_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Dq=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=u_.charAt(e%64),e=Math.floor(e/64);(0,U.hu)(0===e,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=u_.charAt(t[r]);return(0,U.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),mB=function(n){if(n===""+jk)return"-";const t=wI(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return Vc;const s=u_.charAt(u_.indexOf(e[i])+1);return e[i]=s,e.slice(0,i+1).join("")},_B=function(n){if(n===""+A2)return Gu;const t=wI(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+jk:(delete e[e.length-1],e.join("")):(e[e.length-1]=u_.charAt(u_.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function yB(n){return{type:"value",snapshotNode:n}}function d_(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function yw(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function vw(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class sR{constructor(t){this.index_=t}updateChild(t,e,i,r,s,c){(0,U.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(e);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(yw(e,h)):(0,U.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(d_(e,i)):c.trackChildChange(vw(e,i,h))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(li,(r,s)=>{e.hasChild(r)||i.trackChildChange(yw(r,s))}),e.isLeafNode()||e.forEachChild(li,(r,s)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(s)||i.trackChildChange(vw(r,s,c))}else i.trackChildChange(d_(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Xt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class bw{constructor(t){this.indexedFilter_=new sR(t.getIndex()),this.index_=t.getIndex(),this.startPost_=bw.getStartPost_(t),this.endPost_=bw.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,s,c){return this.matches(new un(e,i))||(i=Xt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Xt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Xt.EMPTY_NODE);const s=this;return e.forEachChild(li,(c,h)=>{s.matches(new un(c,h))||(r=r.updateImmediateChild(c,Xt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class xq{constructor(t){this.rangedFilter_=new bw(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,s,c){return this.rangedFilter_.matches(new un(e,i))||(i=Xt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,c):this.fullLimitUpdateChild_(t,e,i,s,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Xt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=Xt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const h=s.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),h)<=0:this.index_.compare(h,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(h.name,h.node),c++}}else{let s,c,h,p;if(r=e.withIndex(this.index_),r=r.updatePriority(Xt.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const T=this.index_.getCompare();h=(A,F)=>T(F,A)}else p=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();let _=0,w=!1;for(;p.hasNext();){const T=p.getNext();!w&&h(s,T)<=0&&(w=!0),w&&_<this.limit_&&h(T,c)<=0?_++:r=r.updateImmediateChild(T.name,Xt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let c;if(this.reverse_){const T=this.index_.getCompare();c=(A,F)=>T(F,A)}else c=this.index_.getCompare();const h=t;(0,U.hu)(h.numChildren()===this.limit_,"");const p=new un(e,i),_=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),w=this.rangedFilter_.matches(p);if(h.hasChild(e)){const T=h.getImmediateChild(e);let A=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=A&&(A.name===e||h.hasChild(A.name));)A=r.getChildAfterChild(this.index_,A,this.reverse_);const F=null==A?1:c(A,p);if(w&&!i.isEmpty()&&F>=0)return null!=s&&s.trackChildChange(vw(e,i,T)),h.updateImmediateChild(e,i);{null!=s&&s.trackChildChange(yw(e,T));const ae=h.updateImmediateChild(e,Xt.EMPTY_NODE);return null!=A&&this.rangedFilter_.matches(A)?(null!=s&&s.trackChildChange(d_(A.name,A.node)),ae.updateImmediateChild(A.name,A.node)):ae}}return i.isEmpty()?t:w&&c(_,p)>=0?(null!=s&&(s.trackChildChange(yw(_.name,_.node)),s.trackChildChange(d_(e,i))),h.updateImmediateChild(e,i).updateImmediateChild(_.name,Xt.EMPTY_NODE)):t}}class AI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=li}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Vc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,U.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===li}copy(){const t=new AI;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function oR(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function aR(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function MI(n,t){const e=n.copy();return e.index_=t,e}function vB(n){const t={};if(n.isDefault())return t;let e;return n.index_===li?e="$priority":n.index_===iR?e="$value":n.index_===Uc?e="$key":((0,U.hu)(n.index_ instanceof nR,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,U.Pz)(e),n.startSet_&&(t.startAt=(0,U.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,U.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,U.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,U.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function bB(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==li&&(t.i=n.index_.toString()),t}class kI extends eB{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=uw("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,U.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const c=kI.getListenId_(t,i),h={};this.listens_[c]=h;const p=vB(t._queryParams);this.restRequest_(s+".json",p,(_,w)=>{let T=w;if(404===_&&(T=null,_=null),null===_&&this.onDataUpdate_(s,T,!1,i),(0,U.DV)(this.listens_,c)===h){let A;A=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(A,null)}})}unlisten(t,e){const i=kI.getListenId_(t,e);delete this.listens_[i]}get(t){const e=vB(t._queryParams),i=t._path.toString(),r=new U.BH;return this.restRequest_(i+".json",e,(s,c)=>{let h=c;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,U.xO)(e);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,U.cI)(h.responseText)}catch(_){As("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,p)}else 401!==h.status&&404!==h.status&&As("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}class Pq{constructor(){this.rootNode_=Xt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function RI(){return{value:null,children:new Map}}function h_(n,t,e){if(ln(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=an(t);n.children.has(i)||n.children.set(i,RI()),h_(n.children.get(i),t=ti(t),e)}}function lR(n,t){if(ln(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(li,(i,r)=>{h_(n,new Hn(i),r)}),lR(n,t)}}if(n.children.size>0){const e=an(t);return t=ti(t),n.children.has(e)&&lR(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function cR(n,t,e){null!==n.value?e(t,n.value):function Nq(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{cR(r,new Hn(t.toString()+"/"+i),e)})}class Fq{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Vr(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class Vq{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Fq(t);const i=1e4+2e4*Math.random();hw(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Vr(t,(r,s)=>{s>0&&(0,U.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),hw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ya=(()=>{return(n=Ya||(Ya={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Ya;var n})();function hR(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class OI{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Ya.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(ln(this.path)){if(null!=this.affectedTree.value)return(0,U.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Hn(t));return new OI(Nn(),e,this.revert)}}return(0,U.hu)(an(this.path)===t,"operationForChild called for unrelated child."),new OI(ti(this.path),this.affectedTree,this.revert)}}class ww{constructor(t,e){this.source=t,this.path=e,this.type=Ya.LISTEN_COMPLETE}operationForChild(t){return ln(this.path)?new ww(this.source,Nn()):new ww(this.source,ti(this.path))}}class cp{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Ya.OVERWRITE}operationForChild(t){return ln(this.path)?new cp(this.source,Nn(),this.snap.getImmediateChild(t)):new cp(this.source,ti(this.path),this.snap)}}class f_{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Ya.MERGE}operationForChild(t){if(ln(this.path)){const e=this.children.subtree(new Hn(t));return e.isEmpty()?null:e.value?new cp(this.source,Nn(),e.value):new f_(this.source,Nn(),e)}return(0,U.hu)(an(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new f_(this.source,ti(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class fh{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ln(t))return this.isFullyInitialized()&&!this.filtered_;const e=an(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Uq{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Cw(n,t,e,i,r,s){const c=i.filter(h=>h.type===e);c.sort((h,p)=>function zq(n,t,e){if(null==t.childName||null==e.childName)throw(0,U.g5)("Should only compare child_ events.");const i=new un(t.childName,t.snapshotNode),r=new un(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,h,p)),c.forEach(h=>{const p=function jq(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,h,s);r.forEach(_=>{_.respondsTo(h.type)&&t.push(_.createEvent(p,n.query_))})})}function PI(n,t){return{eventCache:n,serverCache:t}}function Ew(n,t,e,i){return PI(new fh(t,e,i),n.serverCache)}function CB(n,t,e,i){return PI(n.eventCache,new fh(t,e,i))}function NI(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function up(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let fR;class ci{constructor(t,e=(()=>(fR||(fR=new Oo(SW)),fR))()){this.value=t,this.children=e}static fromObject(t){let e=new ci(null);return Vr(t,(i,r)=>{e=e.set(new Hn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Nn(),value:this.value};if(ln(t))return null;{const i=an(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(ti(t),e);return null!=s?{path:Ii(new Hn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ln(t))return this;{const e=an(t),i=this.children.get(e);return null!==i?i.subtree(ti(t)):new ci(null)}}set(t,e){if(ln(t))return new ci(e,this.children);{const i=an(t),s=(this.children.get(i)||new ci(null)).set(ti(t),e),c=this.children.insert(i,s);return new ci(this.value,c)}}remove(t){if(ln(t))return this.children.isEmpty()?new ci(null):new ci(null,this.children);{const e=an(t),i=this.children.get(e);if(i){const r=i.remove(ti(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new ci(null):new ci(this.value,s)}return this}}get(t){if(ln(t))return this.value;{const e=an(t),i=this.children.get(e);return i?i.get(ti(t)):null}}setTree(t,e){if(ln(t))return e;{const i=an(t),s=(this.children.get(i)||new ci(null)).setTree(ti(t),e);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new ci(this.value,c)}}fold(t){return this.fold_(Nn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Ii(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Nn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(ln(t))return null;{const s=an(t),c=this.children.get(s);return c?c.findOnPath_(ti(t),Ii(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Nn(),e)}foreachOnPath_(t,e,i){if(ln(t))return this;{this.value&&i(e,this.value);const r=an(t),s=this.children.get(r);return s?s.foreachOnPath_(ti(t),Ii(e,r),i):new ci(null)}}foreach(t){this.foreach_(Nn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Ii(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Ul{constructor(t){this.writeTree_=t}static empty(){return new Ul(new ci(null))}}function Tw(n,t,e){if(ln(t))return new Ul(new ci(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const c=io(r,t);return s=s.updateChild(c,e),new Ul(n.writeTree_.set(r,s))}{const r=new ci(e),s=n.writeTree_.setTree(t,r);return new Ul(s)}}}function pR(n,t,e){let i=n;return Vr(e,(r,s)=>{i=Tw(i,Ii(t,r),s)}),i}function EB(n,t){if(ln(t))return Ul.empty();{const e=n.writeTree_.setTree(t,new ci(null));return new Ul(e)}}function gR(n,t){return null!=dp(n,t)}function dp(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(io(e.path,t)):null}function TB(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(li,(i,r)=>{t.push(new un(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new un(i,r.value))}),t}function ph(n,t){if(ln(t))return n;{const e=dp(n,t);return new Ul(null!=e?new ci(e):n.writeTree_.subtree(t))}}function mR(n){return n.writeTree_.isEmpty()}function p_(n,t){return IB(Nn(),n.writeTree_,t)}function IB(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,U.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=IB(Ii(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Ii(n,".priority"),i)),e}}function FI(n,t){return MB(t,n)}function Yq(n,t){if(n.snap)return Za(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Za(Ii(n.path,e),t))return!0;return!1}function Qq(n){return n.visible}function DB(n,t,e){let i=Ul.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const c=s.path;let h;if(s.snap)Za(e,c)?(h=io(e,c),i=Tw(i,h,s.snap)):Za(c,e)&&(h=io(c,e),i=Tw(i,Nn(),s.snap.getChild(h)));else{if(!s.children)throw(0,U.g5)("WriteRecord should have .snap or .children");if(Za(e,c))h=io(e,c),i=pR(i,h,s.children);else if(Za(c,e))if(h=io(c,e),ln(h))i=pR(i,Nn(),s.children);else{const p=(0,U.DV)(s.children,an(h));if(p){const _=p.getChild(ti(h));i=Tw(i,Nn(),_)}}}}}return i}function SB(n,t,e,i,r){if(i||r){const s=ph(n.visibleWrites,t);return!r&&mR(s)?e:r||null!=e||gR(s,Nn())?p_(DB(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(Za(_.path,t)||Za(t,_.path))},t),e||Xt.EMPTY_NODE):null}{const s=dp(n.visibleWrites,t);if(null!=s)return s;{const c=ph(n.visibleWrites,t);return mR(c)?e:null!=e||gR(c,Nn())?p_(c,e||Xt.EMPTY_NODE):null}}}function LI(n,t,e,i){return SB(n.writeTree,n.treePath,t,e,i)}function _R(n,t){return function Jq(n,t,e){let i=Xt.EMPTY_NODE;const r=dp(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(li,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(e){const s=ph(n.visibleWrites,t);return e.forEachChild(li,(c,h)=>{const p=p_(ph(s,new Hn(c)),h);i=i.updateImmediateChild(c,p)}),TB(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return TB(ph(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function xB(n,t,e,i){return function Xq(n,t,e,i,r){(0,U.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Ii(t,e);if(gR(n.visibleWrites,s))return null;{const c=ph(n.visibleWrites,s);return mR(c)?r.getChild(e):p_(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function BI(n,t){return function t4(n,t){return dp(n.visibleWrites,t)}(n.writeTree,Ii(n.treePath,t))}function yR(n,t,e){return function e4(n,t,e,i){const r=Ii(t,e),s=dp(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?p_(ph(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function AB(n,t){return MB(Ii(n.treePath,t),n.writeTree)}function MB(n,t){return{treePath:n,writeTree:t}}class s4{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,U.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,U.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,vw(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,yw(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,d_(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,U.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,vw(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const kB=new class o4{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class vR{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new fh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return yR(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:up(this.viewCache_),s=function r4(n,t,e,i,r,s){return function n4(n,t,e,i,r,s,c){let h;const p=ph(n.visibleWrites,t),_=dp(p,Nn());if(null!=_)h=_;else{if(null==e)return[];h=p_(p,e)}if(h=h.withIndex(c),h.isEmpty()||h.isLeafNode())return[];{const w=[],T=c.getCompare(),A=s?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let F=A.getNext();for(;F&&w.length<r;)0!==T(F,i)&&w.push(F),F=A.getNext();return w}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function RB(n,t,e,i,r,s){const c=t.eventCache;if(null!=BI(i,e))return t;{let h,p;if(ln(e))if((0,U.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=up(t),T=_R(i,_ instanceof Xt?_:Xt.EMPTY_NODE);h=n.filter.updateFullNode(t.eventCache.getNode(),T,s)}else{const _=LI(i,up(t));h=n.filter.updateFullNode(t.eventCache.getNode(),_,s)}else{const _=an(e);if(".priority"===_){(0,U.hu)(1===hh(e),"Can't have a priority with additional path components");const w=c.getNode();p=t.serverCache.getNode();const T=xB(i,e,w,p);h=null!=T?n.filter.updatePriority(w,T):c.getNode()}else{const w=ti(e);let T;if(c.isCompleteForChild(_)){p=t.serverCache.getNode();const A=xB(i,e,c.getNode(),p);T=null!=A?c.getNode().getImmediateChild(_).updateChild(w,A):c.getNode().getImmediateChild(_)}else T=yR(i,_,t.serverCache);h=null!=T?n.filter.updateChild(c.getNode(),_,T,w,r,s):c.getNode()}}return Ew(t,h,c.isFullyInitialized()||ln(e),n.filter.filtersNodes())}}function VI(n,t,e,i,r,s,c,h){const p=t.serverCache;let _;const w=c?n.filter:n.filter.getIndexedFilter();if(ln(e))_=w.updateFullNode(p.getNode(),i,null);else if(w.filtersNodes()&&!p.isFiltered()){const F=p.getNode().updateChild(e,i);_=w.updateFullNode(p.getNode(),F,null)}else{const F=an(e);if(!p.isCompleteForPath(e)&&hh(e)>1)return t;const B=ti(e),we=p.getNode().getImmediateChild(F).updateChild(B,i);_=".priority"===F?w.updatePriority(p.getNode(),we):w.updateChild(p.getNode(),F,we,B,kB,null)}const T=CB(t,_,p.isFullyInitialized()||ln(e),w.filtersNodes());return RB(n,T,e,r,new vR(r,T,s),h)}function bR(n,t,e,i,r,s,c){const h=t.eventCache;let p,_;const w=new vR(r,t,s);if(ln(e))_=n.filter.updateFullNode(t.eventCache.getNode(),i,c),p=Ew(t,_,!0,n.filter.filtersNodes());else{const T=an(e);if(".priority"===T)_=n.filter.updatePriority(t.eventCache.getNode(),i),p=Ew(t,_,h.isFullyInitialized(),h.isFiltered());else{const A=ti(e),F=h.getNode().getImmediateChild(T);let B;if(ln(A))B=i;else{const ae=w.getCompleteChild(T);B=null!=ae?".priority"===Kk(A)&&ae.getChild(rB(A)).isEmpty()?ae:ae.updateChild(A,i):Xt.EMPTY_NODE}p=F.equals(B)?t:Ew(t,n.filter.updateChild(h.getNode(),T,B,A,w,c),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function OB(n,t){return n.eventCache.isCompleteForChild(t)}function PB(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function wR(n,t,e,i,r,s,c,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let _,p=t;_=ln(e)?i:new ci(null).setTree(e,i);const w=t.serverCache.getNode();return _.children.inorderTraversal((T,A)=>{if(w.hasChild(T)){const B=PB(0,t.serverCache.getNode().getImmediateChild(T),A);p=VI(n,p,new Hn(T),B,r,s,c,h)}}),_.children.inorderTraversal((T,A)=>{const F=!t.serverCache.isCompleteForChild(T)&&void 0===A.value;if(!w.hasChild(T)&&!F){const ae=PB(0,t.serverCache.getNode().getImmediateChild(T),A);p=VI(n,p,new Hn(T),ae,r,s,c,h)}}),p}class g4{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new sR(i.getIndex()),s=function Aq(n){return n.loadsAllData()?new sR(n.getIndex()):n.hasLimit()?new xq(n):new bw(n)}(i);this.processor_=function a4(n){return{filter:n}}(s);const c=e.serverCache,h=e.eventCache,p=r.updateFullNode(Xt.EMPTY_NODE,c.getNode(),null),_=s.updateFullNode(Xt.EMPTY_NODE,h.getNode(),null),w=new fh(p,c.isFullyInitialized(),r.filtersNodes()),T=new fh(_,h.isFullyInitialized(),s.filtersNodes());this.viewCache_=PI(T,w),this.eventGenerator_=new Uq(this.query_)}get query(){return this.query_}}function y4(n,t){const e=up(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!ln(t)&&!e.getImmediateChild(an(t)).isEmpty())?e.getChild(t):null}function NB(n){return 0===n.eventRegistrations_.length}function FB(n,t,e){const i=[];if(e){(0,U.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function LB(n,t,e,i){t.type===Ya.MERGE&&null!==t.source.queryId&&((0,U.hu)(up(n.viewCache_),"We should always have a full cache before handling merges"),(0,U.hu)(NI(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function c4(n,t,e,i,r){const s=new s4;let c,h;if(e.type===Ya.OVERWRITE){const _=e;_.source.fromUser?c=bR(n,t,_.path,_.snap,i,r,s):((0,U.hu)(_.source.fromServer,"Unknown source."),h=_.source.tagged||t.serverCache.isFiltered()&&!ln(_.path),c=VI(n,t,_.path,_.snap,i,r,h,s))}else if(e.type===Ya.MERGE){const _=e;_.source.fromUser?c=function d4(n,t,e,i,r,s,c){let h=t;return i.foreach((p,_)=>{const w=Ii(e,p);OB(t,an(w))&&(h=bR(n,h,w,_,r,s,c))}),i.foreach((p,_)=>{const w=Ii(e,p);OB(t,an(w))||(h=bR(n,h,w,_,r,s,c))}),h}(n,t,_.path,_.children,i,r,s):((0,U.hu)(_.source.fromServer,"Unknown source."),h=_.source.tagged||t.serverCache.isFiltered(),c=wR(n,t,_.path,_.children,i,r,h,s))}else if(e.type===Ya.ACK_USER_WRITE){const _=e;c=_.revert?function p4(n,t,e,i,r,s){let c;if(null!=BI(i,e))return t;{const h=new vR(i,t,r),p=t.eventCache.getNode();let _;if(ln(e)||".priority"===an(e)){let w;if(t.serverCache.isFullyInitialized())w=LI(i,up(t));else{const T=t.serverCache.getNode();(0,U.hu)(T instanceof Xt,"serverChildren would be complete if leaf node"),w=_R(i,T)}w=w,_=n.filter.updateFullNode(p,w,s)}else{const w=an(e);let T=yR(i,w,t.serverCache);null==T&&t.serverCache.isCompleteForChild(w)&&(T=p.getImmediateChild(w)),_=null!=T?n.filter.updateChild(p,w,T,ti(e),h,s):t.eventCache.getNode().hasChild(w)?n.filter.updateChild(p,w,Xt.EMPTY_NODE,ti(e),h,s):p,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=LI(i,up(t)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,s)))}return c=t.serverCache.isFullyInitialized()||null!=BI(i,Nn()),Ew(t,_,c,n.filter.filtersNodes())}}(n,t,_.path,i,r,s):function h4(n,t,e,i,r,s,c){if(null!=BI(r,e))return t;const h=t.serverCache.isFiltered(),p=t.serverCache;if(null!=i.value){if(ln(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return VI(n,t,e,p.getNode().getChild(e),r,s,h,c);if(ln(e)){let _=new ci(null);return p.getNode().forEachChild(Uc,(w,T)=>{_=_.set(new Hn(w),T)}),wR(n,t,e,_,r,s,h,c)}return t}{let _=new ci(null);return i.foreach((w,T)=>{const A=Ii(e,w);p.isCompleteForPath(A)&&(_=_.set(w,p.getNode().getChild(A)))}),wR(n,t,e,_,r,s,h,c)}}(n,t,_.path,_.affectedTree,i,r,s)}else{if(e.type!==Ya.LISTEN_COMPLETE)throw(0,U.g5)("Unknown operation type: "+e.type);c=function f4(n,t,e,i,r){const s=t.serverCache;return RB(n,CB(t,s.getNode(),s.isFullyInitialized()||ln(e),s.isFiltered()),e,i,kB,r)}(n,t,e.path,i,s)}const p=s.getChanges();return function u4(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=NI(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(yB(NI(t)))}}(t,c,p),{viewCache:c,changes:p}}(n.processor_,r,t,e,i);return function l4(n,t){(0,U.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,U.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,U.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,BB(n,s.changes,s.viewCache.eventCache.getNode(),null)}function BB(n,t,e,i){return function Hq(n,t,e,i){const r=[],s=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function Sq(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),Cw(n,r,"child_removed",t,i,e),Cw(n,r,"child_added",t,i,e),Cw(n,r,"child_moved",s,i,e),Cw(n,r,"child_changed",t,i,e),Cw(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let UI,jI;class VB{constructor(){this.views=new Map}}function CR(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,U.hu)(null!=s,"SyncTree gave us an op for an invalid query."),LB(s,t,e,i)}{let s=[];for(const c of n.views.values())s=s.concat(LB(c,t,e,i));return s}}function UB(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let h=LI(e,r?i:null),p=!1;h?p=!0:i instanceof Xt?(h=_R(e,i),p=!1):(h=Xt.EMPTY_NODE,p=!1);const _=PI(new fh(h,p,!1),new fh(i,r,!1));return new g4(t,_)}return c}function HB(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function gh(n,t){let e=null;for(const i of n.views.values())e=e||y4(i,t);return e}function jB(n,t){return t._queryParams.loadsAllData()?HI(n):n.views.get(t._queryIdentifier)}function zB(n,t){return null!=jB(n,t)}function mh(n){return null!=HI(n)}function HI(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let x4=1;class GB{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ci(null),this.pendingWriteTree_=function i4(){return{visibleWrites:Ul.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ER(n,t,e,i,r){return function $q(n,t,e,i,r){(0,U.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=Tw(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?g_(n,new cp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function _h(n,t,e=!1){const i=function qq(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function Zq(n,t){const e=n.allWrites.findIndex(h=>h.writeId===t);(0,U.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=e&&Yq(h,i.path)?r=!1:Za(i.path,h.path)&&(s=!0)),c--}return!!r&&(s?(function Kq(n){n.visibleWrites=DB(n.allWrites,Qq,Nn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=EB(n.visibleWrites,i.path):Vr(i.children,p=>{n.visibleWrites=EB(n.visibleWrites,Ii(i.path,p))}),!0))}(n.pendingWriteTree_,t)){let s=new ci(null);return null!=i.snap?s=s.set(Nn(),!0):Vr(i.children,c=>{s=s.set(new Hn(c),!0)}),g_(n,new OI(i.path,s,e))}return[]}function Iw(n,t,e){return g_(n,new cp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function TR(n,t,e,i){const r=t._path,s=n.syncPointTree_.get(r);let c=[];if(s&&("default"===t._queryIdentifier||zB(s,t))){const h=function I4(n,t,e,i){const r=t._queryIdentifier,s=[];let c=[];const h=mh(n);if("default"===r)for(const[p,_]of n.views.entries())c=c.concat(FB(_,e,i)),NB(_)&&(n.views.delete(p),_.query._queryParams.loadsAllData()||s.push(_.query));else{const p=n.views.get(r);p&&(c=c.concat(FB(p,e,i)),NB(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return h&&!mh(n)&&s.push(new(function C4(){return(0,U.hu)(UI,"Reference.ts has not been loaded"),UI}())(t._repo,t._path)),{removed:s,events:c}}(s,t,e,i);(function E4(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const p=h.removed;c=h.events;const _=-1!==p.findIndex(T=>T._queryParams.loadsAllData()),w=n.syncPointTree_.findOnPath(r,(T,A)=>mh(A));if(_&&!w){const T=n.syncPointTree_.subtree(r);if(!T.isEmpty()){const A=function F4(n){return n.fold((t,e,i)=>{if(e&&mh(e))return[HI(e)];{let r=[];return e&&(r=HB(e)),Vr(i,(s,c)=>{r=r.concat(c)}),r}})}(T);for(let F=0;F<A.length;++F){const B=A[F],ae=B.query,we=ZB(n,B);n.listenProvider_.startListening(Dw(ae),GI(n,ae),we.hashFn,we.onComplete)}}}!w&&p.length>0&&!i&&(_?n.listenProvider_.stopListening(Dw(t),null):p.forEach(T=>{const A=n.queryToTagMap.get($I(T));n.listenProvider_.stopListening(Dw(T),A)})),function L4(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=$I(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,p)}return c}function $B(n,t,e){const i=t._path;let r=null,s=!1;n.syncPointTree_.foreachOnPath(i,(T,A)=>{const F=io(T,i);r=r||gh(A,F),s=s||mh(A)});let h,c=n.syncPointTree_.get(i);c?(s=s||mh(c),r=r||gh(c,Nn())):(c=new VB,n.syncPointTree_=n.syncPointTree_.set(i,c)),null!=r?h=!0:(h=!1,r=Xt.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((A,F)=>{const B=gh(F,Nn());B&&(r=r.updateImmediateChild(A,B))}));const p=zB(c,t);if(!p&&!t._queryParams.loadsAllData()){const T=$I(t);(0,U.hu)(!n.queryToTagMap.has(T),"View does not exist, but we have a tag");const A=function B4(){return x4++}();n.queryToTagMap.set(T,A),n.tagToQueryMap.set(A,T)}let w=function T4(n,t,e,i,r,s){const c=UB(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function v4(n,t){n.eventRegistrations_.push(t)}(c,e),function b4(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(li,(s,c)=>{i.push(d_(s,c))}),e.isFullyInitialized()&&i.push(yB(e.getNode())),BB(n,i,e.getNode(),t)}(c,e)}(c,t,e,FI(n.pendingWriteTree_,i),r,h);if(!p&&!s){const T=jB(c,t);w=w.concat(function V4(n,t,e){const i=t._path,r=GI(n,t),s=ZB(n,e),c=n.listenProvider_.startListening(Dw(t),r,s.hashFn,s.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,U.hu)(!mh(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((_,w,T)=>{if(!ln(_)&&w&&mh(w))return[HI(w).query];{let A=[];return w&&(A=A.concat(HB(w).map(F=>F.query))),Vr(T,(F,B)=>{A=A.concat(B)}),A}});for(let _=0;_<p.length;++_){const w=p[_];n.listenProvider_.stopListening(Dw(w),GI(n,w))}}return c}(n,t,T))}return w}function zI(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(c,h)=>{const _=gh(h,io(c,t));if(_)return _});return SB(r,t,s,e,!0)}function g_(n,t){return WB(t,n.syncPointTree_,null,FI(n.pendingWriteTree_,Nn()))}function WB(n,t,e,i){if(ln(n.path))return qB(n,t,e,i);{const r=t.get(Nn());null==e&&null!=r&&(e=gh(r,Nn()));let s=[];const c=an(n.path),h=n.operationForChild(c),p=t.children.get(c);if(p&&h){const _=e?e.getImmediateChild(c):null,w=AB(i,c);s=s.concat(WB(h,p,_,w))}return r&&(s=s.concat(CR(r,n,i,e))),s}}function qB(n,t,e,i){const r=t.get(Nn());null==e&&null!=r&&(e=gh(r,Nn()));let s=[];return t.children.inorderTraversal((c,h)=>{const p=e?e.getImmediateChild(c):null,_=AB(i,c),w=n.operationForChild(c);w&&(s=s.concat(qB(w,h,p,_)))}),r&&(s=s.concat(CR(r,n,i,e))),s}function ZB(n,t){const e=t.query,i=GI(n,e);return{hashFn:()=>(function m4(n){return n.viewCache_.serverCache.getNode()}(t)||Xt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function R4(n,t,e){const i=IR(n,e);if(i){const r=DR(i),s=r.path,c=r.queryId,h=io(s,t);return SR(n,s,new ww(hR(c),h))}return[]}(n,e._path,i):function k4(n,t){return g_(n,new ww({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function MW(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return TR(n,e,null,s)}}}}function GI(n,t){const e=$I(t);return n.queryToTagMap.get(e)}function $I(n){return n._path.toString()+"$"+n._queryIdentifier}function IR(n,t){return n.tagToQueryMap.get(t)}function DR(n){const t=n.indexOf("$");return(0,U.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Hn(n.substr(0,t))}}function SR(n,t,e){const i=n.syncPointTree_.get(t);return(0,U.hu)(i,"Missing sync point for query tag that we're tracking"),CR(i,e,FI(n.pendingWriteTree_,t),null)}function Dw(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function S4(){return(0,U.hu)(jI,"Reference.ts has not been loaded"),jI}())(n._repo,n._path):n}class xR{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new xR(e)}node(){return this.node_}}class AR{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Ii(this.path_,t);return new AR(this.syncTree_,e)}node(){return zI(this.syncTree_,this.path_)}}const YB=function(n,t,e){return n&&"object"==typeof n?((0,U.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?H4(n[".sv"],t,e):"object"==typeof n[".sv"]?j4(n[".sv"],t):void(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},H4=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,U.hu)(!1,"Unexpected server value: "+n)},j4=function(n,t,e){n.hasOwnProperty("increment")||(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,U.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,U.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},KB=function(n,t,e,i){return kR(t,new AR(e,n),i)},MR=function(n,t,e){return kR(n,new xR(t),e)};function kR(n,t,e){const i=n.getPriority().val(),r=YB(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const c=n,h=YB(c.getValue(),t,e);return h!==c.getValue()||r!==c.getPriority().val()?new l_(h,Fi(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new l_(r))),c.forEachChild(li,(h,p)=>{const _=kR(p,t.getImmediateChild(h),e);_!==p&&(s=s.updateImmediateChild(h,_))}),s}}class RR{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function WI(n,t){let e=t instanceof Hn?t:new Hn(t),i=n,r=an(e);for(;null!==r;){const s=(0,U.DV)(i.node.children,r)||{children:{},childCount:0};i=new RR(r,i,s),e=ti(e),r=an(e)}return i}function hp(n){return n.node.value}function OR(n,t){n.node.value=t,PR(n)}function QB(n){return n.node.childCount>0}function qI(n,t){Vr(n.node.children,(e,i)=>{t(new RR(e,n,i))})}function JB(n,t,e,i){e&&!i&&t(n),qI(n,r=>{JB(r,t,!0,i)}),e&&i&&t(n)}function Sw(n){return new Hn(null===n.parent?n.name:Sw(n.parent)+"/"+n.name)}function PR(n){null!==n.parent&&function $4(n,t,e){const i=function z4(n){return void 0===hp(n)&&!QB(n)}(e),r=(0,U.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,PR(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,PR(n))}(n.parent,n.name,n)}const W4=/[\[\].#$\/\u0000-\u001F\u007F]/,q4=/[\[\].#$\u0000-\u001F\u007F]/,NR=10485760,ZI=function(n){return"string"==typeof n&&0!==n.length&&!W4.test(n)},XB=function(n){return"string"==typeof n&&0!==n.length&&!q4.test(n)},xw=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!bI(n)||n&&"object"==typeof n&&(0,U.r3)(n,".sv")},Hc=function(n,t,e,i){i&&void 0===t||Aw((0,U.gK)(n,"value"),t,e)},Aw=function(n,t,e){const i=e instanceof Hn?new aq(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+ap(i));if("function"==typeof t)throw new Error(n+"contains a function "+ap(i)+" with contents = "+t.toString());if(bI(t))throw new Error(n+"contains "+t.toString()+" "+ap(i));if("string"==typeof t&&t.length>NR/3&&(0,U.ug)(t)>NR)throw new Error(n+"contains a string greater than "+NR+" utf8 bytes "+ap(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(Vr(t,(c,h)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!ZI(c)))throw new Error(n+" contains an invalid key ("+c+") "+ap(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function lq(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,U.ug)(t),sB(n)})(i,c),Aw(n,h,i),function cq(n){const t=n.parts_.pop();n.byteLength_-=(0,U.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+ap(i)+" in addition to actual children.")}},eV=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,U.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];Vr(t,(c,h)=>{const p=new Hn(c);if(Aw(r,h,Ii(e,p)),".priority"===Kk(p)&&!xw(h))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=pw(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!ZI(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(oq);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Za(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},FR=function(n,t,e){if(!e||void 0!==t){if(bI(t))throw new Error((0,U.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!xw(t))throw new Error((0,U.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Mw=function(n,t,e,i){if(!(i&&void 0===e||ZI(e)))throw new Error((0,U.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},kw=function(n,t,e,i){if(!(i&&void 0===e||XB(e)))throw new Error((0,U.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ka=function(n,t){if(".info"===an(t))throw new Error(n+" failed = Can't modify data under /.info/")},tV=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!ZI(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),XB(n)}(e))throw new Error((0,U.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Q4{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function YI(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!Qk(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function LR(n,t,e){YI(n,e),nV(n,i=>Qk(i,t))}function Qa(n,t,e){YI(n,e),nV(n,i=>Za(i,t)||Za(t,i))}function nV(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(J4(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function J4(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();sp&&Br("event: "+e.toString()),o_(i)}}}const iV="repo_interrupt";class e5{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Q4,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=RI(),this.transactionQueueTree_=new RR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rV(n){const e=n.infoData_.getNode(new Hn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Rw(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:rV(n)})}function sV(n,t,e,i,r){n.dataUpdateCount++;const s=new Hn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const p=(0,U.UI)(e,_=>Fi(_));c=function P4(n,t,e,i){const r=IR(n,i);if(r){const s=DR(r),c=s.path,h=s.queryId,p=io(c,t),_=ci.fromObject(e);return SR(n,c,new f_(hR(h),p,_))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=Fi(e);c=function O4(n,t,e,i){const r=IR(n,i);if(null!=r){const s=DR(r),c=s.path,h=s.queryId,p=io(c,t);return SR(n,c,new cp(hR(h),p,e))}return[]}(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,U.UI)(e,_=>Fi(_));c=function M4(n,t,e){const i=ci.fromObject(e);return g_(n,new f_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,p)}else{const p=Fi(e);c=Iw(n.serverSyncTree_,s,p)}let h=s;c.length>0&&(h=__(n,s)),Qa(n.eventQueue_,h,c)}function oV(n,t){BR(n,"connected",t),!1===t&&function o5(n){m_(n,"onDisconnectEvents");const t=Rw(n),e=RI();cR(n.onDisconnect_,Nn(),(r,s)=>{const c=KB(r,s,n.serverSyncTree_,t);h_(e,r,c)});let i=[];cR(e,Nn(),(r,s)=>{i=i.concat(Iw(n.serverSyncTree_,r,s));const c=jR(n,r);__(n,c)}),n.onDisconnect_=RI(),Qa(n.eventQueue_,Nn(),i)}(n)}function BR(n,t,e){const i=new Hn("/.info/"+t),r=Fi(e);n.infoData_.updateSnapshot(i,r);const s=Iw(n.infoSyncTree_,i,r);Qa(n.eventQueue_,i,s)}function KI(n){return n.nextWriteId_++}function VR(n,t,e,i,r){m_(n,"set",{path:t.toString(),value:e,priority:i});const s=Rw(n),c=Fi(e,i),h=zI(n.serverSyncTree_,t),p=MR(c,h,s),_=KI(n),w=ER(n.serverSyncTree_,t,p,_,!0);YI(n.eventQueue_,w),n.server_.put(t.toString(),c.val(!0),(A,F)=>{const B="ok"===A;B||As("set at "+t+" failed: "+A);const ae=_h(n.serverSyncTree_,_,!B);Qa(n.eventQueue_,t,ae),yh(0,r,A,F)});const T=jR(n,t);__(n,T),Qa(n.eventQueue_,T,[])}function a5(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&lR(n.onDisconnect_,t),yh(0,e,i,r)})}function aV(n,t,e,i){const r=Fi(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,c)=>{"ok"===s&&h_(n.onDisconnect_,t,r),yh(0,i,s,c)})}function UR(n,t,e){let i;i=".info"===an(t._path)?TR(n.infoSyncTree_,t,e):TR(n.serverSyncTree_,t,e),LR(n.eventQueue_,t._path,i)}function lV(n){n.persistentConnection_&&n.persistentConnection_.interrupt(iV)}function m_(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Br(e,...t)}function yh(n,t,e,i){t&&o_(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,t(c)}})}function HR(n,t,e){return zI(n.serverSyncTree_,t,e)||Xt.EMPTY_NODE}function QI(n,t=n.transactionQueueTree_){if(t||JI(n,t),hp(t)){const e=uV(n,t);(0,U.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function f5(n,t,e){const i=e.map(_=>_.currentWriteId),r=HR(n,t,i);let s=r;const c=r.hash();for(let _=0;_<e.length;_++){const w=e[_];(0,U.hu)(0===w.status,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const T=io(t,w.path);s=s.updateChild(T,w.currentOutputSnapshotRaw)}const h=s.val(!0),p=t;n.server_.put(p.toString(),h,_=>{m_(n,"transaction put response",{path:p.toString(),status:_});let w=[];if("ok"===_){const T=[];for(let A=0;A<e.length;A++)e[A].status=2,w=w.concat(_h(n.serverSyncTree_,e[A].currentWriteId)),e[A].onComplete&&T.push(()=>e[A].onComplete(null,!0,e[A].currentOutputSnapshotResolved)),e[A].unwatcher();JI(n,WI(n.transactionQueueTree_,t)),QI(n,n.transactionQueueTree_),Qa(n.eventQueue_,t,w);for(let A=0;A<T.length;A++)o_(T[A])}else{if("datastale"===_)for(let T=0;T<e.length;T++)e[T].status=3===e[T].status?4:0;else{As("transaction at "+p.toString()+" failed: "+_);for(let T=0;T<e.length;T++)e[T].status=4,e[T].abortReason=_}__(n,t)}},c)}(n,Sw(t),e)}else QB(t)&&qI(t,e=>{QI(n,e)})}function __(n,t){const e=cV(n,t),i=Sw(e);return function p5(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const p=t[h],_=io(e,p.path);let T,w=!1;if((0,U.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)w=!0,T=p.abortReason,r=r.concat(_h(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)w=!0,T="maxretry",r=r.concat(_h(n.serverSyncTree_,p.currentWriteId,!0));else{const A=HR(n,p.path,c);p.currentInputSnapshot=A;const F=t[h].update(A.val());if(void 0!==F){Aw("transaction failed: Data returned ",F,p.path);let B=Fi(F);"object"==typeof F&&null!=F&&(0,U.r3)(F,".priority")||(B=B.updatePriority(A.getPriority()));const we=p.currentWriteId,$e=Rw(n),Je=MR(B,A,$e);p.currentOutputSnapshotRaw=B,p.currentOutputSnapshotResolved=Je,p.currentWriteId=KI(n),c.splice(c.indexOf(we),1),r=r.concat(ER(n.serverSyncTree_,p.path,Je,p.currentWriteId,p.applyLocally)),r=r.concat(_h(n.serverSyncTree_,we,!0))}else w=!0,T="nodata",r=r.concat(_h(n.serverSyncTree_,p.currentWriteId,!0))}Qa(n.eventQueue_,e,r),r=[],w&&(t[h].status=2,setTimeout(t[h].unwatcher,Math.floor(0)),t[h].onComplete&&i.push("nodata"===T?()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot):()=>t[h].onComplete(new Error(T),!1,null)))}JI(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)o_(i[h]);QI(n,n.transactionQueueTree_)}(n,uV(n,e),i),i}function cV(n,t){let e,i=n.transactionQueueTree_;for(e=an(t);null!==e&&void 0===hp(i);)i=WI(i,e),e=an(t=ti(t));return i}function uV(n,t){const e=[];return dV(n,t,e),e.sort((i,r)=>i.order-r.order),e}function dV(n,t,e){const i=hp(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);qI(t,r=>{dV(n,r,e)})}function JI(n,t){const e=hp(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,OR(t,e.length>0?e:void 0)}qI(t,i=>{JI(n,i)})}function jR(n,t){const e=Sw(cV(n,t)),i=WI(n.transactionQueueTree_,t);return function G4(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{zR(n,r)}),zR(n,i),JB(i,r=>{zR(n,r)}),e}function zR(n,t){const e=hp(t);if(e){const i=[];let r=[],s=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,U.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,e[c].status=3,e[c].abortReason="set"):((0,U.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(_h(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?OR(t,void 0):e.length=s+1,Qa(n.eventQueue_,Sw(t),r);for(let c=0;c<i.length;c++)o_(i[c])}}const GR=function(n,t){const e=_5(n),i=e.namespace;return"firebase.com"===e.domain&&Bc(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Bc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&As("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Gk(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Hn(e.pathString)}},_5=function(n){let t="",e="",i="",r="",s="",c=!0,h="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(h=n.substring(0,_-1),n=n.substring(_+2));let w=n.indexOf("/");-1===w&&(w=n.length);let T=n.indexOf("?");-1===T&&(T=n.length),t=n.substring(0,Math.min(w,T)),w<T&&(r=function g5(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}t+="/"+r}return t}(n.substring(w,T)));const A=function m5(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):As(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,T)));_=t.indexOf(":"),_>=0?(c="https"===h||"wss"===h,p=parseInt(t.substring(_+1),10)):_=t.length;const F=t.slice(0,_);if("localhost"===F.toLowerCase())e="localhost";else if(F.split(".").length<=2)e=F;else{const B=t.indexOf(".");i=t.substring(0,B).toLowerCase(),e=t.substring(B+1),s=i}"ns"in A&&(s=A.ns)}return{host:t,port:p,domain:e,subdomain:i,secure:c,scheme:h,pathString:r,namespace:s}};class hV{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,U.Pz)(this.snapshot.exportVal())}}class fV{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class pV{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,U.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class gV{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new U.BH;return a5(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ka("OnDisconnect.remove",this._path);const t=new U.BH;return aV(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ka("OnDisconnect.set",this._path),Hc("OnDisconnect.set",t,this._path,!1);const e=new U.BH;return aV(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ka("OnDisconnect.setWithPriority",this._path),Hc("OnDisconnect.setWithPriority",t,this._path,!1),FR("OnDisconnect.setWithPriority",e,!1);const i=new U.BH;return function l5(n,t,e,i,r){const s=Fi(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(c,h)=>{"ok"===c&&h_(n.onDisconnect_,t,s),yh(0,r,c,h)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Ka("OnDisconnect.update",this._path),eV("OnDisconnect.update",t,this._path,!1);const e=new U.BH;return function c5(n,t,e,i){if((0,U.xb)(e))return Br("onDisconnect().update() called with empty data.  Don't do anything."),void yh(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&Vr(e,(c,h)=>{const p=Fi(h);h_(n.onDisconnect_,Ii(t,c),p)}),yh(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Po{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return ln(this._path)?null:Kk(this._path)}get ref(){return new Ja(this._repo,this._path)}get _queryIdentifier(){const t=bB(this._queryParams),e=Hk(t);return"{}"===e?"default":e}get _queryObject(){return bB(this._queryParams)}isEqual(t){if(!((t=(0,U.m9)(t))instanceof Po))return!1;const e=this._repo===t._repo,i=Qk(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function sq(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function XI(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function vh(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Uc){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Gu)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Vc)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===li){if(null!=t&&!xw(t)||null!=e&&!xw(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,U.hu)(n.getIndex()instanceof nR||n.getIndex()===iR,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function eD(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ja extends Po{constructor(t,e){super(t,e,new AI,!1)}get parent(){const t=rB(this._path);return null===t?null:new Ja(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class fp{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Hn(t),i=pp(this.ref,t);return new fp(this._node.getChild(e),i,li)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new fp(r,pp(this.ref,i),li)))}hasChild(t){const e=new Hn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function mV(n,t){return(n=(0,U.m9)(n))._checkNotDeleted("ref"),void 0!==t?pp(n._root,t):n._root}function _V(n,t){(n=(0,U.m9)(n))._checkNotDeleted("refFromURL");const e=GR(t,n._repo.repoInfo_.nodeAdmin);tV("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Bc("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),mV(n,e.path.toString())}function pp(n,t){return null===an((n=(0,U.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),kw("child","path",e,!1)):kw("child","path",t,!1),new Ja(n._repo,Ii(n._path,t));var e}function $R(n,t){n=(0,U.m9)(n),Ka("set",n._path),Hc("set",t,n._path,!1);const e=new U.BH;return VR(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function C5(n,t){eV("update",t,n._path,!1);const e=new U.BH;return function s5(n,t,e,i){m_(n,"update",{path:t.toString(),value:e});let r=!0;const s=Rw(n),c={};if(Vr(e,(h,p)=>{r=!1,c[h]=KB(Ii(t,h),Fi(p),n.serverSyncTree_,s)}),r)Br("update() called with empty data.  Don't do anything."),yh(0,i,"ok",void 0);else{const h=KI(n),p=function A4(n,t,e,i){!function Wq(n,t,e,i){(0,U.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=pR(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=ci.fromObject(e);return g_(n,new f_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,h);YI(n.eventQueue_,p),n.server_.merge(t.toString(),e,(_,w)=>{const T="ok"===_;T||As("update at "+t+" failed: "+_);const A=_h(n.serverSyncTree_,h,!T),F=A.length>0?__(n,t):t;Qa(n.eventQueue_,F,A),yh(0,i,_,w)}),Vr(e,_=>{const w=jR(n,Ii(t,_));__(n,w)}),Qa(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function E5(n){return function r5(n,t){const e=function N4(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(_,w)=>{const T=io(_,e);i=i||gh(w,T)});let r=n.syncPointTree_.get(e);r?i=i||gh(r,Nn()):(r=new VB,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,c=s?new fh(i,!0,!1):null;return function _4(n){return NI(n.viewCache_)}(UB(r,t,FI(n.pendingWriteTree_,t._path),s?c.getNode():Xt.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const r=Fi(i).withIndex(t._queryParams.getIndex()),s=Iw(n.serverSyncTree_,t._path,r);return LR(n.eventQueue_,t._path,s),Promise.resolve(r)},i=>(m_(n,"get for query "+(0,U.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,U.m9)(n))._repo,n).then(t=>new fp(t,new Ja(n._repo,n._path),n._queryParams.getIndex()))}class tD{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new hV("value",this,new fp(t.snapshotNode,new Ja(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new fV(this,t,e):null}matches(t){return t instanceof tD&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class nD{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new fV(this,t,e):null}createEvent(t,e){(0,U.hu)(null!=t.childName,"Child events should have a childName.");const i=pp(new Ja(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new hV(t.type,this,new fp(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof nD&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Ow(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=e,_=(w,T)=>{UR(n._repo,n,h),p(w,T)};_.userCallback=e.userCallback,_.context=e.context,e=_}const c=new pV(e,s||void 0),h="value"===t?new tD(c):new nD(t,c);return function u5(n,t,e){let i;i=".info"===an(t._path)?$B(n.infoSyncTree_,t,e):$B(n.serverSyncTree_,t,e),LR(n.eventQueue_,t._path,i)}(n._repo,n,h),()=>UR(n._repo,n,h)}function WR(n,t,e,i){return Ow(n,"value",t,e,i)}function yV(n,t,e,i){return Ow(n,"child_added",t,e,i)}function vV(n,t,e,i){return Ow(n,"child_changed",t,e,i)}function bV(n,t,e,i){return Ow(n,"child_moved",t,e,i)}function wV(n,t,e,i){return Ow(n,"child_removed",t,e,i)}function CV(n,t,e){let i=null;const r=e?new pV(e):null;"value"===t?i=new tD(r):t&&(i=new nD(t,r)),UR(n._repo,n,i)}class Hl{}class EV extends Hl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Hc("endAt",this._value,t._path,!0);const e=aR(t._queryParams,this._value,this._key);if(eD(e),vh(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Po(t._repo,t._path,e,t._orderByCalled)}}class I5 extends Hl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Hc("endBefore",this._value,t._path,!1);const e=function Oq(n,t,e){let i,r;return n.index_===Uc?("string"==typeof t&&(t=_B(t)),r=aR(n,t,e)):(i=null==e?Gu:_B(e),r=aR(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(eD(e),vh(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Po(t._repo,t._path,e,t._orderByCalled)}}class TV extends Hl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Hc("startAt",this._value,t._path,!0);const e=oR(t._queryParams,this._value,this._key);if(eD(e),vh(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Po(t._repo,t._path,e,t._orderByCalled)}}class x5 extends Hl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Hc("startAfter",this._value,t._path,!1);const e=function Rq(n,t,e){let i;if(n.index_===Uc)"string"==typeof t&&(t=mB(t)),i=oR(n,t,e);else{let r;r=null==e?Vc:mB(e),i=oR(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(eD(e),vh(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Po(t._repo,t._path,e,t._orderByCalled)}}class M5 extends Hl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Po(t._repo,t._path,function Mq(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class R5 extends Hl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Po(t._repo,t._path,function kq(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class P5 extends Hl{constructor(t){super(),this._path=t}_apply(t){XI(t,"orderByChild");const e=new Hn(this._path);if(ln(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new nR(e),r=MI(t._queryParams,i);return vh(r),new Po(t._repo,t._path,r,!0)}}class F5 extends Hl{_apply(t){XI(t,"orderByKey");const e=MI(t._queryParams,Uc);return vh(e),new Po(t._repo,t._path,e,!0)}}class B5 extends Hl{_apply(t){XI(t,"orderByPriority");const e=MI(t._queryParams,li);return vh(e),new Po(t._repo,t._path,e,!0)}}class U5 extends Hl{_apply(t){XI(t,"orderByValue");const e=MI(t._queryParams,iR);return vh(e),new Po(t._repo,t._path,e,!0)}}class j5 extends Hl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Hc("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new EV(this._value,this._key)._apply(new TV(this._value,this._key)._apply(t))}}function jl(n,...t){let e=(0,U.m9)(n);for(const i of t)e=i._apply(e);return e}(function w4(n){(0,U.hu)(!UI,"__referenceConstructor has already been defined"),UI=n})(Ja),function D4(n){(0,U.hu)(!jI,"__referenceConstructor has already been defined"),jI=n}(Ja);const qR={};function DV(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Bc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Br("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,c=GR(s,r),h=c.repoInfo;"undefined"!=typeof process&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(p=!0,s=`http://${_}?ns=${h.namespace}`,c=GR(s,r),h=c.repoInfo):p=!c.repoInfo.secure;const w=r&&p?new fw(fw.OWNER):new PW(n.name,n.options,t);tV("Invalid Firebase Database URL",c),ln(c.path)||Bc("Database URL must point to the root of a Firebase Database (not including a child path).");const T=function q5(n,t,e,i){let r=qR[t.name];r||(r={},qR[t.name]=r);let s=r[n.toURLString()];return s&&Bc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new e5(n,false,e,i),r[n.toURLString()]=s,s}(h,n,w,new OW(n.name,e));return new Y5(T,n)}class Y5{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function t5(n,t,e){if(n.stats_=qk(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new kI(n.repoInfo_,(i,r,s,c)=>{sV(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>oV(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,U.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new lp(n.repoInfo_,t,(i,r,s,c)=>{sV(n,i,r,s,c)},i=>{oV(n,i)},i=>{!function n5(n,t){Vr(t,(e,i)=>{BR(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function LW(n,t){const e=n.toString();return Wk[e]||(Wk[e]=t()),Wk[e]}(n.repoInfo_,()=>new Vq(n.stats_,n.server_)),n.infoData_=new Pq,n.infoSyncTree_=new GB({startListening:(i,r,s,c)=>{let h=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(h=Iw(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),BR(n,"connected",!1),n.serverSyncTree_=new GB({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(h,p)=>{const _=c(h,p);Qa(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ja(this._repo,Nn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function W5(n,t){const e=qR[t];(!e||e[n.key]!==n)&&Bc(`Database ${t}(${n.repoInfo_}) has already been deleted.`),lV(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Bc("Cannot call "+t+" on a deleted database.")}}function SV(){W2.IS_TRANSPORT_INITIALIZED&&As("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function K5(){SV(),dh.forceDisallow()}function Q5(){SV(),a_.forceDisallow(),dh.forceAllow()}function t8(n,t){D2(n,t)}const i8={".sv":"timestamp"};class o8{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}lp.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},lp.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function n8(n){w2(Pi.SDK_VERSION),(0,Pi._registerComponent)(new qs.wA("database",(t,{instanceIdentifier:e})=>DV(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Pi.registerVersion)(v2,"0.13.0",n),(0,Pi.registerVersion)(v2,"0.13.0","esm2017")}();const u8=new bs.Yd("@firebase/database-compat"),xV=function(n){u8.warn("FIREBASE WARNING: "+n)};class f8{constructor(t){this._delegate=t}cancel(t){(0,U.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,U.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,U.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,U.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,U.Dv)("OnDisconnect.set",1,2,arguments.length),(0,U.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,U.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,U.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,U.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,xV("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,U.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class p8{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,U.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class bh{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,U.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,U.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,U.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,U.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,U.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),kw("DataSnapshot.child","path",t,!1),new bh(this._database,this._delegate.child(t))}hasChild(t){return(0,U.Dv)("DataSnapshot.hasChild",1,1,arguments.length),kw("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,U.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,U.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,U.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new bh(this._database,e)))}hasChildren(){return(0,U.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,U.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,U.Dv)("DataSnapshot.ref",0,0,arguments.length),new oa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class os{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,U.Dv)("Query.on",2,4,arguments.length),(0,U.Wj)("Query.on","callback",e,!1);const c=os.getCancelAndContextArgs_("Query.on",i,r),h=(_,w)=>{e.call(c.context,new bh(this.database,_),w)};h.userCallback=e,h.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(t){case"value":return WR(this._delegate,h,p),e;case"child_added":return yV(this._delegate,h,p),e;case"child_removed":return wV(this._delegate,h,p),e;case"child_changed":return vV(this._delegate,h,p),e;case"child_moved":return bV(this._delegate,h,p),e;default:throw new Error((0,U.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,U.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,U.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,U.Wj)("Query.off","callback",e,!0),(0,U.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,CV(this._delegate,t,r)}else CV(this._delegate,t)}get(){return E5(this._delegate).then(t=>new bh(this.database,t))}once(t,e,i,r){(0,U.Dv)("Query.once",1,4,arguments.length),(0,U.Wj)("Query.once","callback",e,!0);const s=os.getCancelAndContextArgs_("Query.once",i,r),c=new U.BH,h=(_,w)=>{const T=new bh(this.database,_);e&&e.call(s.context,T,w),c.resolve(T)};h.userCallback=e,h.context=s.context;const p=_=>{s.cancel&&s.cancel.call(s.context,_),c.reject(_)};switch(t){case"value":WR(this._delegate,h,p,{onlyOnce:!0});break;case"child_added":yV(this._delegate,h,p,{onlyOnce:!0});break;case"child_removed":wV(this._delegate,h,p,{onlyOnce:!0});break;case"child_changed":vV(this._delegate,h,p,{onlyOnce:!0});break;case"child_moved":bV(this._delegate,h,p,{onlyOnce:!0});break;default:throw new Error((0,U.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,U.Dv)("Query.limitToFirst",1,1,arguments.length),new os(this.database,jl(this._delegate,function k5(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new M5(n)}(t)))}limitToLast(t){return(0,U.Dv)("Query.limitToLast",1,1,arguments.length),new os(this.database,jl(this._delegate,function O5(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new R5(n)}(t)))}orderByChild(t){return(0,U.Dv)("Query.orderByChild",1,1,arguments.length),new os(this.database,jl(this._delegate,function N5(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return kw("orderByChild","path",n,!1),new P5(n)}(t)))}orderByKey(){return(0,U.Dv)("Query.orderByKey",0,0,arguments.length),new os(this.database,jl(this._delegate,function L5(){return new F5}()))}orderByPriority(){return(0,U.Dv)("Query.orderByPriority",0,0,arguments.length),new os(this.database,jl(this._delegate,function V5(){return new B5}()))}orderByValue(){return(0,U.Dv)("Query.orderByValue",0,0,arguments.length),new os(this.database,jl(this._delegate,function H5(){return new U5}()))}startAt(t=null,e){return(0,U.Dv)("Query.startAt",0,2,arguments.length),new os(this.database,jl(this._delegate,function S5(n=null,t){return Mw("startAt","key",t,!0),new TV(n,t)}(t,e)))}startAfter(t=null,e){return(0,U.Dv)("Query.startAfter",0,2,arguments.length),new os(this.database,jl(this._delegate,function A5(n,t){return Mw("startAfter","key",t,!0),new x5(n,t)}(t,e)))}endAt(t=null,e){return(0,U.Dv)("Query.endAt",0,2,arguments.length),new os(this.database,jl(this._delegate,function T5(n,t){return Mw("endAt","key",t,!0),new EV(n,t)}(t,e)))}endBefore(t=null,e){return(0,U.Dv)("Query.endBefore",0,2,arguments.length),new os(this.database,jl(this._delegate,function D5(n,t){return Mw("endBefore","key",t,!0),new I5(n,t)}(t,e)))}equalTo(t,e){return(0,U.Dv)("Query.equalTo",1,2,arguments.length),new os(this.database,jl(this._delegate,function z5(n,t){return Mw("equalTo","key",t,!0),new j5(n,t)}(t,e)))}toString(){return(0,U.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,U.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,U.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof os))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,U.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,U.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,U.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new oa(this.database,new Ja(this._delegate._repo,this._delegate._path))}}class oa extends os{constructor(t,e){super(t,new Po(e._repo,e._path,new AI,!1)),this.database=t,this._delegate=e}getKey(){return(0,U.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,U.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new oa(this.database,pp(this._delegate,t))}getParent(){(0,U.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new oa(this.database,t):null}getRoot(){return(0,U.Dv)("Reference.root",0,0,arguments.length),new oa(this.database,this._delegate.root)}set(t,e){(0,U.Dv)("Reference.set",1,2,arguments.length),(0,U.Wj)("Reference.set","onComplete",e,!0);const i=$R(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,U.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,xV("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ka("Reference.update",this._delegate._path),(0,U.Wj)("Reference.update","onComplete",e,!0);const i=C5(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,U.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,U.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function w5(n,t,e){if(Ka("setWithPriority",n._path),Hc("setWithPriority",t,n._path,!1),FR("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new U.BH;return VR(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,U.Dv)("Reference.remove",0,1,arguments.length),(0,U.Wj)("Reference.remove","onComplete",t,!0);const e=function v5(n){return Ka("remove",n._path),$R(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,U.Dv)("Reference.transaction",1,3,arguments.length),(0,U.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,U.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,U.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function a8(n,t,e){var i;if(n=(0,U.m9)(n),Ka("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,s=new U.BH,h=WR(n,()=>{});return function h5(n,t,e,i,r,s){m_(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:E2(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=HR(n,t,void 0);c.currentInputSnapshot=h;const p=c.update(h.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Aw("transaction failed: Data returned ",p,c.path),c.status=0;const _=WI(n.transactionQueueTree_,t),w=hp(_)||[];let T;w.push(c),OR(_,w),"object"==typeof p&&null!==p&&(0,U.r3)(p,".priority")?(T=(0,U.DV)(p,".priority"),(0,U.hu)(xw(T),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):T=(zI(n.serverSyncTree_,t)||Xt.EMPTY_NODE).getPriority().val();const A=Rw(n),F=Fi(p,T),B=MR(F,h,A);c.currentOutputSnapshotRaw=F,c.currentOutputSnapshotResolved=B,c.currentWriteId=KI(n);const ae=ER(n.serverSyncTree_,t,B,c.currentWriteId,c.applyLocally);Qa(n.eventQueue_,t,ae),QI(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(p,_,w)=>{let T=null;p?s.reject(p):(T=new fp(w,new Ja(n._repo,n._path),li),s.resolve(new o8(_,T)))},h,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new p8(s.committed,new bh(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,U.Dv)("Reference.setPriority",1,2,arguments.length),(0,U.Wj)("Reference.setPriority","onComplete",e,!0);const i=function b5(n,t){n=(0,U.m9)(n),Ka("setPriority",n._path),FR("setPriority",t,!1);const e=new U.BH;return VR(n._repo,Ii(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,U.Dv)("Reference.push",0,2,arguments.length),(0,U.Wj)("Reference.push","onComplete",e,!0);const i=function y5(n,t){n=(0,U.m9)(n),Ka("push",n._path),Hc("push",t,n._path,!0);const e=rV(n._repo),i=Dq(e),r=pp(n,i),s=pp(n,i);let c;return c=null!=t?$R(s,t).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new oa(this.database,c));e&&r.then(()=>e(null),c=>e(c));const s=new oa(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Ka("Reference.onDisconnect",this._delegate._path),new f8(new gV(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Pw{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:K5,forceLongPolling:Q5}}useEmulator(t,e,i={}){!function J5(n,t,e,i={}){(n=(0,U.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Bc("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Bc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new fw(fw.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,U.Sg)(i.mockUserToken,n.app.options.projectId);s=new fw(c)}!function $5(n,t,e,i){n.repoInfo_=new Gk(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,U.Dv)("database.ref",0,1,arguments.length),t instanceof oa){const e=_V(this._delegate,t.toString());return new oa(this,e)}{const e=mV(this._delegate,t);return new oa(this,e)}}refFromURL(t){(0,U.Dv)("database.refFromURL",1,1,arguments.length);const i=_V(this._delegate,t);return new oa(this,i)}goOffline(){return(0,U.Dv)("database.goOffline",0,0,arguments.length),function X5(n){(n=(0,U.m9)(n))._checkNotDeleted("goOffline"),lV(n._repo)}(this._delegate)}goOnline(){return(0,U.Dv)("database.goOnline",0,0,arguments.length),function e8(n){(n=(0,U.m9)(n))._checkNotDeleted("goOnline"),function d5(n){n.persistentConnection_&&n.persistentConnection_.resume(iV)}(n._repo)}(this._delegate)}}Pw.ServerValue={TIMESTAMP:function r8(){return i8}(),increment:n=>function s8(n){return{".sv":{increment:n}}}(n)};var m8=Object.freeze({__proto__:null,initStandalone:function g8({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){w2(e);const c=new qs.zt("auth-internal",new qs.H0("database-standalone"));return c.setComponent(new qs.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Pw(DV(n,c,void 0,t,s),n),namespace:r}}});const _8=Pw.ServerValue;function AV(n){return null==n}function MV(n){return"function"==typeof n.set}function kV(n,t){return MV(t)?t:n.ref(t)}function RV(n,t){if(function v8(n){return"string"==typeof n}(n))return t.stringCase();if(MV(n))return t.firebaseCase();if(function b8(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Nw(n,t,e="on",i=Qd.z){return new ri.y(r=>{let s=null;return s=n[e](t,(c,h)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:h})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,gt.U)(r=>{const{snapshot:s,prevKey:c}=r;let h=null;return s.exists()&&(h=s.key),{type:t,payload:s,prevKey:c,key:h}}),(0,ic.B)())}function OV(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function E8(n,t){const{payload:e,prevKey:i,key:r}=t,s=OV(n,r),c=function C8(n,t){if(AV(t))return 0;{const e=OV(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let h=null;t.payload.forEach(p=>{const _={payload:p,type:"value",prevKey:h,key:p.key};return h=p.key,n=[...n,_],!1})}return n;case"child_added":if(s>-1){const h=n[s-1];(h&&h.key||null)!==i&&(n=n.filter(p=>p.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(h=>h.payload.key!==e.key);case"child_changed":return n.map(h=>h.payload.key===r?t:h);case"child_moved":if(s>-1){const h=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,h),n}return n;default:return n}}function PV(n){return(AV(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function NV(n,t,e){return function w8(n,t,e){return Nw(n,"value","once",e).pipe(En(i=>{const r=[ut(i)];return t.forEach(s=>r.push(Nw(n,s,"on",e))),(0,or.T)(...r).pipe(df(E8,[]))}),Rm())}(n,t=PV(t),e)}function FV(n,t,e){const i=(t=PV(t)).map(r=>Nw(n,r,"on",e));return(0,or.T)(...i)}function LV(n,t){return function(i,r){return RV(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function S8(n){return function(e){return e?RV(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function BV(n,t){return function(){return Nw(n,"value","on",t)}}!function y8(n){n.INTERNAL.registerComponent(new qs.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new Pw(r,i)},"PUBLIC").setServiceProps({Reference:oa,Query:os,Database:Pw,DataSnapshot:bh,enableLogging:t8,INTERNAL:m8,ServerValue:_8}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.0")}(y2.Z);const M8=new o.OlP("angularfire2.realtimeDatabaseURL"),k8=new o.OlP("angularfire2.database.use-emulator");let ZR=(()=>{class n{constructor(e,i,r,s,c,h,p,_,w,T,A,F,B,ae,we){this.schedulers=h;const $e=p,Je=(0,Oi.on)(e,c,i);_&&Js(Je,c,w,A,F,B,T,ae),this.database=(0,Oi.cc)(`${Je.name}.database.${r}`,"AngularFireDatabase",Je.name,()=>{const Qe=c.runOutsideAngular(()=>Je.database(r||void 0));return $e&&Qe.useEmulator(...$e),Qe},[$e])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>kV(this.database,e));let s=r;return i&&(s=i(r)),function x8(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:LV(i,"update"),set:LV(i,"set"),push:r=>i.push(r),remove:S8(i),snapshotChanges:r=>NV(n,r,e).pipe(Jt.iC),stateChanges:r=>FV(n,r,e).pipe(Jt.iC),auditTrail:r=>function T8(n,t,e){return function D8(n,t,e){return function I8(n,t){return Nw(n,"value","on",t).pipe((0,gt.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function wW(...n){const t=(0,Gn.jO)(n);return(0,jt.e)((e,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),h=!1;for(let p=0;p<r;p++)(0,br.Xf)(n[p]).subscribe(new kn.Q(i,_=>{s[p]=_,!h&&!c[p]&&(c[p]=!0,(h=c.every(Ws.y))&&(c=null))},mm.Z));e.subscribe(new kn.Q(i,p=>{if(h){const _=[p,...s];i.next(t?t(..._):_)}}))})}(t),(0,gt.U)(([r,s])=>{const c=r.lastKeyToLoad,h=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:h}}),function CW(n){return(0,jt.e)((t,e)=>{let i=!1,r=0;t.subscribe(new kn.Q(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,gt.U)(r=>r.actions))}(n,FV(n,t).pipe(df((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(Jt.iC),valueChanges:(r,s)=>NV(n,r,e).pipe((0,gt.U)(h=>h.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),Jt.iC)}}(s,this)}object(e){return function A8(n,t){return{query:n,snapshotChanges:()=>BV(n,t.schedulers.outsideAngular)().pipe(Jt.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>BV(n,t.schedulers.outsideAngular)().pipe(Jt.iC,(0,gt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>kV(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Oi.Dh),o.LFG(Oi.xv,8),o.LFG(M8,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Jt.HU),o.LFG(k8,8),o.LFG(mc,8),o.LFG(Ue,8),o.LFG(lt,8),o.LFG(wt,8),o.LFG(Zt,8),o.LFG(Vn,8),o.LFG(Xr,8),o.LFG(gc,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),R8=(()=>{class n{constructor(){au.Z.registerVersion("angularfire",Jt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[ZR]}),n})(),O8=(()=>{class n{constructor(e,i){this.menu=[],e.list("menu").valueChanges().subscribe(s=>{this.menu=s})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ZR),o.LFG(Xs))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const P8=function(n){return[n]};function N8(n,t){if(1&n&&(o.TgZ(0,"div",2)(1,"mat-icon",3),o._uU(2),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.qZA()()),2&n){const e=t.$implicit,i=o.oxw();o.Gre("menu-item  ",i.router.url.includes(e.route)?"selected":"",""),o.Q6J("routerLink",o.VKq(6,P8,e.route)),o.xp6(2),o.Oqu(e.icon),o.xp6(2),o.Oqu(e.name)}}let F8=(()=>{class n{constructor(e,i){this.menuProvider=e,this.router=i}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(O8),o.Y36(Dr))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomi-menu"]],decls:2,vars:1,consts:[[1,"menu"],[3,"class","routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],[1,"material-symbols-outlined"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.YNc(1,N8,5,8,"div",1),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngForOf",i.menuProvider.menu))},directives:[bn,xl,n_],styles:[".menu[_ngcontent-%COMP%]{height:100vh;width:14em;background-color:#424962}.menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{color:#fff;text-align:left;padding:6px 12px;border-bottom:1px solid white;display:flex;justify-content:space-between;transition:.4s ease}.menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover, .menu[_ngcontent-%COMP%]   .menu-item.selected[_ngcontent-%COMP%]{background-color:#fff;color:var(--accent-color);cursor:pointer}.menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-transform:uppercase;font-size:.8em}"]}),n})(),VV=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L8=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Ha(e);return new ri.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Mt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(VV))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UV=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Yn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Om(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Oc(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(L8),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),HV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[VV]}),n})();const B8=["connectionContainer"],V8=["inputContainer"],U8=["label"];function H8(n,t){1&n&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15)(3,"div",16)(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15)(7,"div",16)(8,"div",17),o.qZA(),o.BQk())}function j8(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",19),o.NdJ("cdkObserveContent",function(){return o.CHM(e),o.oxw().updateOutlineGap()}),o.Hsn(1,1),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function z8(n,t){if(1&n&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&n){const e=o.oxw(2);o.xp6(3),o.Oqu(e._control.placeholder)}}function G8(n,t){1&n&&o.Hsn(0,3,["*ngSwitchCase","true"])}function $8(n,t){1&n&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function W8(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){return o.CHM(e),o.oxw().updateOutlineGap()}),o.YNc(2,z8,4,1,"ng-container",12),o.YNc(3,G8,1,0,"ng-content",12),o.YNc(4,$8,2,0,"span",22),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),o.uIk("for",e._control.id)("aria-owns",e._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function q8(n,t){1&n&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function Z8(n,t){if(1&n&&(o.TgZ(0,"div",25),o._UZ(1,"span",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function Y8(n,t){if(1&n&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function K8(n,t){if(1&n&&(o.TgZ(0,"div",30),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function Q8(n,t){if(1&n&&(o.TgZ(0,"div",27),o.YNc(1,K8,2,2,"div",28),o.Hsn(2,6),o._UZ(3,"div",29),o.Hsn(4,7),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const J8=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],X8=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],eZ=new o.OlP("MatError"),tZ={transitionMessages:ja("transitionMessages",[ra("enter",Ui({opacity:1,transform:"translateY(0%)"})),no("void => enter",[Ui({opacity:0,transform:"translateY(-5px)"}),Bl("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let iD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n}),n})();const nZ=new o.OlP("MatHint");let Fw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),iZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const rZ=new o.OlP("MatPrefix"),jV=new o.OlP("MatSuffix");let YR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSuffix",""]],features:[o._Bn([{provide:jV,useExisting:n}])]}),n})(),zV=0;const oZ=iw(class{constructor(n){this._elementRef=n}},"primary"),aZ=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),KR=new o.OlP("MatFormField");let QR=(()=>{class n extends oZ{constructor(e,i,r,s,c,h,p){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=c,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Mt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+zV++,this._labelId="mat-form-field-label-"+zV++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Yn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Ts(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Zn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Zn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,or.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ts(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ts(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Zn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,zu(this._label.nativeElement,"transitionend").pipe((0,Tn.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const w=i.querySelectorAll(`${r}, ${s}`);for(let T=0;T<w.length;T++)w[T].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,h=0;const p=i.querySelectorAll(r),_=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const w=i.getBoundingClientRect();if(0===w.width&&0===w.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const T=this._getStartEnd(w),A=e.children,F=this._getStartEnd(A[0].getBoundingClientRect());let B=0;for(let ae=0;ae<A.length;ae++)B+=A[ae].offsetWidth;c=Math.abs(F-T)-5,h=B>0?.75*B+10:0}for(let w=0;w<p.length;w++)p[w].style.width=`${c}px`;for(let w=0;w<_.length;w++)_[w].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Va,8),o.Y36(aZ,8),o.Y36(rs),o.Y36(o.R0b),o.Y36(Lc,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,iD,5),o.Suo(r,iD,7),o.Suo(r,Fw,5),o.Suo(r,Fw,7),o.Suo(r,iZ,5),o.Suo(r,eZ,5),o.Suo(r,nZ,5),o.Suo(r,rZ,5),o.Suo(r,jV,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._controlNonStatic=s.first),o.iGM(s=o.CRH())&&(i._controlStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._placeholderChild=s.first),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(B8,7),o.Gf(V8,5),o.Gf(U8,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._connectionContainerRef=r.first),o.iGM(r=o.CRH())&&(i._inputContainerRef=r.first),o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&o.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:KR,useExisting:n}]),o.qOj],ngContentSelectors:X8,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(o.F$t(J8),o.TgZ(0,"div",0)(1,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),o.YNc(3,H8,9,0,"ng-container",3),o.YNc(4,j8,2,1,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,W8,5,16,"label",8),o.qZA()(),o.YNc(10,q8,2,0,"div",9),o.qZA(),o.YNc(11,Z8,2,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,Y8,2,1,"div",12),o.YNc(14,Q8,5,2,"div",13),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("ngIf","outline"==i.appearance),o.xp6(1),o.Q6J("ngIf",i._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",i._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",i._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=i.appearance),o.xp6(1),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},directives:[An,UV,ir,$i],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[tZ.transitionMessages]},changeDetection:0}),n})(),JR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[wi,$n,HV],$n]}),n})();const $V=Jd({passive:!0});let lZ=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Md.E;const i=Ha(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Mt.x,c="cdk-text-field-autofilled",h=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,$V),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,$V)}}),s}stopMonitoring(e){const i=Ha(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(rs),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const cZ=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),uZ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let dZ=0;const hZ=DL(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let XR=(()=>{class n extends hZ{constructor(e,i,r,s,c,h,p,_,w,T){super(h,s,c,r),this._elementRef=e,this._platform=i,this._autofillMonitor=_,this._formField=T,this._uid="mat-input-"+dZ++,this.focused=!1,this.stateChanges=new Mt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(B=>lT().has(B)),this._iOSKeyupListener=B=>{const ae=B.target;!ae.value&&0===ae.selectionStart&&0===ae.selectionEnd&&(ae.setSelectionRange(1,1),ae.setSelectionRange(0,0))};const A=this._elementRef.nativeElement,F=A.nodeName.toLowerCase();this._inputValueAccessor=p||A,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&w.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===F,this._isTextarea="textarea"===F,this._isInFormField=!!T,this._isNativeSelect&&(this.controlType=A.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Yn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(Iu.required))&&void 0!==s&&s}set required(e){this._required=Yn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&lT().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Yn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){uZ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(rs),o.Y36(kl,10),o.Y36(Qg,8),o.Y36(Ou,8),o.Y36(Tk),o.Y36(cZ,10),o.Y36(lZ),o.Y36(o.R0b),o.Y36(KR,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(o.Ikx("disabled",i.disabled)("required",i.required),o.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),o.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:iD,useExisting:n}]),o.qOj,o.TTD]}),n})(),qV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Tk],imports:[[WV,JR,$n],WV,JR]}),n})();function fZ(n,t){1&n&&(o.ynx(0),o.TgZ(1,"mat-form-field",7)(2,"mat-label"),o._uU(3,"Usuario o Correo"),o.qZA(),o._UZ(4,"input",8),o.TgZ(5,"button",9)(6,"mat-icon"),o._uU(7,"close"),o.qZA()()(),o.TgZ(8,"mat-form-field",7)(9,"mat-label"),o._uU(10,"Contrase\xf1a"),o.qZA(),o._UZ(11,"input",10),o.TgZ(12,"button",9)(13,"mat-icon"),o._uU(14,"close"),o.qZA()()(),o.TgZ(15,"div",11)(16,"button",12),o._uU(17,"Crear cuenta"),o.qZA(),o.TgZ(18,"button",12),o._uU(19,"Siguiente"),o.qZA()(),o.BQk())}let ZV=(()=>{class n{constructor(e){this.auth=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Lg))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomii-auth"]],decls:9,vars:1,consts:[[1,"auth-container"],[1,"layout"],["src","assets/images/lomi.svg"],[2,"padding-top","1em","margin-bottom","1em"],[4,"ngIf"],["mat-button","",3,"click"],["src","assets/images/google-g.png"],["appearance","fill",1,"example-form-field"],["matInput","","type","text"],["matSuffix","","mat-icon-button","","aria-label","Clear"],["matInput","","type","password"],[2,"display","flex","justify-content","space-between","width","100%"],["mat-button",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"img",2),o.TgZ(3,"h1",3),o._uU(4,"\xbf Quien eres ?"),o.qZA(),o.YNc(5,fZ,20,0,"ng-container",4),o.TgZ(6,"button",5),o.NdJ("click",function(){return i.auth.loginWithGoogle()}),o._UZ(7,"img",6),o._uU(8,"Iniciar sesi\xf3n con Google"),o.qZA()()()),2&e&&(o.xp6(5),o.Q6J("ngIf",!1))},directives:[An,QR,Fw,XR,e_,YR,n_],styles:[".auth-container[_ngcontent-%COMP%]{background-color:var(--accent-color);height:calc(100vh - 4em);width:100vw;display:flex;justify-content:center;align-items:center}.layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:16px;border-radius:15px;width:40em;background-color:#fff}.layout[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:30px}"]}),n})();function pZ(n,t){1&n&&(o.ynx(0),o.TgZ(1,"mat-drawer-container",8)(2,"mat-drawer",9,10),o._UZ(4,"lomi-menu"),o.qZA(),o.TgZ(5,"div",11)(6,"div",12),o._UZ(7,"router-outlet"),o.qZA()()(),o.BQk())}const gZ=function(){return["/"]};let mZ=(()=>{class n{constructor(e){this.auth=e,this.userId=0,this.adapter=new Mc,this.title="lomi-material"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Lg))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomii-root"]],decls:19,vars:4,consts:[["color","tertiary"],["src","assets/images/lomi.svg",2,"max-height","60px",3,"routerLink"],[1,"spacer"],["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item",""],[4,"ngIf"],["autosize","",1,"example-container"],["opened","","mode","side",1,"example-sidenav"],["drawer",""],[1,"example-sidenav-content"],[1,"p",2,"padding-top","0em","height","100vh"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div")(1,"mat-toolbar",0),o._UZ(2,"img",1)(3,"span",2),o.TgZ(4,"button",3)(5,"mat-icon"),o._uU(6,"menu"),o.qZA()(),o.TgZ(7,"mat-menu",null,4)(9,"button",5),o.NdJ("click",function(){return i.auth.logout()}),o.TgZ(10,"mat-icon"),o._uU(11,"logout"),o.qZA(),o._uU(12,"Cerrar Sesi\xf3n"),o.qZA(),o.TgZ(13,"button",6)(14,"mat-icon"),o._uU(15,"settings"),o.qZA(),o._uU(16,"Configuraci\xf3n"),o.qZA()()()(),o.YNc(17,pZ,8,0,"ng-container",7),o._UZ(18,"lomii-auth")),2&e){const r=o.MAs(8);o.xp6(2),o.Q6J("routerLink",o.DdM(3,gZ)),o.xp6(2),o.Q6J("matMenuTriggerFor",r),o.xp6(13),o.Q6J("ngIf",i.auth.signedIn)}},directives:[e6,xl,e_,nW,n_,J6,mI,An,r_,i_,F8,bf,ZV],styles:[""]}),n})();const _Z=["*",[["mat-card-footer"]]],yZ=["*","mat-card-footer"];let YV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),KV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),n})(),rD=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Lc,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:yZ,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(_Z),o.Hsn(0),o.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),QV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[$n],$n]}),n})(),XV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[SL,$n],SL,$n]}),n})();M(2587);class tU{constructor(){return(0,Jt.vb)("auth")}}var ft,TZ="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Wu={},n1=n1||{},Gt=TZ||self;function sD(){}function r1(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Lw(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var s1="closure_uid_"+(1e9*Math.random()>>>0),DZ=0;function SZ(n,t,e){return n.call.apply(n.bind,arguments)}function xZ(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function as(n,t,e){return(as=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?SZ:xZ).apply(null,arguments)}function oD(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ls(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return t.prototype[r].apply(i,c)}}function wh(){this.s=this.s,this.o=this.o}var MZ={};wh.prototype.s=!1,wh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function IZ(n){return Object.prototype.hasOwnProperty.call(n,s1)&&n[s1]||(n[s1]=++DZ)}(this);delete MZ[n]}},wh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nU=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},iU=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&t.call(e,r[s],s,n)};function rU(n){return Array.prototype.concat.apply([],arguments)}function o1(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function aD(n){return/^[\s\xa0]*$/.test(n)}var so,sU=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ro(n,t){return-1!=n.indexOf(t)}function a1(n,t){return n<t?-1:n>t?1:0}e:{var oU=Gt.navigator;if(oU){var aU=oU.userAgent;if(aU){so=aU;break e}}so=""}function l1(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function lU(n){const t={};for(const e in n)t[e]=n[e];return t}var cU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uU(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<cU.length;s++)e=cU[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function c1(n){return c1[" "](n),n}c1[" "]=sD;var lD,n,OZ=ro(so,"Opera"),y_=ro(so,"Trident")||ro(so,"MSIE"),dU=ro(so,"Edge"),u1=dU||y_,hU=ro(so,"Gecko")&&!(ro(so.toLowerCase(),"webkit")&&!ro(so,"Edge"))&&!(ro(so,"Trident")||ro(so,"MSIE"))&&!ro(so,"Edge"),PZ=ro(so.toLowerCase(),"webkit")&&!ro(so,"Edge");function fU(){var n=Gt.document;return n?n.documentMode:void 0}e:{var d1="",h1=(n=so,hU?/rv:([^\);]+)(\)|;)/.exec(n):dU?/Edge\/([\d\.]+)/.exec(n):y_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):PZ?/WebKit\/(\S+)/.exec(n):OZ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(h1&&(d1=h1?h1[1]:""),y_){var f1=fU();if(null!=f1&&f1>parseFloat(d1)){lD=String(f1);break e}}lD=d1}var NZ={};var LZ=Gt.document&&y_&&(fU()||parseInt(lD,10))||void 0,BZ=function(){if(!Gt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Gt.addEventListener("test",sD,t),Gt.removeEventListener("test",sD,t)}catch(e){}return n}();function Ms(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Bw(n,t){if(Ms.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(hU){e:{try{c1(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:VZ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Bw.Z.h.call(this)}}Ms.prototype.h=function(){this.defaultPrevented=!0},ls(Bw,Ms);var VZ={2:"touch",3:"pen",4:"mouse"};Bw.prototype.h=function(){Bw.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Vw="closure_listenable_"+(1e6*Math.random()|0),UZ=0;function HZ(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++UZ,this.ca=this.fa=!1}function cD(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function uD(n){this.src=n,this.g={},this.h=0}function g1(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=nU(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(cD(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function m1(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==t&&s.capture==!!e&&s.ia==i)return r}return-1}uD.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=m1(n,t,i,r);return-1<c?(t=n[c],e||(t.fa=!1)):((t=new HZ(t,this.src,s,!!i,r)).fa=e,n.push(t)),t};var _1="closure_lm_"+(1e6*Math.random()|0),y1={};function gU(n,t,e,i,r){if(i&&i.once)return _U(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)gU(n,t[s],e,i,r);return null}return e=C1(e),n&&n[Vw]?n.N(t,e,Lw(i)?!!i.capture:!!i,r):mU(n,t,e,!1,i,r)}function mU(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var c=Lw(r)?!!r.capture:!!r,h=b1(n);if(h||(n[_1]=h=new uD(n)),(e=h.add(t,e,i,c,s)).proxy)return e;if(i=function jZ(){var t=zZ;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)BZ||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(vU(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function _U(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)_U(n,t[s],e,i,r);return null}return e=C1(e),n&&n[Vw]?n.O(t,e,Lw(i)?!!i.capture:!!i,r):mU(n,t,e,!0,i,r)}function yU(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)yU(n,t[s],e,i,r);else i=Lw(i)?!!i.capture:!!i,e=C1(e),n&&n[Vw]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=m1(s=n.g[t],e,i,r))&&(cD(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=b1(n))&&(t=n.g[t.toString()],n=-1,t&&(n=m1(t,e,i,r)),(e=-1<n?t[n]:null)&&v1(e))}function v1(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Vw])g1(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(vU(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=b1(t))?(g1(e,n),0==e.h&&(e.src=null,t[_1]=null)):cD(n)}}}function vU(n){return n in y1?y1[n]:y1[n]="on"+n}function zZ(n,t){if(n.ca)n=!0;else{t=new Bw(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&v1(n),n=e.call(i,t)}return n}function b1(n){return(n=n[_1])instanceof uD?n:null}var w1="__closure_events_fn_"+(1e9*Math.random()>>>0);function C1(n){return"function"==typeof n?n:(n[w1]||(n[w1]=function(t){return n.handleEvent(t)}),n[w1])}function Ur(){wh.call(this),this.i=new uD(this),this.P=this,this.I=null}function cs(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Ms(t,n);else if(t instanceof Ms)t.target=t.target||n;else{var r=t;uU(t=new Ms(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var c=t.g=e[s];r=dD(c,i,!0,t)&&r}if(r=dD(c=t.g=n,i,!0,t)&&r,r=dD(c,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=dD(c=t.g=e[s],i,!1,t)&&r}function dD(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var c=t[s];if(c&&!c.ca&&c.capture==e){var h=c.listener,p=c.ia||c.src;c.fa&&g1(n.i,c),r=!1!==h.call(p,i)&&r}}return r&&!i.defaultPrevented}ls(Ur,wh),Ur.prototype[Vw]=!0,Ur.prototype.removeEventListener=function(n,t,e,i){yU(this,n,t,e,i)},Ur.prototype.M=function(){if(Ur.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)cD(e[i]);delete n.g[t],n.h--}}this.I=null},Ur.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Ur.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var E1=Gt.JSON.stringify;function GZ(){var n=wU;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var I1,bU=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new WZ,n=>n.reset());class WZ{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function qZ(n){Gt.setTimeout(()=>{throw n},0)}function T1(n,t){I1||function ZZ(){var n=Gt.Promise.resolve(void 0);I1=function(){n.then(YZ)}}(),D1||(I1(),D1=!0),wU.add(n,t)}var D1=!1,wU=new class $Z{constructor(){this.h=this.g=null}add(t,e){const i=bU.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function YZ(){for(var n;n=GZ();){try{n.h.call(n.g)}catch(e){qZ(e)}var t=bU;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}D1=!1}function hD(n,t){Ur.call(this),this.h=n||1,this.g=t||Gt,this.j=as(this.kb,this),this.l=Date.now()}function S1(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function x1(n,t,e){if("function"==typeof n)e&&(n=as(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=as(n.handleEvent,n)}return 2147483647<Number(t)?-1:Gt.setTimeout(n,t||0)}function CU(n){n.g=x1(()=>{n.g=null,n.i&&(n.i=!1,CU(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}ls(hD,Ur),(ft=hD.prototype).da=!1,ft.S=null,ft.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),cs(this,"tick"),this.da&&(S1(this),this.start()))}},ft.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ft.M=function(){hD.Z.M.call(this),S1(this),delete this.g};class KZ extends wh{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:CU(this)}M(){super.M(),this.g&&(Gt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uw(n){wh.call(this),this.h=n,this.g={}}ls(Uw,wh);var EU=[];function TU(n,t,e,i){Array.isArray(e)||(e&&(EU[0]=e.toString()),e=EU);for(var r=0;r<e.length;r++){var s=gU(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function IU(n){l1(n.g,function(t,e){this.g.hasOwnProperty(e)&&v1(t)},n),n.g={}}function fD(){this.g=!0}function v_(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function eY(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return E1(e)}catch(h){return t}}(n,e)+(i?" "+i:"")})}Uw.prototype.M=function(){Uw.Z.M.call(this),IU(this)},Uw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fD.prototype.Aa=function(){this.g=!1},fD.prototype.info=function(){};var mp={},DU=null;function pD(){return DU=DU||new Ur}function SU(n){Ms.call(this,mp.Ma,n)}function Hw(n){const t=pD();cs(t,new SU(t,n))}function xU(n,t){Ms.call(this,mp.STAT_EVENT,n),this.stat=t}function oo(n){const t=pD();cs(t,new xU(t,n))}function AU(n,t){Ms.call(this,mp.Na,n),this.size=t}function jw(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Gt.setTimeout(function(){n()},t)}mp.Ma="serverreachability",ls(SU,Ms),mp.STAT_EVENT="statevent",ls(xU,Ms),mp.Na="timingevent",ls(AU,Ms);var gD={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},MU={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function A1(){}function RU(){}A1.prototype.h=null;var R1,zw={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function M1(){Ms.call(this,"d")}function k1(){Ms.call(this,"c")}function mD(){}function Gw(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Uw(this),this.P=tY,this.W=new hD(n=u1?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new OU}function OU(){this.i=null,this.g="",this.h=!1}ls(M1,Ms),ls(k1,Ms),ls(mD,A1),mD.prototype.g=function(){return new XMLHttpRequest},mD.prototype.i=function(){return{}},R1=new mD;var tY=45e3,O1={},_D={};function P1(n,t,e){n.K=1,n.v=CD(qu(t)),n.s=e,n.U=!0,PU(n,null)}function PU(n,t){n.F=Date.now(),$w(n),n.A=qu(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),zU(e.h,"t",i),n.C=0,e=n.l.H,n.h=new OU,n.g=hH(n.l,e?t:null,!n.s),0<n.O&&(n.L=new KZ(as(n.Ia,n,n.g),n.O)),TU(n.V,n.g,"readystatechange",n.gb),t=n.H?lU(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Hw(1),function QZ(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",h=s.split("&"),p=0;p<h.length;p++){var _=h[p].split("=");if(1<_.length){var w=_[0];_=_[1];var T=w.split("_");c=2<=T.length&&"type"==T[1]?c+(w+"=")+_+"&":c+(w+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function NU(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function FU(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=nY(n,e),r==_D){4==t&&(n.o=4,oo(14),i=!1),v_(n.j,n.m,null,"[Incomplete Response]");break}if(r==O1){n.o=4,oo(15),v_(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}v_(n.j,n.m,r,null),N1(n,r)}NU(n)&&r!=_D&&r!=O1&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,oo(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),W1(t),t.L=!0,oo(11))):(v_(n.j,n.m,e,"[Invalid Chunked Response]"),_p(n),Ww(n))}function nY(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?_D:(e=Number(t.substring(e,i)),isNaN(e)?O1:(i+=1)+e>t.length?_D:(t=t.substr(i,e),n.C=i+e,t))}function $w(n){n.Y=Date.now()+n.P,LU(n,n.P)}function LU(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=jw(as(n.eb,n),t)}function yD(n){n.B&&(Gt.clearTimeout(n.B),n.B=null)}function Ww(n){0==n.l.G||n.I||lH(n.l,n)}function _p(n){yD(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,S1(n.W),IU(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function N1(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||B1(e.i,n)))if(e.I=n.N,!n.J&&B1(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(_){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=jw(as(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;xD(e),DD(e)}$1(e),oo(18)}if(1>=WU(e.i)&&e.ka){try{e.ka()}catch(_){}e.ka=void 0}}else bp(e,11)}else if((n.J||e.g==n)&&xD(e),!aD(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let _=r[t];if(e.U=_[0],_=_[1],2==e.G)if("c"==_[0]){e.J=_[1],e.la=_[2];const w=_[3];null!=w&&(e.ma=w,e.h.info("VER="+e.ma));const T=_[4];null!=T&&(e.za=T,e.h.info("SVER="+e.za));const A=_[5];null!=A&&"number"==typeof A&&0<A&&(e.K=i=1.5*A,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const F=n.g;if(F){const B=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var s=i.i;!s.g&&(ro(B,"spdy")||ro(B,"quic")||ro(B,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(V1(s,s.h),s.h=null))}if(i.D){const ae=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;ae&&(i.sa=ae,Di(i.F,i.D,ae))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var c=n;if((i=e).oa=dH(i,i.H?i.la:null,i.W),c.J){qU(i.i,c);var h=c,p=i.K;p&&h.setTimeout(p),h.B&&(yD(h),$w(h)),i.g=c}else oH(i);0<e.l.length&&SD(e)}else"stop"!=_[0]&&"close"!=_[0]||bp(e,7);else 3==e.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?bp(e,7):z1(e):"noop"!=_[0]&&e.j&&e.j.wa(_),e.A=0)}Hw(4)}catch(_){}}function F1(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(r1(n)||"string"==typeof n)iU(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(r1(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function iY(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(r1(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}}function b_(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof b_)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function L1(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];yp(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)yp(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function yp(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(ft=Gw.prototype).setTimeout=function(n){this.P=n},ft.gb=function(n){n=n.target;const t=this.L;t&&3==Zu(n)?t.l():this.Ia(n)},ft.Ia=function(n){try{if(n==this.g)e:{const w=Zu(this.g);var t=this.g.Da();const T=this.g.ba();if(!(3>w)&&(3!=w||u1||this.g&&(this.h.h||this.g.ga()||tH(this.g)))){this.I||4!=w||7==t||Hw(8==t||0>=T?3:2),yD(this);var e=this.g.ba();this.N=e;t:if(NU(this)){var i=tH(this.g);n="";var r=i.length,s=4==Zu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){_p(this),Ww(this);var c="";break t}this.h.i=new Gt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==e,function JZ(n,t,e,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.X,w,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!aD(h)){var _=h;break t}}_=null}if(!(e=_)){this.i=!1,this.o=3,oo(12),_p(this),Ww(this);break e}v_(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,N1(this,e)}this.U?(FU(this,w,c),u1&&this.i&&3==w&&(TU(this.V,this.W,"tick",this.fb),this.W.start())):(v_(this.j,this.m,c,null),N1(this,c)),4==w&&_p(this),this.i&&!this.I&&(4==w?lH(this.l,this):(this.i=!1,$w(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,oo(12)):(this.o=0,oo(13)),_p(this),Ww(this)}}}catch(w){}},ft.fb=function(){if(this.g){var n=Zu(this.g),t=this.g.ga();this.C<t.length&&(yD(this),FU(this,n,t),this.i&&4!=n&&$w(this))}},ft.cancel=function(){this.I=!0,_p(this)},ft.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function XZ(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Hw(3),oo(17)),_p(this),this.o=2,Ww(this)):LU(this,this.Y-n)},(ft=b_.prototype).R=function(){L1(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},ft.T=function(){return L1(this),this.g.concat()},ft.get=function(n,t){return yp(this.h,n)?this.h[n]:t},ft.set=function(n,t){yp(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},ft.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],s=this.get(r);n.call(t,s,r,this)}};var BU=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vp(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof vp){this.g=void 0!==t?t:n.g,vD(this,n.j),this.s=n.s,bD(this,n.i),wD(this,n.m),this.l=n.l,t=n.h;var e=new Yw;e.i=t.i,t.g&&(e.g=new b_(t.g),e.h=t.h),VU(this,e),this.o=n.o}else n&&(e=String(n).match(BU))?(this.g=!!t,vD(this,e[1]||"",!0),this.s=qw(e[2]||""),bD(this,e[3]||"",!0),wD(this,e[4]),this.l=qw(e[5]||"",!0),VU(this,e[6]||"",!0),this.o=qw(e[7]||"")):(this.g=!!t,this.h=new Yw(null,this.g))}function qu(n){return new vp(n)}function vD(n,t,e){n.j=e?qw(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function bD(n,t,e){n.i=e?qw(t,!0):t}function wD(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function VU(n,t,e){t instanceof Yw?(n.h=t,function hY(n,t){t&&!n.j&&(Ch(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(HU(this,i),zU(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=Zw(t,uY)),n.h=new Yw(t,n.g))}function Di(n,t,e){n.h.set(t,e)}function CD(n){return Di(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function qw(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Zw(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,aY),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function aY(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}vp.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Zw(t,UU,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Zw(t,UU,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(Zw(e,"/"==e.charAt(0)?cY:lY,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Zw(e,dY)),n.join("")};var UU=/[#\/\?@]/g,lY=/[#\?:]/g,cY=/[#\?]/g,uY=/[#\?@]/g,dY=/#/g;function Yw(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Ch(n){n.g||(n.g=new b_,n.h=0,n.i&&function rY(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function HU(n,t){Ch(n),t=w_(n,t),yp(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,yp((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&L1(n)))}function jU(n,t){return Ch(n),t=w_(n,t),yp(n.g.h,t)}function zU(n,t,e){HU(n,t),0<e.length&&(n.i=null,n.g.set(w_(n,t),o1(e)),n.h+=e.length)}function w_(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function GU(n){this.l=n||pY,n=Gt.PerformanceNavigationTiming?0<(n=Gt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Gt.g&&Gt.g.Ea&&Gt.g.Ea()&&Gt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ft=Yw.prototype).add=function(n,t){Ch(this),this.i=null,n=w_(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ft.forEach=function(n,t){Ch(this),this.g.forEach(function(e,i){iU(e,function(r){n.call(t,r,i,this)},this)},this)},ft.T=function(){Ch(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],s=0;s<r.length;s++)e.push(t[i]);return e},ft.R=function(n){Ch(this);var t=[];if("string"==typeof n)jU(this,n)&&(t=rU(t,this.g.get(w_(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=rU(t,n[e])}return t},ft.set=function(n,t){return Ch(this),this.i=null,jU(this,n=w_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ft.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var c=r;""!==i[s]&&(c+="="+encodeURIComponent(String(i[s]))),n.push(c)}}return this.i=n.join("&")};var pY=10;function $U(n){return!!n.h||!!n.g&&n.g.size>=n.j}function WU(n){return n.h?1:n.g?n.g.size:0}function B1(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function V1(n,t){n.g?n.g.add(t):n.h=t}function qU(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function ZU(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return o1(n.i)}function U1(){}function gY(){this.g=new U1}function mY(n,t,e){const i=e||"";try{F1(n,function(r,s){let c=r;Lw(r)&&(c=E1(r)),t.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function ED(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(s){}}function Kw(n){this.l=n.$b||null,this.j=n.ib||!1}function TD(n,t){Ur.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=H1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}GU.prototype.cancel=function(){if(this.i=ZU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},U1.prototype.stringify=function(n){return Gt.JSON.stringify(n,void 0)},U1.prototype.parse=function(n){return Gt.JSON.parse(n,void 0)},ls(Kw,A1),Kw.prototype.g=function(){return new TD(this.l,this.j)},Kw.prototype.i=function(n){return function(){return n}}({}),ls(TD,Ur);var H1=0;function YU(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Qw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Jw(n)}function Jw(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ft=TD.prototype).open=function(n,t){if(this.readyState!=H1)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Jw(this)},ft.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Gt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qw(this)),this.readyState=H1},ft.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Jw(this)),this.g&&(this.readyState=3,Jw(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Gt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;YU(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ft.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Qw(this):Jw(this),3==this.readyState&&YU(this)}},ft.Ua=function(n){this.g&&(this.response=this.responseText=n,Qw(this))},ft.Ta=function(n){this.g&&(this.response=n,Qw(this))},ft.ha=function(){this.g&&Qw(this)},ft.setRequestHeader=function(n,t){this.v.append(n,t)},ft.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ft.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(TD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var yY=Gt.JSON.parse;function hr(n){Ur.call(this),this.headers=new b_,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=KU,this.K=this.L=!1}ls(hr,Ur);var KU="",vY=/^https?$/i,bY=["POST","PUT"];function CY(n){return"content-type"==n.toLowerCase()}function QU(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,JU(n),ID(n)}function JU(n){n.D||(n.D=!0,cs(n,"complete"),cs(n,"error"))}function XU(n){if(n.h&&void 0!==n1&&(!n.C[1]||4!=Zu(n)||2!=n.ba()))if(n.v&&4==Zu(n))x1(n.Fa,0,n);else if(cs(n,"readystatechange"),4==Zu(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(BU)[1]||null;if(!r&&Gt.self&&Gt.self.location){var s=Gt.self.location.protocol;r=s.substr(0,s.length-1)}i=!vY.test(r?r.toLowerCase():"")}e=i}if(e)cs(n,"complete"),cs(n,"success");else{n.m=6;try{var c=2<Zu(n)?n.g.statusText:""}catch(p){c=""}n.j=c+" ["+n.ba()+"]",JU(n)}}finally{ID(n)}}}function ID(n,t){if(n.g){eH(n);const e=n.g,i=n.C[0]?sD:null;n.g=null,n.C=null,t||cs(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function eH(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Gt.clearTimeout(n.A),n.A=null)}function Zu(n){return n.g?n.g.readyState:0}function tH(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case KU:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function j1(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function EY(n){let t="";return l1(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Di(n,t,e))}function Xw(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function nH(n){this.za=0,this.l=[],this.h=new fD,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Xw("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Xw("baseRetryDelayMs",5e3,n),this.$a=Xw("retryDelaySeedMs",1e4,n),this.Ya=Xw("forwardChannelMaxRetries",2,n),this.ra=Xw("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new GU(n&&n.concurrentRequestLimit),this.Ca=new gY,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function z1(n){if(iH(n),3==n.G){var t=n.V++,e=qu(n.F);Di(e,"SID",n.J),Di(e,"RID",t),Di(e,"TYPE","terminate"),e0(n,e),(t=new Gw(n,n.h,t,void 0)).K=2,t.v=CD(qu(e)),e=!1,Gt.navigator&&Gt.navigator.sendBeacon&&(e=Gt.navigator.sendBeacon(t.v.toString(),"")),!e&&Gt.Image&&((new Image).src=t.v,e=!0),e||(t.g=hH(t.l,null),t.g.ea(t.v)),t.F=Date.now(),$w(t)}uH(n)}function DD(n){n.g&&(W1(n),n.g.cancel(),n.g=null)}function iH(n){DD(n),n.u&&(Gt.clearTimeout(n.u),n.u=null),xD(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Gt.clearTimeout(n.m),n.m=null)}function G1(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&SD(n)}function SD(n){$U(n.i)||n.m||(n.m=!0,T1(n.Ha,n),n.C=0)}function rH(n,t){var e;e=t?t.m:n.V++;const i=qu(n.F);Di(i,"SID",n.J),Di(i,"RID",e),Di(i,"AID",n.U),e0(n,i),n.o&&n.s&&j1(i,n.o,n.s),e=new Gw(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=sH(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),V1(n.i,e),P1(e,i,t)}function e0(n,t){n.j&&F1({},function(e,i){Di(t,i,e)})}function sH(n,t,e){e=Math.min(n.l.length,e);var i=n.j?as(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const c=["count="+e];-1==s?0<e?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let h=!0;for(let p=0;p<e;p++){let _=r[p].h;const w=r[p].g;if(_-=s,0>_)s=Math.max(0,r[p].h-100),h=!1;else try{mY(w,c,"req"+_+"_")}catch(T){i&&i(w)}}if(h){i=c.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function oH(n){n.g||n.u||(n.Y=1,T1(n.Ga,n),n.A=0)}function $1(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=jw(as(n.Ga,n),cH(n,n.A)),n.A++,0))}function W1(n){null!=n.B&&(Gt.clearTimeout(n.B),n.B=null)}function aH(n){n.g=new Gw(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=qu(n.oa);Di(t,"RID","rpc"),Di(t,"SID",n.J),Di(t,"CI",n.N?"0":"1"),Di(t,"AID",n.U),e0(n,t),Di(t,"TYPE","xmlhttp"),n.o&&n.s&&j1(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=CD(qu(t)),e.s=null,e.U=!0,PU(e,n)}function xD(n){null!=n.v&&(Gt.clearTimeout(n.v),n.v=null)}function lH(n,t){var e=null;if(n.g==t){xD(n),W1(n),n.g=null;var i=2}else{if(!B1(n.i,t))return;e=t.D,qU(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;cs(i=pD(),new AU(i,e,t,r)),SD(n)}else oH(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function TY(n,t){return!(WU(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=jw(as(n.Ha,n,t),cH(n,n.C)),n.C++,0)))}(n,t)||2==i&&$1(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:bp(n,5);break;case 4:bp(n,10);break;case 3:bp(n,6);break;default:bp(n,2)}}function cH(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function bp(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=as(n.jb,n);e||(e=new vp("//www.google.com/images/cleardot.gif"),Gt.location&&"http"==Gt.location.protocol||vD(e,"https"),CD(e)),function _Y(n,t){const e=new fD;if(Gt.Image){const i=new Image;i.onload=oD(ED,e,i,"TestLoadImage: loaded",!0,t),i.onerror=oD(ED,e,i,"TestLoadImage: error",!1,t),i.onabort=oD(ED,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=oD(ED,e,i,"TestLoadImage: timeout",!1,t),Gt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else oo(2);n.G=0,n.j&&n.j.va(t),uH(n),iH(n)}function uH(n){n.G=0,n.I=-1,n.j&&((0!=ZU(n.i).length||0!=n.l.length)&&(n.i.i.length=0,o1(n.l),n.l.length=0),n.j.ua())}function dH(n,t,e){let i=function sY(n){return n instanceof vp?qu(n):new vp(n,void 0)}(e);if(""!=i.i)t&&bD(i,t+"."+i.i),wD(i,i.m);else{const r=Gt.location;i=function oY(n,t,e,i){var r=new vp(null,void 0);return n&&vD(r,n),t&&bD(r,t),e&&wD(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&l1(n.aa,function(r,s){Di(i,s,r)}),e=n.sa,(t=n.D)&&e&&Di(i,t,e),Di(i,"VER",n.ma),e0(n,i),i}function hH(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new hr(e&&n.Ba&&!n.qa?new Kw({ib:!0}):n.qa)).L=n.H,t}function fH(){}function AD(){if(y_&&!(10<=Number(LZ)))throw Error("Environmental error: no available transport.")}function aa(n,t){Ur.call(this),this.g=new nH(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!aD(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!aD(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new C_(this)}function pH(n){M1.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function gH(){k1.call(this),this.status=1}function C_(n){this.g=n}(ft=hr.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():R1.g(),this.C=function kU(n){return n.h||(n.h=n.i())}(this.u?this.u:R1),this.g.onreadystatechange=as(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void QU(this,s)}n=e||"";const r=new b_(this.headers);i&&F1(i,function(s,c){r.set(c,s)}),i=function kZ(n){e:{var t=CY;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Gt.FormData&&n instanceof Gt.FormData,!(0<=nU(bY,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{eH(this),0<this.B&&((this.K=function wY(n){return y_&&function FZ(){return function RZ(n){var t=NZ;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=sU(String(lD)).split("."),e=sU("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",s=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=a1(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||a1(0==r[2].length,0==s[2].length)||a1(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=as(this.pa,this)):this.A=x1(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){QU(this,s)}},ft.pa=function(){void 0!==n1&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cs(this,"timeout"),this.abort(8))},ft.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,cs(this,"complete"),cs(this,"abort"),ID(this))},ft.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ID(this,!0)),hr.Z.M.call(this)},ft.Fa=function(){this.s||(this.F||this.v||this.l?XU(this):this.cb())},ft.cb=function(){XU(this)},ft.ba=function(){try{return 2<Zu(this)?this.g.status:-1}catch(n){return-1}},ft.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ft.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),yY(t)}},ft.Da=function(){return this.m},ft.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ft=nH.prototype).ma=8,ft.G=1,ft.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},ft.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Gw(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=lU(s),uU(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=sH(this,r,t),Di(e=qu(this.F),"RID",n),Di(e,"CVER",22),this.D&&Di(e,"X-HTTP-Session-Id",this.D),e0(this,e),this.o&&s&&j1(e,this.o,s),V1(this.i,r),this.Ra&&Di(e,"TYPE","init"),this.ja?(Di(e,"$req",t),Di(e,"SID","null"),r.$=!0,P1(r,e,null)):P1(r,e,t),this.G=2}}else 3==this.G&&(n?rH(this,n):0==this.l.length||$U(this.i)||rH(this))},ft.Ga=function(){if(this.u=null,aH(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=jw(as(this.bb,this),n)}},ft.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,oo(10),DD(this),aH(this))},ft.ab=function(){null!=this.v&&(this.v=null,DD(this),$1(this),oo(19))},ft.jb=function(n){n?(this.h.info("Successfully pinged google.com"),oo(2)):(this.h.info("Failed to ping google.com"),oo(1))},(ft=fH.prototype).xa=function(){},ft.wa=function(){},ft.va=function(){},ft.ua=function(){},ft.Oa=function(){},AD.prototype.g=function(n,t){return new aa(n,t)},ls(aa,Ur),aa.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),T1(as(n.hb,n,t))),oo(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=dH(n,null,n.W),SD(n)},aa.prototype.close=function(){z1(this.g)},aa.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,G1(this.g,t)}else this.v?((t={}).__data__=E1(n),G1(this.g,t)):G1(this.g,n)},aa.prototype.M=function(){this.g.j=null,delete this.j,z1(this.g),delete this.g,aa.Z.M.call(this)},ls(pH,M1),ls(gH,k1),ls(C_,fH),C_.prototype.xa=function(){cs(this.g,"a")},C_.prototype.wa=function(n){cs(this.g,new pH(n))},C_.prototype.va=function(n){cs(this.g,new gH(n))},C_.prototype.ua=function(){cs(this.g,"b")},AD.prototype.createWebChannel=AD.prototype.g,aa.prototype.send=aa.prototype.u,aa.prototype.open=aa.prototype.m,aa.prototype.close=aa.prototype.close,gD.NO_ERROR=0,gD.TIMEOUT=8,gD.HTTP_ERROR=6,MU.COMPLETE="complete",RU.EventType=zw,zw.OPEN="a",zw.CLOSE="b",zw.ERROR="c",zw.MESSAGE="d",Ur.prototype.listen=Ur.prototype.N,hr.prototype.listenOnce=hr.prototype.O,hr.prototype.getLastError=hr.prototype.La,hr.prototype.getLastErrorCode=hr.prototype.Da,hr.prototype.getStatus=hr.prototype.ba,hr.prototype.getResponseJson=hr.prototype.Qa,hr.prototype.getResponseText=hr.prototype.ga,hr.prototype.send=hr.prototype.ea;var IY=Wu.createWebChannelTransport=function(){return new AD},DY=Wu.getStatEventTarget=function(){return pD()},q1=Wu.ErrorCode=gD,SY=Wu.EventType=MU,xY=Wu.Event=mp,mH=Wu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},AY=Wu.FetchXmlHttpFactory=Kw,MD=Wu.WebChannel=RU,MY=Wu.XhrIo=hr;const _H="@firebase/firestore";class us{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}us.UNAUTHENTICATED=new us(null),us.GOOGLE_CREDENTIALS=new us("google-credentials-uid"),us.FIRST_PARTY=new us("first-party-uid"),us.MOCK_USER=new us("mock-user");let E_="9.8.0";const Eh=new bs.Yd("@firebase/firestore");function Z1(){return Eh.logLevel}function Ye(n,...t){if(Eh.logLevel<=bs.in.DEBUG){const e=t.map(Y1);Eh.debug(`Firestore (${E_}): ${n}`,...e)}}function fr(n,...t){if(Eh.logLevel<=bs.in.ERROR){const e=t.map(Y1);Eh.error(`Firestore (${E_}): ${n}`,...e)}}function kD(n,...t){if(Eh.logLevel<=bs.in.WARN){const e=t.map(Y1);Eh.warn(`Firestore (${E_}): ${n}`,...e)}}function Y1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function _t(n="Unexpected state"){const t=`FIRESTORE (${E_}) INTERNAL ASSERTION FAILED: `+n;throw fr(t),new Error(t)}function Lt(n,t){n||_t()}function st(n,t){return n}const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends U.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class yH{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class kY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(us.UNAUTHENTICATED))}shutdown(){}}class OY{constructor(t){this.t=t,this.currentUser=us.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,e(_)):Promise.resolve();let c=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Hr,t.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const _=c;t.enqueueRetryable((0,nt.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},p=_=>{Ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(Ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Hr)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Lt("string"==typeof i.accessToken),new yH(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Lt(null===t||"string"==typeof t),new us(t)}}class PY{constructor(t,e,i){this.type="FirstParty",this.user=us.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class NY{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new PY(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(us.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vH{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FY{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=s=>{null!=s.error&&Ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.p;return this.p=s.token,Ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):Ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Lt("string"==typeof e.token),this.p=e.token,new vH(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class la{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.I(i),this.T=i=>e.writeSequenceNumber(i))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function LY(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}la.A=-1;class bH{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=LY(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function nn(n,t){return n<t?-1:n>t?1:0}function T_(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}class pr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ze(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ze(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ze(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ze(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return pr.fromMillis(Date.now())}static fromDate(t){return pr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new pr(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?nn(this.nanoseconds,t.nanoseconds):nn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new pr(0,0))}static max(){return new Rt(new pr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function CH(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function wp(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function EH(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class t0{constructor(t,e,i){void 0===e?e=0:e>t.length&&_t(),void 0===i?i=t.length-e:i>t.length-e&&_t(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===t0.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof t0?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),c=e.get(r);if(s<c)return-1;if(s>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class In extends t0{construct(t,e,i){return new In(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ze(Te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new In(e)}static emptyPath(){return new In([])}}const BY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jr extends t0{construct(t,e,i){return new jr(t,e,i)}static isValidIdentifier(t){return BY.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new ze(Te.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new ze(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new ze(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===h?(c=!c,r++):"."!==h||c?(i+=h,r++):(s(),r++)}if(s(),c)throw new ze(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new jr(e)}static emptyPath(){return new jr([])}}class I_{constructor(t){this.fields=t,t.sort(jr.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return T_(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class xr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new xr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new xr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return nn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xr.EMPTY_BYTE_STRING=new xr("");const VY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Th(n){if(Lt(!!n),"string"==typeof n){let t=0;const e=VY.exec(n);if(Lt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Hi(n.seconds),nanos:Hi(n.nanos)}}function Hi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Cp(n){return"string"==typeof n?xr.fromBase64String(n):xr.fromUint8Array(n)}function K1(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function TH(n){const t=n.mapValue.fields.__previous_value__;return K1(t)?TH(t):t}function n0(n){const t=Th(n.mapValue.fields.__local_write_time__.timestampValue);return new pr(t.seconds,t.nanos)}class UY{constructor(t,e,i,r,s,c,h,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class Ih{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Ih("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Ih&&t.projectId===this.projectId&&t.database===this.database}}function r0(n){return null==n}function s0(n){return 0===n&&1/n==-1/0}class rt{constructor(t){this.path=t}static fromPath(t){return new rt(In.fromString(t))}static fromName(t){return new rt(In.fromString(t).popFirst(5))}static empty(){return new rt(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===In.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return In.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new rt(new In(t.slice()))}}const Dh_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Ep(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?K1(n)?4:AH(n)?9007199254740991:10:_t()}function jc(n,t){if(n===t)return!0;const e=Ep(n);if(e!==Ep(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return n0(n).isEqual(n0(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Th(i.timestampValue),c=Th(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Cp(n.bytesValue).isEqual(Cp(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Hi(i.geoPointValue.latitude)===Hi(r.geoPointValue.latitude)&&Hi(i.geoPointValue.longitude)===Hi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Hi(i.integerValue)===Hi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Hi(i.doubleValue),c=Hi(r.doubleValue);return s===c?s0(s)===s0(c):isNaN(s)&&isNaN(c)}return!1}(n,t);case 9:return T_(n.arrayValue.values||[],t.arrayValue.values||[],jc);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(CH(s)!==CH(c))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===c[h]||!jc(s[h],c[h])))return!1;return!0}(n,t);default:return _t()}var r}function o0(n,t){return void 0!==(n.values||[]).find(e=>jc(e,t))}function Sh(n,t){if(n===t)return 0;const e=Ep(n),i=Ep(t);if(e!==i)return nn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return nn(n.booleanValue,t.booleanValue);case 2:return function(r,s){const c=Hi(r.integerValue||r.doubleValue),h=Hi(s.integerValue||s.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,t);case 3:return DH(n.timestampValue,t.timestampValue);case 4:return DH(n0(n),n0(t));case 5:return nn(n.stringValue,t.stringValue);case 6:return function(r,s){const c=Cp(r),h=Cp(s);return c.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const c=r.split("/"),h=s.split("/");for(let p=0;p<c.length&&p<h.length;p++){const _=nn(c[p],h[p]);if(0!==_)return _}return nn(c.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const c=nn(Hi(r.latitude),Hi(s.latitude));return 0!==c?c:nn(Hi(r.longitude),Hi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const c=r.values||[],h=s.values||[];for(let p=0;p<c.length&&p<h.length;++p){const _=Sh(c[p],h[p]);if(_)return _}return nn(c.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===Dh_mapValue&&s===Dh_mapValue)return 0;if(r===Dh_mapValue)return 1;if(s===Dh_mapValue)return-1;const c=r.fields||{},h=Object.keys(c),p=s.fields||{},_=Object.keys(p);h.sort(),_.sort();for(let w=0;w<h.length&&w<_.length;++w){const T=nn(h[w],_[w]);if(0!==T)return T;const A=Sh(c[h[w]],p[_[w]]);if(0!==A)return A}return nn(h.length,_.length)}(n.mapValue,t.mapValue);default:throw _t()}}function DH(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return nn(n,t);const e=Th(n),i=Th(t),r=nn(e.seconds,i.seconds);return 0!==r?r:nn(e.nanos,i.nanos)}function D_(n){return Q1(n)}function Q1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Th(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Cp(n.bytesValue).toBase64():"referenceValue"in n?rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=Q1(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const h of r)c?c=!1:s+=",",s+=`${h}:${Q1(i.fields[h])}`;return s+"}"}(n.mapValue):_t();var t}function Tp(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function J1(n){return!!n&&"integerValue"in n}function a0(n){return!!n&&"arrayValue"in n}function SH(n){return!!n&&"nullValue"in n}function xH(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function OD(n){return!!n&&"mapValue"in n}function l0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return wp(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=l0(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=l0(n.arrayValue.values[e]);return t}return Object.assign({},n)}function AH(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class ks{constructor(t){this.value=t}static empty(){return new ks({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!OD(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=l0(e)}setAll(t){let e=jr.emptyPath(),i={},r=[];t.forEach((c,h)=>{if(!e.isImmediateParentOf(h)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=l0(c):r.push(h.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());OD(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return jc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];OD(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){wp(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new ks(l0(this.value))}}function RH(n){const t=[];return wp(n.fields,(e,i)=>{const r=new jr([e]);if(OD(i)){const s=RH(i.mapValue).fields;if(0===s.length)t.push(r);else for(const c of s)t.push(r.child(c))}else t.push(r)}),new I_(t)}class yi{constructor(t,e,i,r,s,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(t){return new yi(t,0,Rt.min(),Rt.min(),ks.empty(),0)}static newFoundDocument(t,e,i){return new yi(t,1,e,Rt.min(),i,0)}static newNoDocument(t,e){return new yi(t,2,e,Rt.min(),ks.empty(),0)}static newUnknownDocument(t,e){return new yi(t,3,e,Rt.min(),ks.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ks.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ks.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof yi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function zY(n){return new zl(n.readTime,n.key,-1)}class zl{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new zl(Rt.min(),rt.empty(),-1)}static max(){return new zl(Rt.max(),rt.empty(),-1)}}function PH(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=rt.comparator(n.documentKey,t.documentKey),0!==e?e:nn(n.largestBatchId,t.largestBatchId))}class Qi{constructor(t,e){this.comparator=t,this.root=e||ds.EMPTY}insert(t,e){return new Qi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ds.BLACK,null,null))}remove(t){return new Qi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ds.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new FD(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new FD(this.root,t,this.comparator,!1)}getReverseIterator(){return new FD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new FD(this.root,t,this.comparator,!0)}}class FD{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ds{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=null!=i?i:ds.RED,this.left=null!=r?r:ds.EMPTY,this.right=null!=s?s:ds.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new ds(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ds.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return ds.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ds.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ds.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const t=this.left.check();if(t!==this.right.check())throw _t();return t+(this.isRed()?0:1)}}ds.EMPTY=null,ds.RED=!0,ds.BLACK=!1,ds.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(n,t,e,i,r){return this}insert(n,t,e){return new ds(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ui{constructor(t){this.comparator=t,this.data=new Qi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new NH(this.data.getIterator())}getIteratorFrom(t){return new NH(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof ui)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ui(this.comparator);return e.data=t,e}}class NH{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class GY{constructor(t,e=null,i=[],r=[],s=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=h,this.P=null}}function FH(n,t=null,e=[],i=[],r=null,s=null,c=null){return new GY(n,t,e,i,r,s,c)}function Dp(n){const t=st(n);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+D_(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),r0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>D_(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>D_(i)).join(",")),t.P=e}return t.P}function u0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!XY(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!jc(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!HH(n.startAt,t.startAt)&&HH(n.endAt,t.endAt)}function LD(n){return rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class hs extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.V(t,e,i):new WY(t,e,i):"array-contains"===e?new YY(t,i):"in"===e?new KY(t,i):"not-in"===e?new QY(t,i):"array-contains-any"===e?new JY(t,i):new hs(t,e,i)}static V(t,e,i){return"in"===e?new qY(t,i):new ZY(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(Sh(e,this.value)):null!==e&&Ep(this.value)===Ep(e)&&this.v(Sh(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return _t()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class WY extends hs{constructor(t,e,i){super(t,e,i),this.key=rt.fromName(i.referenceValue)}matches(t){const e=rt.comparator(t.key,this.key);return this.v(e)}}class qY extends hs{constructor(t,e){super(t,"in",e),this.keys=VH(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class ZY extends hs{constructor(t,e){super(t,"not-in",e),this.keys=VH(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function VH(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>rt.fromName(i.referenceValue))}class YY extends hs{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return a0(e)&&o0(e.arrayValue,this.value)}}class KY extends hs{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&o0(this.value.arrayValue,e)}}class QY extends hs{constructor(t,e){super(t,"not-in",e)}matches(t){if(o0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!o0(this.value.arrayValue,e)}}class JY extends hs{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!a0(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>o0(this.value.arrayValue,i))}}class xh{constructor(t,e){this.position=t,this.inclusive=e}}class x_{constructor(t,e="asc"){this.field=t,this.dir=e}}function XY(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function UH(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],c=n.position[r];if(i=s.field.isKeyField()?rt.comparator(rt.fromName(c.referenceValue),e.key):Sh(c,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function HH(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!jc(n.position[e],t.position[e]))return!1;return!0}class Yu{constructor(t,e=null,i=[],r=[],s=null,c="F",h=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=h,this.endAt=p,this.D=null,this.C=null}}function A_(n){return new Yu(n)}function eO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function tO(n){for(const t of n.filters)if(t.S())return t.field;return null}function nO(n){return null!==n.collectionGroup}function M_(n){const t=st(n);if(null===t.D){t.D=[];const e=tO(t),i=eO(t);if(null!==e&&null===i)e.isKeyField()||t.D.push(new x_(e)),t.D.push(new x_(jr.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.D.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new x_(jr.keyField(),s))}}}return t.D}function Xa(n){const t=st(n);if(!t.C)if("F"===t.limitType)t.C=FH(t.path,t.collectionGroup,M_(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of M_(t))e.push(new x_(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new xh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xh(t.startAt.position,t.startAt.inclusive):null;t.C=FH(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.C}function d0(n,t){return u0(Xa(n),Xa(t))&&n.limitType===t.limitType}function GH(n){return`${Dp(Xa(n))}|lt:${n.limitType}`}function iO(n){return`Query(target=${function $Y(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${D_(i.value)}`;var i}).join(", ")}]`),r0(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>D_(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>D_(e)).join(",")),`Target(${t})`}(Xa(n))}; limitType=${n.limitType})`}function rO(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):rt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,c){const h=UH(r,s,c);return r.inclusive?h<=0:h<0}(e.startAt,M_(e),i)||e.endAt&&!function(r,s,c){const h=UH(r,s,c);return r.inclusive?h>=0:h>0}(e.endAt,M_(e),i)));var e,i}function WH(n){return(t,e)=>{let i=!1;for(const r of M_(n)){const s=tK(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function tK(n,t,e){const i=n.field.isKeyField()?rt.comparator(t.key,e.key):function(r,s,c){const h=s.data.field(r),p=c.data.field(r);return null!==h&&null!==p?Sh(h,p):_t()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return _t()}}function qH(n,t){if(n.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:s0(t)?"-0":t}}function ZH(n){return{integerValue:""+n}}function YH(n,t){return function IH(n){return"number"==typeof n&&Number.isInteger(n)&&!s0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(t)?ZH(t):qH(n,t)}class VD{constructor(){this._=void 0}}function nK(n,t,e){return n instanceof k_?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof Sp?QH(n,t):n instanceof xp?JH(n,t):function(i,r){const s=KH(i,r),c=XH(s)+XH(i.k);return J1(s)&&J1(i.k)?ZH(c):qH(i.M,c)}(n,t)}function iK(n,t,e){return n instanceof Sp?QH(n,t):n instanceof xp?JH(n,t):e}function KH(n,t){return n instanceof R_?J1(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class k_ extends VD{}class Sp extends VD{constructor(t){super(),this.elements=t}}function QH(n,t){const e=ej(t);for(const i of n.elements)e.some(r=>jc(r,i))||e.push(i);return{arrayValue:{values:e}}}class xp extends VD{constructor(t){super(),this.elements=t}}function JH(n,t){let e=ej(t);for(const i of n.elements)e=e.filter(r=>!jc(r,i));return{arrayValue:{values:e}}}class R_ extends VD{constructor(t,e){super(),this.M=t,this.k=e}}function XH(n){return Hi(n.integerValue||n.doubleValue)}function ej(n){return a0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class sK{constructor(t,e){this.version=t,this.transformResults=e}}class gr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new gr}static exists(t){return new gr(void 0,t)}static updateTime(t){return new gr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function UD(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class HD{}function oK(n,t,e){n instanceof f0?function(i,r,s){const c=i.value.clone(),h=rj(i.fieldTransforms,r,s.transformResults);c.setAll(h),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Ap?function(i,r,s){if(!UD(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=rj(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(ij(i)),h.setAll(c),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function sO(n,t,e){var r;n instanceof f0?function(i,r,s){if(!UD(i.precondition,r))return;const c=i.value.clone(),h=sj(i.fieldTransforms,s,r);c.setAll(h),r.convertToFoundDocument(nj(r),c).setHasLocalMutations()}(n,t,e):n instanceof Ap?function(i,r,s){if(!UD(i.precondition,r))return;const c=sj(i.fieldTransforms,s,r),h=r.data;h.setAll(ij(i)),h.setAll(c),r.convertToFoundDocument(nj(r),h).setHasLocalMutations()}(n,t,e):UD(n.precondition,r=t)&&r.convertToNoDocument(Rt.min())}function aK(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=KH(i.transform,r||null);null!=s&&(null==e&&(e=ks.empty()),e.set(i.field,s))}return e||null}function tj(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&T_(e,i,(r,s)=>function rK(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Sp&&i instanceof Sp||e instanceof xp&&i instanceof xp?T_(e.elements,i.elements,jc):e instanceof R_&&i instanceof R_?jc(e.k,i.k):e instanceof k_&&i instanceof k_);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function nj(n){return n.isFoundDocument()?n.version:Rt.min()}class f0 extends HD{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class Ap extends HD{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}}function ij(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function rj(n,t,e){const i=new Map;Lt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],c=s.transform,h=t.data.field(s.field);i.set(s.field,iK(c,h,e[r]))}return i}function sj(n,t,e){const i=new Map;for(const r of n){const s=r.transform,c=e.data.field(r.field);i.set(r.field,nK(s,c,t))}return i}class p0 extends HD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class oO extends HD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class lK{constructor(t){this.count=t}}var mr,Dn;function oj(n){switch(n){default:return _t();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0}}function aj(n){if(void 0===n)return fr("GRPC error has no .code"),Te.UNKNOWN;switch(n){case mr.OK:return Te.OK;case mr.CANCELLED:return Te.CANCELLED;case mr.UNKNOWN:return Te.UNKNOWN;case mr.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case mr.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case mr.INTERNAL:return Te.INTERNAL;case mr.UNAVAILABLE:return Te.UNAVAILABLE;case mr.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case mr.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case mr.NOT_FOUND:return Te.NOT_FOUND;case mr.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case mr.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case mr.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case mr.ABORTED:return Te.ABORTED;case mr.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case mr.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case mr.DATA_LOSS:return Te.DATA_LOSS;default:return _t()}}(Dn=mr||(mr={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";class Ah{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){wp(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return EH(this.inner)}size(){return this.innerSize}}const cK=new Qi(rt.comparator);function el(){return cK}const uK=new Qi(rt.comparator);function aO(...n){let t=uK;for(const e of n)t=t.insert(e.key,e);return t}function g0(){return new Ah(n=>n.toString(),(n,t)=>n.isEqual(t))}const dK=new Qi(rt.comparator),hK=new ui(rt.comparator);function jn(...n){let t=hK;for(const e of n)t=t.add(e);return t}const fK=new ui(nn);function jD(){return fK}class m0{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,_0.createSynthesizedTargetChangeForCurrentChange(t,e)),new m0(Rt.min(),i,jD(),el(),jn())}}class _0{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new _0(xr.EMPTY_BYTE_STRING,e,jn(),jn(),jn())}}class zD{constructor(t,e,i,r){this.O=t,this.removedTargetIds=e,this.key=i,this.F=r}}class lj{constructor(t,e){this.targetId=t,this.$=e}}class cj{constructor(t,e,i=xr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class uj{constructor(){this.B=0,this.L=hj(),this.U=xr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(t){t.approximateByteSize()>0&&(this.K=!0,this.U=t)}H(){let t=jn(),e=jn(),i=jn();return this.L.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:_t()}}),new _0(this.U,this.q,t,e,i)}J(){this.K=!1,this.L=hj()}Y(t,e){this.K=!0,this.L=this.L.insert(t,e)}X(t){this.K=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class pK{constructor(t){this.nt=t,this.st=new Map,this.it=el(),this.rt=dj(),this.ot=new ui(nn)}ut(t){for(const e of t.O)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ht(t){this.forEachTarget(t,e=>{const i=this.lt(e);switch(t.state){case 0:this.ft(e)&&i.W(t.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(t.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(e);break;case 3:this.ft(e)&&(i.et(),i.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),i.W(t.resumeToken));break;default:_t()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach((i,r)=>{this.ft(r)&&e(r)})}_t(t){const e=t.targetId,i=t.$.count,r=this.wt(e);if(r){const s=r.target;if(LD(s))if(0===i){const c=new rt(s.path);this.ct(e,c,yi.newNoDocument(c,Rt.min()))}else Lt(1===i);else this.gt(e)!==i&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach((s,c)=>{const h=this.wt(c);if(h){if(s.current&&LD(h.target)){const p=new rt(h.target.path);null!==this.it.get(p)||this.It(c,p)||this.ct(c,p,yi.newNoDocument(p,t))}s.j&&(e.set(c,s.H()),s.J())}});let i=jn();this.rt.forEach((s,c)=>{let h=!0;c.forEachWhile(p=>{const _=this.wt(p);return!_||2===_.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.it.forEach((s,c)=>c.setReadTime(t));const r=new m0(t,e,this.ot,this.it,i);return this.it=el(),this.rt=dj(),this.ot=new ui(nn),r}at(t,e){if(!this.ft(t))return;const i=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,i),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,i){if(!this.ft(t))return;const r=this.lt(t);this.It(t,e)?r.Y(e,1):r.X(e),this.rt=this.rt.insert(e,this.Tt(e).delete(t)),i&&(this.it=this.it.insert(e,i))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new uj,this.st.set(t,e)),e}Tt(t){let e=this.rt.get(t);return e||(e=new ui(nn),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||Ye("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.G?null:this.nt.Et(t)}dt(t){this.st.set(t,new uj),this.nt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function dj(){return new Qi(rt.comparator)}function hj(){return new Qi(rt.comparator)}const gK={asc:"ASCENDING",desc:"DESCENDING"},mK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class _K{constructor(t,e){this.databaseId=t,this.N=e}}function y0(n,t){return n.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fj(n,t){return n.N?t.toBase64():t.toUint8Array()}function yK(n,t){return y0(n,t.toTimestamp())}function zr(n){return Lt(!!n),Rt.fromTimestamp(function(t){const e=Th(t);return new pr(e.seconds,e.nanos)}(n))}function lO(n,t){return(e=n,new In(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function pj(n){const t=In.fromString(n);return Lt(Ej(t)),t}function v0(n,t){return lO(n.databaseId,t.path)}function zc(n,t){const e=pj(t);if(e.get(1)!==n.databaseId.projectId)throw new ze(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ze(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new rt(mj(e))}function cO(n,t){return lO(n.databaseId,t)}function b0(n){return new In(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mj(n){return Lt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function _j(n,t,e){return{name:v0(n,t),fields:e.value.mapValue.fields}}function vj(n,t){return{documents:[cO(n,t.path)]}}function bj(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=cO(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=cO(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const _=p.map(w=>function(T){if("=="===T.op){if(xH(T.value))return{unaryFilter:{field:O_(T.field),op:"IS_NAN"}};if(SH(T.value))return{unaryFilter:{field:O_(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(xH(T.value))return{unaryFilter:{field:O_(T.field),op:"IS_NOT_NAN"}};if(SH(T.value))return{unaryFilter:{field:O_(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:O_(T.field),op:TK(T.op),value:T.value}}}(w));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(_=>{return{field:O_((w=_).field),direction:EK(w.dir)};var w})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const c=(_=t.limit,n.N||r0(_)?_:{value:_});var _,h,p;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function wj(n){let t=function gj(n){const t=pj(n);return 4===t.length?In.emptyPath():mj(t)}(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Lt(1===i);const w=e.from[0];w.allDescendants?r=w.collectionId:t=t.child(w.collectionId)}let s=[];e.where&&(s=Cj(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(w=>{return new x_(P_((T=w).field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let h=null;e.limit&&(h=function(w){let T;return T="object"==typeof w?w.value:w,r0(T)?null:T}(e.limit));let p=null;var w;e.startAt&&(p=new xh((w=e.startAt).values||[],!!w.before));let _=null;return e.endAt&&(_=function(w){return new xh(w.values||[],!w.before)}(e.endAt)),function jH(n,t,e,i,r,s,c,h){return new Yu(n,t,e,i,r,s,c,h)}(t,r,c,s,h,"F",p,_)}function Cj(n){return n?void 0!==n.unaryFilter?[DK(n)]:void 0!==n.fieldFilter?[IK(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>Cj(t)).reduce((t,e)=>t.concat(e)):_t():[]}function EK(n){return gK[n]}function TK(n){return mK[n]}function O_(n){return{fieldPath:n.canonicalString()}}function P_(n){return jr.fromServerFormat(n.fieldPath)}function IK(n){return hs.create(P_(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(n.fieldFilter.op),n.fieldFilter.value)}function DK(n){switch(n.unaryFilter.op){case"IS_NAN":const t=P_(n.unaryFilter.field);return hs.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=P_(n.unaryFilter.field);return hs.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=P_(n.unaryFilter.field);return hs.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=P_(n.unaryFilter.field);return hs.create(r,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}function SK(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ej(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}const Aj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ie{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ie((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ie?e:Ie.resolve(e)}catch(e){return Ie.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ie.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ie.reject(e)}static resolve(t){return new Ie((e,i)=>{e(t)})}static reject(t){return new Ie((e,i)=>{i(t)})}static waitFor(t){return new Ie((e,i)=>{let r=0,s=0,c=!1;t.forEach(h=>{++r,h.next(()=>{++s,c&&s===r&&e()},p=>i(p))}),c=!0,s===r&&e()})}static or(t){let e=Ie.resolve(!1);for(const i of t)e=e.next(r=>r?Ie.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}}function Mp(n){return"IndexedDbTransactionError"===n.name}class hO{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&oK(s,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&sO(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&sO(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Rt.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),jn())}isEqual(t){return this.batchId===t.batchId&&T_(this.mutations,t.mutations,(e,i)=>tj(e,i))&&T_(this.baseMutations,t.baseMutations,(e,i)=>tj(e,i))}}class fO{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Lt(t.mutations.length===i.length);let r=dK;const s=t.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new fO(t,e,i,r)}}class pO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Mh{constructor(t,e,i,r,s=Rt.min(),c=Rt.min(),h=xr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h}withSequenceNumber(t){return new Mh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Mh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Mh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class Rj{constructor(t){this.Jt=t}}function gO(n){const t=wj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?function zH(n,t,e){return new Yu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}(t,t.limit,"L"):t}class Pp{constructor(){}Zt(t,e){this.te(t,e),e.ee()}te(t,e){if("nullValue"in t)this.ne(e,5);else if("booleanValue"in t)this.ne(e,10),e.se(t.booleanValue?1:0);else if("integerValue"in t)this.ne(e,15),e.se(Hi(t.integerValue));else if("doubleValue"in t){const i=Hi(t.doubleValue);isNaN(i)?this.ne(e,13):(this.ne(e,15),s0(i)?e.se(0):e.se(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ne(e,20),"string"==typeof i?e.ie(i):(e.ie(`${i.seconds||""}`),e.se(i.nanos||0))}else if("stringValue"in t)this.re(t.stringValue,e),this.oe(e);else if("bytesValue"in t)this.ne(e,30),e.ue(Cp(t.bytesValue)),this.oe(e);else if("referenceValue"in t)this.ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ne(e,45),e.se(i.latitude||0),e.se(i.longitude||0)}else"mapValue"in t?AH(t)?this.ne(e,Number.MAX_SAFE_INTEGER):(this.ce(t.mapValue,e),this.oe(e)):"arrayValue"in t?(this.he(t.arrayValue,e),this.oe(e)):_t()}re(t,e){this.ne(e,25),this.le(t,e)}le(t,e){e.ie(t)}ce(t,e){const i=t.fields||{};this.ne(e,55);for(const r of Object.keys(i))this.re(r,e),this.te(i[r],e)}he(t,e){const i=t.values||[];this.ne(e,50);for(const r of i)this.te(r,e)}ae(t,e){this.ne(e,37),rt.fromName(t).path.forEach(i=>{this.ne(e,60),this.le(i,e)})}ne(t,e){t.se(e)}oe(t){t.se(2)}}Pp.fe=new Pp;class n7{constructor(){this.qe=new yO}addToCollectionParentIndex(t,e){return this.qe.add(e),Ie.resolve()}getCollectionParents(t,e){return Ie.resolve(this.qe.getEntries(e))}addFieldIndex(t,e){return Ie.resolve()}deleteFieldIndex(t,e){return Ie.resolve()}getDocumentsMatchingTarget(t,e){return Ie.resolve(null)}getIndexType(t,e){return Ie.resolve(0)}getFieldIndexes(t,e){return Ie.resolve([])}getNextCollectionGroupToUpdate(t){return Ie.resolve(null)}getMinOffset(t,e){return Ie.resolve(zl.min())}updateCollectionGroup(t,e,i){return Ie.resolve()}updateIndexEntries(t,e){return Ie.resolve()}}class yO{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new ui(In.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new ui(In.comparator)).toArray()}}new Uint8Array(0);class No{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new No(t,No.DEFAULT_COLLECTION_PERCENTILE,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}No.DEFAULT_COLLECTION_PERCENTILE=10,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,No.DEFAULT=new No(41943040,No.DEFAULT_COLLECTION_PERCENTILE,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),No.DISABLED=new No(-1,0,0);class Lp{constructor(t){this.mn=t}next(){return this.mn+=2,this.mn}static gn(){return new Lp(0)}static yn(){return new Lp(-1)}}function Bp(n){return bO.apply(this,arguments)}function bO(){return bO=(0,nt.Z)(function*(n){if(n.code!==Te.FAILED_PRECONDITION||n.message!==Aj)throw n;Ye("LocalStore","Unexpectedly lost primary lease")}),bO.apply(this,arguments)}class f7{constructor(t,e,i){this.ds=t,this.Bs=e,this.indexManager=i}Ls(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Us(t,e,i))}Us(t,e,i){return this.ds.getEntry(t,e).next(r=>{for(const s of i)s.applyToLocalView(r);return r})}qs(t,e){t.forEach((i,r)=>{for(const s of e)s.applyToLocalView(r)})}Ks(t,e){return this.ds.getEntries(t,e).next(i=>this.Gs(t,i).next(()=>i))}Gs(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.qs(e,i))}Qs(t,e,i){return rt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(t,e.path):nO(e)?this.Ws(t,e,i):this.zs(t,e,i);var r}js(t,e){return this.Ls(t,new rt(e)).next(i=>{let r=aO();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(t,e,i){const r=e.collectionGroup;let s=aO();return this.indexManager.getCollectionParents(t,r).next(c=>Ie.forEach(c,h=>{const p=(_=e,w=h.child(r),new Yu(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,w;return this.zs(t,p,i).next(_=>{_.forEach((w,T)=>{s=s.insert(w,T)})})}).next(()=>s))}zs(t,e,i){let r;return this.ds.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.Bs.getAllMutationBatchesAffectingQuery(t,e))).next(s=>{for(const c of s)for(const h of c.mutations){const p=h.key;let _=r.get(p);null==_&&(_=yi.newInvalidDocument(p),r=r.insert(p,_)),sO(h,_,c.localWriteTime),_.isFoundDocument()||(r=r.remove(p))}}).next(()=>(r.forEach((s,c)=>{rO(e,c)||(r=r.remove(s))}),r))}}class TO{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Hs=i,this.Js=r}static Ys(t,e){let i=jn(),r=jn();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new TO(t,e.fromCache,i,r)}}class Qj{constructor(){this.Xs=!1}initialize(t,e){this.Zs=t,this.indexManager=e,this.Xs=!0}Qs(t,e,i,r){return this.ti(t,e).next(s=>s||this.ei(t,e,r,i)).next(s=>s||this.ni(t,e))}ti(t,e){return Ie.resolve(null)}ei(t,e,i,r){return function eK(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(e)||r.isEqual(Rt.min())?this.ni(t,e):this.Zs.Ks(t,i).next(s=>{const c=this.si(e,s);return this.ii(e,c,i,r)?this.ni(t,e):(Z1()<=bs.in.DEBUG&&Ye("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),iO(e)),this.ri(t,c,e,function OH(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Rt.fromTimestamp(1e9===i?new pr(e+1,0):new pr(e,i));return new zl(r,rt.empty(),t)}(r,-1)))})}si(t,e){let i=new ui(WH(t));return e.forEach((r,s)=>{rO(t,s)&&(i=i.add(s))}),i}ii(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ni(t,e){return Z1()<=bs.in.DEBUG&&Ye("QueryEngine","Using full collection scan to execute query:",iO(e)),this.Zs.Qs(t,e,zl.min())}ri(t,e,i,r){return this.Zs.Qs(t,i,r).next(s=>(e.forEach(c=>{s=s.insert(c.key,c)}),s))}}class p7{constructor(t,e,i,r){this.persistence=t,this.oi=e,this.M=r,this.ui=new Qi(nn),this.ai=new Ah(s=>Dp(s),u0),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(i)}li(t){this.indexManager=this.persistence.getIndexManager(t),this.Bs=this.persistence.getMutationQueue(t,this.indexManager),this.fi=new f7(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ui))}}function Xj(n,t){return IO.apply(this,arguments)}function IO(){return IO=(0,nt.Z)(function*(n,t){const e=st(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.Bs.getAllMutationBatches(i).next(s=>(r=s,e.li(t),e.Bs.getAllMutationBatches(i))).next(s=>{const c=[],h=[];let p=jn();for(const _ of r){c.push(_.batchId);for(const w of _.mutations)p=p.add(w.key)}for(const _ of s){h.push(_.batchId);for(const w of _.mutations)p=p.add(w.key)}return e.fi.Ks(i,p).next(_=>({di:_,removedBatchIds:c,addedBatchIds:h}))})})}),IO.apply(this,arguments)}function g7(n,t){const e=st(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.hi.newChangeBuffer({trackRemovals:!0});return function(c,h,p,_){const w=p.batch,T=w.keys();let A=Ie.resolve();return T.forEach(F=>{A=A.next(()=>_.getEntry(h,F)).next(B=>{const ae=p.docVersions.get(F);Lt(null!==ae),B.version.compareTo(ae)<0&&(w.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),_.addEntry(B)))})}),A.next(()=>c.Bs.removeMutationBatch(h,w))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.Bs.performConsistencyCheck(i)).next(()=>e.fi.Ks(i,r))})}function e3(n){const t=st(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.fs.getLastRemoteSnapshotVersion(e))}function m7(n,t){const e=st(n),i=t.snapshotVersion;let r=e.ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=e.hi.newChangeBuffer({trackRemovals:!0});r=e.ui;const h=[];t.targetChanges.forEach((_,w)=>{const T=r.get(w);if(!T)return;h.push(e.fs.removeMatchingKeys(s,_.removedDocuments,w).next(()=>e.fs.addMatchingKeys(s,_.addedDocuments,w)));let A=T.withSequenceNumber(s.currentSequenceNumber);var F,B,ae;t.targetMismatches.has(w)?A=A.withResumeToken(xr.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):_.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(_.resumeToken,i)),r=r.insert(w,A),B=A,ae=_,(0===(F=T).resumeToken.approximateByteSize()||B.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8||ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0)&&h.push(e.fs.updateTargetData(s,A))});let p=el();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(s,_))}),h.push(function t3(n,t,e){let i=jn();return e.forEach(r=>i=i.add(r)),t.getEntries(n,i).next(r=>{let s=el();return e.forEach((c,h)=>{const p=r.get(c);h.isNoDocument()&&h.version.isEqual(Rt.min())?(t.removeEntry(c,h.readTime),s=s.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||0===h.version.compareTo(p.version)&&p.hasPendingWrites?(t.addEntry(h),s=s.insert(c,h)):Ye("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),s})}(s,c,t.documentUpdates).next(_=>{p=_})),!i.isEqual(Rt.min())){const _=e.fs.getLastRemoteSnapshotVersion(s).next(w=>e.fs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(_)}return Ie.waitFor(h).next(()=>c.apply(s)).next(()=>e.fi.Gs(s,p)).next(()=>p)}).then(s=>(e.ui=r,s))}function _7(n,t){const e=st(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.Bs.getNextMutationBatchAfterBatchId(i,t)))}function B_(n,t){const e=st(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.fs.getTargetData(i,t).next(s=>s?(r=s,Ie.resolve(r)):e.fs.allocateTargetId(i).next(c=>(r=new Mh(t,c,0,i.currentSequenceNumber),e.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ui=e.ui.insert(i.targetId,i),e.ai.set(t,i.targetId)),i})}function V_(n,t,e){return DO.apply(this,arguments)}function DO(){return DO=(0,nt.Z)(function*(n,t,e){const i=st(n),r=i.ui.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Mp(c))throw c;Ye("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.ui=i.ui.remove(t),i.ai.delete(r.target)}),DO.apply(this,arguments)}function XD(n,t,e){const i=st(n);let r=Rt.min(),s=jn();return i.persistence.runTransaction("Execute query","readonly",c=>function(h,p,_){const w=st(h),T=w.ai.get(_);return void 0!==T?Ie.resolve(w.ui.get(T)):w.fs.getTargetData(p,_)}(i,c,Xa(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(c,h.targetId).next(p=>{s=p})}).next(()=>i.oi.Qs(c,t,e?r:Rt.min(),e?s:jn())).next(h=>(function s3(n,t,e){let i=Rt.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.ci.set(t,i)}(i,function $H(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(t),h),{documents:h,_i:s})))}class b7{constructor(t){this.M=t,this.yi=new Map,this.pi=new Map}getBundleMetadata(t,e){return Ie.resolve(this.yi.get(e))}saveBundleMetadata(t,e){var i;return this.yi.set(e.id,{id:(i=e).id,version:i.version,createTime:zr(i.createTime)}),Ie.resolve()}getNamedQuery(t,e){return Ie.resolve(this.pi.get(e))}saveNamedQuery(t,e){return this.pi.set(e.name,{name:(i=e).name,query:gO(i.bundledQuery),readTime:zr(i.readTime)}),Ie.resolve();var i}}class w7{constructor(){this.overlays=new Qi(rt.comparator),this.Ii=new Map}getOverlay(t,e){return Ie.resolve(this.overlays.get(e))}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.Xt(t,e,s)}),Ie.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Ii.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ii.delete(i)),Ie.resolve()}getOverlaysForCollection(t,e,i){const r=g0(),s=e.length+1,c=new rt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,_=p.getKey();if(!e.isPrefixOf(_.path))break;_.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return Ie.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Qi((_,w)=>_-w);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===e&&_.largestBatchId>i){let w=s.get(_.largestBatchId);null===w&&(w=g0(),s=s.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const h=g0(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,w)=>h.set(_,w)),!(h.size()>=r)););return Ie.resolve(h)}Xt(t,e,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const c=this.Ii.get(r.largestBatchId).delete(i.key);this.Ii.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new pO(e,i));let s=this.Ii.get(e);void 0===s&&(s=jn(),this.Ii.set(e,s)),this.Ii.set(e,s.add(i.key))}}class AO{constructor(){this.Ti=new ui($r.Ei),this.Ai=new ui($r.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(t,e){const i=new $r(t,e);this.Ti=this.Ti.add(i),this.Ai=this.Ai.add(i)}bi(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Pi(new $r(t,e))}Vi(t,e){t.forEach(i=>this.removeReference(i,e))}vi(t){const e=new rt(new In([])),i=new $r(e,t),r=new $r(e,t+1),s=[];return this.Ai.forEachInRange([i,r],c=>{this.Pi(c),s.push(c.key)}),s}Si(){this.Ti.forEach(t=>this.Pi(t))}Pi(t){this.Ti=this.Ti.delete(t),this.Ai=this.Ai.delete(t)}Di(t){const e=new rt(new In([])),i=new $r(e,t),r=new $r(e,t+1);let s=jn();return this.Ai.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(t){const e=new $r(t,0),i=this.Ti.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class $r{constructor(t,e){this.key=t,this.Ci=e}static Ei(t,e){return rt.comparator(t.key,e.key)||nn(t.Ci,e.Ci)}static Ri(t,e){return nn(t.Ci,e.Ci)||rt.comparator(t.key,e.key)}}class C7{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.Bs=[],this.xi=1,this.Ni=new ui($r.Ei)}checkEmpty(t){return Ie.resolve(0===this.Bs.length)}addMutationBatch(t,e,i,r){const s=this.xi;this.xi++;const c=new hO(s,e,i,r);this.Bs.push(c);for(const h of r)this.Ni=this.Ni.add(new $r(h.key,s)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return Ie.resolve(c)}lookupMutationBatch(t,e){return Ie.resolve(this.ki(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Mi(e+1),s=r<0?0:r;return Ie.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(t){return Ie.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new $r(e,0),r=new $r(e,Number.POSITIVE_INFINITY),s=[];return this.Ni.forEachInRange([i,r],c=>{const h=this.ki(c.Ci);s.push(h)}),Ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ui(nn);return e.forEach(r=>{const s=new $r(r,0),c=new $r(r,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([s,c],h=>{i=i.add(h.Ci)})}),Ie.resolve(this.Oi(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;rt.isDocumentKey(s)||(s=s.child(""));const c=new $r(new rt(s),0);let h=new ui(nn);return this.Ni.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(h=h.add(p.Ci)),!0)},c),Ie.resolve(this.Oi(h))}Oi(t){const e=[];return t.forEach(i=>{const r=this.ki(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Lt(0===this.Fi(e.batchId,"removed")),this.Bs.shift();let i=this.Ni;return Ie.forEach(e.mutations,r=>{const s=new $r(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Ni=i})}_n(t){}containsKey(t,e){const i=new $r(e,0),r=this.Ni.firstAfterOrEqual(i);return Ie.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Ie.resolve()}Fi(t,e){return this.Mi(t)}Mi(t){return 0===this.Bs.length?0:t-this.Bs[0].batchId}ki(t){const e=this.Mi(t);return e<0||e>=this.Bs.length?null:this.Bs[e]}}class E7{constructor(t){this.$i=t,this.docs=new Qi(rt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,c=this.$i(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Ie.resolve(i?i.document.mutableCopy():yi.newInvalidDocument(e))}getEntries(t,e){let i=el();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():yi.newInvalidDocument(r))}),Ie.resolve(i)}getAllFromCollection(t,e,i){let r=el();const s=new rt(e.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||PH(zY(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return Ie.resolve(r)}getAllFromCollectionGroup(t,e,i,r){_t()}Bi(t,e){return Ie.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new T7(this)}getSize(t){return Ie.resolve(this.size)}}class T7 extends class c7{constructor(){this.changes=new Ah(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,yi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Ie.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}{constructor(t){super(),this.Kn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Kn.addEntry(t,r)):this.Kn.removeEntry(i)}),Ie.waitFor(e)}getFromCache(t,e){return this.Kn.getEntry(t,e)}getAllFromCache(t,e){return this.Kn.getEntries(t,e)}}class I7{constructor(t){this.persistence=t,this.Li=new Ah(e=>Dp(e),u0),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.Ui=0,this.qi=new AO,this.targetCount=0,this.Ki=Lp.gn()}forEachTarget(t,e){return this.Li.forEach((i,r)=>e(r)),Ie.resolve()}getLastRemoteSnapshotVersion(t){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ie.resolve(this.Ui)}allocateTargetId(t){return this.highestTargetId=this.Ki.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ui&&(this.Ui=e),Ie.resolve()}Tn(t){this.Li.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ki=new Lp(e),this.highestTargetId=e),t.sequenceNumber>this.Ui&&(this.Ui=t.sequenceNumber)}addTargetData(t,e){return this.Tn(e),this.targetCount+=1,Ie.resolve()}updateTargetData(t,e){return this.Tn(e),Ie.resolve()}removeTargetData(t,e){return this.Li.delete(e.target),this.qi.vi(e.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Li.forEach((c,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Li.delete(c),s.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),Ie.waitFor(s).next(()=>r)}getTargetCount(t){return Ie.resolve(this.targetCount)}getTargetData(t,e){const i=this.Li.get(e)||null;return Ie.resolve(i)}addMatchingKeys(t,e,i){return this.qi.bi(e,i),Ie.resolve()}removeMatchingKeys(t,e,i){this.qi.Vi(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(c=>{s.push(r.markPotentiallyOrphaned(t,c))}),Ie.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.qi.vi(e),Ie.resolve()}getMatchingKeysForTargetId(t,e){const i=this.qi.Di(e);return Ie.resolve(i)}containsKey(t,e){return Ie.resolve(this.qi.containsKey(e))}}class D7{constructor(t,e){this.Gi={},this.overlays={},this.es=new la(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new I7(this),this.indexManager=new n7,this.ds=new E7(i=>this.referenceDelegate.Qi(i)),this.M=new Rj(e),this._s=new b7(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new w7,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Gi[t.toKey()];return i||(i=new C7(e,this.referenceDelegate),this.Gi[t.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(t,e,i){Ye("MemoryPersistence","Starting transaction:",t);const r=new S7(this.es.next());return this.referenceDelegate.ji(),i(r).next(s=>this.referenceDelegate.Wi(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}zi(t,e){return Ie.or(Object.values(this.Gi).map(i=>()=>i.containsKey(t,e)))}}class S7 extends class WK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}{constructor(t){super(),this.currentSequenceNumber=t}}class MO{constructor(t){this.persistence=t,this.Hi=new AO,this.Ji=null}static Yi(t){return new MO(t)}get Xi(){if(this.Ji)return this.Ji;throw _t()}addReference(t,e,i){return this.Hi.addReference(i,e),this.Xi.delete(i.toString()),Ie.resolve()}removeReference(t,e,i){return this.Hi.removeReference(i,e),this.Xi.add(i.toString()),Ie.resolve()}markPotentiallyOrphaned(t,e){return this.Xi.add(e.toString()),Ie.resolve()}removeTarget(t,e){this.Hi.vi(e.targetId).forEach(r=>this.Xi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Xi.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}ji(){this.Ji=new Set}Wi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.Xi,i=>{const r=rt.fromPath(i);return this.Zi(t,r).next(s=>{s||e.removeEntry(r,Rt.min())})}).next(()=>(this.Ji=null,e.apply(t)))}updateLimboDocument(t,e){return this.Zi(t,e).next(i=>{i?this.Xi.delete(e.toString()):this.Xi.add(e.toString())})}Qi(t){return 0}Zi(t,e){return Ie.or([()=>Ie.resolve(this.Hi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.zi(t,e)])}}class OO{constructor(){this.activeTargetIds=jD()}nr(t){this.activeTargetIds=this.activeTargetIds.add(t)}sr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}er(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class l3{constructor(){this.Ur=new OO,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Ur.nr(t),this.qr[t]||"not-current"}updateQueryState(t,e,i){this.qr[t]=e}removeLocalQueryTarget(t){this.Ur.sr(t)}isLocalQueryTarget(t){return this.Ur.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(t){return this.Ur.activeTargetIds.has(t)}start(){return this.Ur=new OO,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class x7{Kr(t){}shutdown(){}}class c3{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(t){this.zr.push(t)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.zr)t(0)}Wr(){Ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.zr)t(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const A7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class M7{constructor(t){this.Jr=t.Jr,this.Yr=t.Yr}Xr(t){this.Zr=t}eo(t){this.no=t}onMessage(t){this.so=t}close(){this.Yr()}send(t){this.Jr(t)}io(){this.Zr()}ro(t){this.no(t)}oo(t){this.so(t)}}class k7 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.uo=(t.ssl?"https":"http")+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(t,e,i,r,s){const c=this.ho(t,e);Ye("RestConnection","Sending: ",c,i);const h={};return this.lo(h,r,s),this.fo(t,c,h,i).then(p=>(Ye("RestConnection","Received: ",p),p),p=>{throw kD("RestConnection",`${t} failed with error: `,p,"url: ",c,"request:",i),p})}_o(t,e,i,r,s){return this.co(t,e,i,r,s)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+E_,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ho(t,e){return`${this.uo}/v1/${e}:${A7[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((s,c)=>{const h=new MY;h.listenOnce(SY.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case q1.NO_ERROR:const _=h.getResponseJson();Ye("Connection","XHR received:",JSON.stringify(_)),s(_);break;case q1.TIMEOUT:Ye("Connection",'RPC "'+t+'" timed out'),c(new ze(Te.DEADLINE_EXCEEDED,"Request time out"));break;case q1.HTTP_ERROR:const w=h.getStatus();if(Ye("Connection",'RPC "'+t+'" failed with status:',w,"response text:",h.getResponseText()),w>0){const T=h.getResponseJson().error;if(T&&T.status&&T.message){const A=function(F){const B=F.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(B)>=0?B:Te.UNKNOWN}(T.status);c(new ze(A,T.message))}else c(new ze(Te.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new ze(Te.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{Ye("Connection",'RPC "'+t+'" completed.')}});const p=JSON.stringify(r);h.send(e,"POST",p,i,15)})}wo(t,e,i){const r=[this.uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=IY(),c=DY(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new AY({})),this.lo(h.initMessageHeaders,e,i),(0,U.uI)()||(0,U.b$)()||(0,U.d)()||(0,U.w1)()||(0,U.Mn)()||(0,U.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");Ye("Connection","Creating WebChannel: "+p,h);const _=s.createWebChannel(p,h);let w=!1,T=!1;const A=new M7({Jr:B=>{T?Ye("Connection","Not sending because WebChannel is closed:",B):(w||(Ye("Connection","Opening WebChannel transport."),_.open(),w=!0),Ye("Connection","WebChannel sending:",B),_.send(B))},Yr:()=>_.close()}),F=(B,ae,we)=>{B.listen(ae,$e=>{try{we($e)}catch(Je){setTimeout(()=>{throw Je},0)}})};return F(_,MD.EventType.OPEN,()=>{T||Ye("Connection","WebChannel transport opened.")}),F(_,MD.EventType.CLOSE,()=>{T||(T=!0,Ye("Connection","WebChannel transport closed"),A.ro())}),F(_,MD.EventType.ERROR,B=>{T||(T=!0,kD("Connection","WebChannel transport errored:",B),A.ro(new ze(Te.UNAVAILABLE,"The operation could not be completed")))}),F(_,MD.EventType.MESSAGE,B=>{var ae;if(!T){const we=B.data[0];Lt(!!we);const $e=we,Je=$e.error||(null===(ae=$e[0])||void 0===ae?void 0:ae.error);if(Je){Ye("Connection","WebChannel received error:",Je);const Qe=Je.status;let et=function(Bt){const xn=mr[Bt];if(void 0!==xn)return aj(xn)}(Qe),Ut=Je.message;void 0===et&&(et=Te.INTERNAL,Ut="Unknown error status: "+Qe+" with message "+Je.message),T=!0,A.ro(new ze(et,Ut)),_.close()}else Ye("Connection","WebChannel received:",we),A.oo(we)}}),F(c,xY.STAT_EVENT,B=>{B.stat===mH.PROXY?Ye("Connection","Detected buffering proxy"):B.stat===mH.NOPROXY&&Ye("Connection","Detected no buffering proxy")}),setTimeout(()=>{A.io()},0),A}}function nS(){return"undefined"!=typeof document?document:null}function M0(n){return new _K(n,!0)}class NO{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Yn=t,this.timerId=e,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&Ye("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class d3{constructor(t,e,i,r,s,c,h,p){this.Yn=t,this.Vo=i,this.vo=r,this.So=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new NO(t,e)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,nt.Z)(function*(){t.ko()&&(yield t.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(t){this.Uo(),this.stream.send(t)}Bo(){var t=this;return(0,nt.Z)(function*(){if(t.Mo())return t.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(t,e){var i=this;return(0,nt.Z)(function*(){i.Uo(),i.qo(),i.No.cancel(),i.Do++,4!==t?i.No.reset():e&&e.code===Te.RESOURCE_EXHAUSTED?(fr(e.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),i.No.Ao()):e&&e.code===Te.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Ko(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.eo(e)})()}Ko(){}auth(){this.state=1;const t=this.Go(this.Do),e=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Do===e&&this.Qo(i,r)},i=>{t(()=>{const r=new ze(Te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.jo(r)})})}Qo(t,e){const i=this.Go(this.Do);this.stream=this.Wo(t,e),this.stream.Xr(()=>{i(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(r=>{i(()=>this.jo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.No.Ro((0,nt.Z)(function*(){t.state=0,t.start()}))}jo(t){return Ye("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Go(t){return e=>{this.Yn.enqueueAndForget(()=>this.Do===t?e():(Ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R7 extends d3{constructor(t,e,i,r,s,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.M=s}Wo(t,e){return this.So.wo("Listen",t,e)}onMessage(t){this.No.reset();const e=function bK(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:_t(),r=t.targetChange.targetIds||[],s=function(p,_){return p.N?(Lt(void 0===_||"string"==typeof _),xr.fromBase64String(_||"")):(Lt(void 0===_||_ instanceof Uint8Array),xr.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&function(p){const _=void 0===p.code?Te.UNKNOWN:aj(p.code);return new ze(_,p.message||"")}(c);e=new cj(i,r,s,h||null)}else if("documentChange"in t){const i=t.documentChange,r=zc(n,i.document.name),s=zr(i.document.updateTime),c=new ks({mapValue:{fields:i.document.fields}}),h=yi.newFoundDocument(r,s,c);e=new zD(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=zc(n,i.document),s=i.readTime?zr(i.readTime):Rt.min(),c=yi.newNoDocument(r,s);e=new zD([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=zc(n,i.document);e=new zD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return _t();{const i=t.filter,s=new lK(i.count||0);e=new lj(i.targetId,s)}}var p;return e}(this.M,t),i=function(r){if(!("targetChange"in r))return Rt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Rt.min():s.readTime?zr(s.readTime):Rt.min()}(t);return this.listener.zo(e,i)}Ho(t){const e={};e.database=b0(this.M),e.addTarget=function(r,s){let c;const h=s.target;return c=LD(h)?{documents:vj(r,h)}:{query:bj(r,h)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=fj(r,s.resumeToken):s.snapshotVersion.compareTo(Rt.min())>0&&(c.readTime=y0(r,s.snapshotVersion.toTimestamp())),c}(this.M,t);const i=function CK(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _t()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Lo(e)}Jo(t){const e={};e.database=b0(this.M),e.removeTarget=t,this.Lo(e)}}class O7 extends d3{constructor(t,e,i,r,s,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.M=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(t,e){return this.So.wo("Write",t,e)}onMessage(t){if(Lt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Yo){this.No.reset();const e=function wK(n,t){return n&&n.length>0?(Lt(void 0!==t),n.map(e=>function(i,r){let s=zr(i.updateTime?i.updateTime:r);return s.isEqual(Rt.min())&&(s=zr(r)),new sK(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=zr(t.commitTime);return this.listener.tu(i,e)}return Lt(!t.writeResults||0===t.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const t={};t.database=b0(this.M),this.Lo(t)}Zo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>function w0(n,t){let e;if(t instanceof f0)e={update:_j(n,t.key,t.value)};else if(t instanceof p0)e={delete:v0(n,t.key)};else if(t instanceof Ap)e={update:_j(n,t.key,t.data),updateMask:SK(t.fieldMask)};else{if(!(t instanceof oO))return _t();e={verify:v0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof k_)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Sp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof xp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof R_)return{fieldPath:s.field.canonicalString(),increment:c.k};throw _t()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:yK(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:_t()),e;var r}(this.M,i))};this.Lo(e)}}class P7 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.So=i,this.M=r,this.su=!1}iu(){if(this.su)throw new ze(Te.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.So.co(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ze(Te.UNKNOWN,r.toString())})}_o(t,e,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.So._o(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ze(Te.UNKNOWN,r.toString())})}terminate(){this.su=!0}}class N7{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(t){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.fu(),this.ru=0,"Online"===t&&(this.uu=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}hu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(fr(e),this.uu=!1):Ye("OnlineStateTracker",e)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class F7{constructor(t,e,i,r,s){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr(h=>{i.enqueueAndForget((0,nt.Z)(function*(){var p;Oh(c)&&(Ye("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,nt.Z)(function*(_){const w=st(_);w.wu.add(4),yield U_(w),w.yu.set("Unknown"),w.wu.delete(4),yield k0(w)}),function(_){return p.apply(this,arguments)})(c))}))}),this.yu=new N7(i,r)}}function k0(n){return FO.apply(this,arguments)}function FO(){return FO=(0,nt.Z)(function*(n){if(Oh(n))for(const t of n.mu)yield t(!0)}),FO.apply(this,arguments)}function U_(n){return LO.apply(this,arguments)}function LO(){return LO=(0,nt.Z)(function*(n){for(const t of n.mu)yield t(!1)}),LO.apply(this,arguments)}function iS(n,t){const e=st(n);e._u.has(t.targetId)||(e._u.set(t.targetId,t),UO(e)?VO(e):j_(e).Mo()&&BO(e,t))}function R0(n,t){const e=st(n),i=j_(e);e._u.delete(t),i.Mo()&&h3(e,t),0===e._u.size&&(i.Mo()?i.$o():Oh(e)&&e.yu.set("Unknown"))}function BO(n,t){n.pu.Z(t.targetId),j_(n).Ho(t)}function h3(n,t){n.pu.Z(t),j_(n).Jo(t)}function VO(n){n.pu=new pK({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n._u.get(t)||null}),j_(n).start(),n.yu.au()}function UO(n){return Oh(n)&&!j_(n).ko()&&n._u.size>0}function Oh(n){return 0===st(n).wu.size}function f3(n){n.pu=void 0}function L7(n){return HO.apply(this,arguments)}function HO(){return HO=(0,nt.Z)(function*(n){n._u.forEach((t,e)=>{BO(n,t)})}),HO.apply(this,arguments)}function B7(n,t){return jO.apply(this,arguments)}function jO(){return jO=(0,nt.Z)(function*(n,t){f3(n),UO(n)?(n.yu.lu(t),VO(n)):n.yu.set("Unknown")}),jO.apply(this,arguments)}function V7(n,t,e){return zO.apply(this,arguments)}function zO(){return zO=(0,nt.Z)(function*(n,t,e){if(n.yu.set("Online"),t instanceof cj&&2===t.state&&t.cause)try{yield(i=(0,nt.Z)(function*(r,s){const c=s.cause;for(const h of s.targetIds)r._u.has(h)&&(yield r.remoteSyncer.rejectListen(h,c),r._u.delete(h),r.pu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Ye("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield rS(n,i)}else if(t instanceof zD?n.pu.ut(t):t instanceof lj?n.pu._t(t):n.pu.ht(t),!e.isEqual(Rt.min()))try{const i=yield e3(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const c=r.pu.yt(s);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const _=r._u.get(p);_&&r._u.set(p,_.withResumeToken(h.resumeToken,s))}}),c.targetMismatches.forEach(h=>{const p=r._u.get(h);if(!p)return;r._u.set(h,p.withResumeToken(xr.EMPTY_BYTE_STRING,p.snapshotVersion)),h3(r,h);const _=new Mh(p.target,h,1,p.sequenceNumber);BO(r,_)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){Ye("RemoteStore","Failed to raise snapshot:",i),yield rS(n,i)}var i}),zO.apply(this,arguments)}function rS(n,t,e){return GO.apply(this,arguments)}function GO(){return GO=(0,nt.Z)(function*(n,t,e){if(!Mp(t))throw t;n.wu.add(1),yield U_(n),n.yu.set("Offline"),e||(e=()=>e3(n.localStore)),n.asyncQueue.enqueueRetryable((0,nt.Z)(function*(){Ye("RemoteStore","Retrying IndexedDB access"),yield e(),n.wu.delete(1),yield k0(n)}))}),GO.apply(this,arguments)}function p3(n,t){return t().catch(e=>rS(n,e,t))}function H_(n){return $O.apply(this,arguments)}function $O(){return $O=(0,nt.Z)(function*(n){const t=st(n),e=Ph(t);let i=t.du.length>0?t.du[t.du.length-1].batchId:-1;for(;U7(t);)try{const r=yield _7(t.localStore,i);if(null===r){0===t.du.length&&e.$o();break}i=r.batchId,H7(t,r)}catch(r){yield rS(t,r)}g3(t)&&m3(t)}),$O.apply(this,arguments)}function U7(n){return Oh(n)&&n.du.length<10}function H7(n,t){n.du.push(t);const e=Ph(n);e.Mo()&&e.Xo&&e.Zo(t.mutations)}function g3(n){return Oh(n)&&!Ph(n).ko()&&n.du.length>0}function m3(n){Ph(n).start()}function j7(n){return WO.apply(this,arguments)}function WO(){return WO=(0,nt.Z)(function*(n){Ph(n).nu()}),WO.apply(this,arguments)}function z7(n){return qO.apply(this,arguments)}function qO(){return qO=(0,nt.Z)(function*(n){const t=Ph(n);for(const e of n.du)t.Zo(e.mutations)}),qO.apply(this,arguments)}function G7(n,t,e){return ZO.apply(this,arguments)}function ZO(){return ZO=(0,nt.Z)(function*(n,t,e){const i=n.du.shift(),r=fO.from(i,t,e);yield p3(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield H_(n)}),ZO.apply(this,arguments)}function $7(n,t){return YO.apply(this,arguments)}function YO(){return YO=(0,nt.Z)(function*(n,t){var e;t&&Ph(n).Xo&&(yield(e=(0,nt.Z)(function*(i,r){if(oj(s=r.code)&&s!==Te.ABORTED){const c=i.du.shift();Ph(i).Fo(),yield p3(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield H_(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),g3(n)&&m3(n)}),YO.apply(this,arguments)}function _3(n,t){return KO.apply(this,arguments)}function KO(){return KO=(0,nt.Z)(function*(n,t){const e=st(n);e.asyncQueue.verifyOperationInProgress(),Ye("RemoteStore","RemoteStore received new credentials");const i=Oh(e);e.wu.add(3),yield U_(e),i&&e.yu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.wu.delete(3),yield k0(e)}),KO.apply(this,arguments)}function JO(){return JO=(0,nt.Z)(function*(n,t){const e=st(n);t?(e.wu.delete(2),yield k0(e)):t||(e.wu.add(2),yield U_(e),e.yu.set("Unknown"))}),JO.apply(this,arguments)}function j_(n){return n.Iu||(n.Iu=function(t,e,i){const r=st(t);return r.iu(),new R7(e,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:L7.bind(null,n),eo:B7.bind(null,n),zo:V7.bind(null,n)}),n.mu.push(function(){var t=(0,nt.Z)(function*(e){e?(n.Iu.Fo(),UO(n)?VO(n):n.yu.set("Unknown")):(yield n.Iu.stop(),f3(n))});return function(e){return t.apply(this,arguments)}}())),n.Iu}function Ph(n){return n.Tu||(n.Tu=function(t,e,i){const r=st(t);return r.iu(),new O7(e,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:j7.bind(null,n),eo:$7.bind(null,n),eu:z7.bind(null,n),tu:G7.bind(null,n)}),n.mu.push(function(){var t=(0,nt.Z)(function*(e){e?(n.Tu.Fo(),yield H_(n)):(yield n.Tu.stop(),n.du.length>0&&(Ye("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(e){return t.apply(this,arguments)}}())),n.Tu}class XO{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,s){const c=Date.now()+i,h=new XO(t,e,c,r,s);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ze(Te.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function z_(n,t){if(fr("AsyncQueue",`${t}: ${n}`),Mp(n))return new ze(Te.UNAVAILABLE,`${t}: ${n}`);throw n}class G_{constructor(t){this.comparator=t?(e,i)=>t(e,i)||rt.comparator(e.key,i.key):(e,i)=>rt.comparator(e.key,i.key),this.keyedMap=aO(),this.sortedSet=new Qi(this.comparator)}static emptySet(t){return new G_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof G_)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new G_;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class y3{constructor(){this.Eu=new Qi(rt.comparator)}track(t){const e=t.doc.key,i=this.Eu.get(e);i?0!==t.type&&3===i.type?this.Eu=this.Eu.insert(e,t):3===t.type&&1!==i.type?this.Eu=this.Eu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Eu=this.Eu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Eu=this.Eu.remove(e):1===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):_t():this.Eu=this.Eu.insert(e,t)}Au(){const t=[];return this.Eu.inorderTraversal((e,i)=>{t.push(i)}),t}}class $_{constructor(t,e,i,r,s,c,h,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p}static fromInitialDocuments(t,e,i,r){const s=[];return e.forEach(c=>{s.push({type:0,doc:c})}),new $_(t,e,G_.emptySet(e),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&d0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class W7{constructor(){this.Ru=void 0,this.listeners=[]}}class q7{constructor(){this.queries=new Ah(t=>GH(t),d0),this.onlineState="Unknown",this.bu=new Set}}function eP(n,t){return tP.apply(this,arguments)}function tP(){return tP=(0,nt.Z)(function*(n,t){const e=st(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new W7),r)try{s.Ru=yield e.onListen(i)}catch(c){const h=z_(c,`Initialization of query '${iO(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,s),s.listeners.push(t),t.Pu(e.onlineState),s.Ru&&t.Vu(s.Ru)&&rP(e)}),tP.apply(this,arguments)}function nP(n,t){return iP.apply(this,arguments)}function iP(){return iP=(0,nt.Z)(function*(n,t){const e=st(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const c=s.listeners.indexOf(t);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),iP.apply(this,arguments)}function Z7(n,t){const e=st(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const h of c.listeners)h.Vu(r)&&(i=!0);c.Ru=r}}i&&rP(e)}function Y7(n,t,e){const i=st(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function rP(n){n.bu.forEach(t=>{t.next()})}class sP{constructor(t,e,i){this.query=t,this.vu=e,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}Vu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new $_(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Su?this.Cu(t)&&(this.vu.next(t),e=!0):this.xu(t,this.onlineState)&&(this.Nu(t),e=!0),this.Du=t,e}onError(t){this.vu.error(t)}Pu(t){this.onlineState=t;let e=!1;return this.Du&&!this.Su&&this.xu(this.Du,t)&&(this.Nu(this.Du),e=!0),e}xu(t,e){return!t.fromCache||!(this.options.ku&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Cu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(t){t=$_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Su=!0,this.vu.next(t)}}class w3{constructor(t){this.key=t}}class C3{constructor(t){this.key=t}}class E3{constructor(t,e){this.query=t,this.Uu=e,this.qu=null,this.current=!1,this.Ku=jn(),this.mutatedKeys=jn(),this.Gu=WH(t),this.Qu=new G_(this.Gu)}get ju(){return this.Uu}Wu(t,e){const i=e?e.zu:new y3,r=e?e.Qu:this.Qu;let s=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((w,T)=>{const A=r.get(w),F=rO(this.query,T)?T:null,B=!!A&&this.mutatedKeys.has(A.key),ae=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let we=!1;A&&F?A.data.isEqual(F.data)?B!==ae&&(i.track({type:3,doc:F}),we=!0):this.Hu(A,F)||(i.track({type:2,doc:F}),we=!0,(p&&this.Gu(F,p)>0||_&&this.Gu(F,_)<0)&&(h=!0)):!A&&F?(i.track({type:0,doc:F}),we=!0):A&&!F&&(i.track({type:1,doc:A}),we=!0,(p||_)&&(h=!0)),we&&(F?(c=c.add(F),s=ae?s.add(w):s.delete(w)):(c=c.delete(w),s=s.delete(w)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const w="F"===this.query.limitType?c.last():c.first();c=c.delete(w.key),s=s.delete(w.key),i.track({type:1,doc:w})}return{Qu:c,zu:i,ii:h,mutatedKeys:s}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const s=t.zu.Au();s.sort((_,w)=>function(T,A){const F=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return F(T)-F(A)}(_.type,w.type)||this.Gu(_.doc,w.doc)),this.Ju(i);const c=e?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,p=h!==this.qu;return this.qu=h,0!==s.length||p?{snapshot:new $_(this.query,t.Qu,r,s,t.mutatedKeys,0===h,p,!1),Xu:c}:{Xu:c}}Pu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new y3,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=jn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new C3(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new w3(i))}),e}ta(t){this.Uu=t._i,this.Ku=jn();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ea(){return $_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class J7{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class X7{constructor(t){this.key=t,this.na=!1}}class eQ{constructor(t,e,i,r,s,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.sa={},this.ia=new Ah(h=>GH(h),d0),this.ra=new Map,this.oa=new Set,this.ua=new Qi(rt.comparator),this.aa=new Map,this.ca=new AO,this.ha={},this.la=new Map,this.fa=Lp.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function tQ(n,t){return oP.apply(this,arguments)}function oP(){return oP=(0,nt.Z)(function*(n,t){const e=AP(n);let i,r;const s=e.ia.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.ea();else{const c=yield B_(e.localStore,Xa(t));e.isPrimaryClient&&iS(e.remoteStore,c);const h=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield aP(e,t,i,"current"===h)}return r}),oP.apply(this,arguments)}function aP(n,t,e,i){return lP.apply(this,arguments)}function lP(){return lP=(0,nt.Z)(function*(n,t,e,i){n._a=(w,T,A)=>{return(F=(0,nt.Z)(function*(B,ae,we,$e){let Je=ae.view.Wu(we);Je.ii&&(Je=yield XD(B.localStore,ae.query,!1).then(({documents:Ut})=>ae.view.Wu(Ut,Je)));const Qe=$e&&$e.targetChanges.get(ae.targetId),et=ae.view.applyChanges(Je,B.isPrimaryClient,Qe);return yP(B,ae.targetId,et.Xu),et.snapshot}),function(B,ae,we,$e){return F.apply(this,arguments)})(n,w,T,A);var F};const r=yield XD(n.localStore,t,!0),s=new E3(t,r._i),c=s.Wu(r.documents),h=_0.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),p=s.applyChanges(c,n.isPrimaryClient,h);yP(n,e,p.Xu);const _=new J7(t,e,s);return n.ia.set(t,_),n.ra.has(e)?n.ra.get(e).push(t):n.ra.set(e,[t]),p.snapshot}),lP.apply(this,arguments)}function nQ(n,t){return cP.apply(this,arguments)}function cP(){return cP=(0,nt.Z)(function*(n,t){const e=st(n),i=e.ia.get(t),r=e.ra.get(i.targetId);if(r.length>1)return e.ra.set(i.targetId,r.filter(s=>!d0(s,t))),void e.ia.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield V_(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),R0(e.remoteStore,i.targetId),W_(e,i.targetId)}).catch(Bp))):(W_(e,i.targetId),yield V_(e.localStore,i.targetId,!0))}),cP.apply(this,arguments)}function uP(){return uP=(0,nt.Z)(function*(n,t,e){const i=MP(n);try{const r=yield function(s,c){const h=st(s),p=pr.now(),_=c.reduce((T,A)=>T.add(A.key),jn());let w;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>h.fi.Ks(T,_).next(A=>{w=A;const F=[];for(const B of c){const ae=aK(B,w.get(B.key));null!=ae&&F.push(new Ap(B.key,ae,RH(ae.value.mapValue),gr.exists(!0)))}return h.Bs.addMutationBatch(T,p,F,c)})).then(T=>(T.applyToLocalDocumentSet(w),{batchId:T.batchId,changes:w}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,h){let p=s.ha[s.currentUser.toKey()];p||(p=new Qi(nn)),p=p.insert(c,h),s.ha[s.currentUser.toKey()]=p}(i,r.batchId,e),yield Ku(i,r.changes),yield H_(i.remoteStore)}catch(r){const s=z_(r,"Failed to persist write");e.reject(s)}}),uP.apply(this,arguments)}function T3(n,t){return dP.apply(this,arguments)}function dP(){return dP=(0,nt.Z)(function*(n,t){const e=st(n);try{const i=yield m7(e.localStore,t);t.targetChanges.forEach((r,s)=>{const c=e.aa.get(s);c&&(Lt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.na=!0:r.modifiedDocuments.size>0?Lt(c.na):r.removedDocuments.size>0&&(Lt(c.na),c.na=!1))}),yield Ku(e,i,t)}catch(i){yield Bp(i)}}),dP.apply(this,arguments)}function I3(n,t,e){const i=st(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ia.forEach((s,c)=>{const h=c.view.Pu(t);h.snapshot&&r.push(h.snapshot)}),function(s,c){const h=st(s);h.onlineState=c;let p=!1;h.queries.forEach((_,w)=>{for(const T of w.listeners)T.Pu(c)&&(p=!0)}),p&&rP(h)}(i.eventManager,t),r.length&&i.sa.zo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function rQ(n,t,e){return hP.apply(this,arguments)}function hP(){return hP=(0,nt.Z)(function*(n,t,e){const i=st(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.aa.get(t),s=r&&r.key;if(s){let c=new Qi(rt.comparator);c=c.insert(s,yi.newNoDocument(s,Rt.min()));const h=jn().add(s),p=new m0(Rt.min(),new Map,new ui(nn),c,h);yield T3(i,p),i.ua=i.ua.remove(s),i.aa.delete(t),vP(i)}else yield V_(i.localStore,t,!1).then(()=>W_(i,t,e)).catch(Bp)}),hP.apply(this,arguments)}function sQ(n,t){return fP.apply(this,arguments)}function fP(){return fP=(0,nt.Z)(function*(n,t){const e=st(n),i=t.batch.batchId;try{const r=yield g7(e.localStore,t);_P(e,i,null),mP(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Ku(e,r)}catch(r){yield Bp(r)}}),fP.apply(this,arguments)}function oQ(n,t,e){return pP.apply(this,arguments)}function pP(){return pP=(0,nt.Z)(function*(n,t,e){const i=st(n);try{const r=yield function(s,c){const h=st(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return h.Bs.lookupMutationBatch(p,c).next(w=>(Lt(null!==w),_=w.keys(),h.Bs.removeMutationBatch(p,w))).next(()=>h.Bs.performConsistencyCheck(p)).next(()=>h.fi.Ks(p,_))})}(i.localStore,t);_P(i,t,e),mP(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Ku(i,r)}catch(r){yield Bp(r)}}),pP.apply(this,arguments)}function mP(n,t){(n.la.get(t)||[]).forEach(e=>{e.resolve()}),n.la.delete(t)}function _P(n,t,e){const i=st(n);let r=i.ha[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.ha[i.currentUser.toKey()]=r}}function W_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ra.get(t))n.ia.delete(i),e&&n.sa.wa(i,e);n.ra.delete(t),n.isPrimaryClient&&n.ca.vi(t).forEach(i=>{n.ca.containsKey(i)||D3(n,i)})}function D3(n,t){n.oa.delete(t.path.canonicalString());const e=n.ua.get(t);null!==e&&(R0(n.remoteStore,e),n.ua=n.ua.remove(t),n.aa.delete(e),vP(n))}function yP(n,t,e){for(const i of e)i instanceof w3?(n.ca.addReference(i.key,t),lQ(n,i)):i instanceof C3?(Ye("SyncEngine","Document no longer in limbo: "+i.key),n.ca.removeReference(i.key,t),n.ca.containsKey(i.key)||D3(n,i.key)):_t()}function lQ(n,t){const e=t.key,i=e.path.canonicalString();n.ua.get(e)||n.oa.has(i)||(Ye("SyncEngine","New document in limbo: "+e),n.oa.add(i),vP(n))}function vP(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const t=n.oa.values().next().value;n.oa.delete(t);const e=new rt(In.fromString(t)),i=n.fa.next();n.aa.set(i,new X7(e)),n.ua=n.ua.insert(e,i),iS(n.remoteStore,new Mh(Xa(A_(e.path)),i,2,la.A))}}function Ku(n,t,e){return bP.apply(this,arguments)}function bP(){return bP=(0,nt.Z)(function*(n,t,e){const i=st(n),r=[],s=[],c=[];var h;i.ia.isEmpty()||(i.ia.forEach((h,p)=>{c.push(i._a(p,t,e).then(_=>{if(_){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,_.fromCache?"not-current":"current"),r.push(_);const w=TO.Ys(p.targetId,_);s.push(w)}}))}),yield Promise.all(c),i.sa.zo(r),yield(h=(0,nt.Z)(function*(p,_){const w=st(p);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Ie.forEach(_,A=>Ie.forEach(A.Hs,F=>w.persistence.referenceDelegate.addReference(T,A.targetId,F)).next(()=>Ie.forEach(A.Js,F=>w.persistence.referenceDelegate.removeReference(T,A.targetId,F)))))}catch(T){if(!Mp(T))throw T;Ye("LocalStore","Failed to update sequence numbers: "+T)}for(const T of _){const A=T.targetId;if(!T.fromCache){const F=w.ui.get(A),ae=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);w.ui=w.ui.insert(A,ae)}}}),function(p,_){return h.apply(this,arguments)})(i.localStore,s))}),bP.apply(this,arguments)}function cQ(n,t){return wP.apply(this,arguments)}function wP(){return wP=(0,nt.Z)(function*(n,t){const e=st(n);if(!e.currentUser.isEqual(t)){Ye("SyncEngine","User change. New user:",t.toKey());const i=yield Xj(e.localStore,t);e.currentUser=t,(r=e).la.forEach(c=>{c.forEach(h=>{h.reject(new ze(Te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.la.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Ku(e,i.di)}var r}),wP.apply(this,arguments)}function uQ(n,t){const e=st(n),i=e.aa.get(t);if(i&&i.na)return jn().add(i.key);{let r=jn();const s=e.ra.get(t);if(!s)return r;for(const c of s){const h=e.ia.get(c);r=r.unionWith(h.view.ju)}return r}}function AP(n){const t=st(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=T3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uQ.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rQ.bind(null,t),t.sa.zo=Z7.bind(null,t.eventManager),t.sa.wa=Y7.bind(null,t.eventManager),t}function MP(n){const t=st(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sQ.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oQ.bind(null,t),t}class vQ{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,nt.Z)(function*(){e.M=M0(t.databaseInfo.databaseId),e.sharedClientState=e.ga(t),e.persistence=e.ya(t),yield e.persistence.start(),e.gcScheduler=e.pa(t),e.localStore=e.Ia(t)})()}pa(t){return null}Ia(t){return function Jj(n,t,e,i){return new p7(n,t,e,i)}(this.persistence,new Qj,t.initialUser,this.M)}ya(t){return new D7(MO.Yi,this.M)}ga(t){return new l3}terminate(){var t=this;return(0,nt.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class kP{initialize(t,e){var i=this;return(0,nt.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>I3(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=cQ.bind(null,i.syncEngine),yield function QO(n,t){return JO.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new q7}createDatastore(t){const e=M0(t.databaseInfo.databaseId),i=new k7(t.databaseInfo);return new P7(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=h=>I3(this.syncEngine,h,0),c=c3.vt()?new c3:new x7,new F7(e,i,r,s,c);var e,i,r,s,c}createSyncEngine(t,e){return function(i,r,s,c,h,p,_){const w=new eQ(i,r,s,c,h,p);return _&&(w.da=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,nt.Z)(function*(e){const i=st(e);Ye("RemoteStore","RemoteStore shutting down."),i.wu.add(5),yield U_(i),i.gu.shutdown(),i.yu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}class sS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ea(this.observer.next,t)}error(t){this.observer.error?this.Ea(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Aa(){this.muted=!0}Ea(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class IQ{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=us.UNAUTHENTICATED,this.clientId=bH.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,nt.Z)(function*(h){Ye("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Ye("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,nt.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ze(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,nt.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=z_(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function M3(n,t){return RP.apply(this,arguments)}function RP(){return RP=(0,nt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ye("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,nt.Z)(function*(s){i.isEqual(s)||(yield Xj(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),RP.apply(this,arguments)}function k3(n,t){return OP.apply(this,arguments)}function OP(){return OP=(0,nt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield PP(n);Ye("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>_3(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>_3(t.remoteStore,s)),n.onlineComponents=t}),OP.apply(this,arguments)}function PP(n){return NP.apply(this,arguments)}function NP(){return NP=(0,nt.Z)(function*(n){return n.offlineComponents||(Ye("FirestoreClient","Using default OfflineComponentProvider"),yield M3(n,new vQ)),n.offlineComponents}),NP.apply(this,arguments)}function oS(n){return FP.apply(this,arguments)}function FP(){return FP=(0,nt.Z)(function*(n){return n.onlineComponents||(Ye("FirestoreClient","Using default OnlineComponentProvider"),yield k3(n,new kP)),n.onlineComponents}),FP.apply(this,arguments)}function q_(n){return VP.apply(this,arguments)}function VP(){return VP=(0,nt.Z)(function*(n){const t=yield oS(n),e=t.eventManager;return e.onListen=tQ.bind(null,t.syncEngine),e.onUnlisten=nQ.bind(null,t.syncEngine),e}),VP.apply(this,arguments)}const F3=new Map;function UP(n,t,e){if(!e)throw new ze(Te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function L3(n){if(!rt.isDocumentKey(n))throw new ze(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function B3(n){if(rt.isDocumentKey(n))throw new ze(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function aS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":_t()}function Sn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ze(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=aS(n);throw new ze(Te.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}class U3{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ze(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ze(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function PQ(n,t,e,i){if(!0===t&&!0===i)throw new ze(Te.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class O0{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U3({}),this._settingsFrozen=!1,t instanceof Ih?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ze(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ih(r.options.projectId)}(t))}get app(){if(!this._app)throw new ze(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ze(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U3(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new kY;switch(e.type){case"gapi":const i=e.client;return Lt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new NY(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ze(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=F3.get(t);e&&(Ye("ComponentProvider","Removing Datastore"),F3.delete(t),e.terminate())}(this),Promise.resolve()}}class Ji{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $c(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ji(this.firestore,t,this._key)}}class Rs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Rs(this.firestore,t,this._query)}}class $c extends Rs{constructor(t,e,i){super(t,e,A_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ji(this.firestore,null,new rt(t))}withConverter(t){return new $c(this.firestore,t,this._path)}}function lS(n,t,...e){if(n=(0,U.m9)(n),UP("collection","path",t),n instanceof O0){const i=In.fromString(t,...e);return B3(i),new $c(n,null,i)}{if(!(n instanceof Ji||n instanceof $c))throw new ze(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(In.fromString(t,...e));return B3(i),new $c(n.firestore,null,i)}}function Z_(n,t,...e){if(n=(0,U.m9)(n),1===arguments.length&&(t=bH.R()),UP("doc","path",t),n instanceof O0){const i=In.fromString(t,...e);return L3(i),new Ji(n,null,new rt(i))}{if(!(n instanceof Ji||n instanceof $c))throw new ze(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(In.fromString(t,...e));return L3(i),new Ji(n.firestore,n instanceof $c?n.converter:null,new rt(i))}}class FQ{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new NO(this,"async_queue_retry"),this.Qa=()=>{const e=nS();e&&Ye("AsyncQueue","Visibility state changed to "+e.visibilityState),this.No.Po()};const t=nS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ja(),this.Wa(t)}enterRestrictedMode(t){if(!this.Ba){this.Ba=!0,this.Ka=t||!1;const e=nS();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Qa)}}enqueue(t){if(this.ja(),this.Ba)return new Promise(()=>{});const e=new Hr;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.$a.push(t),this.za()))}za(){var t=this;return(0,nt.Z)(function*(){if(0!==t.$a.length){try{yield t.$a[0](),t.$a.shift(),t.No.reset()}catch(e){if(!Mp(e))throw e;Ye("AsyncQueue","Operation failed with retryable error: "+e)}t.$a.length>0&&t.No.Ro(()=>t.za())}})()}Wa(t){const e=this.Fa.then(()=>(this.qa=!0,t().catch(i=>{throw this.Ua=i,this.qa=!1,fr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.qa=!1,i))));return this.Fa=e,e}enqueueAfterDelay(t,e,i){this.ja(),this.Ga.indexOf(t)>-1&&(e=0);const r=XO.createAndSchedule(this,t,e,i,s=>this.Ha(s));return this.La.push(r),r}ja(){this.Ua&&_t()}verifyOperationInProgress(){}Ja(){var t=this;return(0,nt.Z)(function*(){let e;do{e=t.Fa,yield e}while(e!==t.Fa)})()}Ya(t){for(const e of this.La)if(e.timerId===t)return!0;return!1}Xa(t){return this.Ja().then(()=>{this.La.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.La)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Ja()})}Za(t){this.Ga.push(t)}Ha(t){const e=this.La.indexOf(t);this.La.splice(e,1)}}function HP(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Si extends O0{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new FQ,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||H3(this),this._firestoreClient.terminate()}}function BQ(n=(0,Pi.getApp)()){return(0,Pi._getProvider)(n,"firestore").getImmediate()}function Ar(n){return n._firestoreClient||H3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function H3(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new UY(n._databaseId,s,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new IQ(n._authCredentials,n._appCheckCredentials,n._queue,i)}class Y_{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ze(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Up{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Up(xr.fromBase64String(t))}catch(e){throw new ze(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Up(xr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class jP{constructor(t){this._methodName=t}}class zP{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ze(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ze(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return nn(this._lat,t._lat)||nn(this._long,t._long)}}const VQ=/^__.*__$/;class UQ{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Ap(t,this.data,this.fieldMask,e,this.fieldTransforms):new f0(t,this.data,e,this.fieldTransforms)}}class G3{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Ap(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function $3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class cS{constructor(t,e,i,r,s,c){this.settings=t,this.databaseId=e,this.M=i,this.ignoreUndefinedProperties=r,void 0===s&&this.tc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(t){return new cS(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.nc({path:i,ic:!1});return r.rc(t),r}oc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.nc({path:i,ic:!1});return r.tc(),r}uc(t){return this.nc({path:void 0,ic:!0})}ac(t){return dS(t,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}tc(){if(this.path)for(let t=0;t<this.path.length;t++)this.rc(this.path.get(t))}rc(t){if(0===t.length)throw this.ac("Document fields must not be empty");if($3(this.ec)&&VQ.test(t))throw this.ac('Document fields cannot begin and end with "__"')}}class HQ{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.M=i||M0(t)}lc(t,e,i,r=!1){return new cS({ec:t,methodName:e,hc:i,path:jr.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function K_(n){const t=n._freezeSettings(),e=M0(n._databaseId);return new HQ(n._databaseId,!!t.ignoreUndefinedProperties,e)}function GP(n,t,e,i,r,s={}){const c=n.lc(s.merge||s.mergeFields?2:0,t,e,r);WP("Data must be an object, but it was:",c,i);const h=K3(i,c);let p,_;if(s.merge)p=new I_(c.fieldMask),_=c.fieldTransforms;else if(s.mergeFields){const w=[];for(const T of s.mergeFields){const A=qP(t,T,e);if(!c.contains(A))throw new ze(Te.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);J3(w,A)||w.push(A)}p=new I_(w),_=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,_=c.fieldTransforms;return new UQ(new ks(h),p,_)}class P0 extends jP{_toFieldTransform(t){if(2!==t.ec)throw t.ac(1===t.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof P0}}function Hp(n,t){if(Q3(n=(0,U.m9)(n)))return WP("Unsupported field value:",t,n),K3(n,t);if(n instanceof jP)return function(e,i){if(!$3(i.ec))throw i.ac(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ac(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const c of e){let h=Hp(c,i.uc(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,U.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return YH(i.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=pr.fromDate(e);return{timestampValue:y0(i.M,r)}}if(e instanceof pr){const r=new pr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:y0(i.M,r)}}if(e instanceof zP)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Up)return{bytesValue:fj(i.M,e._byteString)};if(e instanceof Ji){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.ac(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:lO(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ac(`Unsupported field value: ${aS(e)}`)}(n,t)}function K3(n,t){const e={};return EH(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wp(n,(i,r)=>{const s=Hp(r,t.sc(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function Q3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof pr||n instanceof zP||n instanceof Up||n instanceof Ji||n instanceof jP)}function WP(n,t,e){if(!Q3(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=aS(e);throw t.ac("an object"===i?n+" a custom object":n+" "+i)}var i}function qP(n,t,e){if((t=(0,U.m9)(t))instanceof Y_)return t._internalPath;if("string"==typeof t)return uS(n,t);throw dS("Field path arguments must be of type string or ",n,!1,void 0,e)}const $Q=new RegExp("[~\\*/\\[\\]]");function uS(n,t,e){if(t.search($Q)>=0)throw dS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Y_(...t.split("."))._internalPath}catch(i){throw dS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function dS(n,t,e,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new ze(Te.INVALID_ARGUMENT,h+n+p)}function J3(n,t){return n.some(e=>e.isEqual(t))}class ZP{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ji(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new WQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(hS("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class WQ extends ZP{data(){return super.data()}}function hS(n,t){return"string"==typeof t?uS(n,t):t instanceof Y_?t._internalPath:t._delegate._internalPath}class jp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Q_ extends ZP{constructor(t,e,i,r,s,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new fS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(hS("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class fS extends Q_{data(t={}){return super.data(t)}}class J_{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new jp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new fS(this._firestore,this._userDataWriter,i.key,i,new jp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ze(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new fS(i._firestore,i._userDataWriter,c.doc.key,c.doc,new jp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const h=new fS(i._firestore,i._userDataWriter,c.doc.key,c.doc,new jp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),_=s.indexOf(c.doc.key)),{type:qQ(c.type),doc:h,oldIndex:p,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function qQ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}function ez(n,...t){for(const e of t)n=e._apply(n);return n}class YQ extends class ZQ{}{constructor(t,e,i){super(),this._c=t,this.wc=e,this.mc=i,this.type="where"}_apply(t){const e=K_(t.firestore),i=function(r,s,c,h,p,_,w){let T;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new ze(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){oz(w,_);const F=[];for(const B of w)F.push(sz(h,r,B));T={arrayValue:{values:F}}}else T=sz(h,r,w)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||oz(w,_),T=function Y3(n,t,e,i=!1){return Hp(e,n.lc(i?4:3,t))}(c,"where",w,"in"===_||"not-in"===_);const A=hs.create(p,_,T);return function(F,B){if(B.S()){const we=tO(F);if(null!==we&&!we.isEqual(B.field))throw new ze(Te.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${we.toString()}' and '${B.field.toString()}'`);const $e=eO(F);null!==$e&&function az(n,t,e){if(!e.isEqual(t))throw new ze(Te.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}(0,B.field,$e)}const ae=function(we,$e){for(const Je of we.filters)if($e.indexOf(Je.op)>=0)return Je.op;return null}(F,function(we){switch(we){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(B.op));if(null!==ae)throw new ze(Te.INVALID_ARGUMENT,ae===B.op?`Invalid query. You cannot use more than one '${B.op.toString()}' filter.`:`Invalid query. You cannot use '${B.op.toString()}' filters with '${ae.toString()}' filters.`)}(r,A),A}(t._query,0,e,t.firestore._databaseId,this._c,this.wc,this.mc);return new Rs(t.firestore,t.converter,function(r,s){const c=r.filters.concat([s]);return new Yu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}function KQ(n,t,e){const i=t,r=hS("where",n);return new YQ(r,i,e)}function sz(n,t,e){if("string"==typeof(e=(0,U.m9)(e))){if(""===e)throw new ze(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nO(t)&&-1!==e.indexOf("/"))throw new ze(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(In.fromString(e));if(!rt.isDocumentKey(i))throw new ze(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Tp(n,new rt(i))}if(e instanceof Ji)return Tp(n,e._key);throw new ze(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${aS(e)}.`)}function oz(n,t){if(!Array.isArray(n)||0===n.length)throw new ze(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new ze(Te.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}class zp extends class XQ{convertValue(t,e="none"){switch(Ep(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Hi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Cp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw _t()}}convertObject(t,e){const i={};return wp(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new zP(Hi(t.latitude),Hi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=TH(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(n0(t));default:return null}}convertTimestamp(t){const e=Th(t);return new pr(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=In.fromString(t);Lt(Ej(i));const r=new Ih(i.get(1),i.get(3)),s=new rt(i.popFirst(5));return r.isEqual(e)||fr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}{constructor(t){super(),this.firestore=t}convertBytes(t){return new Up(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ji(this.firestore,null,e)}}function lz(n,t,e){n=Sn(n,Ji);const i=Sn(n.firestore,Si),r=function YP(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}(n.converter,t,e);return N0(i,[GP(K_(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,gr.none())])}function i9(n){return N0(Sn(n.firestore,Si),[new p0(n._key,gr.none())])}function cz(n,...t){var e,i,r;n=(0,U.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||HP(t[c])||(s=t[c],c++);const h={includeMetadataChanges:s.includeMetadataChanges};if(HP(t[c])){const T=t[c];t[c]=null===(e=T.next)||void 0===e?void 0:e.bind(T),t[c+1]=null===(i=T.error)||void 0===i?void 0:i.bind(T),t[c+2]=null===(r=T.complete)||void 0===r?void 0:r.bind(T)}let p,_,w;if(n instanceof Ji)_=Sn(n.firestore,Si),w=A_(n._key.path),p={next:T=>{t[c]&&t[c](KP(_,n,T))},error:t[c+1],complete:t[c+2]};else{const T=Sn(n,Rs);_=Sn(T.firestore,Si),w=T._query;const A=new zp(_);p={next:F=>{t[c]&&t[c](new J_(_,A,T,F))},error:t[c+1],complete:t[c+2]},function X3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ze(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(T,A,F,B){const ae=new sS(B),we=new sP(A,ae,F);return T.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return eP(yield q_(T),we)})),()=>{ae.Aa(),T.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return nP(yield q_(T),we)}))}}(Ar(_),w,h,p)}function N0(n,t){return function(e,i){const r=new Hr;return e.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return function iQ(n,t,e){return uP.apply(this,arguments)}(yield function BP(n){return oS(n).then(t=>t.syncEngine)}(e),i,r)})),r.promise}(Ar(n),t)}function KP(n,t,e){const i=e.docs.get(t._key),r=new zp(n);return new Q_(n,r,t._key,i,new jp(e.hasPendingWrites,e.fromCache),t.converter)}!function(n,t=!0){E_=Pi.SDK_VERSION,(0,Pi._registerComponent)(new qs.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),s=new Si(r,new OY(e.getProvider("auth-internal")),new FY(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC")),(0,Pi.registerVersion)(_H,"3.4.9",n),(0,Pi.registerVersion)(_H,"3.4.9","esm2017")}();var s9={includeMetadataChanges:!1};function h9(n,t){return void 0===t&&(t={}),function d9(n){return function QP(n,t){return void 0===t&&(t=s9),new ri.y(function(e){return{unsubscribe:cz(n,t,{next:e.next.bind(e),error:e.error.bind(e),complete:e.complete.bind(e)})}})}(n,{includeMetadataChanges:!0}).pipe((0,gt.U)(function(t){return t.docs}))}(n).pipe((0,gt.U)(function(e){return e.map(function(i){return function dz(n,t){void 0===t&&(t={});var e=n.data();return!n.exists()||"object"!=typeof e||null===e||t.idField&&(e[t.idField]=n.id),e}(i,t)})}))}class X_{constructor(t){return t}}const gz="firestore",eN=new o.OlP("angularfire2.firestore-instances");function g9(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new X_(i)}}const m9={provide:class f9{constructor(){return(0,Jt.vb)(gz)}},deps:[[new o.FiY,eN]]},_9={provide:X_,useFactory:function p9(n,t){const e=(0,Jt.JM)(gz,n,t);return e&&new X_(e)},deps:[[new o.FiY,eN],$o]};let y9=(()=>{class n{constructor(){(0,Lr.KN)("angularfire",Jt.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[_9,m9]}),n})();function v9(n,...t){return{ngModule:y9,providers:[{provide:eN,useFactory:g9(n),multi:!0,deps:[o.R0b,o.zs3,Jt.HU,lu,[new o.FiY,tU],[new o.FiY,gc],...t]}]}}const mz=(0,Jt.u3)(h9,!0),b9=(0,Jt.u3)(i9,!0),w9=(0,Jt.u3)(BQ,!0),C9=(0,Jt.u3)(cz,!0),E9=(0,Jt.u3)(ez,!0),T9=(0,Jt.u3)(KQ,!0);var I9=M(3014),D9=M.n(I9);let _z=(()=>{class n{constructor(){}searchProducts(e){return(0,nt.Z)(function*(){return(yield D9().get("https://lomi.cl/api/v2/storefront/products?include=images%2Cvariants&keywords="+e+"&page=1&per_page=4&include=images,variants")).data})()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yz="firebasestorage.googleapis.com",vz="storageBucket";class ji extends U.ZR{constructor(t,e){super(tN(t),`Firebase Storage: ${e} (${tN(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ji.prototype)}_codeEquals(t){return tN(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function tN(n){return"storage/"+n}function nN(){return new ji("unknown","An unknown error occurred, please check the error payload for server response.")}function bz(){return new ji("canceled","User canceled the upload/download.")}function wz(){return new ji("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ey(n){return new ji("invalid-argument",n)}function Cz(){return new ji("app-deleted","The Firebase app was deleted.")}function Ez(n){return new ji("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function F0(n,t){return new ji("invalid-format","String does not match format '"+n+"': "+t)}function L0(n){throw new ji("internal-error","Internal error: "+n)}class Os{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Os.makeFromUrl(t,e)}catch(r){return new Os(t,"")}if(""===i.path)return i;throw function F9(n){return new ji("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function _(et){et.path_=decodeURIComponent(et.path)}const T=e.replace(/[.]/g,"\\."),Qe=[{regex:h,indices:{bucket:1,path:3},postModify:function s(et){"/"===et.path.charAt(et.path.length-1)&&(et.path_=et.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${T}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${e===yz?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let et=0;et<Qe.length;et++){const Ut=Qe[et],Bt=Ut.regex.exec(t);if(Bt){let Xi=Bt[Ut.indices.path];Xi||(Xi=""),i=new Os(Bt[Ut.indices.bucket],Xi),Ut.postModify(i);break}}if(null==i)throw function N9(n){return new ji("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class U9{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function gS(n){return"string"==typeof n||n instanceof String}function Tz(n){return iN()&&n instanceof Blob}function iN(){return"undefined"!=typeof Blob}function rN(n,t,e,i){if(i<t)throw ey(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw ey(`Invalid value for '${n}'. Expected ${e} or less.`)}function Qu(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function Iz(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Nh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Nh||(Nh={})),Nh))();class W9{constructor(t,e,i,r,s,c,h,p,_,w,T){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=w,this.connectionFactory_=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,F)=>{this.resolve_=A,this.reject_=F,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function z9(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==h){const p=nN();p.serverResponse=h.getErrorText(),c(this.errorCallback_?this.errorCallback_(h,p):p)}else c(r.canceled?this.appDelete_?Cz():bz():function P9(){return new ji("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new mS(!1,null,!0)):this.backoffId_=function H9(n,t,e){let i=1,r=null,s=null,c=!1,h=0;function p(){return 2===h}let _=!1;function w(...we){_||(_=!0,t.apply(null,we))}function T(we){r=setTimeout(()=>{r=null,n(F,p())},we)}function A(){s&&clearTimeout(s)}function F(we,...$e){if(_)return void A();if(we)return A(),void w.call(null,we,...$e);if(p()||c)return A(),void w.call(null,we,...$e);let Qe;i<64&&(i*=2),1===h?(h=2,Qe=0):Qe=1e3*(i+Math.random()),T(Qe)}let B=!1;function ae(we){B||(B=!0,A(),!_&&(null!==r?(we||(h=2),clearTimeout(r),T(0)):we||(h=1)))}return T(0),s=setTimeout(()=>{c=!0,ae(!0)},e),ae}((i,r)=>{if(r)return void i(!1,new mS(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const h=s.getErrorCode()===Nh.NO_ERROR,p=s.getStatus();if(!h||this.isRetryStatusCode_(p)){const w=s.getErrorCode()===Nh.ABORT;return void i(!1,new mS(!1,null,w))}const _=-1!==this.successCodes_.indexOf(p);i(!0,new mS(_,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function j9(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),s=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||s}}class mS{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function X9(...n){const t=function J9(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(iN())return new Blob(n);throw new ji("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ca={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class sN{constructor(t,e){this.data=t,this.contentType=e||null}}function oN(n,t){switch(n){case ca.RAW:return new sN(Dz(t));case ca.BASE64:case ca.BASE64URL:return new sN(Sz(n,t));case ca.DATA_URL:return new sN(function iJ(n){const t=new xz(n);return t.base64?Sz(ca.BASE64,t.rest):function nJ(n){let t;try{t=decodeURIComponent(n)}catch(e){throw F0(ca.DATA_URL,"Malformed data URL.")}return Dz(t)}(t.rest)}(t),function rJ(n){return new xz(n).contentType}(t))}throw nN()}function Dz(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function Sz(n,t){switch(n){case ca.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw F0(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ca.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw F0(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function tJ(n){return atob(n)}(t)}catch(r){throw F0(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class xz{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw F0(ca.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function sJ(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Wc{constructor(t,e){let i=0,r="";Tz(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(Tz(this.data_)){const r=function eJ(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new Wc(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Wc(i,!0)}}static getBlob(...t){if(iN()){const e=t.map(i=>i instanceof Wc?i.data_:i);return new Wc(X9.apply(null,e))}{const e=t.map(c=>gS(c)?oN(ca.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(c=>{for(let h=0;h<c.length;h++)r[s++]=c[h]}),new Wc(r,!0)}}uploadData(){return this.data_}}function aN(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function $9(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function Az(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function lJ(n,t){return t}class lo{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||lJ}}let _S=null;function B0(){if(_S)return _S;const n=[];n.push(new lo("bucket")),n.push(new lo("generation")),n.push(new lo("metageneration")),n.push(new lo("name","fullPath",!0));const e=new lo("name");e.xform=function t(s,c){return function cJ(n){return!gS(n)||n.length<2?n:Az(n)}(c)},n.push(e);const r=new lo("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new lo("timeCreated")),n.push(new lo("updated")),n.push(new lo("md5Hash",null,!0)),n.push(new lo("cacheControl",null,!0)),n.push(new lo("contentDisposition",null,!0)),n.push(new lo("contentEncoding",null,!0)),n.push(new lo("contentLanguage",null,!0)),n.push(new lo("contentType",null,!0)),n.push(new lo("metadata","customMetadata",!0)),_S=n,_S}function Mz(n,t,e){const i=aN(t);return null===i?null:function dJ(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const c=e[s];i[c.local]=c.xform(i,t[c.server])}return function uJ(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new Os(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function lN(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const kz="prefixes";class qc{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Zc(n){if(!n)throw nN()}function yS(n,t){return function e(i,r){const s=Mz(n,r,t);return Zc(null!==s),s}}function ty(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function R9(){return new ji("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function k9(){return new ji("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function M9(n){return new ji("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function O9(n){return new ji("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function V0(n){const t=ty(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function A9(n){return new ji("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function Oz(n,t,e){const r=Qu(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new qc(r,"GET",yS(n,e),c);return h.errorHandler=V0(t),h}function _J(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const h=Qu(t.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,w=new qc(h,"GET",function gJ(n,t){return function e(i,r){const s=function pJ(n,t,e){const i=aN(e);return null===i?null:function fJ(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[kz])for(const r of e[kz]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new Os(t,s));i.prefixes.push(c)}if(e.items)for(const r of e.items){const s=n._makeStorageReference(new Os(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return Zc(null!==s),s}}(n,t.bucket),_);return w.urlParams=s,w.errorHandler=ty(t),w}function Nz(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function wJ(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class vS{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function cN(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){Zc(!1)}return Zc(!!e&&-1!==(t||["active"]).indexOf(e)),e}const IJ={STATE_CHANGED:"state_changed"},co={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function uN(n){switch(n){case"running":case"pausing":case"canceling":return co.RUNNING;case"paused":return co.PAUSED;case"success":return co.SUCCESS;case"canceled":return co.CANCELED;default:return co.ERROR}}class DJ{constructor(t,e,i){if(function G9(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function ny(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class xJ extends class SJ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Nh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Nh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Nh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw L0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw L0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw L0("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw L0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw L0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function $l(){return new xJ}class Vz{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=B0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function CJ(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c=Nz(t,i,r),h={name:c.fullPath},p=Qu(s,n.host,n._protocol),w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},T=lN(c,e),B=new qc(p,"POST",function F(ae){let we;cN(ae);try{we=ae.getResponseHeader("X-Goog-Upload-URL")}catch($e){Zc(!1)}return Zc(gS(we)),we},n.maxUploadRetryTime);return B.urlParams=h,B.headers=w,B.body=T,B.errorHandler=ty(t),B}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,$l,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function EJ(n,t,e,i){const p=new qc(e,"POST",function s(_){const w=cN(_,["active","final"]);let T=null;try{T=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch(F){Zc(!1)}T||Zc(!1);const A=Number(T);return Zc(!isNaN(A)),new vS(A,i.size(),"final"===w)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=ty(t),p}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,$l,e,i);this._request=s,s.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new vS(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function TJ(n,t,e,i,r,s,c,h){const p=new vS(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function B9(){return new ji("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const _=p.total-p.current;let w=_;r>0&&(w=Math.min(w,r));const T=p.current,B={"X-Goog-Upload-Command":w===_?"upload, finalize":"upload","X-Goog-Upload-Offset":`${p.current}`},ae=i.slice(T,T+w);if(null===ae)throw wz();const Qe=new qc(e,"POST",function we(et,Ut){const Bt=cN(et,["active","final"]),xn=p.current+w,Xi=i.size();let ua;return ua="final"===Bt?yS(t,s)(et,Ut):null,new vS(xn,Xi,"final"===Bt,ua)},t.maxUploadRetryTime);return Qe.headers=B,Qe.body=ae.uploadData(),Qe.progressCallback=h||null,Qe.errorHandler=ty(n),Qe}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const h=this._ref.storage._makeRequest(c,$l,r,s);this._request=h,h.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=Oz(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,$l,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function Fz(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function h(){let Qe="";for(let et=0;et<2;et++)Qe+=Math.random().toString().slice(2);return Qe}();c["Content-Type"]="multipart/related; boundary="+p;const _=Nz(t,i,r),w=lN(_,e),F=Wc.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+w+"\r\n--"+p+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===F)throw wz();const B={name:_.fullPath},ae=Qu(s,n.host,n._protocol),$e=n.maxUploadRetryTime,Je=new qc(ae,"POST",yS(n,e),$e);return Je.urlParams=B,Je.headers=c,Je.body=F.uploadData(),Je.errorHandler=ty(t),Je}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,$l,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=bz(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=uN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new DJ(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(uN(this._state)){case co.SUCCESS:ny(this._resolve.bind(null,this.snapshot))();break;case co.CANCELED:case co.ERROR:ny(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(uN(this._state)){case co.RUNNING:case co.PAUSED:t.next&&ny(t.next.bind(t,this.snapshot))();break;case co.SUCCESS:t.complete&&ny(t.complete.bind(t))();break;default:t.error&&ny(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Gp{constructor(t,e){this._service=t,this._location=e instanceof Os?e:Os.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Gp(t,e)}get root(){const t=new Os(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Az(this._location.path)}get storage(){return this._service}get parent(){const t=function oJ(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Os(this._location.bucket,t);return new Gp(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw Ez(t)}}function Hz(n,t,e){return dN.apply(this,arguments)}function dN(){return dN=(0,nt.Z)(function*(n,t,e){const r=yield jz(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield Hz(n,t,r.nextPageToken))}),dN.apply(this,arguments)}function jz(n,t){null!=t&&"number"==typeof t.maxResults&&rN("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=_J(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,$l)}function UJ(n){n._throwIfRoot("getDownloadURL");const t=function yJ(n,t,e){const r=Qu(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new qc(r,"GET",function mJ(n,t){return function e(i,r){const s=Mz(n,r,t);return Zc(null!==s),function hJ(n,t,e,i){const r=aN(t);if(null===r||!gS(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(_=>{const T=n.fullPath;return Qu("/b/"+c(n.bucket)+"/o/"+c(T),e,i)+Iz({alt:"media",token:_})})[0]}(s,r,n.host,n._protocol)}}(n,e),c);return h.errorHandler=V0(t),h}(n.storage,n._location,B0());return n.storage.makeRequestWithTokens(t,$l).then(e=>{if(null===e)throw function V9(){return new ji("no-download-url","The given file does not have any download URLs.")}();return e})}function zz(n,t){const e=function aJ(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Os(n._location.bucket,e);return new Gp(n.storage,i)}function Gz(n,t){if(n instanceof hN){const e=n;if(null==e._bucket)throw function L9(){return new ji("no-default-bucket","No default bucket found. Did you set the '"+vz+"' property when initializing the app?")}();const i=new Gp(e,e._bucket);return null!=t?Gz(i,t):i}return void 0!==t?zz(n,t):n}function GJ(n,t){if(t&&function jJ(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof hN)return function zJ(n,t){return new Gp(n,t)}(n,t);throw ey("To use ref(service, url), the first argument must be a Storage instance.")}return Gz(n,t)}function $z(n,t){const e=null==t?void 0:t[vz];return null==e?null:Os.makeFromBucketSpec(e,n)}class hN{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=yz,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Os.makeFromBucketSpec(r,this._host):$z(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Os.makeFromBucketSpec(this._url,t):$z(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){rN("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){rN("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,nt.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,nt.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Gp(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new U9(Cz());{const s=function Q9(n,t,e,i,r,s){const c=Iz(n.urlParams),h=n.url+c,p=Object.assign({},n.headers);return function Y9(n,t){t&&(n["X-Firebase-GMPID"]=t)}(p,t),function q9(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(p,e),function Z9(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(p,s),function K9(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(p,i),new W9(h,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){var i=this;return(0,nt.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const Wz="@firebase/storage",Zz="storage";function Yz(n,t){return GJ(n=(0,U.m9)(n),t)}function Kz(n=(0,Pi.getApp)(),t){return n=(0,U.m9)(n),(0,Pi._getProvider)(n,Zz).getImmediate({identifier:t})}function tX(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new hN(e,i,r,t,Pi.SDK_VERSION)}!function nX(){(0,Pi._registerComponent)(new qs.wA(Zz,tX,"PUBLIC").setMultipleInstances(!0)),(0,Pi.registerVersion)(Wz,"0.9.6",""),(0,Pi.registerVersion)(Wz,"0.9.6","esm2017")}();const U0_firebase={projectId:"lomi-35ab6",appId:"1:394847830425:web:ee909ee573e436db0f9308",storageBucket:"lomi-35ab6.appspot.com",locationId:"southamerica-east1",apiKey:"AIzaSyCC1UbhAV4WpCpUZsEiNPd_TVUD40Lh5Bc",authDomain:"lomi-35ab6.firebaseapp.com",messagingSenderId:"394847830425",measurementId:"G-E3L40DPW9M"};class bS{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Qz{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new bS(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new bS(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?c=>e(new bS(c,this,this._ref)):{next:e.next?c=>e.next(new bS(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class Jz{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Ju(t,this._service))}get items(){return this._delegate.items.map(t=>new Ju(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ju{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function XJ(n,t){return zz(n,t)}(this._delegate,t);return new Ju(e,this.storage)}get root(){return new Ju(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Ju(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new Qz(function WJ(n,t,e){return function NJ(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new Vz(n,new Wc(t),e)}(n=(0,U.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=ca.RAW,i){this._throwIfRoot("putString");const r=oN(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new Qz(new Vz(this._delegate,new Wc(r.data,!0),s),this)}listAll(){return function KJ(n){return function LJ(n){const t={prefixes:[],items:[]};return Hz(n,t).then(()=>t)}(n=(0,U.m9)(n))}(this._delegate).then(t=>new Jz(t,this.storage))}list(t){return function YJ(n,t){return jz(n=(0,U.m9)(n),t)}(this._delegate,t||void 0).then(e=>new Jz(e,this.storage))}getMetadata(){return function qJ(n){return function BJ(n){n._throwIfRoot("getMetadata");const t=Oz(n.storage,n._location,B0());return n.storage.makeRequestWithTokens(t,$l)}(n=(0,U.m9)(n))}(this._delegate)}updateMetadata(t){return function ZJ(n,t){return function VJ(n,t){n._throwIfRoot("updateMetadata");const e=function vJ(n,t,e,i){const s=Qu(t.fullServerUrl(),n.host,n._protocol),h=lN(e,i),_=n.maxOperationRetryTime,w=new qc(s,"PATCH",yS(n,i),_);return w.headers={"Content-Type":"application/json; charset=utf-8"},w.body=h,w.errorHandler=V0(t),w}(n.storage,n._location,t,B0());return n.storage.makeRequestWithTokens(e,$l)}(n=(0,U.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function QJ(n){return UJ(n=(0,U.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function JJ(n){return function HJ(n){n._throwIfRoot("deleteObject");const t=function bJ(n,t){const i=Qu(t.fullServerUrl(),n.host,n._protocol),h=new qc(i,"DELETE",function c(p,_){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=V0(t),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,$l)}(n=(0,U.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw Ez(t)}}class Xz{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(eG(t))throw ey("ref() expected a child path but got a URL, use refFromURL instead.");return new Ju(Yz(this._delegate,t),this)}refFromURL(t){if(!eG(t))throw ey("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Os.makeFromUrl(t,this._delegate.host)}catch(e){throw ey("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ju(Yz(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function eX(n,t,e,i={}){!function $J(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,U.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function eG(n){return/^[A-Za-z]+:\/\//.test(n)}function oX(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new Xz(e,i)}function tG(n){const t=function lX(n){return new ri.y(t=>{const e=c=>t.next(c);e(n.snapshot);const s=n.on("state_changed",e);return n.then(c=>{e(c),t.complete()},c=>{e(n.snapshot),(c=>{t.error(c)})(c)}),function(){s()}}).pipe(Oc(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,gt.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function wS(n){return{getDownloadURL:()=>ut(void 0).pipe(Jt.fc,En(()=>n.getDownloadURL()),Jt.iC),getMetadata:()=>ut(void 0).pipe(Jt.fc,En(()=>n.getMetadata()),Jt.iC),delete:()=>(0,qn.D)(n.delete()),child:t=>wS(n.child(t)),updateMetadata:t=>(0,qn.D)(n.updateMetadata(t)),put:(t,e)=>tG(n.put(t,e)),putString:(t,e,i)=>tG(n.putString(t,e,i)),list:t=>(0,qn.D)(n.list(t)),listAll:()=>(0,qn.D)(n.listAll())}}!function aX(n){const t={TaskState:co,TaskEvent:IJ,StringFormat:ca,Storage:Xz,Reference:Ju};n.INTERNAL.registerComponent(new qs.wA("storage-compat",oX,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.14")}(y2.Z);const cX=new o.OlP("angularfire2.storageBucket"),uX=new o.OlP("angularfire2.storage.maxUploadRetryTime"),dX=new o.OlP("angularfire2.storage.maxOperationRetryTime"),hX=new o.OlP("angularfire2.storage.use-emulator");let nG=(()=>{class n{constructor(e,i,r,s,c,h,p,_,w,T){const A=(0,Oi.on)(e,c,i);this.storage=(0,Oi.cc)(`${A.name}.storage.${r}`,"AngularFireStorage",A.name,()=>{const F=c.runOutsideAngular(()=>A.storage(r||void 0)),B=w;return B&&F.useEmulator(...B),p&&F.setMaxUploadRetryTime(p),_&&F.setMaxOperationRetryTime(_),F},[p,_])}ref(e){return wS(this.storage.ref(e))}refFromURL(e){return wS(this.storage.refFromURL(e))}upload(e,i,r){return wS(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Oi.Dh),o.LFG(Oi.xv,8),o.LFG(cX,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Jt.HU),o.LFG(uX,8),o.LFG(dX,8),o.LFG(hX,8),o.LFG(gc,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),fX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),iG=(()=>{class n{constructor(){au.Z.registerVersion("angularfire",Jt.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[nG],imports:[fX]}),n})(),pX=(()=>{class n{constructor(e){this.sanitizer=e,this.fileOver=!1,this.fileDropped=new o.vpe}onDragOver(e){e.preventDefault(),e.stopPropagation(),this.fileOver=!0}onDragLeave(e){e.preventDefault(),e.stopPropagation(),this.fileOver=!1}ondrop(e){e.preventDefault(),e.stopPropagation(),this.fileOver=!1;let i=e.dataTransfer.files;i.length>0&&this.fileDropped.emit(i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(sr))},n.\u0275dir=o.lG2({type:n,selectors:[["","drag-n-drop",""]],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("dragover",function(s){return i.onDragOver(s)})("dragleave",function(s){return i.onDragLeave(s)})("drop",function(s){return i.ondrop(s)}),2&e&&o.ekj("fileover",i.fileOver)},outputs:{fileDropped:"fileDropped"}}),n})();function gX(n,t){1&n&&o._UZ(0,"div",2)}function mX(n,t){1&n&&o._UZ(0,"pre",2)}function _X(n,t){if(1&n&&(o.ynx(0),o.YNc(1,gX,1,0,"div",1),o.YNc(2,mX,1,0,"pre",1),o.BQk()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",!e.preserve),o.xp6(1),o.Q6J("ngIf",e.preserve)}}function yX(n,t){1&n&&o._UZ(0,"div",2)}function vX(n,t){1&n&&o._UZ(0,"pre",2)}function bX(n,t){if(1&n&&(o.ynx(0),o.YNc(1,yX,1,0,"div",1),o.YNc(2,vX,1,0,"pre",1),o.BQk()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",!e.preserve),o.xp6(1),o.Q6J("ngIf",e.preserve)}}const wX=[[["","quill-editor-toolbar",""]]],CX=["[quill-editor-toolbar]"],fN={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},CS=(n,t)=>n||t||"html",rG=new o.OlP("config",{providedIn:"root",factory:()=>({modules:fN})});let sG=(()=>{class n{constructor(e,i){this.config=i,this.quill$=uf(()=>(0,ub.mG)(this,void 0,void 0,function*(){var r,s;if(!this.Quill){const c=this.document.addEventListener;this.document.addEventListener=this.document.__zone_symbol__addEventListener||this.document.addEventListener;const h=yield M.e(971).then(M.t.bind(M,9971,19));this.document.addEventListener=c,this.Quill=h.default?h.default:h}return null===(r=this.config.customOptions)||void 0===r||r.forEach(c=>{const h=this.Quill.import(c.import);h.whitelist=c.whitelist,this.Quill.register(h,!0,this.config.suppressGlobalRegisterWarning)}),null===(s=this.config.customModules)||void 0===s||s.forEach(({implementation:c,path:h})=>{this.Quill.register(h,c,this.config.suppressGlobalRegisterWarning)}),this.Quill})).pipe(rc({bufferSize:1,refCount:!0})),this.document=e.get(Y),this.config||(this.config={modules:fN})}getQuill(){return this.quill$}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3),o.LFG(rG,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EX=(()=>{class n{constructor(e,i,r,s,c,h,p,_){this.elementRef=i,this.cd=r,this.domSanitizer=s,this.platformId=c,this.renderer=h,this.zone=p,this.service=_,this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new o.vpe,this.onEditorChanged=new o.vpe,this.onContentChanged=new o.vpe,this.onSelectionChanged=new o.vpe,this.onFocus=new o.vpe,this.onBlur=new o.vpe,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.valueGetter=(w,T)=>{let A=T.querySelector(".ql-editor").innerHTML;("<p><br></p>"===A||"<div><br></div>"===A)&&(A=this.defaultEmptyValue);let F=A;const B=CS(this.format,this.service.config.format);if("text"===B)F=w.getText();else if("object"===B)F=w.getContents();else if("json"===B)try{F=JSON.stringify(w.getContents())}catch(ae){F=w.getText()}return F},this.valueSetter=(w,T)=>{const A=CS(this.format,this.service.config.format);if("html"===A)return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(T=this.domSanitizer.sanitize(o.q3G.HTML,T)),w.clipboard.convert(T);if("json"===A)try{return JSON.parse(T)}catch(F){return[{insert:T}]}return T},this.selectionChangeHandler=(w,T,A)=>{const F=!w&&!!this.onModelTouched;!this.onBlur.observers.length&&!this.onFocus.observers.length&&!this.onSelectionChanged.observers.length&&!F||this.zone.run(()=>{null===w?this.onBlur.emit({editor:this.quillEditor,source:A}):null===T&&this.onFocus.emit({editor:this.quillEditor,source:A}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:T,range:w,source:A}),F&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(w,T,A)=>{const F=this.quillEditor.getText(),B=this.quillEditor.getContents();let ae=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===ae||"<div><br></div>"===ae)&&(ae=this.defaultEmptyValue);const we=this.trackChanges||this.service.config.trackChanges,$e=("user"===A||we&&"all"===we)&&!!this.onModelChange;!this.onContentChanged.observers.length&&!$e||this.zone.run(()=>{$e&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:B,delta:w,editor:this.quillEditor,html:ae,oldDelta:T,source:A,text:F}),this.cd.markForCheck()})},this.editorChangeHandler=(w,T,A,F)=>{if(this.onEditorChanged.observers.length)if("text-change"===w){const B=this.quillEditor.getText(),ae=this.quillEditor.getContents();let we=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===we||"<div><br></div>"===we)&&(we=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:ae,delta:T,editor:this.quillEditor,event:w,html:we,oldDelta:A,source:F,text:B}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:w,oldRange:A,range:T,source:F}),this.cd.markForCheck()})},this.document=e.get(Y)}static normalizeClassNames(e){return e.trim().split(" ").reduce((r,s)=>{const c=s.trim();return c&&r.push(c),r},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){Wi(this.platformId)||(this.quillSubscription=this.service.getQuill().subscribe(e=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const i=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),r=Object.assign({},this.modules||this.service.config.modules);i?r.toolbar=i:void 0===r.toolbar&&(r.toolbar=fN.toolbar);let s=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===s&&(s="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(A=>{this.renderer.setStyle(this.editorElem,A,this.styles[A])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(A=>{const F=e.import(A.import);F.whitelist=A.whitelist,e.register(F,!0)}),this.customModules.forEach(({implementation:A,path:F})=>{e.register(F,A)});let c=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;c||(c=this.service.config.bounds?this.service.config.bounds:this.document.body);let h=this.debug;!h&&!1!==h&&this.service.config.debug&&(h=this.service.config.debug);let p=this.readOnly;!p&&!1!==this.readOnly&&(p=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let _=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(_=this.service.config.defaultEmptyValue);let w=this.scrollingContainer;!w&&null!==this.scrollingContainer&&(w=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let T=this.formats;if(!T&&void 0===T&&(T=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{var A,F,B;if(this.quillEditor=new e(this.editorElem,{bounds:c,debug:h,formats:T,modules:r,placeholder:s,readOnly:p,defaultEmptyValue:_,scrollingContainer:w,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.linkPlaceholder){const ae=null===(F=null===(A=this.quillEditor)||void 0===A?void 0:A.theme)||void 0===F?void 0:F.tooltip,we=null===(B=null==ae?void 0:ae.root)||void 0===B?void 0:B.querySelector("input[data-link]");(null==we?void 0:we.dataset)&&(we.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===CS(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const F=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(F,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observers.length||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor)})}))}ngOnDestroy(){var e;this.dispose(),null===(e=this.quillSubscription)||void 0===e||e.unsubscribe(),this.quillSubscription=null}ngOnChanges(e){if(this.quillEditor){if(e.readOnly&&this.quillEditor.enable(!e.readOnly.currentValue),e.placeholder&&(this.quillEditor.root.dataset.placeholder=e.placeholder.currentValue),e.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=e.defaultEmptyValue.currentValue),e.styles){const i=e.styles.currentValue,r=e.styles.previousValue;r&&Object.keys(r).forEach(s=>{this.renderer.removeStyle(this.editorElem,s)}),i&&Object.keys(i).forEach(s=>{this.renderer.setStyle(this.editorElem,s,this.styles[s])})}if(e.classes){const i=e.classes.currentValue,r=e.classes.previousValue;r&&this.removeClasses(r),i&&this.addClasses(i)}e.debounceTime&&this.addQuillEventListeners()}}addClasses(e){n.normalizeClassNames(e).forEach(i=>{this.renderer.addClass(this.editorElem,i)})}removeClasses(e){n.normalizeClassNames(e).forEach(i=>{this.renderer.removeClass(this.editorElem,i)})}writeValue(e){if(this.filterNull&&null===e||(this.content=e,!this.quillEditor))return;const i=CS(this.format,this.service.config.format),r=this.valueSetter(this.quillEditor,e);if(this.compareValues){const s=this.quillEditor.getContents();if(JSON.stringify(s)===JSON.stringify(r))return}e?"text"===i?this.quillEditor.setText(e):this.quillEditor.setContents(r):this.quillEditor.setText("")}setDisabledState(e=this.disabled){this.disabled=e,this.quillEditor&&(e?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}registerOnValidatorChange(e){this.onValidatorChanged=e}validate(){if(!this.quillEditor)return null;const e={};let i=!0;const r=this.quillEditor.getText(),s=this.trimOnValidation?r.trim().length:1===r.length&&0===r.trim().length?0:r.length-1,c=this.quillEditor.getContents().ops,h=c&&1===c.length&&["\n",""].includes(c[0].insert);return this.minLength&&s&&s<this.minLength&&(e.minLengthError={given:s,minLength:this.minLength},i=!1),this.maxLength&&s>this.maxLength&&(e.maxLengthError={given:s,maxLength:this.maxLength},i=!1),this.required&&!s&&h&&(e.requiredError={empty:!0},i=!1),i?null:e}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new es.w0,this.subscription.add(zu(this.quillEditor,"selection-change").subscribe(([r,s,c])=>{this.selectionChangeHandler(r,s,c)}));let e=zu(this.quillEditor,"text-change"),i=zu(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(e=e.pipe(Oc(this.debounceTime)),i=i.pipe(Oc(this.debounceTime))),this.subscription.add(e.subscribe(([r,s,c])=>{this.textChangeHandler(r,s,c)})),this.subscription.add(i.subscribe(([r,s,c,h])=>{this.editorChangeHandler(r,s,c,h)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.zs3),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(sr),o.Y36(o.Lbi),o.Y36(o.Qsj),o.Y36(o.R0b),o.Y36(sG))},n.\u0275dir=o.lG2({type:n,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[o.TTD]}),n})(),TX=(()=>{class n extends EX{constructor(e,i,r,s,c,h,p,_){super(e,i,r,s,c,h,p,_)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.zs3),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(sr),o.Y36(o.Lbi),o.Y36(o.Qsj),o.Y36(o.R0b),o.Y36(sG))},n.\u0275cmp=o.Xpm({type:n,selectors:[["quill-editor"]],features:[o._Bn([{multi:!0,provide:So,useExisting:(0,o.Gpc)(()=>n)},{multi:!0,provide:Yi,useExisting:(0,o.Gpc)(()=>n)}]),o.qOj],ngContentSelectors:CX,decls:3,vars:2,consts:[[4,"ngIf"],["quill-editor-element","",4,"ngIf"],["quill-editor-element",""]],template:function(e,i){1&e&&(o.F$t(wX),o.YNc(0,_X,3,2,"ng-container",0),o.Hsn(1),o.YNc(2,bX,3,2,"ng-container",0)),2&e&&(o.Q6J("ngIf","top"!==i.toolbarPosition),o.xp6(2),o.Q6J("ngIf","top"===i.toolbarPosition))},directives:[An],styles:[":host{display:inline-block}\n"],encapsulation:2}),n})(),oG=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:rG,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[wi]]}),n})();function IX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",24),o.NdJ("click",function(){return o.CHM(e),o.oxw().keyword=""}),o.TgZ(1,"mat-icon"),o._uU(2,"close"),o.qZA()()}}function DX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"mat-card",25),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().addIngredient(s)}),o.TgZ(2,"p"),o._uU(3),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(3),o.hij("",e.attributes.name," ")}}function SX(n,t){if(1&n){const e=o.EpF();o.ynx(0),o.TgZ(1,"div",21)(2,"div",5)(3,"div",26)(4,"h1",27)(5,"b"),o._uU(6),o.qZA()()()(),o.TgZ(7,"button",23),o.NdJ("click",function(){return o.CHM(e),o.oxw().recipe.title=""}),o._uU(8," Editar titulo "),o.TgZ(9,"mat-icon"),o._uU(10,"edit"),o.qZA()()(),o._UZ(11,"div",15),o.BQk()}if(2&n){const e=o.oxw();o.xp6(6),o.Oqu(e.recipe.title)}}function xX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",24),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).keyword=""}),o.TgZ(1,"mat-icon"),o._uU(2,"close"),o.qZA()()}}function AX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",5)(1,"div",26)(2,"mat-form-field",6)(3,"mat-label"),o._uU(4,"Titulo"),o.qZA(),o.TgZ(5,"input",28),o.NdJ("keydown.enter",function(r){return o.CHM(e),o.oxw().setTitle(r)}),o.qZA(),o.YNc(6,xX,3,0,"button",8),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(6),o.Q6J("ngIf",e.recipe.title)}}function MX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"div",29)(2,"mat-form-field")(3,"mat-label"),o._uU(4,"Cantidad"),o.qZA(),o.TgZ(5,"input",30),o.NdJ("change",function(){return o.CHM(e),o.oxw().updateDocument()})("ngModelChange",function(r){return o.CHM(e).$implicit.quantity=r}),o.qZA()(),o.TgZ(6,"h6"),o._uU(7,"-"),o.qZA(),o.TgZ(8,"p"),o._uU(9),o.qZA(),o.TgZ(10,"mat-icon",31),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().deleteIngredient(s)}),o._uU(11,"delete"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(5),o.Q6J("ngModel",e.quantity),o.xp6(4),o.Oqu(e.attributes.name)}}function kX(n,t){1&n&&o._UZ(0,"img",33),2&n&&o.Q6J("src",t.$implicit,o.LSH)}function RX(n,t){if(1&n&&(o.ynx(0),o.YNc(1,kX,1,1,"img",32),o.BQk()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.recipe.images)}}function OX(n,t){if(1&n&&(o.TgZ(0,"div",5)(1,"div",26),o._UZ(2,"span",34),o.qZA()()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("innerHtml",e.recipe.description,o.oJD)}}function PX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",5)(1,"div",35)(2,"quill-editor",36),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw().recipe.description=r}),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngModel",e.recipe.description)}}Kz((0,Lr.ZF)(U0_firebase));let aG=(()=>{class n{constructor(e,i,r,s){this.firestore=e,this.route=i,this.productsService=r,this.angularFireStorage=s,this.keyword="",this.products={},this.ingredients=[],this.editingDescription=!1,this.images=[],this.recipe={title:"",description:"",img:"",ingredients:[],images:[]}}setTitle(e){console.log(e.target.value),this.recipe.title=e.target.value,this.updateDocument()}setDescription(e){console.log(e.target.value),this.recipe.description=e.target.value,this.updateDocument()}ngOnInit(){this.route.params.subscribe(e=>{const i=lS(this.firestore,"recetas-lomi");this.unsubscribe(),this.recipe$=mz(ez(i,T9("title","==",e.recipeTitle))),this.listenToRecipe(),this.updateDocument()})}onImageDropped(e){for(const i of e.target.files?e.target.files:e){this.images.push(i);const s=this.angularFireStorage.ref("recetas/"+this.recipe.title+"-"+this.images.length);s.put(i).then(h=>{console.log(h.metadata),console.log(s.getDownloadURL().subscribe(p=>{this.recipe.images?this.recipe.images.push(p):this.recipe.images=[p],this.updateDocument()}))})}}updateDocument(){lz(Z_(this.firestore,"recetas-lomi/"+this.recipe.title),this.recipe)}searchProducts(){this.productsService.searchProducts(this.keyword).then(e=>{this.products=e,this.products.data=this.products.data.filter(i=>!this.ingredients.find(r=>r.id==i.id))})}deleteIngredient(e){const i=this.recipe.ingredients.findIndex(r=>r.id==e.id);this.recipe.ingredients.splice(i,1),this.updateDocument()}addIngredient(e){e.quantity=1,this.recipe.ingredients.push(e);const i=this.products.data.findIndex(r=>r.id==e.id);this.products.data.splice(i,1),this.updateDocument(),console.log(this.ingredients)}listenToRecipe(){this.recipe$.subscribe(e=>{e.length&&(this.recipe=e[0],console.log(this.recipe))})}unsubscribe(){var e;(null===(e=this.recipe$)||void 0===e?void 0:e.unsubscribe)&&this.recipe$.unsubscribe()}ngOnDestroy(){this.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(X_),o.Y36(Xs),o.Y36(_z),o.Y36(nG))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomii-recipe"]],decls:44,vars:10,consts:[["autosize","",1,"example-container"],["opened","","mode","side","position","end",1,"example-sidenav"],["drawer",""],[1,"p",2,"width","300px"],[1,"ingredients-container"],[1,"flex-column"],["appearance","fill",1,"example-form-field"],["matInput","","type","text",3,"ngModel","keypress","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"content","p",2,"height","100vh"],[1,"content",2,"padding-right","2em"],[4,"ngIf"],["class","flex-column",4,"ngIf"],[1,"ingredients-list"],[1,"divider"],[1,"firestore-images"],["drag-n-drop","",1,"drag-n-drop",3,"fileDropped"],["src","assets/images/image-upload.png",3,"click"],["type","file",2,"position","absolute","opacity","0",3,"change"],["fileUpload",""],[2,"width","100%","display","flex","justify-content","space-between"],[2,"margin","0 0 16px 0"],["mat-button","","color","primary","aria-label","Example icon button with a delete icon",3,"click"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"hoverable",3,"click"],[1,"flex-row"],[2,"margin","0"],["matInput","","type","text",3,"keydown.enter"],[1,"ingredient"],["matInput","","type","number",3,"ngModel","change","ngModelChange"],[3,"click"],["class","mini-image",3,"src",4,"ngFor","ngForOf"],[1,"mini-image",3,"src"],[3,"innerHtml"],[2,"height","300px","padding-bottom","112px"],[3,"ngModel","ngModelChange"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"div",4)(5,"h2"),o._uU(6,"BUSCADOR DE INGREDIENTES"),o.qZA(),o.TgZ(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),o._uU(10,"Buscador de ingredientes lomi"),o.qZA(),o.TgZ(11,"input",7),o.NdJ("keypress",function(){return i.searchProducts()})("ngModelChange",function(c){return i.keyword=c}),o.qZA(),o.YNc(12,IX,3,0,"button",8),o.qZA(),o.YNc(13,DX,4,1,"div",9),o.qZA()()()(),o.TgZ(14,"div",10)(15,"div",11),o.YNc(16,SX,12,1,"ng-container",12),o.YNc(17,AX,7,1,"div",13),o.TgZ(18,"h1"),o._uU(19,"Ingredientes"),o.qZA(),o.TgZ(20,"div",14),o.YNc(21,MX,12,2,"div",9),o.qZA(),o._UZ(22,"div",15),o.TgZ(23,"h2")(24,"b"),o._uU(25,"IMAGENES"),o.qZA()(),o.TgZ(26,"div",16),o.YNc(27,RX,2,1,"ng-container",12),o.TgZ(28,"div",17),o.NdJ("fileDropped",function(c){return i.onImageDropped(c)}),o.TgZ(29,"img",18),o.NdJ("click",function(){return o.CHM(r),o.MAs(31).click()}),o.qZA(),o.TgZ(30,"input",19,20),o.NdJ("change",function(c){return i.onImageDropped(c)}),o.qZA()()(),o._UZ(32,"div",15),o.TgZ(33,"div",21)(34,"h2",22)(35,"b"),o._uU(36,"LOMI RECETA"),o.qZA()(),o.TgZ(37,"button",23),o.NdJ("click",function(){return i.updateDocument(),i.editingDescription=!i.editingDescription}),o._uU(38),o.TgZ(39,"mat-icon"),o._uU(40,"edit"),o.qZA()()(),o.YNc(41,OX,3,1,"div",13),o.YNc(42,PX,3,1,"div",13),o._UZ(43,"div",15),o.qZA()()()}2&e&&(o.xp6(11),o.Q6J("ngModel",i.keyword),o.xp6(1),o.Q6J("ngIf",i.keyword),o.xp6(1),o.Q6J("ngForOf",i.products.data),o.xp6(3),o.Q6J("ngIf",i.recipe.title),o.xp6(1),o.Q6J("ngIf",!i.recipe.title),o.xp6(4),o.Q6J("ngForOf",i.recipe.ingredients),o.xp6(6),o.Q6J("ngIf",i.recipe.images),o.xp6(11),o.hij(" ",i.editingDescription?"Finalizar edici\xf3n":"Editar receta"," "),o.xp6(3),o.Q6J("ngIf",!i.editingDescription),o.xp6(1),o.Q6J("ngIf",i.editingDescription))},directives:[r_,i_,QR,Fw,XR,Tu,jd,Ff,An,e_,YR,n_,bn,rD,Uv,pX,TX],styles:["[_nghost-%COMP%]{font-size:.7em}.image[_ngcontent-%COMP%]{width:40vw;height:100vh}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:-1;height:100%;width:auto;filter:contrast(.4);position:absolute;top:0}.image[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:12px}.ingredients-container[_ngcontent-%COMP%]{transition:.4s ease;background-color:#fff;box-shadow:-1px 0 5px 15px #0000}"]}),n})(),lG=(()=>{class n{constructor(e){this.firestore=e,this.lomiBoxes$=new lr([]),this.recipesRef=lS(this.firestore,"recetas-lomi"),this.recipes$=mz(this.recipesRef),this.lomiBoxRef=lS(this.firestore,"lomi-box");const i=E9(lS(this.firestore,"lomi-box"));C9(i,r=>{let s=[];r.forEach(c=>{s.push(Object.assign({id:c.id},c.data()))}),this.lomiBoxes$.next(s)})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X_))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const FX=function(n){return[n]};function LX(n,t){if(1&n&&(o.TgZ(0,"mat-card",4)(1,"mat-card-title",5),o._uU(2),o.qZA(),o._UZ(3,"img",6),o.TgZ(4,"div",7)(5,"mat-icon"),o._uU(6,"person"),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.qZA()(),o.TgZ(9,"div",7)(10,"mat-icon"),o._uU(11,"schedule"),o.qZA(),o.TgZ(12,"p"),o._uU(13),o.qZA()()()),2&n){const e=t.$implicit;o.Q6J("routerLink",o.VKq(5,FX,"/recipes/"+e.title)),o.xp6(2),o.Oqu(e.title),o.xp6(1),o.s9C("src",e.images?e.images[0]:"assets/images/recipe.png",o.LSH),o.xp6(5),o.Oqu(e.persons?e.persons:"?"),o.xp6(5),o.Oqu(e.time?e.time:"?")}}const BX=function(){return["/recipes/new"]};let cG=(()=>{class n{constructor(e){this.firestore=e,this.recipes=[]}ngOnInit(){this.firestore.recipes$.subscribe(e=>{this.recipes=e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(lG))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomii-home"]],decls:5,vars:3,consts:[[2,"height","12px","width","100vw"],["mat-raised-button","","mat-button","","color","primary",2,"width","calc(100% - 24px)","margin","0 12px",3,"routerLink"],[1,"flex-row",2,"flex-wrap","wrap"],["class","small hoverable",3,"routerLink",4,"ngFor","ngForOf"],[1,"small","hoverable",3,"routerLink"],[1,"primary-color",2,"font-size","0.9em","width","96px","height","1.75em","white-space","nowrap","text-overflow","ellipsis","overflow","hidden"],["mat-card-image","",2,"filter","grayscale(0.6)",3,"src"],[1,"info"]],template:function(e,i){1&e&&(o._UZ(0,"div",0),o.TgZ(1,"button",1),o._uU(2," Nueva receta\n"),o.qZA(),o.TgZ(3,"div",2),o.YNc(4,LX,14,7,"mat-card",3),o.qZA()),2&e&&(o.xp6(1),o.Q6J("routerLink",o.DdM(2,BX)),o.xp6(3),o.Q6J("ngForOf",i.recipes))},directives:[e_,xl,bn,rD,YV,KV,n_],styles:[""]}),n})(),pN=(()=>{class n{constructor(e,i){this.orders=[],this.pendingOrders=[],this.completedOrders=[],this.activatedFilters=[],this.booleanFilters=[{name:"Pedidos completados",action:this.completedFilter}],e.list("orders",s=>s.orderByChild("completed_at").limitToLast(30)).valueChanges().subscribe(s=>{s.reverse(),this.orders.forEach(c=>{c.badges=[],"LOMI"==c.bill_address.company?c.badges.push({abreviation:"RT",color:"green"}):c.hermexOrder?(console.log(c),c.badges.push({abreviation:"Hmx",color:"teal"})):c.journey_state&&c.badges.push({abreviation:"CAB",color:"purple"})})})}completedFilter(e){return e.hermexOrder?8==e.status.id:"drop off"==e.journey_state||"withdrawaled"==e.journey_state}doFilter(e){this.orders=this.orders.filter(e.action),this.activatedFilters.push(e)}getOrderByNumber(e){return console.log(this.orders),this.orders.find(i=>i.number==e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ZR),o.LFG(Xs))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VX=["thumbContainer"],UX=["toggleBar"],HX=["input"],jX=function(n){return{enterDuration:n}},zX=["*"],GX=new o.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let $X=0;const WX={provide:So,useExisting:(0,o.Gpc)(()=>uG),multi:!0};class qX{constructor(t,e){this.source=t,this.checked=e}}const ZX=IL(iw(lI(aI(class{constructor(n){this._elementRef=n}}))));let uG=(()=>{class n extends ZX{constructor(e,i,r,s,c,h){super(e),this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=c,this._onChange=p=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++$X,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new o.vpe,this.toggleChange=new o.vpe,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=c.color||"accent",this._noopAnimations="NoopAnimations"===h}get required(){return this._required}set required(e){this._required=Yn(e)}get checked(){return this._checked}set checked(e){this._checked=Yn(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(e){e.stopPropagation()}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new qX(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Yf),o.Y36(o.sBO),o.$8M("tabindex"),o.Y36(GX),o.Y36(Lc,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(e,i){if(1&e&&(o.Gf(VX,5),o.Gf(UX,5),o.Gf(HX,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._thumbEl=r.first),o.iGM(r=o.CRH())&&(i._thumbBarEl=r.first),o.iGM(r=o.CRH())&&(i._inputElement=r.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(e,i){2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),o.ekj("mat-checked",i.checked)("mat-disabled",i.disabled)("mat-slide-toggle-label-before","before"==i.labelPosition)("_mat-animation-noopable",i._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[o._Bn([WX]),o.qOj],ngContentSelectors:zX,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,i){if(1&e&&(o.F$t(),o.TgZ(0,"label",0,1)(2,"span",2,3)(4,"input",4,5),o.NdJ("change",function(s){return i._onChangeEvent(s)})("click",function(s){return i._onInputClick(s)}),o.qZA(),o.TgZ(6,"span",6,7),o._UZ(8,"span",8),o.TgZ(9,"span",9),o._UZ(10,"span",10),o.qZA()()(),o.TgZ(11,"span",11,12),o.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),o.TgZ(13,"span",13),o._uU(14,"\xa0"),o.qZA(),o.Hsn(15),o.qZA()()),2&e){const r=o.MAs(1),s=o.MAs(12);o.uIk("for",i.inputId),o.xp6(2),o.ekj("mat-slide-toggle-bar-no-side-margin",!s.textContent||!s.textContent.trim()),o.xp6(2),o.Q6J("id",i.inputId)("required",i.required)("tabIndex",i.tabIndex)("checked",i.checked)("disabled",i.disabled),o.uIk("name",i.name)("aria-checked",i.checked)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),o.xp6(5),o.Q6J("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",o.VKq(18,jX,i._noopAnimations?0:150))}},directives:[sw,UV],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),n})(),dG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),hG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[dG,cI,$n,HV],dG,$n]}),n})();const QX=function(n){return{"background-color":n}};function JX(n,t){if(1&n&&(o.TgZ(0,"div",15),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("ngStyle",o.VKq(2,QX,e.color)),o.xp6(1),o.hij(" ",e.abreviation," ")}}function XX(n,t){if(1&n&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.Oqu(e.hermexOrder?e.hermexOrder.status.description:e.journey_state)}}function eee(n,t){1&n&&(o.TgZ(0,"p"),o._uU(1,"Pedido Retirado"),o.qZA())}function tee(n,t){1&n&&(o.TgZ(0,"p"),o._uU(1,"Pedido por recoger"),o.qZA())}function nee(n,t){1&n&&o._UZ(0,"img",16)}function iee(n,t){1&n&&o._UZ(0,"img",17)}const ree=function(n){return[n]};function see(n,t){if(1&n&&(o.ynx(0),o.TgZ(1,"div",9)(2,"p"),o._uU(3),o.qZA(),o.TgZ(4,"div",10),o.YNc(5,JX,2,4,"div",11),o.qZA(),o.YNc(6,XX,2,1,"p",12),o.YNc(7,eee,2,0,"p",12),o.YNc(8,tee,2,0,"p",12),o.TgZ(9,"p"),o._uU(10),o.qZA(),o.TgZ(11,"p"),o._uU(12),o.qZA(),o.TgZ(13,"p"),o._uU(14),o.ALo(15,"date"),o.qZA(),o.TgZ(16,"p"),o._uU(17),o.ALo(18,"date"),o.qZA(),o.YNc(19,nee,1,0,"img",13),o.YNc(20,iee,1,0,"img",14),o.TgZ(21,"p"),o._uU(22),o.qZA()(),o._UZ(23,"div",8),o.BQk()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("routerLink",o.VKq(19,ree,"/orders/"+e.number)),o.xp6(2),o.Oqu(e.number),o.xp6(2),o.Q6J("ngForOf",e.badges),o.xp6(1),o.Q6J("ngIf",!e.bill_address.company),o.xp6(1),o.Q6J("ngIf",e.bill_address.company&&"withdrawaled"==e.journey_state),o.xp6(1),o.Q6J("ngIf",e.bill_address.company&&"withdrawaled"!=e.journey_state),o.xp6(2),o.Oqu(e.shipment_state),o.xp6(2),o.Oqu(e.store_id),o.xp6(2),o.Oqu(o.xi3(15,13,e.completed_at,"dd - MMM")),o.xp6(3),o.Oqu(o.xi3(18,16,e.completed_at,"HH:mm:ss")),o.xp6(2),o.Q6J("ngIf",!1),o.xp6(1),o.Q6J("ngIf",!1),o.xp6(2),o.Oqu(e.ship_address.address1)}}function oee(n,t){if(1&n&&(o.TgZ(0,"div",6)(1,"h1"),o._uU(2,"Ordenes"),o.qZA(),o._UZ(3,"div"),o.YNc(4,see,24,21,"ng-container",7),o._UZ(5,"div",8),o.qZA()),2&n){const e=o.oxw();o.xp6(4),o.Q6J("ngForOf",e.ordersProvider.orders)}}let aee=(()=>{class n{constructor(e){this.ordersProvider=e,this.recipes=[]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(pN))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomii-orders"]],decls:9,vars:1,consts:[["autosize","",1,"example-container"],["opened","","mode","side","position","end",1,"actions-sidenav",2,"width","300px"],["drawer",""],[1,"p"],[1,"example-margin"],["class","example-sidenav-content p",4,"ngIf"],[1,"example-sidenav-content","p"],[4,"ngFor","ngForOf"],[1,"divider"],[1,"order",3,"routerLink"],[1,"badges",2,"display","flex","flex-direction","column"],["class","badge","style","color:white;padding: 4px;",3,"ngStyle",4,"ngFor","ngForOf"],[4,"ngIf"],["src","assets/images/cabify.png",4,"ngIf"],["src","assets/images/lomi.svg",4,"ngIf"],[1,"badge",2,"color","white","padding","4px",3,"ngStyle"],["src","assets/images/cabify.png"],["src","assets/images/lomi.svg"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"h3"),o._uU(4,"Filtros"),o.qZA(),o.TgZ(5,"div",3)(6,"mat-slide-toggle",4),o._uU(7," Pedidos completados "),o.qZA()()(),o.YNc(8,oee,6,1,"div",5),o.qZA()),2&e&&(o.xp6(8),o.Q6J("ngIf",i.ordersProvider.orders))},directives:[r_,i_,uG,An,bn,xl,Qc],pipes:[sd],styles:[".order[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.order[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:30em}.order[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:2em;width:auto}"]}),n})(),lee=(()=>{class n{constructor(e,i){this.activatedRoute=e,this.ordersProvider=i}ngOnInit(){this.activatedRoute.params.subscribe(e=>{this.order=this.ordersProvider.getOrderByNumber(e.number),console.log(this.order)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Xs),o.Y36(pN))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomi-order"]],decls:6,vars:1,consts:[["autosize","",1,"example-container"],["opened","","mode","side","position","end",1,"example-sidenav",2,"width","300px"],["drawer",""],[1,"example-sidenav-content","p",2,"height","100vh"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-drawer-container",0),o._UZ(1,"mat-drawer",1,2),o.TgZ(3,"div",3)(4,"h1"),o._uU(5),o.qZA()()()),2&e&&(o.xp6(5),o.Oqu(null==i.order?null:i.order.order.number))},directives:[r_,i_],styles:["[_nghost-%COMP%]{font-size:.7em}.content[_ngcontent-%COMP%]{width:60vw}.image[_ngcontent-%COMP%]{width:40vw;height:100vh}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:-1;height:100%;width:auto;filter:contrast(.4);position:absolute;top:0}.image[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:12px}.ingredients-container[_ngcontent-%COMP%]{transition:.4s ease;background-color:#fff;box-shadow:-1px 0 5px 15px #0000}"]}),n})(),cee=(()=>{class n{constructor(e,i){this.router=e,this.auth=i}canActivate(e,i){return this.auth.signedIn||this.router.navigateByUrl("auth"),this.auth.signedIn}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Dr),o.LFG(Lg))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uee=function(n){return[n]};function dee(n,t){if(1&n&&(o.TgZ(0,"mat-card",4)(1,"mat-card-title",5),o._uU(2),o.qZA(),o._UZ(3,"img",6),o.TgZ(4,"div")(5,"p"),o._uU(6),o.qZA()(),o.TgZ(7,"div")(8,"p"),o._uU(9),o.qZA()(),o.TgZ(10,"div")(11,"p"),o._uU(12),o.qZA()()()),2&n){const e=t.$implicit;o.Q6J("routerLink",o.VKq(6,uee,"/lomi-box/"+e.id)),o.xp6(2),o.Oqu(e.title),o.xp6(1),o.s9C("src",e.images?e.images[0]:"assets/images/recipe.png",o.LSH),o.xp6(3),o.Oqu(e.title?e.title:"?"),o.xp6(3),o.Oqu(e.option_text?e.option_text:"?"),o.xp6(3),o.hij("",e.products?e.products.length:"?"," Productos")}}const hee=function(){return["/lomi-box/new"]};let fee=(()=>{class n{constructor(e){this.firestore=e,this.lomiBoxes=[]}ngOnInit(){this.firestore.lomiBoxes$.subscribe(e=>{this.lomiBoxes=e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(lG))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomii-box-list"]],decls:5,vars:3,consts:[[2,"height","12px","width","100vw"],["mat-raised-button","","mat-button","","color","primary",2,"width","calc(100% - 24px)","margin","0 12px",3,"routerLink"],[1,"flex-row",2,"flex-wrap","wrap"],["class","small hoverable",3,"routerLink",4,"ngFor","ngForOf"],[1,"small","hoverable",3,"routerLink"],[1,"primary-color",2,"font-size","0.9em","width","96px","height","1.75em","white-space","nowrap","text-overflow","ellipsis","overflow","hidden"],["mat-card-image","",2,"filter","grayscale(0.6)",3,"src"]],template:function(e,i){1&e&&(o._UZ(0,"div",0),o.TgZ(1,"button",1),o._uU(2," Nueva Lomi Box\n"),o.qZA(),o.TgZ(3,"div",2),o.YNc(4,dee,13,8,"mat-card",3),o.qZA()),2&e&&(o.xp6(1),o.Q6J("routerLink",o.DdM(2,hee)),o.xp6(3),o.Q6J("ngForOf",i.lomiBoxes))},directives:[e_,xl,bn,rD,YV,KV],styles:[""]}),n})();class pee{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Mt.x,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const gee=["trigger"],mee=["panel"];function _ee(n,t){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.placeholder)}}function yee(n,t){if(1&n&&(o.TgZ(0,"span",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.triggerValue)}}function vee(n,t){1&n&&o.Hsn(0,0,["*ngSwitchCase","true"])}function bee(n,t){if(1&n&&(o.TgZ(0,"span",9),o.YNc(1,yee,2,1,"span",10),o.YNc(2,vee,1,0,"ng-content",11),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngSwitch",!!e.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function wee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",13)(1,"div",14,15),o.NdJ("@transformPanel.done",function(r){return o.CHM(e),o.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return o.CHM(e),o.oxw()._handleKeydown(r)}),o.Hsn(3,1),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("@transformPanelWrap",void 0),o.xp6(1),o.Gre("mat-select-panel ",e._getPanelTheme(),""),o.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),o.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),o.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Cee=[[["mat-select-trigger"]],"*"],Eee=["mat-select-trigger","*"],fG={transformPanelWrap:ja("transformPanelWrap",[no("* => void",VT("@transformPanel",[Bb()],{optional:!0}))]),transformPanel:ja("transformPanel",[ra("void",Ui({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),ra("showing",Ui({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),ra("showing-multiple",Ui({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),no("void => *",Bl("120ms cubic-bezier(0, 0, 0.2, 1)")),no("* => void",Bl("100ms 25ms linear",Ui({opacity:0})))])};let pG=0;const mG=new o.OlP("mat-select-scroll-strategy"),See=new o.OlP("MAT_SELECT_CONFIG"),xee={provide:mG,deps:[uh],useFactory:function Dee(n){return()=>n.scrollStrategies.reposition()}};class Aee{constructor(t,e){this.source=t,this.value=e}}const Mee=lI(IL(aI(DL(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r}})))),kee=new o.OlP("MatSelectTrigger");let Ree=(()=>{class n extends Mee{constructor(e,i,r,s,c,h,p,_,w,T,A,F,B,ae){var we,$e,Je;super(c,s,p,_,T),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=h,this._parentFormField=w,this._liveAnnouncer=B,this._defaultOptions=ae,this._panelOpen=!1,this._compareWith=(Qe,et)=>Qe===et,this._uid="mat-select-"+pG++,this._triggerAriaLabelledBy=null,this._destroy=new Mt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+pG++,this._panelDoneAnimatingStream=new Mt.x,this._overlayPanelClass=(null===(we=this._defaultOptions)||void 0===we?void 0:we.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(Je=null===($e=this._defaultOptions)||void 0===$e?void 0:$e.disableOptionCentering)&&void 0!==Je&&Je,this.ariaLabel="",this.optionSelectionChanges=uf(()=>{const Qe=this.options;return Qe?Qe.changes.pipe(Ts(Qe),En(()=>(0,or.T)(...Qe.map(et=>et.onSelectionChange)))):this._ngZone.onStable.pipe((0,Tn.q)(1),En(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe(gn(Qe=>Qe),(0,gt.U)(()=>{})),this._closedStream=this.openedChange.pipe(gn(Qe=>!Qe),(0,gt.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==ae?void 0:ae.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=ae.typeaheadDebounceInterval),this._scrollStrategyFactory=F,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(A)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,r,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(Iu.required))&&void 0!==s&&s}set required(e){this._required=Yn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Yn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Yn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Om(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new pee(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Rm(),Zn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Zn(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Ts(null),Zn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,c=this._keyManager;if(!c.isTyping()&&s&&!Ll(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const h=this.selected;c.onKeydown(e);const p=this.selected;p&&h!==p&&this._liveAnnouncer.announce(p.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,c=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(c||13!==r&&32!==r||!i.activeItem||Ll(e))if(!c&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const h=this.options.some(p=>!p.disabled&&!p.selected);this.options.forEach(p=>{p.disabled||(h?p.select():p.deselect())})}else{const h=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==h&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Tn.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch(s){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new SM(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Zn(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Zn(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,or.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Zn(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,or.T)(...this.options.map(i=>i._stateChanges)).pipe(Zn(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fI),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(Tk),o.Y36(o.SBq),o.Y36(Va,8),o.Y36(Qg,8),o.Y36(Ou,8),o.Y36(KR,8),o.Y36(kl,10),o.$8M("tabindex"),o.Y36(mG),o.Y36(LT),o.Y36(See,8))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&(o.Gf(gee,5),o.Gf(mee,5),o.Gf(t2,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.trigger=r.first),o.iGM(r=o.CRH())&&(i.panel=r.first),o.iGM(r=o.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),n})(),Oee=(()=>{class n extends Ree{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Zn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Tn.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=PL(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function Y$(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new Aee(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let c;if(this.multiple)c=40;else if(this.disableOptionCentering)c=16;else{let _=this._selectionModel.selected[0]||this.options.first;c=_&&_.group?32:16}r||(c*=-1);const h=0-(e.left+c-(r?s:0)),p=e.right+c-i.width+(r?0:s);h>0?c+=h+8:p>0&&(c-=p+8),this._overlayDir.offsetX=Math.round(c),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const s=this._getItemHeight(),c=(s-this._triggerRect.height)/2,h=Math.floor(256/s);let p;return this.disableOptionCentering?0:(p=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-h))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*p-c))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,c=r.height-this._triggerRect.bottom-8,h=Math.abs(this._offsetY),_=Math.min(this._getItemCount()*i,256)-h-this._triggerRect.height;_>c?this._adjustPanelUp(_,c):h>s?this._adjustPanelDown(h,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),c=i*e-r;let h;h=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),h+=PL(h,this.options,this.optionGroups);const p=r/2;this._scrollTop=this._calculateOverlayScroll(h,p,c),this._offsetY=this._calculateOverlayOffsetY(h,p,c),this._checkOverlayWithinViewport(c)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,kee,5),o.Suo(r,OL,5),o.Suo(r,RL,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.customTrigger=s.first),o.iGM(s=o.CRH())&&(i.options=s),o.iGM(s=o.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&o.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(o.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),o.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o._Bn([{provide:iD,useExisting:n},{provide:kL,useExisting:n}]),o.qOj],ngContentSelectors:Eee,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(o.F$t(Cee),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return i.toggle()}),o.TgZ(3,"div",2),o.YNc(4,_ee,2,1,"span",3),o.YNc(5,bee,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5),o._UZ(7,"div",6),o.qZA()(),o.YNc(8,wee,4,14,"ng-template",7),o.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=o.MAs(1);o.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",i.empty),o.uIk("id",i._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(3),o.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[e2,ir,$i,Kc,t2,Or],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[fG.transformPanelWrap,fG.transformPanel]},changeDetection:0}),n})(),_G=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[xee],imports:[[wi,Nk,NL,$n],t_,JR,NL,$n]}),n})();function Pee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",26),o.NdJ("click",function(){return o.CHM(e),o.oxw().keyword=""}),o.TgZ(1,"mat-icon"),o._uU(2,"close"),o.qZA()()}}function Nee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"mat-card",27),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().addIngredient(s)}),o.TgZ(2,"p"),o._uU(3),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(3),o.Oqu(e.attributes.name)}}function Fee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"div",28)(2,"mat-form-field")(3,"mat-label"),o._uU(4,"Cantidad"),o.qZA(),o._UZ(5,"input",29),o.qZA(),o.TgZ(6,"h6"),o._uU(7,"-"),o.qZA(),o.TgZ(8,"p"),o._uU(9),o.qZA(),o.TgZ(10,"mat-icon",30),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().deleteIngredient(s)}),o._uU(11,"delete"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(9),o.Oqu(e.attributes.name)}}function Lee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",31),o.NdJ("click",function(){return o.CHM(e),o.oxw().deleteItem()}),o._uU(1," Eliminar Receta "),o.qZA()}}function Bee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",32),o.NdJ("click",function(){return o.CHM(e),o.oxw().updateBox()}),o._uU(1,"Editar Receta"),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("disabled",!e.lomiBoxForm.valid||e.ingredients.length<1)}}function Vee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",32),o.NdJ("click",function(){return o.CHM(e),o.oxw().createBox()}),o._uU(1,"Crear Receta"),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("disabled",!e.lomiBoxForm.valid||e.ingredients.length<1)}}Kz((0,Lr.ZF)(U0_firebase));const Hee=[{path:"auth",component:ZV},{path:"",canActivate:[cee],children:[{path:"dashboard",component:cG},{path:"orders",component:aee},{path:"orders/:number",component:lee},{path:"recipes",component:cG},{path:"recipes/new",component:aG},{path:"recipes/:recipeTitle",component:aG},{path:"lomi-box/:boxId",component:(()=>{class n{constructor(e,i,r,s,c){this.firestore=e,this.route=i,this.router=r,this.productsService=s,this.formBuilder=c,this.keyword="",this.products={},this.ingredients=[],this.editingDescription=!1,this.selectCategory="",this.isNew=!1,this.id="",this.lomiBoxForm=this.formBuilder.group({title:["",[Iu.required]],category:["",[Iu.required]],images:["1",[]],products:[""],option_text:["",[Iu.required]]})}ngOnInit(){var e=this;this.route.params.subscribe(function(){var i=(0,nt.Z)(function*(r){e.id=r.boxId;const s=Z_(e.firestore,"lomi-box",e.id);"new"===r.boxId&&(e.isNew=!0),e.unsubscribe(),e.box$=yield function t9(n){n=Sn(n,Ji);const t=Sn(n.firestore,Si);return function P3(n,t,e={}){const i=new Hr;return n.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return function(r,s,c,h,p){const _=new sS({next:T=>{s.enqueueAndForget(()=>nP(r,w));const A=T.docs.has(c);!A&&T.fromCache?p.reject(new ze(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&T.fromCache&&h&&"server"===h.source?p.reject(new ze(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),w=new sP(A_(c.path),_,{includeMetadataChanges:!0,ku:!0});return eP(r,w)}(yield q_(n),n.asyncQueue,t,e,i)})),i.promise}(Ar(t),n._key).then(e=>KP(t,n,e))}(s),e.getBox()});return function(r){return i.apply(this,arguments)}}())}searchProducts(){this.productsService.searchProducts(this.keyword).then(e=>{this.products=e,this.products.data=this.products.data.filter(i=>!this.ingredients.find(r=>r.id==i.id))})}deleteIngredient(e){const i=this.ingredients.findIndex(r=>r.id==e.id);this.ingredients.splice(i,1)}addIngredient(e){e.quantity=1,this.ingredients.push(e);const i=this.products.data.findIndex(r=>r.id==e.id);this.products.data.splice(i,1)}getBox(){"new"!=this.box$.id&&(console.log(this.box$),this.id=this.id,this.lomiBoxForm.setValue({title:this.box$.data().title,category:this.box$.data().category,images:this.box$.data().images,products:this.box$.data().products,option_text:this.box$.data().option_text}),this.ingredients=this.box$.data().products)}updateBox(){var e=this;return(0,nt.Z)(function*(){if(!e.lomiBoxForm.valid&&e.ingredients.length<=0)return;e.lomiBoxForm.value.products=e.ingredients,e.lomiBoxForm.value.images=[];let i=Z_(e.firestore,"lomi-box",e.id);yield function n9(n,t,e,...i){n=Sn(n,Ji);const r=Sn(n.firestore,Si),s=K_(r);let c;return c="string"==typeof(t=(0,U.m9)(t))||t instanceof Y_?function Z3(n,t,e,i,r,s){const c=n.lc(1,t,e),h=[qP(t,i,e)],p=[r];if(s.length%2!=0)throw new ze(Te.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<s.length;A+=2)h.push(qP(t,s[A])),p.push(s[A+1]);const _=[],w=ks.empty();for(let A=h.length-1;A>=0;--A)if(!J3(_,h[A])){const F=h[A];let B=p[A];B=(0,U.m9)(B);const ae=c.oc(F);if(B instanceof P0)_.push(F);else{const we=Hp(B,ae);null!=we&&(_.push(F),w.set(F,we))}}const T=new I_(_);return new G3(w,T,c.fieldTransforms)}(s,"updateDoc",n._key,t,e,i):function q3(n,t,e,i){const r=n.lc(1,t,e);WP("Data must be an object, but it was:",r,i);const s=[],c=ks.empty();wp(i,(p,_)=>{const w=uS(t,p,e);_=(0,U.m9)(_);const T=r.oc(w);if(_ instanceof P0)s.push(w);else{const A=Hp(_,T);null!=A&&(s.push(w),c.set(w,A))}});const h=new I_(s);return new G3(c,h,r.fieldTransforms)}(s,"updateDoc",n._key,t),N0(r,[c.toMutation(n._key,gr.exists(!0))])}(i,Object.assign({},e.lomiBoxForm.value)),e.router.navigate(["lomi-box"])})()}createBox(){var e=this;return(0,nt.Z)(function*(){!e.lomiBoxForm.valid&&e.ingredients.length<=0||(e.lomiBoxForm.value.products=e.ingredients,e.lomiBoxForm.value.images=[],yield lz(Z_(e.firestore,"lomi-box",e.lomiBoxForm.value.title),e.lomiBoxForm.value),e.router.navigate(["lomi-box"]))})()}deleteItem(){var e=this;return(0,nt.Z)(function*(){yield b9(Z_(e.firestore,"lomi-box",e.id)),e.router.navigate(["lomi-box"])})()}unsubscribe(){var e;(null===(e=this.box$)||void 0===e?void 0:e.unsubscribe)&&this.box$.unsubscribe()}ngOnDestroy(){this.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(X_),o.Y36(Xs),o.Y36(Dr),o.Y36(_z),o.Y36(FN))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomii-box"]],decls:50,vars:8,consts:[["autosize","",1,"example-container"],["opened","","mode","side","position","end",1,"example-sidenav"],["drawer",""],[1,"p",2,"width","300px"],[1,"ingredients-container"],[1,"flex-column"],["appearance","outline",1,"example-form-field"],["matInput","","type","text",3,"ngModel","keypress","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"example-sidenav-content","p",2,"height","100vh"],[1,"content",2,"padding-right","2em"],[1,"flex-column",3,"formGroup","submit"],[1,"flex-row"],["formControlName","title","matInput","","type","text"],[1,"divider"],["formControlName","option_text","matInput","","type","text"],["appearance","outline"],["formControlName","category"],["value","frutasVerduras"],["value","bebidas"],["value","junta"],[1,"ingredients-list"],[2,"display","flex"],["style","width: 100%; margin: 0 12px; background-color: #eb445a;","mat-raised-button","","mat-button","",3,"click",4,"ngIf"],["style","width: 100%; margin: 0 12px;","mat-raised-button","","mat-button","","color","primary",3,"disabled","click",4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"hoverable",3,"click"],[1,"ingredient"],["matInput","","type","number"],[3,"click"],["mat-raised-button","","mat-button","",2,"width","100%","margin","0 12px","background-color","#eb445a",3,"click"],["mat-raised-button","","mat-button","","color","primary",2,"width","100%","margin","0 12px",3,"disabled","click"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"div",4)(5,"h2"),o._uU(6,"BUSCADOR DE INGREDIENTES"),o.qZA(),o.TgZ(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),o._uU(10,"Buscador de ingredientes lomi"),o.qZA(),o.TgZ(11,"input",7),o.NdJ("keypress",function(){return i.searchProducts()})("ngModelChange",function(s){return i.keyword=s}),o.qZA(),o.YNc(12,Pee,3,0,"button",8),o.qZA(),o.YNc(13,Nee,4,1,"div",9),o.qZA()()()(),o.TgZ(14,"div",10)(15,"div",11)(16,"form",12),o.NdJ("submit",function(){return i.createBox()}),o.TgZ(17,"div",13)(18,"mat-form-field",6)(19,"mat-label"),o._uU(20,"Titulo"),o.qZA(),o._UZ(21,"input",14),o.qZA()(),o._UZ(22,"div",15),o.TgZ(23,"div",13)(24,"mat-form-field",6)(25,"mat-label"),o._uU(26,"Unidad"),o.qZA(),o._UZ(27,"input",16),o.qZA()(),o._UZ(28,"div",15),o.TgZ(29,"div",13)(30,"mat-form-field",17)(31,"mat-label"),o._uU(32,"Categoria"),o.qZA(),o.TgZ(33,"mat-select",18)(34,"mat-option",19),o._uU(35,"Frutas y Verduras"),o.qZA(),o.TgZ(36,"mat-option",20),o._uU(37,"Bebidas"),o.qZA(),o.TgZ(38,"mat-option",21),o._uU(39,"Juntas"),o.qZA()()()(),o._UZ(40,"div",15),o.qZA(),o.TgZ(41,"h1")(42,"b"),o._uU(43,"Productos"),o.qZA()(),o.TgZ(44,"div",22),o.YNc(45,Fee,12,1,"div",9),o.qZA()(),o.TgZ(46,"div",23),o.YNc(47,Lee,2,0,"button",24),o.YNc(48,Bee,2,1,"button",25),o.YNc(49,Vee,2,1,"button",25),o.qZA()()()),2&e&&(o.xp6(11),o.Q6J("ngModel",i.keyword),o.xp6(1),o.Q6J("ngIf",i.keyword),o.xp6(1),o.Q6J("ngForOf",i.products.data),o.xp6(3),o.Q6J("formGroup",i.lomiBoxForm),o.xp6(29),o.Q6J("ngForOf",i.ingredients),o.xp6(2),o.Q6J("ngIf",!i.isNew),o.xp6(1),o.Q6J("ngIf",!i.isNew),o.xp6(1),o.Q6J("ngIf",i.isNew))},directives:[r_,i_,QR,Fw,XR,Tu,jd,Ff,An,e_,YR,n_,bn,rD,hE,Ax,Ou,Gv,Oee,OL],styles:["[_nghost-%COMP%]{font-size:.7em}.image[_ngcontent-%COMP%]{width:40vw;height:100vh}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:-1;height:100%;width:auto;filter:contrast(.4);position:absolute;top:0}.image[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:12px}.ingredients-container[_ngcontent-%COMP%]{transition:.4s ease;background-color:#fff;box-shadow:-1px 0 5px 15px #0000}"]}),n})()},{path:"lomi-box",component:fee},{path:"",redirectTo:"/dashboard",pathMatch:"full"}]}];let yG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[If.forChild(Hee)],If]}),n})();function jee(n,t){}class gN{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const zee={dialogContainer:ja("dialogContainer",[ra("void, exit",Ui({opacity:0,transform:"scale(0.7)"})),ra("enter",Ui({transform:"none"})),no("* => enter",Lb([Bl("150ms cubic-bezier(0, 0, 0.2, 1)",Ui({transform:"none",opacity:1})),VT("@*",Bb(),{optional:!0})])),no("* => void, * => exit",Lb([Bl("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Ui({opacity:0})),VT("@*",Bb(),{optional:!0})]))])};let Gee=(()=>{class n extends Mk{constructor(e,i,r,s,c,h,p,_){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=c,this._interactivityChecker=h,this._ngZone=p,this._focusMonitor=_,this._animationStateChanged=new o.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=w=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(w)),this._ariaLabelledBy=c.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=wm())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=wm(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=wm();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(xT),o.Y36(o.sBO),o.Y36(Y,8),o.Y36(gN),o.Y36(Pm),o.Y36(o.R0b),o.Y36(Yf))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(UL,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},features:[o.qOj]}),n})(),$ee=(()=>{class n extends Gee{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&o.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(o.Ikx("id",i._id),o.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),o.d8E("@dialogContainer",i._state))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,jee,0,0,"ng-template",0)},directives:[UL],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[zee.dialogContainer]}}),n})(),Wee=0;class qee{constructor(t,e,i="mat-dialog-"+Wee++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Mt.x,this._afterClosed=new Mt.x,this._beforeClosed=new Mt.x,this._state=0,e._id=i,e._animationStateChanged.pipe(gn(r=>"opened"===r.state),(0,Tn.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(gn(r=>"closed"===r.state),(0,Tn.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(gn(r=>27===r.keyCode&&!this.disableClose&&!Ll(r))).subscribe(r=>{r.preventDefault(),vG(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():vG(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(gn(e=>"closing"===e.state),(0,Tn.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function vG(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const Zee=new o.OlP("MatDialogData"),Yee=new o.OlP("mat-dialog-default-options"),bG=new o.OlP("mat-dialog-scroll-strategy"),Qee={provide:bG,deps:[uh],useFactory:function Kee(n){return()=>n.scrollStrategies.block()}};let Jee=(()=>{class n{constructor(e,i,r,s,c,h,p,_,w,T){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=c,this._dialogRefConstructor=p,this._dialogContainerType=_,this._dialogDataToken=w,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Mt.x,this._afterOpenedAtThisLevel=new Mt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=uf(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ts(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function ete(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new gN),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),s=this._attachDialogContainer(r,i),c=this._attachDialogContent(e,s,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.afterClosed().subscribe(()=>this._removeOpenDialog(c)),this.afterOpened.next(c),s._initializeWithAttachedContent(),c}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new pI({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const s=o.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:gN,useValue:i}]}),c=new Ak(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return e.attach(c).instance}_attachDialogContent(e,i,r,s){const c=new this._dialogRefConstructor(r,i,s.id);if(e instanceof o.Rgc)i.attachTemplatePortal(new hI(e,null,{$implicit:s.data,dialogRef:c}));else{const h=this._createInjector(s,c,i),p=i.attachComponentPortal(new Ak(e,s.viewContainerRef,h,s.componentFactoryResolver));c.componentInstance=p.instance}return c.updateSize(s.width,s.height).updatePosition(s.position),c}_createInjector(e,i,r){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,c=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!s||!s.get(Va,null,o.XFs.Optional))&&c.push({provide:Va,useValue:{value:e.direction,change:ut()}}),o.zs3.create({parent:s||this._injector,providers:c})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n}),n})(),Xee=(()=>{class n extends Jee{constructor(e,i,r,s,c,h,p,_){super(e,i,s,h,p,c,qee,$ee,Zee,_)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(uh),o.LFG(o.zs3),o.LFG(We,8),o.LFG(Yee,8),o.LFG(bG),o.LFG(n,12),o.LFG(Pk),o.LFG(Lc,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),wG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Xee,Qee],imports:[[Nk,HL,$n],$n]}),n})(),TS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[pN],imports:[[wi,QV,XV,yG,qV,p2,_2,_G,om,FL,wG,oG.forRoot(),Oi.hO.initializeApp(U0_firebase),Ia(()=>ig(U0_firebase)),v9(()=>w9()),iG,R8,yy,l2,hG,mb],QV,XV,yG,qV,FL,_G,p2,_2,om,wG,oG,iG,l2,hG,mb]}),n})(),tte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[wi,TS]]}),n})(),nte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[wi,TS]]}),n})(),ite=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[wi,TS,nb]]}),n})(),rte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[mZ]}),n.\u0275inj=o.cJS({providers:[],imports:[[Xl,t6,If.forRoot([],{initialNavigation:"enabledBlocking"}),k$,tte,nte,ite,TS]]}),n})();(0,o.G48)(),gd().bootstrapModule(rte).catch(n=>console.error(n))},3014:(De,me,M)=>{De.exports=M(7114)},7729:(De,me,M)=>{"use strict";var o=M(4701),L=M(858),k=M(5738),q=M(1625),J=M(5215),oe=M(2099),Y=M(6100),ee=M(5593),ce=M(985),j=M(1413);De.exports=function($){return new Promise(function(Se,Me){var ke,Le=$.data,be=$.headers,Ee=$.responseType;function Be(){$.cancelToken&&$.cancelToken.unsubscribe(ke),$.signal&&$.signal.removeEventListener("abort",ke)}o.isFormData(Le)&&delete be["Content-Type"];var _e=new XMLHttpRequest;if($.auth){var We=$.auth.username||"",Re=$.auth.password?unescape(encodeURIComponent($.auth.password)):"";be.Authorization="Basic "+btoa(We+":"+Re)}var tt=J($.baseURL,$.url);function K(){if(_e){var N="getAllResponseHeaders"in _e?oe(_e.getAllResponseHeaders()):null;L(function(pe){Se(pe),Be()},function(pe){Me(pe),Be()},{data:Ee&&"text"!==Ee&&"json"!==Ee?_e.response:_e.responseText,status:_e.status,statusText:_e.statusText,headers:N,config:$,request:_e}),_e=null}}if(_e.open($.method.toUpperCase(),q(tt,$.params,$.paramsSerializer),!0),_e.timeout=$.timeout,"onloadend"in _e?_e.onloadend=K:_e.onreadystatechange=function(){!_e||4!==_e.readyState||0===_e.status&&(!_e.responseURL||0!==_e.responseURL.indexOf("file:"))||setTimeout(K)},_e.onabort=function(){!_e||(Me(ee("Request aborted",$,"ECONNABORTED",_e)),_e=null)},_e.onerror=function(){Me(ee("Network Error",$,null,_e)),_e=null},_e.ontimeout=function(){var G=$.timeout?"timeout of "+$.timeout+"ms exceeded":"timeout exceeded";$.timeoutErrorMessage&&(G=$.timeoutErrorMessage),Me(ee(G,$,($.transitional||ce).clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",_e)),_e=null},o.isStandardBrowserEnv()){var ye=($.withCredentials||Y(tt))&&$.xsrfCookieName?k.read($.xsrfCookieName):void 0;ye&&(be[$.xsrfHeaderName]=ye)}"setRequestHeader"in _e&&o.forEach(be,function(G,W){void 0===Le&&"content-type"===W.toLowerCase()?delete be[W]:_e.setRequestHeader(W,G)}),o.isUndefined($.withCredentials)||(_e.withCredentials=!!$.withCredentials),Ee&&"json"!==Ee&&(_e.responseType=$.responseType),"function"==typeof $.onDownloadProgress&&_e.addEventListener("progress",$.onDownloadProgress),"function"==typeof $.onUploadProgress&&_e.upload&&_e.upload.addEventListener("progress",$.onUploadProgress),($.cancelToken||$.signal)&&(ke=function(N){!_e||(Me(!N||N&&N.type?new j("canceled"):N),_e.abort(),_e=null)},$.cancelToken&&$.cancelToken.subscribe(ke),$.signal&&($.signal.aborted?ke():$.signal.addEventListener("abort",ke))),Le||(Le=null),_e.send(Le)})}},7114:(De,me,M)=>{"use strict";var o=M(4701),L=M(2414),k=M(6490),q=M(2971),Y=function oe(ee){var ce=new k(ee),j=L(k.prototype.request,ce);return o.extend(j,k.prototype,ce),o.extend(j,ce),j.create=function($){return oe(q(ee,$))},j}(M(4498));Y.Axios=k,Y.Cancel=M(1413),Y.CancelToken=M(3056),Y.isCancel=M(8827),Y.VERSION=M(1773).version,Y.all=function(ce){return Promise.all(ce)},Y.spread=M(9211),Y.isAxiosError=M(4603),De.exports=Y,De.exports.default=Y},1413:De=>{"use strict";function me(M){this.message=M}me.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},me.prototype.__CANCEL__=!0,De.exports=me},3056:(De,me,M)=>{"use strict";var o=M(1413);function L(k){if("function"!=typeof k)throw new TypeError("executor must be a function.");var q;this.promise=new Promise(function(Y){q=Y});var J=this;this.promise.then(function(oe){if(J._listeners){var Y,ee=J._listeners.length;for(Y=0;Y<ee;Y++)J._listeners[Y](oe);J._listeners=null}}),this.promise.then=function(oe){var Y,ee=new Promise(function(ce){J.subscribe(ce),Y=ce}).then(oe);return ee.cancel=function(){J.unsubscribe(Y)},ee},k(function(Y){J.reason||(J.reason=new o(Y),q(J.reason))})}L.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},L.prototype.subscribe=function(q){this.reason?q(this.reason):this._listeners?this._listeners.push(q):this._listeners=[q]},L.prototype.unsubscribe=function(q){if(this._listeners){var J=this._listeners.indexOf(q);-1!==J&&this._listeners.splice(J,1)}},L.source=function(){var q;return{token:new L(function(Y){q=Y}),cancel:q}},De.exports=L},8827:De=>{"use strict";De.exports=function(M){return!(!M||!M.__CANCEL__)}},6490:(De,me,M)=>{"use strict";var o=M(4701),L=M(1625),k=M(607),q=M(957),J=M(2971),oe=M(4828),Y=oe.validators;function ee(ce){this.defaults=ce,this.interceptors={request:new k,response:new k}}ee.prototype.request=function(j,V){"string"==typeof j?(V=V||{}).url=j:V=j||{},(V=J(this.defaults,V)).method=V.method?V.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var $=V.transitional;void 0!==$&&oe.assertOptions($,{silentJSONParsing:Y.transitional(Y.boolean),forcedJSONParsing:Y.transitional(Y.boolean),clarifyTimeoutError:Y.transitional(Y.boolean)},!1);var Oe=[],Se=!0;this.interceptors.request.forEach(function(We){"function"==typeof We.runWhen&&!1===We.runWhen(V)||(Se=Se&&We.synchronous,Oe.unshift(We.fulfilled,We.rejected))});var Le,Me=[];if(this.interceptors.response.forEach(function(We){Me.push(We.fulfilled,We.rejected)}),!Se){var be=[q,void 0];for(Array.prototype.unshift.apply(be,Oe),be=be.concat(Me),Le=Promise.resolve(V);be.length;)Le=Le.then(be.shift(),be.shift());return Le}for(var Ee=V;Oe.length;){var ke=Oe.shift(),Be=Oe.shift();try{Ee=ke(Ee)}catch(_e){Be(_e);break}}try{Le=q(Ee)}catch(_e){return Promise.reject(_e)}for(;Me.length;)Le=Le.then(Me.shift(),Me.shift());return Le},ee.prototype.getUri=function(j){return j=J(this.defaults,j),L(j.url,j.params,j.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],function(j){ee.prototype[j]=function(V,$){return this.request(J($||{},{method:j,url:V,data:($||{}).data}))}}),o.forEach(["post","put","patch"],function(j){ee.prototype[j]=function(V,$,Oe){return this.request(J(Oe||{},{method:j,url:V,data:$}))}}),De.exports=ee},607:(De,me,M)=>{"use strict";var o=M(4701);function L(){this.handlers=[]}L.prototype.use=function(q,J,oe){return this.handlers.push({fulfilled:q,rejected:J,synchronous:!!oe&&oe.synchronous,runWhen:oe?oe.runWhen:null}),this.handlers.length-1},L.prototype.eject=function(q){this.handlers[q]&&(this.handlers[q]=null)},L.prototype.forEach=function(q){o.forEach(this.handlers,function(oe){null!==oe&&q(oe)})},De.exports=L},5215:(De,me,M)=>{"use strict";var o=M(8692),L=M(4554);De.exports=function(q,J){return q&&!o(J)?L(q,J):J}},5593:(De,me,M)=>{"use strict";var o=M(5124);De.exports=function(k,q,J,oe,Y){var ee=new Error(k);return o(ee,q,J,oe,Y)}},957:(De,me,M)=>{"use strict";var o=M(4701),L=M(5134),k=M(8827),q=M(4498),J=M(1413);function oe(Y){if(Y.cancelToken&&Y.cancelToken.throwIfRequested(),Y.signal&&Y.signal.aborted)throw new J("canceled")}De.exports=function(ee){return oe(ee),ee.headers=ee.headers||{},ee.data=L.call(ee,ee.data,ee.headers,ee.transformRequest),ee.headers=o.merge(ee.headers.common||{},ee.headers[ee.method]||{},ee.headers),o.forEach(["delete","get","head","post","put","patch","common"],function(V){delete ee.headers[V]}),(ee.adapter||q.adapter)(ee).then(function(V){return oe(ee),V.data=L.call(ee,V.data,V.headers,ee.transformResponse),V},function(V){return k(V)||(oe(ee),V&&V.response&&(V.response.data=L.call(ee,V.response.data,V.response.headers,ee.transformResponse))),Promise.reject(V)})}},5124:De=>{"use strict";De.exports=function(M,o,L,k,q){return M.config=o,L&&(M.code=L),M.request=k,M.response=q,M.isAxiosError=!0,M.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},M}},2971:(De,me,M)=>{"use strict";var o=M(4701);De.exports=function(k,q){q=q||{};var J={};function oe($,Oe){return o.isPlainObject($)&&o.isPlainObject(Oe)?o.merge($,Oe):o.isPlainObject(Oe)?o.merge({},Oe):o.isArray(Oe)?Oe.slice():Oe}function Y($){return o.isUndefined(q[$])?o.isUndefined(k[$])?void 0:oe(void 0,k[$]):oe(k[$],q[$])}function ee($){if(!o.isUndefined(q[$]))return oe(void 0,q[$])}function ce($){return o.isUndefined(q[$])?o.isUndefined(k[$])?void 0:oe(void 0,k[$]):oe(void 0,q[$])}function j($){return $ in q?oe(k[$],q[$]):$ in k?oe(void 0,k[$]):void 0}var V={url:ee,method:ee,data:ee,baseURL:ce,transformRequest:ce,transformResponse:ce,paramsSerializer:ce,timeout:ce,timeoutMessage:ce,withCredentials:ce,adapter:ce,responseType:ce,xsrfCookieName:ce,xsrfHeaderName:ce,onUploadProgress:ce,onDownloadProgress:ce,decompress:ce,maxContentLength:ce,maxBodyLength:ce,transport:ce,httpAgent:ce,httpsAgent:ce,cancelToken:ce,socketPath:ce,responseEncoding:ce,validateStatus:j};return o.forEach(Object.keys(k).concat(Object.keys(q)),function(Oe){var Se=V[Oe]||Y,Me=Se(Oe);o.isUndefined(Me)&&Se!==j||(J[Oe]=Me)}),J}},858:(De,me,M)=>{"use strict";var o=M(5593);De.exports=function(k,q,J){var oe=J.config.validateStatus;J.status&&oe&&!oe(J.status)?q(o("Request failed with status code "+J.status,J.config,null,J.request,J)):k(J)}},5134:(De,me,M)=>{"use strict";var o=M(4701),L=M(4498);De.exports=function(q,J,oe){var Y=this||L;return o.forEach(oe,function(ce){q=ce.call(Y,q,J)}),q}},4498:(De,me,M)=>{"use strict";var o=M(4701),L=M(5620),k=M(5124),q=M(985),J={"Content-Type":"application/x-www-form-urlencoded"};function oe(j,V){!o.isUndefined(j)&&o.isUndefined(j["Content-Type"])&&(j["Content-Type"]=V)}var ce={transitional:q,adapter:function Y(){var j;return("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(j=M(7729)),j}(),transformRequest:[function(V,$){return L($,"Accept"),L($,"Content-Type"),o.isFormData(V)||o.isArrayBuffer(V)||o.isBuffer(V)||o.isStream(V)||o.isFile(V)||o.isBlob(V)?V:o.isArrayBufferView(V)?V.buffer:o.isURLSearchParams(V)?(oe($,"application/x-www-form-urlencoded;charset=utf-8"),V.toString()):o.isObject(V)||$&&"application/json"===$["Content-Type"]?(oe($,"application/json"),function ee(j,V,$){if(o.isString(j))try{return(V||JSON.parse)(j),o.trim(j)}catch(Oe){if("SyntaxError"!==Oe.name)throw Oe}return($||JSON.stringify)(j)}(V)):V}],transformResponse:[function(V){var $=this.transitional||ce.transitional,Me=!($&&$.silentJSONParsing)&&"json"===this.responseType;if(Me||$&&$.forcedJSONParsing&&o.isString(V)&&V.length)try{return JSON.parse(V)}catch(Le){if(Me)throw"SyntaxError"===Le.name?k(Le,this,"E_JSON_PARSE"):Le}return V}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(V){return V>=200&&V<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],function(V){ce.headers[V]={}}),o.forEach(["post","put","patch"],function(V){ce.headers[V]=o.merge(J)}),De.exports=ce},985:De=>{"use strict";De.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},1773:De=>{De.exports={version:"0.26.1"}},2414:De=>{"use strict";De.exports=function(M,o){return function(){for(var k=new Array(arguments.length),q=0;q<k.length;q++)k[q]=arguments[q];return M.apply(o,k)}}},1625:(De,me,M)=>{"use strict";var o=M(4701);function L(k){return encodeURIComponent(k).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}De.exports=function(q,J,oe){if(!J)return q;var Y;if(oe)Y=oe(J);else if(o.isURLSearchParams(J))Y=J.toString();else{var ee=[];o.forEach(J,function(V,$){null==V||(o.isArray(V)?$+="[]":V=[V],o.forEach(V,function(Se){o.isDate(Se)?Se=Se.toISOString():o.isObject(Se)&&(Se=JSON.stringify(Se)),ee.push(L($)+"="+L(Se))}))}),Y=ee.join("&")}if(Y){var ce=q.indexOf("#");-1!==ce&&(q=q.slice(0,ce)),q+=(-1===q.indexOf("?")?"?":"&")+Y}return q}},4554:De=>{"use strict";De.exports=function(M,o){return o?M.replace(/\/+$/,"")+"/"+o.replace(/^\/+/,""):M}},5738:(De,me,M)=>{"use strict";var o=M(4701);De.exports=o.isStandardBrowserEnv()?{write:function(q,J,oe,Y,ee,ce){var j=[];j.push(q+"="+encodeURIComponent(J)),o.isNumber(oe)&&j.push("expires="+new Date(oe).toGMTString()),o.isString(Y)&&j.push("path="+Y),o.isString(ee)&&j.push("domain="+ee),!0===ce&&j.push("secure"),document.cookie=j.join("; ")},read:function(q){var J=document.cookie.match(new RegExp("(^|;\\s*)("+q+")=([^;]*)"));return J?decodeURIComponent(J[3]):null},remove:function(q){this.write(q,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},8692:De=>{"use strict";De.exports=function(M){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(M)}},4603:(De,me,M)=>{"use strict";var o=M(4701);De.exports=function(k){return o.isObject(k)&&!0===k.isAxiosError}},6100:(De,me,M)=>{"use strict";var o=M(4701);De.exports=o.isStandardBrowserEnv()?function(){var J,k=/(msie|trident)/i.test(navigator.userAgent),q=document.createElement("a");function oe(Y){var ee=Y;return k&&(q.setAttribute("href",ee),ee=q.href),q.setAttribute("href",ee),{href:q.href,protocol:q.protocol?q.protocol.replace(/:$/,""):"",host:q.host,search:q.search?q.search.replace(/^\?/,""):"",hash:q.hash?q.hash.replace(/^#/,""):"",hostname:q.hostname,port:q.port,pathname:"/"===q.pathname.charAt(0)?q.pathname:"/"+q.pathname}}return J=oe(window.location.href),function(ee){var ce=o.isString(ee)?oe(ee):ee;return ce.protocol===J.protocol&&ce.host===J.host}}():function(){return!0}},5620:(De,me,M)=>{"use strict";var o=M(4701);De.exports=function(k,q){o.forEach(k,function(oe,Y){Y!==q&&Y.toUpperCase()===q.toUpperCase()&&(k[q]=oe,delete k[Y])})}},2099:(De,me,M)=>{"use strict";var o=M(4701),L=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];De.exports=function(q){var oe,Y,ee,J={};return q&&o.forEach(q.split("\n"),function(j){if(ee=j.indexOf(":"),oe=o.trim(j.substr(0,ee)).toLowerCase(),Y=o.trim(j.substr(ee+1)),oe){if(J[oe]&&L.indexOf(oe)>=0)return;J[oe]="set-cookie"===oe?(J[oe]?J[oe]:[]).concat([Y]):J[oe]?J[oe]+", "+Y:Y}}),J}},9211:De=>{"use strict";De.exports=function(M){return function(L){return M.apply(null,L)}}},4828:(De,me,M)=>{"use strict";var o=M(1773).version,L={};["object","boolean","number","function","string","symbol"].forEach(function(J,oe){L[J]=function(ee){return typeof ee===J||"a"+(oe<1?"n ":" ")+J}});var k={};L.transitional=function(oe,Y,ee){function ce(j,V){return"[Axios v"+o+"] Transitional option '"+j+"'"+V+(ee?". "+ee:"")}return function(j,V,$){if(!1===oe)throw new Error(ce(V," has been removed"+(Y?" in "+Y:"")));return Y&&!k[V]&&(k[V]=!0,console.warn(ce(V," has been deprecated since v"+Y+" and will be removed in the near future"))),!oe||oe(j,V,$)}},De.exports={assertOptions:function q(J,oe,Y){if("object"!=typeof J)throw new TypeError("options must be an object");for(var ee=Object.keys(J),ce=ee.length;ce-- >0;){var j=ee[ce],V=oe[j];if(V){var $=J[j],Oe=void 0===$||V($,j,J);if(!0!==Oe)throw new TypeError("option "+j+" must be "+Oe)}else if(!0!==Y)throw Error("Unknown option "+j)}},validators:L}},4701:(De,me,M)=>{"use strict";var o=M(2414),L=Object.prototype.toString;function k(K){return Array.isArray(K)}function q(K){return void 0===K}function oe(K){return"[object ArrayBuffer]"===L.call(K)}function V(K){return null!==K&&"object"==typeof K}function $(K){if("[object Object]"!==L.call(K))return!1;var ye=Object.getPrototypeOf(K);return null===ye||ye===Object.prototype}function Le(K){return"[object Function]"===L.call(K)}function _e(K,ye){if(null!=K)if("object"!=typeof K&&(K=[K]),k(K))for(var N=0,G=K.length;N<G;N++)ye.call(null,K[N],N,K);else for(var W in K)Object.prototype.hasOwnProperty.call(K,W)&&ye.call(null,K[W],W,K)}De.exports={isArray:k,isArrayBuffer:oe,isBuffer:function J(K){return null!==K&&!q(K)&&null!==K.constructor&&!q(K.constructor)&&"function"==typeof K.constructor.isBuffer&&K.constructor.isBuffer(K)},isFormData:function Y(K){return"[object FormData]"===L.call(K)},isArrayBufferView:function ee(K){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(K):K&&K.buffer&&oe(K.buffer)},isString:function ce(K){return"string"==typeof K},isNumber:function j(K){return"number"==typeof K},isObject:V,isPlainObject:$,isUndefined:q,isDate:function Oe(K){return"[object Date]"===L.call(K)},isFile:function Se(K){return"[object File]"===L.call(K)},isBlob:function Me(K){return"[object Blob]"===L.call(K)},isFunction:Le,isStream:function be(K){return V(K)&&Le(K.pipe)},isURLSearchParams:function Ee(K){return"[object URLSearchParams]"===L.call(K)},isStandardBrowserEnv:function Be(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:_e,merge:function We(){var K={};function ye(W,te){K[te]=$(K[te])&&$(W)?We(K[te],W):$(W)?We({},W):k(W)?W.slice():W}for(var N=0,G=arguments.length;N<G;N++)_e(arguments[N],ye);return K},extend:function Re(K,ye,N){return _e(ye,function(W,te){K[te]=N&&"function"==typeof W?o(W,N):W}),K},trim:function ke(K){return K.trim?K.trim():K.replace(/^\s+|\s+$/g,"")},stripBOM:function tt(K){return 65279===K.charCodeAt(0)&&(K=K.slice(1)),K}}},5867:(De,me,M)=>{"use strict";M.d(me,{C6:()=>o.getApps,KN:()=>o.registerVersion,Mq:()=>o.getApp,ZF:()=>o.initializeApp});var o=M(9681);(0,o.registerVersion)("firebase","9.8.2","app")},127:(De,me,M)=>{"use strict";M.d(me,{Z:()=>o.Z});var o=M(3942);o.Z.registerVersion("firebase","9.8.2","app-compat")},5881:(De,me,M)=>{"use strict";M.r(me);var o=M(9671),L=M(3942),k=M(2587),q=M(2090),Y=(M(9681),M(1877),M(4859));function ee(){return window}function V(){return(V=(0,o.Z)(function*(ve,ue,se){var Pe;const{BuildInfo:Xe}=ee();(0,k.aq)(ue.sessionId,"AuthEvent did not contain a session ID");const pt=yield Ee(ue.sessionId),Ot={};return(0,k.ar)()?Ot.ibi=Xe.packageName:(0,k.as)()?Ot.apn=Xe.packageName:(0,k.at)(ve,"operation-not-supported-in-this-environment"),Xe.displayName&&(Ot.appDisplayName=Xe.displayName),Ot.sessionId=pt,(0,k.au)(ve,se,ue.type,void 0,null!==(Pe=ue.eventId)&&void 0!==Pe?Pe:void 0,Ot)})).apply(this,arguments)}function Oe(){return(Oe=(0,o.Z)(function*(ve){const{BuildInfo:ue}=ee(),se={};(0,k.ar)()?se.iosBundleId=ue.packageName:(0,k.as)()?se.androidPackageName=ue.packageName:(0,k.at)(ve,"operation-not-supported-in-this-environment"),yield(0,k.av)(ve,se)})).apply(this,arguments)}function Le(){return(Le=(0,o.Z)(function*(ve,ue,se){const{cordova:Pe}=ee();let Xe=()=>{};try{yield new Promise((pt,Ot)=>{let en=null;function Wt(){var qt;pt();const Gi=null===(qt=Pe.plugins.browsertab)||void 0===qt?void 0:qt.close;"function"==typeof Gi&&Gi(),"function"==typeof(null==se?void 0:se.close)&&se.close()}function ni(){en||(en=window.setTimeout(()=>{Ot((0,k.aw)(ve,"redirect-cancelled-by-user"))},2e3))}function _r(){"visible"===(null==document?void 0:document.visibilityState)&&ni()}ue.addPassiveListener(Wt),document.addEventListener("resume",ni,!1),(0,k.as)()&&document.addEventListener("visibilitychange",_r,!1),Xe=()=>{ue.removePassiveListener(Wt),document.removeEventListener("resume",ni,!1),document.removeEventListener("visibilitychange",_r,!1),en&&window.clearTimeout(en)}})}finally{Xe()}})).apply(this,arguments)}function Ee(ve){return ke.apply(this,arguments)}function ke(){return(ke=(0,o.Z)(function*(ve){const ue=Be(ve),se=yield crypto.subtle.digest("SHA-256",ue);return Array.from(new Uint8Array(se)).map(Xe=>Xe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Be(ve){if((0,k.aq)(/[0-9a-zA-Z]+/.test(ve),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ve);const ue=new ArrayBuffer(ve.length),se=new Uint8Array(ue);for(let Pe=0;Pe<ve.length;Pe++)se[Pe]=ve.charCodeAt(Pe);return se}class We extends k.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ue=>{this.resolveInialized=ue})}addPassiveListener(ue){this.passiveListeners.add(ue)}removePassiveListener(ue){this.passiveListeners.delete(ue)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ue){return this.resolveInialized(),this.passiveListeners.forEach(se=>se(ue)),super.onEvent(ue)}initialized(){var ue=this;return(0,o.Z)(function*(){yield ue.initPromise})()}}function K(ve){return ye.apply(this,arguments)}function ye(){return(ye=(0,o.Z)(function*(ve){const ue=yield W()._get(te(ve));return ue&&(yield W()._remove(te(ve))),ue})).apply(this,arguments)}function G(){const ve=[],ue="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let se=0;se<20;se++){const Pe=Math.floor(Math.random()*ue.length);ve.push(ue.charAt(Pe))}return ve.join("")}function W(){return(0,k.ay)(k.b)}function te(ve){return(0,k.az)("authEvent",ve.config.apiKey,ve.name)}function Ge(ve){if(!(null==ve?void 0:ve.includes("?")))return{};const[ue,...se]=ve.split("?");return(0,q.zd)(se.join("?"))}function ot(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.aw)("no-auth-event")}}function $t(){var ve;return(null===(ve=null==self?void 0:self.location)||void 0===ve?void 0:ve.protocol)||null}function Un(ve=(0,q.z$)()){return!("file:"!==$t()&&"ionic:"!==$t()&&"capacitor:"!==$t()||!ve.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mr(){try{const ve=self.localStorage,ue=k.aI();if(ve)return ve.setItem(ue,"1"),ve.removeItem(ue),!function fs(ve=(0,q.z$)()){return function zi(){return(0,q.w1)()&&11===(null==document?void 0:document.documentMode)}()||function zn(ve=(0,q.z$)()){return/Edge\/\d+/.test(ve)}(ve)}()||(0,q.hl)()}catch(ve){return Zr()&&(0,q.hl)()}return!1}function Zr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Kn(){return(function hn(){return"http:"===$t()||"https:"===$t()}()||(0,q.ru)()||Un())&&!function qr(){return(0,q.b$)()||(0,q.UG)()}()&&Mr()&&!Zr()}function ps(){return Un()&&"undefined"!=typeof document}function er(){return(er=(0,o.Z)(function*(){return!!ps()&&new Promise(ve=>{const ue=setTimeout(()=>{ve(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ue),ve(!0)})})})).apply(this,arguments)}const cn={LOCAL:"local",NONE:"none",SESSION:"session"},Bi=k.ax,vi="persistence";function Bn(ve){return bi.apply(this,arguments)}function bi(){return(bi=(0,o.Z)(function*(ve){yield ve._initializationPromise;const ue=Yt(),se=k.az(vi,ve.config.apiKey,ve.name);ue&&ue.setItem(se,ve._getPersistence())})).apply(this,arguments)}function Yt(){var ve;try{return(null===(ve=function Ln(){return"undefined"!=typeof window?window:null}())||void 0===ve?void 0:ve.sessionStorage)||null}catch(ue){return null}}const mt=k.ax;class ct{constructor(){this.browserResolver=k.ay(k.k),this.cordovaResolver=k.ay(class dn{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(ue){var se=this;return(0,o.Z)(function*(){const Pe=ue._key();let Xe=se.eventManagers.get(Pe);return Xe||(Xe=new We(ue),se.eventManagers.set(Pe,Xe),se.attachCallbackListeners(ue,Xe)),Xe})()}_openPopup(ue){(0,k.at)(ue,"operation-not-supported-in-this-environment")}_openRedirect(ue,se,Pe,Xe){var pt=this;return(0,o.Z)(function*(){!function be(ve){var ue,se,Pe,Xe,pt,Ot,en,Wt,ni,_r;const qt=ee();(0,k.ax)("function"==typeof(null===(ue=null==qt?void 0:qt.universalLinks)||void 0===ue?void 0:ue.subscribe),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.ax)(void 0!==(null===(se=null==qt?void 0:qt.BuildInfo)||void 0===se?void 0:se.packageName),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.ax)("function"==typeof(null===(pt=null===(Xe=null===(Pe=null==qt?void 0:qt.cordova)||void 0===Pe?void 0:Pe.plugins)||void 0===Xe?void 0:Xe.browsertab)||void 0===pt?void 0:pt.openUrl),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(Wt=null===(en=null===(Ot=null==qt?void 0:qt.cordova)||void 0===Ot?void 0:Ot.plugins)||void 0===en?void 0:en.browsertab)||void 0===Wt?void 0:Wt.isAvailable),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(_r=null===(ni=null==qt?void 0:qt.cordova)||void 0===ni?void 0:ni.InAppBrowser)||void 0===_r?void 0:_r.open),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ue);const Ot=yield pt._initialize(ue);yield Ot.initialized(),Ot.resetRedirect(),(0,k.aD)(),yield pt._originValidation(ue);const en=function Re(ve,ue,se=null){return{type:ue,eventId:se,urlResponse:null,sessionId:G(),postBody:null,tenantId:ve.tenantId,error:(0,k.aw)(ve,"no-auth-event")}}(ue,Pe,Xe);yield function tt(ve,ue){return W()._set(te(ve),ue)}(ue,en);const Wt=yield function j(ve,ue,se){return V.apply(this,arguments)}(ue,en,se),ni=yield function Se(ve){const{cordova:ue}=ee();return new Promise(se=>{ue.plugins.browsertab.isAvailable(Pe=>{let Xe=null;Pe?ue.plugins.browsertab.openUrl(ve):Xe=ue.InAppBrowser.open(ve,(0,k.ap)()?"_blank":"_system","location=yes"),se(Xe)})})}(Wt);return function Me(ve,ue,se){return Le.apply(this,arguments)}(ue,Ot,ni)})()}_isIframeWebStorageSupported(ue,se){throw new Error("Method not implemented.")}_originValidation(ue){const se=ue._key();return this.originValidationPromises[se]||(this.originValidationPromises[se]=function $(ve){return Oe.apply(this,arguments)}(ue)),this.originValidationPromises[se]}attachCallbackListeners(ue,se){const{universalLinks:Pe,handleOpenURL:Xe,BuildInfo:pt}=ee(),Ot=setTimeout((0,o.Z)(function*(){yield K(ue),se.onEvent(ot())}),500),en=function(){var _r=(0,o.Z)(function*(qt){clearTimeout(Ot);const Gi=yield K(ue);let ms=null;Gi&&(null==qt?void 0:qt.url)&&(ms=function N(ve,ue){var se,Pe;const Xe=function X(ve){const ue=Ge(ve),se=ue.link?decodeURIComponent(ue.link):void 0,Pe=Ge(se).link,Xe=ue.deep_link_id?decodeURIComponent(ue.deep_link_id):void 0;return Ge(Xe).link||Xe||Pe||se||ve}(ue);if(Xe.includes("/__/auth/callback")){const pt=Ge(Xe),Ot=pt.firebaseError?function pe(ve){try{return JSON.parse(ve)}catch(ue){return null}}(decodeURIComponent(pt.firebaseError)):null,en=null===(Pe=null===(se=null==Ot?void 0:Ot.code)||void 0===se?void 0:se.split("auth/"))||void 0===Pe?void 0:Pe[1],Wt=en?(0,k.aw)(en):null;return Wt?{type:ve.type,eventId:ve.eventId,tenantId:ve.tenantId,error:Wt,urlResponse:null,sessionId:null,postBody:null}:{type:ve.type,eventId:ve.eventId,tenantId:ve.tenantId,sessionId:ve.sessionId,urlResponse:Xe,postBody:null}}return null}(Gi,qt.url)),se.onEvent(ms||ot())});return function(Gi){return _r.apply(this,arguments)}}();void 0!==Pe&&"function"==typeof Pe.subscribe&&Pe.subscribe(null,en);const Wt=Xe,ni=`${pt.packageName.toLowerCase()}://`;ee().handleOpenURL=function(){var _r=(0,o.Z)(function*(qt){if(qt.toLowerCase().startsWith(ni)&&en({url:qt}),"function"==typeof Wt)try{Wt(qt)}catch(Gi){console.error(Gi)}});return function(qt){return _r.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(ue){var se=this;return(0,o.Z)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._initialize(ue)})()}_openPopup(ue,se,Pe,Xe){var pt=this;return(0,o.Z)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openPopup(ue,se,Pe,Xe)})()}_openRedirect(ue,se,Pe,Xe){var pt=this;return(0,o.Z)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openRedirect(ue,se,Pe,Xe)})()}_isIframeWebStorageSupported(ue,se){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ue,se)}_originValidation(ue){return this.assertedUnderlyingResolver._originValidation(ue)}get _shouldInitProactively(){return ps()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ue=this;return(0,o.Z)(function*(){if(ue.underlyingResolver)return;const se=yield function bt(){return er.apply(this,arguments)}();ue.underlyingResolver=se?ue.cordovaResolver:ue.browserResolver})()}}function kr(ve){return ve.unwrap()}function Kt(ve){return Qn(ve)}function Qn(ve){const{_tokenResponse:ue}=ve instanceof q.ZR?ve.customData:ve;if(!ue)return null;if(!(ve instanceof q.ZR)&&"temporaryProof"in ue&&"phoneNumber"in ue)return k.P.credentialFromResult(ve);const se=ue.providerId;if(!se||se===k.o.PASSWORD)return null;let Pe;switch(se){case k.o.GOOGLE:Pe=k.Q;break;case k.o.FACEBOOK:Pe=k.N;break;case k.o.GITHUB:Pe=k.T;break;case k.o.TWITTER:Pe=k.W;break;default:const{oauthIdToken:Xe,oauthAccessToken:pt,oauthTokenSecret:Ot,pendingToken:en,nonce:Wt}=ue;return pt||Ot||Xe||en?en?se.startsWith("saml.")?k.aL._create(se,en):k.J._fromParams({providerId:se,signInMethod:se,pendingToken:en,idToken:Xe,accessToken:pt}):new k.U(se).credential({idToken:Xe,accessToken:pt,rawNonce:Wt}):null}return ve instanceof q.ZR?Pe.credentialFromError(ve):Pe.credentialFromResult(ve)}function vn(ve,ue){return ue.catch(se=>{throw se instanceof q.ZR&&function gs(ve,ue){var se;const Pe=null===(se=ue.customData)||void 0===se?void 0:se._tokenResponse;if("auth/multi-factor-auth-required"===ue.code)ue.resolver=new le(ve,k.an(ve,ue));else if(Pe){const Xe=Qn(ue),pt=ue;Xe&&(pt.credential=Xe,pt.tenantId=Pe.tenantId||void 0,pt.email=Pe.email||void 0,pt.phoneNumber=Pe.phoneNumber||void 0)}}(ve,se),se}).then(se=>{const Xe=se.user;return{operationType:se.operationType,credential:Kt(se),additionalUserInfo:k.al(se),user:xe.getOrCreate(Xe)}})}function Q(ve,ue){return re.apply(this,arguments)}function re(){return(re=(0,o.Z)(function*(ve,ue){const se=yield ue;return{verificationId:se.verificationId,confirm:Pe=>vn(ve,se.confirm(Pe))}})).apply(this,arguments)}class le{constructor(ue,se){this.resolver=se,this.auth=function Rr(ve){return ve.wrapped()}(ue)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ue){return vn(kr(this.auth),this.resolver.resolveSignIn(ue))}}class xe{constructor(ue){this._delegate=ue,this.multiFactor=k.ao(ue)}static getOrCreate(ue){return xe.USER_MAP.has(ue)||xe.USER_MAP.set(ue,new xe(ue)),xe.USER_MAP.get(ue)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ue){return this._delegate.getIdTokenResult(ue)}getIdToken(ue){return this._delegate.getIdToken(ue)}linkAndRetrieveDataWithCredential(ue){return this.linkWithCredential(ue)}linkWithCredential(ue){var se=this;return(0,o.Z)(function*(){return vn(se.auth,k.Z(se._delegate,ue))})()}linkWithPhoneNumber(ue,se){var Pe=this;return(0,o.Z)(function*(){return Q(Pe.auth,k.l(Pe._delegate,ue,se))})()}linkWithPopup(ue){var se=this;return(0,o.Z)(function*(){return vn(se.auth,k.d(se._delegate,ue,ct))})()}linkWithRedirect(ue){var se=this;return(0,o.Z)(function*(){return yield Bn(k.aE(se.auth)),k.g(se._delegate,ue,ct)})()}reauthenticateAndRetrieveDataWithCredential(ue){return this.reauthenticateWithCredential(ue)}reauthenticateWithCredential(ue){var se=this;return(0,o.Z)(function*(){return vn(se.auth,k._(se._delegate,ue))})()}reauthenticateWithPhoneNumber(ue,se){return Q(this.auth,k.r(this._delegate,ue,se))}reauthenticateWithPopup(ue){return vn(this.auth,k.e(this._delegate,ue,ct))}reauthenticateWithRedirect(ue){var se=this;return(0,o.Z)(function*(){return yield Bn(k.aE(se.auth)),k.h(se._delegate,ue,ct)})()}sendEmailVerification(ue){return k.ab(this._delegate,ue)}unlink(ue){var se=this;return(0,o.Z)(function*(){return yield k.ak(se._delegate,ue),se})()}updateEmail(ue){return k.ag(this._delegate,ue)}updatePassword(ue){return k.ah(this._delegate,ue)}updatePhoneNumber(ue){return k.u(this._delegate,ue)}updateProfile(ue){return k.af(this._delegate,ue)}verifyBeforeUpdateEmail(ue,se){return k.ac(this._delegate,ue,se)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xe.USER_MAP=new WeakMap;const ne=k.ax;let fe=(()=>{class ve{constructor(se,Pe){if(this.app=se,Pe.isInitialized())return this._delegate=Pe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Xe}=se.options;ne(Xe,"invalid-api-key",{appName:se.name}),ne(Xe,"invalid-api-key",{appName:se.name});const pt="undefined"!=typeof window?ct:void 0;this._delegate=Pe.initialize({options:{persistence:it(Xe,se.name),popupRedirectResolver:pt}}),this._delegate._updateErrorMap(k.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(se){this._delegate.languageCode=se}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(se){this._delegate.tenantId=se}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(se,Pe){k.G(this._delegate,se,Pe)}applyActionCode(se){return k.a2(this._delegate,se)}checkActionCode(se){return k.a3(this._delegate,se)}confirmPasswordReset(se,Pe){return k.a1(this._delegate,se,Pe)}createUserWithEmailAndPassword(se,Pe){var Xe=this;return(0,o.Z)(function*(){return vn(Xe._delegate,k.a5(Xe._delegate,se,Pe))})()}fetchProvidersForEmail(se){return this.fetchSignInMethodsForEmail(se)}fetchSignInMethodsForEmail(se){return k.aa(this._delegate,se)}isSignInWithEmailLink(se){return k.a8(this._delegate,se)}getRedirectResult(){var se=this;return(0,o.Z)(function*(){ne(Kn(),se._delegate,"operation-not-supported-in-this-environment");const Pe=yield k.j(se._delegate,ct);return Pe?vn(se._delegate,Promise.resolve(Pe)):{credential:null,user:null}})()}addFrameworkForLogging(se){!function yn(ve,ue){(0,k.aE)(ve)._logFramework(ue)}(this._delegate,se)}onAuthStateChanged(se,Pe,Xe){const{next:pt,error:Ot,complete:en}=He(se,Pe,Xe);return this._delegate.onAuthStateChanged(pt,Ot,en)}onIdTokenChanged(se,Pe,Xe){const{next:pt,error:Ot,complete:en}=He(se,Pe,Xe);return this._delegate.onIdTokenChanged(pt,Ot,en)}sendSignInLinkToEmail(se,Pe){return k.a7(this._delegate,se,Pe)}sendPasswordResetEmail(se,Pe){return k.a0(this._delegate,se,Pe||void 0)}setPersistence(se){var Pe=this;return(0,o.Z)(function*(){let Xe;switch(function tr(ve,ue){Bi(Object.values(cn).includes(ue),ve,"invalid-persistence-type"),(0,q.b$)()?Bi(ue!==cn.SESSION,ve,"unsupported-persistence-type"):(0,q.UG)()?Bi(ue===cn.NONE,ve,"unsupported-persistence-type"):Zr()?Bi(ue===cn.NONE||ue===cn.LOCAL&&(0,q.hl)(),ve,"unsupported-persistence-type"):Bi(ue===cn.NONE||Mr(),ve,"unsupported-persistence-type")}(Pe._delegate,se),se){case cn.SESSION:Xe=k.a;break;case cn.LOCAL:Xe=(yield k.ay(k.i)._isAvailable())?k.i:k.b;break;case cn.NONE:Xe=k.L;break;default:return k.at("argument-error",{appName:Pe._delegate.name})}return Pe._delegate.setPersistence(Xe)})()}signInAndRetrieveDataWithCredential(se){return this.signInWithCredential(se)}signInAnonymously(){return vn(this._delegate,k.X(this._delegate))}signInWithCredential(se){return vn(this._delegate,k.Y(this._delegate,se))}signInWithCustomToken(se){return vn(this._delegate,k.$(this._delegate,se))}signInWithEmailAndPassword(se,Pe){return vn(this._delegate,k.a6(this._delegate,se,Pe))}signInWithEmailLink(se,Pe){return vn(this._delegate,k.a9(this._delegate,se,Pe))}signInWithPhoneNumber(se,Pe){return Q(this._delegate,k.s(this._delegate,se,Pe))}signInWithPopup(se){var Pe=this;return(0,o.Z)(function*(){return ne(Kn(),Pe._delegate,"operation-not-supported-in-this-environment"),vn(Pe._delegate,k.c(Pe._delegate,se,ct))})()}signInWithRedirect(se){var Pe=this;return(0,o.Z)(function*(){return ne(Kn(),Pe._delegate,"operation-not-supported-in-this-environment"),yield Bn(Pe._delegate),k.f(Pe._delegate,se,ct)})()}updateCurrentUser(se){return this._delegate.updateCurrentUser(se)}verifyPasswordResetCode(se){return k.a4(this._delegate,se)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ve.Persistence=cn,ve})();function He(ve,ue,se){let Pe=ve;"function"!=typeof ve&&({next:Pe,error:ue,complete:se}=ve);const Xe=Pe;return{next:Ot=>Xe(Ot&&xe.getOrCreate(Ot)),error:ue,complete:se}}function it(ve,ue){const se=function Ps(ve,ue){const se=Yt();if(!se)return[];const Pe=k.az(vi,ve,ue);switch(se.getItem(Pe)){case cn.NONE:return[k.L];case cn.LOCAL:return[k.i,k.a];case cn.SESSION:return[k.a];default:return[]}}(ve,ue);if("undefined"!=typeof self&&!se.includes(k.i)&&se.push(k.i),"undefined"!=typeof window)for(const Pe of[k.b,k.a])se.includes(Pe)||se.push(Pe);return se.includes(k.L)||se.push(k.L),se}class vt{constructor(){this.providerId="phone",this._delegate=new k.P(kr(L.Z.auth()))}static credential(ue,se){return k.P.credential(ue,se)}verifyPhoneNumber(ue,se){return this._delegate.verifyPhoneNumber(ue,se)}unwrap(){return this._delegate}}vt.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,vt.PROVIDER_ID=k.P.PROVIDER_ID;const Nt=k.ax;class mn{constructor(ue,se,Pe=L.Z.app()){var Xe;Nt(null===(Xe=Pe.options)||void 0===Xe?void 0:Xe.apiKey,"invalid-api-key",{appName:Pe.name}),this._delegate=new k.R(ue,se,Pe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function di(ve){ve.INTERNAL.registerComponent(new Y.wA("auth-compat",ue=>{const se=ue.getProvider("app-compat").getImmediate(),Pe=ue.getProvider("auth");return new fe(se,Pe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.M,FacebookAuthProvider:k.N,GithubAuthProvider:k.T,GoogleAuthProvider:k.Q,OAuthProvider:k.U,SAMLAuthProvider:k.V,PhoneAuthProvider:vt,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:mn,TwitterAuthProvider:k.W,Auth:fe,AuthCredential:k.H,Error:q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ve.registerVersion("@firebase/auth-compat","0.2.15")}(L.Z)},8306:(De,me,M)=>{"use strict";M.d(me,{y:()=>j});var o=M(930),L=M(727),k=M(8822),q=M(4671);var Y=M(2416),ee=M(576),ce=M(2806);let j=(()=>{class Se{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const be=new Se;return be.source=this,be.operator=Le,be}subscribe(Le,be,Ee){const ke=function Oe(Se){return Se&&Se instanceof o.Lv||function $(Se){return Se&&(0,ee.m)(Se.next)&&(0,ee.m)(Se.error)&&(0,ee.m)(Se.complete)}(Se)&&(0,L.Nn)(Se)}(Le)?Le:new o.Hp(Le,be,Ee);return(0,ce.x)(()=>{const{operator:Be,source:_e}=this;ke.add(Be?Be.call(ke,_e):_e?this._subscribe(ke):this._trySubscribe(ke))}),ke}_trySubscribe(Le){try{return this._subscribe(Le)}catch(be){Le.error(be)}}forEach(Le,be){return new(be=V(be))((Ee,ke)=>{let Be;Be=this.subscribe(_e=>{try{Le(_e)}catch(We){ke(We),null==Be||Be.unsubscribe()}},ke,Ee)})}_subscribe(Le){var be;return null===(be=this.source)||void 0===be?void 0:be.subscribe(Le)}[k.L](){return this}pipe(...Le){return function oe(Se){return 0===Se.length?q.y:1===Se.length?Se[0]:function(Le){return Se.reduce((be,Ee)=>Ee(be),Le)}}(Le)(this)}toPromise(Le){return new(Le=V(Le))((be,Ee)=>{let ke;this.subscribe(Be=>ke=Be,Be=>Ee(Be),()=>be(ke))})}}return Se.create=Me=>new Se(Me),Se})();function V(Se){var Me;return null!==(Me=null!=Se?Se:Y.v.Promise)&&void 0!==Me?Me:Promise}},7579:(De,me,M)=>{"use strict";M.d(me,{x:()=>Y});var o=M(8306),L=M(727);const q=(0,M(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=M(8737),oe=M(2806);let Y=(()=>{class ce extends o.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(V){const $=new ee(this,this);return $.operator=V,$}_throwIfClosed(){if(this.closed)throw new q}next(V){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const $=this.observers.slice();for(const Oe of $)Oe.next(V)}})}error(V){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=V;const{observers:$}=this;for(;$.length;)$.shift().error(V)}})}complete(){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:V}=this;for(;V.length;)V.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var V;return(null===(V=this.observers)||void 0===V?void 0:V.length)>0}_trySubscribe(V){return this._throwIfClosed(),super._trySubscribe(V)}_subscribe(V){return this._throwIfClosed(),this._checkFinalizedStatuses(V),this._innerSubscribe(V)}_innerSubscribe(V){const{hasError:$,isStopped:Oe,observers:Se}=this;return $||Oe?L.Lc:(Se.push(V),new L.w0(()=>(0,J.P)(Se,V)))}_checkFinalizedStatuses(V){const{hasError:$,thrownError:Oe,isStopped:Se}=this;$?V.error(Oe):Se&&V.complete()}asObservable(){const V=new o.y;return V.source=this,V}}return ce.create=(j,V)=>new ee(j,V),ce})();class ee extends Y{constructor(j,V){super(),this.destination=j,this.source=V}next(j){var V,$;null===($=null===(V=this.destination)||void 0===V?void 0:V.next)||void 0===$||$.call(V,j)}error(j){var V,$;null===($=null===(V=this.destination)||void 0===V?void 0:V.error)||void 0===$||$.call(V,j)}complete(){var j,V;null===(V=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===V||V.call(j)}_subscribe(j){var V,$;return null!==($=null===(V=this.source)||void 0===V?void 0:V.subscribe(j))&&void 0!==$?$:L.Lc}}},930:(De,me,M)=>{"use strict";M.d(me,{Hp:()=>Oe,Lv:()=>$});var o=M(576),L=M(727),k=M(2416),q=M(7849),J=M(5032);const oe=ce("C",void 0,void 0);function ce(Ee,ke,Be){return{kind:Ee,value:ke,error:Be}}var j=M(3410),V=M(2806);class $ extends L.w0{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,L.Nn)(ke)&&ke.add(this)):this.destination=be}static create(ke,Be,_e){return new Oe(ke,Be,_e)}next(ke){this.isStopped?Le(function ee(Ee){return ce("N",Ee,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?Le(function Y(Ee){return ce("E",void 0,Ee)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?Le(oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Oe extends ${constructor(ke,Be,_e){let We;if(super(),(0,o.m)(ke))We=ke;else if(ke){let Re;({next:We,error:Be,complete:_e}=ke),this&&k.v.useDeprecatedNextContext?(Re=Object.create(ke),Re.unsubscribe=()=>this.unsubscribe()):Re=ke,We=null==We?void 0:We.bind(Re),Be=null==Be?void 0:Be.bind(Re),_e=null==_e?void 0:_e.bind(Re)}this.destination={next:We?Se(We):J.Z,error:Se(null!=Be?Be:Me),complete:_e?Se(_e):J.Z}}}function Se(Ee,ke){return(...Be)=>{try{Ee(...Be)}catch(_e){k.v.useDeprecatedSynchronousErrorHandling?(0,V.O)(_e):(0,q.h)(_e)}}}function Me(Ee){throw Ee}function Le(Ee,ke){const{onStoppedNotification:Be}=k.v;Be&&j.z.setTimeout(()=>Be(Ee,ke))}const be={closed:!0,next:J.Z,error:Me,complete:J.Z}},727:(De,me,M)=>{"use strict";M.d(me,{Lc:()=>oe,w0:()=>J,Nn:()=>Y});var o=M(576);const k=(0,M(3888).d)(ce=>function(V){ce(this),this.message=V?`${V.length} errors occurred during unsubscription:\n${V.map(($,Oe)=>`${Oe+1}) ${$.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=V});var q=M(8737);class J{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:V}=this;if(V)if(this._parentage=null,Array.isArray(V))for(const Se of V)Se.remove(this);else V.remove(this);const{initialTeardown:$}=this;if((0,o.m)($))try{$()}catch(Se){j=Se instanceof k?Se.errors:[Se]}const{_teardowns:Oe}=this;if(Oe){this._teardowns=null;for(const Se of Oe)try{ee(Se)}catch(Me){j=null!=j?j:[],Me instanceof k?j=[...j,...Me.errors]:j.push(Me)}}if(j)throw new k(j)}}add(j){var V;if(j&&j!==this)if(this.closed)ee(j);else{if(j instanceof J){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._teardowns=null!==(V=this._teardowns)&&void 0!==V?V:[]).push(j)}}_hasParent(j){const{_parentage:V}=this;return V===j||Array.isArray(V)&&V.includes(j)}_addParent(j){const{_parentage:V}=this;this._parentage=Array.isArray(V)?(V.push(j),V):V?[V,j]:j}_removeParent(j){const{_parentage:V}=this;V===j?this._parentage=null:Array.isArray(V)&&(0,q.P)(V,j)}remove(j){const{_teardowns:V}=this;V&&(0,q.P)(V,j),j instanceof J&&j._removeParent(this)}}J.EMPTY=(()=>{const ce=new J;return ce.closed=!0,ce})();const oe=J.EMPTY;function Y(ce){return ce instanceof J||ce&&"closed"in ce&&(0,o.m)(ce.remove)&&(0,o.m)(ce.add)&&(0,o.m)(ce.unsubscribe)}function ee(ce){(0,o.m)(ce)?ce():ce.unsubscribe()}},2416:(De,me,M)=>{"use strict";M.d(me,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(De,me,M)=>{"use strict";M.d(me,{E:()=>L});const L=new(M(8306).y)(J=>J.complete())},8996:(De,me,M)=>{"use strict";M.d(me,{D:()=>We});var o=M(8421),L=M(5363),k=M(9468),oe=M(8306),ee=M(2202),ce=M(576),j=M(9672);function $(Re,tt){if(!Re)throw new Error("Iterable cannot be null");return new oe.y(K=>{(0,j.f)(K,tt,()=>{const ye=Re[Symbol.asyncIterator]();(0,j.f)(K,tt,()=>{ye.next().then(N=>{N.done?K.complete():K.next(N.value)})},0,!0)})})}var Oe=M(3670),Se=M(8239),Me=M(1144),Le=M(6495),be=M(2206),Ee=M(4532),ke=M(3260);function We(Re,tt){return tt?function _e(Re,tt){if(null!=Re){if((0,Oe.c)(Re))return function q(Re,tt){return(0,o.Xf)(Re).pipe((0,k.R)(tt),(0,L.Q)(tt))}(Re,tt);if((0,Me.z)(Re))return function Y(Re,tt){return new oe.y(K=>{let ye=0;return tt.schedule(function(){ye===Re.length?K.complete():(K.next(Re[ye++]),K.closed||this.schedule())})})}(Re,tt);if((0,Se.t)(Re))return function J(Re,tt){return(0,o.Xf)(Re).pipe((0,k.R)(tt),(0,L.Q)(tt))}(Re,tt);if((0,be.D)(Re))return $(Re,tt);if((0,Le.T)(Re))return function V(Re,tt){return new oe.y(K=>{let ye;return(0,j.f)(K,tt,()=>{ye=Re[ee.h](),(0,j.f)(K,tt,()=>{let N,G;try{({value:N,done:G}=ye.next())}catch(W){return void K.error(W)}G?K.complete():K.next(N)},0,!0)}),()=>(0,ce.m)(null==ye?void 0:ye.return)&&ye.return()})}(Re,tt);if((0,ke.L)(Re))return function Be(Re,tt){return $((0,ke.Q)(Re),tt)}(Re,tt)}throw(0,Ee.z)(Re)}(Re,tt):(0,o.Xf)(Re)}},8421:(De,me,M)=>{"use strict";M.d(me,{Xf:()=>Oe});var o=M(5987),L=M(1144),k=M(8239),q=M(8306),J=M(3670),oe=M(2206),Y=M(4532),ee=M(6495),ce=M(3260),j=M(576),V=M(7849),$=M(8822);function Oe(_e){if(_e instanceof q.y)return _e;if(null!=_e){if((0,J.c)(_e))return function Se(_e){return new q.y(We=>{const Re=_e[$.L]();if((0,j.m)(Re.subscribe))return Re.subscribe(We);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_e);if((0,L.z)(_e))return function Me(_e){return new q.y(We=>{for(let Re=0;Re<_e.length&&!We.closed;Re++)We.next(_e[Re]);We.complete()})}(_e);if((0,k.t)(_e))return function Le(_e){return new q.y(We=>{_e.then(Re=>{We.closed||(We.next(Re),We.complete())},Re=>We.error(Re)).then(null,V.h)})}(_e);if((0,oe.D)(_e))return Ee(_e);if((0,ee.T)(_e))return function be(_e){return new q.y(We=>{for(const Re of _e)if(We.next(Re),We.closed)return;We.complete()})}(_e);if((0,ce.L)(_e))return function ke(_e){return Ee((0,ce.Q)(_e))}(_e)}throw(0,Y.z)(_e)}function Ee(_e){return new q.y(We=>{(function Be(_e,We){var Re,tt,K,ye;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Re=(0,o.KL)(_e);!(tt=yield Re.next()).done;)if(We.next(tt.value),We.closed)return}catch(N){K={error:N}}finally{try{tt&&!tt.done&&(ye=Re.return)&&(yield ye.call(Re))}finally{if(K)throw K.error}}We.complete()})})(_e,We).catch(Re=>We.error(Re))})}},6451:(De,me,M)=>{"use strict";M.d(me,{T:()=>oe});var o=M(8189),L=M(8421),k=M(515),q=M(3269),J=M(8996);function oe(...Y){const ee=(0,q.yG)(Y),ce=(0,q._6)(Y,1/0),j=Y;return j.length?1===j.length?(0,L.Xf)(j[0]):(0,o.J)(ce)((0,J.D)(j,ee)):k.E}},5403:(De,me,M)=>{"use strict";M.d(me,{Q:()=>L});var o=M(930);class L extends o.Lv{constructor(q,J,oe,Y,ee){super(q),this.onFinalize=ee,this._next=J?function(ce){try{J(ce)}catch(j){q.error(j)}}:super._next,this._error=Y?function(ce){try{Y(ce)}catch(j){q.error(j)}finally{this.unsubscribe()}}:super._error,this._complete=oe?function(){try{oe()}catch(ce){q.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var q;const{closed:J}=this;super.unsubscribe(),!J&&(null===(q=this.onFinalize)||void 0===q||q.call(this))}}},4004:(De,me,M)=>{"use strict";M.d(me,{U:()=>k});var o=M(4482),L=M(5403);function k(q,J){return(0,o.e)((oe,Y)=>{let ee=0;oe.subscribe(new L.Q(Y,ce=>{Y.next(q.call(J,ce,ee++))}))})}},8189:(De,me,M)=>{"use strict";M.d(me,{J:()=>k});var o=M(5577),L=M(4671);function k(q=1/0){return(0,o.z)(L.y,q)}},5577:(De,me,M)=>{"use strict";M.d(me,{z:()=>ee});var o=M(4004),L=M(8421),k=M(4482),q=M(9672),J=M(5403),Y=M(576);function ee(ce,j,V=1/0){return(0,Y.m)(j)?ee(($,Oe)=>(0,o.U)((Se,Me)=>j($,Se,Oe,Me))((0,L.Xf)(ce($,Oe))),V):("number"==typeof j&&(V=j),(0,k.e)(($,Oe)=>function oe(ce,j,V,$,Oe,Se,Me,Le){const be=[];let Ee=0,ke=0,Be=!1;const _e=()=>{Be&&!be.length&&!Ee&&j.complete()},We=tt=>Ee<$?Re(tt):be.push(tt),Re=tt=>{Se&&j.next(tt),Ee++;let K=!1;(0,L.Xf)(V(tt,ke++)).subscribe(new J.Q(j,ye=>{null==Oe||Oe(ye),Se?We(ye):j.next(ye)},()=>{K=!0},void 0,()=>{if(K)try{for(Ee--;be.length&&Ee<$;){const ye=be.shift();Me?(0,q.f)(j,Me,()=>Re(ye)):Re(ye)}_e()}catch(ye){j.error(ye)}}))};return ce.subscribe(new J.Q(j,We,()=>{Be=!0,_e()})),()=>{null==Le||Le()}}($,Oe,ce,V)))}},5363:(De,me,M)=>{"use strict";M.d(me,{Q:()=>q});var o=M(9672),L=M(4482),k=M(5403);function q(J,oe=0){return(0,L.e)((Y,ee)=>{Y.subscribe(new k.Q(ee,ce=>(0,o.f)(ee,J,()=>ee.next(ce),oe),()=>(0,o.f)(ee,J,()=>ee.complete(),oe),ce=>(0,o.f)(ee,J,()=>ee.error(ce),oe)))})}},3099:(De,me,M)=>{"use strict";M.d(me,{B:()=>oe});var o=M(8996),L=M(5698),k=M(7579),q=M(930),J=M(4482);function oe(ee={}){const{connector:ce=(()=>new k.x),resetOnError:j=!0,resetOnComplete:V=!0,resetOnRefCountZero:$=!0}=ee;return Oe=>{let Se=null,Me=null,Le=null,be=0,Ee=!1,ke=!1;const Be=()=>{null==Me||Me.unsubscribe(),Me=null},_e=()=>{Be(),Se=Le=null,Ee=ke=!1},We=()=>{const Re=Se;_e(),null==Re||Re.unsubscribe()};return(0,J.e)((Re,tt)=>{be++,!ke&&!Ee&&Be();const K=Le=null!=Le?Le:ce();tt.add(()=>{be--,0===be&&!ke&&!Ee&&(Me=Y(We,$))}),K.subscribe(tt),Se||(Se=new q.Hp({next:ye=>K.next(ye),error:ye=>{ke=!0,Be(),Me=Y(_e,j,ye),K.error(ye)},complete:()=>{Ee=!0,Be(),Me=Y(_e,V),K.complete()}}),(0,o.D)(Re).subscribe(Se))})(Oe)}}function Y(ee,ce,...j){return!0===ce?(ee(),null):!1===ce?null:ce(...j).pipe((0,L.q)(1)).subscribe(()=>ee())}},9468:(De,me,M)=>{"use strict";M.d(me,{R:()=>L});var o=M(4482);function L(k,q=0){return(0,o.e)((J,oe)=>{oe.add(k.schedule(()=>J.subscribe(oe),q))})}},5698:(De,me,M)=>{"use strict";M.d(me,{q:()=>q});var o=M(515),L=M(4482),k=M(5403);function q(J){return J<=0?()=>o.E:(0,L.e)((oe,Y)=>{let ee=0;oe.subscribe(new k.Q(Y,ce=>{++ee<=J&&(Y.next(ce),J<=ee&&Y.complete())}))})}},8505:(De,me,M)=>{"use strict";M.d(me,{b:()=>J});var o=M(576),L=M(4482),k=M(5403),q=M(4671);function J(oe,Y,ee){const ce=(0,o.m)(oe)||Y||ee?{next:oe,error:Y,complete:ee}:oe;return ce?(0,L.e)((j,V)=>{var $;null===($=ce.subscribe)||void 0===$||$.call(ce);let Oe=!0;j.subscribe(new k.Q(V,Se=>{var Me;null===(Me=ce.next)||void 0===Me||Me.call(ce,Se),V.next(Se)},()=>{var Se;Oe=!1,null===(Se=ce.complete)||void 0===Se||Se.call(ce),V.complete()},Se=>{var Me;Oe=!1,null===(Me=ce.error)||void 0===Me||Me.call(ce,Se),V.error(Se)},()=>{var Se,Me;Oe&&(null===(Se=ce.unsubscribe)||void 0===Se||Se.call(ce)),null===(Me=ce.finalize)||void 0===Me||Me.call(ce)}))}):q.y}},4408:(De,me,M)=>{"use strict";M.d(me,{o:()=>J});var o=M(727);class L extends o.w0{constructor(Y,ee){super()}schedule(Y,ee=0){return this}}const k={setInterval(...oe){const{delegate:Y}=k;return((null==Y?void 0:Y.setInterval)||setInterval)(...oe)},clearInterval(oe){const{delegate:Y}=k;return((null==Y?void 0:Y.clearInterval)||clearInterval)(oe)},delegate:void 0};var q=M(8737);class J extends L{constructor(Y,ee){super(Y,ee),this.scheduler=Y,this.work=ee,this.pending=!1}schedule(Y,ee=0){if(this.closed)return this;this.state=Y;const ce=this.id,j=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(j,ce,ee)),this.pending=!0,this.delay=ee,this.id=this.id||this.requestAsyncId(j,this.id,ee),this}requestAsyncId(Y,ee,ce=0){return k.setInterval(Y.flush.bind(Y,this),ce)}recycleAsyncId(Y,ee,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return ee;k.clearInterval(ee)}execute(Y,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(Y,ee);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Y,ee){let j,ce=!1;try{this.work(Y)}catch(V){ce=!0,j=V||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:Y,scheduler:ee}=this,{actions:ce}=ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,q.P)(ce,this),null!=Y&&(this.id=this.recycleAsyncId(ee,Y,null)),this.delay=null,super.unsubscribe()}}}},7565:(De,me,M)=>{"use strict";M.d(me,{v:()=>k});var o=M(6063);class L{constructor(J,oe=L.now){this.schedulerActionCtor=J,this.now=oe}schedule(J,oe=0,Y){return new this.schedulerActionCtor(this,J).schedule(Y,oe)}}L.now=o.l.now;class k extends L{constructor(J,oe=L.now){super(J,oe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(J){const{actions:oe}=this;if(this._active)return void oe.push(J);let Y;this._active=!0;do{if(Y=J.execute(J.state,J.delay))break}while(J=oe.shift());if(this._active=!1,Y){for(;J=oe.shift();)J.unsubscribe();throw Y}}}},4986:(De,me,M)=>{"use strict";M.d(me,{P:()=>q,z:()=>k});var o=M(4408);const k=new(M(7565).v)(o.o),q=k},6063:(De,me,M)=>{"use strict";M.d(me,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(De,me,M)=>{"use strict";M.d(me,{z:()=>o});const o={setTimeout(...L){const{delegate:k}=o;return((null==k?void 0:k.setTimeout)||setTimeout)(...L)},clearTimeout(L){const{delegate:k}=o;return((null==k?void 0:k.clearTimeout)||clearTimeout)(L)},delegate:void 0}},2202:(De,me,M)=>{"use strict";M.d(me,{h:()=>L});const L=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(De,me,M)=>{"use strict";M.d(me,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(De,me,M)=>{"use strict";M.d(me,{_6:()=>oe,jO:()=>q,yG:()=>J});var o=M(576),L=M(3532);function k(Y){return Y[Y.length-1]}function q(Y){return(0,o.m)(k(Y))?Y.pop():void 0}function J(Y){return(0,L.K)(k(Y))?Y.pop():void 0}function oe(Y,ee){return"number"==typeof k(Y)?Y.pop():ee}},8737:(De,me,M)=>{"use strict";function o(L,k){if(L){const q=L.indexOf(k);0<=q&&L.splice(q,1)}}M.d(me,{P:()=>o})},3888:(De,me,M)=>{"use strict";function o(L){const q=L(J=>{Error.call(J),J.stack=(new Error).stack});return q.prototype=Object.create(Error.prototype),q.prototype.constructor=q,q}M.d(me,{d:()=>o})},2806:(De,me,M)=>{"use strict";M.d(me,{O:()=>q,x:()=>k});var o=M(2416);let L=null;function k(J){if(o.v.useDeprecatedSynchronousErrorHandling){const oe=!L;if(oe&&(L={errorThrown:!1,error:null}),J(),oe){const{errorThrown:Y,error:ee}=L;if(L=null,Y)throw ee}}else J()}function q(J){o.v.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=J)}},9672:(De,me,M)=>{"use strict";function o(L,k,q,J=0,oe=!1){const Y=k.schedule(function(){q(),oe?L.add(this.schedule(null,J)):this.unsubscribe()},J);if(L.add(Y),!oe)return Y}M.d(me,{f:()=>o})},4671:(De,me,M)=>{"use strict";function o(L){return L}M.d(me,{y:()=>o})},1144:(De,me,M)=>{"use strict";M.d(me,{z:()=>o});const o=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(De,me,M)=>{"use strict";M.d(me,{D:()=>L});var o=M(576);function L(k){return Symbol.asyncIterator&&(0,o.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(De,me,M)=>{"use strict";function o(L){return"function"==typeof L}M.d(me,{m:()=>o})},3670:(De,me,M)=>{"use strict";M.d(me,{c:()=>k});var o=M(8822),L=M(576);function k(q){return(0,L.m)(q[o.L])}},6495:(De,me,M)=>{"use strict";M.d(me,{T:()=>k});var o=M(2202),L=M(576);function k(q){return(0,L.m)(null==q?void 0:q[o.h])}},8239:(De,me,M)=>{"use strict";M.d(me,{t:()=>L});var o=M(576);function L(k){return(0,o.m)(null==k?void 0:k.then)}},3260:(De,me,M)=>{"use strict";M.d(me,{L:()=>q,Q:()=>k});var o=M(5987),L=M(576);function k(J){return(0,o.FC)(this,arguments,function*(){const Y=J.getReader();try{for(;;){const{value:ee,done:ce}=yield(0,o.qq)(Y.read());if(ce)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(ee)}}finally{Y.releaseLock()}})}function q(J){return(0,L.m)(null==J?void 0:J.getReader)}},3532:(De,me,M)=>{"use strict";M.d(me,{K:()=>L});var o=M(576);function L(k){return k&&(0,o.m)(k.schedule)}},4482:(De,me,M)=>{"use strict";M.d(me,{A:()=>L,e:()=>k});var o=M(576);function L(q){return(0,o.m)(null==q?void 0:q.lift)}function k(q){return J=>{if(L(J))return J.lift(function(oe){try{return q(oe,this)}catch(Y){this.error(Y)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(De,me,M)=>{"use strict";function o(){}M.d(me,{Z:()=>o})},7849:(De,me,M)=>{"use strict";M.d(me,{h:()=>k});var o=M(2416),L=M(3410);function k(q){L.z.setTimeout(()=>{const{onUnhandledError:J}=o.v;if(!J)throw q;J(q)})}},4532:(De,me,M)=>{"use strict";function o(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(me,{z:()=>o})},5987:(De,me,M)=>{"use strict";function ee(N,G,W,te){return new(W||(W=Promise))(function(X,Ge){function dt(ot){try{je(te.next(ot))}catch(yn){Ge(yn)}}function dn(ot){try{je(te.throw(ot))}catch(yn){Ge(yn)}}function je(ot){ot.done?X(ot.value):function pe(X){return X instanceof W?X:new W(function(Ge){Ge(X)})}(ot.value).then(dt,dn)}je((te=te.apply(N,G||[])).next())})}function be(N){return this instanceof be?(this.v=N,this):new be(N)}function Ee(N,G,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,te=W.apply(N,G||[]),X=[];return pe={},Ge("next"),Ge("throw"),Ge("return"),pe[Symbol.asyncIterator]=function(){return this},pe;function Ge(Tt){te[Tt]&&(pe[Tt]=function(Fn){return new Promise(function(sn,$t){X.push([Tt,Fn,sn,$t])>1||dt(Tt,Fn)})})}function dt(Tt,Fn){try{!function dn(Tt){Tt.value instanceof be?Promise.resolve(Tt.value.v).then(je,ot):yn(X[0][2],Tt)}(te[Tt](Fn))}catch(sn){yn(X[0][3],sn)}}function je(Tt){dt("next",Tt)}function ot(Tt){dt("throw",Tt)}function yn(Tt,Fn){Tt(Fn),X.shift(),X.length&&dt(X[0][0],X[0][1])}}function Be(N){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,G=N[Symbol.asyncIterator];return G?G.call(N):(N=function $(N){var G="function"==typeof Symbol&&Symbol.iterator,W=G&&N[G],te=0;if(W)return W.call(N);if(N&&"number"==typeof N.length)return{next:function(){return N&&te>=N.length&&(N=void 0),{value:N&&N[te++],done:!N}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}(N),W={},te("next"),te("throw"),te("return"),W[Symbol.asyncIterator]=function(){return this},W);function te(X){W[X]=N[X]&&function(Ge){return new Promise(function(dt,dn){!function pe(X,Ge,dt,dn){Promise.resolve(dn).then(function(je){X({value:je,done:dt})},Ge)}(dt,dn,(Ge=N[X](Ge)).done,Ge.value)})}}}M.d(me,{FC:()=>Ee,KL:()=>Be,mG:()=>ee,qq:()=>be})},655:(De,me,M)=>{"use strict";function q(N,G){var W={};for(var te in N)Object.prototype.hasOwnProperty.call(N,te)&&G.indexOf(te)<0&&(W[te]=N[te]);if(null!=N&&"function"==typeof Object.getOwnPropertySymbols){var pe=0;for(te=Object.getOwnPropertySymbols(N);pe<te.length;pe++)G.indexOf(te[pe])<0&&Object.prototype.propertyIsEnumerable.call(N,te[pe])&&(W[te[pe]]=N[te[pe]])}return W}function ee(N,G,W,te){return new(W||(W=Promise))(function(X,Ge){function dt(ot){try{je(te.next(ot))}catch(yn){Ge(yn)}}function dn(ot){try{je(te.throw(ot))}catch(yn){Ge(yn)}}function je(ot){ot.done?X(ot.value):function pe(X){return X instanceof W?X:new W(function(Ge){Ge(X)})}(ot.value).then(dt,dn)}je((te=te.apply(N,G||[])).next())})}M.d(me,{_T:()=>q,mG:()=>ee})},9671:(De,me,M)=>{"use strict";function o(k,q,J,oe,Y,ee,ce){try{var j=k[ee](ce),V=j.value}catch($){return void J($)}j.done?q(V):Promise.resolve(V).then(oe,Y)}function L(k){return function(){var q=this,J=arguments;return new Promise(function(oe,Y){var ee=k.apply(q,J);function ce(V){o(ee,oe,Y,ce,j,"next",V)}function j(V){o(ee,oe,Y,ce,j,"throw",V)}ce(void 0)})}}M.d(me,{Z:()=>L})},5e3:(De,me,M)=>{"use strict";M.d(me,{$8M:()=>Ta,$Z:()=>vE,AFp:()=>Ui,ALo:()=>gM,AaK:()=>ee,BQk:()=>tm,CHM:()=>hl,CRH:()=>CM,CZH:()=>Vm,CqO:()=>CE,DdM:()=>oM,EJc:()=>HT,EiD:()=>af,EpF:()=>Ac,F$t:()=>Jv,F4k:()=>Zv,FYo:()=>JA,FiY:()=>Jr,G48:()=>Wb,Gf:()=>Ni,GfV:()=>XA,Gpc:()=>V,Gre:()=>VE,Hsn:()=>EE,Ikx:()=>hb,JOm:()=>Oa,JVY:()=>nf,Jf7:()=>rC,L6k:()=>gc,LAX:()=>vu,LFG:()=>Fe,LSH:()=>vy,Lbi:()=>Bb,MAs:()=>Nv,NdJ:()=>nm,O4$:()=>sy,OlP:()=>si,Oqu:()=>jf,PXZ:()=>ek,Q6J:()=>Bf,QGY:()=>qv,Qsj:()=>cF,R0b:()=>sa,RDi:()=>Jc,Rgc:()=>km,SBq:()=>Sm,Sil:()=>jM,Suo:()=>Ha,TTD:()=>rl,TgZ:()=>Vf,Udp:()=>Ti,VKq:()=>aM,VLi:()=>QM,WFA:()=>Yv,WLB:()=>lM,X6Q:()=>KT,XFs:()=>bt,Xpm:()=>vt,Y36:()=>Wd,YKP:()=>_T,YNc:()=>Pf,Yjl:()=>Xe,Yz7:()=>sn,ZZ4:()=>ah,_Bn:()=>KA,_UZ:()=>bE,_Vd:()=>Eb,_c5:()=>Ym,_uU:()=>NE,aQg:()=>Jb,c2e:()=>WF,cJS:()=>hn,cg1:()=>pb,d8E:()=>fb,dDg:()=>WT,deG:()=>ay,dqk:()=>Kt,eBb:()=>Z0,eFA:()=>YT,ekj:()=>Hf,f3M:()=>Dt,g9A:()=>UM,h0i:()=>Zf,hGG:()=>Km,hij:()=>um,iGM:()=>kb,ifc:()=>Yt,ip1:()=>Lb,kL8:()=>YE,kYT:()=>ue,l5B:()=>cM,lG2:()=>Pe,lcZ:()=>mM,mCW:()=>m,n5z:()=>wo,n_E:()=>Ib,oAB:()=>ve,oJD:()=>Q0,oxw:()=>Qv,pB0:()=>Y0,q3G:()=>oi,q4F:()=>eM,qLn:()=>hf,qOj:()=>rE,qZA:()=>em,qzn:()=>pc,s9C:()=>sm,sBO:()=>QF,sIi:()=>Au,s_b:()=>Sb,soG:()=>Bu,tBr:()=>Ks,tb:()=>HM,tp0:()=>Ir,uIk:()=>Wg,uOi:()=>dg,vHH:()=>Me,vpe:()=>Fl,wAp:()=>xt,xi3:()=>_M,xp6:()=>Ly,yhl:()=>yu,ynx:()=>Uf,z2F:()=>za,z3N:()=>Es,zSh:()=>_v,zs3:()=>ta});var o=M(7579),L=M(727),k=M(8306),q=M(6451),J=M(3099);function oe(a){for(let l in a)if(a[l]===oe)return l;throw Error("Could not find renamed property on target object.")}function Y(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function ee(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(ee).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function ce(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const j=oe({__forward_ref__:oe});function V(a){return a.__forward_ref__=V,a.toString=function(){return ee(this())},a}function $(a){return Oe(a)?a():a}function Oe(a){return"function"==typeof a&&a.hasOwnProperty(j)&&a.__forward_ref__===V}class Me extends Error{constructor(l,u){super(function Le(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,u)),this.code=l}}function be(a){return"string"==typeof a?a:null==a?"":String(a)}function Ee(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():be(a)}function We(a,l){const u=l?` in ${l}`:"";throw new Me(-201,`No provider for ${Ee(a)} found${u}`)}function je(a,l){null==a&&function ot(a,l,u,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${u} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function sn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function hn(a){return{providers:a.providers||[],imports:a.imports||[]}}function Un(a){return qr(a,Mr)||qr(a,Kn)}function qr(a,l){return a.hasOwnProperty(l)?a[l]:null}function fs(a){return a&&(a.hasOwnProperty(Zr)||a.hasOwnProperty(ps))?a[Zr]:null}const Mr=oe({\u0275prov:oe}),Zr=oe({\u0275inj:oe}),Kn=oe({ngInjectableDef:oe}),ps=oe({ngInjectorDef:oe});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let er;function cn(a){const l=er;return er=a,l}function Bi(a,l,u){const d=Un(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&bt.Optional?null:void 0!==l?l:void We(ee(a),"Injector")}function tr(a){return{toString:a}.toString()}var Bn=(()=>((Bn=Bn||{})[Bn.OnPush=0]="OnPush",Bn[Bn.Default=1]="Default",Bn))(),Yt=(()=>{return(a=Yt||(Yt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Yt;var a})();const mt="undefined"!=typeof globalThis&&globalThis,ct="undefined"!=typeof window&&window,kr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Kt=mt||"undefined"!=typeof global&&global||ct||kr,vn={},Q=[],re=oe({\u0275cmp:oe}),le=oe({\u0275dir:oe}),xe=oe({\u0275pipe:oe}),ne=oe({\u0275mod:oe}),fe=oe({\u0275fac:oe}),He=oe({__NG_ELEMENT_ID__:oe});let it=0;function vt(a){return tr(()=>{const u={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Bn.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||Q,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Yt.Emulated,id:"c",styles:a.styles||Q,_:null,setInput:null,schemas:a.schemas||null,tView:null},f=a.directives,g=a.features,v=a.pipes;return d.id+=it++,d.inputs=se(a.inputs,u),d.outputs=se(a.outputs),g&&g.forEach(C=>C(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(mn):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(It):null,d})}function mn(a){return pt(a)||function Ot(a){return a[le]||null}(a)}function It(a){return function en(a){return a[xe]||null}(a)}const di={};function ve(a){return tr(()=>{const l={type:a.type,bootstrap:a.bootstrap||Q,declarations:a.declarations||Q,imports:a.imports||Q,exports:a.exports||Q,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(di[a.id]=a.type),l})}function ue(a,l){return tr(()=>{const u=Wt(a,!0);u.declarations=l.declarations||Q,u.imports=l.imports||Q,u.exports=l.exports||Q})}function se(a,l){if(null==a)return vn;const u={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),u[f]=d,l&&(l[f]=g)}return u}const Pe=vt;function Xe(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function pt(a){return a[re]||null}function Wt(a,l){const u=a[ne]||null;if(!u&&!0===l)throw new Error(`Type ${ee(a)} does not have '\u0275mod' property.`);return u}function ir(a){return Array.isArray(a)&&"object"==typeof a[1]}function $i(a){return Array.isArray(a)&&!0===a[1]}function Kc(a){return 0!=(8&a.flags)}function Wl(a){return 2==(2&a.flags)}function fo(a){return 1==(1&a.flags)}function Pr(a){return null!==a.template}function Qc(a){return 0!=(512&a[2])}function Nr(a,l){return a.hasOwnProperty(fe)?a[fe]:null}class ma{constructor(l,u,d){this.previousValue=l,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function rl(){return sl}function sl(a){return a.type.prototype.ngOnChanges&&(a.setInput=Xp),Vh}function Vh(){const a=ad(this),l=null==a?void 0:a.current;if(l){const u=a.previous;if(u===vn)a.previous=l;else for(let d in l)u[d]=l[d];a.current=null,this.ngOnChanges(l)}}function Xp(a,l,u,d){const f=ad(a)||function Vs(a,l){return a[wi]=l}(a,{previous:vn,current:null}),g=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[u],I=v[C];g[C]=new ma(I&&I.currentValue,l,v===vn),a[d]=l}rl.ngInherit=!0;const wi="__ngSimpleChanges__";function ad(a){return a[wi]||null}let Kl;function Jc(a){Kl=a}function Us(){return void 0!==Kl?Kl:"undefined"!=typeof document?document:void 0}function Mn(a){return!!a.listen}const ol={createRenderer:(a,l)=>Us()};function Cn(a){for(;Array.isArray(a);)a=a[0];return a}function Uo(a,l){return Cn(l[a])}function Ai(a,l){return Cn(l[a.index])}function Xn(a,l){return a.data[l]}function Hs(a,l){return a[l]}function Mi(a,l){const u=l[a];return ir(u)?u:u[0]}function _a(a){return 4==(4&a[2])}function _s(a){return 128==(128&a[2])}function vr(a,l){return null==l?null:a[l]}function mo(a){a[18]=0}function _o(a,l){a[5]+=l;let u=a,d=a[3];for(;null!==d&&(1===l&&1===u[5]||-1===l&&0===u[5]);)d[5]+=l,u=d,d=d[3]}const Ct={lFrame:zo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function tu(){return Ct.bindingsEnabled}function Ne(){return Ct.lFrame.lView}function Qt(){return Ct.lFrame.tView}function hl(a){return Ct.lFrame.contextLView=a,a[8]}function Wn(){let a=yo();for(;null!==a&&64===a.type;)a=a.parent;return a}function yo(){return Ct.lFrame.currentTNode}function rr(a,l){const u=Ct.lFrame;u.currentTNode=a,u.isParent=l}function nu(){return Ct.lFrame.isParent}function iu(){Ct.lFrame.isParent=!1}function pl(){return Ct.isInCheckNoChangesMode}function ya(a){Ct.isInCheckNoChangesMode=a}function Ci(){const a=Ct.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function ys(){return Ct.lFrame.bindingIndex++}function js(a){const l=Ct.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function ml(a,l){const u=Ct.lFrame;u.bindingIndex=u.bindingRootIndex=a,Ho(l)}function Ho(a){Ct.lFrame.currentDirectiveIndex=a}function Xl(a){const l=Ct.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function _l(){return Ct.lFrame.currentQueryIndex}function su(a){Ct.lFrame.currentQueryIndex=a}function eg(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function ec(a,l,u){if(u&bt.SkipSelf){let f=l,g=a;for(;!(f=f.parent,null!==f||u&bt.Host||(f=eg(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;l=f,a=g}const d=Ct.lFrame=ou();return d.currentTNode=l,d.lView=a,!0}function jo(a){const l=ou(),u=a[1];Ct.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function ou(){const a=Ct.lFrame,l=null===a?null:a.child;return null===l?zo(a):l}function zo(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function md(){const a=Ct.lFrame;return Ct.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Hh=md;function va(){const a=md();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function ki(){return Ct.lFrame.selectedIndex}function zs(a){Ct.lFrame.selectedIndex=a}function ei(){const a=Ct.lFrame;return Xn(a.tView,a.selectedIndex)}function sy(){Ct.lFrame.currentNamespace="svg"}function yl(a,l){for(let u=l.directiveStart,d=l.directiveEnd;u<d;u++){const g=a.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:x,ngOnDestroy:O}=g;v&&(a.contentHooks||(a.contentHooks=[])).push(-u,v),C&&((a.contentHooks||(a.contentHooks=[])).push(u,C),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,C)),I&&(a.viewHooks||(a.viewHooks=[])).push(-u,I),x&&((a.viewHooks||(a.viewHooks=[])).push(u,x),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,x)),null!=O&&(a.destroyHooks||(a.destroyHooks=[])).push(u,O)}}function Gs(a,l,u){Ri(a,l,3,u)}function vl(a,l,u,d){(3&a[2])===u&&Ri(a,l,u,d)}function tc(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function Ri(a,l,u,d){const g=null!=d?d:-1,v=l.length-1;let C=0;for(let I=void 0!==d?65535&a[18]:0;I<v;I++)if("number"==typeof l[I+1]){if(C=l[I],null!=d&&C>=d)break}else l[I]<0&&(a[18]+=65536),(C<g||-1==g)&&(Gh(a,u,l,I),a[18]=(4294901760&a[18])+I+2),I++}function Gh(a,l,u,d){const f=u[d]<0,g=u[d+1],C=a[f?-u[d]:u[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class ba{constructor(l,u,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function Gn(a,l,u){const d=Mn(a);let f=0;for(;f<u.length;){const g=u[f];if("number"==typeof g){if(0!==g)break;f++;const v=u[f++],C=u[f++],I=u[f++];d?a.setAttribute(l,C,I,v):l.setAttributeNS(v,C,I)}else{const v=g,C=u[++f];ut(v)?d&&a.setProperty(l,v,C):d?a.setAttribute(l,v,C):l.setAttribute(v,C),f++}}return f}function qn(a){return 3===a||4===a||6===a}function ut(a){return 64===a.charCodeAt(0)}function ri(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?u=f:0===u||or(a,u,f,null,-1===u||2===u?l[++d]:null)}}return a}function or(a,l,u,d,f){let g=0,v=a.length;if(-1===l)v=-1;else for(;g<a.length;){const C=a[g++];if("number"==typeof C){if(C===l){v=-1;break}if(C>l){v=g-1;break}}}for(;g<a.length;){const C=a[g];if("number"==typeof C)break;if(C===u){if(null===d)return void(null!==f&&(a[g+1]=f));if(d===a[g+1])return void(a[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(a.splice(v,0,l),g=v+1),a.splice(g++,0,u),null!==d&&a.splice(g++,0,d),null!==f&&a.splice(g++,0,f)}function $s(a){return-1!==a}function br(a){return 32767&a}function kn(a,l){let u=function jt(a){return a>>16}(a),d=l;for(;u>0;)d=d[15],u--;return d}let En=!0;function gt(a){const l=En;return En=a,l}let rc=0;function wr(a,l){const u=Tn(a,l);if(-1!==u)return u;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,gn(d.data,a),gn(l,null),gn(d.blueprint,null));const f=vo(a,l),g=a.injectorIndex;if($s(f)){const v=br(f),C=kn(f,l),I=C[1].data;for(let x=0;x<8;x++)l[g+x]=C[v+x]|I[v+x]}return l[g+8]=f,g}function gn(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Tn(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function vo(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,d=null,f=l;for(;null!==f;){const g=f[1],v=g.type;if(d=2===v?g.declTNode:1===v?f[6]:null,null===d)return-1;if(u++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function Cr(a,l,u){!function $h(a,l,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(He)&&(d=u[He]),null==d&&(d=u[He]=rc++);const f=255&d;l.data[a+(f>>5)]|=1<<f}(a,l,u)}function Ws(a,l,u){if(u&bt.Optional)return a;We(l,"NodeInjector")}function Er(a,l,u,d){if(u&bt.Optional&&void 0===d&&(d=null),0==(u&(bt.Self|bt.Host))){const f=a[9],g=cn(void 0);try{return f?f.get(l,d,u&bt.Optional):Bi(l,d,u&bt.Optional)}finally{cn(g)}}return Ws(d,l,u)}function Fr(a,l,u,d=bt.Default,f){if(null!==a){const g=function $o(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(He)?a[He]:void 0;return"number"==typeof l?l>=0?255&l:bo:l}(u);if("function"==typeof g){if(!ec(l,a,d))return d&bt.Host?Ws(f,u,d):Er(l,u,d,f);try{const v=g(d);if(null!=v||d&bt.Optional)return v;We(u)}finally{Hh()}}else if("number"==typeof g){let v=null,C=Tn(a,l),I=-1,x=d&bt.Host?l[16][6]:null;for((-1===C||d&bt.SkipSelf)&&(I=-1===C?vo(a,l):l[C+8],-1!==I&&cu(d,!1)?(v=l[1],C=br(I),l=kn(I,l)):C=-1);-1!==C;){const O=l[1];if(lu(g,C,O.data)){const z=Jt(C,l,u,v,d,x);if(z!==Ca)return z}I=l[C+8],-1!==I&&cu(d,l[1].data[C+8]===x)&&lu(g,C,l)?(v=O,C=br(I),l=kn(I,l)):C=-1}}}return Er(l,u,d,f)}const Ca={};function bo(){return new Ea(Wn(),Ne())}function Jt(a,l,u,d,f,g){const v=l[1],C=v.data[a+8],O=Oi(C,v,u,null==d?Wl(C)&&En:d!=v&&0!=(3&C.type),f&bt.Host&&g===C);return null!==O?Lr(l,v,O,C):Ca}function Oi(a,l,u,d,f){const g=a.providerIndexes,v=l.data,C=1048575&g,I=a.directiveStart,O=g>>20,ie=f?C+O:a.directiveEnd;for(let de=d?C:C+O;de<ie;de++){const Ae=v[de];if(de<I&&u===Ae||de>=I&&Ae.type===u)return de}if(f){const de=v[I];if(de&&Pr(de)&&de.type===u)return I}return null}function Lr(a,l,u,d){let f=a[u];const g=l.data;if(function yd(a){return a instanceof ba}(f)){const v=f;v.resolving&&function ke(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Me(-200,`Circular dependency in DI detected for ${a}${u}`)}(Ee(g[u]));const C=gt(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?cn(v.injectImpl):null;ec(a,d,bt.Default);try{f=a[u]=v.factory(void 0,g,a,d),l.firstCreatePass&&u>=d.directiveStart&&function tg(a,l,u){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=l.type.prototype;if(d){const v=sl(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,v)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,f),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,g))}(u,g[u],l)}finally{null!==I&&cn(I),gt(C),v.resolving=!1,Hh()}}return f}function lu(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function cu(a,l){return!(a&bt.Self||a&bt.Host&&l)}class Ea{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,d){return Fr(this._tNode,this._lView,l,d,u)}}function wo(a){return tr(()=>{const l=a.prototype.constructor,u=l[fe]||uu(l),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const g=f[fe]||uu(f);if(g&&g!==u)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function uu(a){return Oe(a)?()=>{const l=uu($(a));return l&&l()}:Nr(a)}function Ta(a){return function sc(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const d=u.length;let f=0;for(;f<d;){const g=u[f];if(qn(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof u[f];)f++;else{if(g===l)return u[f+1];f+=2}}}return null}(Wn(),a)}const Co="__parameters__";function bl(a,l,u){return tr(()=>{const d=function Wh(a){return function(...u){if(a){const d=a(...u);for(const f in d)this[f]=d[f]}}}(l);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return C.annotation=v,C;function C(I,x,O){const z=I.hasOwnProperty(Co)?I[Co]:Object.defineProperty(I,Co,{value:[]})[Co];for(;z.length<=O;)z.push(null);return(z[O]=z[O]||[]).push(v),I}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class si{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=sn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ay=new si("AnalyzeForEntryComponents");function Zi(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let d=a[u];Array.isArray(d)?(l===a&&(l=a.slice(0,u)),Zi(d,l)):l!==a&&l.push(d)}return l}function Tr(a,l){a.forEach(u=>Array.isArray(u)?Tr(u,l):l(u))}function qo(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function Cl(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Zo(a,l){const u=[];for(let d=0;d<a;d++)u.push(l);return u}function pi(a,l,u){let d=Yo(a,l);return d>=0?a[1|d]=u:(d=~d,function fi(a,l,u,d){let f=a.length;if(f==l)a.push(u,d);else if(1===f)a.push(d,a[0]),a[0]=u;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=u,a[l+1]=d}}(a,d,l,u)),d}function Sa(a,l){const u=Yo(a,l);if(u>=0)return a[1|u]}function Yo(a,l){return function cc(a,l,u){let d=0,f=a.length>>u;for(;f!==d;){const g=d+(f-d>>1),v=a[g<<u];if(l===v)return g<<u;v>l?f=g:d=g+1}return~(f<<u)}(a,l,1)}const xa={},Aa="__NG_DI_FLAG__",Ma="ngTempTokenPath",uc=/\n/gm,S="__source",P=oe({provide:String,useValue:oe});let Z;function he(a){const l=Z;return Z=a,l}function Ce(a,l=bt.Default){if(void 0===Z)throw new Me(203,"");return null===Z?Bi(a,void 0,l):Z.get(a,l&bt.Optional?null:void 0,l)}function Fe(a,l=bt.Default){return(function Ln(){return er}()||Ce)($(a),l)}const Dt=Fe;function St(a){const l=[];for(let u=0;u<a.length;u++){const d=$(a[u]);if(Array.isArray(d)){if(0===d.length)throw new Me(900,"");let f,g=bt.Default;for(let v=0;v<d.length;v++){const C=d[v],I=kt(C);"number"==typeof I?-1===I?f=C.token:g|=I:f=C}l.push(Fe(f,g))}else l.push(Fe(d))}return l}function zt(a,l){return a[Aa]=l,a.prototype[Aa]=l,a}function kt(a){return a[Aa]}const Ks=zt(bl("Inject",a=>({token:a})),-1),Jr=zt(bl("Optional"),8),Ir=zt(bl("SkipSelf"),4);let mu,Il;function fc(a){var l;return(null===(l=function _u(){if(void 0===mu&&(mu=null,Kt.trustedTypes))try{mu=Kt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return mu}())||void 0===l?void 0:l.createHTML(a))||a}function xd(){if(void 0===Il&&(Il=null,Kt.trustedTypes))try{Il=Kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Il}function Xh(a){var l;return(null===(l=xd())||void 0===l?void 0:l.createHTML(a))||a}function hy(a){var l;return(null===(l=xd())||void 0===l?void 0:l.createScriptURL(a))||a}class Dl{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class fy extends Dl{getTypeName(){return"HTML"}}class W0 extends Dl{getTypeName(){return"Style"}}class tf extends Dl{getTypeName(){return"Script"}}class q0 extends Dl{getTypeName(){return"URL"}}class py extends Dl{getTypeName(){return"ResourceURL"}}function Es(a){return a instanceof Dl?a.changingThisBreaksApplicationSecurity:a}function pc(a,l){const u=yu(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function yu(a){return a instanceof Dl&&a.getTypeName()||null}function nf(a){return new fy(a)}function gc(a){return new W0(a)}function Z0(a){return new tf(a)}function vu(a){return new q0(a)}function Y0(a){return new py(a)}class gy{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(fc(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class my{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=fc(l),u;const d=this.inertDocument.createElement("body");return d.innerHTML=fc(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const u=l.attributes;for(let f=u.length-1;0<f;f--){const v=u.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const K0=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,b=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function m(a){return(a=String(a)).match(K0)||a.match(b)?a:"unsafe:"+a}function E(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function R(...a){const l={};for(const u of a)for(const d in u)u.hasOwnProperty(d)&&(l[d]=!0);return l}const H=E("area,br,col,hr,img,wbr"),ge=E("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ue=E("rp,rt"),Vn=R(H,R(ge,E("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),R(Ue,E("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),R(Ue,ge)),Xr=E("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Js=E("srcset"),lr=R(Xr,Js,E("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),E("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lg=E("script,style,template");class cg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Vn.hasOwnProperty(u))return this.sanitizedSomething=!0,!lg.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=l.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),v=g.name,C=v.toLowerCase();if(!lr.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let I=g.value;Xr[C]&&(I=m(I)),Js[C]&&(a=I,I=(a=String(a)).split(",").map(l=>m(l.trim())).join(", ")),this.buf.push(" ",v,'="',Ad(I),'"')}var a;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Vn.hasOwnProperty(u)&&!H.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(Ad(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const sf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ug=/([^\#-~ |!])/g;function Ad(a){return a.replace(/&/g,"&amp;").replace(sf,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(ug,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _c;function af(a,l){let u=null;try{_c=_c||function rf(a){const l=new my(a);return function _y(){try{return!!(new window.DOMParser).parseFromString(fc(""),"text/html")}catch(a){return!1}}()?new gy(l):l}(a);let d=l?String(l):"";u=_c.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=u.innerHTML,u=_c.getInertBodyElement(d)}while(d!==g);return fc((new cg).sanitizeChildren(lf(u)||u))}finally{if(u){const d=lf(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function lf(a){return"content"in a&&function bu(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var oi=(()=>((oi=oi||{})[oi.NONE=0]="NONE",oi[oi.HTML=1]="HTML",oi[oi.STYLE=2]="STYLE",oi[oi.SCRIPT=3]="SCRIPT",oi[oi.URL=4]="URL",oi[oi.RESOURCE_URL=5]="RESOURCE_URL",oi))();function Q0(a){const l=kd();return l?Xh(l.sanitize(oi.HTML,a)||""):pc(a,"HTML")?Xh(Es(a)):af(Us(),be(a))}function vy(a){const l=kd();return l?l.sanitize(oi.URL,a)||"":pc(a,"URL")?Es(a):m(be(a))}function dg(a){const l=kd();if(l)return hy(l.sanitize(oi.RESOURCE_URL,a)||"");if(pc(a,"ResourceURL"))return hy(Es(a));throw new Me(904,"")}function kd(){const a=Ne();return a&&a[12]}const df="__ngContext__";function ai(a,l){a[df]=l}function yc(a){const l=function Ei(a){return a[df]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function Ey(a){return a.ngOriginalError}function tC(a,...l){a.error(...l)}class hf{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l),d=function kS(a){return a&&a.ngErrorLogger||tC}(l);d(this._console,"ERROR",l),u&&d(this._console,"ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Ey(l);for(;u&&Ey(u);)u=Ey(u);return u||null}}const LS=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Kt))();function rC(a){return a.ownerDocument.defaultView}function Qo(a){return a instanceof Function?a():a}var Oa=(()=>((Oa=Oa||{})[Oa.Important=1]="Important",Oa[Oa.DashCase=2]="DashCase",Oa))();function pg(a,l){return undefined(a,l)}function Pd(a){const l=a[3];return $i(l)?l[3]:l}function gg(a){return vc(a[13])}function Nd(a){return vc(a[4])}function vc(a){for(;null!==a&&!$i(a);)a=a[4];return a}function Pa(a,l,u,d,f){if(null!=d){let g,v=!1;$i(d)?g=d:ir(d)&&(v=!0,d=d[0]);const C=Cn(d);0===a&&null!==u?null==f?pC(l,u,C):Na(l,u,C,f||null,!0):1===a&&null!==u?Na(l,u,C,f||null,!0):2===a?function Ay(a,l,u){const d=bg(a,l);d&&function zS(a,l,u,d){Mn(a)?a.removeChild(l,u,d):l.removeChild(u)}(a,d,l,u)}(l,C,v):3===a&&l.destroyNode(C),null!=g&&function yC(a,l,u,d,f){const g=u[7];g!==Cn(u)&&Pa(l,a,d,g,f);for(let C=10;C<u.length;C++){const I=u[C];wc(I[1],I,a,l,d,g)}}(l,a,g,u,f)}}function mg(a,l,u){if(Mn(a))return a.createElement(l,u);{const d=null!==u?function Yl(a){const l=a.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(u):null;return null===d?a.createElement(l):a.createElementNS(d,l)}}function uC(a,l){const u=a[9],d=u.indexOf(l),f=l[3];1024&l[2]&&(l[2]&=-1025,_o(f,-1)),u.splice(d,1)}function pf(a,l){if(a.length<=10)return;const u=10+l,d=a[u];if(d){const f=d[17];null!==f&&f!==a&&uC(f,d),l>0&&(a[u-1][4]=d[4]);const g=Cl(a,10+l);!function lC(a,l){wc(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function gf(a,l){if(!(256&l[2])){const u=l[11];Mn(u)&&u.destroyNode&&wc(a,l,u,3,null,null),function ff(a){let l=a[13];if(!l)return vg(a[1],a);for(;l;){let u=null;if(ir(l))u=l[13];else{const d=l[10];d&&(u=d)}if(!u){for(;l&&!l[4]&&l!==a;)ir(l)&&vg(l[1],l),l=l[3];null===l&&(l=a),ir(l)&&vg(l[1],l),u=l&&l[4]}l=u}}(l)}}function vg(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function jS(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let d=0;d<u.length;d+=2){const f=l[u[d]];if(!(f instanceof ba)){const g=u[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=f[g[v]],I=g[v+1];try{I.call(C)}finally{}}else try{g.call(f)}finally{}}}}(a,l),function dC(a,l){const u=a.cleanup,d=l[7];let f=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const v=u[g+1],C="function"==typeof v?v(l):Cn(l[v]),I=d[f=u[g+2]],x=u[g+3];"boolean"==typeof x?C.removeEventListener(u[g],I,x):x>=0?d[f=x]():d[f=-x].unsubscribe(),g+=2}else{const v=d[f=u[g+1]];u[g].call(v)}if(null!==d){for(let g=f+1;g<d.length;g++)d[g]();l[7]=null}}(a,l),1===l[1].type&&Mn(l[11])&&l[11].destroy();const u=l[17];if(null!==u&&$i(l[3])){u!==l[3]&&uC(u,l);const d=l[19];null!==d&&d.detachView(a)}}}function hC(a,l,u){return function fC(a,l,u){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return u[0];if(2&d.flags){const f=a.data[d.directiveStart].encapsulation;if(f===Yt.None||f===Yt.Emulated)return null}return Ai(d,u)}(a,l.parent,u)}function Na(a,l,u,d,f){Mn(a)?a.insertBefore(l,u,d,f):l.insertBefore(u,d,f)}function pC(a,l,u){Mn(a)?a.appendChild(l,u):l.appendChild(u)}function gC(a,l,u,d,f){null!==d?Na(a,l,u,d,f):pC(a,l,u)}function bg(a,l){return Mn(a)?a.parentNode(l):l.parentNode}function xy(a,l,u){return Cg(a,l,u)}let Cg=function wg(a,l,u){return 40&a.type?Ai(a,u):null};function mf(a,l,u,d){const f=hC(a,d,l),g=l[11],C=xy(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(u))for(let I=0;I<u.length;I++)gC(g,f,u[I],C,!1);else gC(g,f,u,C,!1)}function _f(a,l){if(null!==l){const u=l.type;if(3&u)return Ai(l,a);if(4&u)return Xs(-1,a[l.index]);if(8&u){const d=l.child;if(null!==d)return _f(a,d);{const f=a[l.index];return $i(f)?Xs(-1,f):Cn(f)}}if(32&u)return pg(l,a)()||Cn(a[l.index]);{const d=mC(a,l);return null!==d?Array.isArray(d)?d[0]:_f(Pd(a[16]),d):_f(a,l.next)}}return null}function mC(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Xs(a,l){const u=10+a+1;if(u<l.length){const d=l[u],f=d[1].firstChild;if(null!==f)return _f(d,f)}return l[7]}function My(a,l,u,d,f,g,v){for(;null!=u;){const C=d[u.index],I=u.type;if(v&&0===l&&(C&&ai(Cn(C),d),u.flags|=4),64!=(64&u.flags))if(8&I)My(a,l,u.child,d,f,g,!1),Pa(l,a,f,C,g);else if(32&I){const x=pg(u,d);let O;for(;O=x();)Pa(l,a,f,O,g);Pa(l,a,f,C,g)}else 16&I?Eg(a,l,d,u,f,g):Pa(l,a,f,C,g);u=v?u.projectionNext:u.next}}function wc(a,l,u,d,f,g){My(u,d,a.firstChild,l,f,g,!1)}function Eg(a,l,u,d,f,g){const v=u[16],I=v[6].projection[d.projection];if(Array.isArray(I))for(let x=0;x<I.length;x++)Pa(l,a,f,I[x],g);else My(a,l,I,v[3],f,g,!0)}function Tg(a,l,u){Mn(a)?a.setAttribute(l,"style",u):l.style.cssText=u}function Ry(a,l,u){Mn(a)?""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u):l.className=u}function Fd(a,l,u){let d=a.length;for(;;){const f=a.indexOf(l,u);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const g=l.length;if(f+g===d||a.charCodeAt(f+g)<=32)return f}u=f+1}}const vC="ng-template";function $S(a,l,u){let d=0;for(;d<a.length;){let f=a[d++];if(u&&"class"===f){if(f=a[d],-1!==Fd(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function yf(a){return 4===a.type&&a.value!==vC}function vf(a,l,u){return l===(4!==a.type||u?a.value:vC)}function Oy(a,l,u){let d=4;const f=a.attrs||[],g=function WS(a){for(let l=0;l<a.length;l++)if(qn(a[l]))return l;return a.length}(f);let v=!1;for(let C=0;C<l.length;C++){const I=l[C];if("number"!=typeof I){if(!v)if(4&d){if(d=2|1&d,""!==I&&!vf(a,I,u)||""===I&&1===l.length){if(Io(d))return!1;v=!0}}else{const x=8&d?I:l[++C];if(8&d&&null!==a.attrs){if(!$S(a.attrs,x,u)){if(Io(d))return!1;v=!0}continue}const z=bC(8&d?"class":I,f,yf(a),u);if(-1===z){if(Io(d))return!1;v=!0;continue}if(""!==x){let ie;ie=z>g?"":f[z+1].toLowerCase();const de=8&d?ie:null;if(de&&-1!==Fd(de,x,0)||2&d&&x!==ie){if(Io(d))return!1;v=!0}}}}else{if(!v&&!Io(d)&&!Io(I))return!1;if(v&&Io(I))continue;v=!1,d=I|1&d}}return Io(d)||v}function Io(a){return 0==(1&a)}function bC(a,l,u,d){if(null===l)return-1;let f=0;if(d||!u){let g=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=l[++f];for(;"string"==typeof C;)C=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function qS(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const d=a[u];if("number"==typeof d)return-1;if(d===l)return u;u++}return-1}(l,a)}function wC(a,l,u=!1){for(let d=0;d<l.length;d++)if(Oy(a,l[d],u))return!0;return!1}function ZS(a,l){e:for(let u=0;u<l.length;u++){const d=l[u];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function Ny(a,l){return a?":not("+l.trim()+")":l}function Ig(a){let l=a[0],u=1,d=2,f="",g=!1;for(;u<a.length;){let v=a[u];if("string"==typeof v)if(2&d){const C=a[++u];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!Io(v)&&(l+=Ny(g,f),f=""),d=v,g=g||!Io(d);u++}return""!==f&&(l+=Ny(g,f)),l}const Vt={};function Ly(a){By(Qt(),Ne(),ki()+a,pl())}function By(a,l,u,d){if(!d)if(3==(3&l[2])){const g=a.preOrderCheckHooks;null!==g&&Gs(l,g,u)}else{const g=a.preOrderHooks;null!==g&&vl(l,g,0,u)}zs(u)}function Dg(a,l){return a<<17|l<<2}function Xo(a){return a>>17&32767}function Vy(a){return 2|a}function ns(a){return(131068&a)>>2}function Uy(a,l){return-131069&a|l<<2}function Hy(a){return 1|a}function Bd(a,l){const u=a.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const f=u[d],g=u[d+1];if(-1!==g){const v=a.data[g];su(f),v.contentQueries(2,l[g],g)}}}function Ef(a,l,u,d,f,g,v,C,I,x){const O=l.blueprint.slice();return O[0]=f,O[2]=140|d,mo(O),O[3]=O[15]=a,O[8]=u,O[10]=v||a&&a[10],O[11]=C||a&&a[11],O[12]=I||a&&a[12]||null,O[9]=x||a&&a[9]||null,O[6]=g,O[16]=2==l.type?a[16]:O,O}function Vd(a,l,u,d,f){let g=a.data[l];if(null===g)g=function Xy(a,l,u,d,f){const g=yo(),v=nu(),I=a.data[l]=function kC(a,l,u,d,f,g){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,u,l,d,f);return null===a.firstChild&&(a.firstChild=I),null!==g&&(v?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(a,l,u,d,f),function gl(){return Ct.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=d,g.attrs=f;const v=function fl(){const a=Ct.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return rr(g,!0),g}function Ud(a,l,u,d){if(0===u)return-1;const f=l.length;for(let g=0;g<u;g++)l.push(d),a.blueprint.push(d),a.data.push(null);return f}function Tf(a,l,u){jo(l);try{const d=a.viewQuery;null!==d&&gv(1,d,u);const f=a.template;null!==f&&ev(a,l,f,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Bd(a,l),a.staticViewQueries&&gv(2,a.viewQuery,u);const g=a.components;null!==g&&function lx(a,l){for(let u=0;u<l.length;u++)UC(a,l[u])}(l,g)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,va()}}function Hd(a,l,u,d){const f=l[2];if(256==(256&f))return;jo(l);const g=pl();try{mo(l),function ru(a){return Ct.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&ev(a,l,u,2,d);const v=3==(3&f);if(!g)if(v){const x=a.preOrderCheckHooks;null!==x&&Gs(l,x,null)}else{const x=a.preOrderHooks;null!==x&&vl(l,x,0,null),tc(l,0)}if(function dv(a){for(let l=gg(a);null!==l;l=Nd(l)){if(!l[2])continue;const u=l[9];for(let d=0;d<u.length;d++){const f=u[d],g=f[3];0==(1024&f[2])&&_o(g,1),f[2]|=1024}}}(l),function VC(a){for(let l=gg(a);null!==l;l=Nd(l))for(let u=10;u<l.length;u++){const d=l[u],f=d[1];_s(d)&&Hd(f,d,f.template,d[8])}}(l),null!==a.contentQueries&&Bd(a,l),!g)if(v){const x=a.contentCheckHooks;null!==x&&Gs(l,x)}else{const x=a.contentHooks;null!==x&&vl(l,x,1),tc(l,1)}!function ox(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const f=u[d];if(f<0)zs(~f);else{const g=f,v=u[++d],C=u[++d];ml(v,g),C(2,l[g])}}}finally{zs(-1)}}(a,l);const C=a.components;null!==C&&function ax(a,l){for(let u=0;u<l.length;u++)DN(a,l[u])}(l,C);const I=a.viewQuery;if(null!==I&&gv(2,I,d),!g)if(v){const x=a.viewCheckHooks;null!==x&&Gs(l,x)}else{const x=a.viewHooks;null!==x&&vl(l,x,2),tc(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),g||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,_o(l[3],-1))}finally{va()}}function cx(a,l,u,d){const f=l[10],g=!pl(),v=_a(l);try{g&&!v&&f.begin&&f.begin(),v&&Tf(a,l,d),Hd(a,l,u,d)}finally{g&&!v&&f.end&&f.end()}}function ev(a,l,u,d,f){const g=ki(),v=2&d;try{zs(-1),v&&l.length>20&&By(a,l,20,pl()),u(d,f)}finally{zs(g)}}function xC(a,l,u){if(Kc(l)){const f=l.directiveEnd;for(let g=l.directiveStart;g<f;g++){const v=a.data[g];v.contentQueries&&v.contentQueries(1,u[g],g)}}}function tv(a,l,u){!tu()||(function mx(a,l,u,d){const f=u.directiveStart,g=u.directiveEnd;a.firstCreatePass||wr(u,l),ai(d,l);const v=u.initialInputs;for(let C=f;C<g;C++){const I=a.data[C],x=Pr(I);x&&lv(l,u,I);const O=Lr(l,a,C,u);ai(O,l),null!==v&&bx(0,C-f,O,I,0,v),x&&(Mi(u.index,l)[8]=O)}}(a,l,u,Ai(u,l)),128==(128&u.flags)&&function _x(a,l,u){const d=u.directiveStart,f=u.directiveEnd,v=u.index,C=function gd(){return Ct.lFrame.currentDirectiveIndex}();try{zs(v);for(let I=d;I<f;I++){const x=a.data[I],O=l[I];Ho(I),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&ov(x,O)}}finally{zs(-1),Ho(C)}}(a,l,u))}function nv(a,l,u=Ai){const d=l.localNames;if(null!==d){let f=l.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],C=-1===v?u(l,a):a[v];a[f++]=C}}}function AC(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Pg(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Pg(a,l,u,d,f,g,v,C,I,x){const O=20+d,z=O+f,ie=function MC(a,l){const u=[];for(let d=0;d<l;d++)u.push(d<a?null:Vt);return u}(O,z),de="function"==typeof x?x():x;return ie[1]={type:a,blueprint:ie,template:u,queries:null,viewQuery:C,declTNode:l,data:ie.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:de,incompleteFirstPass:!1}}function rv(a,l,u,d){const f=jC(l);null===u?f.push(d):(f.push(u),a.firstCreatePass&&mv(a).push(d,f.length-1))}function RC(a,l,u){for(let d in a)if(a.hasOwnProperty(d)){const f=a[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(l,f):u[d]=[l,f]}return u}function eo(a,l,u,d,f,g,v,C){const I=Ai(l,u);let O,x=l.inputs;!C&&null!=x&&(O=x[d])?(Lg(a,u,O,d,f),Wl(l)&&function OC(a,l){const u=Mi(l,a);16&u[2]||(u[2]|=64)}(u,l.index)):3&l.type&&(d=function fx(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=v?v(f,l.value||"",d):f,Mn(g)?g.setProperty(I,d,f):ut(d)||(I.setProperty?I.setProperty(d,f):I[d]=f))}function Ng(a,l,u,d){let f=!1;if(tu()){const g=function yx(a,l,u){const d=a.directiveRegistry;let f=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];wC(u,v.selectors,!1)&&(f||(f=[]),Cr(wr(u,l),a,v.type),Pr(v)?(LC(a,u),f.unshift(v)):f.push(v))}return f}(a,l,u),v=null===d?null:{"":-1};if(null!==g){f=!0,av(u,a.data.length,g.length);for(let O=0;O<g.length;O++){const z=g[O];z.providersResolver&&z.providersResolver(z)}let C=!1,I=!1,x=Ud(a,l,g.length,null);for(let O=0;O<g.length;O++){const z=g[O];u.mergedAttrs=ri(u.mergedAttrs,z.hostAttrs),xl(a,u,l,x,z),vx(x,z,v),null!==z.contentQueries&&(u.flags|=8),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(u.flags|=128);const ie=z.type.prototype;!C&&(ie.ngOnChanges||ie.ngOnInit||ie.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),C=!0),!I&&(ie.ngOnChanges||ie.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),I=!0),x++}!function hx(a,l){const d=l.directiveEnd,f=a.data,g=l.attrs,v=[];let C=null,I=null;for(let x=l.directiveStart;x<d;x++){const O=f[x],z=O.inputs,ie=null===g||yf(l)?null:BC(z,g);v.push(ie),C=RC(z,x,C),I=RC(O.outputs,x,I)}null!==C&&(C.hasOwnProperty("class")&&(l.flags|=16),C.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=C,l.outputs=I}(a,u)}v&&function Dr(a,l,u){if(l){const d=a.localNames=[];for(let f=0;f<l.length;f+=2){const g=u[l[f+1]];if(null==g)throw new Me(-301,!1);d.push(l[f],g)}}}(u,d,v)}return u.mergedAttrs=ri(u.mergedAttrs,u.attrs),f}function FC(a,l,u,d,f,g){const v=g.hostBindings;if(v){let C=a.hostBindingOpCodes;null===C&&(C=a.hostBindingOpCodes=[]);const I=~l.index;(function gx(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(C)!=I&&C.push(I),C.push(d,f,v)}}function ov(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function LC(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function vx(a,l,u){if(u){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)u[l.exportAs[d]]=a;Pr(l)&&(u[""]=a)}}function av(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function xl(a,l,u,d,f){a.data[d]=f;const g=f.factory||(f.factory=Nr(f.type)),v=new ba(g,Pr(f),null);a.blueprint[d]=v,u[d]=v,FC(a,l,0,d,Ud(a,u,f.hostVars,Vt),f)}function lv(a,l,u){const d=Ai(l,a),f=AC(u),g=a[10],v=Fg(a,Ef(a,f,null,u.onPush?64:16,d,l,g,g.createRenderer(d,u),null,null));a[l.index]=v}function is(a,l,u,d,f,g){const v=Ai(a,l);!function cv(a,l,u,d,f,g,v){if(null==g)Mn(a)?a.removeAttribute(l,f,u):l.removeAttribute(f);else{const C=null==v?be(g):v(g,d||"",f);Mn(a)?a.setAttribute(l,f,C,u):u?l.setAttributeNS(u,f,C):l.setAttribute(f,C)}}(l[11],v,g,a.value,u,d,f)}function bx(a,l,u,d,f,g){const v=g[l];if(null!==v){const C=d.setInput;for(let I=0;I<v.length;){const x=v[I++],O=v[I++],z=v[I++];null!==C?d.setInput(u,z,x,O):u[O]=z}}}function BC(a,l){let u=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,a[f],l[d+1])),d+=2}else d+=2;else d+=4}return u}function uv(a,l,u,d){return new Array(a,!0,!1,l,null,0,d,u,null,null)}function DN(a,l){const u=Mi(l,a);if(_s(u)){const d=u[1];80&u[2]?Hd(d,u,d.template,u[8]):u[5]>0&&Al(u)}}function Al(a){for(let d=gg(a);null!==d;d=Nd(d))for(let f=10;f<d.length;f++){const g=d[f];if(1024&g[2]){const v=g[1];Hd(v,g,v.template,g[8])}else g[5]>0&&Al(g)}const u=a[1].components;if(null!==u)for(let d=0;d<u.length;d++){const f=Mi(u[d],a);_s(f)&&f[5]>0&&Al(f)}}function UC(a,l){const u=Mi(l,a),d=u[1];(function wx(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(d,u),Tf(d,u,u[8])}function Fg(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function If(a){for(;a;){a[2]|=64;const l=Pd(a);if(Qc(a)&&!l)return a;a=l}return null}function fv(a,l,u){const d=l[10];d.begin&&d.begin();try{Hd(a,l,a.template,u)}catch(f){throw Dx(l,f),f}finally{d.end&&d.end()}}function pv(a){!function hv(a){for(let l=0;l<a.components.length;l++){const u=a.components[l],d=yc(u),f=d[1];cx(f,d,f.template,u)}}(a[8])}function gv(a,l,u){su(0),l(a,u)}const Ix=(()=>Promise.resolve(null))();function jC(a){return a[7]||(a[7]=[])}function mv(a){return a.cleanup||(a.cleanup=[])}function zC(a,l,u){return(null===a||Pr(a))&&(u=function Ql(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[l.index])),u[11]}function Dx(a,l){const u=a[9],d=u?u.get(hf,null):null;d&&d.handleError(l)}function Lg(a,l,u,d,f){for(let g=0;g<u.length;){const v=u[g++],C=u[g++],I=l[v],x=a.data[v];null!==x.setInput?x.setInput(I,f,d,C):I[C]=f}}function Fa(a,l,u){const d=Uo(l,a);!function bc(a,l,u){Mn(a)?a.setValue(l,u):l.textContent=u}(a[11],d,u)}function Df(a,l,u){let d=u?a.styles:null,f=u?a.classes:null,g=0;if(null!==l)for(let v=0;v<l.length;v++){const C=l[v];"number"==typeof C?g=C:1==g?f=ce(f,C):2==g&&(d=ce(d,C+": "+l[++v]+";"))}u?a.styles=d:a.stylesWithoutHost=d,u?a.classes=f:a.classesWithoutHost=f}const Bg=new si("INJECTOR",-1);class GC{get(l,u=xa){if(u===xa){const d=new Error(`NullInjectorError: No provider for ${ee(l)}!`);throw d.name="NullInjectorError",d}return u}}const _v=new si("Set Injector scope."),Sf={},Tu={};let La;function yv(){return void 0===La&&(La=new GC),La}function Yi(a,l=null,u=null,d){const f=Ml(a,l,u,d);return f._resolveInjectorDefTypes(),f}function Ml(a,l=null,u=null,d){return new Sx(a,u,l||yv(),d)}class Sx{constructor(l,u,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];u&&Tr(u,C=>this.processProvider(C,l,u)),Tr([l],C=>this.processInjectorType(C,[],g)),this.records.set(Bg,Du(void 0,this));const v=this.records.get(_v);this.scope=null!=v?v.value:null,this.source=f||("object"==typeof l?null:ee(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,u=xa,d=bt.Default){this.assertNotDestroyed();const f=he(this),g=cn(void 0);try{if(!(d&bt.SkipSelf)){let C=this.records.get(l);if(void 0===C){const I=function QC(a){return"function"==typeof a||"object"==typeof a&&a instanceof si}(l)&&Un(l);C=I&&this.injectableDefInScope(I)?Du(Iu(l),Sf):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(d&bt.Self?yv():this.parent).get(l,u=d&bt.Optional&&u===xa?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Ma]=v[Ma]||[]).unshift(ee(l)),f)throw v;return function ar(a,l,u,d){const f=a[Ma];throw l[S]&&f.unshift(l[S]),a.message=function gi(a,l,u,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let f=ee(l);if(Array.isArray(l))f=l.map(ee).join(" -> ");else if("object"==typeof l){let g=[];for(let v in l)if(l.hasOwnProperty(v)){let C=l[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):ee(C)))}f=`{${g.join(", ")}}`}return`${u}${d?"("+d+")":""}[${f}]: ${a.replace(uc,"\n  ")}`}("\n"+a.message,f,u,d),a.ngTokenPath=f,a[Ma]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{cn(g),he(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,f)=>l.push(ee(f))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processInjectorType(l,u,d){if(!(l=$(l)))return!1;let f=fs(l);const g=null==f&&l.ngModule||void 0,v=void 0===g?l:g,C=-1!==d.indexOf(v);if(void 0!==g&&(f=fs(g)),null==f)return!1;if(null!=f.imports&&!C){let O;d.push(v);try{Tr(f.imports,z=>{this.processInjectorType(z,u,d)&&(void 0===O&&(O=[]),O.push(z))})}finally{}if(void 0!==O)for(let z=0;z<O.length;z++){const{ngModule:ie,providers:de}=O[z];Tr(de,Ae=>this.processProvider(Ae,ie,de||Q))}}this.injectorDefTypes.add(v);const I=Nr(v)||(()=>new v);this.records.set(v,Du(I,Sf));const x=f.providers;if(null!=x&&!C){const O=l;Tr(x,z=>this.processProvider(z,O,x))}return void 0!==g&&void 0!==l.providers}processProvider(l,u,d){let f=Su(l=$(l))?l:$(l&&l.provide);const g=function WC(a,l,u){return bv(a)?Du(void 0,a.useValue):Du(vv(a),Sf)}(l);if(Su(l)||!0!==l.multi)this.records.get(f);else{let v=this.records.get(f);v||(v=Du(void 0,Sf,!0),v.factory=()=>St(v.multi),this.records.set(f,v)),f=l,v.multi.push(l)}this.records.set(f,g)}hydrate(l,u){return u.value===Sf&&(u.value=Tu,u.value=u.factory()),"object"==typeof u.value&&u.value&&function KC(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=$(l.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Iu(a){const l=Un(a),u=null!==l?l.factory:Nr(a);if(null!==u)return u;if(a instanceof si)throw new Me(204,!1);if(a instanceof Function)return function $C(a){const l=a.length;if(l>0)throw Zo(l,"?"),new Me(204,!1);const u=function zi(a){const l=a&&(a[Mr]||a[Kn]);if(l){const u=function zn(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Me(204,!1)}function vv(a,l,u){let d;if(Su(a)){const f=$(a);return Nr(f)||Iu(f)}if(bv(a))d=()=>$(a.useValue);else if(function ZC(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...St(a.deps||[]));else if(function qC(a){return!(!a||!a.useExisting)}(a))d=()=>Fe($(a.useExisting));else{const f=$(a&&(a.useClass||a.provide));if(!function YC(a){return!!a.deps}(a))return Nr(f)||Iu(f);d=()=>new f(...St(a.deps))}return d}function Du(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function bv(a){return null!==a&&"object"==typeof a&&P in a}function Su(a){return"function"==typeof a}let ta=(()=>{class a{static create(u,d){var f;if(Array.isArray(u))return Yi({name:""},d,u,"");{const g=null!==(f=u.name)&&void 0!==f?f:"";return Yi({name:g},u.parent,u.providers,g)}}}return a.THROW_IF_NOT_FOUND=xa,a.NULL=new GC,a.\u0275prov=sn({token:a,providedIn:"any",factory:()=>Fe(Bg)}),a.__NG_ELEMENT_ID__=-1,a})();function MN(a,l){yl(yc(a)[1],Wn())}function rE(a){let l=function kx(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const d=[a];for(;l;){let f;if(Pr(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Me(903,"");f=l.\u0275dir}if(f){if(u){d.push(f);const v=a;v.inputs=Av(a.inputs),v.declaredInputs=Av(a.declaredInputs),v.outputs=Av(a.outputs);const C=f.hostBindings;C&&Ox(a,C);const I=f.viewQuery,x=f.contentQueries;if(I&&sE(a,I),x&&Rx(a,x),Y(a.inputs,f.inputs),Y(a.declaredInputs,f.declaredInputs),Y(a.outputs,f.outputs),Pr(f)&&f.data.animation){const O=a.data;O.animation=(O.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(a),C===rE&&(u=!1)}}l=Object.getPrototypeOf(l)}!function kN(a){let l=0,u=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=l+=f.hostVars,f.hostAttrs=ri(f.hostAttrs,u=ri(u,f.hostAttrs))}}(d)}function Av(a){return a===vn?{}:a===Q?[]:a}function sE(a,l){const u=a.viewQuery;a.viewQuery=u?(d,f)=>{l(d,f),u(d,f)}:l}function Rx(a,l){const u=a.contentQueries;a.contentQueries=u?(d,f,g)=>{l(d,f,g),u(d,f,g)}:l}function Ox(a,l){const u=a.hostBindings;a.hostBindings=u?(d,f)=>{l(d,f),u(d,f)}:l}let xu=null;function Rl(){if(!xu){const a=Kt.Symbol;if(a&&a.iterator)xu=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const d=l[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(xu=d)}}}return xu}function Au(a){return!!Mv(a)&&(Array.isArray(a)||!(a instanceof Map)&&Rl()in a)}function Mv(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function na(a,l,u){return a[l]=u}function Sr(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function Mu(a,l,u,d){const f=Sr(a,l,u);return Sr(a,l+1,d)||f}function Wg(a,l,u,d){const f=Ne();return Sr(f,ys(),l)&&(Qt(),is(ei(),f,a,l,u,d)),Wg}function Ic(a,l,u,d){return Sr(a,ys(),u)?l+be(u)+d:Vt}function Pf(a,l,u,d,f,g,v,C){const I=Ne(),x=Qt(),O=a+20,z=x.firstCreatePass?function Pv(a,l,u,d,f,g,v,C,I){const x=l.consts,O=Vd(l,a,4,v||null,vr(x,C));Ng(l,u,O,vr(x,I)),yl(l,O);const z=O.tViews=Pg(2,O,d,f,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,x);return null!==l.queries&&(l.queries.template(l,O),z.queries=l.queries.embeddedTView(O)),O}(O,x,I,l,u,d,f,g,v):x.data[O];rr(z,!1);const ie=I[11].createComment("");mf(x,I,ie,z),ai(ie,I),Fg(I,I[O]=uv(ie,I,ie,z)),fo(z)&&tv(x,I,z),null!=v&&nv(I,z,C)}function Nv(a){return Hs(function fd(){return Ct.lFrame.contextLView}(),20+a)}function Wd(a,l=bt.Default){const u=Ne();return null===u?Fe(a,l):Fr(Wn(),u,$(a),l)}function vE(){throw new Error("invalid")}function Bf(a,l,u){const d=Ne();return Sr(d,ys(),l)&&eo(Qt(),ei(),d,a,l,d[11],u,!1),Bf}function $v(a,l,u,d,f){const v=f?"class":"style";Lg(a,u,l.inputs[v],v,d)}function Vf(a,l,u,d){const f=Ne(),g=Qt(),v=20+a,C=f[11],I=f[v]=mg(C,l,function _d(){return Ct.lFrame.currentNamespace}()),x=g.firstCreatePass?function Gx(a,l,u,d,f,g,v){const C=l.consts,x=Vd(l,a,2,f,vr(C,g));return Ng(l,u,x,vr(C,v)),null!==x.attrs&&Df(x,x.attrs,!1),null!==x.mergedAttrs&&Df(x,x.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,x),x}(v,g,f,0,l,u,d):g.data[v];rr(x,!0);const O=x.mergedAttrs;null!==O&&Gn(C,I,O);const z=x.classes;null!==z&&Ry(C,I,z);const ie=x.styles;return null!==ie&&Tg(C,I,ie),64!=(64&x.flags)&&mf(g,f,I,x),0===function cl(){return Ct.lFrame.elementDepthCount}()&&ai(I,f),function dd(){Ct.lFrame.elementDepthCount++}(),fo(x)&&(tv(g,f,x),xC(g,x,f)),null!==d&&nv(f,x),Vf}function em(){let a=Wn();nu()?iu():(a=a.parent,rr(a,!1));const l=a;!function ul(){Ct.lFrame.elementDepthCount--}();const u=Qt();return u.firstCreatePass&&(yl(u,a),Kc(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function bd(a){return 0!=(16&a.flags)}(l)&&$v(u,l,Ne(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function ng(a){return 0!=(32&a.flags)}(l)&&$v(u,l,Ne(),l.stylesWithoutHost,!1),em}function bE(a,l,u,d){return Vf(a,l,u,d),em(),bE}function Uf(a,l,u){const d=Ne(),f=Qt(),g=a+20,v=f.firstCreatePass?function $x(a,l,u,d,f){const g=l.consts,v=vr(g,d),C=Vd(l,a,8,"ng-container",v);return null!==v&&Df(C,v,!0),Ng(l,u,C,vr(g,f)),null!==l.queries&&l.queries.elementStart(l,C),C}(g,f,d,l,u):f.data[g];rr(v,!0);const C=d[g]=d[11].createComment("");return mf(f,d,C,v),ai(C,d),fo(v)&&(tv(f,d,v),xC(f,v,d)),null!=u&&nv(d,v),Uf}function tm(){let a=Wn();const l=Qt();return nu()?iu():(a=a.parent,rr(a,!1)),l.firstCreatePass&&(yl(l,a),Kc(a)&&l.queries.elementEnd(a)),tm}function Ac(){return Ne()}function qv(a){return!!a&&"function"==typeof a.then}function Zv(a){return!!a&&"function"==typeof a.subscribe}const CE=Zv;function nm(a,l,u,d){const f=Ne(),g=Qt(),v=Wn();return im(g,f,f[11],v,a,l,!!u,d),nm}function Yv(a,l){const u=Wn(),d=Ne(),f=Qt();return im(f,d,zC(Xl(f.data),u,d),u,a,l,!1),Yv}function im(a,l,u,d,f,g,v,C){const I=fo(d),O=a.firstCreatePass&&mv(a),z=l[8],ie=jC(l);let de=!0;if(3&d.type||C){const Ke=Ai(d,l),ht=C?C(Ke):Ke,Ve=ie.length,Et=C?on=>C(Cn(on[d.index])):d.index;if(Mn(u)){let on=null;if(!C&&I&&(on=function Wx(a,l,u,d){const f=a.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===u&&f[g+1]===d){const C=l[7],I=f[g+2];return C.length>I?C[I]:null}"string"==typeof v&&(g+=2)}return null}(a,l,f,d.index)),null!==on)(on.__ngLastListenerFn__||on).__ngNextListenerFn__=g,on.__ngLastListenerFn__=g,de=!1;else{g=Kv(d,l,z,g,!1);const Pn=u.listen(ht,f,g);ie.push(g,Pn),O&&O.push(f,Et,Ve,Ve+1)}}else g=Kv(d,l,z,g,!0),ht.addEventListener(f,g,v),ie.push(g),O&&O.push(f,Et,Ve,v)}else g=Kv(d,l,z,g,!1);const Ae=d.outputs;let qe;if(de&&null!==Ae&&(qe=Ae[f])){const Ke=qe.length;if(Ke)for(let ht=0;ht<Ke;ht+=2){const ss=l[qe[ht]][qe[ht+1]].subscribe(g),ju=ie.length;ie.push(g,ss),O&&O.push(f,d.index,ju,-(ju+1))}}}function rm(a,l,u,d){try{return!1!==u(d)}catch(f){return Dx(a,f),!1}}function Kv(a,l,u,d,f){return function g(v){if(v===Function)return d;const C=2&a.flags?Mi(a.index,l):l;0==(32&l[2])&&If(C);let I=rm(l,0,d,v),x=g.__ngNextListenerFn__;for(;x;)I=rm(l,0,x,v)&&I,x=x.__ngNextListenerFn__;return f&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function Qv(a=1){return function vs(a){return(Ct.lFrame.contextLView=function jh(a,l){for(;a>0;)l=l[15],a--;return l}(a,Ct.lFrame.contextLView))[8]}(a)}function qx(a,l){let u=null;const d=function Py(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let f=0;f<l.length;f++){const g=l[f];if("*"!==g){if(null===d?wC(a,g,!0):ZS(d,g))return f}else u=f}return u}function Jv(a){const l=Ne()[16][6];if(!l.projection){const d=l.projection=Zo(a?a.length:1,null),f=d.slice();let g=l.child;for(;null!==g;){const v=a?qx(g,a):0;null!==v&&(f[v]?f[v].projectionNext=g:d[v]=g,f[v]=g),g=g.next}}}function EE(a,l=0,u){const d=Ne(),f=Qt(),g=Vd(f,20+a,16,null,u||null);null===g.projection&&(g.projection=l),iu(),64!=(64&g.flags)&&function _C(a,l,u){Eg(l[11],0,l,u,hC(a,u,l),xy(u.parent||l[6],u,l))}(f,d,g)}function sm(a,l,u){return Xv(a,"",l,"",u),sm}function Xv(a,l,u,d,f){const g=Ne(),v=Ic(g,l,u,d);return v!==Vt&&eo(Qt(),ei(),g,a,v,g[11],f,!1),Xv}function ib(a,l,u,d,f){const g=a[u+1],v=null===l;let C=d?Xo(g):ns(g),I=!1;for(;0!==C&&(!1===I||v);){const O=a[C+1];Ol(a[C],l)&&(I=!0,a[C+1]=d?Hy(O):Vy(O)),C=d?Xo(O):ns(O)}I&&(a[u+1]=d?Vy(g):Hy(g))}function Ol(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Yo(a,l)>=0}const Ki={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function DE(a){return a.substring(Ki.key,Ki.keyEnd)}function rb(a,l){const u=Ki.textEnd;return u===l?-1:(l=Ki.keyEnd=function eA(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,Ki.key=l,u),qd(a,l,u))}function qd(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function Ti(a,l,u){return Ds(a,l,u,!1),Ti}function Hf(a,l){return Ds(a,l,null,!0),Hf}function Mo(a,l){for(let u=function Jx(a){return function Xx(a){Ki.key=0,Ki.keyEnd=0,Ki.value=0,Ki.valueEnd=0,Ki.textEnd=a.length}(a),rb(a,qd(a,0,Ki.textEnd))}(l);u>=0;u=rb(l,u))pi(a,DE(l),!0)}function Ds(a,l,u,d){const f=Ne(),g=Qt(),v=js(2);g.firstUpdatePass&&RE(g,a,v,d),l!==Vt&&Sr(f,v,l)&&PE(g,g.data[ki()],f,f[11],a,f[v+1]=function lb(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=ee(Es(a)))),a}(l,u),d,v)}function ob(a,l){return l>=a.expandoStartIndex}function RE(a,l,u,d){const f=a.data;if(null===f[u+1]){const g=f[ki()],v=ob(a,u);cb(g,d)&&null===l&&!v&&(l=!1),l=function BN(a,l,u,d){const f=Xl(a);let g=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(u=cm(u=OE(null,a,l,u,d),l.attrs,d),g=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(u=OE(f,a,l,u,d),null===g){let I=function VN(a,l,u){const d=u?l.classBindings:l.styleBindings;if(0!==ns(d))return a[Xo(d)]}(a,l,d);void 0!==I&&Array.isArray(I)&&(I=OE(null,a,l,I[1],d),I=cm(I,l.attrs,d),function UN(a,l,u,d){a[Xo(u?l.classBindings:l.styleBindings)]=d}(a,l,d,I))}else g=function HN(a,l,u){let d;const f=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<f;g++)d=cm(d,a[g].hostAttrs,u);return cm(d,l.attrs,u)}(a,l,d)}return void 0!==g&&(d?l.residualClasses=g:l.residualStyles=g),u}(f,g,l,d),function LN(a,l,u,d,f,g){let v=g?l.classBindings:l.styleBindings,C=Xo(v),I=ns(v);a[d]=u;let O,x=!1;if(Array.isArray(u)){const z=u;O=z[1],(null===O||Yo(z,O)>0)&&(x=!0)}else O=u;if(f)if(0!==I){const ie=Xo(a[C+1]);a[d+1]=Dg(ie,C),0!==ie&&(a[ie+1]=Uy(a[ie+1],d)),a[C+1]=function Cc(a,l){return 131071&a|l<<17}(a[C+1],d)}else a[d+1]=Dg(C,0),0!==C&&(a[C+1]=Uy(a[C+1],d)),C=d;else a[d+1]=Dg(I,0),0===C?C=d:a[I+1]=Uy(a[I+1],d),I=d;x&&(a[d+1]=Vy(a[d+1])),ib(a,O,d,!0),ib(a,O,d,!1),function IE(a,l,u,d,f){const g=f?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof l&&Yo(g,l)>=0&&(u[d+1]=Hy(u[d+1]))}(l,O,a,d,g),v=Dg(C,I),g?l.classBindings=v:l.styleBindings=v}(f,g,l,u,v,d)}}function OE(a,l,u,d,f){let g=null;const v=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<v&&(g=l[C],d=cm(d,g.hostAttrs,f),g!==a);)C++;return null!==a&&(u.directiveStylingLast=C),d}function cm(a,l,u){const d=u?1:2;let f=-1;if(null!==l)for(let g=0;g<l.length;g++){const v=l[g];"number"==typeof v?f=v:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),pi(a,v,!!u||l[++g]))}return void 0===a?null:a}function PE(a,l,u,d,f,g,v,C){if(!(3&l.type))return;const I=a.data,x=I[C+1];Zd(function EC(a){return 1==(1&a)}(x)?ab(I,l,u,f,ns(x),v):void 0)||(Zd(g)||function Sg(a){return 2==(2&a)}(x)&&(g=ab(I,null,u,f,C,v)),function ky(a,l,u,d,f){const g=Mn(a);if(l)f?g?a.addClass(u,d):u.classList.add(d):g?a.removeClass(u,d):u.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:Oa.DashCase;if(null==f)g?a.removeStyle(u,d,v):u.style.removeProperty(d);else{const C="string"==typeof f&&f.endsWith("!important");C&&(f=f.slice(0,-10),v|=Oa.Important),g?a.setStyle(u,d,f,v):u.style.setProperty(d,f,C?"important":"")}}}(d,v,Uo(ki(),u),f,g))}function ab(a,l,u,d,f,g){const v=null===l;let C;for(;f>0;){const I=a[f],x=Array.isArray(I),O=x?I[1]:I,z=null===O;let ie=u[f+1];ie===Vt&&(ie=z?Q:void 0);let de=z?Sa(ie,d):O===d?ie:void 0;if(x&&!Zd(de)&&(de=Sa(I,d)),Zd(de)&&(C=de,v))return C;const Ae=a[f+1];f=v?Xo(Ae):ns(Ae)}if(null!==l){let I=g?l.residualClasses:l.residualStyles;null!=I&&(C=Sa(I,d))}return C}function Zd(a){return void 0!==a}function cb(a,l){return 0!=(a.flags&(l?16:32))}function NE(a,l=""){const u=Ne(),d=Qt(),f=a+20,g=d.firstCreatePass?Vd(d,f,1,l,null):d.data[f],v=u[f]=function Sy(a,l){return Mn(a)?a.createText(l):a.createTextNode(l)}(u[11],l);mf(d,u,v,g),rr(g,!1)}function jf(a){return um("",a,""),jf}function um(a,l,u){const d=Ne(),f=Ic(d,a,l,u);return f!==Vt&&Fa(d,ki(),f),um}function VE(a,l,u){!function ko(a,l,u,d){const f=Qt(),g=js(2);f.firstUpdatePass&&RE(f,null,g,d);const v=Ne();if(u!==Vt&&Sr(v,g,u)){const C=f.data[ki()];if(cb(C,d)&&!ob(f,g)){let I=d?C.classesWithoutHost:C.stylesWithoutHost;null!==I&&(u=ce(I,u||"")),$v(f,C,v,u,d)}else!function nA(a,l,u,d,f,g,v,C){f===Vt&&(f=Q);let I=0,x=0,O=0<f.length?f[0]:null,z=0<g.length?g[0]:null;for(;null!==O||null!==z;){const ie=I<f.length?f[I+1]:void 0,de=x<g.length?g[x+1]:void 0;let qe,Ae=null;O===z?(I+=2,x+=2,ie!==de&&(Ae=z,qe=de)):null===z||null!==O&&O<z?(I+=2,Ae=O):(x+=2,Ae=z,qe=de),null!==Ae&&PE(a,l,u,d,Ae,qe,v,C),O=I<f.length?f[I]:null,z=x<g.length?g[x]:null}}(f,C,v,v[11],v[g+1],v[g+1]=function jN(a,l,u){if(null==u||""===u)return Q;const d=[],f=Es(u);if(Array.isArray(f))for(let g=0;g<f.length;g++)a(d,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&a(d,g,f[g]);else"string"==typeof f&&l(d,f);return d}(a,l,u),d,g)}}(pi,Mo,Ic(Ne(),a,l,u),!0)}function hb(a,l,u){const d=Ne();return Sr(d,ys(),l)&&eo(Qt(),ei(),d,a,l,d[11],u,!0),hb}function fb(a,l,u){const d=Ne();if(Sr(d,ys(),l)){const g=Qt(),v=ei();eo(g,v,d,a,l,zC(Xl(g.data),v,d),u,!0)}return fb}const Pu=void 0;var TA=["en",[["a","p"],["AM","PM"],Pu],[["AM","PM"],Pu,Pu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pu,"{1} 'at' {0}",Pu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function EA(a){const u=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Yd={};function pb(a){const l=function DA(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=KE(l);if(u)return u;const d=l.split("-")[0];if(u=KE(d),u)return u;if("en"===d)return TA;throw new Error(`Missing locale data for the locale "${a}".`)}function YE(a){return pb(a)[xt.PluralCase]}function KE(a){return a in Yd||(Yd[a]=Kt.ng&&Kt.ng.common&&Kt.ng.common.locales&&Kt.ng.common.locales[a]),Yd[a]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const dm="en-US";let gb=dm;function dT(a,l,u,d,f){if(a=$(a),Array.isArray(a))for(let g=0;g<a.length;g++)dT(a[g],l,u,d,f);else{const g=Qt(),v=Ne();let C=Su(a)?a:$(a.provide),I=vv(a);const x=Wn(),O=1048575&x.providerIndexes,z=x.directiveStart,ie=x.providerIndexes>>20;if(Su(a)||!a.multi){const de=new ba(I,f,Wd),Ae=Cb(C,l,f?O:O+ie,z);-1===Ae?(Cr(wr(x,v),g,C),hT(g,a,l.length),l.push(C),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),u.push(de),v.push(de)):(u[Ae]=de,v[Ae]=de)}else{const de=Cb(C,l,O+ie,z),Ae=Cb(C,l,O,O+ie),qe=de>=0&&u[de],Ke=Ae>=0&&u[Ae];if(f&&!Ke||!f&&!qe){Cr(wr(x,v),g,C);const ht=function iF(a,l,u,d,f){const g=new ba(a,u,Wd);return g.multi=[],g.index=l,g.componentProviders=0,YA(g,f,d&&!u),g}(f?nF:tF,u.length,f,d,I);!f&&Ke&&(u[Ae].providerFactory=ht),hT(g,a,l.length,0),l.push(C),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),u.push(ht),v.push(ht)}else hT(g,a,de>-1?de:Ae,YA(u[f?Ae:de],I,!f&&d));!f&&d&&Ke&&u[Ae].componentProviders++}}}function hT(a,l,u,d){const f=Su(l),g=function Vg(a){return!!a.useClass}(l);if(f||g){const I=(g?$(l.useClass):l).prototype.ngOnDestroy;if(I){const x=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const O=x.indexOf(u);-1===O?x.push(u,[d,I]):x[O+1].push(d,I)}else x.push(u,I)}}}function YA(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function Cb(a,l,u,d){for(let f=u;f<d;f++)if(l[f]===a)return f;return-1}function tF(a,l,u,d){return fT(this.multi,[])}function nF(a,l,u,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Lr(u,u[1],this.providerFactory.index,d);g=C.slice(0,v),fT(f,g);for(let I=v;I<C.length;I++)g.push(C[I])}else g=[],fT(f,g);return g}function fT(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function KA(a,l=[]){return u=>{u.providersResolver=(d,f)=>function eF(a,l,u){const d=Qt();if(d.firstCreatePass){const f=Pr(a);dT(u,d.data,d.blueprint,f,!0),dT(l,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,l)}}class QA{}class oF{resolveComponentFactory(l){throw function sF(a){const l=Error(`No component factory found for ${ee(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Eb=(()=>{class a{}return a.NULL=new oF,a})();function aF(){return Lu(Wn(),Ne())}function Lu(a,l){return new Sm(Ai(a,l))}let Sm=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=aF,a})();function lF(a){return a instanceof Sm?a.nativeElement:a}class JA{}let cF=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function dF(){const a=Ne(),u=Mi(Wn().index,a);return function uF(a){return a[11]}(ir(u)?u:a)}(),a})(),hF=(()=>{class a{}return a.\u0275prov=sn({token:a,providedIn:"root",factory:()=>null}),a})();class XA{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const eM=new XA("13.3.5"),gT={};function Tb(a,l,u,d,f=!1){for(;null!==u;){const g=l[u.index];if(null!==g&&d.push(Cn(g)),$i(g))for(let C=10;C<g.length;C++){const I=g[C],x=I[1].firstChild;null!==x&&Tb(I[1],I,x,d)}const v=u.type;if(8&v)Tb(a,l,u.child,d);else if(32&v){const C=pg(u,l);let I;for(;I=C();)d.push(I)}else if(16&v){const C=mC(l,u);if(Array.isArray(C))d.push(...C);else{const I=Pd(l[16]);Tb(I[1],I,C,d,!0)}}u=f?u.projectionNext:u.next}return d}class xm{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return Tb(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if($i(l)){const u=l[8],d=u?u.indexOf(this):-1;d>-1&&(pf(l,d),Cl(u,d))}this._attachedToViewContainer=!1}gf(this._lView[1],this._lView)}onDestroy(l){rv(this._lView[1],this._lView,null,l)}markForCheck(){If(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){fv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Ex(a,l,u){ya(!0);try{fv(a,l,u)}finally{ya(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Me(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _g(a,l){wc(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Me(902,"");this._appRef=l}}class fF extends xm{constructor(l){super(l),this._view=l}detectChanges(){pv(this._view)}checkNoChanges(){!function Tx(a){ya(!0);try{pv(a)}finally{ya(!1)}}(this._view)}get context(){return null}}class tM extends Eb{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=pt(l);return new mT(u,this.ngModule)}}function nM(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class mT extends QA{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function YS(a){return a.map(Ig).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return nM(this.componentDef.inputs)}get outputs(){return nM(this.componentDef.outputs)}create(l,u,d,f){const g=(f=f||this.ngModule)?function gF(a,l){return{get:(u,d,f)=>{const g=a.get(u,gT,f);return g!==gT||d===gT?g:l.get(u,d,f)}}}(l,f.injector):l,v=g.get(JA,ol),C=g.get(hF,null),I=v.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",O=d?function iv(a,l,u){if(Mn(a))return a.selectRootElement(l,u===Yt.ShadowDom);let d="string"==typeof l?a.querySelector(l):l;return d.textContent="",d}(I,d,this.componentDef.encapsulation):mg(v.createRenderer(null,this.componentDef),x,function pF(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(x)),z=this.componentDef.onPush?576:528,ie=function Mx(a,l){return{components:[],scheduler:a||LS,clean:Ix,playerHandler:l||null,flags:0}}(),de=Pg(0,null,null,1,0,null,null,null,null,null),Ae=Ef(null,de,ie,z,null,null,v,I,C,g);let qe,Ke;jo(Ae);try{const ht=function zg(a,l,u,d,f,g){const v=u[1];u[20]=a;const I=Vd(v,20,2,"#host",null),x=I.mergedAttrs=l.hostAttrs;null!==x&&(Df(I,x,!0),null!==a&&(Gn(f,a,x),null!==I.classes&&Ry(f,a,I.classes),null!==I.styles&&Tg(f,a,I.styles)));const O=d.createRenderer(a,l),z=Ef(u,AC(l),null,l.onPush?64:16,u[20],I,d,O,g||null,null);return v.firstCreatePass&&(Cr(wr(I,u),v,l.type),LC(v,I),av(I,u.length,1)),Fg(u,z),u[20]=z}(O,this.componentDef,Ae,v,I);if(O)if(d)Gn(I,O,["ng-version",eM.full]);else{const{attrs:Ve,classes:Et}=function Fy(a){const l=[],u=[];let d=1,f=2;for(;d<a.length;){let g=a[d];if("string"==typeof g)2===f?""!==g&&l.push(g,a[++d]):8===f&&u.push(g);else{if(!Io(f))break;f=g}d++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Ve&&Gn(I,O,Ve),Et&&Et.length>0&&Ry(I,O,Et.join(" "))}if(Ke=Xn(de,20),void 0!==u){const Ve=Ke.projection=[];for(let Et=0;Et<this.ngContentSelectors.length;Et++){const on=u[Et];Ve.push(null!=on?Array.from(on):null)}}qe=function iE(a,l,u,d,f){const g=u[1],v=function sv(a,l,u){const d=Wn();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),xl(a,d,l,Ud(a,l,1,null),u));const f=Lr(l,a,d.directiveStart,d);ai(f,l);const g=Ai(d,l);return g&&ai(g,l),f}(g,u,l);if(d.components.push(v),a[8]=v,f&&f.forEach(I=>I(v,l)),l.contentQueries){const I=Wn();l.contentQueries(1,v,I.directiveStart)}const C=Wn();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(zs(C.index),FC(u[1],C,0,C.directiveStart,C.directiveEnd,l),ov(l,v)),v}(ht,this.componentDef,Ae,ie,[MN]),Tf(de,Ae,null)}finally{va()}return new _F(this.componentType,qe,Lu(Ke,Ae),Ae,Ke)}}class _F extends class rF{}{constructor(l,u,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new fF(f),this.componentType=l}get injector(){return new Ea(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class Zf{}class _T{}const eh=new Map;class sM extends Zf{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new tM(this);const d=Wt(l);this._bootstrapComponents=Qo(d.bootstrap),this._r3Injector=Ml(l,u,[{provide:Zf,useValue:this},{provide:Eb,useValue:this.componentFactoryResolver}],ee(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,u=ta.THROW_IF_NOT_FOUND,d=bt.Default){return l===ta||l===Zf||l===Bg?this:this._r3Injector.get(l,u,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class yT extends _T{constructor(l){super(),this.moduleType=l,null!==Wt(l)&&function vF(a){const l=new Set;!function u(d){const f=Wt(d,!0),g=f.id;null!==g&&(function iM(a,l,u){if(l&&l!==u)throw new Error(`Duplicate module registered for ${a} - ${ee(l)} vs ${ee(l.name)}`)}(g,eh.get(g),d),eh.set(g,d));const v=Qo(f.imports);for(const C of v)l.has(C)||(l.add(C),u(C))}(a)}(l)}create(l){return new sM(this.moduleType,l)}}function oM(a,l,u){const d=Ci()+a,f=Ne();return f[d]===Vt?na(f,d,u?l.call(u):l()):function Af(a,l){return a[l]}(f,d)}function aM(a,l,u,d){return uM(Ne(),Ci(),a,l,u,d)}function lM(a,l,u,d,f){return dM(Ne(),Ci(),a,l,u,d,f)}function cM(a,l,u,d,f,g,v){return function fM(a,l,u,d,f,g,v,C,I){const x=l+u;return function xo(a,l,u,d,f,g){const v=Mu(a,l,u,d);return Mu(a,l+2,f,g)||v}(a,x,f,g,v,C)?na(a,x+4,I?d.call(I,f,g,v,C):d(f,g,v,C)):Am(a,x+4)}(Ne(),Ci(),a,l,u,d,f,g,v)}function Am(a,l){const u=a[l];return u===Vt?void 0:u}function uM(a,l,u,d,f,g){const v=l+u;return Sr(a,v,f)?na(a,v+1,g?d.call(g,f):d(f)):Am(a,v+1)}function dM(a,l,u,d,f,g,v){const C=l+u;return Mu(a,C,f,g)?na(a,C+2,v?d.call(v,f,g):d(f,g)):Am(a,C+2)}function gM(a,l){const u=Qt();let d;const f=a+20;u.firstCreatePass?(d=function DF(a,l){if(l)for(let u=l.length-1;u>=0;u--){const d=l[u];if(a===d.name)return d}}(l,u.pipeRegistry),u.data[f]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,d.onDestroy)):d=u.data[f];const g=d.factory||(d.factory=Nr(d.type)),v=cn(Wd);try{const C=gt(!1),I=g();return gt(C),function aE(a,l,u,d){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=d}(u,Ne(),f,I),I}finally{cn(v)}}function mM(a,l,u){const d=a+20,f=Ne(),g=Hs(f,d);return Mm(f,d)?uM(f,Ci(),l,g.transform,u,g):g.transform(u)}function _M(a,l,u,d){const f=a+20,g=Ne(),v=Hs(g,f);return Mm(g,f)?dM(g,Ci(),l,v.transform,u,d,v):v.transform(u,d)}function Mm(a,l){return a[1].data[l].pure}function vT(a){return l=>{setTimeout(a,void 0,l)}}const Fl=class MF extends o.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,d){var f,g,v;let C=l,I=u||(()=>null),x=d;if(l&&"object"==typeof l){const z=l;C=null===(f=z.next)||void 0===f?void 0:f.bind(z),I=null===(g=z.error)||void 0===g?void 0:g.bind(z),x=null===(v=z.complete)||void 0===v?void 0:v.bind(z)}this.__isAsync&&(I=vT(I),C&&(C=vT(C)),x&&(x=vT(x)));const O=super.subscribe({next:C,error:I,complete:x});return l instanceof L.w0&&l.add(O),O}};function kF(){return this._results[Rl()]()}class Ib{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Rl(),d=Ib.prototype;d[u]||(d[u]=kF)}get changes(){return this._changes||(this._changes=new Fl)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const d=this;d.dirty=!1;const f=Zi(l);(this._changesDetected=!function Zh(a,l,u){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],g=l[d];if(u&&(f=u(f),g=u(g)),g!==f)return!1}return!0}(d._results,f,u))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let km=(()=>{class a{}return a.__NG_ELEMENT_ID__=PF,a})();const RF=km,OF=class extends RF{constructor(l,u,d){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(l){const u=this._declarationTContainer.tViews,d=Ef(this._declarationLView,u,l,16,null,u.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(u)),Tf(u,d,l),new xm(d)}};function PF(){return Db(Wn(),Ne())}function Db(a,l){return 4&a.type?new OF(l,a,Lu(a,l)):null}let Sb=(()=>{class a{}return a.__NG_ELEMENT_ID__=NF,a})();function NF(){return bM(Wn(),Ne())}const FF=Sb,yM=class extends FF{constructor(l,u,d){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=d}get element(){return Lu(this._hostTNode,this._hostLView)}get injector(){return new Ea(this._hostTNode,this._hostLView)}get parentInjector(){const l=vo(this._hostTNode,this._hostLView);if($s(l)){const u=kn(l,this._hostLView),d=br(l);return new Ea(u[1].data[d+8],u)}return new Ea(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=vM(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,d){const f=l.createEmbeddedView(u||{});return this.insert(f,d),f}createComponent(l,u,d,f,g){const v=l&&!function Eo(a){return"function"==typeof a}(l);let C;if(v)C=u;else{const z=u||{};C=z.index,d=z.injector,f=z.projectableNodes,g=z.ngModuleRef}const I=v?l:new mT(pt(l)),x=d||this.parentInjector;if(!g&&null==I.ngModule){const ie=(v?x:this.parentInjector).get(Zf,null);ie&&(g=ie)}const O=I.create(x,f,void 0,g);return this.insert(O.hostView,C),O}insert(l,u){const d=l._lView,f=d[1];if(function eu(a){return $i(a[3])}(d)){const O=this.indexOf(l);if(-1!==O)this.detach(O);else{const z=d[3],ie=new yM(z,z[6],z[3]);ie.detach(ie.indexOf(l))}}const g=this._adjustIndex(u),v=this._lContainer;!function cC(a,l,u,d){const f=10+d,g=u.length;d>0&&(u[f-1][4]=l),d<g-10?(l[4]=u[f],qo(u,10+d,l)):(u.push(l),l[4]=null),l[3]=u;const v=l[17];null!==v&&u!==v&&function yg(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(v,l);const C=l[19];null!==C&&C.insertView(a),l[2]|=128}(f,d,v,g);const C=Xs(g,v),I=d[11],x=bg(I,v[7]);return null!==x&&function HS(a,l,u,d,f,g){d[0]=f,d[6]=l,wc(a,d,u,1,f,g)}(f,v[6],I,d,x,C),l.attachToViewContainerRef(),qo(bT(v),g,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=vM(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),d=pf(this._lContainer,u);d&&(Cl(bT(this._lContainer),u),gf(d[1],d))}detach(l){const u=this._adjustIndex(l,-1),d=pf(this._lContainer,u);return d&&null!=Cl(bT(this._lContainer),u)?new xm(d):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function vM(a){return a[8]}function bT(a){return a[8]||(a[8]=[])}function bM(a,l){let u;const d=l[a.index];if($i(d))u=d;else{let f;if(8&a.type)f=Cn(d);else{const g=l[11];f=g.createComment("");const v=Ai(a,l);Na(g,bg(g,v),f,function GS(a,l){return Mn(a)?a.nextSibling(l):l.nextSibling}(g,v),!1)}l[a.index]=u=uv(d,l,f,a),Fg(l,u)}return new yM(u,a,l)}class wT{constructor(l){this.queryList=l,this.matches=null}clone(){return new wT(this.queryList)}setDirty(){this.queryList.setDirty()}}class xb{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const d=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let g=0;g<d;g++){const v=u.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new xb(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==IM(l,u).matches&&this.queries[u].setDirty()}}class Ll{constructor(l,u,d=null){this.predicate=l,this.flags=u,this.read=d}}class Oc{constructor(l=[]){this.queries=l}elementStart(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let d=0;d<this.length;d++){const f=null!==u?u.length:0,g=this.getByIndex(d).embeddedTView(l,f);g&&(g.indexInDeclarationView=d,null!==u?u.push(g):u=[g])}return null!==u?new Oc(u):null}template(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Ab{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new Ab(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(l,u,Rm(u,g)),this.matchTNodeWithReadOption(l,u,Oi(u,l,g,!1,!1))}else d===km?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Oi(u,l,d,!1,!1))}matchTNodeWithReadOption(l,u,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Sm||f===Sb||f===km&&4&u.type)this.addMatch(u.index,-2);else{const g=Oi(u,l,f,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,d)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function Rm(a,l){const u=a.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===l)return u[d+1];return null}function Zn(a,l,u,d){return-1===u?function wM(a,l){return 11&a.type?Lu(a,l):4&a.type?Db(a,l):null}(l,a):-2===u?function Yn(a,l,u){return u===Sm?Lu(l,a):u===km?Db(l,a):u===Sb?bM(l,a):void 0}(a,l,d):Lr(a,a[1],u,l)}function Om(a,l,u,d){const f=l[19].queries[d];if(null===f.matches){const g=a.data,v=u.matches,C=[];for(let I=0;I<v.length;I+=2){const x=v[I];C.push(x<0?null:Zn(l,g[x],v[I+1],u.metadata.read))}f.matches=C}return f.matches}function Mb(a,l,u,d){const f=a.queries.getByIndex(u),g=f.matches;if(null!==g){const v=Om(a,l,f,u);for(let C=0;C<g.length;C+=2){const I=g[C];if(I>0)d.push(v[C/2]);else{const x=g[C+1],O=l[-I];for(let z=10;z<O.length;z++){const ie=O[z];ie[17]===ie[3]&&Mb(ie[1],ie,x,d)}if(null!==O[9]){const z=O[9];for(let ie=0;ie<z.length;ie++){const de=z[ie];Mb(de[1],de,x,d)}}}}}return d}function kb(a){const l=Ne(),u=Qt(),d=_l();su(d+1);const f=IM(u,d);if(a.dirty&&_a(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const g=f.crossesNgTemplate?Mb(u,l,d,[]):Om(u,l,f,d);a.reset(g,lF),a.notifyOnChanges()}return!0}return!1}function Ni(a,l,u){const d=Qt();d.firstCreatePass&&(TM(d,new Ll(a,l,u),-1),2==(2&l)&&(d.staticViewQueries=!0)),EM(d,Ne(),l)}function Ha(a,l,u,d){const f=Qt();if(f.firstCreatePass){const g=Wn();TM(f,new Ll(l,u,d),g.index),function ET(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(f,a),2==(2&u)&&(f.staticContentQueries=!0)}EM(f,Ne(),u)}function CM(){return function CT(a,l){return a[19].queries[l].queryList}(Ne(),_l())}function EM(a,l,u){const d=new Ib(4==(4&u));rv(a,l,d,d.destroy),null===l[19]&&(l[19]=new xb),l[19].queries.push(new wT(d))}function TM(a,l,u){null===a.queries&&(a.queries=new Oc),a.queries.track(new Ab(l,u))}function IM(a,l){return a.queries.getByIndex(l)}function ja(...a){}const Lb=new si("Application Initializer");let Vm=(()=>{class a{constructor(u){this.appInits=u,this.resolve=ja,this.reject=ja,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(qv(g))u.push(g);else if(CE(g)){const v=new Promise((C,I)=>{g.subscribe({complete:C,error:I})});u.push(v)}}Promise.all(u).then(()=>{d()}).catch(f=>{this.reject(f)}),0===u.length&&d(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(Fe(Lb,8))},a.\u0275prov=sn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Ui=new si("AppId",{providedIn:"root",factory:function ra(){return`${no()}${no()}${no()}`}});function no(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const UM=new si("Platform Initializer"),Bb=new si("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),HM=new si("appBootstrapListener");let WF=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=sn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Bu=new si("LocaleId",{providedIn:"root",factory:()=>Dt(Bu,bt.Optional|bt.SkipSelf)||function UT(){return"undefined"!=typeof $localize&&$localize.locale||dm}()}),HT=new si("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class zT{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let jM=(()=>{class a{compileModuleSync(u){return new yT(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),g=Qo(Wt(u).declarations).reduce((v,C)=>{const I=pt(C);return I&&v.push(new mT(I)),v},[]);return new zT(d,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=sn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const GM=(()=>Promise.resolve(0))();function Ub(a){"undefined"==typeof Zone?GM.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class sa{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fl(!1),this.onMicrotaskEmpty=new Fl(!1),this.onStable=new Fl(!1),this.onError=new Fl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&u,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function $M(){let a=Kt.requestAnimationFrame,l=Kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function ZF(a){const l=()=>{!function qM(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Kt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,jb(a),a.isCheckStableRunning=!0,Hb(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),jb(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,f,g,v,C)=>{try{return GT(a),u.invokeTask(f,g,v,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&l(),$T(a)}},onInvoke:(u,d,f,g,v,C,I)=>{try{return GT(a),u.invoke(f,g,v,C,I)}finally{a.shouldCoalesceRunChangeDetection&&l(),$T(a)}},onHasTask:(u,d,f,g)=>{u.hasTask(f,g),d===f&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,jb(a),Hb(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,d,f,g)=>(u.handleError(f,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!sa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(sa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,u,d){return this._inner.run(l,u,d)}runTask(l,u,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,l,WM,ja,ja);try{return g.runTask(v,u,d)}finally{g.cancelTask(v)}}runGuarded(l,u,d){return this._inner.runGuarded(l,u,d)}runOutsideAngular(l){return this._outer.run(l)}}const WM={};function Hb(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function jb(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function GT(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function $T(a){a._nesting--,Hb(a)}class ZM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fl,this.onMicrotaskEmpty=new Fl,this.onStable=new Fl,this.onError=new Fl}run(l,u,d){return l.apply(u,d)}runGuarded(l,u,d){return l.apply(u,d)}runOutsideAngular(l){return l()}runTask(l,u,d,f){return l.apply(u,d)}}let WT=(()=>{class a{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{sa.assertNotInAngularZone(),Ub(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ub(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:f})}whenStable(u,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,d,f){return[]}}return a.\u0275fac=function(u){return new(u||a)(Fe(sa))},a.\u0275prov=sn({token:a,factory:a.\u0275fac}),a})(),YM=(()=>{class a{constructor(){this._applications=new Map,zb.addToWindow(this)}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return zb.findTestabilityInTree(this,u,d)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=sn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();class KM{addToWindow(l){}findTestabilityInTree(l,u,d){return null}}function QM(a){zb=a}let zb=new KM,Vu=null;const qT=new si("AllowMultipleToken"),ZT=new si("PlatformOnDestroy");class ek{constructor(l,u){this.name=l,this.token=u}}function YT(a,l,u=[]){const d=`Platform: ${l}`,f=new si(d);return(g=[])=>{let v=Gb();if(!v||v.injector.get(qT,!1)){const C=[...u,...g,{provide:f,useValue:!0}];a?a(C):function tk(a){if(Vu&&!Vu.get(qT,!1))throw new Me(400,"");Vu=a;const l=a.get(rk),u=a.get(UM,null);u&&u.forEach(d=>d())}(function ik(a=[],l){return ta.create({name:l,providers:[{provide:_v,useValue:"platform"},{provide:ZT,useValue:()=>Vu=null},...a]})}(C,d))}return function nk(a){const l=Gb();if(!l)throw new Me(401,"");return l}()}}function Gb(){var a;return null!==(a=null==Vu?void 0:Vu.get(rk))&&void 0!==a?a:null}let rk=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const C=function sk(a,l){let u;return u="noop"===a?new ZM:("zone.js"===a?void 0:a)||new sa({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),u}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),I=[{provide:sa,useValue:C}];return C.run(()=>{const x=ta.create({providers:I,parent:this.injector,name:u.moduleType.name}),O=u.create(x),z=O.injector.get(hf,null);if(!z)throw new Me(402,"");return C.runOutsideAngular(()=>{const ie=C.onError.subscribe({next:de=>{z.handleError(de)}});O.onDestroy(()=>{Hm(this._modules,O),ie.unsubscribe()})}),function ok(a,l,u){try{const d=u();return qv(d)?d.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(z,C,()=>{const ie=O.injector.get(Vm);return ie.runInitializers(),ie.donePromise.then(()=>(function dr(a){je(a,"Expected localeId to be defined"),"string"==typeof a&&(gb=a.toLowerCase().replace(/_/g,"-"))}(O.injector.get(Bu,dm)||dm),this._moduleDoBootstrap(O),O))})})}bootstrapModule(u,d=[]){const f=Um({},d);return function JM(a,l,u){const d=new yT(u);return Promise.resolve(d)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(u){const d=u.injector.get(za);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new Me(403,"");u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(ZT,null);null==u||u(),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(Fe(ta))},a.\u0275prov=sn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function Um(a,l){return Array.isArray(l)?l.reduce(Um,a):Object.assign(Object.assign({},a),l)}let za=(()=>{class a{constructor(u,d,f,g){this._zone=u,this._injector=d,this._exceptionHandler=f,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new k.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),C=new k.y(I=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{sa.assertNotInAngularZone(),Ub(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{sa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{x.unsubscribe(),O.unsubscribe()}});this.isStable=(0,q.T)(v,C.pipe((0,J.B)()))}bootstrap(u,d){if(!this._initStatus.done)throw new Me(405,"");let f;f=u instanceof QA?u:this._injector.get(Eb).resolveComponentFactory(u),this.componentTypes.push(f.componentType);const g=function XM(a){return a.isBoundToModule}(f)?void 0:this._injector.get(Zf),C=f.create(ta.NULL,[],d||f.selector,g),I=C.location.nativeElement,x=C.injector.get(WT,null),O=x&&C.injector.get(YM);return x&&O&&O.registerApplication(I,x),C.onDestroy(()=>{this.detachView(C.hostView),Hm(this.components,C),O&&O.unregisterApplication(I)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Me(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;Hm(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(HM,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(u){return new(u||a)(Fe(sa),Fe(ta),Fe(hf),Fe(Vm))},a.\u0275prov=sn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Hm(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let zm=!0,xs=!1;function KT(){return xs=!0,zm}function Wb(){if(xs)throw new Error("Cannot enable prod mode after platform setup.");zm=!1}let QF=(()=>{class a{}return a.__NG_ELEMENT_ID__=ck,a})();function ck(a){return function Uu(a,l,u){if(Wl(a)&&!u){const d=Mi(a.index,l);return new xm(d,d)}return 47&a.type?new xm(l[16],l):null}(Wn(),Ne(),16==(16&a))}class Kb{constructor(){}supports(l){return Au(l)}create(l){return new JT(l)}}const Nc=(a,l)=>l;class JT{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||Nc}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,d=this._removalsHead,f=0,g=null;for(;u||d;){const v=!d||u&&u.currentIndex<oh(d,f,g)?u:d,C=oh(v,f,g),I=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{g||(g=[]);const x=C-f,O=I-f;if(x!=O){for(let ie=0;ie<x;ie++){const de=ie<g.length?g[ie]:g[ie]=0,Ae=de+ie;O<=Ae&&Ae<x&&(g[ie]=de+1)}g[v.previousIndex]=O-x}}C!==I&&l(v,C,I)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!Au(l))throw new Me(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,g,v,u=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)g=l[C],v=this._trackByFn(C,g),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,g,v,C)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,v,C),d=!0),u=u._next}else f=0,function Fx(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[Rl()]();let d;for(;!(d=u.next()).done;)l(d.value)}}(l,C=>{v=this._trackByFn(f,C),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,C,v,f)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,v,f),d=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,d,f){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,g,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,g,f)):l=this._addAfter(new XT(u,d),g,f),l}_verifyReinsertion(l,u,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?l=this._reinsertAfter(g,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,g=l._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(l,u,d),this._addToMoves(l,d),l}_moveAfter(l,u,d){return this._unlink(l),this._insertAfter(l,u,d),this._addToMoves(l,d),l}_addAfter(l,u,d){return this._insertAfter(l,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,d){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new Fc),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,d=l._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Fc),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class XT{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $a{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const u=l._prevDup,d=l._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class Fc{constructor(){this.map=new Map}put(l){const u=l.trackById;let d=this.map.get(u);d||(d=new $a,this.map.set(u,d)),d.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oh(a,l,u){const d=a.previousIndex;if(null===d)return d;let f=0;return u&&d<u.length&&(f=u[d]),d+l+f}class eI{constructor(){}supports(l){return l instanceof Map||Mv(l)}create(){return new Qb}}class Qb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||Mv(l)))throw new Me(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(f,d);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const d=l._prev;return u._next=l,u._prev=d,l._prev=u,d&&(d._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new tI(l);return this._records.set(l,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(d=>u(l[d],d))}}class tI{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xf(){return new ah([new Kb])}let ah=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(null!=d){const f=d.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||Xf()),deps:[[a,new Ir,new Jr]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(null!=d)return d;throw new Me(901,"")}}return a.\u0275prov=sn({token:a,providedIn:"root",factory:Xf}),a})();function Zm(){return new Jb([new eI])}let Jb=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(d){const f=d.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||Zm()),deps:[[a,new Ir,new Jr]]}}find(u){const d=this.factories.find(g=>g.supports(u));if(d)return d;throw new Me(901,"")}}return a.\u0275prov=sn({token:a,providedIn:"root",factory:Zm}),a})();const Ym=YT(null,"core",[]);let Km=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(Fe(za))},a.\u0275mod=ve({type:a}),a.\u0275inj=hn({}),a})()},3942:(De,me,M)=>{"use strict";M.d(me,{Z:()=>Me});var o=M(2090),L=M(4859),k=M(9681),q=M(1877);class J{constructor(be,Ee){this._delegate=be,this.firebase=Ee,(0,k._addComponent)(be,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(be,Ee=k._DEFAULT_ENTRY_NAME){var ke;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(be);return!Be.isInitialized()&&"EXPLICIT"===(null===(ke=Be.getComponent())||void 0===ke?void 0:ke.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:Ee})}_removeServiceInstance(be,Ee=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(Ee)}_addComponent(be){(0,k._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,k._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Y=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function ce(){const Le=function ee(Le){const be={},Ee={__esModule:!0,initializeApp:function _e(K,ye={}){const N=k.initializeApp(K,ye);if((0,o.r3)(be,N.name))return be[N.name];const G=new Le(N,Ee);return be[N.name]=G,G},app:Be,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Re(K){const ye=K.name,N=ye.replace("-compat","");if(k._registerComponent(K)&&"PUBLIC"===K.type){const G=(W=Be())=>{if("function"!=typeof W[N])throw Y.create("invalid-app-argument",{appName:ye});return W[N]()};void 0!==K.serviceProps&&(0,o.ZB)(G,K.serviceProps),Ee[N]=G,Le.prototype[N]=function(...W){return this._getService.bind(this,ye).apply(this,K.multipleInstances?W:[])}}return"PUBLIC"===K.type?Ee[N]:null},removeApp:function ke(K){delete be[K]},useAsService:function tt(K,ye){return"serverAuth"===ye?null:ye},modularAPIs:k}};function Be(K){if(!(0,o.r3)(be,K=K||k._DEFAULT_ENTRY_NAME))throw Y.create("no-app",{appName:K});return be[K]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function We(){return Object.keys(be).map(K=>be[K])}}),Be.App=Le,Ee}(J);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function be(Ee){(0,o.ZB)(Le,Ee)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Le}(),V=new q.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=j;!function Se(Le){(0,k.registerVersion)("@firebase/app-compat","0.1.26",Le)}()},9681:(De,me,M)=>{"use strict";M.r(me),M.d(me,{FirebaseError:()=>q.ZR,SDK_VERSION:()=>Mr,_DEFAULT_ENTRY_NAME:()=>je,_addComponent:()=>Fn,_addOrOverwriteComponent:()=>sn,_apps:()=>yn,_clearComponents:()=>qr,_components:()=>Tt,_getProvider:()=>hn,_registerComponent:()=>$t,_removeServiceInstance:()=>Un,deleteApp:()=>bt,getApp:()=>Kn,getApps:()=>ps,initializeApp:()=>Zr,onLog:()=>cn,registerVersion:()=>Ln,setLogLevel:()=>Bi});var o=M(9671),L=M(4859),k=M(1877),q=M(2090),J=M(8766);class oe{constructor(fe){this.container=fe}getPlatformInfoString(){return this.container.getProviders().map(He=>{if(function Y(ne){const fe=ne.getComponent();return"VERSION"===(null==fe?void 0:fe.type)}(He)){const it=He.getImmediate();return`${it.library}/${it.version}`}return null}).filter(He=>He).join(" ")}}const ee="@firebase/app",j=new k.Yd("@firebase/app"),je="[DEFAULT]",ot={[ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yn=new Map,Tt=new Map;function Fn(ne,fe){try{ne.container.addComponent(fe)}catch(He){j.debug(`Component ${fe.name} failed to register with FirebaseApp ${ne.name}`,He)}}function sn(ne,fe){ne.container.addOrOverwriteComponent(fe)}function $t(ne){const fe=ne.name;if(Tt.has(fe))return j.debug(`There were multiple attempts to register component ${fe}.`),!1;Tt.set(fe,ne);for(const He of yn.values())Fn(He,ne);return!0}function hn(ne,fe){const He=ne.container.getProvider("heartbeat").getImmediate({optional:!0});return He&&He.triggerHeartbeat(),ne.container.getProvider(fe)}function Un(ne,fe,He=je){hn(ne,fe).clearInstance(He)}function qr(){Tt.clear()}const zn=new q.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class fs{constructor(fe,He,it){this._isDeleted=!1,this._options=Object.assign({},fe),this._config=Object.assign({},He),this._name=He.name,this._automaticDataCollectionEnabled=He.automaticDataCollectionEnabled,this._container=it,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(fe){this._isDeleted=fe}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}const Mr="9.8.2";function Zr(ne,fe={}){"object"!=typeof fe&&(fe={name:fe});const He=Object.assign({name:je,automaticDataCollectionEnabled:!1},fe),it=He.name;if("string"!=typeof it||!it)throw zn.create("bad-app-name",{appName:String(it)});const vt=yn.get(it);if(vt){if((0,q.vZ)(ne,vt.options)&&(0,q.vZ)(He,vt.config))return vt;throw zn.create("duplicate-app",{appName:it})}const Nt=new L.H0(it);for(const It of Tt.values())Nt.addComponent(It);const mn=new fs(ne,He,Nt);return yn.set(it,mn),mn}function Kn(ne=je){const fe=yn.get(ne);if(!fe)throw zn.create("no-app",{appName:ne});return fe}function ps(){return Array.from(yn.values())}function bt(ne){return er.apply(this,arguments)}function er(){return(er=(0,o.Z)(function*(ne){const fe=ne.name;yn.has(fe)&&(yn.delete(fe),yield Promise.all(ne.container.getProviders().map(He=>He.delete())),ne.isDeleted=!0)})).apply(this,arguments)}function Ln(ne,fe,He){var it;let vt=null!==(it=ot[ne])&&void 0!==it?it:ne;He&&(vt+=`-${He}`);const Nt=vt.match(/\s|\//),mn=fe.match(/\s|\//);if(Nt||mn){const It=[`Unable to register library "${vt}" with version "${fe}":`];return Nt&&It.push(`library name "${vt}" contains illegal characters (whitespace or "/")`),Nt&&mn&&It.push("and"),mn&&It.push(`version name "${fe}" contains illegal characters (whitespace or "/")`),void j.warn(It.join(" "))}$t(new L.wA(`${vt}-version`,()=>({library:vt,version:fe}),"VERSION"))}function cn(ne,fe){if(null!==ne&&"function"!=typeof ne)throw zn.create("invalid-log-argument");(0,k.Am)(ne,fe)}function Bi(ne){(0,k.Ub)(ne)}const Bn="firebase-heartbeat-store";let bi=null;function Ps(){return bi||(bi=(0,J.X3)("firebase-heartbeat-database",1,{upgrade:(ne,fe)=>{0===fe&&ne.createObjectStore(Bn)}}).catch(ne=>{throw zn.create("storage-open",{originalErrorMessage:ne.message})})),bi}function mt(){return(mt=(0,o.Z)(function*(ne){try{return(yield Ps()).transaction(Bn).objectStore(Bn).get(Rr(ne))}catch(fe){throw zn.create("storage-get",{originalErrorMessage:fe.message})}})).apply(this,arguments)}function ct(ne,fe){return kr.apply(this,arguments)}function kr(){return(kr=(0,o.Z)(function*(ne,fe){try{const it=(yield Ps()).transaction(Bn,"readwrite");return yield it.objectStore(Bn).put(fe,Rr(ne)),it.done}catch(He){throw zn.create("storage-set",{originalErrorMessage:He.message})}})).apply(this,arguments)}function Rr(ne){return`${ne.name}!${ne.options.appId}`}class Qn{constructor(fe){this.container=fe,this._heartbeatsCache=null;const He=this.container.getProvider("app").getImmediate();this._storage=new re(He),this._heartbeatsCachePromise=this._storage.read().then(it=>(this._heartbeatsCache=it,it))}triggerHeartbeat(){var fe=this;return(0,o.Z)(function*(){const it=fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vt=vn();if(null===fe._heartbeatsCache&&(fe._heartbeatsCache=yield fe._heartbeatsCachePromise),fe._heartbeatsCache.lastSentHeartbeatDate!==vt&&!fe._heartbeatsCache.heartbeats.some(Nt=>Nt.date===vt))return fe._heartbeatsCache.heartbeats.push({date:vt,agent:it}),fe._heartbeatsCache.heartbeats=fe._heartbeatsCache.heartbeats.filter(Nt=>{const mn=new Date(Nt.date).valueOf();return Date.now()-mn<=2592e6}),fe._storage.overwrite(fe._heartbeatsCache)})()}getHeartbeatsHeader(){var fe=this;return(0,o.Z)(function*(){if(null===fe._heartbeatsCache&&(yield fe._heartbeatsCachePromise),null===fe._heartbeatsCache||0===fe._heartbeatsCache.heartbeats.length)return"";const He=vn(),{heartbeatsToSend:it,unsentEntries:vt}=function Q(ne,fe=1024){const He=[];let it=ne.slice();for(const vt of ne){const Nt=He.find(mn=>mn.agent===vt.agent);if(Nt){if(Nt.dates.push(vt.date),le(He)>fe){Nt.dates.pop();break}}else if(He.push({agent:vt.agent,dates:[vt.date]}),le(He)>fe){He.pop();break}it=it.slice(1)}return{heartbeatsToSend:He,unsentEntries:it}}(fe._heartbeatsCache.heartbeats),Nt=(0,q.L)(JSON.stringify({version:2,heartbeats:it}));return fe._heartbeatsCache.lastSentHeartbeatDate=He,vt.length>0?(fe._heartbeatsCache.heartbeats=vt,yield fe._storage.overwrite(fe._heartbeatsCache)):(fe._heartbeatsCache.heartbeats=[],fe._storage.overwrite(fe._heartbeatsCache)),Nt})()}}function vn(){return(new Date).toISOString().substring(0,10)}class re{constructor(fe){this.app=fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,q.hl)()&&(0,q.eu)().then(()=>!0).catch(()=>!1)})()}read(){var fe=this;return(0,o.Z)(function*(){return(yield fe._canUseIndexedDBPromise)&&(yield function Yt(ne){return mt.apply(this,arguments)}(fe.app))||{heartbeats:[]}})()}overwrite(fe){var He=this;return(0,o.Z)(function*(){var it;if(yield He._canUseIndexedDBPromise){const Nt=yield He.read();return ct(He.app,{lastSentHeartbeatDate:null!==(it=fe.lastSentHeartbeatDate)&&void 0!==it?it:Nt.lastSentHeartbeatDate,heartbeats:fe.heartbeats})}})()}add(fe){var He=this;return(0,o.Z)(function*(){var it;if(yield He._canUseIndexedDBPromise){const Nt=yield He.read();return ct(He.app,{lastSentHeartbeatDate:null!==(it=fe.lastSentHeartbeatDate)&&void 0!==it?it:Nt.lastSentHeartbeatDate,heartbeats:[...Nt.heartbeats,...fe.heartbeats]})}})()}}function le(ne){return(0,q.L)(JSON.stringify({version:2,heartbeats:ne})).length}!function xe(ne){$t(new L.wA("platform-logger",fe=>new oe(fe),"PRIVATE")),$t(new L.wA("heartbeat",fe=>new Qn(fe),"PRIVATE")),Ln(ee,"0.7.25",ne),Ln(ee,"0.7.25","esm2017"),Ln("fire-js","")}("")},4859:(De,me,M)=>{"use strict";M.d(me,{H0:()=>ee,wA:()=>k,zt:()=>J});var o=M(9671),L=M(2090);class k{constructor(j,V,$){this.name=j,this.instanceFactory=V,this.type=$,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const q="[DEFAULT]";class J{constructor(j,V){this.name=j,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const V=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(V)){const $=new L.BH;if(this.instancesDeferred.set(V,$),this.isInitialized(V)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:V});Oe&&$.resolve(Oe)}catch(Oe){}}return this.instancesDeferred.get(V).promise}getImmediate(j){var V;const $=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),Oe=null!==(V=null==j?void 0:j.optional)&&void 0!==V&&V;if(!this.isInitialized($)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:$})}catch(Se){if(Oe)return null;throw Se}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function Y(ce){return"EAGER"===ce.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:q})}catch(V){}for(const[V,$]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(V);try{const Se=this.getOrInitializeService({instanceIdentifier:Oe});$.resolve(Se)}catch(Se){}}}}clearInstance(j=q){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,o.Z)(function*(){const V=Array.from(j.instances.values());yield Promise.all([...V.filter($=>"INTERNAL"in $).map($=>$.INTERNAL.delete()),...V.filter($=>"_delete"in $).map($=>$._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=q){return this.instances.has(j)}getOptions(j=q){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:V={}}=j,$=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized($))throw Error(`${this.name}(${$}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:$,options:V});for(const[Se,Me]of this.instancesDeferred.entries())$===this.normalizeInstanceIdentifier(Se)&&Me.resolve(Oe);return Oe}onInit(j,V){var $;const Oe=this.normalizeInstanceIdentifier(V),Se=null!==($=this.onInitCallbacks.get(Oe))&&void 0!==$?$:new Set;Se.add(j),this.onInitCallbacks.set(Oe,Se);const Me=this.instances.get(Oe);return Me&&j(Me,Oe),()=>{Se.delete(j)}}invokeOnInitCallbacks(j,V){const $=this.onInitCallbacks.get(V);if($)for(const Oe of $)try{Oe(j,V)}catch(Se){}}getOrInitializeService({instanceIdentifier:j,options:V={}}){let $=this.instances.get(j);if(!$&&this.component&&($=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=j,ce===q?void 0:ce),options:V}),this.instances.set(j,$),this.instancesOptions.set(j,V),this.invokeOnInitCallbacks($,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,$)}catch(Oe){}var ce;return $||null}normalizeInstanceIdentifier(j=q){return this.component?this.component.multipleInstances?j:q:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ee{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const V=this.getProvider(j.name);if(V.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);V.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const V=new J(j,this);return this.providers.set(j,V),V}getProviders(){return Array.from(this.providers.values())}}},1877:(De,me,M)=>{"use strict";M.d(me,{Am:()=>ce,Ub:()=>ee,Yd:()=>Y,in:()=>L});const o=[];var L=(()=>{return(j=L||(L={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",L;var j})();const k={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},q=L.INFO,J={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},oe=(j,V,...$)=>{if(V<j.logLevel)return;const Oe=(new Date).toISOString(),Se=J[V];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[Se](`[${Oe}]  ${j.name}:`,...$)};class Y{constructor(V){this.name=V,this._logLevel=q,this._logHandler=oe,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in L))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?k[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...V),this._logHandler(this,L.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...V),this._logHandler(this,L.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,L.INFO,...V),this._logHandler(this,L.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,L.WARN,...V),this._logHandler(this,L.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...V),this._logHandler(this,L.ERROR,...V)}}function ee(j){o.forEach(V=>{V.setLogLevel(j)})}function ce(j,V){for(const $ of o){let Oe=null;V&&V.level&&(Oe=k[V.level]),$.userLogHandler=null===j?null:(Se,Me,...Le)=>{const be=Le.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch(ke){return null}}).filter(Ee=>Ee).join(" ");Me>=(null!=Oe?Oe:Se.logLevel)&&j({level:L[Me].toLowerCase(),message:be,args:Le,type:Se.name})}}}},8766:(De,me,M)=>{"use strict";M.d(me,{Lj:()=>_e,X3:()=>Be});var o=M(9671);let k,q;const Y=new WeakMap,ee=new WeakMap,ce=new WeakMap,j=new WeakMap,V=new WeakMap;let Se={get(ye,N,G){if(ye instanceof IDBTransaction){if("done"===N)return ee.get(ye);if("objectStoreNames"===N)return ye.objectStoreNames||ce.get(ye);if("store"===N)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return Ee(ye[N])},set:(ye,N,G)=>(ye[N]=G,!0),has:(ye,N)=>ye instanceof IDBTransaction&&("done"===N||"store"===N)||N in ye};function be(ye){return"function"==typeof ye?function Le(ye){return ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oe(){return q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ye)?function(...N){return ye.apply(ke(this),N),Ee(Y.get(this))}:function(...N){return Ee(ye.apply(ke(this),N))}:function(N,...G){const W=ye.call(ke(this),N,...G);return ce.set(W,N.sort?N.sort():[N]),Ee(W)}}(ye):(ye instanceof IDBTransaction&&function Oe(ye){if(ee.has(ye))return;const N=new Promise((G,W)=>{const te=()=>{ye.removeEventListener("complete",pe),ye.removeEventListener("error",X),ye.removeEventListener("abort",X)},pe=()=>{G(),te()},X=()=>{W(ye.error||new DOMException("AbortError","AbortError")),te()};ye.addEventListener("complete",pe),ye.addEventListener("error",X),ye.addEventListener("abort",X)});ee.set(ye,N)}(ye),((ye,N)=>N.some(G=>ye instanceof G))(ye,function J(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ye,Se):ye)}function Ee(ye){if(ye instanceof IDBRequest)return function $(ye){const N=new Promise((G,W)=>{const te=()=>{ye.removeEventListener("success",pe),ye.removeEventListener("error",X)},pe=()=>{G(Ee(ye.result)),te()},X=()=>{W(ye.error),te()};ye.addEventListener("success",pe),ye.addEventListener("error",X)});return N.then(G=>{G instanceof IDBCursor&&Y.set(G,ye)}).catch(()=>{}),V.set(N,ye),N}(ye);if(j.has(ye))return j.get(ye);const N=be(ye);return N!==ye&&(j.set(ye,N),V.set(N,ye)),N}const ke=ye=>V.get(ye);function Be(ye,N,{blocked:G,upgrade:W,blocking:te,terminated:pe}={}){const X=indexedDB.open(ye,N),Ge=Ee(X);return W&&X.addEventListener("upgradeneeded",dt=>{W(Ee(X.result),dt.oldVersion,dt.newVersion,Ee(X.transaction))}),G&&X.addEventListener("blocked",()=>G()),Ge.then(dt=>{pe&&dt.addEventListener("close",()=>pe()),te&&dt.addEventListener("versionchange",()=>te())}).catch(()=>{}),Ge}function _e(ye,{blocked:N}={}){const G=indexedDB.deleteDatabase(ye);return N&&G.addEventListener("blocked",()=>N()),Ee(G).then(()=>{})}const We=["get","getKey","getAll","getAllKeys","count"],Re=["put","add","delete","clear"],tt=new Map;function K(ye,N){if(!(ye instanceof IDBDatabase)||N in ye||"string"!=typeof N)return;if(tt.get(N))return tt.get(N);const G=N.replace(/FromIndex$/,""),W=N!==G,te=Re.includes(G);if(!(G in(W?IDBIndex:IDBObjectStore).prototype)||!te&&!We.includes(G))return;const pe=function(){var X=(0,o.Z)(function*(Ge,...dt){const dn=this.transaction(Ge,te?"readwrite":"readonly");let je=dn.store;return W&&(je=je.index(dt.shift())),(yield Promise.all([je[G](...dt),te&&dn.done]))[0]});return function(dt){return X.apply(this,arguments)}}();return tt.set(N,pe),pe}!function Me(ye){Se=ye(Se)}(ye=>AG(xG({},ye),{get:(N,G,W)=>K(N,G)||ye.get(N,G,W),has:(N,G)=>!!K(N,G)||ye.has(N,G)}))}},De=>{De(De.s=577)}]);