var y9=Object.defineProperty,v9=Object.defineProperties,b9=Object.getOwnPropertyDescriptors,KG=Object.getOwnPropertySymbols,w9=Object.prototype.hasOwnProperty,E9=Object.prototype.propertyIsEnumerable,YG=(Ae,ye,R)=>ye in Ae?y9(Ae,ye,{enumerable:!0,configurable:!0,writable:!0,value:R}):Ae[ye]=R,ZG=(Ae,ye)=>{for(var R in ye||(ye={}))w9.call(ye,R)&&YG(Ae,R,ye[R]);if(KG)for(var R of KG(ye))E9.call(ye,R)&&YG(Ae,R,ye[R]);return Ae},QG=(Ae,ye)=>v9(Ae,b9(ye));(self.webpackChunklomi_material=self.webpackChunklomi_material||[]).push([[179],{2011:(Ae,ye,R)=>{"use strict";R.d(ye,{Dh:()=>ne,GT:()=>le,cc:()=>Me,hO:()=>Ne,on:()=>H,pX:()=>ee,xv:()=>ce});var c=R(5e3),B=R(127),k=R(5813);Ae=R.hmd(Ae);const K=["ngOnDestroy"],ee=(Ce,Oe,je,ve={})=>new Proxy(Ce,{get:(Ke,Pe)=>je.runOutsideAngular(()=>{var Je;if(Ce[Pe])return(null===(Je=null==ve?void 0:ve.spy)||void 0===Je?void 0:Je.get)&&ve.spy.get(Pe,Ce[Pe]),Ce[Pe];if(K.indexOf(Pe)>-1)return()=>{};const X=Oe.toPromise().then(be=>{const F=be&&be[Pe];return"function"==typeof F?F.bind(be):F&&F.then?F.then($=>je.run(()=>$)):je.run(()=>F)});return new Proxy(()=>{},{get:(be,F)=>X[F],apply:(be,F,$)=>X.then(q=>{var re;const me=q&&q(...$);return(null===(re=null==ve?void 0:ve.spy)||void 0===re?void 0:re.apply)&&ve.spy.apply(Pe,$,me),me})})})}),le=(Ce,Oe)=>{Oe.forEach(je=>{Object.getOwnPropertyNames(je.prototype||je).forEach(ve=>{Object.defineProperty(Ce.prototype,ve,Object.getOwnPropertyDescriptor(je.prototype||je,ve))})})};class Q{constructor(Oe){return Oe}}const ne=new c.OlP("angularfire2.app.options"),ce=new c.OlP("angularfire2.app.name");function H(Ce,Oe,je){const Ke="object"==typeof je&&je||{};Ke.name=Ke.name||"string"==typeof je&&je||"[DEFAULT]";const Je=B.Z.apps.filter(X=>X&&X.name===Ke.name)[0]||Oe.runOutsideAngular(()=>B.Z.initializeApp(Ce,Ke));try{JSON.stringify(Ce)!==JSON.stringify(Je.options)&&U("error",`${Je.name} Firebase App already initialized with different options${Ae.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(X){}return new Q(Je)}const U=(Ce,...Oe)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ce](...Oe)},W={provide:Q,useFactory:H,deps:[ne,c.R0b,[new c.FiY,ce]]};let Ne=(()=>{class Ce{constructor(je){B.Z.registerVersion("angularfire",k.q4.full,"core"),B.Z.registerVersion("angularfire",k.q4.full,"app-compat"),B.Z.registerVersion("angular",c.q4F.full,je.toString())}static initializeApp(je,ve){return{ngModule:Ce,providers:[{provide:ne,useValue:je},{provide:ce,useValue:ve}]}}}return Ce.\u0275fac=function(je){return new(je||Ce)(c.LFG(c.Lbi))},Ce.\u0275mod=c.oAB({type:Ce}),Ce.\u0275inj=c.cJS({providers:[W]}),Ce})();function Me(Ce,Oe,je,ve,Ke){const[,Pe,Je]=globalThis.\u0275AngularfireInstanceCache.find(X=>X[0]===Ce)||[];if(Pe)return function ke(Ce,Oe){try{return Ce.toString()===Oe.toString()}catch(je){return Ce===Oe}}(Ke,Je)||(Ee("error",`${Oe} was already initialized on the ${je} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),Ee("warn",{is:Ke,was:Je})),Pe;{const X=ve();return globalThis.\u0275AngularfireInstanceCache.push([Ce,X,Ke]),X}}const Be=!!Ae.hot,Ee=(Ce,...Oe)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ce](...Oe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Ae,ye,R)=>{"use strict";R.d(ye,{q4:()=>ma,iC:()=>dl,fc:()=>R_,HU:()=>Zc,vb:()=>Zp,JM:()=>Uu,u3:()=>Bh});var c=R(5e3),B=R(7835),k=R(9671),K=R(9681),ee=R(2090),le=R(4859),Q=R(1877),ne=R(8766);const ce="@firebase/installations",H="0.5.9",W=`w:${H}`,Ne="FIS_v2",Oe=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function je(D){return D instanceof ee.ZR&&D.code.includes("request-failed")}function ve({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Ke(D){return{token:D.token,requestStatus:2,expiresIn:q(D.expiresIn),creationTime:Date.now()}}function Pe(D,S){return Je.apply(this,arguments)}function Je(){return(Je=(0,k.Z)(function*(D,S){const Y=(yield S.json()).error;return Oe.create("request-failed",{requestName:D,serverCode:Y.code,serverMessage:Y.message,serverStatus:Y.status})})).apply(this,arguments)}function X({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function be(D,{refreshToken:S}){const N=X(D);return N.append("Authorization",function re(D){return`${Ne} ${D}`}(S)),N}function F(D){return $.apply(this,arguments)}function $(){return($=(0,k.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function q(D){return Number(D.replace("s","000"))}function me(D,S){return te.apply(this,arguments)}function te(){return(te=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:S},{fid:N}){const Y=ve(D),fe=X(D),Ie=S.getImmediate({optional:!0});if(Ie){const Mt=yield Ie.getHeartbeatsHeader();Mt&&fe.append("x-firebase-client",Mt)}const dt={method:"POST",headers:fe,body:JSON.stringify({fid:N,authVersion:Ne,appId:D.appId,sdkVersion:W})},Rt=yield F(()=>fetch(Y,dt));if(Rt.ok){const Mt=yield Rt.json();return{fid:Mt.fid||N,registrationStatus:2,refreshToken:Mt.refreshToken,authToken:Ke(Mt.authToken)}}throw yield Pe("Create Installation",Rt)})).apply(this,arguments)}function We(D){return new Promise(S=>{setTimeout(S,D)})}const pn=/^[cdef][\w-]{21}$/;function lt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const N=function vn(D){return function ft(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return pn.test(N)?N:""}catch(D){return""}}function Tt(D){return`${D.appName}!${D.appId}`}const kn=new Map;function un(D,S){const N=Tt(D);Fn(N,S),function Ui(D,S){const N=function Un(){return!Lr&&"BroadcastChannel"in self&&(Lr=new BroadcastChannel("[Firebase] FID Change"),Lr.onmessage=D=>{Fn(D.data.key,D.data.fid)}),Lr}();N&&N.postMessage({key:D,fid:S}),function is(){0===kn.size&&Lr&&(Lr.close(),Lr=null)}()}(N,S)}function Fn(D,S){const N=kn.get(D);if(N)for(const Y of N)Y(S)}let Lr=null;const zn="firebase-installations-store";let ss=null;function Ct(){return ss||(ss=(0,ne.X3)("firebase-installations-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore(zn)}})),ss}function qr(D,S){return On.apply(this,arguments)}function On(){return(On=(0,k.Z)(function*(D,S){const N=Tt(D),fe=(yield Ct()).transaction(zn,"readwrite"),Ie=fe.objectStore(zn),Ue=yield Ie.get(N);return yield Ie.put(S,N),yield fe.done,(!Ue||Ue.fid!==S.fid)&&un(D,S.fid),S})).apply(this,arguments)}function hn(D){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,k.Z)(function*(D){const S=Tt(D),Y=(yield Ct()).transaction(zn,"readwrite");yield Y.objectStore(zn).delete(S),yield Y.done})).apply(this,arguments)}function sr(D,S){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,k.Z)(function*(D,S){const N=Tt(D),fe=(yield Ct()).transaction(zn,"readwrite"),Ie=fe.objectStore(zn),Ue=yield Ie.get(N),dt=S(Ue);return void 0===dt?yield Ie.delete(N):yield Ie.put(dt,N),yield fe.done,dt&&(!Ue||Ue.fid!==dt.fid)&&un(D,dt.fid),dt})).apply(this,arguments)}function Pn(D){return or.apply(this,arguments)}function or(){return(or=(0,k.Z)(function*(D){let S;const N=yield sr(D.appConfig,Y=>{const fe=ws(Y),Ie=Zt(D,fe);return S=Ie.registrationPromise,Ie.installationEntry});return""===N.fid?{installationEntry:yield S}:{installationEntry:N,registrationPromise:S}})).apply(this,arguments)}function ws(D){return os(D||{fid:lt(),registrationStatus:0})}function Zt(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(Oe.create("app-offline"))};const N={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},Y=function yt(D,S){return ht.apply(this,arguments)}(D,N);return{installationEntry:N,registrationPromise:Y}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:_i(D)}:{installationEntry:S}}function ht(){return(ht=(0,k.Z)(function*(D,S){try{const N=yield me(D,S);return qr(D.appConfig,N)}catch(N){throw je(N)&&409===N.customData.serverCode?yield hn(D.appConfig):yield qr(D.appConfig,{fid:S.fid,registrationStatus:0}),N}})).apply(this,arguments)}function _i(D){return yi.apply(this,arguments)}function yi(){return(yi=(0,k.Z)(function*(D){let S=yield Qt(D.appConfig);for(;1===S.registrationStatus;)yield We(100),S=yield Qt(D.appConfig);if(0===S.registrationStatus){const{installationEntry:N,registrationPromise:Y}=yield Pn(D);return Y||N}return S})).apply(this,arguments)}function Qt(D){return sr(D,S=>{if(!S)throw Oe.create("installation-not-found");return os(S)})}function os(D){return function $n(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function bn(D,S){return J.apply(this,arguments)}function J(){return(J=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:S},N){const Y=oe(D,N),fe=be(D,N),Ie=S.getImmediate({optional:!0});if(Ie){const Mt=yield Ie.getHeartbeatsHeader();Mt&&fe.append("x-firebase-client",Mt)}const dt={method:"POST",headers:fe,body:JSON.stringify({installation:{sdkVersion:W,appId:D.appId}})},Rt=yield F(()=>fetch(Y,dt));if(Rt.ok)return Ke(yield Rt.json());throw yield Pe("Generate Auth Token",Rt)})).apply(this,arguments)}function oe(D,{fid:S}){return`${ve(D)}/${S}/authTokens:generate`}function ue(D){return xe.apply(this,arguments)}function xe(){return(xe=(0,k.Z)(function*(D,S=!1){let N;const Y=yield sr(D.appConfig,Ie=>{if(!Lt(Ie))throw Oe.create("not-registered");const Ue=Ie.authToken;if(!S&&mn(Ue))return Ie;if(1===Ue.requestStatus)return N=se(D,S),Ie;{if(!navigator.onLine)throw Oe.create("app-offline");const dt=nr(Ie);return N=et(D,dt),dt}});return N?yield N:Y.authToken})).apply(this,arguments)}function se(D,S){return pe.apply(this,arguments)}function pe(){return(pe=(0,k.Z)(function*(D,S){let N=yield He(D.appConfig);for(;1===N.authToken.requestStatus;)yield We(100),N=yield He(D.appConfig);const Y=N.authToken;return 0===Y.requestStatus?ue(D,S):Y})).apply(this,arguments)}function He(D){return sr(D,S=>{if(!Lt(S))throw Oe.create("not-registered");return function we(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function et(D,S){return wt.apply(this,arguments)}function wt(){return(wt=(0,k.Z)(function*(D,S){try{const N=yield bn(D,S),Y=Object.assign(Object.assign({},S),{authToken:N});return yield qr(D.appConfig,Y),N}catch(N){if(!je(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const Y=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield qr(D.appConfig,Y)}else yield hn(D.appConfig);throw N}})).apply(this,arguments)}function Lt(D){return void 0!==D&&2===D.registrationStatus}function mn(D){return 2===D.requestStatus&&!function Dt(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+36e5}(D)}function nr(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}function ae(){return(ae=(0,k.Z)(function*(D){const S=D,{installationEntry:N,registrationPromise:Y}=yield Pn(S);return Y?Y.catch(console.error):ue(S).catch(console.error),N.fid})).apply(this,arguments)}function Qe(){return(Qe=(0,k.Z)(function*(D,S=!1){const N=D;return yield _t(N),(yield ue(N,S)).token})).apply(this,arguments)}function _t(D){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,k.Z)(function*(D){const{registrationPromise:S}=yield Pn(D);S&&(yield S)})).apply(this,arguments)}function Na(D){return Oe.create("missing-app-config-values",{valueName:D})}const si="installations",$t=D=>{const S=D.getProvider("app").getImmediate(),N=function _r(D){if(!D||!D.options)throw Na("App Configuration");if(!D.name)throw Na("App Name");const S=["projectId","apiKey","appId"];for(const N of S)if(!D.options[N])throw Na(N);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S);return{app:S,appConfig:N,heartbeatServiceProvider:(0,K._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},xn=D=>{const S=D.getProvider("app").getImmediate(),N=(0,K._getProvider)(S,si).getImmediate();return{getId:()=>function de(D){return ae.apply(this,arguments)}(N),getToken:fe=>function Fe(D){return Qe.apply(this,arguments)}(N,fe)}};(function Yr(){(0,K._registerComponent)(new le.wA(si,$t,"PUBLIC")),(0,K._registerComponent)(new le.wA("installations-internal",xn,"PRIVATE"))})(),(0,K.registerVersion)(ce,H),(0,K.registerVersion)(ce,H,"esm2017");const Es="@firebase/remote-config",Wn=new ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ac{constructor(S,N,Y,fe){this.client=S,this.storage=N,this.storageCache=Y,this.logger=fe}isCachedDataFresh(S,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Y=Date.now()-N,fe=Y<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Y}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${fe}.`),fe}fetch(S){var N=this;return(0,k.Z)(function*(){const[Y,fe]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(fe&&N.isCachedDataFresh(S.cacheMaxAgeMillis,Y))return fe;S.eTag=fe&&fe.eTag;const Ie=yield N.client.fetch(S),Ue=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ie.status&&Ue.push(N.storage.setLastSuccessfulFetchResponse(Ie)),yield Promise.all(Ue),Ie})()}}function Fl(D=navigator){return D.languages&&D.languages[0]||D.language}class rr{constructor(S,N,Y,fe,Ie,Ue){this.firebaseInstallations=S,this.sdkVersion=N,this.namespace=Y,this.projectId=fe,this.apiKey=Ie,this.appId=Ue}fetch(S){var N=this;return(0,k.Z)(function*(){const[Y,fe]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),Ue=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,dt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},Rt={sdk_version:N.sdkVersion,app_instance_id:Y,app_instance_id_token:fe,app_id:N.appId,language_code:Fl()},Mt={method:"POST",headers:dt,body:JSON.stringify(Rt)},Jt=fetch(Ue,Mt),Bt=new Promise((hs,ya)=>{S.signal.addEventListener(()=>{const ju=new Error("The operation was aborted.");ju.name="AbortError",ya(ju)})});let di;try{yield Promise.race([Jt,Bt]),di=yield Jt}catch(hs){let ya="fetch-client-network";throw"AbortError"===hs.name&&(ya="fetch-timeout"),Wn.create(ya,{originalErrorMessage:hs.message})}let ur=di.status;const lo=di.headers.get("ETag")||void 0;let Fo,Lo;if(200===di.status){let hs;try{hs=yield di.json()}catch(ya){throw Wn.create("fetch-client-parse",{originalErrorMessage:ya.message})}Fo=hs.entries,Lo=hs.state}if("INSTANCE_STATE_UNSPECIFIED"===Lo?ur=500:"NO_CHANGE"===Lo?ur=304:("NO_TEMPLATE"===Lo||"EMPTY_CONFIG"===Lo)&&(Fo={}),304!==ur&&200!==ur)throw Wn.create("fetch-status",{httpStatus:ur});return{status:ur,eTag:lo,config:Fo}})()}}class Is{constructor(S,N){this.client=S,this.storage=N}fetch(S){var N=this;return(0,k.Z)(function*(){const Y=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(S,Y)})()}attemptFetch(S,{throttleEndTimeMillis:N,backoffCount:Y}){var fe=this;return(0,k.Z)(function*(){yield function Mc(D,S){return new Promise((N,Y)=>{const fe=Math.max(S-Date.now(),0),Ie=setTimeout(N,fe);D.addEventListener(()=>{clearTimeout(Ie),Y(Wn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,N);try{const Ie=yield fe.client.fetch(S);return yield fe.storage.deleteThrottleMetadata(),Ie}catch(Ie){if(!function Fp(D){if(!(D instanceof ee.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(Ie))throw Ie;const Ue={throttleEndTimeMillis:Date.now()+(0,ee.$s)(Y),backoffCount:Y+1};return yield fe.storage.setThrottleMetadata(Ue),fe.attemptFetch(S,Ue)}})()}}class Vp{constructor(S,N,Y,fe,Ie){this.app=S,this._client=N,this._storageCache=Y,this._storage=fe,this._logger=Ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Fa(D,S){const N=D.target.error||void 0;return Wn.create(S,{originalErrorMessage:N&&N.message})}const ia="app_namespace_store";class kc{constructor(S,N,Y,fe=function Up(){return new Promise((D,S)=>{try{const N=indexedDB.open("firebase_remote_config",1);N.onerror=Y=>{S(Fa(Y,"storage-open"))},N.onsuccess=Y=>{D(Y.target.result)},N.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(ia,{keyPath:"compositeKey"})}}catch(N){S(Wn.create("storage-open",{originalErrorMessage:N}))}})}()){this.appId=S,this.appName=N,this.namespace=Y,this.openDbPromise=fe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var N=this;return(0,k.Z)(function*(){const Y=yield N.openDbPromise;return new Promise((fe,Ie)=>{const dt=Y.transaction([ia],"readonly").objectStore(ia),Rt=N.createCompositeKey(S);try{const Mt=dt.get(Rt);Mt.onerror=Jt=>{Ie(Fa(Jt,"storage-get"))},Mt.onsuccess=Jt=>{const Bt=Jt.target.result;fe(Bt?Bt.value:void 0)}}catch(Mt){Ie(Wn.create("storage-get",{originalErrorMessage:Mt&&Mt.message}))}})})()}set(S,N){var Y=this;return(0,k.Z)(function*(){const fe=yield Y.openDbPromise;return new Promise((Ie,Ue)=>{const Rt=fe.transaction([ia],"readwrite").objectStore(ia),Mt=Y.createCompositeKey(S);try{const Jt=Rt.put({compositeKey:Mt,value:N});Jt.onerror=Bt=>{Ue(Fa(Bt,"storage-set"))},Jt.onsuccess=()=>{Ie()}}catch(Jt){Ue(Wn.create("storage-set",{originalErrorMessage:Jt&&Jt.message}))}})})()}delete(S){var N=this;return(0,k.Z)(function*(){const Y=yield N.openDbPromise;return new Promise((fe,Ie)=>{const dt=Y.transaction([ia],"readwrite").objectStore(ia),Rt=N.createCompositeKey(S);try{const Mt=dt.delete(Rt);Mt.onerror=Jt=>{Ie(Fa(Jt,"storage-delete"))},Mt.onsuccess=()=>{fe()}}catch(Mt){Ie(Wn.create("storage-delete",{originalErrorMessage:Mt&&Mt.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class sa{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,k.Z)(function*(){const N=S.storage.getLastFetchStatus(),Y=S.storage.getLastSuccessfulFetchTimestampMillis(),fe=S.storage.getActiveConfig(),Ie=yield N;Ie&&(S.lastFetchStatus=Ie);const Ue=yield Y;Ue&&(S.lastSuccessfulFetchTimestampMillis=Ue);const dt=yield fe;dt&&(S.activeConfig=dt)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function I_(){return La.apply(this,arguments)}function La(){return(La=(0,k.Z)(function*(){if(!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch(D){return!1}})).apply(this,arguments)}!function jp(){(0,K._registerComponent)(new le.wA("remote-config",function D(S,{instanceIdentifier:N}){const Y=S.getProvider("app").getImmediate(),fe=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Wn.create("registration-window");if(!(0,ee.hl)())throw Wn.create("indexed-db-unavailable");const{projectId:Ie,apiKey:Ue,appId:dt}=Y.options;if(!Ie)throw Wn.create("registration-project-id");if(!Ue)throw Wn.create("registration-api-key");if(!dt)throw Wn.create("registration-app-id");const Rt=new kc(dt,Y.name,N=N||"firebase"),Mt=new sa(Rt),Jt=new Q.Yd(Es);Jt.logLevel=Q.in.ERROR;const Bt=new rr(fe,K.SDK_VERSION,N,Ie,Ue,dt),di=new Is(Bt,Rt),ur=new Ac(di,Rt,Mt,Jt),lo=new Vp(Y,ur,Mt,Rt,Jt);return function wn(D){const S=(0,ee.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(lo),lo},"PUBLIC").setMultipleInstances(!0)),(0,K.registerVersion)(Es,"0.3.8"),(0,K.registerVersion)(Es,"0.3.8","esm2017")}();const eo="/firebase-messaging-sw.js",wi="/firebase-cloud-messaging-push-scope",oa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ba="google.c.a.c_id",Ih="google.c.a.c_l",Hp="google.c.a.ts",Ei="google.c.a.e";var Ds=(()=>{return(D=Ds||(Ds={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Ds;var D})();function Hi(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Pc(D){const N=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Y=atob(N),fe=new Uint8Array(Y.length);for(let Ie=0;Ie<Y.length;++Ie)fe[Ie]=Y.charCodeAt(Ie);return fe}const Mr="fcm_token_details_db",Nc="fcm_token_object_Store";function Fc(D){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,k.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ie=>Ie.name).includes(Mr))return null;let S=null;return(yield(0,ne.X3)(Mr,5,{upgrade:(Y=(0,k.Z)(function*(fe,Ie,Ue,dt){var Rt;if(Ie<2||!fe.objectStoreNames.contains(Nc))return;const Mt=dt.objectStore(Nc),Jt=yield Mt.index("fcmSenderId").get(D);if(yield Mt.clear(),Jt)if(2===Ie){const Bt=Jt;if(!Bt.auth||!Bt.p256dh||!Bt.endpoint)return;S={token:Bt.fcmToken,createTime:null!==(Rt=Bt.createTime)&&void 0!==Rt?Rt:Date.now(),subscriptionOptions:{auth:Bt.auth,p256dh:Bt.p256dh,endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:"string"==typeof Bt.vapidKey?Bt.vapidKey:Hi(Bt.vapidKey)}}}else if(3===Ie){const Bt=Jt;S={token:Bt.fcmToken,createTime:Bt.createTime,subscriptionOptions:{auth:Hi(Bt.auth),p256dh:Hi(Bt.p256dh),endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:Hi(Bt.vapidKey)}}}else if(4===Ie){const Bt=Jt;S={token:Bt.fcmToken,createTime:Bt.createTime,subscriptionOptions:{auth:Hi(Bt.auth),p256dh:Hi(Bt.p256dh),endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:Hi(Bt.vapidKey)}}}}),function(Ie,Ue,dt,Rt){return Y.apply(this,arguments)})})).close(),yield(0,ne.Lj)(Mr),yield(0,ne.Lj)("fcm_vapid_details_db"),yield(0,ne.Lj)("undefined"),Vl(S)?S:null;var Y}),Ll.apply(this,arguments)}function Vl(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Ss="firebase-messaging-store";let Su=null;function Rn(){return Su||(Su=(0,ne.X3)("firebase-messaging-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore(Ss)}})),Su}function Ua(D){return to.apply(this,arguments)}function to(){return(to=(0,k.Z)(function*(D){const S=vr(D),Y=yield(yield Rn()).transaction(Ss).objectStore(Ss).get(S);if(Y)return Y;{const fe=yield Fc(D.appConfig.senderId);if(fe)return yield En(D,fe),fe}})).apply(this,arguments)}function En(D,S){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,k.Z)(function*(D,S){const N=vr(D),fe=(yield Rn()).transaction(Ss,"readwrite");return yield fe.objectStore(Ss).put(S,N),yield fe.done,S})).apply(this,arguments)}function ja(D){return To.apply(this,arguments)}function To(){return(To=(0,k.Z)(function*(D){const S=vr(D),Y=(yield Rn()).transaction(Ss,"readwrite");yield Y.objectStore(Ss).delete(S),yield Y.done})).apply(this,arguments)}function vr({appConfig:D}){return D.appId}const Kn=new ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function As(D,S){return br.apply(this,arguments)}function br(){return(br=(0,k.Z)(function*(D,S){const N=yield ro(D),Y=Ha(S),fe={method:"POST",headers:N,body:JSON.stringify(Y)};let Ie;try{Ie=yield(yield fetch(no(D.appConfig),fe)).json()}catch(Ue){throw Kn.create("token-subscribe-failed",{errorInfo:Ue})}if(Ie.error)throw Kn.create("token-subscribe-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw Kn.create("token-subscribe-no-token");return Ie.token})).apply(this,arguments)}function aa(D,S){return ls.apply(this,arguments)}function ls(){return(ls=(0,k.Z)(function*(D,S){const N=yield ro(D),Y=Ha(S.subscriptionOptions),fe={method:"PATCH",headers:N,body:JSON.stringify(Y)};let Ie;try{Ie=yield(yield fetch(`${no(D.appConfig)}/${S.token}`,fe)).json()}catch(Ue){throw Kn.create("token-update-failed",{errorInfo:Ue})}if(Ie.error)throw Kn.create("token-update-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw Kn.create("token-update-no-token");return Ie.token})).apply(this,arguments)}function Au(D,S){return ai.apply(this,arguments)}function ai(){return(ai=(0,k.Z)(function*(D,S){const Y={method:"DELETE",headers:yield ro(D)};try{const Ie=yield(yield fetch(`${no(D.appConfig)}/${S}`,Y)).json();if(Ie.error)throw Kn.create("token-unsubscribe-failed",{errorInfo:Ie.error.message})}catch(fe){throw Kn.create("token-unsubscribe-failed",{errorInfo:fe})}})).apply(this,arguments)}function no({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function ro(D){return It.apply(this,arguments)}function It(){return(It=(0,k.Z)(function*({appConfig:D,installations:S}){const N=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function Ha({p256dh:D,auth:S,endpoint:N,vapidKey:Y}){const fe={web:{endpoint:N,auth:S,p256dh:D}};return Y!==oa&&(fe.web.applicationPubKey=Y),fe}const Ga=6048e5;function Lc(D){return za.apply(this,arguments)}function za(){return(za=(0,k.Z)(function*(D){const S=yield Hn(D.swRegistration,D.vapidKey),N={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:Hi(S.getKey("auth")),p256dh:Hi(S.getKey("p256dh"))},Y=yield Ua(D.firebaseDependencies);if(Y){if(qa(Y.subscriptionOptions,N))return Date.now()>=Y.createTime+Ga?Th(D,{token:Y.token,createTime:Date.now(),subscriptionOptions:N}):Y.token;try{yield Au(D.firebaseDependencies,Y.token)}catch(fe){console.warn(fe)}return Xt(D.firebaseDependencies,N)}return Xt(D.firebaseDependencies,N)})).apply(this,arguments)}function Mu(D){return $a.apply(this,arguments)}function $a(){return($a=(0,k.Z)(function*(D){const S=yield Ua(D.firebaseDependencies);S&&(yield Au(D.firebaseDependencies,S.token),yield ja(D.firebaseDependencies));const N=yield D.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function Th(D,S){return Le.apply(this,arguments)}function Le(){return(Le=(0,k.Z)(function*(D,S){try{const N=yield aa(D.firebaseDependencies,S),Y=Object.assign(Object.assign({},S),{token:N,createTime:Date.now()});return yield En(D.firebaseDependencies,Y),N}catch(N){throw yield Mu(D),N}})).apply(this,arguments)}function Xt(D,S){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,k.Z)(function*(D,S){const Y={token:yield As(D,S),createTime:Date.now(),subscriptionOptions:S};return yield En(D,Y),Y.token})).apply(this,arguments)}function Hn(D,S){return io.apply(this,arguments)}function io(){return(io=(0,k.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Pc(S)})})).apply(this,arguments)}function qa(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}function Zr(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function xu(D,S){if(!S.notification)return;D.notification={};const N=S.notification.title;N&&(D.notification.title=N);const Y=S.notification.body;Y&&(D.notification.body=Y);const fe=S.notification.image;fe&&(D.notification.image=fe)}(S,D),function Ru(D,S){!S.data||(D.data=S.data)}(S,D),function Vc(D,S){if(!S.fcmOptions)return;D.fcmOptions={};const N=S.fcmOptions.link;N&&(D.fcmOptions.link=N);const Y=S.fcmOptions.analytics_label;Y&&(D.fcmOptions.analyticsLabel=Y)}(S,D),S}function Bc(D){return"object"==typeof D&&!!D&&Ba in D}function Ka(D,S){const N=[];for(let Y=0;Y<D.length;Y++)N.push(D.charAt(Y)),Y<S.length&&N.push(S.charAt(Y));return N.join("")}function ar(D){return Kn.create("missing-app-config-values",{valueName:D})}Ka("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ka("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Gi{constructor(S,N,Y){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const fe=function la(D){if(!D||!D.options)throw ar("App Configuration Object");if(!D.name)throw ar("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:N}=D;for(const Y of S)if(!N[Y])throw ar(Y);return{appName:D.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:fe,installations:N,analyticsProvider:Y}}_delete(){return Promise.resolve()}}function ku(D){return us.apply(this,arguments)}function us(){return(us=(0,k.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(eo,{scope:wi}),D.swRegistration.update().catch(()=>{})}catch(S){throw Kn.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function Ms(D,S){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,k.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield ku(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Kn.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function Uc(D,S){return Za.apply(this,arguments)}function Za(){return(Za=(0,k.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=oa)})).apply(this,arguments)}function Do(){return(Do=(0,k.Z)(function*(D,S){if(!navigator)throw Kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kn.create("permission-blocked");return yield Uc(D,null==S?void 0:S.vapidKey),yield Ms(D,null==S?void 0:S.serviceWorkerRegistration),Lc(D)})).apply(this,arguments)}function Hl(D,S,N){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,k.Z)(function*(D,S,N){const Y=Ou(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(Y,{message_id:N[Ba],message_name:N[Ih],message_time:N[Hp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ou(D){switch(D){case Ds.NOTIFICATION_CLICKED:return"notification_open";case Ds.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Gl(){return(Gl=(0,k.Z)(function*(D,S){const N=S.data;if(!N.isFirebaseMessaging)return;D.onMessageHandler&&N.messageType===Ds.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Zr(N)):D.onMessageHandler.next(Zr(N)));const Y=N.data;Bc(Y)&&"1"===Y[Ei]&&(yield Hl(D,N.messageType,Y))})).apply(this,arguments)}const So="@firebase/messaging",Ao=D=>{const S=new Gi(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function Gp(D,S){return Gl.apply(this,arguments)}(S,N)),S},Hc=D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:Y=>function jc(D,S){return Do.apply(this,arguments)}(S,Y)}};function ua(){return cs.apply(this,arguments)}function cs(){return(cs=(0,k.Z)(function*(){try{yield(0,ee.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,ee.hl)()&&(0,ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Dh(){(0,K._registerComponent)(new le.wA("messaging",Ao,"PUBLIC")),(0,K._registerComponent)(new le.wA("messaging-internal",Hc,"PRIVATE")),(0,K.registerVersion)(So,"0.9.13"),(0,K.registerVersion)(So,"0.9.13","esm2017")}();const Gc="analytics",zp="firebase_id",Ja="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zl="https://www.googletagmanager.com/gtag/js",Er=new Q.Yd("@firebase/analytics");function Mh(D){return Promise.all(D.map(S=>S.catch(N=>N)))}function Mo(D,S){const N=document.createElement("script");N.src=`${zl}?l=${D}&id=${S}`,N.async=!0,document.head.appendChild(N)}function zc(D,S,N,Y,fe,Ie){return $c.apply(this,arguments)}function $c(){return($c=(0,k.Z)(function*(D,S,N,Y,fe,Ie){const Ue=Y[fe];try{if(Ue)yield S[Ue];else{const Rt=(yield Mh(N)).find(Mt=>Mt.measurementId===fe);Rt&&(yield S[Rt.appId])}}catch(dt){Er.error(dt)}D("config",fe,Ie)})).apply(this,arguments)}function li(D,S,N,Y,fe){return da.apply(this,arguments)}function da(){return(da=(0,k.Z)(function*(D,S,N,Y,fe){try{let Ie=[];if(fe&&fe.send_to){let Ue=fe.send_to;Array.isArray(Ue)||(Ue=[Ue]);const dt=yield Mh(N);for(const Rt of Ue){const Mt=dt.find(Bt=>Bt.measurementId===Rt),Jt=Mt&&S[Mt.appId];if(!Jt){Ie=[];break}Ie.push(Jt)}}0===Ie.length&&(Ie=Object.values(S)),yield Promise.all(Ie),D("event",Y,fe||{})}catch(Ie){Er.error(Ie)}})).apply(this,arguments)}function Wp(){const D=window.document.getElementsByTagName("script");for(const S of Object.values(D))if(S.src&&S.src.includes(zl))return S;return null}const Cr=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),xo=new class Nu{constructor(S={},N=1e3){this.throttleMetadata=S,this.intervalMillis=N}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,N){this.throttleMetadata[S]=N}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Ro(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function so(D){return on.apply(this,arguments)}function on(){return(on=(0,k.Z)(function*(D){var S;const{appId:N,apiKey:Y}=D,fe={method:"GET",headers:Ro(Y)},Ie=Ja.replace("{app-id}",N),Ue=yield fetch(Ie,fe);if(200!==Ue.status&&304!==Ue.status){let dt="";try{const Rt=yield Ue.json();(null===(S=Rt.error)||void 0===S?void 0:S.message)&&(dt=Rt.error.message)}catch(Rt){}throw Cr.create("config-fetch-failed",{httpStatus:Ue.status,responseMessage:dt})}return Ue.json()})).apply(this,arguments)}function el(D){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,k.Z)(function*(D,S=xo,N){const{appId:Y,apiKey:fe,measurementId:Ie}=D.options;if(!Y)throw Cr.create("no-app-id");if(!fe){if(Ie)return{measurementId:Ie,appId:Y};throw Cr.create("no-api-key")}const Ue=S.getThrottleMetadata(Y)||{backoffCount:0,throttleEndTimeMillis:Date.now()},dt=new nl;return setTimeout((0,k.Z)(function*(){dt.abort()}),void 0!==N?N:6e4),ha({appId:Y,apiKey:fe,measurementId:Ie},Ue,dt,S)})).apply(this,arguments)}function ha(D,S,N){return tl.apply(this,arguments)}function tl(){return(tl=(0,k.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:N},Y,fe=xo){const{appId:Ie,measurementId:Ue}=D;try{yield fa(Y,S)}catch(dt){if(Ue)return Er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${dt.message}]`),{appId:Ie,measurementId:Ue};throw dt}try{const dt=yield so(D);return fe.deleteThrottleMetadata(Ie),dt}catch(dt){if(!qc(dt)){if(fe.deleteThrottleMetadata(Ie),Ue)return Er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${dt.message}]`),{appId:Ie,measurementId:Ue};throw dt}const Rt=503===Number(dt.customData.httpStatus)?(0,ee.$s)(N,fe.intervalMillis,30):(0,ee.$s)(N,fe.intervalMillis),Mt={throttleEndTimeMillis:Date.now()+Rt,backoffCount:N+1};return fe.setThrottleMetadata(Ie,Mt),Er.debug(`Calling attemptFetch again in ${Rt} millis`),ha(D,Mt,Y,fe)}})).apply(this,arguments)}function fa(D,S){return new Promise((N,Y)=>{const fe=Math.max(S-Date.now(),0),Ie=setTimeout(N,fe);D.addEventListener(()=>{clearTimeout(Ie),Y(Cr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function qc(D){if(!(D instanceof ee.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}class nl{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function $l(){return xr.apply(this,arguments)}function xr(){return(xr=(0,k.Z)(function*(){if(!(0,ee.hl)())return Er.warn(Cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(D){return Er.warn(Cr.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function ui(){return(ui=(0,k.Z)(function*(D,S,N,Y,fe,Ie,Ue){var dt;const Rt=el(D);Rt.then(ur=>{N[ur.measurementId]=ur.appId,D.options.measurementId&&ur.measurementId!==D.options.measurementId&&Er.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${ur.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ur=>Er.error(ur)),S.push(Rt);const Mt=$l().then(ur=>{if(ur)return Y.getId()}),[Jt,Bt]=yield Promise.all([Rt,Mt]);Wp()||Mo(Ie,Jt.measurementId),fe("js",new Date);const di=null!==(dt=null==Ue?void 0:Ue.config)&&void 0!==dt?dt:{};return di.origin="firebase",di.update=!0,null!=Bt&&(di[zp]=Bt),fe("config",Jt.measurementId,di),Jt.measurementId})).apply(this,arguments)}class ks{constructor(S){this.app=S}_delete(){return delete Ii[this.app.options.appId],Promise.resolve()}}let Ii={},Wl=[];const pa={};let Ht,Ir,ci="dataLayer",Os=!1;function Rh(D,S,N){!function gt(){const D=[];if((0,ee.ru)()&&D.push("This is a browser extension environment."),(0,ee.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((Y,fe)=>`(${fe+1}) ${Y}`).join(" "),N=Cr.create("invalid-analytics-context",{errorInfo:S});Er.warn(N.message)}}();const Y=D.options.appId;if(!Y)throw Cr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Cr.create("no-api-key");Er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ii[Y])throw Cr.create("already-exists",{id:Y});if(!Os){!function ca(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(ci);const{wrappedGtag:Ie,gtagCore:Ue}=function $p(D,S,N,Y,fe){let Ie=function(...Ue){window[Y].push(arguments)};return window[fe]&&"function"==typeof window[fe]&&(Ie=window[fe]),window[fe]=function Wc(D,S,N,Y){function Ie(){return(Ie=(0,k.Z)(function*(Ue,dt,Rt){try{"event"===Ue?yield li(D,S,N,dt,Rt):"config"===Ue?yield zc(D,S,N,Y,dt,Rt):D("set",dt)}catch(Mt){Er.error(Mt)}})).apply(this,arguments)}return function fe(Ue,dt,Rt){return Ie.apply(this,arguments)}}(Ie,D,S,N),{gtagCore:Ie,wrappedGtag:window[fe]}}(Ii,Wl,pa,ci,"gtag");Ir=Ie,Ht=Ue,Os=!0}return Ii[Y]=function rl(D,S,N,Y,fe,Ie,Ue){return ui.apply(this,arguments)}(D,Wl,pa,S,Ht,ci,N),new ks(D)}function Fu(){return(Fu=(0,k.Z)(function*(D,S,N,Y,fe){if(fe&&fe.global)D("event",N,Y);else{const Ie=yield S;D("event",N,Object.assign(Object.assign({},Y),{send_to:Ie}))}})).apply(this,arguments)}function S_(){return ql.apply(this,arguments)}function ql(){return(ql=(0,k.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch(D){return!1}})).apply(this,arguments)}const Ph="@firebase/analytics";!function x_(){(0,K._registerComponent)(new le.wA(Gc,(S,{options:N})=>Rh(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,K._registerComponent)(new le.wA("analytics-internal",function D(S){try{const N=S.getProvider(Gc).getImmediate();return{logEvent:(Y,fe,Ie)=>function M_(D,S,N,Y){D=(0,ee.m9)(D),function kh(D,S,N,Y,fe){return Fu.apply(this,arguments)}(Ir,Ii[D.app.options.appId],S,N,Y).catch(fe=>Er.error(fe))}(N,Y,fe,Ie)}}catch(N){throw Cr.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,K.registerVersion)(Ph,"0.7.9"),(0,K.registerVersion)(Ph,"0.7.9","esm2017")}();var Kl=R(4408),lr=R(7565);const Zl=new class Yl extends lr.v{}(class Nh extends Kl.o{constructor(S,N){super(S,N),this.scheduler=S,this.work=N}schedule(S,N=0){return N>0?super.schedule(S,N):(this.delay=N,this.state=S,this.scheduler.flush(this),this)}execute(S,N){return N>0||this.closed?super.execute(S,N):this._execute(S,N)}requestAsyncId(S,N,Y=0){return null!=Y&&Y>0||null==Y&&this.delay>0?super.requestAsyncId(S,N,Y):S.flush(this)}});var Yp=R(4986),Qr=R(8306),Ti=R(8505),ul=R(5363),Ql=R(9468);const ma=new c.GfV("7.4.1"),Vu="__angularfire_symbol__analyticsIsSupportedValue",ao="__angularfire_symbol__analyticsIsSupported",Xl="__angularfire_symbol__remoteConfigIsSupportedValue",Fh="__angularfire_symbol__remoteConfigIsSupported",Lh="__angularfire_symbol__messagingIsSupportedValue",Bu="__angularfire_symbol__messagingIsSupported";function Uu(D,S,N){if(S){if(1===S.length)return S[0];const Ie=S.filter(Ue=>Ue.app===N);if(1===Ie.length)return Ie[0]}return N.container.getProvider(D).getImmediate({optional:!0})}globalThis[ao]||(globalThis[ao]=S_().then(D=>globalThis[Vu]=D).catch(()=>globalThis[Vu]=!1)),globalThis[Bu]||(globalThis[Bu]=ua().then(D=>globalThis[Lh]=D).catch(()=>globalThis[Lh]=!1)),globalThis[Fh]||(globalThis[Fh]=I_().then(D=>globalThis[Xl]=D).catch(()=>globalThis[Xl]=!1));const Zp=(D,S)=>{const N=S?[S]:(0,B.C6)(),Y=[];return N.forEach(fe=>{fe.container.getProvider(D).instances.forEach(Ue=>{Y.includes(Ue)||Y.push(Ue)})}),Y};function Po(){}class Vh{constructor(S,N=Zl){this.zone=S,this.delegate=N}now(){return this.delegate.now()}schedule(S,N,Y){const fe=this.zone;return this.delegate.schedule(function(Ue){fe.runGuarded(()=>{S.apply(this,[Ue])})},N,Y)}}class Yc{constructor(S){this.zone=S,this.task=null}call(S,N){const Y=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Po,{},Po,Po)),N.pipe((0,Ti.b)({next:Y,complete:Y,error:Y})).subscribe(S).add(Y)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zc=(()=>{class D{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new Vh(Zone.current)),this.insideAngular=N.run(()=>new Vh(Zone.current,Yp.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(N){return new(N||D)(c.LFG(c.R0b))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function No(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function _a(D){return No().ngZone.runOutsideAngular(()=>D())}function Ps(D){return No().ngZone.run(()=>D())}function R_(D){return D.pipe((0,ul.Q)(No().outsideAngular))}function dl(D){return No(),function hl(D){return function(N){return(N=N.lift(new Yc(D.ngZone))).pipe((0,Ql.R)(D.outsideAngular),(0,ul.Q)(D.insideAngular))}}(No())(D)}const Qp=(D,S)=>function(){const Y=arguments;return S&&setTimeout(()=>{"scheduled"===S.state&&S.invoke()},10),Ps(()=>D.apply(void 0,Y))},Bh=(D,S)=>function(){let N;const Y=arguments;for(let Ie=0;Ie<arguments.length;Ie++)"function"==typeof Y[Ie]&&(S&&(N||(N=Ps(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Po,{},Po,Po)))),Y[Ie]=Qp(Y[Ie],N));const fe=_a(()=>D.apply(this,Y));if(!S){if(fe instanceof Qr.y){const Ie=No();return fe.pipe((0,Ql.R)(Ie.outsideAngular),(0,ul.Q)(Ie.insideAngular))}return Ps(()=>fe)}return fe instanceof Qr.y?fe.pipe(dl):fe instanceof Promise?Ps(()=>new Promise((Ie,Ue)=>fe.then(dt=>Ps(()=>Ie(dt)),dt=>Ps(()=>Ue(dt))))):"function"==typeof fe&&N?function(){return setTimeout(()=>{N&&"scheduled"===N.state&&N.invoke()},10),fe.apply(this,arguments)}:Ps(()=>fe)}},2587:(Ae,ye,R)=>{"use strict";R.d(ye,{$:()=>no,A:()=>U,B:()=>Me,G:()=>xn,H:()=>_n,J:()=>Is,L:()=>mn,M:()=>La,N:()=>Va,P:()=>Vu,Q:()=>Ba,R:()=>x_,T:()=>Ih,U:()=>oa,V:()=>Ds,W:()=>Hi,X:()=>Fc,Y:()=>jl,Z:()=>As,_:()=>aa,a:()=>ds,a0:()=>Lc,a1:()=>Mu,a2:()=>Th,a3:()=>Xt,a4:()=>Hn,a5:()=>qa,a6:()=>xu,a7:()=>Ru,a8:()=>Bc,a9:()=>Ka,aA:()=>ya,aB:()=>ur,aC:()=>Bh,aD:()=>Qp,aE:()=>Ye,aI:()=>Ro,aL:()=>Ei,aa:()=>ku,ab:()=>Ms,ac:()=>Uc,af:()=>Hl,ag:()=>Ou,ah:()=>Gp,ak:()=>Ss,al:()=>wr,an:()=>zl,ao:()=>$c,ap:()=>Xn,aq:()=>F,ar:()=>Kt,as:()=>_t,at:()=>je,au:()=>uo,av:()=>Xp,aw:()=>ve,ax:()=>X,ay:()=>q,az:()=>Dt,b:()=>Cr,c:()=>a0,d:()=>Vh,e:()=>Zp,f:()=>N,g:()=>Rt,h:()=>Ie,i:()=>Rh,j:()=>Bt,k:()=>V_,l:()=>Zl,m:()=>rg,o:()=>ne,r:()=>Yp,s:()=>lr,u:()=>Ql});var c=R(9671),B=R(2090),k=R(9681),K=R(655),ee=R(1877),le=R(4859);const ne={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},U={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Me=function W(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ke=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Be=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ce=new ee.Yd("@firebase/auth");function Oe(b,...m){Ce.logLevel<=ee.in.ERROR&&Ce.error(`Auth (${k.SDK_VERSION}): ${b}`,...m)}function je(b,...m){throw Je(b,...m)}function ve(b,...m){return Je(b,...m)}function Ke(b,m,_){const C=Object.assign(Object.assign({},ke()),{[m]:_});return new B.LL("auth","Firebase",C).create(m,{appName:b.name})}function Pe(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&je(b,"argument-error"),Ke(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Je(b,...m){if("string"!=typeof b){const _=m[0],C=[...m.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(_,...C)}return Be.create(b,...m)}function X(b,m,..._){if(!b)throw Je(m,..._)}function be(b){const m="INTERNAL ASSERTION FAILED: "+b;throw Oe(m),new Error(m)}function F(b,m){b||be(m)}const $=new Map;function q(b){F(b instanceof Function,"Expected a class definition");let m=$.get(b);return m?(F(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,$.set(b,m),m)}function te(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function We(){return"http:"===ft()||"https:"===ft()}function ft(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class lt{constructor(m,_){this.shortDelay=m,this.longDelay=_,F(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function pn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(We()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vn(b,m){F(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class Tt{static initialize(m,_,C){this.fetchImpl=m,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},un=new lt(3e4,6e4);function qt(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function gn(b,m,_,C){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(function*(b,m,_,C,O={}){return Ui(b,O,(0,c.Z)(function*(){let V={},_e={};C&&("GET"===m?_e=C:V={body:JSON.stringify(C)});const Ge=(0,B.xO)(Object.assign({key:b.config.apiKey},_e)).slice(1),ut=yield b._getAdditionalHeaders();return ut["Content-Type"]="application/json",b.languageCode&&(ut["X-Firebase-Locale"]=b.languageCode),Tt.fetch()(mi(b,b.config.apiHost,_,Ge),Object.assign({method:m,headers:ut,referrerPolicy:"no-referrer"},V))}))})).apply(this,arguments)}function Ui(b,m,_){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,c.Z)(function*(b,m,_){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},kn),m);try{const O=new ji(b),V=yield Promise.race([_(),O.promise]);O.clearNetworkTimeout();const _e=yield V.json();if("needConfirmation"in _e)throw zn(b,"account-exists-with-different-credential",_e);if(V.ok&&!("errorMessage"in _e))return _e;{const Ge=V.ok?_e.errorMessage:_e.error.message,[ut,tt]=Ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ut)throw zn(b,"credential-already-in-use",_e);if("EMAIL_EXISTS"===ut)throw zn(b,"email-already-in-use",_e);if("USER_DISABLED"===ut)throw zn(b,"user-disabled",_e);const kt=C[ut]||ut.toLowerCase().replace(/[_\s]+/g,"-");if(tt)throw Ke(b,kt,tt);je(b,kt)}}catch(O){if(O instanceof B.ZR)throw O;je(b,"network-request-failed")}})).apply(this,arguments)}function Un(b,m,_,C){return is.apply(this,arguments)}function is(){return(is=(0,c.Z)(function*(b,m,_,C,O={}){const V=yield gn(b,m,_,C,O);return"mfaPendingCredential"in V&&je(b,"multi-factor-auth-required",{_serverResponse:V}),V})).apply(this,arguments)}function mi(b,m,_,C){const O=`${m}${_}?${C}`;return b.config.emulator?vn(b.config,O):`${b.config.apiScheme}://${O}`}class ji{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(ve(this.auth,"network-request-failed")),un.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zn(b,m,_){const C={appName:b.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const O=ve(b,m,C);return O.customData._tokenResponse=_,O}function Ct(){return(Ct=(0,c.Z)(function*(b,m){return gn(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function qr(b,m){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(b,m){return gn(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function hn(b,m){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,c.Z)(function*(b,m){return gn(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function sr(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function or(){return(or=(0,c.Z)(function*(b,m=!1){const _=(0,B.m9)(b),C=yield _.getIdToken(m),O=Zt(C);X(O&&O.exp&&O.auth_time&&O.iat,_.auth,"internal-error");const V="object"==typeof O.firebase?O.firebase:void 0,_e=null==V?void 0:V.sign_in_provider;return{claims:O,token:C,authTime:sr(ws(O.auth_time)),issuedAtTime:sr(ws(O.iat)),expirationTime:sr(ws(O.exp)),signInProvider:_e||null,signInSecondFactor:(null==V?void 0:V.sign_in_second_factor)||null}})).apply(this,arguments)}function ws(b){return 1e3*Number(b)}function Zt(b){const[m,_,C]=b.split(".");if(void 0===m||void 0===_||void 0===C)return Oe("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,B.tV)(_);return O?JSON.parse(O):(Oe("Failed to decode base64 JWT payload"),null)}catch(O){return Oe("Caught error parsing JWT payload as JSON",O),null}}function ht(b,m){return _i.apply(this,arguments)}function _i(){return(_i=(0,c.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(C){throw C instanceof B.ZR&&yi(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}function yi({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Qt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const O=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,O)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(m);this.timerId=setTimeout((0,c.Z)(function*(){yield _.iteration()}),C)}iteration(){var m=this;return(0,c.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&m.schedule(!0))}m.schedule()})()}}class os{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=sr(this.lastLoginAt),this.creationTime=sr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $n(b){return bn.apply(this,arguments)}function bn(){return(bn=(0,c.Z)(function*(b){var m;const _=b.auth,C=yield b.getIdToken(),O=yield ht(b,hn(_,{idToken:C}));X(null==O?void 0:O.users.length,_,"internal-error");const V=O.users[0];b._notifyReloadListener(V);const _e=(null===(m=V.providerUserInfo)||void 0===m?void 0:m.length)?xe(V.providerUserInfo):[],Ge=ue(b.providerData,_e),kt=!!b.isAnonymous&&!(b.email&&V.passwordHash||(null==Ge?void 0:Ge.length)),jn={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:Ge,metadata:new os(V.createdAt,V.lastLoginAt),isAnonymous:kt};Object.assign(b,jn)})).apply(this,arguments)}function oe(){return(oe=(0,c.Z)(function*(b){const m=(0,B.m9)(b);yield $n(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function ue(b,m){return[...b.filter(C=>!m.some(O=>O.providerId===C.providerId)),...m]}function xe(b){return b.map(m=>{var{providerId:_}=m,C=(0,K._T)(m,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function pe(){return(pe=(0,c.Z)(function*(b,m){const _=yield Ui(b,{},(0,c.Z)(function*(){const C=(0,B.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:O,apiKey:V}=b.config,_e=mi(b,O,"/v1/token",`key=${V}`),Ge=yield b._getAdditionalHeaders();return Ge["Content-Type"]="application/x-www-form-urlencoded",Tt.fetch()(_e,{method:"POST",headers:Ge,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class He{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){X(m.idToken,"internal-error"),X(void 0!==m.idToken,"internal-error"),X(void 0!==m.refreshToken,"internal-error");const _="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function yt(b){const m=Zt(b);return X(m,"internal-error"),X(void 0!==m.exp,"internal-error"),X(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var C=this;return(0,c.Z)(function*(){return X(!C.accessToken||C.refreshToken,m,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(m,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var C=this;return(0,c.Z)(function*(){const{accessToken:O,refreshToken:V,expiresIn:_e}=yield function se(b,m){return pe.apply(this,arguments)}(m,_);C.updateTokensAndExpiration(O,V,Number(_e))})()}updateTokensAndExpiration(m,_,C){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(m,_){const{refreshToken:C,accessToken:O,expirationTime:V}=_,_e=new He;return C&&(X("string"==typeof C,"internal-error",{appName:m}),_e.refreshToken=C),O&&(X("string"==typeof O,"internal-error",{appName:m}),_e.accessToken=O),V&&(X("number"==typeof V,"internal-error",{appName:m}),_e.expirationTime=V),_e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new He,this.toJSON())}_performRefresh(){return be("not implemented")}}function et(b,m){X("string"==typeof b||void 0===b,"internal-error",{appName:m})}class wt{constructor(m){var{uid:_,auth:C,stsTokenManager:O}=m,V=(0,K._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=O,this.accessToken=O.accessToken,this.displayName=V.displayName||null,this.email=V.email||null,this.emailVerified=V.emailVerified||!1,this.phoneNumber=V.phoneNumber||null,this.photoURL=V.photoURL||null,this.isAnonymous=V.isAnonymous||!1,this.tenantId=V.tenantId||null,this.providerData=V.providerData?[...V.providerData]:[],this.metadata=new os(V.createdAt||void 0,V.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,c.Z)(function*(){const C=yield ht(_,_.stsTokenManager.getToken(_.auth,m));return X(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(m){return function Pn(b){return or.apply(this,arguments)}(this,m)}reload(){return function J(b){return oe.apply(this,arguments)}(this)}_assign(m){this!==m&&(X(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new wt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var C=this;return(0,c.Z)(function*(){let O=!1;m.idToken&&m.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(m),O=!0),_&&(yield $n(C)),yield C.auth._persistUserIfCurrent(C),O&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var m=this;return(0,c.Z)(function*(){const _=yield m.getIdToken();return yield ht(m,function ss(b,m){return Ct.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var C,O,V,_e,Ge,ut,tt,kt;const jn=null!==(C=_.displayName)&&void 0!==C?C:void 0,zi=null!==(O=_.email)&&void 0!==O?O:void 0,Vo=null!==(V=_.phoneNumber)&&void 0!==V?V:void 0,ig=null!==(_e=_.photoURL)&&void 0!==_e?_e:void 0,sg=null!==(Ge=_.tenantId)&&void 0!==Ge?Ge:void 0,Wh=null!==(ut=_._redirectEventId)&&void 0!==ut?ut:void 0,og=null!==(tt=_.createdAt)&&void 0!==tt?tt:void 0,U_=null!==(kt=_.lastLoginAt)&&void 0!==kt?kt:void 0,{uid:qh,emailVerified:j_,isAnonymous:ag,providerData:Wu,stsTokenManager:lg}=_;X(qh&&lg,m,"internal-error");const ug=He.fromJSON(this.name,lg);X("string"==typeof qh,m,"internal-error"),et(jn,m.name),et(zi,m.name),X("boolean"==typeof j_,m,"internal-error"),X("boolean"==typeof ag,m,"internal-error"),et(Vo,m.name),et(ig,m.name),et(sg,m.name),et(Wh,m.name),et(og,m.name),et(U_,m.name);const cg=new wt({uid:qh,auth:m,email:zi,emailVerified:j_,displayName:jn,isAnonymous:ag,photoURL:ig,phoneNumber:Vo,tenantId:sg,stsTokenManager:ug,createdAt:og,lastLoginAt:U_});return Wu&&Array.isArray(Wu)&&(cg.providerData=Wu.map(hr=>Object.assign({},hr))),Wh&&(cg._redirectEventId=Wh),cg}static _fromIdTokenResponse(m,_,C=!1){return(0,c.Z)(function*(){const O=new He;O.updateFromServerResponse(_);const V=new wt({uid:_.localId,auth:m,stsTokenManager:O,isAnonymous:C});return yield $n(V),V})()}}const mn=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(_,C){var O=this;return(0,c.Z)(function*(){O.storage[_]=C})()}_get(_){var C=this;return(0,c.Z)(function*(){const O=C.storage[_];return void 0===O?null:O})()}_remove(_){var C=this;return(0,c.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return b.type="NONE",b})();function Dt(b,m,_){return`firebase:${b}:${m}:${_}`}class nr{constructor(m,_,C){this.persistence=m,this.auth=_,this.userKey=C;const{config:O,name:V}=this.auth;this.fullUserKey=Dt(this.userKey,O.apiKey,V),this.fullPersistenceKey=Dt("persistence",O.apiKey,V),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,c.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?wt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,c.Z)(function*(){if(_.persistence===m)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,C="authUser"){return(0,c.Z)(function*(){if(!_.length)return new nr(q(mn),m,C);const O=(yield Promise.all(_.map(function(){var tt=(0,c.Z)(function*(kt){if(yield kt._isAvailable())return kt});return function(kt){return tt.apply(this,arguments)}}()))).filter(tt=>tt);let V=O[0]||q(mn);const _e=Dt(C,m.config.apiKey,m.name);let Ge=null;for(const tt of _)try{const kt=yield tt._get(_e);if(kt){const jn=wt._fromJSON(m,kt);tt!==V&&(Ge=jn),V=tt;break}}catch(kt){}const ut=O.filter(tt=>tt._shouldAllowMigration);return V._shouldAllowMigration&&ut.length?(V=ut[0],Ge&&(yield V._set(_e,Ge.toJSON())),yield Promise.all(_.map(function(){var tt=(0,c.Z)(function*(kt){if(kt!==V)try{yield kt._remove(_e)}catch(jn){}});return function(kt){return tt.apply(this,arguments)}}())),new nr(V,m,C)):new nr(V,m,C)})()}}function we(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Qe(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(de(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Nt(m))return"Blackberry";if(tn(m))return"Webos";if(ae(m))return"Safari";if((m.includes("chrome/")||Fe(m))&&!m.includes("edge/"))return"Chrome";if(_t(m))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function de(b=(0,B.z$)()){return/firefox\//i.test(b)}function ae(b=(0,B.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Fe(b=(0,B.z$)()){return/crios\//i.test(b)}function Qe(b=(0,B.z$)()){return/iemobile/i.test(b)}function _t(b=(0,B.z$)()){return/android/i.test(b)}function Nt(b=(0,B.z$)()){return/blackberry/i.test(b)}function tn(b=(0,B.z$)()){return/webos/i.test(b)}function Kt(b=(0,B.z$)()){return/iphone|ipad|ipod/i.test(b)}function Xn(b=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Vr(b=(0,B.z$)()){return Kt(b)||_t(b)||tn(b)||Nt(b)||/windows phone/i.test(b)||Qe(b)}function _r(b,m=[]){let _;switch(b){case"Browser":_=we((0,B.z$)());break;case"Worker":_=`${we((0,B.z$)())}-${b}`;break;default:_=b}const C=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${k.SDK_VERSION}/${C}`}class Na{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const C=V=>new Promise((_e,Ge)=>{try{_e(m(V))}catch(ut){Ge(ut)}});C.onAbort=_,this.queue.push(C);const O=this.queue.length-1;return()=>{this.queue[O]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,c.Z)(function*(){if(_.auth.currentUser===m)return;const C=[];try{for(const O of _.queue)yield O(m),O.onAbort&&C.push(O.onAbort)}catch(O){C.reverse();for(const V of C)try{V()}catch(_e){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:O.message})}})()}}class si{constructor(m,_,C){this.app=m,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $t(this),this.idTokenSubscription=new $t(this),this.beforeStateQueue=new Na(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Be,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(m,_){var C=this;return _&&(this._popupRedirectResolver=q(_)),this._initializationPromise=this.queue((0,c.Z)(function*(){var O,V;if(!C._deleted&&(C.persistenceManager=yield nr.create(C,m),!C._deleted)){if(null===(O=C._popupRedirectResolver)||void 0===O?void 0:O._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch(_e){}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(V=C.currentUser)||void 0===V?void 0:V.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,c.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,c.Z)(function*(){var C;const O=yield _.assertedPersistence.getCurrentUser();let V=O,_e=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Ge=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,ut=null==V?void 0:V._redirectEventId,tt=yield _.tryRedirectSignIn(m);(!Ge||Ge===ut)&&(null==tt?void 0:tt.user)&&(V=tt.user,_e=!0)}if(!V)return _.directlySetCurrentUser(null);if(!V._redirectEventId){if(_e)try{yield _.beforeStateQueue.runMiddleware(V)}catch(Ge){V=O,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Ge))}return V?_.reloadAndSetCurrentUserOrClear(V):_.directlySetCurrentUser(null)}return X(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===V._redirectEventId?_.directlySetCurrentUser(V):_.reloadAndSetCurrentUserOrClear(V)})()}tryRedirectSignIn(m){var _=this;return(0,c.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch(O){yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,c.Z)(function*(){try{yield $n(m)}catch(C){if("auth/network-request-failed"!==C.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function ze(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,c.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,c.Z)(function*(){const C=m?(0,B.m9)(m):null;return C&&X(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(m,_=!1){var C=this;return(0,c.Z)(function*(){if(!C._deleted)return m&&X(C.tenantId===m.tenantId,C,"tenant-id-mismatch"),_||(yield C.beforeStateQueue.runMiddleware(m)),C.queue((0,c.Z)(function*(){yield C.directlySetCurrentUser(m),C.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,c.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,c.Z)(function*(){yield _.assertedPersistence.setPersistence(q(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new B.LL("auth","Firebase",m())}onAuthStateChanged(m,_,C){return this.registerStateListener(this.authStateSubscription,m,_,C)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,C){return this.registerStateListener(this.idTokenSubscription,m,_,C)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var C=this;return(0,c.Z)(function*(){const O=yield C.getOrInitRedirectPersistenceManager(_);return null===m?O.removeCurrentUser():O.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,c.Z)(function*(){if(!_.redirectPersistenceManager){const C=m&&q(m)||_._popupRedirectResolver;X(C,_,"argument-error"),_.redirectPersistenceManager=yield nr.create(_,[q(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,c.Z)(function*(){var C,O;return _._isInitialized&&(yield _.queue((0,c.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===m?_._currentUser:(null===(O=_.redirectUser)||void 0===O?void 0:O._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,c.Z)(function*(){if(m===_.currentUser)return _.queue((0,c.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,C,O){if(this._deleted)return()=>{};const V="function"==typeof _?_:_.next.bind(_),_e=this._isInitialized?Promise.resolve():this._initializationPromise;return X(_e,this,"internal-error"),_e.then(()=>V(this.currentUser)),"function"==typeof _?m.addObserver(_,C,O):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,c.Z)(function*(){_.currentUser&&_.currentUser!==m&&(_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh()),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=_r(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,c.Z)(function*(){var _;const C={"X-Client-Version":m.clientVersion};m.app.options.appId&&(C["X-Firebase-gmpid"]=m.app.options.appId);const O=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return O&&(C["X-Firebase-Client"]=O),C})()}}function Ye(b){return(0,B.m9)(b)}class $t{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,B.ne)(_=>this.observer=_)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xn(b,m,_){const C=Ye(b);X(C._canInitEmulator,C,"emulator-config-failed"),X(/^https?:\/\//.test(m),C,"invalid-emulator-scheme");const O=!!(null==_?void 0:_.disableWarnings),V=Yr(m),{host:_e,port:Ge}=function Es(b){const m=Yr(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",O=/^(\[[^\]]+\])(:|$)/.exec(C);if(O){const V=O[1];return{host:V,port:Jn(C.substr(V.length+1))}}{const[V,_e]=C.split(":");return{host:V,port:Jn(_e)}}}(m);C.config.emulator={url:`${V}//${_e}${null===Ge?"":`:${Ge}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:_e,port:Ge,protocol:V.replace(":",""),options:Object.freeze({disableWarnings:O})}),O||function Cs(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Yr(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function Jn(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class _n{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return be("not implemented")}_getIdTokenResponse(m){return be("not implemented")}_linkToIdToken(m,_){return be("not implemented")}_getReauthenticationResolver(m){return be("not implemented")}}function Eo(b,m){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(b,m){return gn(b,"POST","/v1/accounts:resetPassword",qt(b,m))})).apply(this,arguments)}function Vt(b,m){return ea.apply(this,arguments)}function ea(){return(ea=(0,c.Z)(function*(b,m){return gn(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ta(b,m){return na.apply(this,arguments)}function na(){return(na=(0,c.Z)(function*(b,m){return gn(b,"POST","/v1/accounts:update",qt(b,m))})).apply(this,arguments)}function qn(){return(qn=(0,c.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signInWithPassword",qt(b,m))})).apply(this,arguments)}function Xs(b,m){return Co.apply(this,arguments)}function Co(){return(Co=(0,c.Z)(function*(b,m){return gn(b,"POST","/v1/accounts:sendOobCode",qt(b,m))})).apply(this,arguments)}function yr(b,m){return wn.apply(this,arguments)}function wn(){return(wn=(0,c.Z)(function*(b,m){return Xs(b,m)})).apply(this,arguments)}function Dc(b,m){return Io.apply(this,arguments)}function Io(){return(Io=(0,c.Z)(function*(b,m){return Xs(b,m)})).apply(this,arguments)}function vi(b,m){return oi.apply(this,arguments)}function oi(){return(oi=(0,c.Z)(function*(b,m){return Xs(b,m)})).apply(this,arguments)}function Sc(b,m){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,c.Z)(function*(b,m){return Xs(b,m)})).apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signInWithEmailLink",qt(b,m))})).apply(this,arguments)}function Ac(){return(Ac=(0,c.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signInWithEmailLink",qt(b,m))})).apply(this,arguments)}class Fl extends _n{constructor(m,_,C,O=null){super("password",C),this._email=m,this._password=_,this._tenantId=O}static _fromEmailAndPassword(m,_){return new Fl(m,_,"password")}static _fromEmailAndCode(m,_,C=null){return new Fl(m,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,c.Z)(function*(){switch(_.signInMethod){case"password":return function ra(b,m){return qn.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Js(b,m){return bi.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:je(m,"internal-error")}})()}_linkToIdToken(m,_){var C=this;return(0,c.Z)(function*(){switch(C.signInMethod){case"password":return Vt(m,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Eh(b,m){return Ac.apply(this,arguments)}(m,{idToken:_,email:C._email,oobCode:C._password});default:je(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function rr(b,m){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,c.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signInWithIdp",qt(b,m))})).apply(this,arguments)}class Is extends _n{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new Is(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):je("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:O}=_,V=(0,K._T)(_,["providerId","signInMethod"]);if(!C||!O)return null;const _e=new Is(C,O);return _e.idToken=V.idToken||void 0,_e.accessToken=V.accessToken||void 0,_e.secret=V.secret,_e.nonce=V.nonce,_e.pendingToken=V.pendingToken||null,_e}_getIdTokenResponse(m){return rr(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,rr(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,rr(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,B.xO)(_)}return m}}function Lp(b,m){return xc.apply(this,arguments)}function xc(){return(xc=(0,c.Z)(function*(b,m){return gn(b,"POST","/v1/accounts:sendVerificationCode",qt(b,m))})).apply(this,arguments)}function Fa(){return(Fa=(0,c.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signInWithPhoneNumber",qt(b,m))})).apply(this,arguments)}function Rc(){return(Rc=(0,c.Z)(function*(b,m){const _=yield Un(b,"POST","/v1/accounts:signInWithPhoneNumber",qt(b,m));if(_.temporaryProof)throw zn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Bp={USER_NOT_FOUND:"user-not-found"};function kc(){return(kc=(0,c.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signInWithPhoneNumber",qt(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Bp)})).apply(this,arguments)}class sa extends _n{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new sa({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new sa({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function Vp(b,m){return Fa.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function ia(b,m){return Rc.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Up(b,m){return kc.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:C,verificationCode:O}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:C,code:O}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:C,phoneNumber:O,temporaryProof:V}=m;return C||_||O||V?new sa({verificationId:_,verificationCode:C,phoneNumber:O,temporaryProof:V}):null}}class Ts{constructor(m){var _,C,O,V,_e,Ge;const ut=(0,B.zd)((0,B.pd)(m)),tt=null!==(_=ut.apiKey)&&void 0!==_?_:null,kt=null!==(C=ut.oobCode)&&void 0!==C?C:null,jn=function jp(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(O=ut.mode)&&void 0!==O?O:null);X(tt&&kt&&jn,"argument-error"),this.apiKey=tt,this.operation=jn,this.code=kt,this.continueUrl=null!==(V=ut.continueUrl)&&void 0!==V?V:null,this.languageCode=null!==(_e=ut.languageCode)&&void 0!==_e?_e:null,this.tenantId=null!==(Ge=ut.tenantId)&&void 0!==Ge?Ge:null}static parseLink(m){const _=function Ch(b){const m=(0,B.zd)((0,B.pd)(b)).link,_=m?(0,B.zd)((0,B.pd)(m)).deep_link_id:null,C=(0,B.zd)((0,B.pd)(b)).deep_link_id;return(C?(0,B.zd)((0,B.pd)(C)).link:null)||C||_||m||b}(m);try{return new Ts(_)}catch(C){return null}}}let La=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,C){return Fl._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const O=Ts.parseLink(C);return X(O,"argument-error"),Fl._fromEmailAndCode(_,O.code,O.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class eo{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class wi extends eo{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class oa extends wi{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return X("providerId"in _&&"signInMethod"in _,"argument-error"),Is._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return X(m.idToken||m.accessToken,"argument-error"),Is._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return oa.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return oa.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:O,pendingToken:V,nonce:_e,providerId:Ge}=m;if(!C&&!O&&!_&&!V||!Ge)return null;try{return new oa(Ge)._credential({idToken:_,accessToken:C,nonce:_e,pendingToken:V})}catch(ut){return null}}}let Va=(()=>{class b extends wi{constructor(){super("facebook.com")}static credential(_){return Is._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(C){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Ba=(()=>{class b extends wi{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return Is._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:O}=_;if(!C&&!O)return null;try{return b.credential(C,O)}catch(V){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Ih=(()=>{class b extends wi{constructor(){super("github.com")}static credential(_){return Is._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(C){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Ei extends _n{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return rr(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,rr(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,rr(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:O,pendingToken:V}=_;return C&&O&&V&&C===O?new Ei(C,V):null}static _create(m,_){return new Ei(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ds extends eo{constructor(m){X(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Ds.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Ds.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=Ei.fromJSON(m);return X(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:C}=m;if(!_||!C)return null;try{return Ei._create(C,_)}catch(O){return null}}}let Hi=(()=>{class b extends wi{constructor(){super("twitter.com")}static credential(_,C){return Is._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:O}=_;if(!C||!O)return null;try{return b.credential(C,O)}catch(V){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Pc(b,m){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,c.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signUp",qt(b,m))})).apply(this,arguments)}class Br{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,C,O=!1){return(0,c.Z)(function*(){const V=yield wt._fromIdTokenResponse(m,C,O),_e=Nc(C);return new Br({user:V,providerId:_e,_tokenResponse:C,operationType:_})})()}static _forOperation(m,_,C){return(0,c.Z)(function*(){yield m._updateTokensIfNecessary(C,!0);const O=Nc(C);return new Br({user:m,providerId:O,_tokenResponse:C,operationType:_})})()}}function Nc(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Fc(b){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,c.Z)(function*(b){var m;const _=Ye(b);if(yield _._initializationPromise,null===(m=_.currentUser)||void 0===m?void 0:m.isAnonymous)return new Br({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield Pc(_,{returnSecureToken:!0}),O=yield Br._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(O.user),O})).apply(this,arguments)}class Vl extends B.ZR{constructor(m,_,C,O){var V;super(_.code,_.message),this.operationType=C,this.user=O,Object.setPrototypeOf(this,Vl.prototype),this.customData={appName:m.name,tenantId:null!==(V=m.tenantId)&&void 0!==V?V:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(m,_,C,O){return new Vl(m,_,C,O)}}function Bl(b,m,_,C){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(V=>{throw"auth/multi-factor-auth-required"===V.code?Vl._fromErrorAndOperation(b,V,m,C):V})}function Du(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Ss(b,m){return Su.apply(this,arguments)}function Su(){return(Su=(0,c.Z)(function*(b,m){const _=(0,B.m9)(b);yield to(!0,_,m);const{providerUserInfo:C}=yield qr(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),O=Du(C||[]);return _.providerData=_.providerData.filter(V=>O.has(V.providerId)),O.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Rn(b,m){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,c.Z)(function*(b,m,_=!1){const C=yield ht(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return Br._forOperation(b,"link",C)})).apply(this,arguments)}function to(b,m,_){return En.apply(this,arguments)}function En(){return(En=(0,c.Z)(function*(b,m,_){yield $n(m);const O=!1===b?"provider-already-linked":"no-such-provider";X(Du(m.providerData).has(_)===b,m.auth,O)})).apply(this,arguments)}function Ul(b,m){return ja.apply(this,arguments)}function ja(){return(ja=(0,c.Z)(function*(b,m,_=!1){const{auth:C}=b,O="reauthenticate";try{const V=yield ht(b,Bl(C,O,m,b),_);X(V.idToken,C,"internal-error");const _e=Zt(V.idToken);X(_e,C,"internal-error");const{sub:Ge}=_e;return X(b.uid===Ge,C,"user-mismatch"),Br._forOperation(b,O,V)}catch(V){throw"auth/user-not-found"===(null==V?void 0:V.code)&&je(C,"user-mismatch"),V}})).apply(this,arguments)}function To(b,m){return vr.apply(this,arguments)}function vr(){return(vr=(0,c.Z)(function*(b,m,_=!1){const C="signIn",O=yield Bl(b,C,m),V=yield Br._fromIdTokenResponse(b,C,O);return _||(yield b._updateCurrentUser(V.user)),V})).apply(this,arguments)}function jl(b,m){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(b,m){return To(Ye(b),m)})).apply(this,arguments)}function As(b,m){return br.apply(this,arguments)}function br(){return(br=(0,c.Z)(function*(b,m){const _=(0,B.m9)(b);return yield to(!1,_,m.providerId),Rn(_,m)})).apply(this,arguments)}function aa(b,m){return ls.apply(this,arguments)}function ls(){return(ls=(0,c.Z)(function*(b,m){return Ul((0,B.m9)(b),m)})).apply(this,arguments)}function Au(b,m){return ai.apply(this,arguments)}function ai(){return(ai=(0,c.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signInWithCustomToken",qt(b,m))})).apply(this,arguments)}function no(b,m){return ro.apply(this,arguments)}function ro(){return(ro=(0,c.Z)(function*(b,m){const _=Ye(b),C=yield Au(_,{token:m,returnSecureToken:!0}),O=yield Br._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(O.user),O})).apply(this,arguments)}class It{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?Ha._fromServerResponse(m,_):je(m,"internal-error")}}class Ha extends It{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new Ha(_)}}function Ga(b,m,_){var C;X((null===(C=_.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),X(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(X(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(X(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function Lc(b,m,_){return za.apply(this,arguments)}function za(){return(za=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b),O={requestType:"PASSWORD_RESET",email:m};_&&Ga(C,O,_),yield Dc(C,O)})).apply(this,arguments)}function Mu(b,m,_){return $a.apply(this,arguments)}function $a(){return($a=(0,c.Z)(function*(b,m,_){yield Eo((0,B.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Th(b,m){return Le.apply(this,arguments)}function Le(){return(Le=(0,c.Z)(function*(b,m){yield ta((0,B.m9)(b),{oobCode:m})})).apply(this,arguments)}function Xt(b,m){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,c.Z)(function*(b,m){const _=(0,B.m9)(b),C=yield Eo(_,{oobCode:m}),O=C.requestType;switch(X(O,_,"internal-error"),O){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(C.mfaInfo,_,"internal-error");default:X(C.email,_,"internal-error")}let V=null;return C.mfaInfo&&(V=It._fromServerResponse(Ye(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:V},operation:O}})).apply(this,arguments)}function Hn(b,m){return io.apply(this,arguments)}function io(){return(io=(0,c.Z)(function*(b,m){const{data:_}=yield Xt((0,B.m9)(b),m);return _.email})).apply(this,arguments)}function qa(b,m,_){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(b,m,_){const C=Ye(b),O=yield Pc(C,{returnSecureToken:!0,email:m,password:_}),V=yield Br._fromIdTokenResponse(C,"signIn",O);return yield C._updateCurrentUser(V.user),V})).apply(this,arguments)}function xu(b,m,_){return jl((0,B.m9)(b),La.credential(m,_))}function Ru(b,m,_){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b),O={requestType:"EMAIL_SIGNIN",email:m};X(_.handleCodeInApp,C,"argument-error"),_&&Ga(C,O,_),yield vi(C,O)})).apply(this,arguments)}function Bc(b,m){const _=Ts.parseLink(m);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function Ka(b,m,_){return la.apply(this,arguments)}function la(){return(la=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b),O=La.credentialWithLink(m,_||te());return X(O._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),jl(C,O)})).apply(this,arguments)}function ar(b,m){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,c.Z)(function*(b,m){return gn(b,"POST","/v1/accounts:createAuthUri",qt(b,m))})).apply(this,arguments)}function ku(b,m){return us.apply(this,arguments)}function us(){return(us=(0,c.Z)(function*(b,m){const C={identifier:m,continueUri:We()?te():"http://localhost"},{signinMethods:O}=yield ar((0,B.m9)(b),C);return O||[]})).apply(this,arguments)}function Ms(b,m){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,c.Z)(function*(b,m){const _=(0,B.m9)(b),O={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&Ga(_.auth,O,m);const{email:V}=yield yr(_.auth,O);V!==b.email&&(yield b.reload())})).apply(this,arguments)}function Uc(b,m,_){return Za.apply(this,arguments)}function Za(){return(Za=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b),V={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&Ga(C.auth,V,_);const{email:_e}=yield Sc(C.auth,V);_e!==b.email&&(yield b.reload())})).apply(this,arguments)}function jc(b,m){return Do.apply(this,arguments)}function Do(){return(Do=(0,c.Z)(function*(b,m){return gn(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Hl(b,m){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,c.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const C=(0,B.m9)(b),V={idToken:yield C.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},_e=yield ht(C,jc(C.auth,V));C.displayName=_e.displayName||null,C.photoURL=_e.photoUrl||null;const Ge=C.providerData.find(({providerId:ut})=>"password"===ut);Ge&&(Ge.displayName=C.displayName,Ge.photoURL=C.photoURL),yield C._updateTokensIfNecessary(_e)})).apply(this,arguments)}function Ou(b,m){return Gl((0,B.m9)(b),m,null)}function Gp(b,m){return Gl((0,B.m9)(b),null,m)}function Gl(b,m,_){return So.apply(this,arguments)}function So(){return(So=(0,c.Z)(function*(b,m,_){const{auth:C}=b,V={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(V.email=m),_&&(V.password=_);const _e=yield ht(b,Vt(C,V));yield b._updateTokensIfNecessary(_e,!0)})).apply(this,arguments)}class Ao{constructor(m,_,C={}){this.isNewUser=m,this.providerId=_,this.profile=C}}class Hc extends Ao{constructor(m,_,C,O){super(m,_,C),this.username=O}}class Dh extends Ao{constructor(m,_){super(m,"facebook.com",_)}}class ua extends Hc{constructor(m,_){super(m,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class cs extends Ao{constructor(m,_){super(m,"google.com",_)}}class Sh extends Hc{constructor(m,_,C){super(m,"twitter.com",_,C)}}function wr(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Pu(b){var m,_;if(!b)return null;const{providerId:C}=b,O=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},V=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&(null==b?void 0:b.idToken)){const _e=null===(_=null===(m=Zt(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(_e)return new Ao(V,"anonymous"!==_e&&"custom"!==_e?_e:null)}if(!C)return null;switch(C){case"facebook.com":return new Dh(V,O);case"github.com":return new ua(V,O);case"google.com":return new cs(V,O);case"twitter.com":return new Sh(V,O,b.screenName||null);case"custom":case"anonymous":return new Ao(V,null);default:return new Ao(V,C,O)}}(_)}class Rs{constructor(m,_){this.type=m,this.credential=_}static _fromIdtoken(m){return new Rs("enroll",m)}static _fromMfaPendingCredential(m){return new Rs("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,C;if(null==m?void 0:m.multiFactorSession){if(null===(_=m.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Rs._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(C=m.multiFactorSession)||void 0===C?void 0:C.idToken)return Rs._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Ja{constructor(m,_,C){this.session=m,this.hints=_,this.signInResolver=C}static _fromError(m,_){const C=Ye(m),O=_.customData._serverResponse,V=(O.mfaInfo||[]).map(Ge=>It._fromServerResponse(C,Ge));X(O.mfaPendingCredential,C,"internal-error");const _e=Rs._fromMfaPendingCredential(O.mfaPendingCredential);return new Ja(_e,V,function(){var Ge=(0,c.Z)(function*(ut){const tt=yield ut._process(C,_e);delete O.mfaInfo,delete O.mfaPendingCredential;const kt=Object.assign(Object.assign({},O),{idToken:tt.idToken,refreshToken:tt.refreshToken});switch(_.operationType){case"signIn":const jn=yield Br._fromIdTokenResponse(C,_.operationType,kt);return yield C._updateCurrentUser(jn.user),jn;case"reauthenticate":return X(_.user,C,"internal-error"),Br._forOperation(_.user,_.operationType,kt);default:je(C,"internal-error")}});return function(ut){return Ge.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,c.Z)(function*(){return _.signInResolver(m)})()}}function zl(b,m){var _;const C=(0,B.m9)(b),O=m;return X(m.customData.operationType,C,"argument-error"),X(null===(_=O.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),Ja._fromError(C,O)}function Er(b,m){return gn(b,"POST","/v2/accounts/mfaEnrollment:start",qt(b,m))}class ca{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>It._fromServerResponse(m.auth,C)))})}static _fromUser(m){return new ca(m)}getSession(){var m=this;return(0,c.Z)(function*(){return Rs._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,_){var C=this;return(0,c.Z)(function*(){const O=m,V=yield C.getSession(),_e=yield ht(C.user,O._process(C.user.auth,V,_));return yield C.user._updateTokensIfNecessary(_e),C.user.reload()})()}unenroll(m){var _=this;return(0,c.Z)(function*(){const C="string"==typeof m?m:m.uid,O=yield _.user.getIdToken(),V=yield ht(_.user,function Mo(b,m){return gn(b,"POST","/v2/accounts/mfaEnrollment:withdraw",qt(b,m))}(_.user.auth,{idToken:O,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:_e})=>_e!==C),yield _.user._updateTokensIfNecessary(V);try{yield _.user.reload()}catch(_e){if("auth/user-token-expired"!==_e.code)throw _e}})()}}const zc=new WeakMap;function $c(b){const m=(0,B.m9)(b);return zc.has(m)||zc.set(m,ca._fromUser(m)),zc.get(m)}const li="__sak";class da{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(li,"1"),this.storage.removeItem(li),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Cr=(()=>{class b extends da{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wc(){const b=(0,B.z$)();return ae(b)||Kt(b)}()&&function as(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=Vr(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const O=this.storage.getItem(C),V=this.localCache[C];O!==V&&_(C,V,O)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((Ge,ut,tt)=>{this.notifyListeners(Ge,tt)});const O=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ge=this.storage.getItem(O);if(_.newValue!==Ge)null!==_.newValue?this.storage.setItem(O,_.newValue):this.storage.removeItem(O);else if(this.localCache[O]===_.newValue&&!C)return}const V=()=>{const Ge=this.storage.getItem(O);!C&&this.localCache[O]===Ge||this.notifyListeners(O,Ge)},_e=this.storage.getItem(O);!function Yt(){return(0,B.w1)()&&10===document.documentMode}()||_e===_.newValue||_.newValue===_.oldValue?V():setTimeout(V,10)}notifyListeners(_,C){this.localCache[_]=C;const O=this.listeners[_];if(O)for(const V of Array.from(O))V(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,O)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:O}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var O=()=>super._set,V=this;return(0,c.Z)(function*(){yield O().call(V,_,C),V.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,O=this;return(0,c.Z)(function*(){const V=yield C().call(O,_);return O.localCache[_]=JSON.stringify(V),V})()}_remove(_){var C=()=>super._remove,O=this;return(0,c.Z)(function*(){yield C().call(O,_),delete O.localCache[_]})()}}return b.type="LOCAL",b})(),ds=(()=>{class b extends da{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return b.type="SESSION",b})();let xo=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(V=>V.isListeningto(_));if(C)return C;const O=new b(_);return this.receivers.push(O),O}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,c.Z)(function*(){const O=_,{eventId:V,eventType:_e,data:Ge}=O.data,ut=C.handlersMap[_e];if(!(null==ut?void 0:ut.size))return;O.ports[0].postMessage({status:"ack",eventId:V,eventType:_e});const tt=Array.from(ut).map(function(){var jn=(0,c.Z)(function*(zi){return zi(O.origin,Ge)});return function(zi){return jn.apply(this,arguments)}}()),kt=yield function Nu(b){return Promise.all(b.map(function(){var m=(0,c.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return m.apply(this,arguments)}}()))}(tt);O.ports[0].postMessage({status:"done",eventId:V,eventType:_e,response:kt})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Ro(b="",m=10){let _="";for(let C=0;C<m;C++)_+=Math.floor(10*Math.random());return b+_}class so{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,C=50){var O=this;return(0,c.Z)(function*(){const V="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!V)throw new Error("connection_unavailable");let _e,Ge;return new Promise((ut,tt)=>{const kt=Ro("",20);V.port1.start();const jn=setTimeout(()=>{tt(new Error("unsupported_event"))},C);Ge={messageChannel:V,onMessage(zi){const Vo=zi;if(Vo.data.eventId===kt)switch(Vo.data.status){case"ack":clearTimeout(jn),_e=setTimeout(()=>{tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(_e),ut(Vo.data.response);break;default:clearTimeout(jn),clearTimeout(_e),tt(new Error("invalid_response"))}}},O.handlers.add(Ge),V.port1.addEventListener("message",Ge.onMessage),O.target.postMessage({eventType:m,eventId:kt,data:_},[V.port2])}).finally(()=>{Ge&&O.removeMessageHandler(Ge)})})()}}function on(){return window}function Ci(){return void 0!==on().WorkerGlobalScope&&"function"==typeof on().importScripts}function tl(){return(tl=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const nl="firebaseLocalStorageDb",xr="firebaseLocalStorage",rl="fbase_key";class ui{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ks(b,m){return b.transaction([xr],m?"readwrite":"readonly").objectStore(xr)}function Wl(){const b=indexedDB.open(nl,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(xr,{keyPath:rl})}catch(O){_(O)}}),b.addEventListener("success",(0,c.Z)(function*(){const C=b.result;C.objectStoreNames.contains(xr)?m(C):(C.close(),yield function Ii(){const b=indexedDB.deleteDatabase(nl);return new ui(b).toPromise()}(),m(yield Wl()))}))})}function pa(b,m,_){return ci.apply(this,arguments)}function ci(){return(ci=(0,c.Z)(function*(b,m,_){const C=ks(b,!0).put({[rl]:m,value:_});return new ui(C).toPromise()})).apply(this,arguments)}function Ht(){return(Ht=(0,c.Z)(function*(b,m){const _=ks(b,!1).get(m),C=yield new ui(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Ir(b,m){const _=ks(b,!0).delete(m);return new ui(_).toPromise()}const Rh=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,c.Z)(function*(){return _.db||(_.db=yield Wl()),_.db})()}_withRetries(_){var C=this;return(0,c.Z)(function*(){let O=0;for(;;)try{const V=yield C._openDb();return yield _(V)}catch(V){if(O++>3)throw V;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,c.Z)(function*(){return Ci()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,c.Z)(function*(){_.receiver=xo._getInstance(function qc(){return Ci()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,c.Z)(function*(O,V){return{keyProcessed:(yield _._poll()).includes(V.key)}});return function(O,V){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,c.Z)(function*(O,V){return["keyChanged"]});return function(O,V){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,c.Z)(function*(){var C,O;if(_.activeServiceWorker=yield function ha(){return tl.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new so(_.activeServiceWorker);const V=yield _.sender._send("ping",{},800);!V||(null===(C=V[0])||void 0===C?void 0:C.fulfilled)&&(null===(O=V[0])||void 0===O?void 0:O.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,c.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function fa(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch(O){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Wl();return yield pa(_,li,"1"),yield Ir(_,li),!0}catch(_){}return!1})()}_withPendingWrite(_){var C=this;return(0,c.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var O=this;return(0,c.Z)(function*(){return O._withPendingWrite((0,c.Z)(function*(){return yield O._withRetries(V=>pa(V,_,C)),O.localCache[_]=C,O.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,c.Z)(function*(){const O=yield C._withRetries(V=>function il(b,m){return Ht.apply(this,arguments)}(V,_));return C.localCache[_]=O,O})()}_remove(_){var C=this;return(0,c.Z)(function*(){return C._withPendingWrite((0,c.Z)(function*(){return yield C._withRetries(O=>Ir(O,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,c.Z)(function*(){const C=yield _._withRetries(_e=>{const Ge=ks(_e,!1).getAll();return new ui(Ge).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const O=[],V=new Set;for(const{fbase_key:_e,value:Ge}of C)V.add(_e),JSON.stringify(_.localCache[_e])!==JSON.stringify(Ge)&&(_.notifyListeners(_e,Ge),O.push(_e));for(const _e of Object.keys(_.localCache))_.localCache[_e]&&!V.has(_e)&&(_.notifyListeners(_e,null),O.push(_e));return O})()}notifyListeners(_,C){this.localCache[_]=C;const O=this.listeners[_];if(O)for(const V of Array.from(O))V(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function kh(b,m){return gn(b,"POST","/v2/accounts/mfaSignIn:start",qt(b,m))}function ol(){return(ol=(0,c.Z)(function*(b){return(yield gn(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ga(b){return new Promise((m,_)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=m,C.onerror=O=>{const V=ve("internal-error");V.customData=O,_(V)},C.type="text/javascript",C.charset="UTF-8",function Lu(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(C)})}function ko(b){return`__${b}${Math.floor(1e6*Math.random())}`}const oo=1e12;class Oh{constructor(m){this.auth=m,this.counter=oo,this._widgets=new Map}render(m,_){const C=this.counter;return this._widgets.set(C,new ll(m,this.auth.name,_||{})),this.counter++,C}reset(m){var _;const C=m||oo;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(m){var _;return(null===(_=this._widgets.get(m||oo))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,c.Z)(function*(){var C;return null===(C=_._widgets.get(m||oo))||void 0===C||C.execute(),""})()}}class ll{constructor(m,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const O="string"==typeof m?document.getElementById(m):m;X(O,"argument-error",{appName:_}),this.container=O,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function S_(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ql=ko("rcb"),er=new lt(3e4,6e4);class s0{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!on().grecaptcha}load(m,_=""){return X(function o0(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(on().grecaptcha):new Promise((C,O)=>{const V=on().setTimeout(()=>{O(ve(m,"network-request-failed"))},er.get());on()[ql]=()=>{on().clearTimeout(V),delete on()[ql];const Ge=on().grecaptcha;if(!Ge)return void O(ve(m,"internal-error"));const ut=Ge.render;Ge.render=(tt,kt)=>{const jn=ut(tt,kt);return this.counter++,jn},this.hostLanguage=_,C(Ge)},ga(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:ql,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(V),O(ve(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!on().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class M_{load(m){return(0,c.Z)(function*(){return new Oh(m)})()}clearedOneInstance(){}}const Ph="recaptcha",qp={theme:"light",type:"image"};class x_{constructor(m,_=Object.assign({},qp),C){this.parameters=_,this.type=Ph,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ye(C),this.isInvisible="invisible"===this.parameters.size,X("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const O="string"==typeof m?document.getElementById(m):m;X(O,this.auth,"argument-error"),this.container=O,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new M_:new s0,this.validateStartingState()}verify(){var m=this;return(0,c.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),C=m.getAssertedRecaptcha();return C.getResponse(_)||new Promise(V=>{const _e=Ge=>{!Ge||(m.tokenChangeListeners.delete(_e),V(Ge))};m.tokenChangeListeners.add(_e),m.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof m)m(_);else if("string"==typeof m){const C=on()[m];"function"==typeof C&&C(_)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,c.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,c.Z)(function*(){X(We()&&!Ci(),m.auth,"internal-error"),yield function Kl(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function sl(b){return ol.apply(this,arguments)}(m.auth);X(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Nh{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=sa._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function lr(b,m,_){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,c.Z)(function*(b,m,_){const C=Ye(b),O=yield Ti(C,m,(0,B.m9)(_));return new Nh(O,V=>jl(C,V))})).apply(this,arguments)}function Zl(b,m,_){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b);yield to(!1,C,"phone");const O=yield Ti(C.auth,m,(0,B.m9)(_));return new Nh(O,V=>As(C,V))})).apply(this,arguments)}function Yp(b,m,_){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b),O=yield Ti(C.auth,m,(0,B.m9)(_));return new Nh(O,V=>aa(C,V))})).apply(this,arguments)}function Ti(b,m,_){return ul.apply(this,arguments)}function ul(){return(ul=(0,c.Z)(function*(b,m,_){var C;const O=yield _.verify();try{let V;if(X("string"==typeof O,b,"argument-error"),X(_.type===Ph,b,"argument-error"),V="string"==typeof m?{phoneNumber:m}:m,"session"in V){const _e=V.session;if("phoneNumber"in V)return X("enroll"===_e.type,b,"internal-error"),(yield Er(b,{idToken:_e.credential,phoneEnrollmentInfo:{phoneNumber:V.phoneNumber,recaptchaToken:O}})).phoneSessionInfo.sessionInfo;{X("signin"===_e.type,b,"internal-error");const Ge=(null===(C=V.multiFactorHint)||void 0===C?void 0:C.uid)||V.multiFactorUid;return X(Ge,b,"missing-multi-factor-info"),(yield kh(b,{mfaPendingCredential:_e.credential,mfaEnrollmentId:Ge,phoneSignInInfo:{recaptchaToken:O}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:_e}=yield Lp(b,{phoneNumber:V.phoneNumber,recaptchaToken:O});return _e}}finally{_._reset()}})).apply(this,arguments)}function Ql(b,m){return ma.apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(b,m){yield Rn((0,B.m9)(b),m)})).apply(this,arguments)}let Vu=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Ye(_)}verifyPhoneNumber(_,C){return Ti(this.auth,_,(0,B.m9)(C))}static credential(_,C){return sa._fromVerification(_,C)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:O}=_;return C&&O?sa._fromTokenResponse(C,O):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function ao(b,m){return m?q(m):(X(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Xl extends _n{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return rr(m,this._buildIdpRequest())}_linkToIdToken(m,_){return rr(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return rr(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Fh(b){return To(b.auth,new Xl(b),b.bypassAuthState)}function Lh(b){const{auth:m,user:_}=b;return X(_,m,"internal-error"),Ul(_,new Xl(b),b.bypassAuthState)}function Bu(b){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,c.Z)(function*(b){const{auth:m,user:_}=b;return X(_,m,"internal-error"),Rn(_,new Xl(b),b.bypassAuthState)})).apply(this,arguments)}class Kc{constructor(m,_,C,O,V=!1){this.auth=m,this.resolver=C,this.user=O,this.bypassAuthState=V,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,c.Z)(function*(C,O){m.pendingPromise={resolve:C,reject:O};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(V){m.reject(V)}});return function(C,O){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,c.Z)(function*(){const{urlResponse:C,sessionId:O,postBody:V,tenantId:_e,error:Ge,type:ut}=m;if(Ge)return void _.reject(Ge);const tt={auth:_.auth,requestUri:C,sessionId:O,tenantId:_e||void 0,postBody:V||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(ut)(tt))}catch(kt){_.reject(kt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Fh;case"linkViaPopup":case"linkViaRedirect":return Bu;case"reauthViaPopup":case"reauthViaRedirect":return Lh;default:je(this.auth,"internal-error")}}resolve(m){F(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){F(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jl=new lt(2e3,1e4);function a0(b,m,_){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,c.Z)(function*(b,m,_){const C=Ye(b);Pe(b,m,eo);const O=ao(C,_);return new Zc(C,"signInViaPopup",m,O).executeNotNull()})).apply(this,arguments)}function Zp(b,m,_){return Po.apply(this,arguments)}function Po(){return(Po=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b);Pe(C.auth,m,eo);const O=ao(C.auth,_);return new Zc(C.auth,"reauthViaPopup",m,O,C).executeNotNull()})).apply(this,arguments)}function Vh(b,m,_){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b);Pe(C.auth,m,eo);const O=ao(C.auth,_);return new Zc(C.auth,"linkViaPopup",m,O,C).executeNotNull()})).apply(this,arguments)}let Zc=(()=>{class b extends Kc{constructor(_,C,O,V,_e){super(_,C,V,_e),this.provider=O,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,c.Z)(function*(){const C=yield _.execute();return X(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,c.Z)(function*(){F(1===_.filter.length,"Popup operations only handle one event");const C=Ro();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(O=>{_.reject(O)}),_.resolver._isIframeWebStorageSupported(_.auth,O=>{O||_.reject(ve(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,O;this.pollId=(null===(O=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===O?void 0:O.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Jl.get())};_()}}return b.currentPopupAction=null,b})();const _a=new Map;class Ps extends Kc{constructor(m,_,C=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,c.Z)(function*(){let C=_a.get(_.auth._key());if(!C){try{const V=(yield function R_(b,m){return cl.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;C=()=>Promise.resolve(V)}catch(O){C=()=>Promise.reject(O)}_a.set(_.auth._key(),C)}return _.bypassAuthState||_a.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,C=this;return(0,c.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(C,m);if("unknown"!==m.type){if(m.eventId){const O=yield C.auth._redirectUserForId(m.eventId);if(O)return C.user=O,_().call(C,m);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function cl(){return(cl=(0,c.Z)(function*(b,m){const _=S(m),C=D(b);if(!(yield C._isAvailable()))return!1;const O="true"===(yield C._get(_));return yield C._remove(_),O})).apply(this,arguments)}function dl(b,m){return hl.apply(this,arguments)}function hl(){return(hl=(0,c.Z)(function*(b,m){return D(b)._set(S(m),"true")})).apply(this,arguments)}function Qp(){_a.clear()}function Bh(b,m){_a.set(b._key(),m)}function D(b){return q(b._redirectPersistence)}function S(b){return Dt("pendingRedirect",b.config.apiKey,b.name)}function N(b,m,_){return function Y(b,m,_){return fe.apply(this,arguments)}(b,m,_)}function fe(){return(fe=(0,c.Z)(function*(b,m,_){const C=Ye(b);Pe(b,m,eo);const O=ao(C,_);return yield dl(O,C),O._openRedirect(C,m,"signInViaRedirect")})).apply(this,arguments)}function Ie(b,m,_){return function Ue(b,m,_){return dt.apply(this,arguments)}(b,m,_)}function dt(){return(dt=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b);Pe(C.auth,m,eo);const O=ao(C.auth,_);yield dl(O,C.auth);const V=yield Fo(C);return O._openRedirect(C.auth,m,"reauthViaRedirect",V)})).apply(this,arguments)}function Rt(b,m,_){return function Mt(b,m,_){return Jt.apply(this,arguments)}(b,m,_)}function Jt(){return(Jt=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b);Pe(C.auth,m,eo);const O=ao(C.auth,_);yield to(!1,C,m.providerId),yield dl(O,C.auth);const V=yield Fo(C);return O._openRedirect(C.auth,m,"linkViaRedirect",V)})).apply(this,arguments)}function Bt(b,m){return di.apply(this,arguments)}function di(){return(di=(0,c.Z)(function*(b,m){return yield Ye(b)._initializationPromise,ur(b,m,!1)})).apply(this,arguments)}function ur(b,m){return lo.apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(b,m,_=!1){const C=Ye(b),O=ao(C,m),_e=yield new Ps(C,O,_).execute();return _e&&!_&&(delete _e.user._redirectEventId,yield C._persistUserIfCurrent(_e.user),yield C._setRedirectUser(null,m)),_e})).apply(this,arguments)}function Fo(b){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,c.Z)(function*(b){const m=Ro(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class ya{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(m,C)&&(_=!0,this.sendToConsumer(m,C),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function jh(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uh(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var C;if(m.error&&!Uh(m)){const O=(null===(C=m.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(ve(this.auth,O))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const C=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&C}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ju(m))}saveEventToCache(m){this.cachedEventUids.add(ju(m)),this.lastProcessedEventTime=Date.now()}}function ju(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function Uh({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===(null==m?void 0:m.code)}function Xp(b){return Jp.apply(this,arguments)}function Jp(){return(Jp=(0,c.Z)(function*(b,m={}){return gn(b,"GET","/v1/projects",m)})).apply(this,arguments)}const l0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hu=/^https?/;function eg(){return(eg=(0,c.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Xp(b);for(const _ of m)try{if(iS(_))return}catch(C){}je(b,"unauthorized-domain")})).apply(this,arguments)}function iS(b){const m=te(),{protocol:_,hostname:C}=new URL(m);if(b.startsWith("chrome-extension://")){const _e=new URL(b);return""===_e.hostname&&""===C?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&_e.hostname===C}if(!Hu.test(_))return!1;if(l0.test(b))return C===b;const O=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+O+"|"+O+")$","i").test(C)}const k_=new lt(3e4,6e4);function O_(){const b=on().___jsl;if(null==b?void 0:b.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Hh=null;function u0(b){return Hh=Hh||function sS(b){return new Promise((m,_)=>{var C,O,V;function _e(){O_(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{O_(),_(ve(b,"network-request-failed"))},timeout:k_.get()})}if(null===(O=null===(C=on().gapi)||void 0===C?void 0:C.iframes)||void 0===O?void 0:O.Iframe)m(gapi.iframes.getContext());else{if(!(null===(V=on().gapi)||void 0===V?void 0:V.load)){const Ge=ko("iframefcb");return on()[Ge]=()=>{gapi.load?_e():_(ve(b,"network-request-failed"))},ga(`https://apis.google.com/js/api.js?onload=${Ge}`).catch(ut=>_(ut))}_e()}}).catch(m=>{throw Hh=null,m})}(b),Hh}const c0=new lt(5e3,15e3),Gu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h0(b){const m=b.config;X(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?vn(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,C={apiKey:m.apiKey,appName:b.name,v:k.SDK_VERSION},O=d0.get(b.config.apiHost);O&&(C.eid=O);const V=b._getFrameworks();return V.length&&(C.fw=V.join(",")),`${_}?${(0,B.xO)(C).slice(1)}`}function zu(){return zu=(0,c.Z)(function*(b){const m=yield u0(b),_=on().gapi;return X(_,b,"internal-error"),m.open({where:document.body,url:h0(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gu,dontclear:!0},C=>new Promise(function(){var O=(0,c.Z)(function*(V,_e){yield C.restyle({setHideOnLeave:!1});const Ge=ve(b,"network-request-failed"),ut=on().setTimeout(()=>{_e(Ge)},c0.get());function tt(){on().clearTimeout(ut),V(C)}C.ping(tt).then(tt,()=>{_e(Ge)})});return function(V,_e){return O.apply(this,arguments)}}()))}),zu.apply(this,arguments)}const ng={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class L_{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function uo(b,m,_,C,O,V){X(b.config.authDomain,b,"auth-domain-config-required"),X(b.config.apiKey,b,"invalid-api-key");const _e={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:C,v:k.SDK_VERSION,eventId:O};if(m instanceof eo){m.setDefaultLanguage(b.languageCode),_e.providerId=m.providerId||"",(0,B.xb)(m.getCustomParameters())||(_e.customParameters=JSON.stringify(m.getCustomParameters()));for(const[ut,tt]of Object.entries(V||{}))_e[ut]=tt}if(m instanceof wi){const ut=m.getScopes().filter(tt=>""!==tt);ut.length>0&&(_e.scopes=ut.join(","))}b.tenantId&&(_e.tid=b.tenantId);const Ge=_e;for(const ut of Object.keys(Ge))void 0===Ge[ut]&&delete Ge[ut];return`${function $u({config:b}){return b.emulator?vn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,B.xO)(Ge).slice(1)}`}const zh="webStorageSupport",V_=class _0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ds,this._completeRedirectFn=ur,this._overrideRedirectResult=Bh}_openPopup(m,_,C,O){var V=this;return(0,c.Z)(function*(){var _e;F(null===(_e=V.eventManagers[m._key()])||void 0===_e?void 0:_e.manager,"_initialize() not called before _openPopup()");const Ge=uo(m,_,C,te(),O);return function f0(b,m,_,C=500,O=600){const V=Math.max((window.screen.availHeight-O)/2,0).toString(),_e=Math.max((window.screen.availWidth-C)/2,0).toString();let Ge="";const ut=Object.assign(Object.assign({},ng),{width:C.toString(),height:O.toString(),top:V,left:_e}),tt=(0,B.z$)().toLowerCase();_&&(Ge=Fe(tt)?"_blank":_),de(tt)&&(m=m||"http://localhost",ut.scrollbars="yes");const kt=Object.entries(ut).reduce((zi,[Vo,ig])=>`${zi}${Vo}=${ig},`,"");if(function ii(b=(0,B.z$)()){var m;return Kt(b)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(tt)&&"_self"!==Ge)return function p0(b,m){const _=document.createElement("a");_.href=b,_.target=m;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(m||"",Ge),new L_(null);const jn=window.open(m||"",Ge,kt);X(jn,b,"popup-blocked");try{jn.focus()}catch(zi){}return new L_(jn)}(m,Ge,Ro())})()}_openRedirect(m,_,C,O){var V=this;return(0,c.Z)(function*(){return yield V._originValidation(m),function el(b){on().location.href=b}(uo(m,_,C,te(),O)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:O,promise:V}=this.eventManagers[_];return O?Promise.resolve(O):(F(V,"If manager is not set, promise should be"),V)}const C=this.initAndGetManager(m);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(m){var _=this;return(0,c.Z)(function*(){const C=yield function oS(b){return zu.apply(this,arguments)}(m),O=new ya(m);return C.register("authEvent",V=>(X(null==V?void 0:V.authEvent,m,"invalid-auth-event"),{status:O.onEvent(V.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:O},_.iframes[m._key()]=C,O})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(zh,{type:zh},O=>{var V;const _e=null===(V=null==O?void 0:O[0])||void 0===V?void 0:V[zh];void 0!==_e&&_(!!_e),je(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Qc(b){return eg.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return Vr()||ae()||Kt()}};class $h extends class y0{constructor(m){this.factorId=m}_process(m,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,C);case"signin":return this._finalizeSignIn(m,_.credential);default:return be("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new $h(m)}_finalizeEnroll(m,_,C){return function Mh(b,m){return gn(b,"POST","/v2/accounts/mfaEnrollment:finalize",qt(b,m))}(m,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function Fu(b,m){return gn(b,"POST","/v2/accounts/mfaSignIn:finalize",qt(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let rg=(()=>{class b{constructor(){}static assertion(_){return $h._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Di="@firebase/auth";class cr{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,c.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(C=>{var O;m((null===(O=C)||void 0===O?void 0:O.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function B_(b){(0,k._registerComponent)(new le.wA("auth",(m,{options:_})=>{const C=m.getProvider("app").getImmediate(),O=m.getProvider("heartbeat"),{apiKey:V,authDomain:_e}=C.options;return((Ge,ut)=>{X(V&&!V.includes(":"),"invalid-api-key",{appName:Ge.name}),X(!(null==_e?void 0:_e.includes(":")),"argument-error",{appName:Ge.name});const tt={apiKey:V,authDomain:_e,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_r(b)},kt=new si(Ge,ut,tt);return function me(b,m){const _=(null==m?void 0:m.persistence)||[],C=(Array.isArray(_)?_:[_]).map(q);(null==m?void 0:m.errorMap)&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(C,null==m?void 0:m.popupRedirectResolver)}(kt,_),kt})(C,O)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,C)=>{m.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new le.wA("auth-internal",m=>{const _=Ye(m.getProvider("auth").getImmediate());return new cr(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(Di,"0.20.2",function dr(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,k.registerVersion)(Di,"0.20.2","esm2017")}("Browser")},2090:(Ae,ye,R)=>{"use strict";R.d(ye,{$s:()=>Qt,BH:()=>Ne,DV:()=>gn,Dv:()=>Ar,GJ:()=>un,L:()=>ne,LL:()=>te,Mn:()=>Pe,Pz:()=>ze,Sg:()=>Me,UG:()=>Ee,UI:()=>Ui,US:()=>le,Wj:()=>Pn,Yr:()=>Je,ZB:()=>U,ZR:()=>me,b$:()=>je,cI:()=>pn,d:()=>ve,dS:()=>ws,eu:()=>F,g5:()=>k,gK:()=>sr,gQ:()=>zn,h$:()=>Q,hl:()=>be,hu:()=>B,jU:()=>Ce,lb:()=>or,m9:()=>bn,ne:()=>ss,p$:()=>H,pd:()=>ji,r3:()=>qt,ru:()=>Oe,tV:()=>ce,uI:()=>Be,ug:()=>Zt,vZ:()=>Lr,w1:()=>Ke,w9:()=>kn,xO:()=>is,xb:()=>Fn,z$:()=>ke,zI:()=>$,zd:()=>mi});const B=function(J,oe){if(!J)throw k(oe)},k=function(J){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+J)},K=function(J){const oe=[];let ue=0;for(let xe=0;xe<J.length;xe++){let se=J.charCodeAt(xe);se<128?oe[ue++]=se:se<2048?(oe[ue++]=se>>6|192,oe[ue++]=63&se|128):55296==(64512&se)&&xe+1<J.length&&56320==(64512&J.charCodeAt(xe+1))?(se=65536+((1023&se)<<10)+(1023&J.charCodeAt(++xe)),oe[ue++]=se>>18|240,oe[ue++]=se>>12&63|128,oe[ue++]=se>>6&63|128,oe[ue++]=63&se|128):(oe[ue++]=se>>12|224,oe[ue++]=se>>6&63|128,oe[ue++]=63&se|128)}return oe},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,oe){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ue=oe?this.byteToCharMapWebSafe_:this.byteToCharMap_,xe=[];for(let se=0;se<J.length;se+=3){const pe=J[se],He=se+1<J.length,et=He?J[se+1]:0,wt=se+2<J.length,Lt=wt?J[se+2]:0;let nr=(15&et)<<2|Lt>>6,we=63&Lt;wt||(we=64,He||(nr=64)),xe.push(ue[pe>>2],ue[(3&pe)<<4|et>>4],ue[nr],ue[we])}return xe.join("")},encodeString(J,oe){return this.HAS_NATIVE_SUPPORT&&!oe?btoa(J):this.encodeByteArray(K(J),oe)},decodeString(J,oe){return this.HAS_NATIVE_SUPPORT&&!oe?atob(J):function(J){const oe=[];let ue=0,xe=0;for(;ue<J.length;){const se=J[ue++];if(se<128)oe[xe++]=String.fromCharCode(se);else if(se>191&&se<224){const pe=J[ue++];oe[xe++]=String.fromCharCode((31&se)<<6|63&pe)}else if(se>239&&se<365){const wt=((7&se)<<18|(63&J[ue++])<<12|(63&J[ue++])<<6|63&J[ue++])-65536;oe[xe++]=String.fromCharCode(55296+(wt>>10)),oe[xe++]=String.fromCharCode(56320+(1023&wt))}else{const pe=J[ue++],He=J[ue++];oe[xe++]=String.fromCharCode((15&se)<<12|(63&pe)<<6|63&He)}}return oe.join("")}(this.decodeStringToByteArray(J,oe))},decodeStringToByteArray(J,oe){this.init_();const ue=oe?this.charToByteMapWebSafe_:this.charToByteMap_,xe=[];for(let se=0;se<J.length;){const pe=ue[J.charAt(se++)],et=se<J.length?ue[J.charAt(se)]:0;++se;const Lt=se<J.length?ue[J.charAt(se)]:64;++se;const Dt=se<J.length?ue[J.charAt(se)]:64;if(++se,null==pe||null==et||null==Lt||null==Dt)throw Error();xe.push(pe<<2|et>>4),64!==Lt&&(xe.push(et<<4&240|Lt>>2),64!==Dt&&xe.push(Lt<<6&192|Dt))}return xe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}},Q=function(J){const oe=K(J);return le.encodeByteArray(oe,!0)},ne=function(J){return Q(J).replace(/\./g,"")},ce=function(J){try{return le.decodeString(J,!0)}catch(oe){console.error("base64Decode failed: ",oe)}return null};function H(J){return U(void 0,J)}function U(J,oe){if(!(oe instanceof Object))return oe;switch(oe.constructor){case Date:return new Date(oe.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return oe}for(const ue in oe)!oe.hasOwnProperty(ue)||!W(ue)||(J[ue]=U(J[ue],oe[ue]));return J}function W(J){return"__proto__"!==J}class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((oe,ue)=>{this.resolve=oe,this.reject=ue})}wrapCallback(oe){return(ue,xe)=>{ue?this.reject(ue):this.resolve(xe),"function"==typeof oe&&(this.promise.catch(()=>{}),1===oe.length?oe(ue):oe(ue,xe))}}}function Me(J,oe){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xe=oe||"demo-project",se=J.iat||0,pe=J.sub||J.user_id;if(!pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const He=Object.assign({iss:`https://securetoken.google.com/${xe}`,aud:xe,iat:se,exp:se+3600,auth_time:se,sub:pe,user_id:pe,firebase:{sign_in_provider:"custom",identities:{}}},J);return[ne(JSON.stringify({alg:"none",type:"JWT"})),ne(JSON.stringify(He)),""].join(".")}function ke(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function Ee(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(J){return!1}}function Ce(){return"object"==typeof self&&self.self===self}function Oe(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function je(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){return ke().indexOf("Electron/")>=0}function Ke(){const J=ke();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function Pe(){return ke().indexOf("MSAppHost/")>=0}function Je(){return!1}function be(){return"object"==typeof indexedDB}function F(){return new Promise((J,oe)=>{try{let ue=!0;const xe="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(xe);se.onsuccess=()=>{se.result.close(),ue||self.indexedDB.deleteDatabase(xe),J(!0)},se.onupgradeneeded=()=>{ue=!1},se.onerror=()=>{var pe;oe((null===(pe=se.error)||void 0===pe?void 0:pe.message)||"")}}catch(ue){oe(ue)}})}function $(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class me extends Error{constructor(oe,ue,xe){super(ue),this.code=oe,this.customData=xe,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,te.prototype.create)}}class te{constructor(oe,ue,xe){this.service=oe,this.serviceName=ue,this.errors=xe}create(oe,...ue){const xe=ue[0]||{},se=`${this.service}/${oe}`,pe=this.errors[oe],He=pe?function We(J,oe){return J.replace(ft,(ue,xe)=>{const se=oe[xe];return null!=se?String(se):`<${xe}?>`})}(pe,xe):"Error";return new me(se,`${this.serviceName}: ${He} (${se}).`,xe)}}const ft=/\{\$([^}]+)}/g;function pn(J){return JSON.parse(J)}function ze(J){return JSON.stringify(J)}const lt=function(J){let oe={},ue={},xe={},se="";try{const pe=J.split(".");oe=pn(ce(pe[0])||""),ue=pn(ce(pe[1])||""),se=pe[2],xe=ue.d||{},delete ue.d}catch(pe){}return{header:oe,claims:ue,data:xe,signature:se}},kn=function(J){const ue=lt(J).claims;return!!ue&&"object"==typeof ue&&ue.hasOwnProperty("iat")},un=function(J){const oe=lt(J).claims;return"object"==typeof oe&&!0===oe.admin};function qt(J,oe){return Object.prototype.hasOwnProperty.call(J,oe)}function gn(J,oe){if(Object.prototype.hasOwnProperty.call(J,oe))return J[oe]}function Fn(J){for(const oe in J)if(Object.prototype.hasOwnProperty.call(J,oe))return!1;return!0}function Ui(J,oe,ue){const xe={};for(const se in J)Object.prototype.hasOwnProperty.call(J,se)&&(xe[se]=oe.call(ue,J[se],se,J));return xe}function Lr(J,oe){if(J===oe)return!0;const ue=Object.keys(J),xe=Object.keys(oe);for(const se of ue){if(!xe.includes(se))return!1;const pe=J[se],He=oe[se];if(Un(pe)&&Un(He)){if(!Lr(pe,He))return!1}else if(pe!==He)return!1}for(const se of xe)if(!ue.includes(se))return!1;return!0}function Un(J){return null!==J&&"object"==typeof J}function is(J){const oe=[];for(const[ue,xe]of Object.entries(J))Array.isArray(xe)?xe.forEach(se=>{oe.push(encodeURIComponent(ue)+"="+encodeURIComponent(se))}):oe.push(encodeURIComponent(ue)+"="+encodeURIComponent(xe));return oe.length?"&"+oe.join("&"):""}function mi(J){const oe={};return J.replace(/^\?/,"").split("&").forEach(xe=>{if(xe){const[se,pe]=xe.split("=");oe[decodeURIComponent(se)]=decodeURIComponent(pe)}}),oe}function ji(J){const oe=J.indexOf("?");if(!oe)return"";const ue=J.indexOf("#",oe);return J.substring(oe,ue>0?ue:void 0)}class zn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let oe=1;oe<this.blockSize;++oe)this.pad_[oe]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(oe,ue){ue||(ue=0);const xe=this.W_;if("string"==typeof oe)for(let Dt=0;Dt<16;Dt++)xe[Dt]=oe.charCodeAt(ue)<<24|oe.charCodeAt(ue+1)<<16|oe.charCodeAt(ue+2)<<8|oe.charCodeAt(ue+3),ue+=4;else for(let Dt=0;Dt<16;Dt++)xe[Dt]=oe[ue]<<24|oe[ue+1]<<16|oe[ue+2]<<8|oe[ue+3],ue+=4;for(let Dt=16;Dt<80;Dt++){const nr=xe[Dt-3]^xe[Dt-8]^xe[Dt-14]^xe[Dt-16];xe[Dt]=4294967295&(nr<<1|nr>>>31)}let Lt,mn,se=this.chain_[0],pe=this.chain_[1],He=this.chain_[2],et=this.chain_[3],wt=this.chain_[4];for(let Dt=0;Dt<80;Dt++){Dt<40?Dt<20?(Lt=et^pe&(He^et),mn=1518500249):(Lt=pe^He^et,mn=1859775393):Dt<60?(Lt=pe&He|et&(pe|He),mn=2400959708):(Lt=pe^He^et,mn=3395469782);const nr=(se<<5|se>>>27)+Lt+wt+mn+xe[Dt]&4294967295;wt=et,et=He,He=4294967295&(pe<<30|pe>>>2),pe=se,se=nr}this.chain_[0]=this.chain_[0]+se&4294967295,this.chain_[1]=this.chain_[1]+pe&4294967295,this.chain_[2]=this.chain_[2]+He&4294967295,this.chain_[3]=this.chain_[3]+et&4294967295,this.chain_[4]=this.chain_[4]+wt&4294967295}update(oe,ue){if(null==oe)return;void 0===ue&&(ue=oe.length);const xe=ue-this.blockSize;let se=0;const pe=this.buf_;let He=this.inbuf_;for(;se<ue;){if(0===He)for(;se<=xe;)this.compress_(oe,se),se+=this.blockSize;if("string"==typeof oe){for(;se<ue;)if(pe[He]=oe.charCodeAt(se),++He,++se,He===this.blockSize){this.compress_(pe),He=0;break}}else for(;se<ue;)if(pe[He]=oe[se],++He,++se,He===this.blockSize){this.compress_(pe),He=0;break}}this.inbuf_=He,this.total_+=ue}digest(){const oe=[];let ue=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let se=this.blockSize-1;se>=56;se--)this.buf_[se]=255&ue,ue/=256;this.compress_(this.buf_);let xe=0;for(let se=0;se<5;se++)for(let pe=24;pe>=0;pe-=8)oe[xe]=this.chain_[se]>>pe&255,++xe;return oe}}function ss(J,oe){const ue=new Ct(J,oe);return ue.subscribe.bind(ue)}class Ct{constructor(oe,ue){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ue,this.task.then(()=>{oe(this)}).catch(xe=>{this.error(xe)})}next(oe){this.forEachObserver(ue=>{ue.next(oe)})}error(oe){this.forEachObserver(ue=>{ue.error(oe)}),this.close(oe)}complete(){this.forEachObserver(oe=>{oe.complete()}),this.close()}subscribe(oe,ue,xe){let se;if(void 0===oe&&void 0===ue&&void 0===xe)throw new Error("Missing Observer.");se=function On(J,oe){if("object"!=typeof J||null===J)return!1;for(const ue of oe)if(ue in J&&"function"==typeof J[ue])return!0;return!1}(oe,["next","error","complete"])?oe:{next:oe,error:ue,complete:xe},void 0===se.next&&(se.next=hn),void 0===se.error&&(se.error=hn),void 0===se.complete&&(se.complete=hn);const pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch(He){}}),this.observers.push(se),pe}unsubscribeOne(oe){void 0===this.observers||void 0===this.observers[oe]||(delete this.observers[oe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(oe){if(!this.finalized)for(let ue=0;ue<this.observers.length;ue++)this.sendOne(ue,oe)}sendOne(oe,ue){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[oe])try{ue(this.observers[oe])}catch(xe){"undefined"!=typeof console&&console.error&&console.error(xe)}})}close(oe){this.finalized||(this.finalized=!0,void 0!==oe&&(this.finalError=oe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hn(){}const Ar=function(J,oe,ue,xe){let se;if(xe<oe?se="at least "+oe:xe>ue&&(se=0===ue?"none":"no more than "+ue),se)throw new Error(J+" failed: Was called with "+xe+(1===xe?" argument.":" arguments.")+" Expects "+se+".")};function sr(J,oe){return`${J} failed: ${oe} argument `}function Pn(J,oe,ue,xe){if((!xe||ue)&&"function"!=typeof ue)throw new Error(sr(J,oe)+"must be a valid function.")}function or(J,oe,ue,xe){if((!xe||ue)&&("object"!=typeof ue||null===ue))throw new Error(sr(J,oe)+"must be a valid context object.")}const ws=function(J){const oe=[];let ue=0;for(let xe=0;xe<J.length;xe++){let se=J.charCodeAt(xe);if(se>=55296&&se<=56319){const pe=se-55296;xe++,B(xe<J.length,"Surrogate pair missing trail surrogate."),se=65536+(pe<<10)+(J.charCodeAt(xe)-56320)}se<128?oe[ue++]=se:se<2048?(oe[ue++]=se>>6|192,oe[ue++]=63&se|128):se<65536?(oe[ue++]=se>>12|224,oe[ue++]=se>>6&63|128,oe[ue++]=63&se|128):(oe[ue++]=se>>18|240,oe[ue++]=se>>12&63|128,oe[ue++]=se>>6&63|128,oe[ue++]=63&se|128)}return oe},Zt=function(J){let oe=0;for(let ue=0;ue<J.length;ue++){const xe=J.charCodeAt(ue);xe<128?oe++:xe<2048?oe+=2:xe>=55296&&xe<=56319?(oe+=4,ue++):oe+=3}return oe};function Qt(J,oe=1e3,ue=2){const xe=oe*Math.pow(ue,J),se=Math.round(.5*xe*(Math.random()-.5)*2);return Math.min(144e5,xe+se)}function bn(J){return J&&J._delegate?J._delegate:J}},2538:(Ae,ye,R)=>{"use strict";var c=R(5e3);let B=null;function k(){return B}const Q=new c.OlP("DocumentToken");let ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ce(){return(0,c.LFG)(U)}()},providedIn:"platform"}),n})();const H=new c.OlP("Location Initialized");let U=(()=>{class n extends ne{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){W()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){W()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ne(){return new U((0,c.LFG)(Q))}()},providedIn:"platform"}),n})();function W(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ke(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Be(n){return n&&"?"!==n[0]?"?"+n:n}let Ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ce(n){const e=(0,c.LFG)(Q).location;return new je((0,c.LFG)(ne),e&&e.origin||"")}()},providedIn:"root"}),n})();const Oe=new c.OlP("appBaseHref");let je=(()=>{class n extends Ee{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Be(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const u=this.prepareExternalUrl(i+Be(s));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,s){const u=this.prepareExternalUrl(i+Be(s));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne),c.LFG(Oe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n extends Ee{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Me(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let u=this.prepareExternalUrl(i+Be(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,s){let u=this.prepareExternalUrl(i+Be(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne),c.LFG(Oe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ke=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=ke(X(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Be(r))}normalize(t){return n.stripTrailingSlash(function Je(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,X(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Be,n.joinWithSlash=Me,n.stripTrailingSlash=ke,n.\u0275fac=function(t){return new(t||n)(c.LFG(Ee),c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Pe(){return new Ke((0,c.LFG)(Ee),(0,c.LFG)(ne))}()},providedIn:"root"}),n})();function X(n){return n.replace(/\/index.html$/,"")}class ra{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ra(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===s?void 0:s);else if(null!==s){const h=r.get(s);r.move(h,u),Xs(h,i)}});for(let i=0,s=r.length;i<s;i++){const h=r.get(i).context;h.index=i,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Xs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Xs(n,e){n.context.$implicit=e.item}let yr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new wn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Dc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Dc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class wn{constructor(){this.$implicit=null,this.ngIf=null}}function Dc(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class Io{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let vi=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),oi=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Io(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(vi,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Ei=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Oc="browser";function Br(n){return"server"===n}let Vl=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Bl((0,c.LFG)(Q),window)}),n})();class Bl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ss(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const u=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Du(this.window.history)||Du(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Du(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class to extends class Ua extends class le{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ee(n){B||(B=n)}(new to)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ul(){return En=En||document.querySelector("base"),En?En.getAttribute("href"):null}();return null==t?null:function To(n){ja=ja||document.createElement("a"),ja.setAttribute("href",n);const e=ja.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){En=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ea(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let ja,En=null;const vr=new c.OlP("TRANSITION_ID"),Kn=[{provide:c.ip1,useFactory:function jl(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[vr,Q,c.zs3],multi:!0}];class As{static init(){(0,c.VLi)(new As)}addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let s=i.length,u=!1;const h=function(p){u=u||p,s--,0==s&&r(u)};i.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let br=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const aa=new c.OlP("EventManagerPlugins");let ls=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const u=i[s];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(aa),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Au{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let ai=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),no=(()=>{class n extends ai{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const u=this._doc.createElement("style");u.textContent=s,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ro),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ro))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function ro(n){k().remove(n)}const It={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ha=/%COMP%/g;function Le(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Le(n,i,t):(i=i.replace(Ha,n),t.push(i))}return t}function Xt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Hn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new io(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new xu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new Ru(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Le(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ls),c.LFG(no),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class io{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(It[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=It[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=It[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Xt(r)):this.eventManager.addEventListener(e,t,Xt(r))}}class xu extends io{constructor(e,t,r,i){super(e),this.component=r;const s=Le(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function $a(n){return"_ngcontent-%COMP%".replace(Ha,n)}(i+"-"+r.id),this.hostAttr=function Th(n){return"_nghost-%COMP%".replace(Ha,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ru extends io{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Le(i.id,i.styles,[]);for(let u=0;u<s.length;u++){const h=document.createElement("style");h.textContent=s[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Vc=(()=>{class n extends Au{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Bc=["alt","control","meta","shift"],la={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ar={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Gi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ku=(()=>{class n extends Au{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),u=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,s.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let u="";if(Bc.forEach(p=>{const y=r.indexOf(p);y>-1&&(r.splice(y,1),u+=p+".")}),u+=s,0!=r.length||0===s.length)return null;const h={};return h.domEventName=i,h.fullKey=u,h}static getEventFullKey(t){let r="",i=function us(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ar.hasOwnProperty(e)&&(e=ar[e]))}return la[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Bc.forEach(s=>{s!=i&&Gi[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const jc=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Oc},{provide:c.g9A,useValue:function Ms(){to.makeCurrent(),As.init()},multi:!0},{provide:Q,useFactory:function Uc(){return(0,c.RDi)(document),document},deps:[]}]),Do=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Ya(){return new c.qLn},deps:[]},{provide:aa,useClass:Vc,multi:!0,deps:[Q,c.R0b,c.Lbi]},{provide:aa,useClass:ku,multi:!0,deps:[Q]},{provide:Hn,useClass:Hn,deps:[ls,no,c.AFp]},{provide:c.FYo,useExisting:Hn},{provide:ai,useExisting:no},{provide:no,useClass:no,deps:[Q]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:ls,useClass:ls,deps:[aa,c.R0b]},{provide:class Rn{},useClass:br,deps:[]}];let Hl=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:vr,useExisting:c.AFp},Kn]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Do,imports:[Ei,c.hGG]}),n})();"undefined"!=typeof window&&window;let li=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):c.LFG(Wc),r},providedIn:"root"}),n})(),Wc=(()=>{class n extends li{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case c.q3G.NONE:return r;case c.q3G.HTML:return(0,c.qzn)(r,"HTML")?(0,c.z3N)(r):(0,c.EiD)(this._doc,String(r)).toString();case c.q3G.STYLE:return(0,c.qzn)(r,"Style")?(0,c.z3N)(r):r;case c.q3G.SCRIPT:if((0,c.qzn)(r,"Script"))return(0,c.z3N)(r);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(r),(0,c.qzn)(r,"URL")?(0,c.z3N)(r):(0,c.mCW)(String(r));case c.q3G.RESOURCE_URL:if((0,c.qzn)(r,"ResourceURL"))return(0,c.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function da(n){return new Wc(n.get(Q))}(c.LFG(c.zs3)),r},providedIn:"root"}),n})();const Wp=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function D_(){return(0,c.f3M)(Q)}}),Cr=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let so,ds=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function xh(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Cr.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Wp,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();try{so="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){so=!1}let Ci,on=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Mr(n){return n===Oc}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!so)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ha=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function tl(){if(Ci)return Ci;if("object"!=typeof document||!document)return Ci=new Set(ha),Ci;let n=document.createElement("input");return Ci=new Set(ha.filter(e=>(n.setAttribute("type",e),n.type===e))),Ci}let fa,$l,xr,ks;function nl(n){return function qc(){if(null==fa&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>fa=!0}))}finally{fa=fa||!1}return fa}()?n:!!n.capture}function rl(){if(null==xr){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return xr=!1,xr;if("scrollBehavior"in document.documentElement.style)xr=!0;else{const n=Element.prototype.scrollTo;xr=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return xr}function ui(){if("object"!=typeof document||!document)return 0;if(null==$l){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),$l=0,0===n.scrollLeft&&(n.scrollLeft=1,$l=0===n.scrollLeft?1:2),n.remove()}return $l}function pa(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function ci(n){return n.composedPath?n.composedPath()[0]:n.target}function il(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}var Ht=R(7579);class Ir extends Ht.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Os=R(3269),Ln=R(8996);function gt(...n){const e=(0,Os.yG)(n);return(0,Ln.D)(n,e)}function rg(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Di=R(5698),kr=R(4482),cr=R(5403);function dr(n,e){return(0,kr.e)((t,r)=>{let i=0;t.subscribe(new cr.Q(r,s=>n.call(e,s,i++)&&r.next(s)))})}var Xc=R(4671);function b(n,e=Xc.y){return n=null!=n?n:m,(0,kr.e)((t,r)=>{let i,s=!0;t.subscribe(new cr.Q(r,u=>{const h=e(u);(s||!n(i,h))&&(s=!1,i=h,r.next(u))}))})}function m(n,e){return n===e}var _=R(8421),C=R(5032);function O(n){return(0,kr.e)((e,t)=>{(0,_.Xf)(n).subscribe(new cr.Q(t,()=>t.complete(),C.Z)),!t.closed&&e.subscribe(t)})}function V(n){return null!=n&&"false"!=`${n}`}function ut(n){return Array.isArray(n)?n:[n]}function tt(n){return null==n?"":"string"==typeof n?n:`${n}px`}function kt(n){return n instanceof c.SBq?n.nativeElement:n}let dg=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function H_(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function aS(n){try{return n.frameElement}catch(e){return null}}(function $i(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===hS(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=hS(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function mN(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function Kh(n){return!function lS(n){return function cS(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function v0(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function uS(n){return function dS(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||b0(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(on))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function b0(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function hS(n){if(!b0(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class G_{constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,Di.q)(1)).subscribe(e)}}let z_=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new G_(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dg),c.LFG(c.R0b),c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $_(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function E0(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const C0=new c.OlP("cdk-input-modality-detector-options"),pS={ignoreKeys:[18,17,224,91,16]},Jc=nl({passive:!0,capture:!0});let gS=(()=>{class n{constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Ir(null),this._lastTouchMs=0,this._onKeydown=u=>{var h,p;(null===(p=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)||void 0===p?void 0:p.some(y=>y===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=ci(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next($_(u)?"keyboard":"mouse"),this._mostRecentTarget=ci(u))},this._onTouchstart=u=>{E0(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ci(u))},this._options=Object.assign(Object.assign({},pS),s),this.modalityDetected=this._modality.pipe(function B_(n){return dr((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(b()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Jc),i.addEventListener("mousedown",this._onMousedown,Jc),i.addEventListener("touchstart",this._onTouchstart,Jc)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Jc),document.removeEventListener("mousedown",this._onMousedown,Jc),document.removeEventListener("touchstart",this._onTouchstart,Jc))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(on),c.LFG(c.R0b),c.LFG(Q),c.LFG(C0,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _S=new c.OlP("cdk-focus-monitor-default-options"),qu=nl({passive:!0,capture:!0});let q_=(()=>{class n{constructor(t,r,i,s,u){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ht.x,this._rootNodeFocusAndBlurListener=h=>{const p=ci(h),y="focus"===h.type?this._onFocus:this._onBlur;for(let E=p;E;E=E.parentElement)y.call(this,h,E)},this._document=s,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(t,r=!1){const i=kt(t);if(!this._platform.isBrowser||1!==i.nodeType)return gt(null);const s=function Wl(n){if(function Ii(){if(null==ks){const n="undefined"!=typeof document?document.head:null;ks=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ks}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),u=this._elementInfo.get(i);if(u)return r&&(u.checkChildren=!0),u.subject;const h={checkChildren:r,subject:new Ht.x,rootNode:s};return this._elementInfo.set(i,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const r=kt(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=kt(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,p])=>this._originChanged(h,r,p)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=ci(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,qu),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,qu)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(O(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,qu),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,qu),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(on),c.LFG(gS),c.LFG(Q,8),c.LFG(_S,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const D0="cdk-high-contrast-black-on-white",S0="cdk-high-contrast-white-on-black",K_="cdk-high-contrast-active";let A0=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(K_),t.remove(D0),t.remove(S0),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(K_),t.add(D0)):2===r&&(t.add(K_),t.add(S0))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(on),c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class M0{}const fl="*";function Y_(n,e){return{type:7,name:n,definitions:e,options:{}}}function Yh(n,e=null){return{type:4,styles:e,timings:n}}function x0(n,e=null){return{type:3,steps:n,options:e}}function R0(n,e=null){return{type:2,steps:n,options:e}}function qi(n){return{type:6,styles:n,offset:null}}function fs(n,e,t){return{type:0,name:n,styles:e,options:t}}function fg(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function bS(n=null){return{type:9,options:n}}function pg(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function O0(n){Promise.resolve(null).then(n)}class ed{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){O0(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class td{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?O0(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==s&&this._onFinish()}),u.onDestroy(()=>{++r==s&&this._onDestroy()}),u.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const cn=!1;function mg(n){return new c.vHH(3e3,cn)}function ny(){return"undefined"!=typeof window&&void 0!==window.document}function vg(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function va(n){switch(n.length){case 0:return new ed;case 1:return n[0];default:return new td(n)}}function id(n,e,t,r,i={},s={}){const u=[],h=[];let p=-1,y=null;if(r.forEach(E=>{const T=E.offset,x=T==p,L=x&&y||{};Object.keys(E).forEach(G=>{let he=G,Te=E[G];if("offset"!==G)switch(he=e.normalizePropertyName(he,u),Te){case"!":Te=i[G];break;case fl:Te=s[G];break;default:Te=e.normalizeStyleValue(G,he,Te,u)}L[he]=Te}),x||h.push(L),y=L,p=T}),u.length)throw function j0(n){return new c.vHH(3502,cn)}();return h}function ry(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&bg(t,"start",n)));break;case"done":n.onDone(()=>r(t&&bg(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&bg(t,"destroy",n)))}}function bg(n,e,t){const r=t.totalTime,s=iy(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),u=n._data;return null!=u&&(s._data=u),s}function iy(n,e,t,r,i="",s=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!u}}function Ns(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function sy(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Zh=(n,e)=>!1,oy=(n,e,t)=>[],RS=null;function wg(n){const e=n.parentNode||n.host;return e===RS?null:e}(vg()||"undefined"!=typeof Element)&&(ny()?(RS=(()=>document.documentElement)(),Zh=(n,e)=>{for(;e;){if(e===n)return!0;e=wg(e)}return!1}):Zh=(n,e)=>n.contains(e),oy=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Yu=null,K0=!1;function co(n){Yu||(Yu=function kS(){return"undefined"!=typeof document?document.body:null}()||{},K0=!!Yu.style&&"WebkitAppearance"in Yu.style);let e=!0;return Yu.style&&!function q0(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Yu.style,!e&&K0&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Yu.style)),e}const ay=Zh,Y0=oy;let Z0=(()=>{class n{validateStyleProperty(t){return co(t)}matchesElement(t,r){return!1}containsElement(t,r){return ay(t,r)}getParentElement(t){return wg(t)}query(t,r,i){return Y0(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,u,h=[],p){return new ed(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ly=(()=>{class n{}return n.NOOP=new Z0,n})();const uy="ng-enter",Pt="ng-leave",Qh="ng-trigger",Xh=".ng-trigger",cy="ng-animating",sd=".ng-animating";function hi(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Eg(parseFloat(e[1]),e[2])}function Eg(n,e){return"s"===e?1e3*n:n}function Cg(n,e,t){return n.hasOwnProperty("duration")?n:function dy(n,e,t){let i,s=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(mg()),{duration:0,delay:0,easing:""};i=Eg(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=Eg(parseFloat(p),h[4]));const y=h[5];y&&(u=y)}else i=n;if(!t){let h=!1,p=e.length;i<0&&(e.push(function P0(){return new c.vHH(3100,cn)}()),h=!0),s<0&&(e.push(function CN(){return new c.vHH(3101,cn)}()),h=!0),h&&e.splice(p,0,mg())}return{duration:i,delay:s,easing:u}}(n,e,t)}function ps(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function gl(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else ps(n,t);return t}function Tg(n,e,t){return t?e+":"+t+";":""}function PS(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Tg(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Tg(0,FS(t),n.style[t]));n.setAttribute("style",e)}function Bo(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=fy(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),vg()&&PS(n))}function od(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=fy(t);n.style[r]=""}),vg()&&PS(n))}function tu(n){return Array.isArray(n)?1==n.length?n[0]:R0(n):n}const Jh=new RegExp("{{\\s*(.+?)\\s*}}","g");function Sg(n){let e=[];if("string"==typeof n){let t;for(;t=Jh.exec(n);)e.push(t[1]);Jh.lastIndex=0}return e}function ad(n,e,t){const r=n.toString(),i=r.replace(Jh,(s,u)=>{let h=e[u];return e.hasOwnProperty(u)||(t.push(function Z_(n){return new c.vHH(3003,cn)}()),h=""),h.toString()});return i==r?n:i}function hy(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const NS=/-+([a-z0-9])/g;function fy(n){return n.replace(NS,(...e)=>e[1].toUpperCase())}function FS(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ho(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function N0(n){return new c.vHH(3004,cn)}()}}function eE(n,e){return window.getComputedStyle(n)[e]}function SN(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function AN(n,e,t){if(":"==n[0]){const p=function MN(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function V0(n){return new c.vHH(3016,cn)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function AS(n){return new c.vHH(3015,cn)}()),e;const i=r[1],s=r[2],u=r[3];e.push(BS(i,u));"<"==s[0]&&!("*"==i&&"*"==u)&&e.push(BS(u,i))}(r,t,e)):t.push(n),t}const _y=new Set(["true","1"]),yy=new Set(["false","0"]);function BS(n,e){const t=_y.has(n)||yy.has(n),r=_y.has(e)||yy.has(e);return(i,s)=>{let u="*"==n||n==i,h="*"==e||e==s;return!u&&t&&"boolean"==typeof i&&(u=i?_y.has(n):yy.has(n)),!h&&r&&"boolean"==typeof s&&(h=s?_y.has(e):yy.has(e)),u&&h}}const nu=new RegExp("s*:selfs*,?","g");function tf(n,e,t,r){return new rE(n).build(e,t,r)}class rE{constructor(e){this._driver=e}build(e,t,r){const i=new by(t);this._resetContextStyleTimingState(i);const s=ho(this,tu(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function Q_(){return new c.vHH(3006,cn)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,y=p.name;y.toString().split(/\s*,\s*/).forEach(E=>{p.name=E,s.push(this.visitState(p,t))}),p.name=y}else if(1==h.type){const p=this.visitTransition(h,t);r+=p.queryCount,i+=p.depCount,u.push(p)}else t.errors.push(function ES(){return new c.vHH(3007,cn)}())}),{type:7,name:e.name,states:s,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,u=i||{};r.styles.forEach(h=>{if(Uo(h)){const p=h;Object.keys(p).forEach(y=>{Sg(p[y]).forEach(E=>{u.hasOwnProperty(E)||s.add(E)})})}}),s.size&&(hy(s.values()),t.errors.push(function CS(n,e){return new c.vHH(3008,cn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ho(this,tu(e.animation),t);return{type:1,matchers:SN(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Zu(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ho(this,r,t)),options:Zu(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(u=>{t.currentTime=r;const h=ho(this,u,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:s,options:Zu(e.options)}}visitAnimate(e,t){const r=function sE(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return nf(Cg(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=nf(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Cg(t,e);return nf(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:qi({});if(5==s.type)i=this.visitKeyframes(s,t);else{let u=e.styles,h=!1;if(!u){h=!0;const y={};r.easing&&(y.easing=r.easing),u=qi(y)}t.currentTime+=r.duration+r.delay;const p=this.visitStyle(u,t);p.isEmptyStep=h,i=p}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==fl?r.push(u):t.errors.push(function IS(n){return new c.vHH(3002,cn)}()):r.push(u)}):r.push(e.styles);let i=!1,s=null;return r.forEach(u=>{if(Uo(u)){const h=u,p=h.easing;if(p&&(s=p,delete h.easing),!i)for(let y in h)if(h[y].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete u[h],void t.unsupportedCSSPropertiesFound.add(h);const p=t.collectedStyles[t.currentQuerySelector],y=p[h];let E=!0;y&&(s!=i&&s>=y.startTime&&i<=y.endTime&&(t.errors.push(function TS(n,e,t,r,i){return new c.vHH(3010,cn)}()),E=!1),s=y.startTime),E&&(p[h]={startTime:s,endTime:i}),t.options&&function Dg(n,e,t){const r=e.params||{},i=Sg(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function rd(n){return new c.vHH(3001,cn)}())})}(u[h],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function DS(){return new c.vHH(3011,cn)}()),r;let s=0;const u=[];let h=!1,p=!1,y=0;const E=e.steps.map(rt=>{const st=this._makeStyleAst(rt,t);let ct=null!=st.offset?st.offset:function jS(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Uo(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Uo(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(st.styles),it=0;return null!=ct&&(s++,it=st.offset=ct),p=p||it<0||it>1,h=h||it<y,y=it,u.push(it),st});p&&t.errors.push(function F0(){return new c.vHH(3012,cn)}()),h&&t.errors.push(function X_(){return new c.vHH(3200,cn)}());const T=e.steps.length;let x=0;s>0&&s<T?t.errors.push(function L0(){return new c.vHH(3202,cn)}()):0==s&&(x=1/(T-1));const L=T-1,G=t.currentTime,he=t.currentAnimateTimings,Te=he.duration;return E.forEach((rt,st)=>{const ct=x>0?st==L?1:x*st:u[st],it=ct*Te;t.currentTime=G+he.delay+it,he.duration=it,this._validateStyleAst(rt,t),rt.offset=ct,r.styles.push(rt)}),r}visitReference(e,t){return{type:8,animation:ho(this,tu(e.animation),t),options:Zu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Zu(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Zu(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,u]=function vy(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(nu,"")),n=n.replace(/@\*/g,Xh).replace(/@\w+/g,t=>Xh+"-"+t.substr(1)).replace(/:animating/g,sd),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Ns(t.collectedStyles,t.currentQuerySelector,{});const h=ho(this,tu(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:Zu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function J_(){return new c.vHH(3013,cn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Cg(e.timings,t.errors,!0);return{type:12,animation:ho(this,tu(e.animation),t),timings:r,options:null}}}class by{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Uo(n){return!Array.isArray(n)&&"object"==typeof n}function Zu(n){return n?(n=ps(n)).params&&(n.params=function iE(n){return n?ps(n):null}(n.params)):n={},n}function nf(n,e,t){return{duration:n,delay:e,easing:t}}function wy(n,e,t,r,i,s,u=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:u,subTimeline:h}}class rf{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const sf=new RegExp(":enter","g"),Ey=new RegExp(":leave","g");function ru(n,e,t,r,i,s={},u={},h,p,y=[]){return(new af).buildKeyframes(n,e,t,r,i,s,u,h,p,y)}class af{buildKeyframes(e,t,r,i,s,u,h,p,y,E=[]){y=y||new rf;const T=new Cy(e,t,y,i,s,E,[]);T.options=p,T.currentTimeline.setStyles([u],null,T.errors,p),ho(this,r,T);const x=T.timelines.filter(L=>L.containsAnimation());if(Object.keys(h).length){let L;for(let G=x.length-1;G>=0;G--){const he=x[G];if(he.element===t){L=he;break}}L&&!L.allowOnlyTimelineStyles()&&L.setStyles([h],null,T.errors,p)}return x.length?x.map(L=>L.buildKeyframes()):[wy(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);s!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const u=null!=r.duration?hi(r.duration):null,h=null!=r.delay?hi(r.delay):null;return 0!==u&&e.forEach(p=>{const y=t.appendInstructionToTimeline(p,u,h);s=Math.max(s,y.duration+y.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ho(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ml);const u=hi(s.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>ho(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?hi(e.options.delay):0;e.steps.forEach(u=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),ho(this,u,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Cg(t.params?ad(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?hi(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ml);let u=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((y,E)=>{t.currentQueryIndex=E;const T=t.createSubContext(e.options,y);s&&T.delayNextStep(s),y===t.element&&(p=T.currentTimeline),ho(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,T.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,u=Math.abs(s.duration),h=u*(t.currentQueryTotal-1);let p=u*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=r.currentStaggerTime}const E=t.currentTimeline;p&&E.delayNextStep(p);const T=E.currentTime;ho(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-T+(i.startTime-r.currentTimeline.startTime)}}const ml={};class Cy{constructor(e,t,r,i,s,u,h,p){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ml,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new lf(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=hi(r.duration)),null!=r.delay&&(i.delay=hi(r.delay));const s=r.params;if(s){let u=i.params;u||(u=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!u.hasOwnProperty(h))&&(u[h]=ad(s[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new Cy(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=ml,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new oE(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,u){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(sf,"."+this._enterClassName)).replace(Ey,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=r);0!==r&&(y=r<0?y.slice(y.length+r,y.length):y.slice(0,r)),h.push(...y)}return!s&&0==h.length&&u.push(function SS(n){return new c.vHH(3014,cn)}()),h}}class lf{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new lf(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||fl,this._currentKeyframe[t]=fl}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},u=function Iy(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=fl})):gl(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(h=>{const p=ad(u[h],s,r);this._pendingStyles[h]=p,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:fl),this._updateStyle(h,p)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,p)=>{const y=gl(h,!0);Object.keys(y).forEach(E=>{const T=y[E];"!"==T?e.add(E):T==fl&&t.add(E)}),r||(y.offset=p/this.duration),i.push(y)});const s=e.size?hy(e.values()):[],u=t.size?hy(t.values()):[];if(r){const h=i[0],p=ps(h);h.offset=0,p.offset=1,i=[h,p]}return wy(this.element,i,s,u,this.duration,this.startTime,this.easing,!1)}}class oE extends lf{constructor(e,t,r,i,s,u,h=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],u=r+t,h=t/u,p=gl(e[0],!1);p.offset=0,s.push(p);const y=gl(e[0],!1);y.offset=Ag(h),s.push(y);const E=e.length-1;for(let T=1;T<=E;T++){let x=gl(e[T],!1);x.offset=Ag((t+x.offset*r)/u),s.push(x)}r=u,t=0,i="",e=s}return wy(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Ag(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class ud{}class aE extends ud{normalizePropertyName(e,t){return fy(e)}normalizeStyleValue(e,t,r,i){let s="";const u=r.toString().trim();if(RN[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function wS(n,e){return new c.vHH(3005,cn)}())}return u+s}}const RN=(()=>function lE(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ty(n,e,t,r,i,s,u,h,p,y,E,T,x){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:u,timelines:h,queriedElements:p,preStyleProps:y,postStyleProps:E,totalTime:T,errors:x}}const Dy={};class Sy{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function $S(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],u=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):u}build(e,t,r,i,s,u,h,p,y,E){const T=[],x=this.ast.options&&this.ast.options.params||Dy,G=this.buildStyles(r,h&&h.params||Dy,T),he=p&&p.params||Dy,Te=this.buildStyles(i,he,T),rt=new Set,st=new Map,ct=new Map,it="void"===i,zt={params:Object.assign(Object.assign({},x),he)},jt=E?[]:ru(e,t,this.ast.animation,s,u,G,Te,zt,y,T);let Sn=0;if(jt.forEach(Xo=>{Sn=Math.max(Xo.duration+Xo.delay,Sn)}),T.length)return Ty(t,this._triggerName,r,i,it,G,Te,[],[],st,ct,Sn,T);jt.forEach(Xo=>{const Tc=Xo.element,zG=Ns(st,Tc,{});Xo.preStyleProps.forEach(Op=>zG[Op]=!0);const t0=Ns(ct,Tc,{});Xo.postStyleProps.forEach(Op=>t0[Op]=!0),Tc!==t&&rt.add(Tc)});const Wr=hy(rt.values());return Ty(t,this._triggerName,r,i,it,G,Te,jt,Wr,st,ct,Sn)}}class WS{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=ps(this.defaultParams);return Object.keys(e).forEach(s=>{const u=e[s];null!=u&&(i[s]=u)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const u=s;Object.keys(u).forEach(h=>{let p=u[h];p.length>1&&(p=ad(p,i,t));const y=this.normalizer.normalizePropertyName(h,t);p=this.normalizer.normalizeStyleValue(h,y,p,t),r[y]=p})}}),r}}class qS{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new WS(i.style,i.options&&i.options.params||{},r)}),YS(this.states,"true","1"),YS(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Sy(e,i,this.states))}),this.fallbackTransition=function KS(n,e,t){return new Sy(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function YS(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const kN=new rf;class uE{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],s=tf(this._driver,t,r,[]);if(r.length)throw function MS(n){return new c.vHH(3503,cn)}();this._animations[e]=s}_buildPlayer(e,t,r){const i=e.element,s=id(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let u;const h=new Map;if(s?(u=ru(this._driver,t,s,uy,Pt,{},{},r,kN,i),u.forEach(E=>{const T=Ns(h,E.element,{});E.postStyleProps.forEach(x=>T[x]=null)})):(i.push(function _g(){return new c.vHH(3300,cn)}()),u=[]),i.length)throw function xS(n){return new c.vHH(3504,cn)}();h.forEach((E,T)=>{Object.keys(E).forEach(x=>{E[x]=this._driver.computeStyle(T,x,fl)})});const y=va(u.map(E=>{const T=h.get(E.element);return this._buildPlayer(E,{},T)}));return this._playersById[e]=y,y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function H0(n){return new c.vHH(3301,cn)}();return t}listen(e,t,r,i){const s=iy(t,"","","");return ry(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const ZS="ng-animate-queued",uf="ng-animate-disabled",eA=[],Ay={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tA={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ls="__ng_removed";class My{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function rA(n){return null!=n?n:null}(r?e.value:e),r){const s=ps(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const cf="void",Mg=new My(cf);class dE{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,po(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function G0(n,e){return new c.vHH(3302,cn)}();if(null==r||0==r.length)throw function z0(n){return new c.vHH(3303,cn)}();if(!function ON(n){return"start"==n||"done"==n}(r))throw function ey(n,e){return new c.vHH(3400,cn)}();const s=Ns(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};s.push(u);const h=Ns(this._engine.statesByElement,e,{});return h.hasOwnProperty(t)||(po(e,Qh),po(e,Qh+"-"+t),h[t]=Mg),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(u);p>=0&&s.splice(p,1),this._triggers[t]||delete h[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function $0(n){return new c.vHH(3401,cn)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),u=new fo(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(po(e,Qh),po(e,Qh+"-"+t),this._engine.statesByElement.set(e,h={}));let p=h[t];const y=new My(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),h[t]=y,p||(p=Mg),y.value!==cf&&p.value===y.value){if(!function ky(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,y.params)){const he=[],Te=s.matchStyles(p.value,p.params,he),rt=s.matchStyles(y.value,y.params,he);he.length?this._engine.reportError(he):this._engine.afterFlush(()=>{od(e,Te),Bo(e,rt)})}return}const x=Ns(this._engine.playersByElement,e,[]);x.forEach(he=>{he.namespaceId==this.id&&he.triggerName==t&&he.queued&&he.destroy()});let L=s.matchTransition(p.value,y.value,e,y.params),G=!1;if(!L){if(!i)return;L=s.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:L,fromState:p,toState:y,player:u,isFallbackTransition:G}),G||(po(e,ZS),u.onStart(()=>{iu(e,ZS)})),u.onDone(()=>{let he=this.players.indexOf(u);he>=0&&this.players.splice(he,1);const Te=this._engine.playersByElement.get(e);if(Te){let rt=Te.indexOf(u);rt>=0&&Te.splice(rt,1)}}),this.players.push(u),x.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Xh,!0);r.forEach(i=>{if(i[Ls])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),u=new Map;if(s){const h=[];if(Object.keys(s).forEach(p=>{if(u.set(p,s[p].value),this._triggers[p]){const y=this.trigger(e,p,cf,i);y&&h.push(y)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&va(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const u=s.name;if(i.has(u))return;i.add(u);const p=this._triggers[u].fallbackTransition,y=r[u]||Mg,E=new My(cf),T=new fo(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:p,fromState:y,toState:E,player:T,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Ls];(!s||s===Ay)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){po(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,u=this._elementListeners.get(s);u&&u.forEach(h=>{if(h.name==r.triggerName){const p=iy(s,r.triggerName,r.fromState.value,r.toState.value);p._data=e,ry(r.player,h.phase,p,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class nA{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new dE(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,s=r.length-1;if(s>=0){let u=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(t);for(;h;){const p=i.get(h);if(p){const y=r.indexOf(p);r.splice(y+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}}else for(let h=s;h>=0;h--)if(this.driver.containsElement(r[h].hostElement,t)){r.splice(h+1,0,e),u=!0;break}u||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const u=r[i[s]].namespaceId;if(u){const h=this._fetchNamespace(u);h&&t.add(h)}}}return t}trigger(e,t,r,i){if(xg(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!xg(t))return;const s=t[Ls];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),po(e,uf)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),iu(e,uf))}removeNode(e,t,r,i){if(xg(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Ls]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return xg(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Xh,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,sd,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return va(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Ls];if(r&&r.setForRemoval){if(e[Ls]=Ay,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(uf))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)po(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?va(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function yg(n){return new c.vHH(3402,cn)}()}_flushAnimations(e,t){const r=new rf,i=[],s=new Map,u=[],h=new Map,p=new Map,y=new Map,E=new Set;this.disabledNodes.forEach(bt=>{E.add(bt);const At=this.driver.query(bt,".ng-animate-queued",!0);for(let Ft=0;Ft<At.length;Ft++)E.add(At[Ft])});const T=this.bodyNode,x=Array.from(this.statesByElement.keys()),L=fE(x,this.collectedEnterElements),G=new Map;let he=0;L.forEach((bt,At)=>{const Ft=uy+he++;G.set(At,Ft),bt.forEach(Mn=>po(Mn,Ft))});const Te=[],rt=new Set,st=new Set;for(let bt=0;bt<this.collectedLeaveElements.length;bt++){const At=this.collectedLeaveElements[bt],Ft=At[Ls];Ft&&Ft.setForRemoval&&(Te.push(At),rt.add(At),Ft.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(Mn=>rt.add(Mn)):st.add(At))}const ct=new Map,it=fE(x,Array.from(rt));it.forEach((bt,At)=>{const Ft=Pt+he++;ct.set(At,Ft),bt.forEach(Mn=>po(Mn,Ft))}),e.push(()=>{L.forEach((bt,At)=>{const Ft=G.get(At);bt.forEach(Mn=>iu(Mn,Ft))}),it.forEach((bt,At)=>{const Ft=ct.get(At);bt.forEach(Mn=>iu(Mn,Ft))}),Te.forEach(bt=>{this.processLeaveNode(bt)})});const zt=[],jt=[];for(let bt=this._namespaceList.length-1;bt>=0;bt--)this._namespaceList[bt].drainQueuedTransitions(t).forEach(Ft=>{const Mn=Ft.player,Bi=Ft.element;if(zt.push(Mn),this.collectedEnterElements.length){const Qs=Bi[Ls];if(Qs&&Qs.setForMove){if(Qs.previousTriggersValues&&Qs.previousTriggersValues.has(Ft.triggerName)){const Pp=Qs.previousTriggersValues.get(Ft.triggerName),wh=this.statesByElement.get(Ft.element);wh&&wh[Ft.triggerName]&&(wh[Ft.triggerName].value=Pp)}return void Mn.destroy()}}const Tu=!T||!this.driver.containsElement(T,Bi),Jo=ct.get(Bi),bh=G.get(Bi),Sr=this._buildInstruction(Ft,r,bh,Jo,Tu);if(Sr.errors&&Sr.errors.length)return void jt.push(Sr);if(Tu)return Mn.onStart(()=>od(Bi,Sr.fromStyles)),Mn.onDestroy(()=>Bo(Bi,Sr.toStyles)),void i.push(Mn);if(Ft.isFallbackTransition)return Mn.onStart(()=>od(Bi,Sr.fromStyles)),Mn.onDestroy(()=>Bo(Bi,Sr.toStyles)),void i.push(Mn);const qG=[];Sr.timelines.forEach(Qs=>{Qs.stretchStartingKeyframe=!0,this.disabledNodes.has(Qs.element)||qG.push(Qs)}),Sr.timelines=qG,r.append(Bi,Sr.timelines),u.push({instruction:Sr,player:Mn,element:Bi}),Sr.queriedElements.forEach(Qs=>Ns(h,Qs,[]).push(Mn)),Sr.preStyleProps.forEach((Qs,Pp)=>{const wh=Object.keys(Qs);if(wh.length){let Np=p.get(Pp);Np||p.set(Pp,Np=new Set),wh.forEach(gN=>Np.add(gN))}}),Sr.postStyleProps.forEach((Qs,Pp)=>{const wh=Object.keys(Qs);let Np=y.get(Pp);Np||y.set(Pp,Np=new Set),wh.forEach(gN=>Np.add(gN))})});if(jt.length){const bt=[];jt.forEach(At=>{bt.push(function W0(n,e){return new c.vHH(3505,cn)}())}),zt.forEach(At=>At.destroy()),this.reportError(bt)}const Sn=new Map,Wr=new Map;u.forEach(bt=>{const At=bt.element;r.has(At)&&(Wr.set(At,At),this._beforeAnimationBuild(bt.player.namespaceId,bt.instruction,Sn))}),i.forEach(bt=>{const At=bt.element;this._getPreviousPlayers(At,!1,bt.namespaceId,bt.triggerName,null).forEach(Mn=>{Ns(Sn,At,[]).push(Mn),Mn.destroy()})});const Xo=Te.filter(bt=>pE(bt,p,y)),Tc=new Map;hE(Tc,this.driver,st,y,fl).forEach(bt=>{pE(bt,p,y)&&Xo.push(bt)});const t0=new Map;L.forEach((bt,At)=>{hE(t0,this.driver,new Set(bt),p,"!")}),Xo.forEach(bt=>{const At=Tc.get(bt),Ft=t0.get(bt);Tc.set(bt,Object.assign(Object.assign({},At),Ft))});const Op=[],$G=[],WG={};u.forEach(bt=>{const{element:At,player:Ft,instruction:Mn}=bt;if(r.has(At)){if(E.has(At))return Ft.onDestroy(()=>Bo(At,Mn.toStyles)),Ft.disabled=!0,Ft.overrideTotalTime(Mn.totalTime),void i.push(Ft);let Bi=WG;if(Wr.size>1){let Jo=At;const bh=[];for(;Jo=Jo.parentNode;){const Sr=Wr.get(Jo);if(Sr){Bi=Sr;break}bh.push(Jo)}bh.forEach(Sr=>Wr.set(Sr,Bi))}const Tu=this._buildAnimation(Ft.namespaceId,Mn,Sn,s,t0,Tc);if(Ft.setRealPlayer(Tu),Bi===WG)Op.push(Ft);else{const Jo=this.playersByElement.get(Bi);Jo&&Jo.length&&(Ft.parentPlayer=va(Jo)),i.push(Ft)}}else od(At,Mn.fromStyles),Ft.onDestroy(()=>Bo(At,Mn.toStyles)),$G.push(Ft),E.has(At)&&i.push(Ft)}),$G.forEach(bt=>{const At=s.get(bt.element);if(At&&At.length){const Ft=va(At);bt.setRealPlayer(Ft)}}),i.forEach(bt=>{bt.parentPlayer?bt.syncPlayerEvents(bt.parentPlayer):bt.destroy()});for(let bt=0;bt<Te.length;bt++){const At=Te[bt],Ft=At[Ls];if(iu(At,Pt),Ft&&Ft.hasAnimation)continue;let Mn=[];if(h.size){let Tu=h.get(At);Tu&&Tu.length&&Mn.push(...Tu);let Jo=this.driver.query(At,sd,!0);for(let bh=0;bh<Jo.length;bh++){let Sr=h.get(Jo[bh]);Sr&&Sr.length&&Mn.push(...Sr)}}const Bi=Mn.filter(Tu=>!Tu.destroyed);Bi.length?iA(this,At,Bi):this.processLeaveNode(At)}return Te.length=0,Op.forEach(bt=>{this.players.push(bt),bt.onDone(()=>{bt.destroy();const At=this.players.indexOf(bt);this.players.splice(At,1)}),bt.play()}),Op}elementContainsData(e,t){let r=!1;const i=t[Ls];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let u=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const p=!s||s==cf;h.forEach(y=>{y.queued||!p&&y.triggerName!=i||u.push(y)})}}return(r||i)&&(u=u.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),u}_beforeAnimationBuild(e,t,r){const s=t.element,u=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const y=p.element,E=y!==s,T=Ns(r,y,[]);this._getPreviousPlayers(y,E,u,h,t.toState).forEach(L=>{const G=L.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),L.destroy(),T.push(L)})}od(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,u){const h=t.triggerName,p=t.element,y=[],E=new Set,T=new Set,x=t.timelines.map(G=>{const he=G.element;E.add(he);const Te=he[Ls];if(Te&&Te.removedBeforeQueried)return new ed(G.duration,G.delay);const rt=he!==p,st=function sA(n){const e=[];return df(n,e),e}((r.get(he)||eA).map(Sn=>Sn.getRealPlayer())).filter(Sn=>!!Sn.element&&Sn.element===he),ct=s.get(he),it=u.get(he),zt=id(0,this._normalizer,0,G.keyframes,ct,it),jt=this._buildPlayer(G,zt,st);if(G.subTimeline&&i&&T.add(he),rt){const Sn=new fo(e,h,he);Sn.setRealPlayer(jt),y.push(Sn)}return jt});y.forEach(G=>{Ns(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function xy(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,G.element,G))}),E.forEach(G=>po(G,cy));const L=va(x);return L.onDestroy(()=>{E.forEach(G=>iu(G,cy)),Bo(p,t.toStyles)}),T.forEach(G=>{Ns(i,G,[]).push(L)}),L}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new ed(e.duration,e.delay)}}class fo{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new ed,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>ry(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ns(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function xg(n){return n&&1===n.nodeType}function Ry(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function hE(n,e,t,r,i){const s=[];t.forEach(p=>s.push(Ry(p)));const u=[];r.forEach((p,y)=>{const E={};p.forEach(T=>{const x=E[T]=e.computeStyle(y,T,i);(!x||0==x.length)&&(y[Ls]=tA,u.push(y))}),n.set(y,E)});let h=0;return t.forEach(p=>Ry(p,s[h++])),u}function fE(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=new Set(e),s=new Map;function u(h){if(!h)return 1;let p=s.get(h);if(p)return p;const y=h.parentNode;return p=t.has(y)?y:i.has(y)?1:u(y),s.set(h,p),p}return e.forEach(h=>{const p=u(h);1!==p&&t.get(p).push(h)}),t}function po(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function iu(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function iA(n,e,t){va(t).onDone(()=>n.processLeaveNode(e))}function df(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof td?df(r.players,e):e.push(r)}}function pE(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class cd{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new nA(e,t,r),this._timelineEngine=new uE(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const u=e+"-"+i;let h=this._triggerCache[u];if(!h){const p=[],E=tf(this._driver,s,p,[]);if(p.length)throw function U0(n,e){return new c.vHH(3404,cn)}();h=function Fs(n,e,t){return new qS(n,e,t)}(i,E,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,u]=sy(r);this._timelineEngine.command(s,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[u,h]=sy(r);return this._timelineEngine.listen(u,t,h,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let gE=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Bo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bo(this._element,this._initialStyles),this._endStyles&&(Bo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(od(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(od(this._element,this._endStyles),this._endStyles=null),Bo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Py(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];oA(i)&&(e=e||{},e[i]=n[i])}return e}function oA(n){return"display"===n||"position"===n}class Rg{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:eE(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class PN{validateStyleProperty(e){return co(e)}matchesElement(e,t){return!1}containsElement(e,t){return ay(e,t)}getParentElement(e){return wg(e)}query(e,t,r){return Y0(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,u=[]){const p={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(p.easing=s);const y={},E=u.filter(x=>x instanceof Rg);(function LS(n,e){return 0===n||0===e})(r,i)&&E.forEach(x=>{let L=x.currentSnapshot;Object.keys(L).forEach(G=>y[G]=L[G])}),t=function J0(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],u=[];if(r.forEach(h=>{s.hasOwnProperty(h)||u.push(h),s[h]=t[h]}),u.length)for(var i=1;i<e.length;i++){let h=e[i];u.forEach(function(p){h[p]=eE(n,p)})}}return e}(e,t=t.map(x=>gl(x,!1)),y);const T=function Oy(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Py(e[0]),e.length>1&&(r=Py(e[e.length-1]))):e&&(t=Py(e)),t||r?new gE(n,t,r):null}(e,t);return new Rg(e,t,p,T)}}let aA=(()=>{class n extends M0{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?R0(t):t;return Ny(this._renderer,null,r,"register",[i]),new mE(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class mE extends class yS{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new _E(this._id,e,t||{},this._renderer)}}class _E{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Ny(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Ny(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const Fy="@.disabled";let _l=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,u)=>{const h=null==u?void 0:u.parentNode(s);h&&u.removeChild(h,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let E=this._rendererCache.get(s);return E||(E=new ff("",s,this.engine),this._rendererCache.set(s,E)),E}const u=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const p=E=>{Array.isArray(E)?E.forEach(p):this.engine.registerTrigger(u,h,t,E.name,E)};return r.data.animation.forEach(p),new lA(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,h]=s;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(cd),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ff{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Fy?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class lA extends ff{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Fy?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function uA(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),u="";return"@"!=s.charAt(0)&&([s,u]=function NN(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let Ly=(()=>{class n extends cd{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q),c.LFG(ly),c.LFG(ud))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const go=new c.OlP("AnimationModuleType"),vE=[{provide:M0,useClass:aA},{provide:ud,useFactory:function yE(){return new aE}},{provide:cd,useClass:Ly},{provide:c.FYo,useFactory:function Vy(n,e,t){return new _l(n,e,t)},deps:[Hn,cd,c.R0b]}],kg=[{provide:ly,useFactory:()=>new PN},{provide:go,useValue:"BrowserAnimations"},...vE],bE=[{provide:ly,useClass:Z0},{provide:go,useValue:"NoopAnimations"},...vE];let wE=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?bE:kg}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:kg,imports:[Hl]}),n})();const dd=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function fA(){return!0}});let Tr=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!il()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(A0),c.LFG(dd,8),c.LFG(Q))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[xo],xo]}),n})();function ba(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=V(e)}}}function hd(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function CE(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=V(e)}}}function IE(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Ht.x,this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let Og=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Tr],Tr]}),n})();class jo{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const wA={enterDuration:225,exitDuration:150},Pg=nl({passive:!0}),By=["mousedown","touchstart"],Uy=["mouseup","mouseleave","touchend","touchcancel"];class EA{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=kt(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},wA),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const u=r.radius||function TE(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),h=e-i.left,p=t-i.top,y=s.enterDuration,E=document.createElement("div");E.classList.add("mat-ripple-element"),E.style.left=h-u+"px",E.style.top=p-u+"px",E.style.height=2*u+"px",E.style.width=2*u+"px",null!=r.color&&(E.style.backgroundColor=r.color),E.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(E),function ZN(n){window.getComputedStyle(n).getPropertyValue("opacity")}(E),E.style.transform="scale(1)";const T=new jo(this,E,r);return T.state=0,this._activeRipples.add(T),r.persistent||(this._mostRecentTransientRipple=T),this._runTimeoutOutsideZone(()=>{const x=T===this._mostRecentTransientRipple;T.state=1,!r.persistent&&(!x||!this._isPointerDown)&&T.fadeOut()},y),T}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=Object.assign(Object.assign({},wA),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=kt(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(By))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Uy),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=$_(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!E0(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Pg)})})}_removeTriggerEvents(){this._triggerElement&&(By.forEach(e=>{this._triggerElement.removeEventListener(e,this,Pg)}),this._pointerUpEventsRegistered&&Uy.forEach(e=>{this._triggerElement.removeEventListener(e,this,Pg)}))}}const jy=new c.OlP("mat-ripple-global-options");let DE=(()=>{class n{constructor(t,r,i,s,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new EA(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(on),c.Y36(jy,8),c.Y36(go,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&c.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Hy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Tr],Tr]}),n})();const Si=["*",[["mat-toolbar-row"]]],Xu=["*","mat-toolbar-row"],Lg=hd(class{constructor(n){this._elementRef=n}});let mo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),zy=(()=>{class n extends Lg{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(on),c.Y36(Q))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&c.Suo(i,mo,5),2&t){let s;c.iGM(s=c.CRH())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&c.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:Xu,decls:2,vars:0,template:function(t,r){1&t&&(c.F$t(Si),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),pd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Tr],Tr]}),n})();var Dr=R(8306);const{isArray:gd}=Array,{getPrototypeOf:md,prototype:_d,keys:yd}=Object;function Ju(n){if(1===n.length){const e=n[0];if(gd(e))return{args:e,keys:null};if(function vd(n){return n&&"object"==typeof n&&md(n)===_d}(e)){const t=yd(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var xt=R(4004);const{isArray:AE}=Array;function Vg(n){return(0,xt.U)(e=>function ME(n,e){return AE(e)?n(...e):n(e)}(n,e))}function $y(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var xE=R(9672);function Wy(n,e,t){n?(0,xE.f)(t,n,e):e()}var wa=R(576);function bd(n,e){const t=(0,wa.m)(n)?n:()=>n,r=i=>i.error(t());return new Dr.y(e?i=>e.schedule(r,0,i):r)}const Bg=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var mf=R(8189);function qy(...n){return function IA(){return(0,mf.J)(1)}()((0,Ln.D)(n,(0,Os.yG)(n)))}function _f(n){return new Dr.y(e=>{(0,_.Xf)(n()).subscribe(e)})}var ec=R(515),su=R(727);function OE(){return(0,kr.e)((n,e)=>{let t=null;n._refCount++;const r=new cr.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class TA extends Dr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,kr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new su.w0;const t=this.getSubject();e.add(this.source.subscribe(new cr.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=su.w0.EMPTY)}return e}refCount(){return OE()(this)}}function fi(n,e){return(0,kr.e)((t,r)=>{let i=null,s=0,u=!1;const h=()=>u&&!i&&r.complete();t.subscribe(new cr.Q(r,p=>{null==i||i.unsubscribe();let y=0;const E=s++;(0,_.Xf)(n(p,E)).subscribe(i=new cr.Q(r,T=>r.next(e?e(p,T,E,y++):T),()=>{i=null,h()}))},()=>{u=!0,h()}))})}function tc(...n){const e=(0,Os.yG)(n);return(0,kr.e)((t,r)=>{(e?qy(n,t,e):qy(n,t)).subscribe(r)})}function Ky(n,e,t,r,i){return(s,u)=>{let h=t,p=e,y=0;s.subscribe(new cr.Q(u,E=>{const T=y++;p=h?n(p,E,T):(h=!0,E),r&&u.next(p)},i&&(()=>{h&&u.next(p),u.complete()})))}}function wd(n,e){return(0,kr.e)(Ky(n,e,arguments.length>=2,!0))}function vl(n){return(0,kr.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe(new cr.Q(t,void 0,void 0,u=>{s=(0,_.Xf)(n(u,vl(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}var Ai=R(5577);function yf(n,e){return(0,wa.m)(e)?(0,Ai.z)(n,e,1):(0,Ai.z)(n,1)}function PE(n){return n<=0?()=>ec.E:(0,kr.e)((e,t)=>{let r=[];e.subscribe(new cr.Q(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function NE(n=FE){return(0,kr.e)((e,t)=>{let r=!1;e.subscribe(new cr.Q(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function FE(){return new Bg}function DA(n){return(0,kr.e)((e,t)=>{let r=!1;e.subscribe(new cr.Q(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function _o(n,e){const t=arguments.length>=2;return r=>r.pipe(n?dr((i,s)=>n(i,s,r)):Xc.y,(0,Di.q)(1),t?DA(e):NE(()=>new Bg))}var Mi=R(8505);function Yy(n){return(0,kr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class bl{constructor(e,t){this.id=e,this.url=t}}class Ug extends bl{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ou extends bl{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class LE extends bl{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class VE extends bl{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class AA extends bl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MA extends bl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xA extends bl{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class RA extends bl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kA extends bl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zy{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class BE{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class UE{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jE{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qy{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a1{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jg{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const an="primary";class l1{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ea(n){return new l1(n)}const Xy="ngNavigationCancelingError";function vf(n){const e=Error("NavigationCancelingError: "+n);return e[Xy]=!0,e}function OA(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const u=r[s],h=n[s];if(u.startsWith(":"))i[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Vs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Gg(n[i],e[i]))return!1;return!0}function Gg(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function PA(n){return Array.prototype.concat.apply([],n)}function HE(n){return n.length>0?n[n.length-1]:null}function Or(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ho(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Ln.D)(Promise.resolve(n)):gt(n)}const tv={exact:function zg(n,e,t){if(!wl(n.segments,e.segments)||!Ed(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!zg(n.children[r],e.children[r],t))return!1;return!0},subset:sv},nv={exact:function iv(n,e){return Vs(n,e)},subset:function NA(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Gg(n[t],e[t]))},ignored:()=>!0};function rv(n,e,t){return tv[t.paths](n.root,e.root,t.matrixParams)&&nv[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function sv(n,e,t){return ov(n,e,e.segments,t)}function ov(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!wl(i,t)||e.hasChildren()||!Ed(i,t,r))}if(n.segments.length===t.length){if(!wl(n.segments,t)||!Ed(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!sv(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(wl(n.segments,i)&&Ed(n.segments,i,r)&&n.children[an])&&ov(n.children[an],e,s,r)}}function Ed(n,e,t){return e.every((r,i)=>nv[t](n[i].parameters,r.parameters))}class au{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ea(this.queryParams)),this._queryParamMap}toString(){return $E.serialize(this)}}class fn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Or(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bf(this)}}class Cd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ea(this.parameters)),this._parameterMap}toString(){return dv(this)}}function wl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class lv{}class uv{parse(e){const t=new XE(e);return new au(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Id(e.root,!0)}`,r=function Ur(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${wf(t)}=${wf(i)}`).join("&"):`${wf(t)}=${wf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function WE(n){return encodeURI(n)}(e.fragment)}`:""}`}}const $E=new uv;function bf(n){return n.segments.map(e=>dv(e)).join("/")}function Id(n,e){if(!n.hasChildren())return bf(n);if(e){const t=n.children[an]?Id(n.children[an],!1):"",r=[];return Or(n.children,(i,s)=>{s!==an&&r.push(`${s}:${Id(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function av(n,e){let t=[];return Or(n.children,(r,i)=>{i===an&&(t=t.concat(e(r,i)))}),Or(n.children,(r,i)=>{i!==an&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===an?[Id(n.children[an],!1)]:[`${i}:${Id(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[an]?`${bf(n)}/${t[0]}`:`${bf(n)}/(${t.join("//")})`}}function cv(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wf(n){return cv(n).replace(/%3B/gi,";")}function qE(n){return cv(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $g(n){return decodeURIComponent(n)}function KE(n){return $g(n.replace(/\+/g,"%20"))}function dv(n){return`${qE(n.path)}${function FA(n){return Object.keys(n).map(e=>`;${qE(e)}=${qE(n[e])}`).join("")}(n.parameters)}`}const YE=/^[^\/()?;=#]+/;function Wg(n){const e=n.match(YE);return e?e[0]:""}const LA=/^[^=?&#]+/,VA=/^[^&#]+/;class XE{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[an]=new fn(e,t)),r}parseSegment(){const e=Wg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Cd($g(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Wg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Wg(this.remaining);i&&(r=i,this.capture(r))}e[$g(t)]=$g(r)}parseQueryParam(e){const t=function ZE(n){const e=n.match(LA);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function QE(n){const e=n.match(VA);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=KE(t),s=KE(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Wg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=an);const u=this.parseChildren();t[s]=1===Object.keys(u).length?u[an]:new fn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class nc{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=hv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=hv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=fv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return fv(e,this._root).map(t=>t.value)}}function hv(n,e){if(n===e.value)return e;for(const t of e.children){const r=hv(n,t);if(r)return r}return null}function fv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=fv(n,t);if(r.length)return r.unshift(e),r}return[]}class Ca{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Td(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class pv extends nc{constructor(e,t){super(e),this.snapshot=t,Bs(this,e)}toString(){return this.snapshot.toString()}}function BA(n,e){const t=function gv(n,e){const u=new qg([],{},{},"",{},an,e,null,n.root,-1,{});return new zo("",new Ca(u,[]))}(n,e),r=new Ir([new Cd("",{})]),i=new Ir({}),s=new Ir({}),u=new Ir({}),h=new Ir(""),p=new Ia(r,i,u,h,s,an,e,t.root);return p.snapshot=t.root,new pv(new Ca(p,[]),t)}class Ia{constructor(e,t,r,i,s,u,h,p){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=u,this.component=h,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xt.U)(e=>Ea(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xt.U)(e=>Ea(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Go(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function UA(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class qg{constructor(e,t,r,i,s,u,h,p,y,E,T){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=u,this.component=h,this.routeConfig=p,this._urlSegment=y,this._lastPathIndex=E,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ea(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ea(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zo extends nc{constructor(e,t){super(t),this.url=e,Bs(this,t)}toString(){return yo(this._root)}}function Bs(n,e){e.value._routerState=n,e.children.forEach(t=>Bs(n,t))}function yo(n){const e=n.children.length>0?` { ${n.children.map(yo).join(", ")} } `:"";return`${n.value}${e}`}function Kg(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Vs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Vs(e.params,t.params)||n.params.next(t.params),function Hg(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Vs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Vs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Yg(n,e){const t=Vs(n.params,e.params)&&function zE(n,e){return wl(n,e)&&n.every((t,r)=>Vs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Yg(n.parent,e.parent))}function Ef(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function HA(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ef(n,r,i);return Ef(n,r)})}(n,e,t);return new Ca(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>Ef(n,h)),u}}const r=function GA(n){return new Ia(new Ir(n.url),new Ir(n.params),new Ir(n.queryParams),new Ir(n.fragment),new Ir(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Ef(n,s));return new Ca(r,i)}}function lu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Cf(n){return"object"==typeof n&&null!=n&&n.outlets}function Zg(n,e,t,r,i){let s={};if(r&&Or(r,(h,p)=>{s[p]=Array.isArray(h)?h.map(y=>`${y}`):`${h}`}),n===e)return new au(t,s,i);const u=JE(n,e,t);return new au(u,s,i)}function JE(n,e,t){const r={};return Or(n.children,(i,s)=>{r[s]=i===e?t:JE(i,e,t)}),new fn(n.segments,r)}class _v{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&lu(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Cf);if(i&&i!==HE(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dd{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Qg(n,e,t){if(n||(n=new fn([],{})),0===n.segments.length&&n.hasChildren())return rc(n,e,t);const r=function rC(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const u=n.segments[i],h=t[r];if(Cf(h))break;const p=`${h}`,y=r<t.length-1?t[r+1]:null;if(i>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!vv(p,y,u))return s;r+=2}else{if(!vv(p,{},u))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new fn(n.segments.slice(0,r.pathIndex),{});return s.children[an]=new fn(n.segments.slice(r.pathIndex),n.children),rc(s,0,i)}return r.match&&0===i.length?new fn(n.segments,{}):r.match&&!n.hasChildren()?Xg(n,e,t):r.match?rc(n,0,i):Xg(n,e,t)}function rc(n,e,t){if(0===t.length)return new fn(n.segments,{});{const r=function nC(n){return Cf(n[0])?n[0].outlets:{[an]:n}}(t),i={};return Or(r,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[u]=Qg(n.children[u],e,s))}),Or(n.children,(s,u)=>{void 0===r[u]&&(i[u]=s)}),new fn(n.segments,i)}}function Xg(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Cf(s)){const p=iC(s.outlets);return new fn(r,p)}if(0===i&&lu(t[0])){r.push(new Cd(n.segments[e].path,yv(t[0]))),i++;continue}const u=Cf(s)?s.outlets[an]:`${s}`,h=i<t.length-1?t[i+1]:null;u&&h&&lu(h)?(r.push(new Cd(u,yv(h))),i+=2):(r.push(new Cd(u,{})),i++)}return new fn(r,{})}function iC(n){const e={};return Or(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Xg(new fn([],{}),0,t))}),e}function yv(n){const e={};return Or(n,(t,r)=>e[r]=`${t}`),e}function vv(n,e,t){return n==t.path&&Vs(e,t.parameters)}class oC{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Kg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Td(t);e.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,i[u],r),delete i[u]}),Or(i,(s,u)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Td(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);if(r&&r.outlet){const u=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Td(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Td(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new a1(s.value.snapshot))}),e.children.length&&this.forwardEvent(new jE(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Kg(i),i===s)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Kg(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=function aC(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),p=h?h.module.componentFactoryResolver:null;u.attachRef=null,u.route=i,u.resolver=p,u.outlet&&u.outlet.activateWith(i,p),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class Jg{constructor(e,t){this.routes=e,this.module=t}}function uu(n){return"function"==typeof n}function ic(n){return n instanceof au}const If=Symbol("INITIAL_VALUE");function Tf(){return fi(n=>function RE(...n){const e=(0,Os.yG)(n),t=(0,Os.jO)(n),{args:r,keys:i}=Ju(n);if(0===r.length)return(0,Ln.D)([],e);const s=new Dr.y(function kE(n,e,t=Xc.y){return r=>{Wy(e,()=>{const{length:i}=n,s=new Array(i);let u=i,h=i;for(let p=0;p<i;p++)Wy(e,()=>{const y=(0,Ln.D)(n[p],e);let E=!1;y.subscribe(new cr.Q(r,T=>{s[p]=T,E||(E=!0,h--),h||r.next(t(s.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>$y(i,u):Xc.y));return t?s.pipe(Vg(t)):s}(n.map(e=>e.pipe((0,Di.q)(1),tc(If)))).pipe(wd((e,t)=>{let r=!1;return t.reduce((i,s,u)=>i!==If?i:(s===If&&(r=!0),r||!1!==s&&u!==t.length-1&&!ic(s)?i:s),e)},If),dr(e=>e!==If),(0,xt.U)(e=>ic(e)?e:!0===e),(0,Di.q)(1)))}class ZA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Df,this.attachRef=null}}class Df{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new ZA,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let bv=(()=>{class n{constructor(t,r,i,s,u){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=s||an,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const u=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,p=new QA(t,h,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,p),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Df),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class QA{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ia?this.route:e===Df?this.childContexts:this.parent.get(e,t)}}let lC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[bv],encapsulation:2}),n})();function uC(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];XA(r,JA(e,r))}}function XA(n,e){n.children&&uC(n.children,e)}function JA(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function em(n){const e=n.children&&n.children.map(em),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==an&&(t.component=lC),t}function Us(n){return n.outlet||an}function wv(n,e){const t=n.filter(r=>Us(r)===e);return t.push(...n.filter(r=>Us(r)!==e)),t}const Ev={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Sf(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Ev):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||OA)(t,n,e);if(!s)return Object.assign({},Ev);const u={};Or(s.posParams,(p,y)=>{u[y]=p.path});const h=s.consumed.length>0?Object.assign(Object.assign({},u),s.consumed[s.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:h,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Af(n,e,t,r,i="corrected"){if(t.length>0&&function hC(n,e,t){return t.some(r=>Sd(n,e,r)&&Us(r)!==an)}(n,t,r)){const u=new fn(e,function dC(n,e,t,r){const i={};i[an]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Us(s)!==an){const u=new fn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[Us(s)]=u}return i}(n,e,r,new fn(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function Cv(n,e,t){return t.some(r=>Sd(n,e,r))}(n,t,r)){const u=new fn(n.segments,function cC(n,e,t,r,i,s){const u={};for(const h of r)if(Sd(n,t,h)&&!i[Us(h)]){const p=new fn([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:e.length,u[Us(h)]=p}return Object.assign(Object.assign({},i),u)}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const s=new fn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Sd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function cu(n,e,t,r){return!!(Us(n)===r||r!==an&&Sd(e,t,n))&&("**"===n.path||Sf(e,n,t).matched)}function fC(n,e,t){return 0===e.length&&!n.children[t]}class tm{constructor(e){this.segmentGroup=e||null}}class sc{constructor(e){this.urlTree=e}}function nm(n){return bd(new tm(n))}function rm(n){return bd(new sc(n))}class c1{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=Af(this.urlTree.root,[],[],this.config).segmentGroup,t=new fn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,an).pipe((0,xt.U)(s=>this.createUrlTree(Iv(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vl(s=>{if(s instanceof sc)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof tm?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,an).pipe((0,xt.U)(i=>this.createUrlTree(Iv(i),e.queryParams,e.fragment))).pipe(vl(i=>{throw i instanceof tm?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new fn([],{[an]:e}):e;return new au(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,xt.U)(s=>new fn([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,Ln.D)(i).pipe(yf(s=>{const u=r.children[s],h=wv(t,s);return this.expandSegmentGroup(e,h,u,s).pipe((0,xt.U)(p=>({segment:p,outlet:s})))}),wd((s,u)=>(s[u.outlet]=u.segment,s),{}),function SA(n,e){const t=arguments.length>=2;return r=>r.pipe(n?dr((i,s)=>n(i,s,r)):Xc.y,PE(1),t?DA(e):NE(()=>new Bg))}())}expandSegment(e,t,r,i,s,u){return(0,Ln.D)(r).pipe(yf(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,s,u).pipe(vl(y=>{if(y instanceof tm)return gt(null);throw y}))),_o(h=>!!h),vl((h,p)=>{if(h instanceof Bg||"EmptyError"===h.name)return fC(t,i,s)?gt(new fn([],{})):nm(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,s,u,h){return cu(i,t,s,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u):nm(t):nm(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?rm(s):this.lineralizeSegments(r,s).pipe((0,Ai.z)(u=>{const h=new fn(u,{});return this.expandSegment(e,h,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u){const{matched:h,consumedSegments:p,remainingSegments:y,positionalParamSegments:E}=Sf(t,i,s);if(!h)return nm(t);const T=this.applyRedirectCommands(p,i.redirectTo,E);return i.redirectTo.startsWith("/")?rm(T):this.lineralizeSegments(i,T).pipe((0,Ai.z)(x=>this.expandSegment(e,t,r,x.concat(y),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?gt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,xt.U)(T=>(r._loadedConfig=T,new fn(i,{})))):gt(new fn(i,{}));const{matched:u,consumedSegments:h,remainingSegments:p}=Sf(t,r,i);return u?this.getChildConfig(e,r,i).pipe((0,Ai.z)(E=>{const T=E.module,x=E.routes,{segmentGroup:L,slicedSegments:G}=Af(t,h,p,x),he=new fn(L.segments,L.children);if(0===G.length&&he.hasChildren())return this.expandChildren(T,x,he).pipe((0,xt.U)(ct=>new fn(h,ct)));if(0===x.length&&0===G.length)return gt(new fn(h,{}));const Te=Us(r)===s;return this.expandSegment(T,he,x,G,Te?an:s,!0).pipe((0,xt.U)(st=>new fn(h.concat(st.segments),st.children)))})):nm(t)}getChildConfig(e,t,r){return t.children?gt(new Jg(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?gt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Ai.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,xt.U)(s=>(t._loadedConfig=s,s))):function pC(n){return bd(vf(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):gt(new Jg([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?gt(i.map(u=>{const h=e.get(u);let p;if(function WA(n){return n&&uu(n.canLoad)}(h))p=h.canLoad(t,r);else{if(!uu(h))throw new Error("Invalid CanLoad guard");p=h(t,r)}return Ho(p)})).pipe(Tf(),(0,Mi.b)(u=>{if(!ic(u))return;const h=vf(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw h.url=u,h}),(0,xt.U)(u=>!0===u)):gt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return gt(r);if(i.numberOfChildren>1||!i.children[an])return bd(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[an]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new au(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Or(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[s]=t[h]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let u={};return Or(t.children,(h,p)=>{u[p]=this.createSegmentGroup(e,h,r,i)}),new fn(s,u)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Iv(n){const e={};for(const r of Object.keys(n.children)){const s=Iv(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function St(n){if(1===n.numberOfChildren&&n.children[an]){const e=n.children[an];return new fn(n.segments.concat(e.segments),e.children)}return n}(new fn(n.segments,e))}class mC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class oc{constructor(e,t){this.component=e,this.route=t}}function tM(n,e,t){const r=n._root;return sm(r,e?e._root:null,t,[r.value])}function ac(n,e,t){const r=function fr(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function sm(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Td(e);return n.children.forEach(u=>{(function _C(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const p=function nM(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!wl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wl(n.url,e.url)||!Vs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yg(n,e)||!Vs(n.queryParams,e.queryParams);default:return!Yg(n,e)}}(u,s,s.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new mC(r)):(s.data=u.data,s._resolvedData=u._resolvedData),sm(n,e,s.component?h?h.children:null:t,r,i),p&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new oc(h.outlet.component,u))}else u&&Mf(e,h,i),i.canActivateChecks.push(new mC(r)),sm(n,null,s.component?h?h.children:null:t,r,i)})(u,s[u.value.outlet],t,r.concat([u.value]),i),delete s[u.value.outlet]}),Or(s,(u,h)=>Mf(u,t.getContext(h),i)),i}function Mf(n,e,t){const r=Td(n),i=n.value;Or(r,(s,u)=>{Mf(s,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new oc(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class oM{}function EC(n){return new Dr.y(e=>e.error(n))}class om{constructor(e,t,r,i,s,u){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=u}recognize(){const e=Af(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,an);if(null===t)return null;const r=new qg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},an,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ca(r,t),s=new zo(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=Go(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const u=t.children[s],h=wv(e,s),p=this.processSegmentGroup(h,u,s);if(null===p)return null;r.push(...p)}const i=DC(r);return function CC(n){n.sort((e,t)=>e.value.outlet===an?-1:t.value.outlet===an?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const u=this.processSegmentAgainstRoute(s,t,r,i);if(null!==u)return u}return fC(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!cu(e,t,r,i))return null;let s,u=[],h=[];if("**"===e.path){const L=r.length>0?HE(r).parameters:{};s=new qg(r,L,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,AC(e),Us(e),e.component,e,Ad(t),SC(t)+r.length,MC(e))}else{const L=Sf(t,e,r);if(!L.matched)return null;u=L.consumedSegments,h=L.remainingSegments,s=new qg(u,L.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,AC(e),Us(e),e.component,e,Ad(t),SC(t)+u.length,MC(e))}const p=function IC(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:y,slicedSegments:E}=Af(t,u,h,p.filter(L=>void 0===L.redirectTo),this.relativeLinkResolution);if(0===E.length&&y.hasChildren()){const L=this.processChildren(p,y);return null===L?null:[new Ca(s,L)]}if(0===p.length&&0===E.length)return[new Ca(s,[])];const T=Us(e)===i,x=this.processSegment(p,y,E,T?an:i);return null===x?null:[new Ca(s,x)]}}function TC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function DC(n){const e=[],t=new Set;for(const r of n){if(!TC(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=DC(r.children);e.push(new Ca(r.value,i))}return e.filter(r=>!t.has(r))}function Ad(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function SC(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function AC(n){return n.data||{}}function MC(n){return n.resolve||{}}function Tv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Dv(n){return fi(e=>{const t=n(e);return t?(0,Ln.D)(t).pipe((0,xt.U)(()=>e)):gt(e)})}class f1 extends class h1{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const OC=new c.OlP("ROUTES");class Sv{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,xt.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const u=s.create(e);return new Jg(PA(u.injector.get(OC,void 0,c.XFs.Self|c.XFs.Optional)).map(em),u)}),vl(s=>{throw t._loader$=void 0,s}));return t._loader$=new TA(i,()=>new Ht.x).pipe(OE()),t._loader$}loadModuleFactory(e){return Ho(e()).pipe((0,Ai.z)(t=>t instanceof c.YKP?gt(t):(0,Ln.D)(this.compiler.compileModuleAsync(t))))}}class cM{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function dM(n){throw n}function PC(n,e,t){return e.parse("/")}function Md(n,e){return gt(null)}const hM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gs=(()=>{class n{constructor(t,r,i,s,u,h,p){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ht.x,this.errorHandler=dM,this.malformedUriErrorHandler=PC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Md,afterPreactivation:Md},this.urlHandlingStrategy=new cM,this.routeReuseStrategy=new f1,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(c.h0i),this.console=u.get(c.c2e);const T=u.get(c.R0b);this.isNgZoneEnabled=T instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function GE(){return new au(new fn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Sv(u,h,x=>this.triggerEvent(new Zy(x)),x=>this.triggerEvent(new BE(x))),this.routerState=BA(this.currentUrlTree,this.rootComponentType),this.transitions=new Ir({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(dr(i=>0!==i.id),(0,xt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),fi(i=>{let s=!1,u=!1;return gt(i).pipe((0,Mi.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),fi(h=>{const p=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return NC(h.source)&&(this.browserUrlTree=h.extractedUrl),gt(h).pipe(fi(T=>{const x=this.transitions.getValue();return r.next(new Ug(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),x!==this.transitions.getValue()?ec.E:Promise.resolve(T)}),function eM(n,e,t,r){return fi(i=>function gC(n,e,t,r,i){return new c1(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,xt.U)(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Mi.b)(T=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:T.urlAfterRedirects})}),function xC(n,e,t,r,i){return(0,Ai.z)(s=>function aM(n,e,t,r,i="emptyOnly",s="legacy"){try{const u=new om(n,e,t,r,i,s).recognize();return null===u?EC(new oM):gt(u)}catch(u){return EC(u)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe((0,xt.U)(u=>Object.assign(Object.assign({},s),{targetSnapshot:u}))))}(this.rootComponentType,this.config,T=>this.serializeUrl(T),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Mi.b)(T=>{if("eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const L=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(L,T)}this.browserUrlTree=T.urlAfterRedirects}const x=new AA(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);r.next(x)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:x,extractedUrl:L,source:G,restoredState:he,extras:Te}=h,rt=new Ug(x,this.serializeUrl(L),G,he);r.next(rt);const st=BA(L,this.rootComponentType).snapshot;return gt(Object.assign(Object.assign({},h),{targetSnapshot:st,urlAfterRedirects:L,extras:Object.assign(Object.assign({},Te),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),ec.E}),Dv(h=>{const{targetSnapshot:p,id:y,extractedUrl:E,rawUrl:T,extras:{skipLocationChange:x,replaceUrl:L}}=h;return this.hooks.beforePreactivation(p,{navigationId:y,appliedUrlTree:E,rawUrlTree:T,skipLocationChange:!!x,replaceUrl:!!L})}),(0,Mi.b)(h=>{const p=new MA(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),(0,xt.U)(h=>Object.assign(Object.assign({},h),{guards:tM(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function yC(n,e){return(0,Ai.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:u}}=t;return 0===u.length&&0===s.length?gt(Object.assign(Object.assign({},t),{guardsResult:!0})):function vC(n,e,t,r){return(0,Ln.D)(n).pipe((0,Ai.z)(i=>function xf(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?gt(s.map(h=>{const p=ac(h,e,i);let y;if(function YA(n){return n&&uu(n.canDeactivate)}(p))y=Ho(p.canDeactivate(n,e,t,r));else{if(!uu(p))throw new Error("Invalid CanDeactivate guard");y=Ho(p(n,e,t,r))}return y.pipe(_o())})).pipe(Tf()):gt(!0)}(i.component,i.route,t,e,r)),_o(i=>!0!==i,!0))}(u,r,i,n).pipe((0,Ai.z)(h=>h&&function $A(n){return"boolean"==typeof n}(h)?function bC(n,e,t,r){return(0,Ln.D)(e).pipe(yf(i=>qy(function rM(n,e){return null!==n&&e&&e(new UE(n)),gt(!0)}(i.route.parent,r),function wC(n,e){return null!==n&&e&&e(new Qy(n)),gt(!0)}(i.route,r),function sM(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(u=>function im(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>_f(()=>gt(u.guards.map(p=>{const y=ac(p,u.node,t);let E;if(function KA(n){return n&&uu(n.canActivateChild)}(y))E=Ho(y.canActivateChild(r,n));else{if(!uu(y))throw new Error("Invalid CanActivateChild guard");E=Ho(y(r,n))}return E.pipe(_o())})).pipe(Tf())));return gt(s).pipe(Tf())}(n,i.path,t),function iM(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return gt(!0);const i=r.map(s=>_f(()=>{const u=ac(s,e,t);let h;if(function qA(n){return n&&uu(n.canActivate)}(u))h=Ho(u.canActivate(e,n));else{if(!uu(u))throw new Error("Invalid CanActivate guard");h=Ho(u(e,n))}return h.pipe(_o())}));return gt(i).pipe(Tf())}(n,i.route,t))),_o(i=>!0!==i,!0))}(r,s,n,e):gt(h)),(0,xt.U)(h=>Object.assign(Object.assign({},t),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Mi.b)(h=>{if(ic(h.guardsResult)){const y=vf(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw y.url=h.guardsResult,y}const p=new xA(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(p)}),dr(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),Dv(h=>{if(h.guards.canActivateChecks.length)return gt(h).pipe((0,Mi.b)(p=>{const y=new RA(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),fi(p=>{let y=!1;return gt(p).pipe(function RC(n,e){return(0,Ai.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return gt(t);let s=0;return(0,Ln.D)(i).pipe(yf(u=>function kC(n,e,t,r){return function lM(n,e,t,r){const i=Tv(n);if(0===i.length)return gt({});const s={};return(0,Ln.D)(i).pipe((0,Ai.z)(u=>function uM(n,e,t,r){const i=ac(n,e,r);return Ho(i.resolve?i.resolve(e,t):i(e,t))}(n[u],e,t,r).pipe((0,Mi.b)(h=>{s[u]=h}))),PE(1),(0,Ai.z)(()=>Tv(s).length===i.length?gt(s):ec.E))}(n._resolve,n,e,r).pipe((0,xt.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),Go(n,t).resolve),null)))}(u.route,r,n,e)),(0,Mi.b)(()=>s++),PE(1),(0,Ai.z)(u=>s===i.length?gt(t):ec.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Mi.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(p),this.cancelNavigationTransition(p,"At least one route resolver didn't emit any value."))}}))}),(0,Mi.b)(p=>{const y=new kA(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}))}),Dv(h=>{const{targetSnapshot:p,id:y,extractedUrl:E,rawUrl:T,extras:{skipLocationChange:x,replaceUrl:L}}=h;return this.hooks.afterPreactivation(p,{navigationId:y,appliedUrlTree:E,rawUrlTree:T,skipLocationChange:!!x,replaceUrl:!!L})}),(0,xt.U)(h=>{const p=function jA(n,e,t){const r=Ef(n,e._root,t?t._root:void 0);return new pv(r,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:p})}),(0,Mi.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,xt.U)(r=>(new oC(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Mi.b)({next(){s=!0},complete(){s=!0}}),Yy(()=>{var h;s||u||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===i.id&&(this.currentNavigation=null)}),vl(h=>{if(u=!0,function Jy(n){return n&&n[Xy]}(h)){const p=ic(h.url);p||(this.navigated=!0,this.restoreHistory(i,!0));const y=new LE(i.id,this.serializeUrl(i.extractedUrl),h.message);r.next(y),p?setTimeout(()=>{const E=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),T={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||NC(i.source)};this.scheduleNavigation(E,"imperative",null,T,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const p=new VE(i.id,this.serializeUrl(i.extractedUrl),h);r.next(p);try{i.resolve(this.errorHandler(h))}catch(y){i.reject(y)}}return ec.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},u=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(u){const p=Object.assign({},u);delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,r,u,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){uC(t),this.config=t.map(em),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:u,queryParamsHandling:h,preserveFragment:p}=r,y=i||this.routerState.root,E=p?this.currentUrlTree.fragment:u;let T=null;switch(h){case"merge":T=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=s||null}return null!==T&&(T=this.removeEmptyProps(T)),function mv(n,e,t,r,i){if(0===t.length)return Zg(e.root,e.root,e.root,r,i);const s=function eC(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new _v(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Or(s.outlets,(p,y)=>{h[y]="string"==typeof p?p.split("/"):p}),[...i,{outlets:h}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===u?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,s]},[]);return new _v(t,e,r)}(t);if(s.toRoot())return Zg(e.root,e.root,new fn([],{}),r,i);const u=function zA(n,e,t){if(n.isAbsolute)return new Dd(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new Dd(s,s===e.root,0)}const r=lu(n.commands[0])?0:1;return function tC(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Dd(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),h=u.processChildren?rc(u.segmentGroup,u.index,s.commands):Qg(u.segmentGroup,u.index,s.commands);return Zg(e.root,u.segmentGroup,h,r,i)}(y,this.currentUrlTree,t,T,null!=E?E:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ic(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function pM(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},hM):!1===r?Object.assign({},fM):r,ic(t))return rv(this.currentUrlTree,t,i);const s=this.parseUrl(t);return rv(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ou(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,u){var h,p;if(this.disposed)return Promise.resolve(!1);let y,E,T;u?(y=u.resolve,E=u.reject,T=u.promise):T=new Promise((G,he)=>{y=G,E=he});const x=++this.navigationId;let L;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),L=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(p=this.browserPageId)&&void 0!==p?p:0)+1):L=0,this.setTransition({id:x,targetPageId:L,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:y,reject:E,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(G=>Promise.reject(G))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===u?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new LE(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function NC(n){return"imperative"!==n}let lc=(()=>{class n{constructor(t,r,i,s,u){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=u,this.commands=null,this.onChanges=new Ht.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:xd(this.skipLocationChange),replaceUrl:xd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xd(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(gs),c.Y36(Ia),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function xd(n){return""===n||!!n}class Mv{}class xv{preload(e,t){return gt(null)}}let FC=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new Sv(i,r,p=>t.triggerEvent(new Zy(p)),p=>t.triggerEvent(new BE(p)))}setUpPreloading(){this.subscription=this.router.events.pipe(dr(t=>t instanceof ou),yf(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const u=s._loadedConfig;i.push(this.processRoutes(u.module,u.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return(0,Ln.D)(i).pipe((0,mf.J)(),(0,xt.U)(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?gt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Ai.z)(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gs),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(Mv))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),um=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ug?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ou&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof jg&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new jg(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const El=new c.OlP("ROUTER_CONFIGURATION"),LC=new c.OlP("ROUTER_FORROOT_GUARD"),VC=[Ke,{provide:lv,useClass:uv},{provide:gs,useFactory:function jC(n,e,t,r,i,s,u={},h,p){const y=new gs(null,n,e,t,r,i,PA(s));return h&&(y.urlHandlingStrategy=h),p&&(y.routeReuseStrategy=p),function vM(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,y),u.enableTracing&&y.events.subscribe(E=>{var T,x;null===(T=console.group)||void 0===T||T.call(console,`Router Event: ${E.constructor.name}`),console.log(E.toString()),console.log(E),null===(x=console.groupEnd)||void 0===x||x.call(console)}),y},deps:[lv,Df,Ke,c.zs3,c.Sil,OC,El,[class lm{},new c.FiY],[class d1{},new c.FiY]]},Df,{provide:Ia,useFactory:function bM(n){return n.routerState.root},deps:[gs]},FC,xv,class mM{preload(e,t){return t().pipe(vl(()=>gt(null)))}},{provide:El,useValue:{enableTracing:!1}}];function BC(){return new c.PXZ("Router",gs)}let Rv=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[VC,UC(t),{provide:LC,useFactory:kv,deps:[[gs,new c.FiY,new c.tp0]]},{provide:El,useValue:r||{}},{provide:Ee,useFactory:yM,deps:[ne,[new c.tBr(Oe),new c.FiY],El]},{provide:um,useFactory:_M,deps:[gs,Vl,El]},{provide:Mv,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:xv},{provide:c.PXZ,multi:!0,useFactory:BC},[Ov,{provide:c.ip1,multi:!0,useFactory:wM,deps:[Ov]},{provide:HC,useFactory:EM,deps:[Ov]},{provide:c.tb,multi:!0,useExisting:HC}]]}}static forChild(t){return{ngModule:n,providers:[UC(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(LC,8),c.LFG(gs,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function _M(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new um(n,e,t)}function yM(n,e,t={}){return t.useHash?new ve(n,e):new je(n,e)}function kv(n){return"guarded"}function UC(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:OC,multi:!0,useValue:n}]}let Ov=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ht.x}appInitializer(){return this.injector.get(H,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(h=>r=h),s=this.injector.get(gs),u=this.injector.get(El);return"disabled"===u.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?gt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(El),i=this.injector.get(FC),s=this.injector.get(um),u=this.injector.get(gs),h=this.injector.get(c.z2F);t===h.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&u.initialNavigation(),i.setUpPreloading(),s.init(),u.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function wM(n){return n.appInitializer.bind(n)}function EM(n){return n.bootstrapListener.bind(n)}const HC=new c.OlP("Router Initializer");var GC=R(1144);const zC=["addListener","removeListener"],IM=["addEventListener","removeEventListener"],TM=["on","off"];function Ta(n,e,t,r){if((0,wa.m)(t)&&(r=t,t=void 0),r)return Ta(n,e,t).pipe(Vg(r));const[i,s]=function Pv(n){return(0,wa.m)(n.addEventListener)&&(0,wa.m)(n.removeEventListener)}(n)?IM.map(u=>h=>n[u](e,h,t)):function DM(n){return(0,wa.m)(n.addListener)&&(0,wa.m)(n.removeListener)}(n)?zC.map($C(n,e)):function SM(n){return(0,wa.m)(n.on)&&(0,wa.m)(n.off)}(n)?TM.map($C(n,e)):[];if(!i&&(0,GC.z)(n))return(0,Ai.z)(u=>Ta(u,e,t))((0,_.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Dr.y(u=>{const h=(...p)=>u.next(1<p.length?p:p[0]);return i(h),()=>s(h)})}function $C(n,e){return t=>r=>n[t](e,r)}var cm=R(4408);const kd={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=kd;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new su.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=kd;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=kd;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var WC=R(7565);new class AM extends WC.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const s=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<s&&(e=t.shift()));if(this._active=!1,r){for(;++i<s&&(e=t.shift());)e.unsubscribe();throw r}}}(class Nv extends cm.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=kd.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(kd.cancelAnimationFrame(t),e._scheduled=void 0)}});let Lv,qC=1;const Rf={};function KC(n){return n in Rf&&(delete Rf[n],!0)}const YC={setImmediate(n){const e=qC++;return Rf[e]=!0,Lv||(Lv=Promise.resolve()),Lv.then(()=>KC(e)&&n()),e},clearImmediate(n){KC(n)}},{setImmediate:MM,clearImmediate:dm}=YC,hm={setImmediate(...n){const{delegate:e}=hm;return((null==e?void 0:e.setImmediate)||MM)(...n)},clearImmediate(n){const{delegate:e}=hm;return((null==e?void 0:e.clearImmediate)||dm)(n)},delegate:void 0};new class kf extends WC.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const s=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<s&&(e=t.shift()));if(this._active=!1,r){for(;++i<s&&(e=t.shift());)e.unsubscribe();throw r}}}(class Od extends cm.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=hm.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(hm.clearImmediate(t),e._scheduled=void 0)}});var Of=R(4986),kM=R(3532);function Vv(n,e=Of.P){return function RM(n){return(0,kr.e)((e,t)=>{let r=!1,i=null,s=null,u=!1;const h=()=>{if(null==s||s.unsubscribe(),s=null,r){r=!1;const y=i;i=null,t.next(y)}u&&t.complete()},p=()=>{s=null,u&&t.complete()};e.subscribe(new cr.Q(t,y=>{r=!0,i=y,s||(0,_.Xf)(n(y)).subscribe(s=new cr.Q(t,h,p))},()=>{u=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function PM(n=0,e,t=Of.P){let r=-1;return null!=e&&((0,kM.K)(e)?t=e:r=e),new Dr.y(i=>{let s=function OM(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}let Uv=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Ht.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Dr.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(Vv(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):gt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(dr(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=kt(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ta(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(on),c.LFG(Q,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jv=(()=>{class n{constructor(t,r,i,s){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=s,this._destroyed=new Ht.x,this._elementScrolled=new Dr.y(u=>this.ngZone.runOutsideAngular(()=>Ta(this.elementRef.nativeElement,"scroll").pipe(O(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=ui()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==ui()?t.left=t.right:1==ui()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;rl()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?i:r:"end"==t&&(t=u?r:i),u&&2==ui()?t==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:u&&1==ui()?t==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Uv),c.Y36(c.R0b),c.Y36(ds,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),Gv=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Ht.x,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Vv(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(on),c.LFG(c.R0b),c.LFG(Q,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),VM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[xo,Cl],xo,Cl]}),n})();var uc=R(6451);function XC(n){return(0,xt.U)(()=>n)}function pm(n,e=Of.z){return(0,kr.e)((t,r)=>{let i=null,s=null,u=null;const h=()=>{if(i){i.unsubscribe(),i=null;const y=s;s=null,r.next(y)}};function p(){const y=u+n,E=e.now();if(E<y)return i=this.schedule(void 0,y-E),void r.add(i);h()}t.subscribe(new cr.Q(r,y=>{s=y,u=e.now(),i||(i=e.schedule(p,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{s=i=null}))})}const zv=["*"],b1=["content"];function JC(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){return c.CHM(t),c.oxw()._onBackdropClicked()}),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function $v(n,e){1&n&&(c.TgZ(0,"mat-drawer-content"),c.Hsn(1,2),c.qZA())}const eI=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],tI=["mat-drawer","mat-drawer-content","*"],BM={transformDrawer:Y_("transform",[fs("open, open-instant",qi({transform:"none",visibility:"visible"})),fs("void",qi({"box-shadow":"none",visibility:"hidden"})),fg("void => open-instant",Yh("0ms")),fg("void <=> open, open-instant => void",Yh("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},UM=new c.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function nI(){return!1}}),Pd=new c.OlP("MAT_DRAWER_CONTAINER");let gm=(()=>{class n extends jv{constructor(t,r,i,s,u){super(i,s,u),this._changeDetectorRef=t,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>qv)),c.Y36(c.SBq),c.Y36(Uv),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,r){2&t&&c.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[c._Bn([{provide:jv,useExisting:n}]),c.qOj],ngContentSelectors:zv,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),Wv=(()=>{class n{constructor(t,r,i,s,u,h,p,y){this._elementRef=t,this._focusTrapFactory=r,this._focusMonitor=i,this._platform=s,this._ngZone=u,this._interactivityChecker=h,this._doc=p,this._container=y,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ht.x,this._animationEnd=new Ht.x,this._animationState="void",this.openedChange=new c.vpe(!0),this._openedStream=this.openedChange.pipe(dr(E=>E),(0,xt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(dr(E=>E.fromState!==E.toState&&0===E.toState.indexOf("open")),XC(void 0)),this._closedStream=this.openedChange.pipe(dr(E=>!E),(0,xt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(dr(E=>E.fromState!==E.toState&&"void"===E.toState),XC(void 0)),this._destroyed=new Ht.x,this.onPositionChanged=new c.vpe,this._modeChanged=new Ht.x,this.openedChange.subscribe(E=>{E?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Ta(this._elementRef.nativeElement,"keydown").pipe(dr(E=>27===E.keyCode&&!this.disableClose&&!rg(E)),O(this._destroyed)).subscribe(E=>this._ngZone.run(()=>{this.close(),E.stopPropagation(),E.preventDefault()}))}),this._animationEnd.pipe(b((E,T)=>E.fromState===T.fromState&&E.toState===T.toState)).subscribe(E=>{const{fromState:T,toState:x}=E;(0===x.indexOf("open")&&"void"===T||"void"===x&&0===T.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=V(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"===this.mode?"dialog":"first-tabbable":t}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=V(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(V(t))}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{!r&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var t;this._focusTrap&&this._focusTrap.destroy(),null===(t=this._anchor)||void 0===t||t.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,r){t&&r&&(this._openedVia=r);const i=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),i}_setOpen(t,r,i){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(i)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe((0,Di.q)(1)).subscribe(u=>s(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const r=this._elementRef.nativeElement,i=r.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),i.insertBefore(this._anchor,r)),i.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(z_),c.Y36(q_),c.Y36(on),c.Y36(c.R0b),c.Y36(dg),c.Y36(Q,8),c.Y36(Pd,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,r){if(1&t&&c.Gf(b1,5),2&t){let i;c.iGM(i=c.CRH())&&(r._content=i.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,r){1&t&&c.WFA("@transform.start",function(s){return r._animationStarted.next(s)})("@transform.done",function(s){return r._animationEnd.next(s)}),2&t&&(c.uIk("align",null),c.d8E("@transform",r._animationState),c.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:zv,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},directives:[jv],encapsulation:2,data:{animation:[BM.transformDrawer]},changeDetection:0}),n})(),qv=(()=>{class n{constructor(t,r,i,s,u,h=!1,p){this._dir=t,this._element=r,this._ngZone=i,this._changeDetectorRef=s,this._animationMode=p,this._drawers=new c.n_E,this.backdropClick=new c.vpe,this._destroyed=new Ht.x,this._doCheckSubject=new Ht.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ht.x,t&&t.change.pipe(O(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe(O(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=V(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:V(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(tc(this._allDrawers),O(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(tc(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(pm(10),O(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,r=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const i=this._left._getWidth();t+=i,r-=i}if(this._right&&this._right.opened)if("side"==this._right.mode)r+=this._right._getWidth();else if("push"==this._right.mode){const i=this._right._getWidth();r+=i,t-=i}t=t||null,r=r||null,(t!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:t,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(dr(r=>r.fromState!==r.toState),O(this._drawers.changes)).subscribe(r=>{"open-instant"!==r.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(O(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(O(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Di.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(O((0,uc.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const r=this._element.nativeElement.classList,i="mat-drawer-container-has-open";t?r.add(i):r.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ds,8),c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(Gv),c.Y36(UM),c.Y36(go,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,r,i){if(1&t&&(c.Suo(i,gm,5),c.Suo(i,Wv,5)),2&t){let s;c.iGM(s=c.CRH())&&(r._content=s.first),c.iGM(s=c.CRH())&&(r._allDrawers=s)}},viewQuery:function(t,r){if(1&t&&c.Gf(gm,5),2&t){let i;c.iGM(i=c.CRH())&&(r._userContent=i.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,r){2&t&&c.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[c._Bn([{provide:Pd,useExisting:n}])],ngContentSelectors:tI,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,r){1&t&&(c.F$t(eI),c.YNc(0,JC,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,$v,2,0,"mat-drawer-content",1)),2&t&&(c.Q6J("ngIf",r.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!r._content))},directives:[gm,yr],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),rI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ei,Tr,Cl],Cl,Tr]}),n})();var Kv=R(3099),An=R(5813),jr=R(2011),mm=(R(5881),R(3942)),Hr=R(4859),at=R(9671),pr=R(9681),j=R(2090),Da=R(1877);const iI="@firebase/database";let Nd="";function Nf(n){Nd=n}class zM{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,j.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,j.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class $M{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,j.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Yv=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new zM(e)}}catch(e){}return new $M},du=Yv("localStorage"),Ff=Yv("sessionStorage"),cc=new Da.Yd("@firebase/database"),oI=function(){let n=1;return function(){return n++}}(),aI=function(n){const e=(0,j.dS)(n),t=new j.gQ;t.update(e);const r=t.digest();return j.US.encodeByteArray(r)},_m=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=_m.apply(null,r):e+="object"==typeof r?(0,j.Pz)(r):r,e+=" "}return e};let Il=null,ym=!0;const Zv=function(n,e){(0,j.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(cc.logLevel=Da.in.VERBOSE,Il=cc.log.bind(cc),e&&Ff.set("logging_enabled",!0)):"function"==typeof n?Il=n:(Il=null,Ff.remove("logging_enabled"))},Pr=function(...n){if(!0===ym&&(ym=!1,null===Il&&!0===Ff.get("logging_enabled")&&Zv(!0)),Il){const e=_m.apply(null,n);Il(e)}},dc=function(n){return function(...e){Pr(n,...e)}},Qv=function(...n){const e="FIREBASE INTERNAL ERROR: "+_m(...n);cc.error(e)},Sa=function(...n){const e=`FIREBASE FATAL ERROR: ${_m(...n)}`;throw cc.error(e),new Error(e)},xi=function(...n){const e="FIREBASE WARNING: "+_m(...n);cc.warn(e)},Lf=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Aa="[MIN_NAME]",$o="[MAX_NAME]",hu=function(n,e){if(n===e)return 0;if(n===Aa||e===$o)return-1;if(e===Aa||n===$o)return 1;{const t=fu(n),r=fu(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},lI=function(n,e){return n===e?0:n<e?-1:1},Vf=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,j.Pz)(e))},vm=function(n){if("object"!=typeof n||null===n)return(0,j.Pz)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,j.Pz)(e[r]),t+=":",t+=vm(n[e[r]]);return t+="}",t},Jv=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Xr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const eb=function(n){(0,j.hu)(!Lf(n),"Invalid JSON number");const r=1023;let i,s,u,h,p;0===n?(s=0,u=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=h+r,u=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,u=Math.round(n/Math.pow(2,-1074))));const y=[];for(p=52;p;p-=1)y.push(u%2?1:0),u=Math.floor(u/2);for(p=11;p;p-=1)y.push(s%2?1:0),s=Math.floor(s/2);y.push(i?1:0),y.reverse();const E=y.join("");let T="";for(p=0;p<64;p+=8){let x=parseInt(E.substr(p,8),2).toString(16);1===x.length&&(x="0"+x),T+=x}return T.toLowerCase()},KM=new RegExp("^-?(0*)\\d{1,10}$"),uI=-2147483648,cI=2147483647,fu=function(n){if(KM.test(n)){const e=Number(n);if(e>=uI&&e<=cI)return e}return null},Ld=function(n){try{n()}catch(e){setTimeout(()=>{throw xi("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Bf=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class dI{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){xi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class YM{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Pr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xi(e)}}let Uf=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const ZM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Hf="websocket",sb="long_polling";class ob{constructor(e,t,r,i,s=!1,u="",h=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=du.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&du.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Em(n,e,t){let r;if((0,j.hu)("string"==typeof e,"typeof type must == string"),(0,j.hu)("object"==typeof t,"typeof params must == object"),e===Hf)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==sb)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function ab(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Xr(t,(s,u)=>{i.push(s+"="+u)}),r+i.join("&")}class x1{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,j.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,j.p$)(this.counters_)}}const lb={},ub={};function Cm(n){const e=n.toString();return lb[e]||(lb[e]=new x1),lb[e]}class QM{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ld(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class hc{constructor(e,t,r,i,s,u,h){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=dc(e),this.stats_=Cm(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),Em(t,sb,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new QM(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,j.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vI((...s)=>{const[u,h,p,y,E]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=h,this.password=p;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[u,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&ZM.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){hc.forceAllow_=!0}static forceDisallow(){hc.forceDisallow_=!0}static isAvailable(){return!((0,j.Yr)()||!hc.forceAllow_&&(hc.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,j.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,j.h$)(t),i=Jv(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,j.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,j.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class vI{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,j.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=oI(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=vI.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){Pr("frame writing exception"),h.stack&&Pr(h.stack),Pr(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Pr("No IE domain setting required")}catch(t){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const u=this.pendingSegs.shift();r=r+"&seg"+i+"="+u.seg+"&ts"+i+"="+u.ts+"&d"+i+"="+u.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,j.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Pr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let pb=null;"undefined"!=typeof MozWebSocket?pb=MozWebSocket:"undefined"!=typeof WebSocket&&(pb=WebSocket);let Tl=(()=>{class n{constructor(t,r,i,s,u,h,p){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=dc(this.connId),this.stats_=Cm(r),this.connURL=n.connectionURL_(r,h,p,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,u){const h={v:"5"};return!(0,j.Yr)()&&"undefined"!=typeof location&&location.hostname&&ZM.test(location.hostname)&&(h.r="f"),r&&(h.s=r),i&&(h.ls=i),s&&(h.ac=s),u&&(h.p=u),Em(t,Hf,h)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,du.set("previous_websocket_failure",!0);try{let i;if((0,j.Yr)()){const u={headers:{"User-Agent":`Firebase/5/${Nd}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(u.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(u.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,p=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;p&&(u.proxy={origin:p})}this.mySock=new pb(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==pb&&!n.forceDisallow_}static previouslyFailed(){return du.isInMemoryStorage||!0===du.get("previous_websocket_failure")}markConnectionHealthy(){du.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,j.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,j.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,j.Pz)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=Jv(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),rx=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[hc,Tl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=Tl&&Tl.isAvailable();let i=r&&!Tl.previouslyFailed();if(t.webSocketOnly&&(r||xi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Tl];else{const s=this.transports_=[];for(const u of n.ALL_TRANSPORTS)u&&u.isAvailable()&&s.push(u);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class ox{constructor(e,t,r,i,s,u,h,p,y,E){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=p,this.onKill_=y,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=dc("c:"+this.id+":"),this.transportManager_=new rx(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Bf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Vf("t",e),r=Vf("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Vf("t",e),r=Vf("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Vf("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?Qv("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qv("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&xi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Bf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Bf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(du.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ax{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class lx{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,j.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){(0,j.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Dm extends lx{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,j.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Dm}getInitialEvent(e){return(0,j.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Nn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Cn(){return new Nn("")}function en(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function pu(n){return n.pieces_.length-n.pieceNum_}function dn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Nn(n.pieces_,e)}function mb(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Gf(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function RI(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Nn(e,0)}function Gn(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Nn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Nn(t,0)}function nn(n){return n.pieceNum_>=n.pieces_.length}function Ri(n,e){const t=en(n),r=en(e);if(null===t)return e;if(t===r)return Ri(dn(n),dn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function ux(n,e){const t=Gf(n,0),r=Gf(e,0);for(let i=0;i<t.length&&i<r.length;i++){const s=hu(t[i],r[i]);if(0!==s)return s}return t.length===r.length?0:t.length<r.length?-1:1}function Sm(n,e){if(pu(n)!==pu(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function vo(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(pu(n)>pu(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class cx{constructor(e,t){this.errorPrefix_=t,this.parts_=Gf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,j.ug)(this.parts_[r]);gu(this)}}function gu(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+mu(n))}function mu(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Am extends lx{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Am}getInitialEvent(e){return(0,j.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const zf=1e3;let Mm,Bd=(()=>{class n extends ax{constructor(t,r,i,s,u,h,p,y){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=dc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zf,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,j.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Am.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Dm.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,u={r:s,a:t,b:r};this.log_((0,j.Pz)(u)),(0,j.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new j.BH,i={p:t._path.toString(),q:t._queryObject},s={action:"g",request:i,onComplete:h=>{const p=h.d;"ok"===h.s?(this.onDataUpdate_(i.p,p,!1,null),r.resolve(p)):r.reject(p)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const h=this.outstandingGets_[u];void 0===h||s!==h||(delete this.outstandingGets_[u],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+u+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(u),r.promise}listen(t,r,i,s){this.initConnection_();const u=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),(0,j.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,j.hu)(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(h).set(u,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const u={p:i};t.tag&&(u.q=r._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest("q",u,p=>{const y=p.d,E=p.s;n.warnOnListenWarnings_(y,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",p),"ok"!==E&&this.removeListen_(i,s),t.onComplete&&t.onComplete(E,y))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,j.r3)(t,"w")){const i=(0,j.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();xi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,j.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,j.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const u=s.s,h=s.d||"error";this.authToken_===t&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,j.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const u={p:t};s&&(u.q=i,u.t=s),this.sendRequest("n",u)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const u={p:r,d:i};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,u){this.initConnection_();const h={p:r,d:i};void 0!==u&&(h.h=u),this.outstandingPuts_.push({action:t,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(u.s,u.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,j.Pz)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):Qv("Unrecognized action received from server: "+(0,j.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,j.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zf,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=zf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=zf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,at.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),u=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let p=!1,y=null;const E=function(){y?y.close():(p=!0,s())};t.realtime_={close:E,sendRequest:function(L){(0,j.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(L)}};const x=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[L,G]=yield Promise.all([t.authTokenProvider_.getToken(x),t.appCheckTokenProvider_.getToken(x)]);p?Pr("getToken() completed but was canceled"):(Pr("getToken() completed. Creating connection."),t.authToken_=L&&L.accessToken,t.appCheckToken_=G&&G.token,y=new ox(u,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,he=>{xi(he+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(L){t.log_("Failed to get token: "+L),p||(t.repoInfo_.nodeAdmin&&xi(L),E())}}})()}interrupt(t){Pr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Pr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,j.xb)(this.interruptReasons_)&&(this.reconnectDelay_=zf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(u=>vm(u)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Nn(t).toString();let s;if(this.listens.has(i)){const u=this.listens.get(i);s=u.get(r),u.delete(r),0===u.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){Pr("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Pr("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,j.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+Nd.replace(/\./g,"-")]=1,(0,j.uI)()?t["framework.cordova"]=1:(0,j.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Dm.getInstance().currentlyOnline();return(0,j.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class rn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new rn(e,t)}}class $f{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new rn(Aa,e),i=new rn(Aa,t);return 0!==this.compare(r,i)}minPost(){return rn.MIN}}class NI extends $f{static get __EMPTY_NODE(){return Mm}static set __EMPTY_NODE(e){Mm=e}compare(e,t){return hu(e.name,t.name)}isDefinedOn(e){throw(0,j.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return rn.MIN}maxPost(){return new rn($o,Mm)}makePost(e,t){return(0,j.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new rn(e,Mm)}toString(){return".key"}}const Wo=new NI;class Ud{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=t?r(e.key,t):1,i&&(u*=-1),u<0)e=this.isReverse_?e.left:e.right;else{if(0===u){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let vb,js=(()=>{class n{constructor(t,r,i,s,u){this.key=t,this.value=r,this.color=null!=i?i:n.RED,this.left=null!=s?s:ms.EMPTY_NODE,this.right=null!=u?u:ms.EMPTY_NODE}copy(t,r,i,s,u){return new n(null!=t?t:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=u?u:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const u=i(t,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===u?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ms.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return ms.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ms{constructor(e,t=ms.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ms(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,js.BLACK,null,null))}remove(e){return new ms(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,js.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ud(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Ud(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Ud(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Ud(this.root_,null,this.comparator_,!0,e)}}function LI(n,e){return hu(n.name,e.name)}function xm(n,e){return hu(n,e)}ms.EMPTY_NODE=new class FI{copy(e,t,r,i,s){return this}insert(e,t,r){return new js(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const mx=function(n){return"number"==typeof n?"number:"+eb(n):"string:"+n},_x=function(n){if(n.isLeafNode()){const e=n.val();(0,j.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,j.r3)(e,".sv"),"Priority must be a string or number.")}else(0,j.hu)(n===vb||n.isEmpty(),"priority of unexpected type.");(0,j.hu)(n===vb||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let bb,VI,BI,jd=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,j.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),_x(this.priorityNode_)}static set __childrenNodeConstructor(t){bb=t}static get __childrenNodeConstructor(){return bb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return nn(t)?this:".priority"===en(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=en(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,j.hu)(".priority"!==i||1===pu(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(dn(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+mx(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?eb(this.value_):this.value_,this.lazyHash_=aI(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,j.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),u=n.VALUE_TYPE_ORDER.indexOf(i);return(0,j.hu)(s>=0,"Unknown leaf type: "+r),(0,j.hu)(u>=0,"Unknown leaf type: "+i),s===u?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Zn=new class B1 extends $f{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?hu(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return rn.MIN}maxPost(){return new rn($o,new jd("[PRIORITY-POST]",BI))}makePost(e,t){const r=VI(e);return new rn(t,new jd("[PRIORITY-POST]",r))}toString(){return".priority"}},U1=Math.log(2);class yx{constructor(e){this.count=parseInt(Math.log(e+1)/U1,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const fc=function(n,e,t,r){n.sort(e);const i=function(p,y){const E=y-p;let T,x;if(0===E)return null;if(1===E)return T=n[p],x=t?t(T):T,new js(x,T.node,js.BLACK,null,null);{const L=parseInt(E/2,10)+p,G=i(p,L),he=i(L+1,y);return T=n[L],x=t?t(T):T,new js(x,T.node,js.BLACK,G,he)}},h=function(p){let y=null,E=null,T=n.length;const x=function(G,he){const Te=T-G,rt=T;T-=G;const st=i(Te+1,rt),ct=n[Te],it=t?t(ct):ct;L(new js(it,ct.node,he,null,st))},L=function(G){y?(y.left=G,y=G):(E=G,y=G)};for(let G=0;G<p.count;++G){const he=p.nextBitIsOne(),Te=Math.pow(2,p.count-(G+1));he?x(Te,js.BLACK):(x(Te,js.BLACK),x(Te,js.RED))}return E}(new yx(n.length));return new ms(r||e,h)};let wb;const Hd={};class Ma{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,j.hu)(Hd&&Zn,"ChildrenNode.ts has not been loaded"),wb=wb||new Ma({".priority":Hd},{".priority":Zn}),wb}get(e){const t=(0,j.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ms?t:null}hasIndex(e){return(0,j.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,j.hu)(e!==Wo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(rn.Wrap);let h,u=s.getNext();for(;u;)i=i||e.isDefinedOn(u.node),r.push(u),u=s.getNext();h=i?fc(r,e.getCompare()):Hd;const p=e.toString(),y=Object.assign({},this.indexSet_);y[p]=e;const E=Object.assign({},this.indexes_);return E[p]=h,new Ma(E,y)}addToIndexes(e,t){const r=(0,j.UI)(this.indexes_,(i,s)=>{const u=(0,j.DV)(this.indexSet_,s);if((0,j.hu)(u,"Missing index implementation for "+s),i===Hd){if(u.isDefinedOn(e.node)){const h=[],p=t.getIterator(rn.Wrap);let y=p.getNext();for(;y;)y.name!==e.name&&h.push(y),y=p.getNext();return h.push(e),fc(h,u.getCompare())}return Hd}{const h=t.get(e.name);let p=i;return h&&(p=p.remove(new rn(e.name,h))),p.insert(e,e.node)}});return new Ma(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,j.UI)(this.indexes_,i=>{if(i===Hd)return i;{const s=t.get(e.name);return s?i.remove(new rn(e.name,s)):i}});return new Ma(r,this.indexSet_)}}let qo,Gt=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&_x(this.priorityNode_),this.children_.isEmpty()&&(0,j.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return qo||(qo=new n(new ms(xm),null,Ma.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qo}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?qo:r}}getChild(t){const r=en(t);return null===r?this:this.getImmediateChild(r).getChild(dn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,j.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new rn(t,r);let s,u;r.isEmpty()?(s=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),u=this.indexMap_.addToIndexes(i,this.children_));const h=s.isEmpty()?qo:this.priorityNode_;return new n(s,h,u)}}updateChild(t,r){const i=en(t);if(null===i)return r;{(0,j.hu)(".priority"!==en(t)||1===pu(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(dn(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,u=!0;if(this.forEachChild(Zn,(h,p)=>{r[h]=p.val(t),i++,u&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):u=!1}),!t&&u&&s<2*i){const h=[];for(const p in r)h[p]=r[p];return h}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+mx(this.getPriority().val())+":"),this.forEachChild(Zn,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":aI(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const u=s.getPredecessorKey(new rn(t,r));return u?u.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new rn(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new rn(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,rn.Wrap);let u=s.peek();for(;null!=u&&r.compare(u,t)<0;)s.getNext(),u=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,rn.Wrap);let u=s.peek();for(;null!=u&&r.compare(u,t)>0;)s.getNext(),u=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===pc?-1:0}withIndex(t){if(t===Wo||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Wo||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Zn),s=r.getIterator(Zn);let u=i.getNext(),h=s.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=i.getNext(),h=s.getNext()}return null===u&&null===h}return!1}return!1}}resolveIndex_(t){return t===Wo?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const pc=new class Eb extends Gt{constructor(){super(new ms(xm),Gt.EMPTY_NODE,Ma.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Gt.EMPTY_NODE}isEmpty(){return!1}};function Qn(n,e=null){if(null===n)return Gt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,j.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new jd(n,Qn(e));if(n instanceof Array){let t=Gt.EMPTY_NODE;return Xr(n,(r,i)=>{if((0,j.r3)(n,r)&&"."!==r.substring(0,1)){const s=Qn(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(Qn(e))}{const t=[];let r=!1;if(Xr(n,(u,h)=>{if("."!==u.substring(0,1)){const p=Qn(h);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),t.push(new rn(u,p)))}}),0===t.length)return Gt.EMPTY_NODE;const s=fc(t,LI,u=>u.name,xm);if(r){const u=fc(t,Zn.getCompare());return new Gt(s,Qn(e),new Ma({".priority":u},{".priority":Zn}))}return new Gt(s,Qn(e),Ma.Default)}}Object.defineProperties(rn,{MIN:{value:new rn(Aa,Gt.EMPTY_NODE)},MAX:{value:new rn($o,pc)}}),NI.__EMPTY_NODE=Gt.EMPTY_NODE,jd.__childrenNodeConstructor=Gt,function gx(n){vb=n}(pc),function V1(n){BI=n}(pc),function L1(n){VI=n}(Qn);class Wf extends $f{constructor(e){super(),this.indexPath_=e,(0,j.hu)(!nn(e)&&".priority"!==en(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?hu(e.name,t.name):s}makePost(e,t){const r=Qn(e),i=Gt.EMPTY_NODE.updateChild(this.indexPath_,r);return new rn(t,i)}maxPost(){const e=Gt.EMPTY_NODE.updateChild(this.indexPath_,pc);return new rn($o,e)}toString(){return Gf(this.indexPath_,0).join("/")}}const UI=new class Rm extends $f{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?hu(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return rn.MIN}maxPost(){return rn.MAX}makePost(e,t){const r=Qn(e);return new rn(t,r)}toString(){return".value"}},qf="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",wx=function(){let n=0;const e=[];return function(t){const r=t===n;let i;n=t;const s=new Array(8);for(i=7;i>=0;i--)s[i]=qf.charAt(t%64),t=Math.floor(t/64);(0,j.hu)(0===t,"Cannot push at time == 0");let u=s.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)u+=qf.charAt(e[i]);return(0,j.hu)(20===u.length,"nextPushId: Length should be 20."),u}}(),HI=function(n){if(n===""+cI)return"-";const e=fu(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let u=0;u<t.length;u++)t[u]=n.charAt(u);if(t.length<786)return t.push("-"),t.join("");let r=t.length-1;for(;r>=0&&"z"===t[r];)r--;if(-1===r)return $o;const s=qf.charAt(qf.indexOf(t[r])+1);return t[r]=s,t.slice(0,r+1).join("")},GI=function(n){if(n===""+uI)return Aa;const e=fu(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let r=0;r<t.length;r++)t[r]=n.charAt(r);return"-"===t[t.length-1]?1===t.length?""+cI:(delete t[t.length-1],t.join("")):(t[t.length-1]=qf.charAt(qf.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function zI(n){return{type:"value",snapshotNode:n}}function gc(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Gd(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function zd(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class Ib{constructor(e){this.index_=e}updateChild(e,t,r,i,s,u){(0,j.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(i).equals(r.getChild(i))&&h.isEmpty()===r.isEmpty()||(null!=u&&(r.isEmpty()?e.hasChild(t)?u.trackChildChange(Gd(t,h)):(0,j.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(gc(t,r)):u.trackChildChange(zd(t,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(Zn,(i,s)=>{t.hasChild(i)||r.trackChildChange(Gd(i,s))}),t.isLeafNode()||t.forEachChild(Zn,(i,s)=>{if(e.hasChild(i)){const u=e.getImmediateChild(i);u.equals(s)||r.trackChildChange(zd(i,s,u))}else r.trackChildChange(gc(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Gt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class $d{constructor(e){this.indexedFilter_=new Ib(e.getIndex()),this.index_=e.getIndex(),this.startPost_=$d.getStartPost_(e),this.endPost_=$d.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,r,i,s,u){return this.matches(new rn(t,r))||(r=Gt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,u)}updateFullNode(e,t,r){t.isLeafNode()&&(t=Gt.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(Gt.EMPTY_NODE);const s=this;return t.forEachChild(Zn,(u,h)=>{s.matches(new rn(u,h))||(i=i.updateImmediateChild(u,Gt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Tb{constructor(e){this.rangedFilter_=new $d(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,r,i,s,u){return this.rangedFilter_.matches(new rn(t,r))||(r=Gt.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,u):this.fullLimitUpdateChild_(e,t,r,s,u)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=Gt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;i=Gt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;s.hasNext()&&u<this.limit_;){const h=s.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),h)<=0:this.index_.compare(h,this.rangedFilter_.getEndPost())<=0,!p)break;i=i.updateImmediateChild(h.name,h.node),u++}}else{let s,u,h,p;if(i=t.withIndex(this.index_),i=i.updatePriority(Gt.EMPTY_NODE),this.reverse_){p=i.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();const T=this.index_.getCompare();h=(x,L)=>T(L,x)}else p=i.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();let y=0,E=!1;for(;p.hasNext();){const T=p.getNext();!E&&h(s,T)<=0&&(E=!0),E&&y<this.limit_&&h(T,u)<=0?y++:i=i.updateImmediateChild(T.name,Gt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let u;if(this.reverse_){const T=this.index_.getCompare();u=(x,L)=>T(L,x)}else u=this.index_.getCompare();const h=e;(0,j.hu)(h.numChildren()===this.limit_,"");const p=new rn(t,r),y=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),E=this.rangedFilter_.matches(p);if(h.hasChild(t)){const T=h.getImmediateChild(t);let x=i.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=x&&(x.name===t||h.hasChild(x.name));)x=i.getChildAfterChild(this.index_,x,this.reverse_);const L=null==x?1:u(x,p);if(E&&!r.isEmpty()&&L>=0)return null!=s&&s.trackChildChange(zd(t,r,T)),h.updateImmediateChild(t,r);{null!=s&&s.trackChildChange(Gd(t,T));const he=h.updateImmediateChild(t,Gt.EMPTY_NODE);return null!=x&&this.rangedFilter_.matches(x)?(null!=s&&s.trackChildChange(gc(x.name,x.node)),he.updateImmediateChild(x.name,x.node)):he}}return r.isEmpty()?e:E&&u(y,p)>=0?(null!=s&&(s.trackChildChange(Gd(y.name,y.node)),s.trackChildChange(gc(t,r))),h.updateImmediateChild(t,r).updateImmediateChild(y.name,Gt.EMPTY_NODE)):e}}class Db{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Zn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,j.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,j.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Aa}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,j.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,j.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$o}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,j.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Zn}copy(){const e=new Db;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Ab(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function WI(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function km(n,e){const t=n.copy();return t.index_=e,t}function Tx(n){const e={};if(n.isDefault())return e;let t;return n.index_===Zn?t="$priority":n.index_===UI?t="$value":n.index_===Wo?t="$key":((0,j.hu)(n.index_ instanceof Wf,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,j.Pz)(t),n.startSet_&&(e.startAt=(0,j.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,j.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,j.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,j.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Dx(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Zn&&(e.i=n.index_.toString()),e}class Mb extends ax{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=dc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,j.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const u=Mb.getListenId_(e,r),h={};this.listens_[u]=h;const p=Tx(e._queryParams);this.restRequest_(s+".json",p,(y,E)=>{let T=E;if(404===y&&(T=null,y=null),null===y&&this.onDataUpdate_(s,T,!1,r),(0,j.DV)(this.listens_,u)===h){let x;x=y?401===y?"permission_denied":"rest_error:"+y:"ok",i(x,null)}})}unlisten(e,t){const r=Mb.getListenId_(e,t);delete this.listens_[r]}get(e){const t=Tx(e._queryParams),r=e._path.toString(),i=new j.BH;return this.restRequest_(r+".json",t,(s,u)=>{let h=u;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(r,h,!1,null),i.resolve(h)):i.reject(new Error(h))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,j.xO)(t);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&4===h.readyState){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,j.cI)(h.responseText)}catch(y){xi("Failed to parse JSON response for "+u+": "+h.responseText)}r(null,p)}else 401!==h.status&&404!==h.status&&xi("Got unsuccessful REST response for "+u+" Status: "+h.status),r(h.status);r=null}},h.open("GET",u,!0),h.send()})}}class H1{constructor(){this.rootNode_=Gt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function xb(){return{value:null,children:new Map}}function Wd(n,e,t){if(nn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=en(e);n.children.has(r)||n.children.set(r,xb()),Wd(n.children.get(r),e=dn(e),t)}}function qI(n,e){if(nn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Zn,(r,i)=>{Wd(n,new Nn(r),i)}),qI(n,e)}}if(n.children.size>0){const t=en(e);return e=dn(e),n.children.has(t)&&qI(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function KI(n,e,t){null!==n.value?t(e,n.value):function G1(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{KI(i,new Nn(e.toString()+"/"+r),t)})}class z1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Xr(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class d{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new z1(e);const r=1e4+2e4*Math.random();Bf(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Xr(e,(i,s)=>{s>0&&(0,j.r3)(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Bf(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var f=(()=>{return(n=f||(f={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",f;var n})();function w(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class I{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=f.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(nn(this.path)){if(null!=this.affectedTree.value)return(0,j.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Nn(e));return new I(Cn(),t,this.revert)}}return(0,j.hu)(en(this.path)===e,"operationForChild called for unrelated child."),new I(dn(this.path),this.affectedTree,this.revert)}}class M{constructor(e,t){this.source=e,this.path=t,this.type=f.LISTEN_COMPLETE}operationForChild(e){return nn(this.path)?new M(this.source,Cn()):new M(this.source,dn(this.path))}}class P{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=f.OVERWRITE}operationForChild(e){return nn(this.path)?new P(this.source,Cn(),this.snap.getImmediateChild(e)):new P(this.source,dn(this.path),this.snap)}}class z{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=f.MERGE}operationForChild(e){if(nn(this.path)){const t=this.children.subtree(new Nn(e));return t.isEmpty()?null:t.value?new P(this.source,Cn(),t.value):new z(this.source,Cn(),t)}return(0,j.hu)(en(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new z(this.source,dn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ie{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(nn(e))return this.isFullyInitialized()&&!this.filtered_;const t=en(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class ge{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function qe(n,e,t,r,i,s){const u=r.filter(h=>h.type===t);u.sort((h,p)=>function pt(n,e,t){if(null==e.childName||null==t.childName)throw(0,j.g5)("Should only compare child_ events.");const r=new rn(e.childName,e.snapshotNode),i=new rn(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,h,p)),u.forEach(h=>{const p=function Xe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,s);i.forEach(y=>{y.respondsTo(h.type)&&e.push(y.createEvent(p,n.query_))})})}function Ve(n,e){return{eventCache:n,serverCache:e}}function Et(n,e,t,r){return Ve(new ie(e,t,r),n.serverCache)}function ln(n,e,t,r){return Ve(n.eventCache,new ie(e,t,r))}function yn(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Gr(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Dl;class Vn{constructor(e,t=(()=>(Dl||(Dl=new ms(lI)),Dl))()){this.value=e,this.children=t}static fromObject(e){let t=new Vn(null);return Xr(e,(r,i)=>{t=t.set(new Nn(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Cn(),value:this.value};if(nn(e))return null;{const r=en(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(dn(e),t);return null!=s?{path:Gn(new Nn(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(nn(e))return this;{const t=en(e),r=this.children.get(t);return null!==r?r.subtree(dn(e)):new Vn(null)}}set(e,t){if(nn(e))return new Vn(t,this.children);{const r=en(e),s=(this.children.get(r)||new Vn(null)).set(dn(e),t),u=this.children.insert(r,s);return new Vn(this.value,u)}}remove(e){if(nn(e))return this.children.isEmpty()?new Vn(null):new Vn(null,this.children);{const t=en(e),r=this.children.get(t);if(r){const i=r.remove(dn(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new Vn(null):new Vn(this.value,s)}return this}}get(e){if(nn(e))return this.value;{const t=en(e),r=this.children.get(t);return r?r.get(dn(e)):null}}setTree(e,t){if(nn(e))return t;{const r=en(e),s=(this.children.get(r)||new Vn(null)).setTree(dn(e),t);let u;return u=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Vn(this.value,u)}}fold(e){return this.fold_(Cn(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Gn(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Cn(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(nn(e))return null;{const s=en(e),u=this.children.get(s);return u?u.findOnPath_(dn(e),Gn(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Cn(),t)}foreachOnPath_(e,t,r){if(nn(e))return this;{this.value&&r(t,this.value);const i=en(e),s=this.children.get(i);return s?s.foreachOnPath_(dn(e),Gn(t,i),r):new Vn(null)}}foreach(e){this.foreach_(Cn(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Gn(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Hs{constructor(e){this.writeTree_=e}static empty(){return new Hs(new Vn(null))}}function mc(n,e,t){if(nn(e))return new Hs(new Vn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const u=Ri(i,e);return s=s.updateChild(u,t),new Hs(n.writeTree_.set(i,s))}{const i=new Vn(t),s=n.writeTree_.setTree(e,i);return new Hs(s)}}}function Kf(n,e,t){let r=n;return Xr(t,(i,s)=>{r=mc(r,Gn(e,i),s)}),r}function Om(n,e){if(nn(e))return Hs.empty();{const t=n.writeTree_.setTree(e,new Vn(null));return new Hs(t)}}function Yf(n,e){return null!=Sl(n,e)}function Sl(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Ri(t.path,e)):null}function Pm(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Zn,(r,i)=>{e.push(new rn(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new rn(r,i.value))}),e}function qd(n,e){if(nn(e))return n;{const t=Sl(n,e);return new Hs(null!=t?new Vn(t):n.writeTree_.subtree(e))}}function Sx(n){return n.writeTree_.isEmpty()}function Nm(n,e){return $1(Cn(),n.writeTree_,e)}function $1(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?((0,j.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=$1(Gn(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Gn(n,".priority"),r)),t}}function YI(n,e){return Z1(e,n)}function dz(n,e){if(n.snap)return vo(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&vo(Gn(n.path,t),e))return!0;return!1}function fz(n){return n.visible}function W1(n,e,t){let r=Hs.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const u=s.path;let h;if(s.snap)vo(t,u)?(h=Ri(t,u),r=mc(r,h,s.snap)):vo(u,t)&&(h=Ri(u,t),r=mc(r,Cn(),s.snap.getChild(h)));else{if(!s.children)throw(0,j.g5)("WriteRecord should have .snap or .children");if(vo(t,u))h=Ri(t,u),r=Kf(r,h,s.children);else if(vo(u,t))if(h=Ri(u,t),nn(h))r=Kf(r,Cn(),s.children);else{const p=(0,j.DV)(s.children,en(h));if(p){const y=p.getChild(dn(h));r=mc(r,Cn(),y)}}}}}return r}function q1(n,e,t,r,i){if(r||i){const s=qd(n.visibleWrites,e);return!i&&Sx(s)?t:i||null!=t||Yf(s,Cn())?Nm(W1(n.allWrites,function(y){return(y.visible||i)&&(!r||!~r.indexOf(y.writeId))&&(vo(y.path,e)||vo(e,y.path))},e),t||Gt.EMPTY_NODE):null}{const s=Sl(n.visibleWrites,e);if(null!=s)return s;{const u=qd(n.visibleWrites,e);return Sx(u)?t:null!=t||Yf(u,Cn())?Nm(u,t||Gt.EMPTY_NODE):null}}}function ZI(n,e,t,r){return q1(n.writeTree,n.treePath,e,t,r)}function Ax(n,e){return function pz(n,e,t){let r=Gt.EMPTY_NODE;const i=Sl(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Zn,(s,u)=>{r=r.updateImmediateChild(s,u)}),r;if(t){const s=qd(n.visibleWrites,e);return t.forEachChild(Zn,(u,h)=>{const p=Nm(qd(s,new Nn(u)),h);r=r.updateImmediateChild(u,p)}),Pm(s).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}return Pm(qd(n.visibleWrites,e)).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}(n.writeTree,n.treePath,e)}function K1(n,e,t,r){return function gz(n,e,t,r,i){(0,j.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Gn(e,t);if(Yf(n.visibleWrites,s))return null;{const u=qd(n.visibleWrites,s);return Sx(u)?i.getChild(t):Nm(u,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function QI(n,e){return function _z(n,e){return Sl(n.visibleWrites,e)}(n.writeTree,Gn(n.treePath,e))}function Mx(n,e,t){return function mz(n,e,t,r){const i=Gn(e,t),s=Sl(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?Nm(qd(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function Y1(n,e){return Z1(Gn(n.treePath,e),n.writeTree)}function Z1(n,e){return{treePath:n,writeTree:e}}class wz{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,j.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,j.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,zd(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,Gd(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,gc(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,j.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,zd(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const Q1=new class Ez{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class xx{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new ie(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mx(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Gr(this.viewCache_),s=function bz(n,e,t,r,i,s){return function yz(n,e,t,r,i,s,u){let h;const p=qd(n.visibleWrites,e),y=Sl(p,Cn());if(null!=y)h=y;else{if(null==t)return[];h=Nm(p,t)}if(h=h.withIndex(u),h.isEmpty()||h.isLeafNode())return[];{const E=[],T=u.getCompare(),x=s?h.getReverseIteratorFrom(r,u):h.getIteratorFrom(r,u);let L=x.getNext();for(;L&&E.length<i;)0!==T(L,r)&&E.push(L),L=x.getNext();return E}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function X1(n,e,t,r,i,s){const u=e.eventCache;if(null!=QI(r,t))return e;{let h,p;if(nn(t))if((0,j.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const y=Gr(e),T=Ax(r,y instanceof Gt?y:Gt.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),T,s)}else{const y=ZI(r,Gr(e));h=n.filter.updateFullNode(e.eventCache.getNode(),y,s)}else{const y=en(t);if(".priority"===y){(0,j.hu)(1===pu(t),"Can't have a priority with additional path components");const E=u.getNode();p=e.serverCache.getNode();const T=K1(r,t,E,p);h=null!=T?n.filter.updatePriority(E,T):u.getNode()}else{const E=dn(t);let T;if(u.isCompleteForChild(y)){p=e.serverCache.getNode();const x=K1(r,t,u.getNode(),p);T=null!=x?u.getNode().getImmediateChild(y).updateChild(E,x):u.getNode().getImmediateChild(y)}else T=Mx(r,y,e.serverCache);h=null!=T?n.filter.updateChild(u.getNode(),y,T,E,i,s):u.getNode()}}return Et(e,h,u.isFullyInitialized()||nn(t),n.filter.filtersNodes())}}function XI(n,e,t,r,i,s,u,h){const p=e.serverCache;let y;const E=u?n.filter:n.filter.getIndexedFilter();if(nn(t))y=E.updateFullNode(p.getNode(),r,null);else if(E.filtersNodes()&&!p.isFiltered()){const L=p.getNode().updateChild(t,r);y=E.updateFullNode(p.getNode(),L,null)}else{const L=en(t);if(!p.isCompleteForPath(t)&&pu(t)>1)return e;const G=dn(t),Te=p.getNode().getImmediateChild(L).updateChild(G,r);y=".priority"===L?E.updatePriority(p.getNode(),Te):E.updateChild(p.getNode(),L,Te,G,Q1,null)}const T=ln(e,y,p.isFullyInitialized()||nn(t),E.filtersNodes());return X1(n,T,t,i,new xx(i,T,s),h)}function Rx(n,e,t,r,i,s,u){const h=e.eventCache;let p,y;const E=new xx(i,e,s);if(nn(t))y=n.filter.updateFullNode(e.eventCache.getNode(),r,u),p=Et(e,y,!0,n.filter.filtersNodes());else{const T=en(t);if(".priority"===T)y=n.filter.updatePriority(e.eventCache.getNode(),r),p=Et(e,y,h.isFullyInitialized(),h.isFiltered());else{const x=dn(t),L=h.getNode().getImmediateChild(T);let G;if(nn(x))G=r;else{const he=E.getCompleteChild(T);G=null!=he?".priority"===mb(x)&&he.getChild(RI(x)).isEmpty()?he:he.updateChild(x,r):Gt.EMPTY_NODE}p=L.equals(G)?e:Et(e,n.filter.updateChild(h.getNode(),T,G,x,E,u),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function J1(n,e){return n.eventCache.isCompleteForChild(e)}function eF(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function kx(n,e,t,r,i,s,u,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let y,p=e;y=nn(t)?r:new Vn(null).setTree(t,r);const E=e.serverCache.getNode();return y.children.inorderTraversal((T,x)=>{if(E.hasChild(T)){const G=eF(0,e.serverCache.getNode().getImmediateChild(T),x);p=XI(n,p,new Nn(T),G,i,s,u,h)}}),y.children.inorderTraversal((T,x)=>{const L=!e.serverCache.isCompleteForChild(T)&&void 0===x.value;if(!E.hasChild(T)&&!L){const he=eF(0,e.serverCache.getNode().getImmediateChild(T),x);p=XI(n,p,new Nn(T),he,i,s,u,h)}}),p}class Rz{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Ib(r.getIndex()),s=function $I(n){return n.loadsAllData()?new Ib(n.getIndex()):n.hasLimit()?new Tb(n):new $d(n)}(r);this.processor_=function Cz(n){return{filter:n}}(s);const u=t.serverCache,h=t.eventCache,p=i.updateFullNode(Gt.EMPTY_NODE,u.getNode(),null),y=s.updateFullNode(Gt.EMPTY_NODE,h.getNode(),null),E=new ie(p,u.isFullyInitialized(),i.filtersNodes()),T=new ie(y,h.isFullyInitialized(),s.filtersNodes());this.viewCache_=Ve(T,E),this.eventGenerator_=new ge(this.query_)}get query(){return this.query_}}function Pz(n,e){const t=Gr(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!nn(e)&&!t.getImmediateChild(en(e)).isEmpty())?t.getChild(e):null}function tF(n){return 0===n.eventRegistrations_.length}function nF(n,e,t){const r=[];if(t){(0,j.hu)(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const u=s.createCancelEvent(t,i);u&&r.push(u)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const u=n.eventRegistrations_[s];if(u.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}else i.push(u)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function rF(n,e,t,r){e.type===f.MERGE&&null!==e.source.queryId&&((0,j.hu)(Gr(n.viewCache_),"We should always have a full cache before handling merges"),(0,j.hu)(yn(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function Tz(n,e,t,r,i){const s=new wz;let u,h;if(t.type===f.OVERWRITE){const y=t;y.source.fromUser?u=Rx(n,e,y.path,y.snap,r,i,s):((0,j.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||e.serverCache.isFiltered()&&!nn(y.path),u=XI(n,e,y.path,y.snap,r,i,h,s))}else if(t.type===f.MERGE){const y=t;y.source.fromUser?u=function Sz(n,e,t,r,i,s,u){let h=e;return r.foreach((p,y)=>{const E=Gn(t,p);J1(e,en(E))&&(h=Rx(n,h,E,y,i,s,u))}),r.foreach((p,y)=>{const E=Gn(t,p);J1(e,en(E))||(h=Rx(n,h,E,y,i,s,u))}),h}(n,e,y.path,y.children,r,i,s):((0,j.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||e.serverCache.isFiltered(),u=kx(n,e,y.path,y.children,r,i,h,s))}else if(t.type===f.ACK_USER_WRITE){const y=t;u=y.revert?function xz(n,e,t,r,i,s){let u;if(null!=QI(r,t))return e;{const h=new xx(r,e,i),p=e.eventCache.getNode();let y;if(nn(t)||".priority"===en(t)){let E;if(e.serverCache.isFullyInitialized())E=ZI(r,Gr(e));else{const T=e.serverCache.getNode();(0,j.hu)(T instanceof Gt,"serverChildren would be complete if leaf node"),E=Ax(r,T)}E=E,y=n.filter.updateFullNode(p,E,s)}else{const E=en(t);let T=Mx(r,E,e.serverCache);null==T&&e.serverCache.isCompleteForChild(E)&&(T=p.getImmediateChild(E)),y=null!=T?n.filter.updateChild(p,E,T,dn(t),h,s):e.eventCache.getNode().hasChild(E)?n.filter.updateChild(p,E,Gt.EMPTY_NODE,dn(t),h,s):p,y.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=ZI(r,Gr(e)),u.isLeafNode()&&(y=n.filter.updateFullNode(y,u,s)))}return u=e.serverCache.isFullyInitialized()||null!=QI(r,Cn()),Et(e,y,u,n.filter.filtersNodes())}}(n,e,y.path,r,i,s):function Az(n,e,t,r,i,s,u){if(null!=QI(i,t))return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(null!=r.value){if(nn(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return XI(n,e,t,p.getNode().getChild(t),i,s,h,u);if(nn(t)){let y=new Vn(null);return p.getNode().forEachChild(Wo,(E,T)=>{y=y.set(new Nn(E),T)}),kx(n,e,t,y,i,s,h,u)}return e}{let y=new Vn(null);return r.foreach((E,T)=>{const x=Gn(t,E);p.isCompleteForPath(x)&&(y=y.set(E,p.getNode().getChild(x)))}),kx(n,e,t,y,i,s,h,u)}}(n,e,y.path,y.affectedTree,r,i,s)}else{if(t.type!==f.LISTEN_COMPLETE)throw(0,j.g5)("Unknown operation type: "+t.type);u=function Mz(n,e,t,r,i){const s=e.serverCache;return X1(n,ln(e,s.getNode(),s.isFullyInitialized()||nn(t),s.isFiltered()),t,r,Q1,i)}(n,e,t.path,r,s)}const p=s.getChanges();return function Dz(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=yn(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(zI(yn(e)))}}(e,u,p),{viewCache:u,changes:p}}(n.processor_,i,e,t,r);return function Iz(n,e){(0,j.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,j.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,j.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,iF(n,s.changes,s.viewCache.eventCache.getNode(),null)}function iF(n,e,t,r){return function Re(n,e,t,r){const i=[],s=[];return e.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&s.push(function Ex(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(u.childName,u.snapshotNode))}),qe(n,i,"child_removed",e,r,t),qe(n,i,"child_added",e,r,t),qe(n,i,"child_moved",s,r,t),qe(n,i,"child_changed",e,r,t),qe(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let JI,tT;class sF{constructor(){this.views=new Map}}function Ox(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return(0,j.hu)(null!=s,"SyncTree gave us an op for an invalid query."),rF(s,e,t,r)}{let s=[];for(const u of n.views.values())s=s.concat(rF(u,e,t,r));return s}}function oF(n,e,t,r,i){const u=n.views.get(e._queryIdentifier);if(!u){let h=ZI(t,i?r:null),p=!1;h?p=!0:r instanceof Gt?(h=Ax(t,r),p=!1):(h=Gt.EMPTY_NODE,p=!1);const y=Ve(new ie(h,p,!1),new ie(r,i,!1));return new Rz(e,y)}return u}function aF(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Kd(n,e){let t=null;for(const r of n.views.values())t=t||Pz(r,e);return t}function lF(n,e){return e._queryParams.loadsAllData()?eT(n):n.views.get(e._queryIdentifier)}function uF(n,e){return null!=lF(n,e)}function Yd(n){return null!=eT(n)}function eT(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let zz=1;class cF{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Vn(null),this.pendingWriteTree_=function vz(){return{visibleWrites:Hs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Px(n,e,t,r,i){return function az(n,e,t,r,i){(0,j.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=mc(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Fm(n,new P({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Zd(n,e,t=!1){const r=function uz(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function cz(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,j.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,u=n.allWrites.length-1;for(;i&&u>=0;){const h=n.allWrites[u];h.visible&&(u>=t&&dz(h,r.path)?i=!1:vo(r.path,h.path)&&(s=!0)),u--}return!!i&&(s?(function hz(n){n.visibleWrites=W1(n.allWrites,fz,Cn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=Om(n.visibleWrites,r.path):Xr(r.children,p=>{n.visibleWrites=Om(n.visibleWrites,Gn(r.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new Vn(null);return null!=r.snap?s=s.set(Cn(),!0):Xr(r.children,u=>{s=s.set(new Nn(u),!0)}),Fm(n,new I(r.path,s,t))}return[]}function kb(n,e,t){return Fm(n,new P({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Nx(n,e,t,r){const i=e._path,s=n.syncPointTree_.get(i);let u=[];if(s&&("default"===e._queryIdentifier||uF(s,e))){const h=function jz(n,e,t,r){const i=e._queryIdentifier,s=[];let u=[];const h=Yd(n);if("default"===i)for(const[p,y]of n.views.entries())u=u.concat(nF(y,t,r)),tF(y)&&(n.views.delete(p),y.query._queryParams.loadsAllData()||s.push(y.query));else{const p=n.views.get(i);p&&(u=u.concat(nF(p,t,r)),tF(p)&&(n.views.delete(i),p.query._queryParams.loadsAllData()||s.push(p.query)))}return h&&!Yd(n)&&s.push(new(function Vz(){return(0,j.hu)(JI,"Reference.ts has not been loaded"),JI}())(e._repo,e._path)),{removed:s,events:u}}(s,e,t,r);(function Bz(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(i));const p=h.removed;u=h.events;const y=-1!==p.findIndex(T=>T._queryParams.loadsAllData()),E=n.syncPointTree_.findOnPath(i,(T,x)=>Yd(x));if(y&&!E){const T=n.syncPointTree_.subtree(i);if(!T.isEmpty()){const x=function Xz(n){return n.fold((e,t,r)=>{if(t&&Yd(t))return[eT(t)];{let i=[];return t&&(i=aF(t)),Xr(r,(s,u)=>{i=i.concat(u)}),i}})}(T);for(let L=0;L<x.length;++L){const G=x[L],he=G.query,Te=pF(n,G);n.listenProvider_.startListening(Ob(he),rT(n,he),Te.hashFn,Te.onComplete)}}}!E&&p.length>0&&!r&&(y?n.listenProvider_.stopListening(Ob(e),null):p.forEach(T=>{const x=n.queryToTagMap.get(iT(T));n.listenProvider_.stopListening(Ob(T),x)})),function Jz(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=iT(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}(n,p)}return u}function dF(n,e,t){const r=e._path;let i=null,s=!1;n.syncPointTree_.foreachOnPath(r,(T,x)=>{const L=Ri(T,r);i=i||Kd(x,L),s=s||Yd(x)});let h,u=n.syncPointTree_.get(r);u?(s=s||Yd(u),i=i||Kd(u,Cn())):(u=new sF,n.syncPointTree_=n.syncPointTree_.set(r,u)),null!=i?h=!0:(h=!1,i=Gt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((x,L)=>{const G=Kd(L,Cn());G&&(i=i.updateImmediateChild(x,G))}));const p=uF(u,e);if(!p&&!e._queryParams.loadsAllData()){const T=iT(e);(0,j.hu)(!n.queryToTagMap.has(T),"View does not exist, but we have a tag");const x=function e$(){return zz++}();n.queryToTagMap.set(T,x),n.tagToQueryMap.set(x,T)}let E=function Uz(n,e,t,r,i,s){const u=oF(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,u),function Nz(n,e){n.eventRegistrations_.push(e)}(u,t),function Fz(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Zn,(s,u)=>{r.push(gc(s,u))}),t.isFullyInitialized()&&r.push(zI(t.getNode())),iF(n,r,t.getNode(),e)}(u,t)}(u,e,t,YI(n.pendingWriteTree_,r),i,h);if(!p&&!s){const T=lF(u,e);E=E.concat(function t$(n,e,t){const r=e._path,i=rT(n,e),s=pF(n,t),u=n.listenProvider_.startListening(Ob(e),i,s.hashFn,s.onComplete),h=n.syncPointTree_.subtree(r);if(i)(0,j.hu)(!Yd(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((y,E,T)=>{if(!nn(y)&&E&&Yd(E))return[eT(E).query];{let x=[];return E&&(x=x.concat(aF(E).map(L=>L.query))),Xr(T,(L,G)=>{x=x.concat(G)}),x}});for(let y=0;y<p.length;++y){const E=p[y];n.listenProvider_.stopListening(Ob(E),rT(n,E))}}return u}(n,e,T))}return E}function nT(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(u,h)=>{const y=Kd(h,Ri(u,e));if(y)return y});return q1(i,e,s,t,!0)}function Fm(n,e){return hF(e,n.syncPointTree_,null,YI(n.pendingWriteTree_,Cn()))}function hF(n,e,t,r){if(nn(n.path))return fF(n,e,t,r);{const i=e.get(Cn());null==t&&null!=i&&(t=Kd(i,Cn()));let s=[];const u=en(n.path),h=n.operationForChild(u),p=e.children.get(u);if(p&&h){const y=t?t.getImmediateChild(u):null,E=Y1(r,u);s=s.concat(hF(h,p,y,E))}return i&&(s=s.concat(Ox(i,n,r,t))),s}}function fF(n,e,t,r){const i=e.get(Cn());null==t&&null!=i&&(t=Kd(i,Cn()));let s=[];return e.children.inorderTraversal((u,h)=>{const p=t?t.getImmediateChild(u):null,y=Y1(r,u),E=n.operationForChild(u);E&&(s=s.concat(fF(E,h,p,y)))}),i&&(s=s.concat(Ox(i,n,r,t))),s}function pF(n,e){const t=e.query,r=rT(n,t);return{hashFn:()=>(function kz(n){return n.viewCache_.serverCache.getNode()}(e)||Gt.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function Kz(n,e,t){const r=Fx(n,t);if(r){const i=Lx(r),s=i.path,u=i.queryId,h=Ri(s,e);return Vx(n,s,new M(w(u),h))}return[]}(n,t._path,r):function qz(n,e){return Fm(n,new M({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function Fd(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return Nx(n,t,null,s)}}}}function rT(n,e){const t=iT(e);return n.queryToTagMap.get(t)}function iT(n){return n._path.toString()+"$"+n._queryIdentifier}function Fx(n,e){return n.tagToQueryMap.get(e)}function Lx(n){const e=n.indexOf("$");return(0,j.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Nn(n.substr(0,e))}}function Vx(n,e,t){const r=n.syncPointTree_.get(e);return(0,j.hu)(r,"Missing sync point for query tag that we're tracking"),Ox(r,t,YI(n.pendingWriteTree_,e),null)}function Ob(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Gz(){return(0,j.hu)(tT,"Reference.ts has not been loaded"),tT}())(n._repo,n._path):n}class Bx{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Bx(t)}node(){return this.node_}}class Ux{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Gn(this.path_,e);return new Ux(this.syncTree_,t)}node(){return nT(this.syncTree_,this.path_)}}const gF=function(n,e,t){return n&&"object"==typeof n?((0,j.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?r$(n[".sv"],e,t):"object"==typeof n[".sv"]?i$(n[".sv"],e):void(0,j.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},r$=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,j.hu)(!1,"Unexpected server value: "+n)},i$=function(n,e,t){n.hasOwnProperty("increment")||(0,j.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,j.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,j.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const u=i.getValue();return"number"!=typeof u?r:u+r},mF=function(n,e,t,r){return Hx(e,new Ux(t,n),r)},jx=function(n,e,t){return Hx(n,new Bx(e),t)};function Hx(n,e,t){const r=n.getPriority().val(),i=gF(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const u=n,h=gF(u.getValue(),e,t);return h!==u.getValue()||i!==u.getPriority().val()?new jd(h,Qn(i)):n}{const u=n;return s=u,i!==u.getPriority().val()&&(s=s.updatePriority(new jd(i))),u.forEachChild(Zn,(h,p)=>{const y=Hx(p,e.getImmediateChild(h),t);y!==p&&(s=s.updateImmediateChild(h,y))}),s}}class Gx{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function sT(n,e){let t=e instanceof Nn?e:new Nn(e),r=n,i=en(t);for(;null!==i;){const s=(0,j.DV)(r.node.children,i)||{children:{},childCount:0};r=new Gx(i,r,s),t=dn(t),i=en(t)}return r}function Zf(n){return n.node.value}function zx(n,e){n.node.value=e,$x(n)}function _F(n){return n.node.childCount>0}function oT(n,e){Xr(n.node.children,(t,r)=>{e(new Gx(t,n,r))})}function yF(n,e,t,r){t&&!r&&e(n),oT(n,i=>{yF(i,e,!0,r)}),t&&r&&e(n)}function Pb(n){return new Nn(null===n.parent?n.name:Pb(n.parent)+"/"+n.name)}function $x(n){null!==n.parent&&function a$(n,e,t){const r=function s$(n){return void 0===Zf(n)&&!_F(n)}(t),i=(0,j.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,$x(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,$x(n))}(n.parent,n.name,n)}const l$=/[\[\].#$\/\u0000-\u001F\u007F]/,u$=/[\[\].#$\u0000-\u001F\u007F]/,Wx=10485760,aT=function(n){return"string"==typeof n&&0!==n.length&&!l$.test(n)},vF=function(n){return"string"==typeof n&&0!==n.length&&!u$.test(n)},Nb=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Lf(n)||n&&"object"==typeof n&&(0,j.r3)(n,".sv")},_u=function(n,e,t,r){r&&void 0===e||Fb((0,j.gK)(n,"value"),e,t)},Fb=function(n,e,t){const r=t instanceof Nn?new cx(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+mu(r));if("function"==typeof e)throw new Error(n+"contains a function "+mu(r)+" with contents = "+e.toString());if(Lf(e))throw new Error(n+"contains "+e.toString()+" "+mu(r));if("string"==typeof e&&e.length>Wx/3&&(0,j.ug)(e)>Wx)throw new Error(n+"contains a string greater than "+Wx+" utf8 bytes "+mu(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Xr(e,(u,h)=>{if(".value"===u)i=!0;else if(".priority"!==u&&".sv"!==u&&(s=!0,!aT(u)))throw new Error(n+" contains an invalid key ("+u+") "+mu(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function dx(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,j.ug)(e),gu(n)})(r,u),Fb(n,h,r),function yb(n){const e=n.parts_.pop();n.byteLength_-=(0,j.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+mu(r)+" in addition to actual children.")}},bF=function(n,e,t,r){if(r&&void 0===e)return;const i=(0,j.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Xr(e,(u,h)=>{const p=new Nn(u);if(Fb(i,h,Gn(t,p)),".priority"===mb(p)&&!Nb(h))throw new Error(i+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const s=Gf(r);for(let u=0;u<s.length;u++)if((".priority"!==s[u]||u!==s.length-1)&&!aT(s[u]))throw new Error(n+"contains an invalid key ("+s[u]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(ux);let i=null;for(t=0;t<e.length;t++){if(r=e[t],null!==i&&vo(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},qx=function(n,e,t){if(!t||void 0!==e){if(Lf(e))throw new Error((0,j.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Nb(e))throw new Error((0,j.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Lb=function(n,e,t,r){if(!(r&&void 0===t||aT(t)))throw new Error((0,j.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Vb=function(n,e,t,r){if(!(r&&void 0===t||vF(t)))throw new Error((0,j.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},xa=function(n,e){if(".info"===en(e))throw new Error(n+" failed = Can't modify data under /.info/")},wF=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!aT(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),vF(n)}(t))throw new Error((0,j.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class f${constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lT(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!Sm(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function Kx(n,e,t){lT(n,t),EF(n,r=>Sm(r,e))}function Ra(n,e,t){lT(n,t),EF(n,r=>vo(r,e)||vo(e,r))}function EF(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(p$(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function p$(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Il&&Pr("event: "+t.toString()),Ld(r)}}}const CF="repo_interrupt";class m${constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new f$,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xb(),this.transactionQueueTree_=new Gx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function IF(n){const t=n.infoData_.getNode(new Nn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Bb(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:IF(n)})}function TF(n,e,t,r,i){n.dataUpdateCount++;const s=new Nn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let u=[];if(i)if(r){const p=(0,j.UI)(t,y=>Qn(y));u=function Zz(n,e,t,r){const i=Fx(n,r);if(i){const s=Lx(i),u=s.path,h=s.queryId,p=Ri(u,e),y=Vn.fromObject(t);return Vx(n,u,new z(w(h),p,y))}return[]}(n.serverSyncTree_,s,p,i)}else{const p=Qn(t);u=function Yz(n,e,t,r){const i=Fx(n,r);if(null!=i){const s=Lx(i),u=s.path,h=s.queryId,p=Ri(u,e);return Vx(n,u,new P(w(h),p,t))}return[]}(n.serverSyncTree_,s,p,i)}else if(r){const p=(0,j.UI)(t,y=>Qn(y));u=function Wz(n,e,t){const r=Vn.fromObject(t);return Fm(n,new z({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,p)}else{const p=Qn(t);u=kb(n.serverSyncTree_,s,p)}let h=s;u.length>0&&(h=Vm(n,s)),Ra(n.eventQueue_,h,u)}function DF(n,e){Yx(n,"connected",e),!1===e&&function w$(n){Lm(n,"onDisconnectEvents");const e=Bb(n),t=xb();KI(n.onDisconnect_,Cn(),(i,s)=>{const u=mF(i,s,n.serverSyncTree_,e);Wd(t,i,u)});let r=[];KI(t,Cn(),(i,s)=>{r=r.concat(kb(n.serverSyncTree_,i,s));const u=Jx(n,i);Vm(n,u)}),n.onDisconnect_=xb(),Ra(n.eventQueue_,Cn(),r)}(n)}function Yx(n,e,t){const r=new Nn("/.info/"+e),i=Qn(t);n.infoData_.updateSnapshot(r,i);const s=kb(n.infoSyncTree_,r,i);Ra(n.eventQueue_,r,s)}function uT(n){return n.nextWriteId_++}function Zx(n,e,t,r,i){Lm(n,"set",{path:e.toString(),value:t,priority:r});const s=Bb(n),u=Qn(t,r),h=nT(n.serverSyncTree_,e),p=jx(u,h,s),y=uT(n),E=Px(n.serverSyncTree_,e,p,y,!0);lT(n.eventQueue_,E),n.server_.put(e.toString(),u.val(!0),(x,L)=>{const G="ok"===x;G||xi("set at "+e+" failed: "+x);const he=Zd(n.serverSyncTree_,y,!G);Ra(n.eventQueue_,e,he),Qd(0,i,x,L)});const T=Jx(n,e);Vm(n,T),Ra(n.eventQueue_,T,[])}function E$(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&qI(n.onDisconnect_,e),Qd(0,t,r,i)})}function SF(n,e,t,r){const i=Qn(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(s,u)=>{"ok"===s&&Wd(n.onDisconnect_,e,i),Qd(0,r,s,u)})}function Qx(n,e,t){let r;r=".info"===en(e._path)?Nx(n.infoSyncTree_,e,t):Nx(n.serverSyncTree_,e,t),Kx(n.eventQueue_,e._path,r)}function AF(n){n.persistentConnection_&&n.persistentConnection_.interrupt(CF)}function Lm(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Pr(t,...e)}function Qd(n,e,t,r){e&&Ld(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const u=new Error(s);u.code=i,e(u)}})}function Xx(n,e,t){return nT(n.serverSyncTree_,e,t)||Gt.EMPTY_NODE}function cT(n,e=n.transactionQueueTree_){if(e||dT(n,e),Zf(e)){const t=xF(n,e);(0,j.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function A$(n,e,t){const r=t.map(y=>y.currentWriteId),i=Xx(n,e,r);let s=i;const u=i.hash();for(let y=0;y<t.length;y++){const E=t[y];(0,j.hu)(0===E.status,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const T=Ri(e,E.path);s=s.updateChild(T,E.currentOutputSnapshotRaw)}const h=s.val(!0),p=e;n.server_.put(p.toString(),h,y=>{Lm(n,"transaction put response",{path:p.toString(),status:y});let E=[];if("ok"===y){const T=[];for(let x=0;x<t.length;x++)t[x].status=2,E=E.concat(Zd(n.serverSyncTree_,t[x].currentWriteId)),t[x].onComplete&&T.push(()=>t[x].onComplete(null,!0,t[x].currentOutputSnapshotResolved)),t[x].unwatcher();dT(n,sT(n.transactionQueueTree_,e)),cT(n,n.transactionQueueTree_),Ra(n.eventQueue_,e,E);for(let x=0;x<T.length;x++)Ld(T[x])}else{if("datastale"===y)for(let T=0;T<t.length;T++)t[T].status=3===t[T].status?4:0;else{xi("transaction at "+p.toString()+" failed: "+y);for(let T=0;T<t.length;T++)t[T].status=4,t[T].abortReason=y}Vm(n,e)}},u)}(n,Pb(e),t)}else _F(e)&&oT(e,t=>{cT(n,t)})}function Vm(n,e){const t=MF(n,e),r=Pb(t);return function M$(n,e,t){if(0===e.length)return;const r=[];let i=[];const u=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],y=Ri(t,p.path);let T,E=!1;if((0,j.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)E=!0,T=p.abortReason,i=i.concat(Zd(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)E=!0,T="maxretry",i=i.concat(Zd(n.serverSyncTree_,p.currentWriteId,!0));else{const x=Xx(n,p.path,u);p.currentInputSnapshot=x;const L=e[h].update(x.val());if(void 0!==L){Fb("transaction failed: Data returned ",L,p.path);let G=Qn(L);"object"==typeof L&&null!=L&&(0,j.r3)(L,".priority")||(G=G.updatePriority(x.getPriority()));const Te=p.currentWriteId,rt=Bb(n),st=jx(G,x,rt);p.currentOutputSnapshotRaw=G,p.currentOutputSnapshotResolved=st,p.currentWriteId=uT(n),u.splice(u.indexOf(Te),1),i=i.concat(Px(n.serverSyncTree_,p.path,st,p.currentWriteId,p.applyLocally)),i=i.concat(Zd(n.serverSyncTree_,Te,!0))}else E=!0,T="nodata",i=i.concat(Zd(n.serverSyncTree_,p.currentWriteId,!0))}Ra(n.eventQueue_,t,i),i=[],E&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&r.push("nodata"===T?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(T),!1,null)))}dT(n,n.transactionQueueTree_);for(let h=0;h<r.length;h++)Ld(r[h]);cT(n,n.transactionQueueTree_)}(n,xF(n,t),r),r}function MF(n,e){let t,r=n.transactionQueueTree_;for(t=en(e);null!==t&&void 0===Zf(r);)r=sT(r,t),t=en(e=dn(e));return r}function xF(n,e){const t=[];return RF(n,e,t),t.sort((r,i)=>r.order-i.order),t}function RF(n,e,t){const r=Zf(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);oT(e,i=>{RF(n,i,t)})}function dT(n,e){const t=Zf(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,zx(e,t.length>0?t:void 0)}oT(e,r=>{dT(n,r)})}function Jx(n,e){const t=Pb(MF(n,e)),r=sT(n.transactionQueueTree_,e);return function o$(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{eR(n,i)}),eR(n,r),yF(r,i=>{eR(n,i)}),t}function eR(n,e){const t=Zf(e);if(t){const r=[];let i=[],s=-1;for(let u=0;u<t.length;u++)3===t[u].status||(1===t[u].status?((0,j.hu)(s===u-1,"All SENT items should be at beginning of queue."),s=u,t[u].status=3,t[u].abortReason="set"):((0,j.hu)(0===t[u].status,"Unexpected transaction status in abort"),t[u].unwatcher(),i=i.concat(Zd(n.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&r.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));-1===s?zx(e,void 0):t.length=s+1,Ra(n.eventQueue_,Pb(e),i);for(let u=0;u<r.length;u++)Ld(r[u])}}const tR=function(n,e){const t=k$(n),r=t.namespace;return"firebase.com"===t.domain&&Sa(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Sa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&xi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ob(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new Nn(t.pathString)}},k$=function(n){let e="",t="",r="",i="",s="",u=!0,h="https",p=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(h=n.substring(0,y-1),n=n.substring(y+2));let E=n.indexOf("/");-1===E&&(E=n.length);let T=n.indexOf("?");-1===T&&(T=n.length),e=n.substring(0,Math.min(E,T)),E<T&&(i=function x$(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(s){}e+="/"+i}return e}(n.substring(E,T)));const x=function R$(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):xi(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,T)));y=e.indexOf(":"),y>=0?(u="https"===h||"wss"===h,p=parseInt(e.substring(y+1),10)):y=e.length;const L=e.slice(0,y);if("localhost"===L.toLowerCase())t="localhost";else if(L.split(".").length<=2)t=L;else{const G=e.indexOf(".");r=e.substring(0,G).toLowerCase(),t=e.substring(G+1),s=r}"ns"in x&&(s=x.ns)}return{host:e,port:p,domain:t,subdomain:r,secure:u,scheme:h,pathString:i,namespace:s}};class kF{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,j.Pz)(this.snapshot.exportVal())}}class OF{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class PF{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,j.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class NF{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new j.BH;return E$(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){xa("OnDisconnect.remove",this._path);const e=new j.BH;return SF(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){xa("OnDisconnect.set",this._path),_u("OnDisconnect.set",e,this._path,!1);const t=new j.BH;return SF(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){xa("OnDisconnect.setWithPriority",this._path),_u("OnDisconnect.setWithPriority",e,this._path,!1),qx("OnDisconnect.setWithPriority",t,!1);const r=new j.BH;return function C$(n,e,t,r,i){const s=Qn(t,r);n.server_.onDisconnectPut(e.toString(),s.val(!0),(u,h)=>{"ok"===u&&Wd(n.onDisconnect_,e,s),Qd(0,i,u,h)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){xa("OnDisconnect.update",this._path),bF("OnDisconnect.update",e,this._path,!1);const t=new j.BH;return function I$(n,e,t,r){if((0,j.xb)(t))return Pr("onDisconnect().update() called with empty data.  Don't do anything."),void Qd(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(i,s)=>{"ok"===i&&Xr(t,(u,h)=>{const p=Qn(h);Wd(n.onDisconnect_,Gn(e,u),p)}),Qd(0,r,i,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class bo{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return nn(this._path)?null:mb(this._path)}get ref(){return new ka(this._repo,this._path)}get _queryIdentifier(){const e=Dx(this._queryParams),t=vm(e);return"{}"===t?"default":t}get _queryObject(){return Dx(this._queryParams)}isEqual(e){if(!((e=(0,j.m9)(e))instanceof bo))return!1;const t=this._repo===e._repo,r=Sm(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function _b(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function hT(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Xd(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Wo){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Aa)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==$o)throw new Error(r);if("string"!=typeof t)throw new Error(i)}}else if(n.getIndex()===Zn){if(null!=e&&!Nb(e)||null!=t&&!Nb(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,j.hu)(n.getIndex()instanceof Wf||n.getIndex()===UI,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function fT(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ka extends bo{constructor(e,t){super(e,t,new Db,!1)}get parent(){const e=RI(this._path);return null===e?null:new ka(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Qf{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Nn(e),r=Xf(this.ref,e);return new Qf(this._node.getChild(t),r,Zn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Qf(i,Xf(this.ref,r),Zn)))}hasChild(e){const t=new Nn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function FF(n,e){return(n=(0,j.m9)(n))._checkNotDeleted("ref"),void 0!==e?Xf(n._root,e):n._root}function LF(n,e){(n=(0,j.m9)(n))._checkNotDeleted("refFromURL");const t=tR(e,n._repo.repoInfo_.nodeAdmin);wF("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Sa("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),FF(n,t.path.toString())}function Xf(n,e){return null===en((n=(0,j.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Vb("child","path",t,!1)):Vb("child","path",e,!1),new ka(n._repo,Gn(n._path,e));var t}function nR(n,e){n=(0,j.m9)(n),xa("set",n._path),_u("set",e,n._path,!1);const t=new j.BH;return Zx(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function L$(n,e){bF("update",e,n._path,!1);const t=new j.BH;return function b$(n,e,t,r){Lm(n,"update",{path:e.toString(),value:t});let i=!0;const s=Bb(n),u={};if(Xr(t,(h,p)=>{i=!1,u[h]=mF(Gn(e,h),Qn(p),n.serverSyncTree_,s)}),i)Pr("update() called with empty data.  Don't do anything."),Qd(0,r,"ok",void 0);else{const h=uT(n),p=function $z(n,e,t,r){!function lz(n,e,t,r){(0,j.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=Kf(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const i=Vn.fromObject(t);return Fm(n,new z({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,e,u,h);lT(n.eventQueue_,p),n.server_.merge(e.toString(),t,(y,E)=>{const T="ok"===y;T||xi("update at "+e+" failed: "+y);const x=Zd(n.serverSyncTree_,h,!T),L=x.length>0?Vm(n,e):e;Ra(n.eventQueue_,L,x),Qd(0,r,y,E)}),Xr(t,y=>{const E=Jx(n,Gn(e,y));Vm(n,E)}),Ra(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function V$(n){return function v$(n,e){const t=function Qz(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(y,E)=>{const T=Ri(y,t);r=r||Kd(E,T)});let i=n.syncPointTree_.get(t);i?r=r||Kd(i,Cn()):(i=new sF,n.syncPointTree_=n.syncPointTree_.set(t,i));const s=null!=r,u=s?new ie(r,!0,!1):null;return function Oz(n){return yn(n.viewCache_)}(oF(i,e,YI(n.pendingWriteTree_,e._path),s?u.getNode():Gt.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(r=>{const i=Qn(r).withIndex(e._queryParams.getIndex()),s=kb(n.serverSyncTree_,e._path,i);return Kx(n.eventQueue_,e._path,s),Promise.resolve(i)},r=>(Lm(n,"get for query "+(0,j.Pz)(e)+" failed: "+r),Promise.reject(new Error(r))))}((n=(0,j.m9)(n))._repo,n).then(e=>new Qf(e,new ka(n._repo,n._path),n._queryParams.getIndex()))}class pT{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new kF("value",this,new Qf(e.snapshotNode,new ka(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new OF(this,e,t):null}matches(e){return e instanceof pT&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class gT{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new OF(this,e,t):null}createEvent(e,t){(0,j.hu)(null!=e.childName,"Child events should have a childName.");const r=Xf(new ka(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new kF(e.type,this,new Qf(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof gT&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Ub(n,e,t,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const p=t,y=(E,T)=>{Qx(n._repo,n,h),p(E,T)};y.userCallback=t.userCallback,y.context=t.context,t=y}const u=new PF(t,s||void 0),h="value"===e?new pT(u):new gT(e,u);return function T$(n,e,t){let r;r=".info"===en(e._path)?dF(n.infoSyncTree_,e,t):dF(n.serverSyncTree_,e,t),Kx(n.eventQueue_,e._path,r)}(n._repo,n,h),()=>Qx(n._repo,n,h)}function rR(n,e,t,r){return Ub(n,"value",e,t,r)}function VF(n,e,t,r){return Ub(n,"child_added",e,t,r)}function BF(n,e,t,r){return Ub(n,"child_changed",e,t,r)}function UF(n,e,t,r){return Ub(n,"child_moved",e,t,r)}function jF(n,e,t,r){return Ub(n,"child_removed",e,t,r)}function HF(n,e,t){let r=null;const i=t?new PF(t):null;"value"===e?r=new pT(i):e&&(r=new gT(e,i)),Qx(n._repo,n,r)}class Al{}class GF extends Al{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){_u("endAt",this._value,e._path,!0);const t=WI(e._queryParams,this._value,this._key);if(fT(t),Xd(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new bo(e._repo,e._path,t,e._orderByCalled)}}class U$ extends Al{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){_u("endBefore",this._value,e._path,!1);const t=function Ix(n,e,t){let r,i;return n.index_===Wo?("string"==typeof e&&(e=GI(e)),i=WI(n,e,t)):(r=null==t?Aa:GI(t),i=WI(n,e,r)),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(fT(t),Xd(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new bo(e._repo,e._path,t,e._orderByCalled)}}class zF extends Al{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){_u("startAt",this._value,e._path,!0);const t=Ab(e._queryParams,this._value,this._key);if(fT(t),Xd(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new bo(e._repo,e._path,t,e._orderByCalled)}}class G$ extends Al{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){_u("startAfter",this._value,e._path,!1);const t=function j1(n,e,t){let r;if(n.index_===Wo)"string"==typeof e&&(e=HI(e)),r=Ab(n,e,t);else{let i;i=null==t?$o:HI(t),r=Ab(n,e,i)}return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(fT(t),Xd(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new bo(e._repo,e._path,t,e._orderByCalled)}}class $$ extends Al{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new bo(e._repo,e._path,function Sb(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class q$ extends Al{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new bo(e._repo,e._path,function Cx(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class Y$ extends Al{constructor(e){super(),this._path=e}_apply(e){hT(e,"orderByChild");const t=new Nn(this._path);if(nn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Wf(t),i=km(e._queryParams,r);return Xd(i),new bo(e._repo,e._path,i,!0)}}class Q$ extends Al{_apply(e){hT(e,"orderByKey");const t=km(e._queryParams,Wo);return Xd(t),new bo(e._repo,e._path,t,!0)}}class J$ extends Al{_apply(e){hT(e,"orderByPriority");const t=km(e._queryParams,Zn);return Xd(t),new bo(e._repo,e._path,t,!0)}}class t3 extends Al{_apply(e){hT(e,"orderByValue");const t=km(e._queryParams,UI);return Xd(t),new bo(e._repo,e._path,t,!0)}}class r3 extends Al{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(_u("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new GF(this._value,this._key)._apply(new zF(this._value,this._key)._apply(e))}}function Ml(n,...e){let t=(0,j.m9)(n);for(const r of e)t=r._apply(t);return t}(function Lz(n){(0,j.hu)(!JI,"__referenceConstructor has already been defined"),JI=n})(ka),function Hz(n){(0,j.hu)(!tT,"__referenceConstructor has already been defined"),tT=n}(ka);const iR={};function WF(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||Sa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,y,u=tR(s,i),h=u.repoInfo;"undefined"!=typeof process&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(p=!0,s=`http://${y}?ns=${h.namespace}`,u=tR(s,i),h=u.repoInfo):p=!u.repoInfo.secure;const E=i&&p?new Uf(Uf.OWNER):new YM(n.name,n.options,e);wF("Invalid Firebase Database URL",u),nn(u.path)||Sa("Database URL must point to the root of a Firebase Database (not including a child path).");const T=function u3(n,e,t,r){let i=iR[e.name];i||(i={},iR[e.name]=i);let s=i[n.toURLString()];return s&&Sa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new m$(n,false,t,r),i[n.toURLString()]=s,s}(h,n,E,new dI(n.name,t));return new d3(T,n)}class d3{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function _$(n,e,t){if(n.stats_=Cm(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Mb(n.repoInfo_,(r,i,s,u)=>{TF(n,r,i,s,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>DF(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,j.Pz)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Bd(n.repoInfo_,e,(r,i,s,u)=>{TF(n,r,i,s,u)},r=>{DF(n,r)},r=>{!function y$(n,e){Xr(e,(t,r)=>{Yx(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function fI(n,e){const t=n.toString();return ub[t]||(ub[t]=e()),ub[t]}(n.repoInfo_,()=>new d(n.stats_,n.server_)),n.infoData_=new H1,n.infoSyncTree_=new cF({startListening:(r,i,s,u)=>{let h=[];const p=n.infoData_.getNode(r._path);return p.isEmpty()||(h=kb(n.infoSyncTree_,r._path,p),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),Yx(n,"connected",!1),n.serverSyncTree_=new cF({startListening:(r,i,s,u)=>(n.server_.listen(r,s,i,(h,p)=>{const y=u(h,p);Ra(n.eventQueue_,r._path,y)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ka(this._repo,Cn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function l3(n,e){const t=iR[e];(!t||t[n.key]!==n)&&Sa(`Database ${e}(${n.repoInfo_}) has already been deleted.`),AF(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Sa("Cannot call "+e+" on a deleted database.")}}function qF(){rx.IS_TRANSPORT_INITIALIZED&&xi("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function h3(){qF(),hc.forceDisallow()}function f3(){qF(),Tl.forceDisallow(),hc.forceAllow()}function _3(n,e){Zv(n,e)}const v3={".sv":"timestamp"};class E3{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Bd.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Bd.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function y3(n){Nf(pr.SDK_VERSION),(0,pr._registerComponent)(new Hr.wA("database",(e,{instanceIdentifier:t})=>WF(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,pr.registerVersion)(iI,"0.13.0",n),(0,pr.registerVersion)(iI,"0.13.0","esm2017")}();const D3=new Da.Yd("@firebase/database-compat"),KF=function(n){D3.warn("FIREBASE WARNING: "+n)};class M3{constructor(e){this._delegate=e}cancel(e){(0,j.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,j.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,j.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,j.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,j.Dv)("OnDisconnect.set",1,2,arguments.length),(0,j.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,j.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,j.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,t){if((0,j.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,KF("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,j.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}class x3{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,j.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Jd{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,j.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,j.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,j.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,j.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,j.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),Vb("DataSnapshot.child","path",e,!1),new Jd(this._database,this._delegate.child(e))}hasChild(e){return(0,j.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Vb("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,j.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,j.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,j.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Jd(this._database,t)))}hasChildren(){return(0,j.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,j.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,j.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ko(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Yi{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var s;(0,j.Dv)("Query.on",2,4,arguments.length),(0,j.Wj)("Query.on","callback",t,!1);const u=Yi.getCancelAndContextArgs_("Query.on",r,i),h=(y,E)=>{t.call(u.context,new Jd(this.database,y),E)};h.userCallback=t,h.context=u.context;const p=null===(s=u.cancel)||void 0===s?void 0:s.bind(u.context);switch(e){case"value":return rR(this._delegate,h,p),t;case"child_added":return VF(this._delegate,h,p),t;case"child_removed":return jF(this._delegate,h,p),t;case"child_changed":return BF(this._delegate,h,p),t;case"child_moved":return UF(this._delegate,h,p),t;default:throw new Error((0,j.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,j.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,j.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,j.Wj)("Query.off","callback",t,!0),(0,j.lb)("Query.off","context",r,!0),t){const i=()=>{};i.userCallback=t,i.context=r,HF(this._delegate,e,i)}else HF(this._delegate,e)}get(){return V$(this._delegate).then(e=>new Jd(this.database,e))}once(e,t,r,i){(0,j.Dv)("Query.once",1,4,arguments.length),(0,j.Wj)("Query.once","callback",t,!0);const s=Yi.getCancelAndContextArgs_("Query.once",r,i),u=new j.BH,h=(y,E)=>{const T=new Jd(this.database,y);t&&t.call(s.context,T,E),u.resolve(T)};h.userCallback=t,h.context=s.context;const p=y=>{s.cancel&&s.cancel.call(s.context,y),u.reject(y)};switch(e){case"value":rR(this._delegate,h,p,{onlyOnce:!0});break;case"child_added":VF(this._delegate,h,p,{onlyOnce:!0});break;case"child_removed":jF(this._delegate,h,p,{onlyOnce:!0});break;case"child_changed":BF(this._delegate,h,p,{onlyOnce:!0});break;case"child_moved":UF(this._delegate,h,p,{onlyOnce:!0});break;default:throw new Error((0,j.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(e){return(0,j.Dv)("Query.limitToFirst",1,1,arguments.length),new Yi(this.database,Ml(this._delegate,function W$(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new $$(n)}(e)))}limitToLast(e){return(0,j.Dv)("Query.limitToLast",1,1,arguments.length),new Yi(this.database,Ml(this._delegate,function K$(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new q$(n)}(e)))}orderByChild(e){return(0,j.Dv)("Query.orderByChild",1,1,arguments.length),new Yi(this.database,Ml(this._delegate,function Z$(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Vb("orderByChild","path",n,!1),new Y$(n)}(e)))}orderByKey(){return(0,j.Dv)("Query.orderByKey",0,0,arguments.length),new Yi(this.database,Ml(this._delegate,function X$(){return new Q$}()))}orderByPriority(){return(0,j.Dv)("Query.orderByPriority",0,0,arguments.length),new Yi(this.database,Ml(this._delegate,function e3(){return new J$}()))}orderByValue(){return(0,j.Dv)("Query.orderByValue",0,0,arguments.length),new Yi(this.database,Ml(this._delegate,function n3(){return new t3}()))}startAt(e=null,t){return(0,j.Dv)("Query.startAt",0,2,arguments.length),new Yi(this.database,Ml(this._delegate,function H$(n=null,e){return Lb("startAt","key",e,!0),new zF(n,e)}(e,t)))}startAfter(e=null,t){return(0,j.Dv)("Query.startAfter",0,2,arguments.length),new Yi(this.database,Ml(this._delegate,function z$(n,e){return Lb("startAfter","key",e,!0),new G$(n,e)}(e,t)))}endAt(e=null,t){return(0,j.Dv)("Query.endAt",0,2,arguments.length),new Yi(this.database,Ml(this._delegate,function B$(n,e){return Lb("endAt","key",e,!0),new GF(n,e)}(e,t)))}endBefore(e=null,t){return(0,j.Dv)("Query.endBefore",0,2,arguments.length),new Yi(this.database,Ml(this._delegate,function j$(n,e){return Lb("endBefore","key",e,!0),new U$(n,e)}(e,t)))}equalTo(e,t){return(0,j.Dv)("Query.equalTo",1,2,arguments.length),new Yi(this.database,Ml(this._delegate,function s3(n,e){return Lb("equalTo","key",e,!0),new r3(n,e)}(e,t)))}toString(){return(0,j.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,j.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,j.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Yi))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,(0,j.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,j.lb)(e,"context",i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error((0,j.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new Ko(this.database,new ka(this._delegate._repo,this._delegate._path))}}class Ko extends Yi{constructor(e,t){super(e,new bo(t._repo,t._path,new Db,!1)),this.database=e,this._delegate=t}getKey(){return(0,j.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,j.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Ko(this.database,Xf(this._delegate,e))}getParent(){(0,j.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Ko(this.database,e):null}getRoot(){return(0,j.Dv)("Reference.root",0,0,arguments.length),new Ko(this.database,this._delegate.root)}set(e,t){(0,j.Dv)("Reference.set",1,2,arguments.length),(0,j.Wj)("Reference.set","onComplete",t,!0);const r=nR(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if((0,j.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,KF("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}xa("Reference.update",this._delegate._path),(0,j.Wj)("Reference.update","onComplete",t,!0);const r=L$(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,j.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,j.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function F$(n,e,t){if(xa("setWithPriority",n._path),_u("setWithPriority",e,n._path,!1),qx("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new j.BH;return Zx(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){(0,j.Dv)("Reference.remove",0,1,arguments.length),(0,j.Wj)("Reference.remove","onComplete",e,!0);const t=function P$(n){return xa("remove",n._path),nR(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,j.Dv)("Reference.transaction",1,3,arguments.length),(0,j.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,j.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,j.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function C3(n,e,t){var r;if(n=(0,j.m9)(n),xa("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=null==t?void 0:t.applyLocally)||void 0===r||r,s=new j.BH,h=rR(n,()=>{});return function S$(n,e,t,r,i,s){Lm(n,"transaction on "+e);const u={path:e,update:t,onComplete:r,status:null,order:oI(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=Xx(n,e,void 0);u.currentInputSnapshot=h;const p=u.update(h.val());if(void 0===p)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{Fb("transaction failed: Data returned ",p,u.path),u.status=0;const y=sT(n.transactionQueueTree_,e),E=Zf(y)||[];let T;E.push(u),zx(y,E),"object"==typeof p&&null!==p&&(0,j.r3)(p,".priority")?(T=(0,j.DV)(p,".priority"),(0,j.hu)(Nb(T),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):T=(nT(n.serverSyncTree_,e)||Gt.EMPTY_NODE).getPriority().val();const x=Bb(n),L=Qn(p,T),G=jx(L,h,x);u.currentOutputSnapshotRaw=L,u.currentOutputSnapshotResolved=G,u.currentWriteId=uT(n);const he=Px(n.serverSyncTree_,e,G,u.currentWriteId,u.applyLocally);Ra(n.eventQueue_,e,he),cT(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,y,E)=>{let T=null;p?s.reject(p):(T=new Qf(E,new ka(n._repo,n._path),Zn),s.resolve(new E3(y,T)))},h,i),s.promise}(this._delegate,e,{applyLocally:r}).then(s=>new x3(s.committed,new Jd(this.database,s.snapshot)));return t&&i.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),i}setPriority(e,t){(0,j.Dv)("Reference.setPriority",1,2,arguments.length),(0,j.Wj)("Reference.setPriority","onComplete",t,!0);const r=function N$(n,e){n=(0,j.m9)(n),xa("setPriority",n._path),qx("setPriority",e,!1);const t=new j.BH;return Zx(n._repo,Gn(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){(0,j.Dv)("Reference.push",0,2,arguments.length),(0,j.Wj)("Reference.push","onComplete",t,!0);const r=function O$(n,e){n=(0,j.m9)(n),xa("push",n._path),_u("push",e,n._path,!0);const t=IF(n._repo),r=wx(t),i=Xf(n,r),s=Xf(n,r);let u;return u=null!=e?nR(s,e).then(()=>s):Promise.resolve(s),i.then=u.then.bind(u),i.catch=u.then.bind(u,void 0),i}(this._delegate,e),i=r.then(u=>new Ko(this.database,u));t&&i.then(()=>t(null),u=>t(u));const s=new Ko(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return xa("Reference.onDisconnect",this._delegate._path),new M3(new NF(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class jb{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:h3,forceLongPolling:f3}}useEmulator(e,t,r={}){!function p3(n,e,t,r={}){(n=(0,j.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Sa("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Sa('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Uf(Uf.OWNER);else if(r.mockUserToken){const u="string"==typeof r.mockUserToken?r.mockUserToken:(0,j.Sg)(r.mockUserToken,n.app.options.projectId);s=new Uf(u)}!function a3(n,e,t,r){n.repoInfo_=new ob(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(this._delegate,e,t,r)}ref(e){if((0,j.Dv)("database.ref",0,1,arguments.length),e instanceof Ko){const t=LF(this._delegate,e.toString());return new Ko(this,t)}{const t=FF(this._delegate,e);return new Ko(this,t)}}refFromURL(e){(0,j.Dv)("database.refFromURL",1,1,arguments.length);const r=LF(this._delegate,e);return new Ko(this,r)}goOffline(){return(0,j.Dv)("database.goOffline",0,0,arguments.length),function g3(n){(n=(0,j.m9)(n))._checkNotDeleted("goOffline"),AF(n._repo)}(this._delegate)}goOnline(){return(0,j.Dv)("database.goOnline",0,0,arguments.length),function m3(n){(n=(0,j.m9)(n))._checkNotDeleted("goOnline"),function D$(n){n.persistentConnection_&&n.persistentConnection_.resume(CF)}(n._repo)}(this._delegate)}}jb.ServerValue={TIMESTAMP:function b3(){return v3}(),increment:n=>function w3(n){return{".sv":{increment:n}}}(n)};var k3=Object.freeze({__proto__:null,initStandalone:function R3({app:n,url:e,version:t,customAuthImpl:r,namespace:i,nodeAdmin:s=!1}){Nf(t);const u=new Hr.zt("auth-internal",new Hr.H0("database-standalone"));return u.setComponent(new Hr.wA("auth-internal",()=>r,"PRIVATE")),{instance:new jb(WF(n,u,void 0,e,s),n),namespace:i}}});const O3=jb.ServerValue;!function P3(n){n.INTERNAL.registerComponent(new Hr.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new jb(i,r)},"PUBLIC").setServiceProps({Reference:Ko,Query:Yi,Database:jb,DataSnapshot:Jd,enableLogging:_3,INTERNAL:k3,ServerValue:O3}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.0")}(mm.Z);var mT=R(5363),N3=R(6063);class F3 extends Ht.x{constructor(e=1/0,t=1/0,r=N3.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:u}=this;t||(r.push(e),!i&&r.push(s.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let u=0;u<s.length&&!e.closed;u+=r?1:2)e.next(s[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const u=t.now();let h=0;for(let p=1;p<r.length&&r[p]<=u;p+=2)h=p;h&&r.splice(0,h+1)}}}function sR(n,e,t){var r,i;let s,u=!1;return n&&"object"==typeof n?(s=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,u=!!n.refCount,t=n.scheduler):s=null!=n?n:1/0,(0,Kv.B)({connector:()=>new F3(s,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}function YF(n,e){return(0,wa.m)(e)?fi(()=>n,e):fi(()=>n)}var oR=R(9468),eh=R(7835);class Bm{constructor(e){return e}}class ZF{constructor(){return(0,eh.C6)()}}const aR=new c.OlP("angularfire2._apps"),V3={provide:Bm,useFactory:function L3(n){return n&&1===n.length?n[0]:new Bm((0,eh.Mq)())},deps:[[new c.FiY,aR]]},B3={provide:ZF,deps:[[new c.FiY,aR]]};function U3(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Bm(r)}}let j3=(()=>{class n{constructor(t){(0,eh.KN)("angularfire",An.q4.full,"core"),(0,eh.KN)("angularfire",An.q4.full,"app"),(0,eh.KN)("angular",c.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[V3,B3]}),n})();function H3(n,...e){return{ngModule:j3,providers:[{provide:aR,useFactory:U3(n),multi:!0,deps:[c.R0b,c.zs3,An.HU,...e]}]}}const G3=(0,An.u3)(eh.ZF,!0),QF=new Map,z3={activated:!1,tokenObservers:[]},$3={initialized:!1,enabled:!1};function ki(n){return QF.get(n)||z3}function xl(n,e){QF.set(n,e)}function _T(){return $3}class Z3{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,at.Z)(function*(){t.stop();try{t.pending=new j.BH,yield function Q3(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new j.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Gs=new j.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function JF(n){if(!ki(n).activated)throw Gs.create("use-before-activation",{appName:n.name})}function cR(n,e){return dR.apply(this,arguments)}function dR(){return(dR=(0,at.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const T=yield i.getHeartbeatsHeader();T&&(r["X-Firebase-Client"]=T)}const s={method:"POST",body:JSON.stringify(e),headers:r};let u,h;try{u=yield fetch(n,s)}catch(T){throw Gs.create("fetch-network-error",{originalErrorMessage:T.message})}if(200!==u.status)throw Gs.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(T){throw Gs.create("fetch-parse-error",{originalErrorMessage:T.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw Gs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(p[1]),E=Date.now();return{token:h.token,expireTimeMillis:E+y,issuedAtTimeMillis:E}})).apply(this,arguments)}function nW(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Hb="firebase-app-check-store";let bT=null;function tL(){return bT||(bT=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Gs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Hb,{keyPath:"compositeKey"})}}catch(t){e(Gs.create("storage-open",{originalErrorMessage:t.message}))}}),bT)}function hR(){return(hR=(0,at.Z)(function*(n,e){const r=(yield tL()).transaction(Hb,"readwrite"),s=r.objectStore(Hb).put({compositeKey:n,value:e});return new Promise((u,h)=>{s.onsuccess=p=>{u()},r.onerror=p=>{var y;h(Gs.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const Gb=new Da.Yd("@firebase/app-check");function sL(n,e){return(0,j.hl)()?function oW(n,e){return function nL(n,e){return hR.apply(this,arguments)}(function iL(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Gb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function oL(){return _T().enabled}function aL(){return mR.apply(this,arguments)}function mR(){return(mR=(0,at.Z)(function*(){const n=_T();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const hW={error:"UNKNOWN_ERROR"};function fW(n){return j.US.encodeString(JSON.stringify(n),!1)}function wT(n){return _R.apply(this,arguments)}function _R(){return(_R=(0,at.Z)(function*(n,e=!1){const t=n.app;JF(t);const r=ki(t);let s,i=r.token;if(!i){const p=yield r.cachedTokenPromise;p&&ET(p)&&(i=p)}if(!e&&i&&ET(i))return{token:i.token};let h,u=!1;if(oL()){r.exchangeTokenPromise||(r.exchangeTokenPromise=cR(nW(t,yield aL()),n.heartbeatServiceProvider).then(y=>(r.exchangeTokenPromise=void 0,y)),u=!0);const p=yield r.exchangeTokenPromise;return yield sL(t,p),xl(t,Object.assign(Object.assign({},r),{token:p})),{token:p.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(p=>(r.exchangeTokenPromise=void 0,p)),u=!0),i=yield r.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Gb.warn(p.message):Gb.error(p),s=p}return i?(h={token:i.token},xl(t,Object.assign(Object.assign({},r),{token:i})),yield sL(t,i)):h=gW(s),u&&uL(t,h),h})).apply(this,arguments)}function vR(n,e){const t=ki(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),xl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function lL(n){const{app:e}=n,t=ki(e);let r=t.tokenRefresher;r||(r=function pW(n){const{app:e}=n;return new Z3((0,at.Z)(function*(){let r;if(r=ki(e).token?yield wT(n,!0):yield wT(n),r.error)throw r.error}),()=>!0,()=>{const t=ki(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),xl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function uL(n,e){const t=ki(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function ET(n){return n.expireTimeMillis-Date.now()>0}function gW(n){return{token:fW(hW),error:n}}class mW{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ki(this.app);for(const t of e)vR(this.app,t.next);return Promise.resolve()}}const _L="app-check-internal";!function xW(){(0,pr._registerComponent)(new Hr.wA("app-check",n=>function _W(n,e){return new mW(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(_L).initialize()})),(0,pr._registerComponent)(new Hr.wA(_L,n=>function yW(n){return{getToken:e=>wT(n,e),addTokenListener:e=>function yR(n,e,t,r){const{app:i}=n,s=ki(i),u={next:t,error:r,type:e};if(xl(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,u]})),s.token&&ET(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),lL(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>lL(n))}(n,"INTERNAL",e),removeTokenListener:e=>vR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,pr.registerVersion)("@firebase/app-check","0.5.8")}();class zb{constructor(){return(0,An.vb)("app-check")}}"undefined"!=typeof window&&window;var vL=R(127);const bL=new c.OlP("angularfire2.auth.use-emulator"),wL=new c.OlP("angularfire2.auth.settings"),EL=new c.OlP("angularfire2.auth.tenant-id"),CL=new c.OlP("angularfire2.auth.langugage-code"),IL=new c.OlP("angularfire2.auth.use-device-language"),TL=new c.OlP("angularfire.auth.persistence"),DL=(n,e,t,r,i,s,u,h)=>(0,jr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),r&&(p.tenantId=r),p.languageCode=i,s&&p.useDeviceLanguage(),u)for(const[y,E]of Object.entries(u))p.settings[y]=E;return h&&p.setPersistence(h),p},[t,r,i,s,u,h]);let SL=(()=>{class n{constructor(t,r,i,s,u,h,p,y,E,T,x,L){const G=new Ht.x,he=gt(void 0).pipe((0,mT.Q)(u.outsideAngular),fi(()=>s.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,5881)))),(0,xt.U)(()=>(0,jr.on)(t,s,r)),(0,xt.U)(Te=>DL(Te,s,h,y,E,T,p,x)),sR({bufferSize:1,refCount:!1}));if(Br(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=gt(null);else{he.pipe(_o()).subscribe();const rt=he.pipe(fi(it=>it.getRedirectResult().then(zt=>zt,()=>null)),An.iC,sR({bufferSize:1,refCount:!1})),st=he.pipe(fi(it=>new Dr.y(zt=>({unsubscribe:s.runOutsideAngular(()=>it.onAuthStateChanged(jt=>zt.next(jt),jt=>zt.error(jt),()=>zt.complete()))})))),ct=he.pipe(fi(it=>new Dr.y(zt=>({unsubscribe:s.runOutsideAngular(()=>it.onIdTokenChanged(jt=>zt.next(jt),jt=>zt.error(jt),()=>zt.complete()))}))));this.authState=rt.pipe(YF(st),(0,oR.R)(u.outsideAngular),(0,mT.Q)(u.insideAngular)),this.user=rt.pipe(YF(ct),(0,oR.R)(u.outsideAngular),(0,mT.Q)(u.insideAngular)),this.idToken=this.user.pipe(fi(it=>it?(0,Ln.D)(it.getIdToken()):gt(null))),this.idTokenResult=this.user.pipe(fi(it=>it?(0,Ln.D)(it.getIdTokenResult()):gt(null))),this.credential=(0,uc.T)(rt,G,this.authState.pipe(dr(it=>!it))).pipe((0,xt.U)(it=>(null==it?void 0:it.user)?it:null),(0,oR.R)(u.outsideAngular),(0,mT.Q)(u.insideAngular))}return(0,jr.pX)(this,he,s,{spy:{apply:(Te,rt,st)=>{(Te.startsWith("signIn")||Te.startsWith("createUser"))&&st.then(ct=>G.next(ct))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(jr.Dh),c.LFG(jr.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(An.HU),c.LFG(bL,8),c.LFG(wL,8),c.LFG(EL,8),c.LFG(CL,8),c.LFG(IL,8),c.LFG(TL,8),c.LFG(zb,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function AL(n){return null==n}function ML(n){return"function"==typeof n.set}function xL(n,e){return ML(e)?e:n.ref(e)}function RL(n,e){if(function FW(n){return"string"==typeof n}(n))return e.stringCase();if(ML(n))return e.firebaseCase();if(function LW(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function $b(n,e,t="on",r=Of.z){return new Dr.y(i=>{let s=null;return s=n[t](e,(u,h)=>{r.schedule(()=>{i.next({snapshot:u,prevKey:h})}),"once"===t&&r.schedule(()=>i.complete())},u=>{r.schedule(()=>i.error(u))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,xt.U)(i=>{const{snapshot:s,prevKey:u}=i;let h=null;return s.exists()&&(h=s.key),{type:e,payload:s,prevKey:u,key:h}}),(0,Kv.B)())}function kL(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function UW(n,e){const{payload:t,prevKey:r,key:i}=e,s=kL(n,i),u=function BW(n,e){if(AL(e))return 0;{const t=kL(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(p=>{const y={payload:p,type:"value",prevKey:h,key:p.key};return h=p.key,n=[...n,y],!1})}return n;case"child_added":if(s>-1){const h=n[s-1];(h&&h.key||null)!==r&&(n=n.filter(p=>p.payload.key!==t.key)).splice(u,0,e)}else{if(null==r)return[e,...n];(n=n.slice()).splice(u,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===i?e:h);case"child_moved":if(s>-1){const h=n.splice(s,1)[0];return(n=n.slice()).splice(u,0,h),n}return n;default:return n}}function OL(n){return(AL(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function PL(n,e,t){return function VW(n,e,t){return $b(n,"value","once",t).pipe(fi(r=>{const i=[gt(r)];return e.forEach(s=>i.push($b(n,s,"on",t))),(0,uc.T)(...i).pipe(wd(UW,[]))}),b())}(n,e=OL(e),t)}function NL(n,e,t){const r=(e=OL(e)).map(i=>$b(n,i,"on",t));return(0,uc.T)(...r)}function FL(n,e){return function(r,i){return RL(r,{stringCase:()=>n.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function zW(n){return function(t){return t?RL(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function LL(n,e){return function(){return $b(n,"value","on",e)}}const qW=new c.OlP("angularfire2.realtimeDatabaseURL"),KW=new c.OlP("angularfire2.database.use-emulator");let VL=(()=>{class n{constructor(t,r,i,s,u,h,p,y,E,T,x,L,G,he,Te){this.schedulers=h;const rt=p,st=(0,jr.on)(t,u,r);y&&DL(st,u,E,x,L,G,T,he),this.database=(0,jr.cc)(`${st.name}.database.${i}`,"AngularFireDatabase",st.name,()=>{const ct=u.runOutsideAngular(()=>st.database(i||void 0));return rt&&ct.useEmulator(...rt),ct},[rt])}list(t,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>xL(this.database,t));let s=i;return r&&(s=r(i)),function $W(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:FL(r,"update"),set:FL(r,"set"),push:i=>r.push(i),remove:zW(r),snapshotChanges:i=>PL(n,i,t).pipe(An.iC),stateChanges:i=>NL(n,i,t).pipe(An.iC),auditTrail:i=>function jW(n,e,t){return function GW(n,e,t){return function HW(n,e){return $b(n,"value","on",e).pipe((0,xt.U)(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(function HM(...n){const e=(0,Os.jO)(n);return(0,kr.e)((t,r)=>{const i=n.length,s=new Array(i);let u=n.map(()=>!1),h=!1;for(let p=0;p<i;p++)(0,_.Xf)(n[p]).subscribe(new cr.Q(r,y=>{s[p]=y,!h&&!u[p]&&(u[p]=!0,(h=u.every(Xc.y))&&(u=null))},C.Z));t.subscribe(new cr.Q(r,p=>{if(h){const y=[p,...s];r.next(e?e(...y):y)}}))})}(e),(0,xt.U)(([i,s])=>{const u=i.lastKeyToLoad,h=s.map(p=>p.key);return{actions:s,lastKeyToLoad:u,loadedKeys:h}}),function GM(n){return(0,kr.e)((e,t)=>{let r=!1,i=0;e.subscribe(new cr.Q(t,s=>(r||(r=!n(s,i++)))&&t.next(s)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,xt.U)(i=>i.actions))}(n,NL(n,e).pipe(wd((i,s)=>[...i,s],[])),t)}(n,i,t).pipe(An.iC),valueChanges:(i,s)=>PL(n,i,t).pipe((0,xt.U)(h=>h.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),An.iC)}}(s,this)}object(t){return function WW(n,e){return{query:n,snapshotChanges:()=>LL(n,e.schedulers.outsideAngular)().pipe(An.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>LL(n,e.schedulers.outsideAngular)().pipe(An.iC,(0,xt.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>xL(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(jr.Dh),c.LFG(jr.xv,8),c.LFG(qW,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(An.HU),c.LFG(KW,8),c.LFG(SL,8),c.LFG(bL,8),c.LFG(wL,8),c.LFG(EL,8),c.LFG(CL,8),c.LFG(IL,8),c.LFG(TL,8),c.LFG(zb,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),YW=(()=>{class n{constructor(){vL.Z.registerVersion("angularfire",An.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[VL]}),n})(),ZW=(()=>{class n{constructor(t,r){this.menu=[],t.list("menu").valueChanges().subscribe(s=>{this.menu=s})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(VL),c.LFG(Ia))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BL(...n){const e=(0,Os.jO)(n),{args:t,keys:r}=Ju(n),i=new Dr.y(s=>{const{length:u}=t;if(!u)return void s.complete();const h=new Array(u);let p=u,y=u;for(let E=0;E<u;E++){let T=!1;(0,_.Xf)(t[E]).subscribe(new cr.Q(s,x=>{T||(T=!0,y--),h[E]=x},()=>p--,void 0,()=>{(!p||!T)&&(y||s.next(r?$y(r,h):h),s.complete())}))}});return e?i.pipe(Vg(e)):i}class QW{}class th{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof th?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new th;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof th?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let u=this.headers.get(t);if(!u)return;u=u.filter(h=>-1===s.indexOf(h)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class XW{encodeKey(e){return UL(e)}encodeValue(e){return UL(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const eq=/%(\d[a-f0-9])/gi,tq={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function UL(n){return encodeURIComponent(n).replace(eq,(e,t)=>{var r;return null!==(r=tq[t])&&void 0!==r?r:e})}function jL(n){return`${n}`}class nh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new XW,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function JW(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[u,h]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],p=t.get(u)||[];p.push(h),t.set(u,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new nh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(jL(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(jL(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class nq{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function HL(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function GL(n){return"undefined"!=typeof Blob&&n instanceof Blob}function zL(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Wb{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function rq(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new th),this.context||(this.context=new nq),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+u}}else this.params=new nh,this.urlWithParams=t}serializeBody(){return null===this.body?null:HL(this.body)||GL(this.body)||zL(this.body)||function iq(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof nh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||zL(this.body)?null:GL(this.body)?this.body.type||null:HL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,h=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,E=e.params||this.params;const T=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((x,L)=>x.set(L,e.setHeaders[L]),y)),e.setParams&&(E=Object.keys(e.setParams).reduce((x,L)=>x.set(L,e.setParams[L]),E)),new Wb(r,i,u,{params:E,headers:y,context:T,reportProgress:p,responseType:s,withCredentials:h})}}var Zi=(()=>((Zi=Zi||{})[Zi.Sent=0]="Sent",Zi[Zi.UploadProgress=1]="UploadProgress",Zi[Zi.ResponseHeader=2]="ResponseHeader",Zi[Zi.DownloadProgress=3]="DownloadProgress",Zi[Zi.Response=4]="Response",Zi[Zi.User=5]="User",Zi))();class IR extends class sq{constructor(e,t=200,r="OK"){this.headers=e.headers||new th,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Zi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new IR({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function TR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let WL=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Wb)s=t;else{let p,y;p=i.headers instanceof th?i.headers:new th(i.headers),i.params&&(y=i.params instanceof nh?i.params:new nh({fromObject:i.params})),s=new Wb(t,r,void 0!==i.body?i.body:null,{headers:p,context:i.context,params:y,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=gt(s).pipe(yf(p=>this.handler.handle(p)));if(t instanceof Wb||"events"===i.observe)return u;const h=u.pipe(dr(p=>p instanceof IR));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,xt.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,xt.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,xt.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,xt.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new nh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,TR(i,r))}post(t,r,i={}){return this.request("POST",t,TR(i,r))}put(t,r,i={}){return this.request("PUT",t,TR(i,r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(QW))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const aq=["*"];let IT;function qb(n){var e;return(null===(e=function lq(){if(void 0===IT&&(IT=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(IT=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return IT}())||void 0===e?void 0:e.createHTML(n))||n}function qL(n){return Error(`Unable to find icon with the name "${n}"`)}function KL(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function YL(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Jf{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let TT=(()=>{class n{constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new Jf(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){const u=this._sanitizer.sanitize(c.q3G.HTML,i);if(!u)throw YL(i);const h=qb(u);return this._addSvgIconConfig(t,r,new Jf("",h,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Jf(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const s=this._sanitizer.sanitize(c.q3G.HTML,r);if(!s)throw YL(r);const u=qb(s);return this._addSvgIconSetConfig(t,new Jf("",u,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,t);if(!r)throw KL(t);const i=this._cachedIconsByUrl.get(r);return i?gt(DT(i)):this._loadSvgIconFromConfig(new Jf(t,null)).pipe((0,Mi.b)(s=>this._cachedIconsByUrl.set(r,s)),(0,xt.U)(s=>DT(s)))}getNamedSvgIcon(t,r=""){const i=ZL(r,t);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const u=this._iconSetConfigs.get(r);return u?this._getSvgFromIconSetConfigs(t,u):bd(qL(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?gt(DT(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,xt.U)(r=>DT(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?gt(i):BL(r.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(vl(h=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(y)),gt(null)})))).pipe((0,xt.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,r);if(!u)throw qL(t);return u}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(u,t,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Mi.b)(r=>t.svgText=r),(0,xt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?gt(null):this._fetchIcon(t).pipe((0,Mi.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const s=t.querySelector(`[id="${r}"]`);if(!s)return null;const u=s.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,i);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),i);const h=this._svgElementFromString(qb("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(qb("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){const{name:u,value:h}=i[s];"id"!==u&&r.setAttribute(u,h)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var r;const{url:i,options:s}=t,u=null!==(r=null==s?void 0:s.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw function uq(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const h=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,i);if(!h)throw KL(i);const p=this._inProgressUrlFetches.get(h);if(p)return p;const y=this._httpClient.get(h,{responseType:"text",withCredentials:u}).pipe((0,xt.U)(E=>qb(E)),Yy(()=>this._inProgressUrlFetches.delete(h)),(0,Kv.B)());return this._inProgressUrlFetches.set(h,y),y}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(ZL(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,t);if(s)return dq(s)?new Jf(s.url,null,s.options):new Jf(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(WL,8),c.LFG(li),c.LFG(Q,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DT(n){return n.cloneNode(!0)}function ZL(n,e){return n+":"+e}function dq(n){return!(!n.url||!n.options)}const hq=hd(class{constructor(n){this._elementRef=n}}),fq=new c.OlP("mat-icon-location",{providedIn:"root",factory:function pq(){const n=(0,c.f3M)(Q),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),QL=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],gq=QL.map(n=>`[${n}]`).join(", "),mq=/^url\(['"]?#(.*?)['"]?\)$/;let DR=(()=>{class n extends hq{constructor(t,r,i,s,u){super(t),this._iconRegistry=r,this._location=s,this._errorHandler=u,this._inline=!1,this._currentIconFetch=su.w0.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=V(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(u=>{s.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(gq),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)QL.forEach(u=>{const h=r[s],p=h.getAttribute(u),y=p?p.match(mq):null;if(y){let E=i.get(h);E||(E=[],i.set(h,E)),E.push({name:u,value:y[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe((0,Di.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(TT),c.$8M("aria-hidden"),c.Y36(fq),c.Y36(c.qLn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(c.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),c.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:aq,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),XL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Tr],Tr]}),n})();const _q=function(n){return[n]};function yq(n,e){if(1&n&&(c.TgZ(0,"div",2)(1,"mat-icon",3),c._uU(2),c.qZA(),c.TgZ(3,"p"),c._uU(4),c.qZA()()),2&n){const t=e.$implicit,r=c.oxw();c.Gre("menu-item  ",r.router.url.includes(t.route)?"selected":"",""),c.Q6J("routerLink",c.VKq(6,_q,t.route)),c.xp6(2),c.Oqu(t.icon),c.xp6(2),c.Oqu(t.name)}}let vq=(()=>{class n{constructor(t,r){this.menuProvider=t,this.router=r}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ZW),c.Y36(gs))},n.\u0275cmp=c.Xpm({type:n,selectors:[["lomi-menu"]],decls:2,vars:1,consts:[[1,"menu"],[3,"class","routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],[1,"material-symbols-outlined"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.YNc(1,yq,5,8,"div",1),c.qZA()),2&t&&(c.xp6(1),c.Q6J("ngForOf",r.menuProvider.menu))},directives:[qn,lc,DR],styles:[".menu[_ngcontent-%COMP%]{height:100vh;width:14em;background-color:#424962}.menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{color:#fff;text-align:left;padding:6px 12px;border-bottom:1px solid white;display:flex;justify-content:space-between;transition:.4s ease}.menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover, .menu[_ngcontent-%COMP%]   .menu-item.selected[_ngcontent-%COMP%]{background-color:#fff;color:var(--accent-color);cursor:pointer}.menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-transform:uppercase;font-size:.8em}"]}),n})();const bq=function(){return["/"]};let wq=(()=>{class n{constructor(){this.title="lomi-material"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["lomii-root"]],decls:10,vars:2,consts:[["color","tertiary"],["src","assets/images/lomi.svg",2,"max-height","60px",3,"routerLink"],["autosize","",1,"example-container"],["opened","","mode","side",1,"example-sidenav"],["drawer",""],[1,"example-sidenav-content"],[1,"p",2,"padding-top","2em","height","100vh"]],template:function(t,r){1&t&&(c.TgZ(0,"div")(1,"mat-toolbar",0),c._UZ(2,"img",1),c.qZA()(),c.TgZ(3,"mat-drawer-container",2)(4,"mat-drawer",3,4),c._UZ(6,"lomi-menu"),c.qZA(),c.TgZ(7,"div",5)(8,"div",6),c._UZ(9,"router-outlet"),c.qZA()()()),2&t&&(c.xp6(2),c.Q6J("routerLink",c.DdM(1,bq)))},directives:[zy,lc,qv,Wv,vq,bv],styles:[""]}),n})();const Eq=["*",[["mat-card-footer"]]],Cq=["*","mat-card-footer"];let Iq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),Tq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),n})(),JL=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(go,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:Cq,decls:2,vars:0,template:function(t,r){1&t&&(c.F$t(Eq),c.Hsn(0),c.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),eV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Tr],Tr]}),n})(),nV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[bA,Tr],bA,Tr]}),n})();R(2587);class iV{constructor(){return(0,An.vb)("auth")}}var mt,Rq="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_c={},MR=MR||{},Wt=Rq||self;function ST(){}function xR(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Kb(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var RR="closure_uid_"+(1e9*Math.random()>>>0),Oq=0;function Pq(n,e,t){return n.call.apply(n.bind,arguments)}function Nq(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Qi(n,e,t){return(Qi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pq:Nq).apply(null,arguments)}function AT(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Xi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[i].apply(r,u)}}function rh(){this.s=this.s,this.o=this.o}var Lq={};rh.prototype.s=!1,rh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function kq(n){return Object.prototype.hasOwnProperty.call(n,RR)&&n[RR]||(n[RR]=++Oq)}(this);delete Lq[n]}},rh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sV=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},oV=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function aV(n){return Array.prototype.concat.apply([],arguments)}function kR(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function MT(n){return/^[\s\xa0]*$/.test(n)}var $s,lV=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function zs(n,e){return-1!=n.indexOf(e)}function OR(n,e){return n<e?-1:n>e?1:0}e:{var uV=Wt.navigator;if(uV){var cV=uV.userAgent;if(cV){$s=cV;break e}}$s=""}function PR(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function dV(n){const e={};for(const t in n)e[t]=n[t];return e}var hV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fV(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<hV.length;s++)t=hV[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function NR(n){return NR[" "](n),n}NR[" "]=ST;var xT,n,Uq=zs($s,"Opera"),Um=zs($s,"Trident")||zs($s,"MSIE"),pV=zs($s,"Edge"),FR=pV||Um,gV=zs($s,"Gecko")&&!(zs($s.toLowerCase(),"webkit")&&!zs($s,"Edge"))&&!(zs($s,"Trident")||zs($s,"MSIE"))&&!zs($s,"Edge"),jq=zs($s.toLowerCase(),"webkit")&&!zs($s,"Edge");function mV(){var n=Wt.document;return n?n.documentMode:void 0}e:{var LR="",VR=(n=$s,gV?/rv:([^\);]+)(\)|;)/.exec(n):pV?/Edge\/([\d\.]+)/.exec(n):Um?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):jq?/WebKit\/(\S+)/.exec(n):Uq?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(VR&&(LR=VR?VR[1]:""),Um){var BR=mV();if(null!=BR&&BR>parseFloat(LR)){xT=String(BR);break e}}xT=LR}var Hq={};var zq=Wt.document&&Um&&(mV()||parseInt(xT,10))||void 0,$q=function(){if(!Wt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Wt.addEventListener("test",ST,e),Wt.removeEventListener("test",ST,e)}catch(t){}return n}();function _s(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Yb(n,e){if(_s.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(gV){e:{try{NR(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Wq[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Yb.Z.h.call(this)}}_s.prototype.h=function(){this.defaultPrevented=!0},Xi(Yb,_s);var Wq={2:"touch",3:"pen",4:"mouse"};Yb.prototype.h=function(){Yb.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Zb="closure_listenable_"+(1e6*Math.random()|0),qq=0;function Kq(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++qq,this.ca=this.fa=!1}function RT(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function kT(n){this.src=n,this.g={},this.h=0}function jR(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=sV(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(RT(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function HR(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}kT.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=HR(n,e,r,i);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new Kq(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var GR="closure_lm_"+(1e6*Math.random()|0),zR={};function yV(n,e,t,r,i){if(r&&r.once)return bV(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)yV(n,e[s],t,r,i);return null}return t=KR(t),n&&n[Zb]?n.N(e,t,Kb(r)?!!r.capture:!!r,i):vV(n,e,t,!1,r,i)}function vV(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var u=Kb(i)?!!i.capture:!!i,h=WR(n);if(h||(n[GR]=h=new kT(n)),(t=h.add(e,t,r,u,s)).proxy)return t;if(r=function Yq(){var e=Zq;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)$q||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(EV(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function bV(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)bV(n,e[s],t,r,i);return null}return t=KR(t),n&&n[Zb]?n.O(e,t,Kb(r)?!!r.capture:!!r,i):vV(n,e,t,!0,r,i)}function wV(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)wV(n,e[s],t,r,i);else r=Kb(r)?!!r.capture:!!r,t=KR(t),n&&n[Zb]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=HR(s=n.g[e],t,r,i))&&(RT(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=WR(n))&&(e=n.g[e.toString()],n=-1,e&&(n=HR(e,t,r,i)),(t=-1<n?e[n]:null)&&$R(t))}function $R(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Zb])jR(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(EV(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=WR(e))?(jR(t,n),0==t.h&&(t.src=null,e[GR]=null)):RT(n)}}}function EV(n){return n in zR?zR[n]:zR[n]="on"+n}function Zq(n,e){if(n.ca)n=!0;else{e=new Yb(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&$R(n),n=t.call(r,e)}return n}function WR(n){return(n=n[GR])instanceof kT?n:null}var qR="__closure_events_fn_"+(1e9*Math.random()>>>0);function KR(n){return"function"==typeof n?n:(n[qR]||(n[qR]=function(e){return n.handleEvent(e)}),n[qR])}function Oi(){rh.call(this),this.i=new kT(this),this.P=this,this.I=null}function Ji(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new _s(e,n);else if(e instanceof _s)e.target=e.target||n;else{var i=e;fV(e=new _s(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var u=e.g=t[s];i=OT(u,r,!0,e)&&i}if(i=OT(u=e.g=n,r,!0,e)&&i,i=OT(u,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=OT(u=e.g=t[s],r,!1,e)&&i}function OT(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var u=e[s];if(u&&!u.ca&&u.capture==t){var h=u.listener,p=u.ia||u.src;u.fa&&jR(n.i,u),i=!1!==h.call(p,r)&&i}}return i&&!r.defaultPrevented}Xi(Oi,rh),Oi.prototype[Zb]=!0,Oi.prototype.removeEventListener=function(n,e,t,r){wV(this,n,e,t,r)},Oi.prototype.M=function(){if(Oi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)RT(t[r]);delete n.g[e],n.h--}}this.I=null},Oi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Oi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var YR=Wt.JSON.stringify;function Qq(){var n=IV;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var QR,CV=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Jq,n=>n.reset());class Jq{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function e6(n){Wt.setTimeout(()=>{throw n},0)}function ZR(n,e){QR||function t6(){var n=Wt.Promise.resolve(void 0);QR=function(){n.then(n6)}}(),XR||(QR(),XR=!0),IV.add(n,e)}var XR=!1,IV=new class Xq{constructor(){this.h=this.g=null}add(e,t){const r=CV.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function n6(){for(var n;n=Qq();){try{n.h.call(n.g)}catch(t){e6(t)}var e=CV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}XR=!1}function PT(n,e){Oi.call(this),this.h=n||1,this.g=e||Wt,this.j=Qi(this.kb,this),this.l=Date.now()}function JR(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function ek(n,e,t){if("function"==typeof n)t&&(n=Qi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Qi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Wt.setTimeout(n,e||0)}function TV(n){n.g=ek(()=>{n.g=null,n.i&&(n.i=!1,TV(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Xi(PT,Oi),(mt=PT.prototype).da=!1,mt.S=null,mt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ji(this,"tick"),this.da&&(JR(this),this.start()))}},mt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},mt.M=function(){PT.Z.M.call(this),JR(this),delete this.g};class r6 extends rh{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:TV(this)}M(){super.M(),this.g&&(Wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qb(n){rh.call(this),this.h=n,this.g={}}Xi(Qb,rh);var DV=[];function SV(n,e,t,r){Array.isArray(t)||(t&&(DV[0]=t.toString()),t=DV);for(var i=0;i<t.length;i++){var s=yV(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function AV(n){PR(n.g,function(e,t){this.g.hasOwnProperty(t)&&$R(e)},n),n.g={}}function NT(){this.g=!0}function jm(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function a6(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<i.length;u++)i[u]=""}}}return YR(t)}catch(h){return e}}(n,t)+(r?" "+r:"")})}Qb.prototype.M=function(){Qb.Z.M.call(this),AV(this)},Qb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},NT.prototype.Aa=function(){this.g=!1},NT.prototype.info=function(){};var tp={},MV=null;function FT(){return MV=MV||new Oi}function xV(n){_s.call(this,tp.Ma,n)}function Xb(n){const e=FT();Ji(e,new xV(e,n))}function RV(n,e){_s.call(this,tp.STAT_EVENT,n),this.stat=e}function Ws(n){const e=FT();Ji(e,new RV(e,n))}function kV(n,e){_s.call(this,tp.Na,n),this.size=e}function Jb(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Wt.setTimeout(function(){n()},e)}tp.Ma="serverreachability",Xi(xV,_s),tp.STAT_EVENT="statevent",Xi(RV,_s),tp.Na="timingevent",Xi(kV,_s);var LT={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},OV={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function tk(){}function NV(){}tk.prototype.h=null;var ik,ew={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function nk(){_s.call(this,"d")}function rk(){_s.call(this,"c")}function VT(){}function tw(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Qb(this),this.P=l6,this.W=new PT(n=FR?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new FV}function FV(){this.i=null,this.g="",this.h=!1}Xi(nk,_s),Xi(rk,_s),Xi(VT,tk),VT.prototype.g=function(){return new XMLHttpRequest},VT.prototype.i=function(){return{}},ik=new VT;var l6=45e3,sk={},BT={};function ok(n,e,t){n.K=1,n.v=zT(yc(e)),n.s=t,n.U=!0,LV(n,null)}function LV(n,e){n.F=Date.now(),nw(n),n.A=yc(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),WV(t.h,"t",r),n.C=0,t=n.l.H,n.h=new FV,n.g=gB(n.l,t?e:null,!n.s),0<n.O&&(n.L=new r6(Qi(n.Ia,n,n.g),n.O)),SV(n.V,n.g,"readystatechange",n.gb),e=n.H?dV(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Xb(1),function i6(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var u="",h=s.split("&"),p=0;p<h.length;p++){var y=h[p].split("=");if(1<y.length){var E=y[0];y=y[1];var T=E.split("_");u=2<=T.length&&"type"==T[1]?u+(E+"=")+y+"&":u+(E+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function VV(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function BV(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=u6(n,t),i==BT){4==e&&(n.o=4,Ws(14),r=!1),jm(n.j,n.m,null,"[Incomplete Response]");break}if(i==sk){n.o=4,Ws(15),jm(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}jm(n.j,n.m,i,null),ak(n,i)}VV(n)&&i!=BT&&i!=sk&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ws(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),yk(e),e.L=!0,Ws(11))):(jm(n.j,n.m,t,"[Invalid Chunked Response]"),np(n),rw(n))}function u6(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?BT:(t=Number(e.substring(t,r)),isNaN(t)?sk:(r+=1)+t>e.length?BT:(e=e.substr(r,t),n.C=r+t,e))}function nw(n){n.Y=Date.now()+n.P,UV(n,n.P)}function UV(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Jb(Qi(n.eb,n),e)}function UT(n){n.B&&(Wt.clearTimeout(n.B),n.B=null)}function rw(n){0==n.l.G||n.I||dB(n.l,n)}function np(n){UT(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,JR(n.W),AV(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function ak(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||ck(t.i,n)))if(t.I=n.N,!n.J&&ck(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(y){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Jb(Qi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;ZT(t),KT(t)}_k(t),Ws(18)}if(1>=YV(t.i)&&t.ka){try{t.ka()}catch(y){}t.ka=void 0}}else sp(t,11)}else if((n.J||t.g==n)&&ZT(t),!MT(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let y=i[e];if(t.U=y[0],y=y[1],2==t.G)if("c"==y[0]){t.J=y[1],t.la=y[2];const E=y[3];null!=E&&(t.ma=E,t.h.info("VER="+t.ma));const T=y[4];null!=T&&(t.za=T,t.h.info("SVER="+t.za));const x=y[5];null!=x&&"number"==typeof x&&0<x&&(t.K=r=1.5*x,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const L=n.g;if(L){const G=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var s=r.i;!s.g&&(zs(G,"spdy")||zs(G,"quic")||zs(G,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(dk(s,s.h),s.h=null))}if(r.D){const he=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;he&&(r.sa=he,gr(r.F,r.D,he))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((r=t).oa=pB(r,r.H?r.la:null,r.W),u.J){ZV(r.i,u);var h=u,p=r.K;p&&h.setTimeout(p),h.B&&(UT(h),nw(h)),r.g=u}else uB(r);0<t.l.length&&YT(t)}else"stop"!=y[0]&&"close"!=y[0]||sp(t,7);else 3==t.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?sp(t,7):gk(t):"noop"!=y[0]&&t.j&&t.j.wa(y),t.A=0)}Xb(4)}catch(y){}}function lk(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(xR(n)||"string"==typeof n)oV(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(xR(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function c6(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(xR(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function Hm(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Hm)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function uk(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];rp(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)rp(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function rp(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(mt=tw.prototype).setTimeout=function(n){this.P=n},mt.gb=function(n){n=n.target;const e=this.L;e&&3==vc(n)?e.l():this.Ia(n)},mt.Ia=function(n){try{if(n==this.g)e:{const E=vc(this.g);var e=this.g.Da();const T=this.g.ba();if(!(3>E)&&(3!=E||FR||this.g&&(this.h.h||this.g.ga()||iB(this.g)))){this.I||4!=E||7==e||Xb(8==e||0>=T?3:2),UT(this);var t=this.g.ba();this.N=t;t:if(VV(this)){var r=iB(this.g);n="";var i=r.length,s=4==vc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){np(this),rw(this);var u="";break t}this.h.i=new Wt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function s6(n,e,t,r,i,s,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.X,E,t),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!MT(h)){var y=h;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,Ws(12),np(this),rw(this);break e}jm(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ak(this,t)}this.U?(BV(this,E,u),FR&&this.i&&3==E&&(SV(this.V,this.W,"tick",this.fb),this.W.start())):(jm(this.j,this.m,u,null),ak(this,u)),4==E&&np(this),this.i&&!this.I&&(4==E?dB(this.l,this):(this.i=!1,nw(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Ws(12)):(this.o=0,Ws(13)),np(this),rw(this)}}}catch(E){}},mt.fb=function(){if(this.g){var n=vc(this.g),e=this.g.ga();this.C<e.length&&(UT(this),BV(this,n,e),this.i&&4!=n&&nw(this))}},mt.cancel=function(){this.I=!0,np(this)},mt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function o6(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Xb(3),Ws(17)),np(this),this.o=2,rw(this)):UV(this,this.Y-n)},(mt=Hm.prototype).R=function(){uk(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},mt.T=function(){return uk(this),this.g.concat()},mt.get=function(n,e){return rp(this.h,n)?this.h[n]:e},mt.set=function(n,e){rp(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},mt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var jV=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ip(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ip){this.g=void 0!==e?e:n.g,jT(this,n.j),this.s=n.s,HT(this,n.i),GT(this,n.m),this.l=n.l,e=n.h;var t=new ow;t.i=e.i,e.g&&(t.g=new Hm(e.g),t.h=e.h),HV(this,t),this.o=n.o}else n&&(t=String(n).match(jV))?(this.g=!!e,jT(this,t[1]||"",!0),this.s=iw(t[2]||""),HT(this,t[3]||"",!0),GT(this,t[4]),this.l=iw(t[5]||"",!0),HV(this,t[6]||"",!0),this.o=iw(t[7]||"")):(this.g=!!e,this.h=new ow(null,this.g))}function yc(n){return new ip(n)}function jT(n,e,t){n.j=t?iw(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function HT(n,e,t){n.i=t?iw(e,!0):e}function GT(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function HV(n,e,t){e instanceof ow?(n.h=e,function v6(n,e){e&&!n.j&&(ih(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(zV(this,r),WV(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=sw(e,_6)),n.h=new ow(e,n.g))}function gr(n,e,t){n.h.set(e,t)}function zT(n){return gr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function iw(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function sw(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,p6),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function p6(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ip.prototype.toString=function(){var n=[],e=this.j;e&&n.push(sw(e,GV,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(sw(e,GV,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(sw(t,"/"==t.charAt(0)?m6:g6,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",sw(t,y6)),n.join("")};var GV=/[#\/\?@]/g,g6=/[#\?:]/g,m6=/[#\?]/g,_6=/[#\?@]/g,y6=/#/g;function ow(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ih(n){n.g||(n.g=new Hm,n.h=0,n.i&&function d6(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function zV(n,e){ih(n),e=Gm(n,e),rp(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,rp((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&uk(n)))}function $V(n,e){return ih(n),e=Gm(n,e),rp(n.g.h,e)}function WV(n,e,t){zV(n,e),0<t.length&&(n.i=null,n.g.set(Gm(n,e),kR(t)),n.h+=t.length)}function Gm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function qV(n){this.l=n||w6,n=Wt.PerformanceNavigationTiming?0<(n=Wt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Wt.g&&Wt.g.Ea&&Wt.g.Ea()&&Wt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(mt=ow.prototype).add=function(n,e){ih(this),this.i=null,n=Gm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},mt.forEach=function(n,e){ih(this),this.g.forEach(function(t,r){oV(t,function(i){n.call(e,i,r,this)},this)},this)},mt.T=function(){ih(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},mt.R=function(n){ih(this);var e=[];if("string"==typeof n)$V(this,n)&&(e=aV(e,this.g.get(Gm(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=aV(e,n[t])}return e},mt.set=function(n,e){return ih(this),this.i=null,$V(this,n=Gm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},mt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},mt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var u=i;""!==r[s]&&(u+="="+encodeURIComponent(String(r[s]))),n.push(u)}}return this.i=n.join("&")};var w6=10;function KV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function YV(n){return n.h?1:n.g?n.g.size:0}function ck(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function dk(n,e){n.g?n.g.add(e):n.h=e}function ZV(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function QV(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return kR(n.i)}function hk(){}function E6(){this.g=new hk}function C6(n,e,t){const r=t||"";try{lk(n,function(i,s){let u=i;Kb(i)&&(u=YR(i)),e.push(r+s+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $T(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function aw(n){this.l=n.$b||null,this.j=n.ib||!1}function WT(n,e){Oi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=fk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qV.prototype.cancel=function(){if(this.i=QV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},hk.prototype.stringify=function(n){return Wt.JSON.stringify(n,void 0)},hk.prototype.parse=function(n){return Wt.JSON.parse(n,void 0)},Xi(aw,tk),aw.prototype.g=function(){return new WT(this.l,this.j)},aw.prototype.i=function(n){return function(){return n}}({}),Xi(WT,Oi);var fk=0;function XV(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function lw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,uw(n)}function uw(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(mt=WT.prototype).open=function(n,e){if(this.readyState!=fk)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,uw(this)},mt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Wt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},mt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lw(this)),this.readyState=fk},mt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,uw(this)),this.g&&(this.readyState=3,uw(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Wt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;XV(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},mt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?lw(this):uw(this),3==this.readyState&&XV(this)}},mt.Ua=function(n){this.g&&(this.response=this.responseText=n,lw(this))},mt.Ta=function(n){this.g&&(this.response=n,lw(this))},mt.ha=function(){this.g&&lw(this)},mt.setRequestHeader=function(n,e){this.v.append(n,e)},mt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},mt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(WT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var T6=Wt.JSON.parse;function Jr(n){Oi.call(this),this.headers=new Hm,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=JV,this.K=this.L=!1}Xi(Jr,Oi);var JV="",D6=/^https?$/i,S6=["POST","PUT"];function M6(n){return"content-type"==n.toLowerCase()}function eB(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,tB(n),qT(n)}function tB(n){n.D||(n.D=!0,Ji(n,"complete"),Ji(n,"error"))}function nB(n){if(n.h&&void 0!==MR&&(!n.C[1]||4!=vc(n)||2!=n.ba()))if(n.v&&4==vc(n))ek(n.Fa,0,n);else if(Ji(n,"readystatechange"),4==vc(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.H).match(jV)[1]||null;if(!i&&Wt.self&&Wt.self.location){var s=Wt.self.location.protocol;i=s.substr(0,s.length-1)}r=!D6.test(i?i.toLowerCase():"")}t=r}if(t)Ji(n,"complete"),Ji(n,"success");else{n.m=6;try{var u=2<vc(n)?n.g.statusText:""}catch(p){u=""}n.j=u+" ["+n.ba()+"]",tB(n)}}finally{qT(n)}}}function qT(n,e){if(n.g){rB(n);const t=n.g,r=n.C[0]?ST:null;n.g=null,n.C=null,e||Ji(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function rB(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Wt.clearTimeout(n.A),n.A=null)}function vc(n){return n.g?n.g.readyState:0}function iB(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case JV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function pk(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function x6(n){let e="";return PR(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):gr(n,e,t))}function cw(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function sB(n){this.za=0,this.l=[],this.h=new NT,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=cw("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=cw("baseRetryDelayMs",5e3,n),this.$a=cw("retryDelaySeedMs",1e4,n),this.Ya=cw("forwardChannelMaxRetries",2,n),this.ra=cw("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new qV(n&&n.concurrentRequestLimit),this.Ca=new E6,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function gk(n){if(oB(n),3==n.G){var e=n.V++,t=yc(n.F);gr(t,"SID",n.J),gr(t,"RID",e),gr(t,"TYPE","terminate"),dw(n,t),(e=new tw(n,n.h,e,void 0)).K=2,e.v=zT(yc(t)),t=!1,Wt.navigator&&Wt.navigator.sendBeacon&&(t=Wt.navigator.sendBeacon(e.v.toString(),"")),!t&&Wt.Image&&((new Image).src=e.v,t=!0),t||(e.g=gB(e.l,null),e.g.ea(e.v)),e.F=Date.now(),nw(e)}fB(n)}function KT(n){n.g&&(yk(n),n.g.cancel(),n.g=null)}function oB(n){KT(n),n.u&&(Wt.clearTimeout(n.u),n.u=null),ZT(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Wt.clearTimeout(n.m),n.m=null)}function mk(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&YT(n)}function YT(n){KV(n.i)||n.m||(n.m=!0,ZR(n.Ha,n),n.C=0)}function aB(n,e){var t;t=e?e.m:n.V++;const r=yc(n.F);gr(r,"SID",n.J),gr(r,"RID",t),gr(r,"AID",n.U),dw(n,r),n.o&&n.s&&pk(r,n.o,n.s),t=new tw(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=lB(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),dk(n.i,t),ok(t,r,e)}function dw(n,e){n.j&&lk({},function(t,r){gr(e,r,t)})}function lB(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Qi(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const u=["count="+t];-1==s?0<t?(s=i[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);let h=!0;for(let p=0;p<t;p++){let y=i[p].h;const E=i[p].g;if(y-=s,0>y)s=Math.max(0,i[p].h-100),h=!1;else try{C6(E,u,"req"+y+"_")}catch(T){r&&r(E)}}if(h){r=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function uB(n){n.g||n.u||(n.Y=1,ZR(n.Ga,n),n.A=0)}function _k(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Jb(Qi(n.Ga,n),hB(n,n.A)),n.A++,0))}function yk(n){null!=n.B&&(Wt.clearTimeout(n.B),n.B=null)}function cB(n){n.g=new tw(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=yc(n.oa);gr(e,"RID","rpc"),gr(e,"SID",n.J),gr(e,"CI",n.N?"0":"1"),gr(e,"AID",n.U),dw(n,e),gr(e,"TYPE","xmlhttp"),n.o&&n.s&&pk(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=zT(yc(e)),t.s=null,t.U=!0,LV(t,n)}function ZT(n){null!=n.v&&(Wt.clearTimeout(n.v),n.v=null)}function dB(n,e){var t=null;if(n.g==e){ZT(n),yk(n),n.g=null;var r=2}else{if(!ck(n.i,e))return;t=e.D,ZV(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Ji(r=FT(),new kV(r,t,e,i)),YT(n)}else uB(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function R6(n,e){return!(YV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Jb(Qi(n.Ha,n,e),hB(n,n.C)),n.C++,0)))}(n,e)||2==r&&_k(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:sp(n,5);break;case 4:sp(n,10);break;case 3:sp(n,6);break;default:sp(n,2)}}function hB(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function sp(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Qi(n.jb,n);t||(t=new ip("//www.google.com/images/cleardot.gif"),Wt.location&&"http"==Wt.location.protocol||jT(t,"https"),zT(t)),function I6(n,e){const t=new NT;if(Wt.Image){const r=new Image;r.onload=AT($T,t,r,"TestLoadImage: loaded",!0,e),r.onerror=AT($T,t,r,"TestLoadImage: error",!1,e),r.onabort=AT($T,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=AT($T,t,r,"TestLoadImage: timeout",!1,e),Wt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ws(2);n.G=0,n.j&&n.j.va(e),fB(n),oB(n)}function fB(n){n.G=0,n.I=-1,n.j&&((0!=QV(n.i).length||0!=n.l.length)&&(n.i.i.length=0,kR(n.l),n.l.length=0),n.j.ua())}function pB(n,e,t){let r=function h6(n){return n instanceof ip?yc(n):new ip(n,void 0)}(t);if(""!=r.i)e&&HT(r,e+"."+r.i),GT(r,r.m);else{const i=Wt.location;r=function f6(n,e,t,r){var i=new ip(null,void 0);return n&&jT(i,n),e&&HT(i,e),t&&GT(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&PR(n.aa,function(i,s){gr(r,s,i)}),t=n.sa,(e=n.D)&&t&&gr(r,e,t),gr(r,"VER",n.ma),dw(n,r),r}function gB(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Jr(t&&n.Ba&&!n.qa?new aw({ib:!0}):n.qa)).L=n.H,e}function mB(){}function QT(){if(Um&&!(10<=Number(zq)))throw Error("Environmental error: no available transport.")}function Yo(n,e){Oi.call(this),this.g=new sB(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!MT(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!MT(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new zm(this)}function _B(n){nk.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function yB(){rk.call(this),this.status=1}function zm(n){this.g=n}(mt=Jr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ik.g(),this.C=function PV(n){return n.h||(n.h=n.i())}(this.u?this.u:ik),this.g.onreadystatechange=Qi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void eB(this,s)}n=t||"";const i=new Hm(this.headers);r&&lk(r,function(s,u){i.set(u,s)}),r=function Vq(n){e:{var e=M6;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Wt.FormData&&n instanceof Wt.FormData,!(0<=sV(S6,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,u){this.g.setRequestHeader(u,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{rB(this),0<this.B&&((this.K=function A6(n){return Um&&function Gq(){return function Bq(n){var e=Hq;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=lV(String(xT)).split("."),t=lV("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",s=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=OR(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||OR(0==i[2].length,0==s[2].length)||OR(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qi(this.pa,this)):this.A=ek(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){eB(this,s)}},mt.pa=function(){void 0!==MR&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ji(this,"timeout"),this.abort(8))},mt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ji(this,"complete"),Ji(this,"abort"),qT(this))},mt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qT(this,!0)),Jr.Z.M.call(this)},mt.Fa=function(){this.s||(this.F||this.v||this.l?nB(this):this.cb())},mt.cb=function(){nB(this)},mt.ba=function(){try{return 2<vc(this)?this.g.status:-1}catch(n){return-1}},mt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},mt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),T6(e)}},mt.Da=function(){return this.m},mt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(mt=sB.prototype).ma=8,mt.G=1,mt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},mt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new tw(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=dV(s),fV(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=lB(this,i,e),gr(t=yc(this.F),"RID",n),gr(t,"CVER",22),this.D&&gr(t,"X-HTTP-Session-Id",this.D),dw(this,t),this.o&&s&&pk(t,this.o,s),dk(this.i,i),this.Ra&&gr(t,"TYPE","init"),this.ja?(gr(t,"$req",e),gr(t,"SID","null"),i.$=!0,ok(i,t,null)):ok(i,t,e),this.G=2}}else 3==this.G&&(n?aB(this,n):0==this.l.length||KV(this.i)||aB(this))},mt.Ga=function(){if(this.u=null,cB(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Jb(Qi(this.bb,this),n)}},mt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ws(10),KT(this),cB(this))},mt.ab=function(){null!=this.v&&(this.v=null,KT(this),_k(this),Ws(19))},mt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ws(2)):(this.h.info("Failed to ping google.com"),Ws(1))},(mt=mB.prototype).xa=function(){},mt.wa=function(){},mt.va=function(){},mt.ua=function(){},mt.Oa=function(){},QT.prototype.g=function(n,e){return new Yo(n,e)},Xi(Yo,Oi),Yo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),ZR(Qi(n.hb,n,e))),Ws(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=pB(n,null,n.W),YT(n)},Yo.prototype.close=function(){gk(this.g)},Yo.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,mk(this.g,e)}else this.v?((e={}).__data__=YR(n),mk(this.g,e)):mk(this.g,n)},Yo.prototype.M=function(){this.g.j=null,delete this.j,gk(this.g),delete this.g,Yo.Z.M.call(this)},Xi(_B,nk),Xi(yB,rk),Xi(zm,mB),zm.prototype.xa=function(){Ji(this.g,"a")},zm.prototype.wa=function(n){Ji(this.g,new _B(n))},zm.prototype.va=function(n){Ji(this.g,new yB(n))},zm.prototype.ua=function(){Ji(this.g,"b")},QT.prototype.createWebChannel=QT.prototype.g,Yo.prototype.send=Yo.prototype.u,Yo.prototype.open=Yo.prototype.m,Yo.prototype.close=Yo.prototype.close,LT.NO_ERROR=0,LT.TIMEOUT=8,LT.HTTP_ERROR=6,OV.COMPLETE="complete",NV.EventType=ew,ew.OPEN="a",ew.CLOSE="b",ew.ERROR="c",ew.MESSAGE="d",Oi.prototype.listen=Oi.prototype.N,Jr.prototype.listenOnce=Jr.prototype.O,Jr.prototype.getLastError=Jr.prototype.La,Jr.prototype.getLastErrorCode=Jr.prototype.Da,Jr.prototype.getStatus=Jr.prototype.ba,Jr.prototype.getResponseJson=Jr.prototype.Qa,Jr.prototype.getResponseText=Jr.prototype.ga,Jr.prototype.send=Jr.prototype.ea;var k6=_c.createWebChannelTransport=function(){return new QT},O6=_c.getStatEventTarget=function(){return FT()},vk=_c.ErrorCode=LT,P6=_c.EventType=OV,N6=_c.Event=tp,vB=_c.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},F6=_c.FetchXmlHttpFactory=aw,XT=_c.WebChannel=NV,L6=_c.XhrIo=Jr;const bB="@firebase/firestore";class es{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}es.UNAUTHENTICATED=new es(null),es.GOOGLE_CREDENTIALS=new es("google-credentials-uid"),es.FIRST_PARTY=new es("first-party-uid"),es.MOCK_USER=new es("mock-user");let $m="9.8.0";const sh=new Da.Yd("@firebase/firestore");function bk(){return sh.logLevel}function Ze(n,...e){if(sh.logLevel<=Da.in.DEBUG){const t=e.map(wk);sh.debug(`Firestore (${$m}): ${n}`,...t)}}function ei(n,...e){if(sh.logLevel<=Da.in.ERROR){const t=e.map(wk);sh.error(`Firestore (${$m}): ${n}`,...t)}}function JT(n,...e){if(sh.logLevel<=Da.in.WARN){const t=e.map(wk);sh.warn(`Firestore (${$m}): ${n}`,...t)}}function wk(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function vt(n="Unexpected state"){const e=`FIRESTORE (${$m}) INTERNAL ASSERTION FAILED: `+n;throw ei(e),new Error(e)}function Ut(n,e){n||vt()}function ot(n,e){return n}const De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends j.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class wB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(es.UNAUTHENTICATED))}shutdown(){}}class U6{constructor(e){this.t=e,this.currentUser=es.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=y=>this.i!==i?(i=this.i,t(y)):Promise.resolve();let u=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Pi,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const y=u;e.enqueueRetryable((0,at.Z)(function*(){yield y.promise,yield s(r.currentUser)}))},p=y=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Pi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut("string"==typeof r.accessToken),new wB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ut(null===e||"string"==typeof e),new es(e)}}class j6{constructor(e,t,r){this.type="FirstParty",this.user=es.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class H6{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new j6(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(es.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G6{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=s=>{null!=s.error&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.p;return this.p=s.token,Ze("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ut("string"==typeof t.token),this.p=t.token,new EB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Zo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function z6(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Zo.A=-1;class CB{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=z6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function sn(n,e){return n<e?-1:n>e?1:0}function Wm(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class ti{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $e(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $e(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new $e(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ti.fromMillis(Date.now())}static fromDate(e){return ti.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ti(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sn(this.nanoseconds,e.nanoseconds):sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ot(e)}static min(){return new Ot(new ti(0,0))}static max(){return new Ot(new ti(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function TB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function op(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function DB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class hw{constructor(e,t,r){void 0===t?t=0:t>e.length&&vt(),void 0===r?r=e.length-t:r>e.length-t&&vt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===hw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hw?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),u=t.get(i);if(s<u)return-1;if(s>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class In extends hw{construct(e,t,r){return new In(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new $e(De.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new In(t)}static emptyPath(){return new In([])}}const $6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ni extends hw{construct(e,t,r){return new Ni(e,t,r)}static isValidIdentifier(e){return $6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ni.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ni(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new $e(De.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new $e(De.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new $e(De.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else"`"===h?(u=!u,i++):"."!==h||u?(r+=h,i++):(s(),i++)}if(s(),u)throw new $e(De.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ni(t)}static emptyPath(){return new Ni([])}}class qm{constructor(e){this.fields=e,e.sort(Ni.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wm(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class pi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new pi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new pi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pi.EMPTY_BYTE_STRING=new pi("");const W6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oh(n){if(Ut(!!n),"string"==typeof n){let e=0;const t=W6.exec(n);if(Ut(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nr(n.seconds),nanos:Nr(n.nanos)}}function Nr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ap(n){return"string"==typeof n?pi.fromBase64String(n):pi.fromUint8Array(n)}function Ek(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function SB(n){const e=n.mapValue.fields.__previous_value__;return Ek(e)?SB(e):e}function fw(n){const e=oh(n.mapValue.fields.__local_write_time__.timestampValue);return new ti(e.seconds,e.nanos)}class q6{constructor(e,t,r,i,s,u,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class ah{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ah("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ah&&e.projectId===this.projectId&&e.database===this.database}}function pw(n){return null==n}function gw(n){return 0===n&&1/n==-1/0}class nt{constructor(e){this.path=e}static fromPath(e){return new nt(In.fromString(e))}static fromName(e){return new nt(In.fromString(e).popFirst(5))}static empty(){return new nt(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===In.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return In.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new In(e.slice()))}}const lh_mapValue={fields:{__type__:{stringValue:"__max__"}}};function lp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ek(n)?4:kB(n)?9007199254740991:10:vt()}function yu(n,e){if(n===e)return!0;const t=lp(n);if(t!==lp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fw(n).isEqual(fw(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=oh(r.timestampValue),u=oh(i.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ap(n.bytesValue).isEqual(ap(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Nr(r.geoPointValue.latitude)===Nr(i.geoPointValue.latitude)&&Nr(r.geoPointValue.longitude)===Nr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Nr(r.integerValue)===Nr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Nr(r.doubleValue),u=Nr(i.doubleValue);return s===u?gw(s)===gw(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return Wm(n.arrayValue.values||[],e.arrayValue.values||[],yu);case 10:return function(r,i){const s=r.mapValue.fields||{},u=i.mapValue.fields||{};if(TB(s)!==TB(u))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===u[h]||!yu(s[h],u[h])))return!1;return!0}(n,e);default:return vt()}var i}function mw(n,e){return void 0!==(n.values||[]).find(t=>yu(t,e))}function uh(n,e){if(n===e)return 0;const t=lp(n),r=lp(e);if(t!==r)return sn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return sn(n.booleanValue,e.booleanValue);case 2:return function(i,s){const u=Nr(i.integerValue||i.doubleValue),h=Nr(s.integerValue||s.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return MB(n.timestampValue,e.timestampValue);case 4:return MB(fw(n),fw(e));case 5:return sn(n.stringValue,e.stringValue);case 6:return function(i,s){const u=ap(i),h=ap(s);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const u=i.split("/"),h=s.split("/");for(let p=0;p<u.length&&p<h.length;p++){const y=sn(u[p],h[p]);if(0!==y)return y}return sn(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const u=sn(Nr(i.latitude),Nr(s.latitude));return 0!==u?u:sn(Nr(i.longitude),Nr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const u=i.values||[],h=s.values||[];for(let p=0;p<u.length&&p<h.length;++p){const y=uh(u[p],h[p]);if(y)return y}return sn(u.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===lh_mapValue&&s===lh_mapValue)return 0;if(i===lh_mapValue)return 1;if(s===lh_mapValue)return-1;const u=i.fields||{},h=Object.keys(u),p=s.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let E=0;E<h.length&&E<y.length;++E){const T=sn(h[E],y[E]);if(0!==T)return T;const x=uh(u[h[E]],p[y[E]]);if(0!==x)return x}return sn(h.length,y.length)}(n.mapValue,e.mapValue);default:throw vt()}}function MB(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return sn(n,e);const t=oh(n),r=oh(e),i=sn(t.seconds,r.seconds);return 0!==i?i:sn(t.nanos,r.nanos)}function Km(n){return Ck(n)}function Ck(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=oh(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ap(n.bytesValue).toBase64():"referenceValue"in n?nt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const u of r.values||[])s?s=!1:i+=",",i+=Ck(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",u=!0;for(const h of i)u?u=!1:s+=",",s+=`${h}:${Ck(r.fields[h])}`;return s+"}"}(n.mapValue):vt();var e}function up(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ik(n){return!!n&&"integerValue"in n}function _w(n){return!!n&&"arrayValue"in n}function xB(n){return!!n&&"nullValue"in n}function RB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tD(n){return!!n&&"mapValue"in n}function yw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return op(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yw(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yw(n.arrayValue.values[t]);return e}return Object.assign({},n)}function kB(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class ys{constructor(e){this.value=e}static empty(){return new ys({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!tD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yw(t)}setAll(e){let t=Ni.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=yw(u):i.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());tD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];tD(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){op(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ys(yw(this.value))}}function NB(n){const e=[];return op(n.fields,(t,r)=>{const i=new Ni([t]);if(tD(r)){const s=NB(r.mapValue).fields;if(0===s.length)e.push(i);else for(const u of s)e.push(i.child(u))}else e.push(i)}),new qm(e)}class ir{constructor(e,t,r,i,s,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=u}static newInvalidDocument(e){return new ir(e,0,Ot.min(),Ot.min(),ys.empty(),0)}static newFoundDocument(e,t,r){return new ir(e,1,t,Ot.min(),r,0)}static newNoDocument(e,t){return new ir(e,2,t,Ot.min(),ys.empty(),0)}static newUnknownDocument(e,t){return new ir(e,3,t,Ot.min(),ys.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ys.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ys.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ir&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ir(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function Z6(n){return new Rl(n.readTime,n.key,-1)}class Rl{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Rl(Ot.min(),nt.empty(),-1)}static max(){return new Rl(Ot.max(),nt.empty(),-1)}}function LB(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=nt.comparator(n.documentKey,e.documentKey),0!==t?t:sn(n.largestBatchId,e.largestBatchId))}class zr{constructor(e,t){this.comparator=e,this.root=t||ts.EMPTY}insert(e,t){return new zr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ts.BLACK,null,null))}remove(e){return new zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ts.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new iD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new iD(this.root,e,this.comparator,!1)}getReverseIterator(){return new iD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new iD(this.root,e,this.comparator,!0)}}class iD{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ts{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:ts.RED,this.left=null!=i?i:ts.EMPTY,this.right=null!=s?s:ts.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ts(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ts.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ts.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ts.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ts.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const e=this.left.check();if(e!==this.right.check())throw vt();return e+(this.isRed()?0:1)}}ts.EMPTY=null,ts.RED=!0,ts.BLACK=!1,ts.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ts(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tr{constructor(e){this.comparator=e,this.data=new zr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new VB(this.data.getIterator())}getIteratorFrom(e){return new VB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new tr(this.comparator);return t.data=e,t}}class VB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Q6{constructor(e,t=null,r=[],i=[],s=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=u,this.endAt=h,this.P=null}}function BB(n,e=null,t=[],r=[],i=null,s=null,u=null){return new Q6(n,e,t,r,i,s,u)}function dp(n){const e=ot(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Km(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),pw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Km(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Km(r)).join(",")),e.P=t}return e.P}function bw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!o4(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!yu(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zB(n.startAt,e.startAt)&&zB(n.endAt,e.endAt)}function sD(n){return nt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ns extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new J6(e,t,r):"array-contains"===t?new n4(e,r):"in"===t?new r4(e,r):"not-in"===t?new i4(e,r):"array-contains-any"===t?new s4(e,r):new ns(e,t,r)}static V(e,t,r){return"in"===t?new e4(e,r):new t4(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(uh(t,this.value)):null!==t&&lp(this.value)===lp(t)&&this.v(uh(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class J6 extends ns{constructor(e,t,r){super(e,t,r),this.key=nt.fromName(r.referenceValue)}matches(e){const t=nt.comparator(e.key,this.key);return this.v(t)}}class e4 extends ns{constructor(e,t){super(e,"in",t),this.keys=HB(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class t4 extends ns{constructor(e,t){super(e,"not-in",t),this.keys=HB(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function HB(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>nt.fromName(r.referenceValue))}class n4 extends ns{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _w(t)&&mw(t.arrayValue,this.value)}}class r4 extends ns{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&mw(this.value.arrayValue,t)}}class i4 extends ns{constructor(e,t){super(e,"not-in",t)}matches(e){if(mw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!mw(this.value.arrayValue,t)}}class s4 extends ns{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_w(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>mw(this.value.arrayValue,r))}}class ch{constructor(e,t){this.position=e,this.inclusive=t}}class Zm{constructor(e,t="asc"){this.field=e,this.dir=t}}function o4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function GB(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],u=n.position[i];if(r=s.field.isKeyField()?nt.comparator(nt.fromName(u.referenceValue),t.key):uh(u,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function zB(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yu(n.position[t],e.position[t]))return!1;return!0}class bc{constructor(e,t=null,r=[],i=[],s=null,u="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=u,this.startAt=h,this.endAt=p,this.D=null,this.C=null}}function Qm(n){return new bc(n)}function Dk(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Sk(n){for(const e of n.filters)if(e.S())return e.field;return null}function Ak(n){return null!==n.collectionGroup}function Xm(n){const e=ot(n);if(null===e.D){e.D=[];const t=Sk(e),r=Dk(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Zm(t)),e.D.push(new Zm(Ni.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Zm(Ni.keyField(),s))}}}return e.D}function Oa(n){const e=ot(n);if(!e.C)if("F"===e.limitType)e.C=BB(e.path,e.collectionGroup,Xm(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Xm(e))t.push(new Zm(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ch(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ch(e.startAt.position,e.startAt.inclusive):null;e.C=BB(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function ww(n,e){return bw(Oa(n),Oa(e))&&n.limitType===e.limitType}function qB(n){return`${dp(Oa(n))}|lt:${n.limitType}`}function Mk(n){return`Query(target=${function X6(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Km(r.value)}`;var r}).join(", ")}]`),pw(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Km(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Km(t)).join(",")),`Target(${e})`}(Oa(n))}; limitType=${n.limitType})`}function xk(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):nt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,u){const h=GB(i,s,u);return i.inclusive?h<=0:h<0}(t.startAt,Xm(t),r)||t.endAt&&!function(i,s,u){const h=GB(i,s,u);return i.inclusive?h>=0:h>0}(t.endAt,Xm(t),r)));var t,r}function YB(n){return(e,t)=>{let r=!1;for(const i of Xm(n)){const s=l4(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function l4(n,e,t){const r=n.field.isKeyField()?nt.comparator(e.key,t.key):function(i,s,u){const h=s.data.field(i),p=u.data.field(i);return null!==h&&null!==p?uh(h,p):vt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return vt()}}function ZB(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gw(e)?"-0":e}}function QB(n){return{integerValue:""+n}}function XB(n,e){return function AB(n){return"number"==typeof n&&Number.isInteger(n)&&!gw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?QB(e):ZB(n,e)}class aD{constructor(){this._=void 0}}function u4(n,e,t){return n instanceof Jm?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof hp?eU(n,e):n instanceof fp?tU(n,e):function(r,i){const s=JB(r,i),u=nU(s)+nU(r.k);return Ik(s)&&Ik(r.k)?QB(u):ZB(r.M,u)}(n,e)}function c4(n,e,t){return n instanceof hp?eU(n,e):n instanceof fp?tU(n,e):t}function JB(n,e){return n instanceof e_?Ik(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Jm extends aD{}class hp extends aD{constructor(e){super(),this.elements=e}}function eU(n,e){const t=rU(e);for(const r of n.elements)t.some(i=>yu(i,r))||t.push(r);return{arrayValue:{values:t}}}class fp extends aD{constructor(e){super(),this.elements=e}}function tU(n,e){let t=rU(e);for(const r of n.elements)t=t.filter(i=>!yu(i,r));return{arrayValue:{values:t}}}class e_ extends aD{constructor(e,t){super(),this.M=e,this.k=t}}function nU(n){return Nr(n.integerValue||n.doubleValue)}function rU(n){return _w(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class h4{constructor(e,t){this.version=e,this.transformResults=t}}class ni{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class uD{}function f4(n,e,t){n instanceof Cw?function(r,i,s){const u=r.value.clone(),h=aU(r.fieldTransforms,i,s.transformResults);u.setAll(h),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof pp?function(r,i,s){if(!lD(r.precondition,i))return void i.convertToUnknownDocument(s.version);const u=aU(r.fieldTransforms,i,s.transformResults),h=i.data;h.setAll(oU(r)),h.setAll(u),i.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Rk(n,e,t){var i;n instanceof Cw?function(r,i,s){if(!lD(r.precondition,i))return;const u=r.value.clone(),h=lU(r.fieldTransforms,s,i);u.setAll(h),i.convertToFoundDocument(sU(i),u).setHasLocalMutations()}(n,e,t):n instanceof pp?function(r,i,s){if(!lD(r.precondition,i))return;const u=lU(r.fieldTransforms,s,i),h=i.data;h.setAll(oU(r)),h.setAll(u),i.convertToFoundDocument(sU(i),h).setHasLocalMutations()}(n,e,t):lD(n.precondition,i=e)&&i.convertToNoDocument(Ot.min())}function p4(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=JB(r.transform,i||null);null!=s&&(null==t&&(t=ys.empty()),t.set(r.field,s))}return t||null}function iU(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Wm(t,r,(i,s)=>function d4(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof hp&&r instanceof hp||t instanceof fp&&r instanceof fp?Wm(t.elements,r.elements,yu):t instanceof e_&&r instanceof e_?yu(t.k,r.k):t instanceof Jm&&r instanceof Jm);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function sU(n){return n.isFoundDocument()?n.version:Ot.min()}class Cw extends uD{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class pp extends uD{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function oU(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function aU(n,e,t){const r=new Map;Ut(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],u=s.transform,h=e.data.field(s.field);r.set(s.field,c4(u,h,t[i]))}return r}function lU(n,e,t){const r=new Map;for(const i of n){const s=i.transform,u=t.data.field(i.field);r.set(i.field,u4(s,u,e))}return r}class Iw extends uD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class kk extends uD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class g4{constructor(e){this.count=e}}var ri,Tn;function uU(n){switch(n){default:return vt();case De.CANCELLED:case De.UNKNOWN:case De.DEADLINE_EXCEEDED:case De.RESOURCE_EXHAUSTED:case De.INTERNAL:case De.UNAVAILABLE:case De.UNAUTHENTICATED:return!1;case De.INVALID_ARGUMENT:case De.NOT_FOUND:case De.ALREADY_EXISTS:case De.PERMISSION_DENIED:case De.FAILED_PRECONDITION:case De.ABORTED:case De.OUT_OF_RANGE:case De.UNIMPLEMENTED:case De.DATA_LOSS:return!0}}function cU(n){if(void 0===n)return ei("GRPC error has no .code"),De.UNKNOWN;switch(n){case ri.OK:return De.OK;case ri.CANCELLED:return De.CANCELLED;case ri.UNKNOWN:return De.UNKNOWN;case ri.DEADLINE_EXCEEDED:return De.DEADLINE_EXCEEDED;case ri.RESOURCE_EXHAUSTED:return De.RESOURCE_EXHAUSTED;case ri.INTERNAL:return De.INTERNAL;case ri.UNAVAILABLE:return De.UNAVAILABLE;case ri.UNAUTHENTICATED:return De.UNAUTHENTICATED;case ri.INVALID_ARGUMENT:return De.INVALID_ARGUMENT;case ri.NOT_FOUND:return De.NOT_FOUND;case ri.ALREADY_EXISTS:return De.ALREADY_EXISTS;case ri.PERMISSION_DENIED:return De.PERMISSION_DENIED;case ri.FAILED_PRECONDITION:return De.FAILED_PRECONDITION;case ri.ABORTED:return De.ABORTED;case ri.OUT_OF_RANGE:return De.OUT_OF_RANGE;case ri.UNIMPLEMENTED:return De.UNIMPLEMENTED;case ri.DATA_LOSS:return De.DATA_LOSS;default:return vt()}}(Tn=ri||(ri={}))[Tn.OK=0]="OK",Tn[Tn.CANCELLED=1]="CANCELLED",Tn[Tn.UNKNOWN=2]="UNKNOWN",Tn[Tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tn[Tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tn[Tn.NOT_FOUND=5]="NOT_FOUND",Tn[Tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tn[Tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tn[Tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tn[Tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tn[Tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tn[Tn.ABORTED=10]="ABORTED",Tn[Tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tn[Tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tn[Tn.INTERNAL=13]="INTERNAL",Tn[Tn.UNAVAILABLE=14]="UNAVAILABLE",Tn[Tn.DATA_LOSS=15]="DATA_LOSS";class dh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){op(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return DB(this.inner)}size(){return this.innerSize}}const m4=new zr(nt.comparator);function Pa(){return m4}const _4=new zr(nt.comparator);function Ok(...n){let e=_4;for(const t of n)e=e.insert(t.key,t);return e}function Tw(){return new dh(n=>n.toString(),(n,e)=>n.isEqual(e))}const y4=new zr(nt.comparator),v4=new tr(nt.comparator);function Bn(...n){let e=v4;for(const t of n)e=e.add(t);return e}const b4=new tr(sn);function cD(){return b4}class Dw{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Sw.createSynthesizedTargetChangeForCurrentChange(e,t)),new Dw(Ot.min(),r,cD(),Pa(),Bn())}}class Sw{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Sw(pi.EMPTY_BYTE_STRING,t,Bn(),Bn(),Bn())}}class dD{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class dU{constructor(e,t){this.targetId=e,this.$=t}}class hU{constructor(e,t,r=pi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class fU{constructor(){this.B=0,this.L=gU(),this.U=pi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Bn(),t=Bn(),r=Bn();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:vt()}}),new Sw(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=gU()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class w4{constructor(e){this.nt=e,this.st=new Map,this.it=Pa(),this.rt=pU(),this.ot=new tr(sn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:vt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const s=i.target;if(sD(s))if(0===r){const u=new nt(s.path);this.ct(t,u,ir.newNoDocument(u,Ot.min()))}else Ut(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((s,u)=>{const h=this.wt(u);if(h){if(s.current&&sD(h.target)){const p=new nt(h.target.path);null!==this.it.get(p)||this.It(u,p)||this.ct(u,p,ir.newNoDocument(p,e))}s.j&&(t.set(u,s.H()),s.J())}});let r=Bn();this.rt.forEach((s,u)=>{let h=!0;u.forEachWhile(p=>{const y=this.wt(p);return!y||2===y.purpose||(h=!1,!1)}),h&&(r=r.add(s))}),this.it.forEach((s,u)=>u.setReadTime(e));const i=new Dw(e,t,this.ot,this.it,r);return this.it=Pa(),this.rt=pU(),this.ot=new tr(sn),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new fU,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new tr(sn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Ze("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new fU),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function pU(){return new zr(nt.comparator)}function gU(){return new zr(nt.comparator)}const E4={asc:"ASCENDING",desc:"DESCENDING"},C4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class I4{constructor(e,t){this.databaseId=e,this.N=t}}function Aw(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mU(n,e){return n.N?e.toBase64():e.toUint8Array()}function T4(n,e){return Aw(n,e.toTimestamp())}function Fi(n){return Ut(!!n),Ot.fromTimestamp(function(e){const t=oh(e);return new ti(t.seconds,t.nanos)}(n))}function Pk(n,e){return(t=n,new In(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function _U(n){const e=In.fromString(n);return Ut(DU(e)),e}function Mw(n,e){return Pk(n.databaseId,e.path)}function vu(n,e){const t=_U(e);if(t.get(1)!==n.databaseId.projectId)throw new $e(De.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $e(De.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new nt(vU(t))}function Nk(n,e){return Pk(n.databaseId,e)}function xw(n){return new In(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vU(n){return Ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function bU(n,e,t){return{name:Mw(n,e),fields:t.value.mapValue.fields}}function EU(n,e){return{documents:[Nk(n,e.path)]}}function CU(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Nk(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Nk(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(p){if(0===p.length)return;const y=p.map(E=>function(T){if("=="===T.op){if(RB(T.value))return{unaryFilter:{field:t_(T.field),op:"IS_NAN"}};if(xB(T.value))return{unaryFilter:{field:t_(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(RB(T.value))return{unaryFilter:{field:t_(T.field),op:"IS_NOT_NAN"}};if(xB(T.value))return{unaryFilter:{field:t_(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:t_(T.field),op:R4(T.op),value:T.value}}}(E));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(p){if(0!==p.length)return p.map(y=>{return{field:t_((E=y).field),direction:x4(E.dir)};var E})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=(y=e.limit,n.N||pw(y)?y:{value:y});var y,h,p;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function IU(n){let e=function yU(n){const e=_U(n);return 4===e.length?In.emptyPath():vU(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ut(1===r);const E=t.from[0];E.allDescendants?i=E.collectionId:e=e.child(E.collectionId)}let s=[];t.where&&(s=TU(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(E=>{return new Zm(n_((T=E).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let h=null;t.limit&&(h=function(E){let T;return T="object"==typeof E?E.value:E,pw(T)?null:T}(t.limit));let p=null;var E;t.startAt&&(p=new ch((E=t.startAt).values||[],!!E.before));let y=null;return t.endAt&&(y=function(E){return new ch(E.values||[],!E.before)}(t.endAt)),function $B(n,e,t,r,i,s,u,h){return new bc(n,e,t,r,i,s,u,h)}(e,i,u,s,h,"F",p,y)}function TU(n){return n?void 0!==n.unaryFilter?[O4(n)]:void 0!==n.fieldFilter?[k4(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>TU(e)).reduce((e,t)=>e.concat(t)):vt():[]}function x4(n){return E4[n]}function R4(n){return C4[n]}function t_(n){return{fieldPath:n.canonicalString()}}function n_(n){return Ni.fromServerFormat(n.fieldPath)}function k4(n){return ns.create(n_(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(n.fieldFilter.op),n.fieldFilter.value)}function O4(n){switch(n.unaryFilter.op){case"IS_NAN":const e=n_(n.unaryFilter.field);return ns.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=n_(n.unaryFilter.field);return ns.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=n_(n.unaryFilter.field);return ns.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=n_(n.unaryFilter.field);return ns.create(i,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}function P4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function DU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}const kU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Se((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Se?t:Se.resolve(t)}catch(t){return Se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Se.reject(t)}static resolve(e){return new Se((t,r)=>{t(e)})}static reject(e){return new Se((t,r)=>{r(e)})}static waitFor(e){return new Se((t,r)=>{let i=0,s=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++s,u&&s===i&&t()},p=>r(p))}),u=!0,s===i&&t()})}static or(e){let t=Se.resolve(!1);for(const r of e)t=t.next(i=>i?Se.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}}function gp(n){return"IndexedDbTransactionError"===n.name}class Vk{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&f4(s,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Rk(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Rk(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ot.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Bn())}isEqual(e){return this.batchId===e.batchId&&Wm(this.mutations,e.mutations,(t,r)=>iU(t,r))&&Wm(this.baseMutations,e.baseMutations,(t,r)=>iU(t,r))}}class Bk{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ut(e.mutations.length===r.length);let i=y4;const s=e.mutations;for(let u=0;u<s.length;u++)i=i.insert(s[u].key,r[u].version);return new Bk(e,t,r,i)}}class Uk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hh{constructor(e,t,r,i,s=Ot.min(),u=Ot.min(),h=pi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(e){return new hh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new hh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new hh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class NU{constructor(e){this.Jt=e}}function jk(n){const e=IU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?function WB(n,e,t){return new bc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}(e,e.limit,"L"):e}class vp{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Nr(e.integerValue));else if("doubleValue"in e){const r=Nr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),gw(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(ap(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?kB(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):vt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),nt.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}vp.fe=new vp;class u8{constructor(){this.qe=new zk}addToCollectionParentIndex(e,t){return this.qe.add(t),Se.resolve()}getCollectionParents(e,t){return Se.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Se.resolve()}deleteFieldIndex(e,t){return Se.resolve()}getDocumentsMatchingTarget(e,t){return Se.resolve(null)}getIndexType(e,t){return Se.resolve(0)}getFieldIndexes(e,t){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,t){return Se.resolve(Rl.min())}updateCollectionGroup(e,t,r){return Se.resolve()}updateIndexEntries(e,t){return Se.resolve()}}class zk{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new tr(In.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tr(In.comparator)).toArray()}}new Uint8Array(0);class wo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new wo(e,wo.DEFAULT_COLLECTION_PERCENTILE,wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}wo.DEFAULT_COLLECTION_PERCENTILE=10,wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wo.DEFAULT=new wo(41943040,wo.DEFAULT_COLLECTION_PERCENTILE,wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wo.DISABLED=new wo(-1,0,0);class Ep{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Ep(0)}static yn(){return new Ep(-1)}}function Cp(n){return Wk.apply(this,arguments)}function Wk(){return Wk=(0,at.Z)(function*(n){if(n.code!==De.FAILED_PRECONDITION||n.message!==kU)throw n;Ze("LocalStore","Unexpectedly lost primary lease")}),Wk.apply(this,arguments)}class b8{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const s of t)s.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return nt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):Ak(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new nt(t)).next(r=>{let i=Ok();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let s=Ok();return this.indexManager.getCollectionParents(e,i).next(u=>Se.forEach(u,h=>{const p=(y=t,E=h.child(i),new bc(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,E;return this.zs(e,p,r).next(y=>{y.forEach((E,T)=>{s=s.insert(E,T)})})}).next(()=>s))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(s=>{for(const u of s)for(const h of u.mutations){const p=h.key;let y=i.get(p);null==y&&(y=ir.newInvalidDocument(p),i=i.insert(p,y)),Rk(h,y,u.localWriteTime),y.isFoundDocument()||(i=i.remove(p))}}).next(()=>(i.forEach((s,u)=>{xk(t,u)||(i=i.remove(s))}),i))}}class Zk{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=Bn(),i=Bn();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Zk(e,t.fromCache,r,i)}}class e2{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,i){return this.ti(e,t).next(s=>s||this.ei(e,t,i,r)).next(s=>s||this.ni(e,t))}ti(e,t){return Se.resolve(null)}ei(e,t,r,i){return function a4(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(Ot.min())?this.ni(e,t):this.Zs.Ks(e,r).next(s=>{const u=this.si(t,s);return this.ii(t,u,r,i)?this.ni(e,t):(bk()<=Da.in.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Mk(t)),this.ri(e,u,t,function FB(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ot.fromTimestamp(1e9===r?new ti(t+1,0):new ti(t,r));return new Rl(i,nt.empty(),e)}(i,-1)))})}si(e,t){let r=new tr(YB(e));return t.forEach((i,s)=>{xk(e,s)&&(r=r.add(s))}),r}ii(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ni(e,t){return bk()<=Da.in.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",Mk(t)),this.Zs.Qs(e,t,Rl.min())}ri(e,t,r,i){return this.Zs.Qs(e,r,i).next(s=>(t.forEach(u=>{s=s.insert(u.key,u)}),s))}}class w8{constructor(e,t,r,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new zr(sn),this.ai=new dh(s=>dp(s),bw),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new b8(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function n2(n,e){return Qk.apply(this,arguments)}function Qk(){return Qk=(0,at.Z)(function*(n,e){const t=ot(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(s=>(i=s,t.li(e),t.Bs.getAllMutationBatches(r))).next(s=>{const u=[],h=[];let p=Bn();for(const y of i){u.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of s){h.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return t.fi.Ks(r,p).next(y=>({di:y,removedBatchIds:u,addedBatchIds:h}))})})}),Qk.apply(this,arguments)}function E8(n,e){const t=ot(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.hi.newChangeBuffer({trackRemovals:!0});return function(u,h,p,y){const E=p.batch,T=E.keys();let x=Se.resolve();return T.forEach(L=>{x=x.next(()=>y.getEntry(h,L)).next(G=>{const he=p.docVersions.get(L);Ut(null!==he),G.version.compareTo(he)<0&&(E.applyToRemoteDocument(G,p),G.isValidDocument()&&(G.setReadTime(p.commitVersion),y.addEntry(G)))})}),x.next(()=>u.Bs.removeMutationBatch(h,E))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,i))})}function r2(n){const e=ot(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function C8(n,e){const t=ot(n),r=e.snapshotVersion;let i=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=t.hi.newChangeBuffer({trackRemovals:!0});i=t.ui;const h=[];e.targetChanges.forEach((y,E)=>{const T=i.get(E);if(!T)return;h.push(t.fs.removeMatchingKeys(s,y.removedDocuments,E).next(()=>t.fs.addMatchingKeys(s,y.addedDocuments,E)));let x=T.withSequenceNumber(s.currentSequenceNumber);var L,G,he;e.targetMismatches.has(E)?x=x.withResumeToken(pi.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,r)),i=i.insert(E,x),G=x,he=y,(0===(L=T).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8||he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0)&&h.push(t.fs.updateTargetData(s,x))});let p=Pa();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,y))}),h.push(function s2(n,e,t){let r=Bn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let s=Pa();return t.forEach((u,h)=>{const p=i.get(u);h.isNoDocument()&&h.version.isEqual(Ot.min())?(e.removeEntry(u,h.readTime),s=s.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||0===h.version.compareTo(p.version)&&p.hasPendingWrites?(e.addEntry(h),s=s.insert(u,h)):Ze("LocalStore","Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)}),s})}(s,u,e.documentUpdates).next(y=>{p=y})),!r.isEqual(Ot.min())){const y=t.fs.getLastRemoteSnapshotVersion(s).next(E=>t.fs.setTargetsMetadata(s,s.currentSequenceNumber,r));h.push(y)}return Se.waitFor(h).next(()=>u.apply(s)).next(()=>t.fi.Gs(s,p)).next(()=>p)}).then(s=>(t.ui=i,s))}function I8(n,e){const t=ot(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function o_(n,e){const t=ot(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(s=>s?(i=s,Se.resolve(i)):t.fs.allocateTargetId(r).next(u=>(i=new hh(e,u,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function a_(n,e,t){return Xk.apply(this,arguments)}function Xk(){return Xk=(0,at.Z)(function*(n,e,t){const r=ot(n),i=r.ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!gp(u))throw u;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),Xk.apply(this,arguments)}function wD(n,e,t){const r=ot(n);let i=Ot.min(),s=Bn();return r.persistence.runTransaction("Execute query","readonly",u=>function(h,p,y){const E=ot(h),T=E.ai.get(y);return void 0!==T?Se.resolve(E.ui.get(T)):E.fs.getTargetData(p,y)}(r,u,Oa(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(u,h.targetId).next(p=>{s=p})}).next(()=>r.oi.Qs(u,e,t?i:Ot.min(),t?s:Bn())).next(h=>(function l2(n,e,t){let r=Ot.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.ci.set(e,r)}(r,function KB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),h),{documents:h,_i:s})))}class S8{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return Se.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:Fi(r.createTime)}),Se.resolve()}getNamedQuery(e,t){return Se.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:jk(r.bundledQuery),readTime:Fi(r.readTime)}),Se.resolve();var r}}class A8{constructor(){this.overlays=new zr(nt.comparator),this.Ii=new Map}getOverlay(e,t){return Se.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Xt(e,t,s)}),Se.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ii.delete(r)),Se.resolve()}getOverlaysForCollection(e,t,r){const i=Tw(),s=t.length+1,u=new nt(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===s&&p.largestBatchId>r&&i.set(p.getKey(),p)}return Se.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new zr((y,E)=>y-E);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>r){let E=s.get(y.largestBatchId);null===E&&(E=Tw(),s=s.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const h=Tw(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>h.set(y,E)),!(h.size()>=i)););return Se.resolve(h)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const u=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Uk(t,r));let s=this.Ii.get(t);void 0===s&&(s=Bn(),this.Ii.set(t,s)),this.Ii.set(t,s.add(r.key))}}class tO{constructor(){this.Ti=new tr(Vi.Ei),this.Ai=new tr(Vi.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new Vi(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new Vi(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new nt(new In([])),r=new Vi(t,e),i=new Vi(t,e+1),s=[];return this.Ai.forEachInRange([r,i],u=>{this.Pi(u),s.push(u.key)}),s}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new nt(new In([])),r=new Vi(t,e),i=new Vi(t,e+1);let s=Bn();return this.Ai.forEachInRange([r,i],u=>{s=s.add(u.key)}),s}containsKey(e){const t=new Vi(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Vi{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return nt.comparator(e.key,t.key)||sn(e.Ci,t.Ci)}static Ri(e,t){return sn(e.Ci,t.Ci)||nt.comparator(e.key,t.key)}}class M8{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new tr(Vi.Ei)}checkEmpty(e){return Se.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const s=this.xi;this.xi++;const u=new Vk(s,t,r,i);this.Bs.push(u);for(const h of i)this.Ni=this.Ni.add(new Vi(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Se.resolve(u)}lookupMutationBatch(e,t){return Se.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Mi(t+1),s=i<0?0:i;return Se.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return Se.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vi(t,0),i=new Vi(t,Number.POSITIVE_INFINITY),s=[];return this.Ni.forEachInRange([r,i],u=>{const h=this.ki(u.Ci);s.push(h)}),Se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new tr(sn);return t.forEach(i=>{const s=new Vi(i,0),u=new Vi(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([s,u],h=>{r=r.add(h.Ci)})}),Se.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;nt.isDocumentKey(s)||(s=s.child(""));const u=new Vi(new nt(s),0);let h=new tr(sn);return this.Ni.forEachWhile(p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===i&&(h=h.add(p.Ci)),!0)},u),Se.resolve(this.Oi(h))}Oi(e){const t=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ut(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return Se.forEach(t.mutations,i=>{const s=new Vi(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new Vi(t,0),i=this.Ni.firstAfterOrEqual(r);return Se.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Se.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class x8{constructor(e){this.$i=e,this.docs=new zr(nt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,u=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Se.resolve(r?r.document.mutableCopy():ir.newInvalidDocument(t))}getEntries(e,t){let r=Pa();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ir.newInvalidDocument(i))}),Se.resolve(r)}getAllFromCollection(e,t,r){let i=Pa();const s=new nt(t.child("")),u=this.docs.getIteratorFrom(s);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||LB(Z6(p),r)<=0||(i=i.insert(p.key,p.mutableCopy()))}return Se.resolve(i)}getAllFromCollectionGroup(e,t,r,i){vt()}Bi(e,t){return Se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new R8(this)}getSize(e){return Se.resolve(this.size)}}class R8 extends class m8{constructor(){this.changes=new dh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ir.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),Se.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class k8{constructor(e){this.persistence=e,this.Li=new dh(t=>dp(t),bw),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.Ui=0,this.qi=new tO,this.targetCount=0,this.Ki=Ep.gn()}forEachTarget(e,t){return this.Li.forEach((r,i)=>t(i)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),Se.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new Ep(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Se.resolve()}updateTargetData(e,t){return this.Tn(t),Se.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Li.forEach((u,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.Li.delete(u),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),Se.waitFor(s).next(()=>i)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return Se.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),Se.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(u=>{s.push(i.markPotentiallyOrphaned(e,u))}),Se.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),Se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return Se.resolve(r)}containsKey(e,t){return Se.resolve(this.qi.containsKey(t))}}class O8{constructor(e,t){this.Gi={},this.overlays={},this.es=new Zo(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new k8(this),this.indexManager=new u8,this.ds=new x8(r=>this.referenceDelegate.Qi(r)),this.M=new NU(t),this._s=new S8(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new A8,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new M8(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Ze("MemoryPersistence","Starting transaction:",e);const i=new P8(this.es.next());return this.referenceDelegate.ji(),r(i).next(s=>this.referenceDelegate.Wi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zi(e,t){return Se.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class P8 extends class J4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class nO{constructor(e){this.persistence=e,this.Hi=new tO,this.Ji=null}static Yi(e){return new nO(e)}get Xi(){if(this.Ji)return this.Ji;throw vt()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),Se.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),Se.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.Xi,r=>{const i=nt.fromPath(r);return this.Zi(e,i).next(s=>{s||t.removeEntry(i,Ot.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return Se.or([()=>Se.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}class sO{constructor(){this.activeTargetIds=cD()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d2{constructor(){this.Ur=new sO,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new sO,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class N8{Kr(e){}shutdown(){}}class h2{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const F8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class L8{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class V8 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,s){const u=this.ho(e,t);Ze("RestConnection","Sending: ",u,r);const h={};return this.lo(h,i,s),this.fo(e,u,h,r).then(p=>(Ze("RestConnection","Received: ",p),p),p=>{throw JT("RestConnection",`${e} failed with error: `,p,"url: ",u,"request:",r),p})}_o(e,t,r,i,s){return this.co(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+$m,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.uo}/v1/${t}:${F8[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,u)=>{const h=new L6;h.listenOnce(P6.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case vk.NO_ERROR:const y=h.getResponseJson();Ze("Connection","XHR received:",JSON.stringify(y)),s(y);break;case vk.TIMEOUT:Ze("Connection",'RPC "'+e+'" timed out'),u(new $e(De.DEADLINE_EXCEEDED,"Request time out"));break;case vk.HTTP_ERROR:const E=h.getStatus();if(Ze("Connection",'RPC "'+e+'" failed with status:',E,"response text:",h.getResponseText()),E>0){const T=h.getResponseJson().error;if(T&&T.status&&T.message){const x=function(L){const G=L.toLowerCase().replace(/_/g,"-");return Object.values(De).indexOf(G)>=0?G:De.UNKNOWN}(T.status);u(new $e(x,T.message))}else u(new $e(De.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new $e(De.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{Ze("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(i);h.send(t,"POST",p,r,15)})}wo(e,t,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=k6(),u=O6(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new F6({})),this.lo(h.initMessageHeaders,t,r),(0,j.uI)()||(0,j.b$)()||(0,j.d)()||(0,j.w1)()||(0,j.Mn)()||(0,j.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const p=i.join("");Ze("Connection","Creating WebChannel: "+p,h);const y=s.createWebChannel(p,h);let E=!1,T=!1;const x=new L8({Jr:G=>{T?Ze("Connection","Not sending because WebChannel is closed:",G):(E||(Ze("Connection","Opening WebChannel transport."),y.open(),E=!0),Ze("Connection","WebChannel sending:",G),y.send(G))},Yr:()=>y.close()}),L=(G,he,Te)=>{G.listen(he,rt=>{try{Te(rt)}catch(st){setTimeout(()=>{throw st},0)}})};return L(y,XT.EventType.OPEN,()=>{T||Ze("Connection","WebChannel transport opened.")}),L(y,XT.EventType.CLOSE,()=>{T||(T=!0,Ze("Connection","WebChannel transport closed"),x.ro())}),L(y,XT.EventType.ERROR,G=>{T||(T=!0,JT("Connection","WebChannel transport errored:",G),x.ro(new $e(De.UNAVAILABLE,"The operation could not be completed")))}),L(y,XT.EventType.MESSAGE,G=>{var he;if(!T){const Te=G.data[0];Ut(!!Te);const rt=Te,st=rt.error||(null===(he=rt[0])||void 0===he?void 0:he.error);if(st){Ze("Connection","WebChannel received error:",st);const ct=st.status;let it=function(jt){const Sn=ri[jt];if(void 0!==Sn)return cU(Sn)}(ct),zt=st.message;void 0===it&&(it=De.INTERNAL,zt="Unknown error status: "+ct+" with message "+st.message),T=!0,x.ro(new $e(it,zt)),y.close()}else Ze("Connection","WebChannel received:",Te),x.oo(Te)}}),L(u,N6.STAT_EVENT,G=>{G.stat===vB.PROXY?Ze("Connection","Detected buffering proxy"):G.stat===vB.NOPROXY&&Ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.io()},0),x}}function ID(){return"undefined"!=typeof document?document:null}function Uw(n){return new I4(n,!0)}class aO{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class p2{constructor(e,t,r,i,s,u,h,p){this.Yn=e,this.Vo=r,this.vo=i,this.So=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new aO(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,at.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,at.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,at.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===De.RESOURCE_EXHAUSTED?(ei(t.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===De.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new $e(De.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro((0,at.Z)(function*(){e.state=0,e.start()}))}jo(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B8 extends p2{constructor(e,t,r,i,s,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.M=s}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function S4(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:vt(),i=e.targetChange.targetIds||[],s=function(p,y){return p.N?(Ut(void 0===y||"string"==typeof y),pi.fromBase64String(y||"")):(Ut(void 0===y||y instanceof Uint8Array),pi.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const y=void 0===p.code?De.UNKNOWN:cU(p.code);return new $e(y,p.message||"")}(u);t=new hU(r,i,s,h||null)}else if("documentChange"in e){const r=e.documentChange,i=vu(n,r.document.name),s=Fi(r.document.updateTime),u=new ys({mapValue:{fields:r.document.fields}}),h=ir.newFoundDocument(i,s,u);t=new dD(r.targetIds||[],r.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const r=e.documentDelete,i=vu(n,r.document),s=r.readTime?Fi(r.readTime):Ot.min(),u=ir.newNoDocument(i,s);t=new dD([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=vu(n,r.document);t=new dD([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return vt();{const r=e.filter,s=new g4(r.count||0);t=new dU(r.targetId,s)}}var p;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Ot.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Ot.min():s.readTime?Fi(s.readTime):Ot.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=xw(this.M),t.addTarget=function(i,s){let u;const h=s.target;return u=sD(h)?{documents:EU(i,h)}:{query:CU(i,h)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?u.resumeToken=mU(i,s.resumeToken):s.snapshotVersion.compareTo(Ot.min())>0&&(u.readTime=Aw(i,s.snapshotVersion.toTimestamp())),u}(this.M,e);const r=function M4(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=xw(this.M),t.removeTarget=e,this.Lo(t)}}class U8 extends p2{constructor(e,t,r,i,s,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.M=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function A4(n,e){return n&&n.length>0?(Ut(void 0!==e),n.map(t=>function(r,i){let s=Fi(r.updateTime?r.updateTime:i);return s.isEqual(Ot.min())&&(s=Fi(i)),new h4(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Fi(e.commitTime);return this.listener.tu(r,t)}return Ut(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=xw(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Rw(n,e){let t;if(e instanceof Cw)t={update:bU(n,e.key,e.value)};else if(e instanceof Iw)t={delete:Mw(n,e.key)};else if(e instanceof pp)t={update:bU(n,e.key,e.data),updateMask:P4(e.fieldMask)};else{if(!(e instanceof kk))return vt();t={verify:Mw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const u=s.transform;if(u instanceof Jm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof hp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof fp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof e_)return{fieldPath:s.field.canonicalString(),increment:u.k};throw vt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:T4(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:vt()),t;var i}(this.M,r))};this.Lo(t)}}class j8 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new $e(De.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So.co(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $e(De.UNKNOWN,i.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So._o(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $e(De.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class H8{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(ei(t),this.uu=!1):Ze("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class G8{constructor(e,t,r,i,s){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr(h=>{r.enqueueAndForget((0,at.Z)(function*(){var p;gh(u)&&(Ze("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,at.Z)(function*(y){const E=ot(y);E.wu.add(4),yield l_(E),E.yu.set("Unknown"),E.wu.delete(4),yield jw(E)}),function(y){return p.apply(this,arguments)})(u))}))}),this.yu=new H8(r,i)}}function jw(n){return lO.apply(this,arguments)}function lO(){return lO=(0,at.Z)(function*(n){if(gh(n))for(const e of n.mu)yield e(!0)}),lO.apply(this,arguments)}function l_(n){return uO.apply(this,arguments)}function uO(){return uO=(0,at.Z)(function*(n){for(const e of n.mu)yield e(!1)}),uO.apply(this,arguments)}function TD(n,e){const t=ot(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),hO(t)?dO(t):c_(t).Mo()&&cO(t,e))}function Hw(n,e){const t=ot(n),r=c_(t);t._u.delete(e),r.Mo()&&g2(t,e),0===t._u.size&&(r.Mo()?r.$o():gh(t)&&t.yu.set("Unknown"))}function cO(n,e){n.pu.Z(e.targetId),c_(n).Ho(e)}function g2(n,e){n.pu.Z(e),c_(n).Jo(e)}function dO(n){n.pu=new w4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),c_(n).start(),n.yu.au()}function hO(n){return gh(n)&&!c_(n).ko()&&n._u.size>0}function gh(n){return 0===ot(n).wu.size}function m2(n){n.pu=void 0}function z8(n){return fO.apply(this,arguments)}function fO(){return fO=(0,at.Z)(function*(n){n._u.forEach((e,t)=>{cO(n,e)})}),fO.apply(this,arguments)}function $8(n,e){return pO.apply(this,arguments)}function pO(){return pO=(0,at.Z)(function*(n,e){m2(n),hO(n)?(n.yu.lu(e),dO(n)):n.yu.set("Unknown")}),pO.apply(this,arguments)}function W8(n,e,t){return gO.apply(this,arguments)}function gO(){return gO=(0,at.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof hU&&2===e.state&&e.cause)try{yield(r=(0,at.Z)(function*(i,s){const u=s.cause;for(const h of s.targetIds)i._u.has(h)&&(yield i.remoteSyncer.rejectListen(h,u),i._u.delete(h),i.pu.removeTarget(h))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield DD(n,r)}else if(e instanceof dD?n.pu.ut(e):e instanceof dU?n.pu._t(e):n.pu.ht(e),!t.isEqual(Ot.min()))try{const r=yield r2(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const u=i.pu.yt(s);return u.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=i._u.get(p);y&&i._u.set(p,y.withResumeToken(h.resumeToken,s))}}),u.targetMismatches.forEach(h=>{const p=i._u.get(h);if(!p)return;i._u.set(h,p.withResumeToken(pi.EMPTY_BYTE_STRING,p.snapshotVersion)),g2(i,h);const y=new hh(p.target,h,1,p.sequenceNumber);cO(i,y)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){Ze("RemoteStore","Failed to raise snapshot:",r),yield DD(n,r)}var r}),gO.apply(this,arguments)}function DD(n,e,t){return mO.apply(this,arguments)}function mO(){return mO=(0,at.Z)(function*(n,e,t){if(!gp(e))throw e;n.wu.add(1),yield l_(n),n.yu.set("Offline"),t||(t=()=>r2(n.localStore)),n.asyncQueue.enqueueRetryable((0,at.Z)(function*(){Ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield jw(n)}))}),mO.apply(this,arguments)}function _2(n,e){return e().catch(t=>DD(n,t,e))}function u_(n){return _O.apply(this,arguments)}function _O(){return _O=(0,at.Z)(function*(n){const e=ot(n),t=mh(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;q8(e);)try{const i=yield I8(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,K8(e,i)}catch(i){yield DD(e,i)}y2(e)&&v2(e)}),_O.apply(this,arguments)}function q8(n){return gh(n)&&n.du.length<10}function K8(n,e){n.du.push(e);const t=mh(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function y2(n){return gh(n)&&!mh(n).ko()&&n.du.length>0}function v2(n){mh(n).start()}function Y8(n){return yO.apply(this,arguments)}function yO(){return yO=(0,at.Z)(function*(n){mh(n).nu()}),yO.apply(this,arguments)}function Z8(n){return vO.apply(this,arguments)}function vO(){return vO=(0,at.Z)(function*(n){const e=mh(n);for(const t of n.du)e.Zo(t.mutations)}),vO.apply(this,arguments)}function Q8(n,e,t){return bO.apply(this,arguments)}function bO(){return bO=(0,at.Z)(function*(n,e,t){const r=n.du.shift(),i=Bk.from(r,e,t);yield _2(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield u_(n)}),bO.apply(this,arguments)}function X8(n,e){return wO.apply(this,arguments)}function wO(){return wO=(0,at.Z)(function*(n,e){var t;e&&mh(n).Xo&&(yield(t=(0,at.Z)(function*(r,i){if(uU(s=i.code)&&s!==De.ABORTED){const u=r.du.shift();mh(r).Fo(),yield _2(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield u_(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),y2(n)&&v2(n)}),wO.apply(this,arguments)}function b2(n,e){return EO.apply(this,arguments)}function EO(){return EO=(0,at.Z)(function*(n,e){const t=ot(n);t.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const r=gh(t);t.wu.add(3),yield l_(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield jw(t)}),EO.apply(this,arguments)}function IO(){return IO=(0,at.Z)(function*(n,e){const t=ot(n);e?(t.wu.delete(2),yield jw(t)):e||(t.wu.add(2),yield l_(t),t.yu.set("Unknown"))}),IO.apply(this,arguments)}function c_(n){return n.Iu||(n.Iu=function(e,t,r){const i=ot(e);return i.iu(),new B8(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:z8.bind(null,n),eo:$8.bind(null,n),zo:W8.bind(null,n)}),n.mu.push(function(){var e=(0,at.Z)(function*(t){t?(n.Iu.Fo(),hO(n)?dO(n):n.yu.set("Unknown")):(yield n.Iu.stop(),m2(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function mh(n){return n.Tu||(n.Tu=function(e,t,r){const i=ot(e);return i.iu(),new U8(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:Y8.bind(null,n),eo:X8.bind(null,n),eu:Z8.bind(null,n),tu:Q8.bind(null,n)}),n.mu.push(function(){var e=(0,at.Z)(function*(t){t?(n.Tu.Fo(),yield u_(n)):(yield n.Tu.stop(),n.du.length>0&&(Ze("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class TO{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,s){const u=Date.now()+r,h=new TO(e,t,u,i,s);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $e(De.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d_(n,e){if(ei("AsyncQueue",`${e}: ${n}`),gp(n))return new $e(De.UNAVAILABLE,`${e}: ${n}`);throw n}class h_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||nt.comparator(t.key,r.key):(t,r)=>nt.comparator(t.key,r.key),this.keyedMap=Ok(),this.sortedSet=new zr(this.comparator)}static emptySet(e){return new h_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof h_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new h_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class w2{constructor(){this.Eu=new zr(nt.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):vt():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class f_{constructor(e,t,r,i,s,u,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=p}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(u=>{s.push({type:0,doc:u})}),new f_(e,t,h_.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ww(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class J8{constructor(){this.Ru=void 0,this.listeners=[]}}class eK{constructor(){this.queries=new dh(e=>qB(e),ww),this.onlineState="Unknown",this.bu=new Set}}function SO(){return SO=(0,at.Z)(function*(n,e){const t=ot(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new J8),i)try{s.Ru=yield t.onListen(r)}catch(u){const h=d_(u,`Initialization of query '${Mk(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,s),s.listeners.push(e),e.Pu(t.onlineState),s.Ru&&e.Vu(s.Ru)&&xO(t)}),SO.apply(this,arguments)}function MO(){return MO=(0,at.Z)(function*(n,e){const t=ot(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const u=s.listeners.indexOf(e);u>=0&&(s.listeners.splice(u,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),MO.apply(this,arguments)}function tK(n,e){const t=ot(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const h of u.listeners)h.Vu(i)&&(r=!0);u.Ru=i}}r&&xO(t)}function nK(n,e,t){const r=ot(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function xO(n){n.bu.forEach(e=>{e.next()})}class RO{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new f_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=f_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class I2{constructor(e){this.key=e}}class T2{constructor(e){this.key=e}}class D2{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Bn(),this.mutatedKeys=Bn(),this.Gu=YB(e),this.Qu=new h_(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new w2,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const p="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,y="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((E,T)=>{const x=i.get(E),L=xk(this.query,T)?T:null,G=!!x&&this.mutatedKeys.has(x.key),he=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let Te=!1;x&&L?x.data.isEqual(L.data)?G!==he&&(r.track({type:3,doc:L}),Te=!0):this.Hu(x,L)||(r.track({type:2,doc:L}),Te=!0,(p&&this.Gu(L,p)>0||y&&this.Gu(L,y)<0)&&(h=!0)):!x&&L?(r.track({type:0,doc:L}),Te=!0):x&&!L&&(r.track({type:1,doc:x}),Te=!0,(p||y)&&(h=!0)),Te&&(L?(u=u.add(L),s=he?s.add(E):s.delete(E)):(u=u.delete(E),s=s.delete(E)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const E="F"===this.query.limitType?u.last():u.first();u=u.delete(E.key),s=s.delete(E.key),r.track({type:1,doc:E})}return{Qu:u,zu:r,ii:h,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((y,E)=>function(T,x){const L=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return L(T)-L(x)}(y.type,E.type)||this.Gu(y.doc,E.doc)),this.Ju(r);const u=t?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,p=h!==this.qu;return this.qu=h,0!==s.length||p?{snapshot:new f_(this.query,e.Qu,i,s,e.mutatedKeys,0===h,p,!1),Xu:u}:{Xu:u}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new w2,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Bn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new T2(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new I2(r))}),t}ta(e){this.Uu=e._i,this.Ku=Bn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return f_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class sK{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class oK{constructor(e){this.key=e,this.na=!1}}class aK{constructor(e,t,r,i,s,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.sa={},this.ia=new dh(h=>qB(h),ww),this.ra=new Map,this.oa=new Set,this.ua=new zr(nt.comparator),this.aa=new Map,this.ca=new tO,this.ha={},this.la=new Map,this.fa=Ep.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function lK(n,e){return kO.apply(this,arguments)}function kO(){return kO=(0,at.Z)(function*(n,e){const t=tP(n);let r,i;const s=t.ia.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ea();else{const u=yield o_(t.localStore,Oa(e));t.isPrimaryClient&&TD(t.remoteStore,u);const h=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield OO(t,e,r,"current"===h)}return i}),kO.apply(this,arguments)}function OO(n,e,t,r){return PO.apply(this,arguments)}function PO(){return PO=(0,at.Z)(function*(n,e,t,r){n._a=(E,T,x)=>{return(L=(0,at.Z)(function*(G,he,Te,rt){let st=he.view.Wu(Te);st.ii&&(st=yield wD(G.localStore,he.query,!1).then(({documents:zt})=>he.view.Wu(zt,st)));const ct=rt&&rt.targetChanges.get(he.targetId),it=he.view.applyChanges(st,G.isPrimaryClient,ct);return zO(G,he.targetId,it.Xu),it.snapshot}),function(G,he,Te,rt){return L.apply(this,arguments)})(n,E,T,x);var L};const i=yield wD(n.localStore,e,!0),s=new D2(e,i._i),u=s.Wu(i.documents),h=Sw.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),p=s.applyChanges(u,n.isPrimaryClient,h);zO(n,t,p.Xu);const y=new sK(e,t,s);return n.ia.set(e,y),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),p.snapshot}),PO.apply(this,arguments)}function uK(n,e){return NO.apply(this,arguments)}function NO(){return NO=(0,at.Z)(function*(n,e){const t=ot(n),r=t.ia.get(e),i=t.ra.get(r.targetId);if(i.length>1)return t.ra.set(r.targetId,i.filter(s=>!ww(s,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield a_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Hw(t.remoteStore,r.targetId),p_(t,r.targetId)}).catch(Cp))):(p_(t,r.targetId),yield a_(t.localStore,r.targetId,!0))}),NO.apply(this,arguments)}function FO(){return FO=(0,at.Z)(function*(n,e,t){const r=nP(n);try{const i=yield function(s,u){const h=ot(s),p=ti.now(),y=u.reduce((T,x)=>T.add(x.key),Bn());let E;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>h.fi.Ks(T,y).next(x=>{E=x;const L=[];for(const G of u){const he=p4(G,E.get(G.key));null!=he&&L.push(new pp(G.key,he,NB(he.value.mapValue),ni.exists(!0)))}return h.Bs.addMutationBatch(T,p,L,u)})).then(T=>(T.applyToLocalDocumentSet(E),{batchId:T.batchId,changes:E}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,u,h){let p=s.ha[s.currentUser.toKey()];p||(p=new zr(sn)),p=p.insert(u,h),s.ha[s.currentUser.toKey()]=p}(r,i.batchId,t),yield wc(r,i.changes),yield u_(r.remoteStore)}catch(i){const s=d_(i,"Failed to persist write");t.reject(s)}}),FO.apply(this,arguments)}function S2(n,e){return LO.apply(this,arguments)}function LO(){return LO=(0,at.Z)(function*(n,e){const t=ot(n);try{const r=yield C8(t.localStore,e);e.targetChanges.forEach((i,s)=>{const u=t.aa.get(s);u&&(Ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.na=!0:i.modifiedDocuments.size>0?Ut(u.na):i.removedDocuments.size>0&&(Ut(u.na),u.na=!1))}),yield wc(t,r,e)}catch(r){yield Cp(r)}}),LO.apply(this,arguments)}function A2(n,e,t){const r=ot(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ia.forEach((s,u)=>{const h=u.view.Pu(e);h.snapshot&&i.push(h.snapshot)}),function(s,u){const h=ot(s);h.onlineState=u;let p=!1;h.queries.forEach((y,E)=>{for(const T of E.listeners)T.Pu(u)&&(p=!0)}),p&&xO(h)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function dK(n,e,t){return VO.apply(this,arguments)}function VO(){return VO=(0,at.Z)(function*(n,e,t){const r=ot(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.aa.get(e),s=i&&i.key;if(s){let u=new zr(nt.comparator);u=u.insert(s,ir.newNoDocument(s,Ot.min()));const h=Bn().add(s),p=new Dw(Ot.min(),new Map,new tr(sn),u,h);yield S2(r,p),r.ua=r.ua.remove(s),r.aa.delete(e),$O(r)}else yield a_(r.localStore,e,!1).then(()=>p_(r,e,t)).catch(Cp)}),VO.apply(this,arguments)}function hK(n,e){return BO.apply(this,arguments)}function BO(){return BO=(0,at.Z)(function*(n,e){const t=ot(n),r=e.batch.batchId;try{const i=yield E8(t.localStore,e);GO(t,r,null),HO(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield wc(t,i)}catch(i){yield Cp(i)}}),BO.apply(this,arguments)}function fK(n,e,t){return UO.apply(this,arguments)}function UO(){return UO=(0,at.Z)(function*(n,e,t){const r=ot(n);try{const i=yield function(s,u){const h=ot(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.Bs.lookupMutationBatch(p,u).next(E=>(Ut(null!==E),y=E.keys(),h.Bs.removeMutationBatch(p,E))).next(()=>h.Bs.performConsistencyCheck(p)).next(()=>h.fi.Ks(p,y))})}(r.localStore,e);GO(r,e,t),HO(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield wc(r,i)}catch(i){yield Cp(i)}}),UO.apply(this,arguments)}function HO(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function GO(n,e,t){const r=ot(n);let i=r.ha[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function p_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||M2(n,r)})}function M2(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(Hw(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),$O(n))}function zO(n,e,t){for(const r of t)r instanceof I2?(n.ca.addReference(r.key,e),gK(n,r)):r instanceof T2?(Ze("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||M2(n,r.key)):vt()}function gK(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(Ze("SyncEngine","New document in limbo: "+t),n.oa.add(r),$O(n))}function $O(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new nt(In.fromString(e)),r=n.fa.next();n.aa.set(r,new oK(t)),n.ua=n.ua.insert(t,r),TD(n.remoteStore,new hh(Oa(Qm(t.path)),r,2,Zo.A))}}function wc(n,e,t){return WO.apply(this,arguments)}function WO(){return WO=(0,at.Z)(function*(n,e,t){const r=ot(n),i=[],s=[],u=[];var h;r.ia.isEmpty()||(r.ia.forEach((h,p)=>{u.push(r._a(p,e,t).then(y=>{if(y){r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,y.fromCache?"not-current":"current"),i.push(y);const E=Zk.Ys(p.targetId,y);s.push(E)}}))}),yield Promise.all(u),r.sa.zo(i),yield(h=(0,at.Z)(function*(p,y){const E=ot(p);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Se.forEach(y,x=>Se.forEach(x.Hs,L=>E.persistence.referenceDelegate.addReference(T,x.targetId,L)).next(()=>Se.forEach(x.Js,L=>E.persistence.referenceDelegate.removeReference(T,x.targetId,L)))))}catch(T){if(!gp(T))throw T;Ze("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const x=T.targetId;if(!T.fromCache){const L=E.ui.get(x),he=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);E.ui=E.ui.insert(x,he)}}}),function(p,y){return h.apply(this,arguments)})(r.localStore,s))}),WO.apply(this,arguments)}function mK(n,e){return qO.apply(this,arguments)}function qO(){return qO=(0,at.Z)(function*(n,e){const t=ot(n);if(!t.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const r=yield n2(t.localStore,e);t.currentUser=e,(i=t).la.forEach(u=>{u.forEach(h=>{h.reject(new $e(De.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield wc(t,r.di)}var i}),qO.apply(this,arguments)}function _K(n,e){const t=ot(n),r=t.aa.get(e);if(r&&r.na)return Bn().add(r.key);{let i=Bn();const s=t.ra.get(e);if(!s)return i;for(const u of s){const h=t.ia.get(u);i=i.unionWith(h.view.ju)}return i}}function tP(n){const e=ot(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=S2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_K.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dK.bind(null,e),e.sa.zo=tK.bind(null,e.eventManager),e.sa.wa=nK.bind(null,e.eventManager),e}function nP(n){const e=ot(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fK.bind(null,e),e}class DK{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,at.Z)(function*(){t.M=Uw(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return function t2(n,e,t,r){return new w8(n,e,t,r)}(this.persistence,new e2,e.initialUser,this.M)}ya(e){return new O8(nO.Yi,this.M)}ga(e){return new d2}terminate(){var e=this;return(0,at.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class rP{initialize(e,t){var r=this;return(0,at.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>A2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=mK.bind(null,r.syncEngine),yield function CO(n,e){return IO.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new eK}createDatastore(e){const t=Uw(e.databaseInfo.databaseId),r=new V8(e.databaseInfo);return new j8(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=h=>A2(this.syncEngine,h,0),u=h2.vt()?new h2:new N8,new G8(t,r,i,s,u);var t,r,i,s,u}createSyncEngine(e,t){return function(r,i,s,u,h,p,y){const E=new aK(r,i,s,u,h,p);return y&&(E.da=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,at.Z)(function*(t){const r=ot(t);Ze("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield l_(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class SD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class kK{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=es.UNAUTHENTICATED,this.clientId=CB.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,at.Z)(function*(h){Ze("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Ze("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,at.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $e(De.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,at.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=d_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function O2(n,e){return iP.apply(this,arguments)}function iP(){return iP=(0,at.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,at.Z)(function*(s){r.isEqual(s)||(yield n2(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),iP.apply(this,arguments)}function P2(n,e){return sP.apply(this,arguments)}function sP(){return sP=(0,at.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield oP(n);Ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>b2(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>b2(e.remoteStore,s)),n.onlineComponents=e}),sP.apply(this,arguments)}function oP(n){return aP.apply(this,arguments)}function aP(){return aP=(0,at.Z)(function*(n){return n.offlineComponents||(Ze("FirestoreClient","Using default OfflineComponentProvider"),yield O2(n,new DK)),n.offlineComponents}),aP.apply(this,arguments)}function AD(n){return lP.apply(this,arguments)}function lP(){return lP=(0,at.Z)(function*(n){return n.onlineComponents||(Ze("FirestoreClient","Using default OnlineComponentProvider"),yield P2(n,new rP)),n.onlineComponents}),lP.apply(this,arguments)}function g_(n){return dP.apply(this,arguments)}function dP(){return dP=(0,at.Z)(function*(n){const e=yield AD(n),t=e.eventManager;return t.onListen=lK.bind(null,e.syncEngine),t.onUnlisten=uK.bind(null,e.syncEngine),t}),dP.apply(this,arguments)}const B2=new Map;function hP(n,e,t){if(!t)throw new $e(De.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function U2(n){if(!nt.isDocumentKey(n))throw new $e(De.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function j2(n){if(nt.isDocumentKey(n))throw new $e(De.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function MD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":vt()}function Dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $e(De.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=MD(n);throw new $e(De.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class G2{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new $e(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new $e(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function jK(n,e,t,r){if(!0===e&&!0===r)throw new $e(De.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gw{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G2({}),this._settingsFrozen=!1,e instanceof ah?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new $e(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ah(i.options.projectId)}(e))}get app(){if(!this._app)throw new $e(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $e(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new V6;switch(t.type){case"gapi":const r=t.client;return Ut(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new H6(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new $e(De.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=B2.get(e);t&&(Ze("ComponentProvider","Removing Datastore"),B2.delete(e),t.terminate())}(this),Promise.resolve()}}class $r{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $r(this.firestore,e,this._key)}}class vs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vs(this.firestore,e,this._query)}}class wu extends vs{constructor(e,t,r){super(e,t,Qm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $r(this.firestore,null,new nt(e))}withConverter(e){return new wu(this.firestore,e,this._path)}}function z2(n,e,...t){if(n=(0,j.m9)(n),hP("collection","path",e),n instanceof Gw){const r=In.fromString(e,...t);return j2(r),new wu(n,null,r)}{if(!(n instanceof $r||n instanceof wu))throw new $e(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(In.fromString(e,...t));return j2(r),new wu(n.firestore,null,r)}}class GK{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new aO(this,"async_queue_retry"),this.Qa=()=>{const t=ID();t&&Ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=ID();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=ID();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new Pi;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,at.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!gp(t))throw t;Ze("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,ei("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=TO.createAndSchedule(this,e,t,r,s=>this.Ha(s));return this.La.push(i),i}ja(){this.Ua&&vt()}verifyOperationInProgress(){}Ja(){var e=this;return(0,at.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function fP(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class mr extends Gw{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new GK,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||W2(this),this._firestoreClient.terminate()}}function $K(n=(0,pr.getApp)()){return(0,pr._getProvider)(n,"firestore").getImmediate()}function gi(n){return n._firestoreClient||W2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function W2(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new q6(n._databaseId,s,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new kK(n._authCredentials,n._appCheckCredentials,n._queue,r)}class m_{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new $e(De.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tp(pi.fromBase64String(e))}catch(t){throw new $e(De.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Tp(pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Y2{constructor(e){this._methodName=e}}class pP{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $e(De.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $e(De.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sn(this._lat,e._lat)||sn(this._long,e._long)}}const WK=/^__.*__$/;class qK{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new pp(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cw(e,this.data,t,this.fieldTransforms)}}function Q2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class xD{constructor(e,t,r,i,s,u){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===s&&this.tc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new xD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return kD(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(Q2(this.ec)&&WK.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class KK{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Uw(e)}lc(e,t,r,i=!1){return new xD({ec:e,methodName:t,hc:r,path:Ni.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function __(n){const e=n._freezeSettings(),t=Uw(n._databaseId);return new KK(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gP(n,e,t,r,i,s={}){const u=n.lc(s.merge||s.mergeFields?2:0,e,t,i);_P("Data must be an object, but it was:",u,r);const h=nj(r,u);let p,y;if(s.merge)p=new qm(u.fieldMask),y=u.fieldTransforms;else if(s.mergeFields){const E=[];for(const T of s.mergeFields){const x=yP(e,T,t);if(!u.contains(x))throw new $e(De.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);ij(E,x)||E.push(x)}p=new qm(E),y=u.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,y=u.fieldTransforms;return new qK(new ys(h),p,y)}function Dp(n,e){if(rj(n=(0,j.m9)(n)))return _P("Unsupported field value:",e,n),nj(n,e);if(n instanceof Y2)return function(t,r){if(!Q2(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const u of t){let h=Dp(u,r.uc(s));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,j.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return XB(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=ti.fromDate(t);return{timestampValue:Aw(r.M,i)}}if(t instanceof ti){const i=new ti(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Aw(r.M,i)}}if(t instanceof pP)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Tp)return{bytesValue:mU(r.M,t._byteString)};if(t instanceof $r){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ac(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Pk(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${MD(t)}`)}(n,e)}function nj(n,e){const t={};return DB(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):op(n,(r,i)=>{const s=Dp(i,e.sc(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function rj(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ti||n instanceof pP||n instanceof Tp||n instanceof $r||n instanceof Y2)}function _P(n,e,t){if(!rj(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=MD(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function yP(n,e,t){if((e=(0,j.m9)(e))instanceof m_)return e._internalPath;if("string"==typeof e)return RD(n,e);throw kD("Field path arguments must be of type string or ",n,!1,void 0,t)}const XK=new RegExp("[~\\*/\\[\\]]");function RD(n,e,t){if(e.search(XK)>=0)throw kD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new m_(...e.split("."))._internalPath}catch(r){throw kD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kD(n,e,t,r,i){const s=r&&!r.isEmpty(),u=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||u)&&(p+=" (found",s&&(p+=` in field ${r}`),u&&(p+=` in document ${i}`),p+=")"),new $e(De.INVALID_ARGUMENT,h+n+p)}function ij(n,e){return n.some(t=>t.isEqual(e))}class vP{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $r(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new JK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(OD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class JK extends vP{data(){return super.data()}}function OD(n,e){return"string"==typeof e?RD(n,e):e instanceof m_?e._internalPath:e._delegate._internalPath}class Sp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class y_ extends vP{constructor(e,t,r,i,s,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new PD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(OD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class PD extends y_{data(e={}){return super.data(e)}}class v_{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Sp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new PD(this._firestore,this._userDataWriter,r.key,r,new Sp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $e(De.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new PD(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Sp(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const h=new PD(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Sp(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,y=-1;return 0!==u.type&&(p=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),y=s.indexOf(u.doc.key)),{type:e5(u.type),doc:h,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function e5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}class r5 extends class t5{}{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=__(e.firestore),r=function(i,s,u,h,p,y,E){let T;if(p.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new $e(De.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){dj(E,y);const L=[];for(const G of E)L.push(cj(h,i,G));T={arrayValue:{values:L}}}else T=cj(h,i,E)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||dj(E,y),T=function tj(n,e,t,r=!1){return Dp(t,n.lc(r?4:3,e))}(u,"where",E,"in"===y||"not-in"===y);const x=ns.create(p,y,T);return function(L,G){if(G.S()){const Te=Sk(L);if(null!==Te&&!Te.isEqual(G.field))throw new $e(De.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Te.toString()}' and '${G.field.toString()}'`);const rt=Dk(L);null!==rt&&function hj(n,e,t){if(!t.isEqual(e))throw new $e(De.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,G.field,rt)}const he=function(Te,rt){for(const st of Te.filters)if(rt.indexOf(st.op)>=0)return st.op;return null}(L,function(Te){switch(Te){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(G.op));if(null!==he)throw new $e(De.INVALID_ARGUMENT,he===G.op?`Invalid query. You cannot use more than one '${G.op.toString()}' filter.`:`Invalid query. You cannot use '${G.op.toString()}' filters with '${he.toString()}' filters.`)}(i,x),x}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new vs(e.firestore,e.converter,function(i,s){const u=i.filters.concat([s]);return new bc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function s5(n,e,t){const r=e,i=OD("where",n);return new r5(i,r,t)}function cj(n,e,t){if("string"==typeof(t=(0,j.m9)(t))){if(""===t)throw new $e(De.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ak(e)&&-1!==t.indexOf("/"))throw new $e(De.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(In.fromString(t));if(!nt.isDocumentKey(r))throw new $e(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return up(n,new nt(r))}if(t instanceof $r)return up(n,t._key);throw new $e(De.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${MD(t)}.`)}function dj(n,e){if(!Array.isArray(n)||0===n.length)throw new $e(De.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new $e(De.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}class Ap extends class l5{convertValue(e,t="none"){switch(lp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ap(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw vt()}}convertObject(e,t){const r={};return op(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new pP(Nr(e.latitude),Nr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=SB(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(fw(e));default:return null}}convertTimestamp(e){const t=oh(e);return new ti(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=In.fromString(e);Ut(DU(r));const i=new ah(r.get(1),r.get(3)),s=new nt(r.popFirst(5));return i.isEqual(t)||ei(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $r(this.firestore,null,t)}}function $w(n,e){return function(t,r){const i=new Pi;return t.asyncQueue.enqueueAndForget((0,at.Z)(function*(){return function cK(n,e,t){return FO.apply(this,arguments)}(yield function cP(n){return AD(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(gi(n),e)}!function(n,e=!0){$m=pr.SDK_VERSION,(0,pr._registerComponent)(new Hr.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=new mr(i,new U6(t.getProvider("auth-internal")),new G6(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),(0,pr.registerVersion)(bB,"3.4.9",n),(0,pr.registerVersion)(bB,"3.4.9","esm2017")}();var f5={includeMetadataChanges:!1};function EP(n,e){return void 0===e&&(e=f5),new Dr.y(function(t){var r=function d5(n,...e){var t,r,i;n=(0,j.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||fP(e[u])||(s=e[u],u++);const h={includeMetadataChanges:s.includeMetadataChanges};if(fP(e[u])){const T=e[u];e[u]=null===(t=T.next)||void 0===t?void 0:t.bind(T),e[u+1]=null===(r=T.error)||void 0===r?void 0:r.bind(T),e[u+2]=null===(i=T.complete)||void 0===i?void 0:i.bind(T)}let p,y,E;if(n instanceof $r)y=Dn(n.firestore,mr),E=Qm(n._key.path),p={next:T=>{e[u]&&e[u](function wP(n,e,t){const r=t.docs.get(e._key),i=new Ap(n);return new y_(n,i,e._key,r,new Sp(t.hasPendingWrites,t.fromCache),e.converter)}(y,n,T))},error:e[u+1],complete:e[u+2]};else{const T=Dn(n,vs);y=Dn(T.firestore,mr),E=T._query;const x=new Ap(y);p={next:L=>{e[u]&&e[u](new v_(y,x,T,L))},error:e[u+1],complete:e[u+2]},function sj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new $e(De.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(T,x,L,G){const he=new SD(G),Te=new RO(x,he,L);return T.asyncQueue.enqueueAndForget((0,at.Z)(function*(){return function DO(n,e){return SO.apply(this,arguments)}(yield g_(T),Te)})),()=>{he.Aa(),T.asyncQueue.enqueueAndForget((0,at.Z)(function*(){return function AO(n,e){return MO.apply(this,arguments)}(yield g_(T),Te)}))}}(gi(y),E,h,p)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function b5(n,e){return void 0===e&&(e={}),function v5(n){return EP(n,{includeMetadataChanges:!0}).pipe((0,xt.U)(function(e){return e.docs}))}(n).pipe((0,xt.U)(function(t){return t.map(function(r){return function pj(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class Ww{constructor(e){return e}}const yj="firestore",TP=new c.OlP("angularfire2.firestore-instances");function C5(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ww(r)}}const I5={provide:class w5{constructor(){return(0,An.vb)(yj)}},deps:[[new c.FiY,TP]]},T5={provide:Ww,useFactory:function E5(n,e){const t=(0,An.JM)(yj,n,e);return t&&new Ww(t)},deps:[[new c.FiY,TP],Bm]};let D5=(()=>{class n{constructor(){(0,eh.KN)("angularfire",An.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[T5,I5]}),n})();function S5(n,...e){return{ngModule:D5,providers:[{provide:TP,useFactory:C5(n),multi:!0,deps:[c.R0b,c.zs3,An.HU,ZF,[new c.FiY,iV],[new c.FiY,zb],...e]}]}}const vj=(0,An.u3)(b5,!0),A5=(0,An.u3)($K,!0),M5=(0,An.u3)(s5,!0);var x5=R(3014),R5=R.n(x5);let k5=(()=>{class n{constructor(){}searchProducts(t){return(0,at.Z)(function*(){return(yield R5().get("https://lomi.cl/api/v2/storefront/products?include=images%2Cvariants&keywords="+t+"&page=1&per_page=4")).data})()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bj="firebasestorage.googleapis.com",wj="storageBucket";class Fr extends j.ZR{constructor(e,t){super(DP(e),`Firebase Storage: ${t} (${DP(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fr.prototype)}_codeEquals(e){return DP(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function DP(n){return"storage/"+n}function SP(){return new Fr("unknown","An unknown error occurred, please check the error payload for server response.")}function Ej(){return new Fr("canceled","User canceled the upload/download.")}function Cj(){return new Fr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function b_(n){return new Fr("invalid-argument",n)}function Ij(){return new Fr("app-deleted","The Firebase app was deleted.")}function Tj(n){return new Fr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qw(n,e){return new Fr("invalid-format","String does not match format '"+n+"': "+e)}function Kw(n){throw new Fr("internal-error","Internal error: "+n)}class bs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=bs.makeFromUrl(e,t)}catch(i){return new bs(e,"")}if(""===r.path)return r;throw function H5(n){return new Fr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+i+"(/(.*))?$","i");function y(it){it.path_=decodeURIComponent(it.path)}const T=t.replace(/[.]/g,"\\."),ct=[{regex:h,indices:{bucket:1,path:3},postModify:function s(it){"/"===it.path.charAt(it.path.length-1)&&(it.path_=it.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${T}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:y},{regex:new RegExp(`^https?://${t===bj?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:y}];for(let it=0;it<ct.length;it++){const zt=ct[it],jt=zt.regex.exec(e);if(jt){let Wr=jt[zt.indices.path];Wr||(Wr=""),r=new bs(jt[zt.indices.bucket],Wr),zt.postModify(r);break}}if(null==r)throw function j5(n){return new Fr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class W5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function FD(n){return"string"==typeof n||n instanceof String}function Dj(n){return AP()&&n instanceof Blob}function AP(){return"undefined"!=typeof Blob}function MP(n,e,t,r){if(r<e)throw b_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw b_(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ec(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Sj(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var _h=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(_h||(_h={})),_h))();class X5{constructor(e,t,r,i,s,u,h,p,y,E,T){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,L)=>{this.resolve_=x,this.reject_=L,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,u=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function Y5(n){return void 0!==n}(p)?s():s(p)}catch(p){u(p)}else if(null!==h){const p=SP();p.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,p):p)}else u(i.canceled?this.appDelete_?Ij():Ej():function U5(){return new Fr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new LD(!1,null,!0)):this.backoffId_=function q5(n,e,t){let r=1,i=null,s=null,u=!1,h=0;function p(){return 2===h}let y=!1;function E(...Te){y||(y=!0,e.apply(null,Te))}function T(Te){i=setTimeout(()=>{i=null,n(L,p())},Te)}function x(){s&&clearTimeout(s)}function L(Te,...rt){if(y)return void x();if(Te)return x(),void E.call(null,Te,...rt);if(p()||u)return x(),void E.call(null,Te,...rt);let ct;r<64&&(r*=2),1===h?(h=2,ct=0):ct=1e3*(r+Math.random()),T(ct)}let G=!1;function he(Te){G||(G=!0,x(),!y&&(null!==i?(Te||(h=2),clearTimeout(i),T(0)):Te||(h=1)))}return T(0),s=setTimeout(()=>{u=!0,he(!0)},t),he}((r,i)=>{if(i)return void r(!1,new LD(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(u),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(u),this.pendingConnection_=null;const h=s.getErrorCode()===_h.NO_ERROR,p=s.getStatus();if(!h||this.isRetryStatusCode_(p)){const E=s.getErrorCode()===_h.ABORT;return void r(!1,new LD(!1,null,E))}const y=-1!==this.successCodes_.indexOf(p);r(!0,new LD(y,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function K5(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||s}}class LD{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function sY(...n){const e=function iY(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(AP())return new Blob(n);throw new Fr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Qo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xP{constructor(e,t){this.data=e,this.contentType=t||null}}function RP(n,e){switch(n){case Qo.RAW:return new xP(Aj(e));case Qo.BASE64:case Qo.BASE64URL:return new xP(Mj(n,e));case Qo.DATA_URL:return new xP(function uY(n){const e=new xj(n);return e.base64?Mj(Qo.BASE64,e.rest):function lY(n){let e;try{e=decodeURIComponent(n)}catch(t){throw qw(Qo.DATA_URL,"Malformed data URL.")}return Aj(e)}(e.rest)}(e),function cY(n){return new xj(n).contentType}(e))}throw SP()}function Aj(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Mj(n,e){switch(n){case Qo.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw qw(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Qo.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw qw(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function aY(n){return atob(n)}(e)}catch(i){throw qw(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class xj{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw qw(Qo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function dY(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Eu{constructor(e,t){let r=0,i="";Dj(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(Dj(this.data_)){const i=function oY(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Eu(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Eu(r,!0)}}static getBlob(...e){if(AP()){const t=e.map(r=>r instanceof Eu?r.data_:r);return new Eu(sY.apply(null,t))}{const t=e.map(u=>FD(u)?RP(Qo.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)i[s++]=u[h]}),new Eu(i,!0)}}uploadData(){return this.data_}}function kP(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function Q5(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Rj(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function pY(n,e){return e}class Ks{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||pY}}let VD=null;function Yw(){if(VD)return VD;const n=[];n.push(new Ks("bucket")),n.push(new Ks("generation")),n.push(new Ks("metageneration")),n.push(new Ks("name","fullPath",!0));const t=new Ks("name");t.xform=function e(s,u){return function gY(n){return!FD(n)||n.length<2?n:Rj(n)}(u)},n.push(t);const i=new Ks("size");return i.xform=function r(s,u){return void 0!==u?Number(u):u},n.push(i),n.push(new Ks("timeCreated")),n.push(new Ks("updated")),n.push(new Ks("md5Hash",null,!0)),n.push(new Ks("cacheControl",null,!0)),n.push(new Ks("contentDisposition",null,!0)),n.push(new Ks("contentEncoding",null,!0)),n.push(new Ks("contentLanguage",null,!0)),n.push(new Ks("contentType",null,!0)),n.push(new Ks("metadata","customMetadata",!0)),VD=n,VD}function kj(n,e,t){const r=kP(e);return null===r?null:function _Y(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const u=t[s];r[u.local]=u.xform(r,e[u.server])}return function mY(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new bs(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function OP(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const Oj="prefixes";class Cu{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Iu(n){if(!n)throw SP()}function BD(n,e){return function t(r,i){const s=kj(n,i,e);return Iu(null!==s),s}}function w_(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function V5(){return new Fr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function L5(){return new Fr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function F5(n){return new Fr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function B5(n){return new Fr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function Zw(n){const e=w_(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function N5(n){return new Fr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function Nj(n,e,t){const i=Ec(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Cu(i,"GET",BD(n,t),u);return h.errorHandler=Zw(e),h}function CY(n,e,t,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),r&&(s.pageToken=r),i&&(s.maxResults=i);const h=Ec(e.bucketOnlyServerUrl(),n.host,n._protocol),y=n.maxOperationRetryTime,E=new Cu(h,"GET",function wY(n,e){return function t(r,i){const s=function bY(n,e,t){const r=kP(t);return null===r?null:function vY(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[Oj])for(const i of t[Oj]){const s=i.replace(/\/$/,""),u=n._makeStorageReference(new bs(e,s));r.prefixes.push(u)}if(t.items)for(const i of t.items){const s=n._makeStorageReference(new bs(e,i.name));r.items.push(s)}return r}(n,e,r)}(n,e,i);return Iu(null!==s),s}}(n,e.bucket),y);return E.urlParams=s,E.errorHandler=w_(e),E}function Lj(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function SY(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class UD{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function PP(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(i){Iu(!1)}return Iu(!!t&&-1!==(e||["active"]).indexOf(t)),t}const RY={STATE_CHANGED:"state_changed"},Ys={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function NP(n){switch(n){case"running":case"pausing":case"canceling":return Ys.RUNNING;case"paused":return Ys.PAUSED;case"success":return Ys.SUCCESS;case"canceled":return Ys.CANCELED;default:return Ys.ERROR}}class kY{constructor(e,t,r){if(function Z5(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function E_(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class PY extends class OY{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_h.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_h.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_h.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Kw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Kw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Kw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Kw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Kw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Ol(){return new PY}class jj{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Yw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function AY(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),u=Lj(e,r,i),h={name:u.fullPath},p=Ec(s,n.host,n._protocol),E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},T=OP(u,t),G=new Cu(p,"POST",function L(he){let Te;PP(he);try{Te=he.getResponseHeader("X-Goog-Upload-URL")}catch(rt){Iu(!1)}return Iu(FD(Te)),Te},n.maxUploadRetryTime);return G.urlParams=h,G.headers=E,G.body=T,G.errorHandler=w_(e),G}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ol,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function MY(n,e,t,r){const p=new Cu(t,"POST",function s(y){const E=PP(y,["active","final"]);let T=null;try{T=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch(L){Iu(!1)}T||Iu(!1);const x=Number(T);return Iu(!isNaN(x)),new UD(x,r.size(),"final"===E)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=w_(e),p}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Ol,t,r);this._request=s,s.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new UD(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let u;try{u=function xY(n,e,t,r,i,s,u,h){const p=new UD(0,0);if(u?(p.current=u.current,p.total=u.total):(p.current=0,p.total=r.size()),r.size()!==p.total)throw function z5(){return new Fr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const y=p.total-p.current;let E=y;i>0&&(E=Math.min(E,i));const T=p.current,G={"X-Goog-Upload-Command":E===y?"upload, finalize":"upload","X-Goog-Upload-Offset":`${p.current}`},he=r.slice(T,T+E);if(null===he)throw Cj();const ct=new Cu(t,"POST",function Te(it,zt){const jt=PP(it,["active","final"]),Sn=p.current+E,Wr=r.size();let Xo;return Xo="final"===jt?BD(e,s)(it,zt):null,new UD(Sn,Wr,"final"===jt,Xo)},e.maxUploadRetryTime);return ct.headers=G,ct.body=he.uploadData(),ct.progressCallback=h||null,ct.errorHandler=w_(n),ct}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const h=this._ref.storage._makeRequest(u,Ol,i,s);this._request=h,h.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=Nj(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ol,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function Vj(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},p=function h(){let ct="";for(let it=0;it<2;it++)ct+=Math.random().toString().slice(2);return ct}();u["Content-Type"]="multipart/related; boundary="+p;const y=Lj(e,r,i),E=OP(y,t),L=Eu.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+E+"\r\n--"+p+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",r,"\r\n--"+p+"--");if(null===L)throw Cj();const G={name:y.fullPath},he=Ec(s,n.host,n._protocol),rt=n.maxUploadRetryTime,st=new Cu(he,"POST",BD(n,t),rt);return st.urlParams=G,st.headers=u,st.body=L.uploadData(),st.errorHandler=w_(e),st}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ol,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Ej(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=NP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new kY(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(NP(this._state)){case Ys.SUCCESS:E_(this._resolve.bind(null,this.snapshot))();break;case Ys.CANCELED:case Ys.ERROR:E_(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(NP(this._state)){case Ys.RUNNING:case Ys.PAUSED:e.next&&E_(e.next.bind(e,this.snapshot))();break;case Ys.SUCCESS:e.complete&&E_(e.complete.bind(e))();break;default:e.error&&E_(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Mp{constructor(e,t){this._service=e,this._location=t instanceof bs?t:bs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Mp(e,t)}get root(){const e=new bs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Rj(this._location.path)}get storage(){return this._service}get parent(){const e=function hY(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new bs(this._location.bucket,e);return new Mp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw Tj(e)}}function Gj(n,e,t){return FP.apply(this,arguments)}function FP(){return FP=(0,at.Z)(function*(n,e,t){const i=yield zj(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield Gj(n,e,i.nextPageToken))}),FP.apply(this,arguments)}function zj(n,e){null!=e&&"number"==typeof e.maxResults&&MP("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=CY(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Ol)}function WY(n){n._throwIfRoot("getDownloadURL");const e=function IY(n,e,t){const i=Ec(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Cu(i,"GET",function EY(n,e){return function t(r,i){const s=kj(n,i,e);return Iu(null!==s),function yY(n,e,t,r){const i=kP(e);if(null===i||!FD(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const u=encodeURIComponent;return s.split(",").map(y=>{const T=n.fullPath;return Ec("/b/"+u(n.bucket)+"/o/"+u(T),t,r)+Sj({alt:"media",token:y})})[0]}(s,i,n.host,n._protocol)}}(n,t),u);return h.errorHandler=Zw(e),h}(n.storage,n._location,Yw());return n.storage.makeRequestWithTokens(e,Ol).then(t=>{if(null===t)throw function $5(){return new Fr("no-download-url","The given file does not have any download URLs.")}();return t})}function $j(n,e){const t=function fY(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new bs(n._location.bucket,t);return new Mp(n.storage,r)}function Wj(n,e){if(n instanceof LP){const t=n;if(null==t._bucket)throw function G5(){return new Fr("no-default-bucket","No default bucket found. Did you set the '"+wj+"' property when initializing the app?")}();const r=new Mp(t,t._bucket);return null!=e?Wj(r,e):r}return void 0!==e?$j(n,e):n}function ZY(n,e){if(e&&function KY(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof LP)return function YY(n,e){return new Mp(n,e)}(n,e);throw b_("To use ref(service, url), the first argument must be a Storage instance.")}return Wj(n,e)}function qj(n,e){const t=null==e?void 0:e[wj];return null==t?null:bs.makeFromBucketSpec(t,n)}class LP{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=bj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?bs.makeFromBucketSpec(i,this._host):qj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?bs.makeFromBucketSpec(this._url,e):qj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){MP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){MP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,at.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,at.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mp(this,e)}_makeRequest(e,t,r,i){if(this._deleted)return new W5(Ij());{const s=function rY(n,e,t,r,i,s){const u=Sj(n.urlParams),h=n.url+u,p=Object.assign({},n.headers);return function tY(n,e){e&&(n["X-Firebase-GMPID"]=e)}(p,e),function J5(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(p,t),function eY(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(p,s),function nY(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(p,r),new X5(h,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,r,i,t,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var r=this;return(0,at.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const Kj="@firebase/storage",Zj="storage";function Qj(n,e){return ZY(n=(0,j.m9)(n),e)}function lZ(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new LP(t,r,i,e,pr.SDK_VERSION)}!function uZ(){(0,pr._registerComponent)(new Hr.wA(Zj,lZ,"PUBLIC").setMultipleInstances(!0)),(0,pr.registerVersion)(Kj,"0.9.6",""),(0,pr.registerVersion)(Kj,"0.9.6","esm2017")}();const jD_firebase={projectId:"lomi-35ab6",appId:"1:394847830425:web:ee909ee573e436db0f9308",storageBucket:"lomi-35ab6.appspot.com",locationId:"southamerica-east1",apiKey:"AIzaSyCC1UbhAV4WpCpUZsEiNPd_TVUD40Lh5Bc",authDomain:"lomi-35ab6.firebaseapp.com",messagingSenderId:"394847830425",measurementId:"G-E3L40DPW9M"};class HD{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Xj{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new HD(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new HD(r,this,this._ref))},t)}on(e,t,r,i){let s;return t&&(s="function"==typeof t?u=>t(new HD(u,this,this._ref)):{next:t.next?u=>t.next(new HD(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class Jj{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Cc(e,this._service))}get items(){return this._delegate.items.map(e=>new Cc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Cc{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function sZ(n,e){return $j(n,e)}(this._delegate,e);return new Cc(t,this.storage)}get root(){return new Cc(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Cc(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Xj(function XY(n,e,t){return function jY(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new jj(n,new Eu(e),t)}(n=(0,j.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Qo.RAW,r){this._throwIfRoot("putString");const i=RP(t,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new Xj(new jj(this._delegate,new Eu(i.data,!0),s),this)}listAll(){return function nZ(n){return function GY(n){const e={prefixes:[],items:[]};return Gj(n,e).then(()=>e)}(n=(0,j.m9)(n))}(this._delegate).then(e=>new Jj(e,this.storage))}list(e){return function tZ(n,e){return zj(n=(0,j.m9)(n),e)}(this._delegate,e||void 0).then(t=>new Jj(t,this.storage))}getMetadata(){return function JY(n){return function zY(n){n._throwIfRoot("getMetadata");const e=Nj(n.storage,n._location,Yw());return n.storage.makeRequestWithTokens(e,Ol)}(n=(0,j.m9)(n))}(this._delegate)}updateMetadata(e){return function eZ(n,e){return function $Y(n,e){n._throwIfRoot("updateMetadata");const t=function TY(n,e,t,r){const s=Ec(e.fullServerUrl(),n.host,n._protocol),h=OP(t,r),y=n.maxOperationRetryTime,E=new Cu(s,"PATCH",BD(n,r),y);return E.headers={"Content-Type":"application/json; charset=utf-8"},E.body=h,E.errorHandler=Zw(e),E}(n.storage,n._location,e,Yw());return n.storage.makeRequestWithTokens(t,Ol)}(n=(0,j.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function rZ(n){return WY(n=(0,j.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function iZ(n){return function qY(n){n._throwIfRoot("deleteObject");const e=function DY(n,e){const r=Ec(e.fullServerUrl(),n.host,n._protocol),h=new Cu(r,"DELETE",function u(p,y){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=Zw(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ol)}(n=(0,j.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw Tj(e)}}class eH{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(tH(e))throw b_("ref() expected a child path but got a URL, use refFromURL instead.");return new Cc(Qj(this._delegate,e),this)}refFromURL(e){if(!tH(e))throw b_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{bs.makeFromUrl(e,this._delegate.host)}catch(t){throw b_("refFromUrl() expected a valid full URL but got an invalid one.")}return new Cc(Qj(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function aZ(n,e,t,r={}){!function QY(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,j.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function tH(n){return/^[A-Za-z]+:\/\//.test(n)}function fZ(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new eH(t,r)}function nH(n){const e=function gZ(n){return new Dr.y(e=>{const t=u=>e.next(u);t(n.snapshot);const s=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){s()}}).pipe(pm(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,xt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function GD(n){return{getDownloadURL:()=>gt(void 0).pipe(An.fc,fi(()=>n.getDownloadURL()),An.iC),getMetadata:()=>gt(void 0).pipe(An.fc,fi(()=>n.getMetadata()),An.iC),delete:()=>(0,Ln.D)(n.delete()),child:e=>GD(n.child(e)),updateMetadata:e=>(0,Ln.D)(n.updateMetadata(e)),put:(e,t)=>nH(n.put(e,t)),putString:(e,t,r)=>nH(n.putString(e,t,r)),list:e=>(0,Ln.D)(n.list(e)),listAll:()=>(0,Ln.D)(n.listAll())}}!function pZ(n){const e={TaskState:Ys,TaskEvent:RY,StringFormat:Qo,Storage:eH,Reference:Cc};n.INTERNAL.registerComponent(new Hr.wA("storage-compat",fZ,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.14")}(mm.Z);const mZ=new c.OlP("angularfire2.storageBucket"),_Z=new c.OlP("angularfire2.storage.maxUploadRetryTime"),yZ=new c.OlP("angularfire2.storage.maxOperationRetryTime"),vZ=new c.OlP("angularfire2.storage.use-emulator");let rH=(()=>{class n{constructor(t,r,i,s,u,h,p,y,E,T){const x=(0,jr.on)(t,u,r);this.storage=(0,jr.cc)(`${x.name}.storage.${i}`,"AngularFireStorage",x.name,()=>{const L=u.runOutsideAngular(()=>x.storage(i||void 0)),G=E;return G&&L.useEmulator(...G),p&&L.setMaxUploadRetryTime(p),y&&L.setMaxOperationRetryTime(y),L},[p,y])}ref(t){return GD(this.storage.ref(t))}refFromURL(t){return GD(this.storage.refFromURL(t))}upload(t,r,i){return GD(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(jr.Dh),c.LFG(jr.xv,8),c.LFG(mZ,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(An.HU),c.LFG(_Z,8),c.LFG(yZ,8),c.LFG(vZ,8),c.LFG(zb,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),bZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),iH=(()=>{class n{constructor(){vL.Z.registerVersion("angularfire",An.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[rH],imports:[bZ]}),n})(),sH=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wZ=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=kt(t);return new Dr.y(i=>{const u=this._observeElement(r).subscribe(i);return()=>{u.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Ht.x,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(sH))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EZ=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=V(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function _e(n,e=0){return function Ge(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(pm(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(wZ),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),CZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[sH]}),n})();const IZ=["connectionContainer"],TZ=["inputContainer"],DZ=["label"];function SZ(n,e){1&n&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15)(3,"div",16)(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15)(7,"div",16)(8,"div",17),c.qZA(),c.BQk())}function AZ(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",19),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.Hsn(1,1),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function MZ(n,e){if(1&n&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&n){const t=c.oxw(2);c.xp6(3),c.Oqu(t._control.placeholder)}}function xZ(n,e){1&n&&c.Hsn(0,3,["*ngSwitchCase","true"])}function RZ(n,e){1&n&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function kZ(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.YNc(2,MZ,4,1,"ng-container",12),c.YNc(3,xZ,1,0,"ng-content",12),c.YNc(4,RZ,2,0,"span",22),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),c.uIk("for",t._control.id)("aria-owns",t._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function OZ(n,e){1&n&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function PZ(n,e){if(1&n&&(c.TgZ(0,"div",25),c._UZ(1,"span",26),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function NZ(n,e){if(1&n&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState)}}function FZ(n,e){if(1&n&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("id",t._hintLabelId),c.xp6(1),c.Oqu(t.hintLabel)}}function LZ(n,e){if(1&n&&(c.TgZ(0,"div",27),c.YNc(1,FZ,2,2,"div",28),c.Hsn(2,6),c._UZ(3,"div",29),c.Hsn(4,7),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",t.hintLabel)}}const VZ=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],BZ=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],UZ=new c.OlP("MatError"),jZ={transitionMessages:Y_("transitionMessages",[fs("enter",qi({opacity:1,transform:"translateY(0%)"})),fg("void => enter",[qi({opacity:0,transform:"translateY(-5px)"}),Yh("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let VP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})();const HZ=new c.OlP("MatHint");let BP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),GZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const zZ=new c.OlP("MatPrefix"),oH=new c.OlP("MatSuffix");let $Z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matSuffix",""]],features:[c._Bn([{provide:oH,useExisting:n}])]}),n})(),aH=0;const qZ=hd(class{constructor(n){this._elementRef=n}},"primary"),KZ=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),uH=new c.OlP("MatFormField");let YZ=(()=>{class n extends qZ{constructor(t,r,i,s,u,h,p){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=s,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ht.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+aH++,this._labelId="mat-form-field-label-"+aH++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=V(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(tc(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(O(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(O(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,uc.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(tc(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(tc(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(O(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ta(this._label.nativeElement,"transitionend").pipe((0,Di.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,i=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const E=r.querySelectorAll(`${i}, ${s}`);for(let T=0;T<E.length;T++)E[T].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const p=r.querySelectorAll(i),y=r.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const E=r.getBoundingClientRect();if(0===E.width&&0===E.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const T=this._getStartEnd(E),x=t.children,L=this._getStartEnd(x[0].getBoundingClientRect());let G=0;for(let he=0;he<x.length;he++)G+=x[he].offsetWidth;u=Math.abs(L-T)-5,h=G>0?.75*G+10:0}for(let E=0;E<p.length;E++)p[E].style.width=`${u}px`;for(let E=0;E<y.length;E++)y[E].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(ds,8),c.Y36(KZ,8),c.Y36(on),c.Y36(c.R0b),c.Y36(go,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(c.Suo(i,VP,5),c.Suo(i,VP,7),c.Suo(i,BP,5),c.Suo(i,BP,7),c.Suo(i,GZ,5),c.Suo(i,UZ,5),c.Suo(i,HZ,5),c.Suo(i,zZ,5),c.Suo(i,oH,5)),2&t){let s;c.iGM(s=c.CRH())&&(r._controlNonStatic=s.first),c.iGM(s=c.CRH())&&(r._controlStatic=s.first),c.iGM(s=c.CRH())&&(r._labelChildNonStatic=s.first),c.iGM(s=c.CRH())&&(r._labelChildStatic=s.first),c.iGM(s=c.CRH())&&(r._placeholderChild=s.first),c.iGM(s=c.CRH())&&(r._errorChildren=s),c.iGM(s=c.CRH())&&(r._hintChildren=s),c.iGM(s=c.CRH())&&(r._prefixChildren=s),c.iGM(s=c.CRH())&&(r._suffixChildren=s)}},viewQuery:function(t,r){if(1&t&&(c.Gf(IZ,7),c.Gf(TZ,5),c.Gf(DZ,5)),2&t){let i;c.iGM(i=c.CRH())&&(r._connectionContainerRef=i.first),c.iGM(i=c.CRH())&&(r._inputContainerRef=i.first),c.iGM(i=c.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&c.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:uH,useExisting:n}]),c.qOj],ngContentSelectors:BZ,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(c.F$t(VZ),c.TgZ(0,"div",0)(1,"div",1,2),c.NdJ("click",function(s){return r._control.onContainerClick&&r._control.onContainerClick(s)}),c.YNc(3,SZ,9,0,"ng-container",3),c.YNc(4,AZ,2,1,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,kZ,5,16,"label",8),c.qZA()(),c.YNc(10,OZ,2,0,"div",9),c.qZA(),c.YNc(11,PZ,2,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,NZ,2,1,"div",12),c.YNc(14,LZ,5,2,"div",13),c.qZA()()),2&t&&(c.xp6(3),c.Q6J("ngIf","outline"==r.appearance),c.xp6(1),c.Q6J("ngIf",r._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",r._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",r._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=r.appearance),c.xp6(1),c.Q6J("ngSwitch",r._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},directives:[yr,EZ,vi,oi],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[jZ.transitionMessages]},changeDetection:0}),n})(),cH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ei,Tr,CZ],Tr]}),n})(),dH=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),xp=(()=>{class n extends dH{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Pl=new c.OlP("NgValueAccessor"),QZ={provide:Pl,useExisting:(0,c.Gpc)(()=>zD),multi:!0},JZ=new c.OlP("CompositionEventMode");let zD=(()=>{class n extends dH{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function XZ(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(JZ,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[c._Bn([QZ]),c.qOj]}),n})();function yh(n){return null==n||0===n.length}function fH(n){return null!=n&&"number"==typeof n.length}const rs=new c.OlP("NgValidators"),vh=new c.OlP("NgAsyncValidators"),e7=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class t7{static min(e){return function pH(n){return e=>{if(yh(e.value)||yh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function gH(n){return e=>{if(yh(e.value)||yh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function mH(n){return yh(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function _H(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function yH(n){return yh(n.value)||e7.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function vH(n){return e=>yh(e.value)||!fH(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function bH(n){return e=>fH(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function wH(n){if(!n)return $D;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(yh(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return SH(e)}static composeAsync(e){return AH(e)}}function $D(n){return null}function EH(n){return null!=n}function CH(n){const e=(0,c.QGY)(n)?(0,Ln.D)(n):n;return(0,c.CqO)(e),e}function IH(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function TH(n,e){return e.map(t=>t(n))}function DH(n){return n.map(e=>function n7(n){return!n.validate}(e)?e:t=>e.validate(t))}function SH(n){if(!n)return null;const e=n.filter(EH);return 0==e.length?null:function(t){return IH(TH(t,e))}}function UP(n){return null!=n?SH(DH(n)):null}function AH(n){if(!n)return null;const e=n.filter(EH);return 0==e.length?null:function(t){return BL(TH(t,e).map(CH)).pipe((0,xt.U)(IH))}}function jP(n){return null!=n?AH(DH(n)):null}function MH(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function xH(n){return n._rawValidators}function RH(n){return n._rawAsyncValidators}function HP(n){return n?Array.isArray(n)?n:[n]:[]}function WD(n,e){return Array.isArray(n)?n.includes(e):n===e}function kH(n,e){const t=HP(e);return HP(n).forEach(i=>{WD(t,i)||t.push(i)}),t}function OH(n,e){return HP(e).filter(t=>!WD(n,t))}class PH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=UP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=jP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ic extends PH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zs extends PH{get formDirective(){return null}get path(){return null}}let FH=(()=>{class n extends class NH{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ic,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})();function Qw(n,e){$P(n,e),e.valueAccessor.writeValue(n.value),function d7(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&VH(n,e)})}(n,e),function f7(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function h7(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&VH(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function c7(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function YD(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),QD(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ZD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function $P(n,e){const t=xH(n);null!==e.validator?n.setValidators(MH(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=RH(n);null!==e.asyncValidator?n.setAsyncValidators(MH(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();ZD(e._rawValidators,i),ZD(e._rawAsyncValidators,i)}function QD(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=xH(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(u=>u!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=RH(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(u=>u!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return ZD(e._rawValidators,r),ZD(e._rawAsyncValidators,r),t}function VH(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function BH(n,e){$P(n,e)}function jH(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function KP(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Xw="VALID",XD="INVALID",C_="PENDING",Jw="DISABLED";function ZP(n){return(JD(n)?n.validators:n)||null}function HH(n){return Array.isArray(n)?UP(n):n||null}function QP(n,e){return(JD(e)?e.asyncValidators:n)||null}function GH(n){return Array.isArray(n)?jP(n):n||null}function JD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const zH=n=>n instanceof KH,XP=n=>n instanceof eN;function $H(n){return zH(n)?n.value:n.getRawValue()}function WH(n,e){const t=XP(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function qH(n,e){XP(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new c.vHH(1002,"")})}class JP{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=HH(this._rawValidators),this._composedAsyncValidatorFn=GH(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Xw}get invalid(){return this.status===XD}get pending(){return this.status==C_}get disabled(){return this.status===Jw}get enabled(){return this.status!==Jw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=HH(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=GH(e)}addValidators(e){this.setValidators(kH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(OH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(OH(e,this._rawAsyncValidators))}hasValidator(e){return WD(this._rawValidators,e)}hasAsyncValidator(e){return WD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=C_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Jw,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Xw,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xw||this.status===C_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jw:Xw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=C_,this._hasOwnPendingAsyncValidator=!0;const t=CH(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function _7(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=XP(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof v7)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Jw:this.errors?XD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(C_)?C_:this._anyControlsHaveStatus(XD)?XD:Xw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){JD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class KH extends JP{constructor(e=null,t,r){super(ZP(t),QP(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),JD(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){KP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){KP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class eN extends JP{constructor(e,t,r){super(ZP(t),QP(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){qH(this,e),Object.keys(e).forEach(r=>{WH(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=$H(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class v7 extends JP{constructor(e,t,r){super(ZP(t),QP(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){qH(this,e),e.forEach((r,i)=>{WH(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>$H(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const b7={provide:Zs,useExisting:(0,c.Gpc)(()=>eS)},e0=(()=>Promise.resolve(null))();let eS=(()=>{class n extends Zs{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new eN({},UP(t),jP(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){e0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Qw(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){e0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){e0.then(()=>{const r=this._findContainer(t.path),i=new eN({});BH(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){e0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){e0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,jH(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(rs,10),c.Y36(vh,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([b7]),c.qOj]}),n})();const E7={provide:Ic,useExisting:(0,c.Gpc)(()=>tN)},QH=(()=>Promise.resolve(null))();let tN=(()=>{class n extends Ic{constructor(t,r,i,s,u){super(),this._changeDetectorRef=u,this.control=new KH,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function qP(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===zD?t=s:function m7(n){return Object.getPrototypeOf(n.constructor)===xp}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function WP(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){QH.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;QH.then(()=>{var s;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(t){return this._parent?function KD(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Zs,9),c.Y36(rs,10),c.Y36(vh,10),c.Y36(Pl,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([E7]),c.qOj,c.TTD]}),n})();const I7={provide:Pl,useExisting:(0,c.Gpc)(()=>nN),multi:!0};let nN=(()=>{class n extends xp{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[c._Bn([I7]),c.qOj]}),n})(),XH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const M7={provide:Zs,useExisting:(0,c.Gpc)(()=>tS)};let tS=(()=>{class n extends Zs{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(QD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Qw(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){YD(t.control||null,t,!1),KP(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,jH(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(YD(r||null,t),zH(i)&&(Qw(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);BH(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function p7(n,e){return QD(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$P(this.form,this),this._oldForm&&QD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(rs,10),c.Y36(vh,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([M7]),c.qOj,c.TTD]}),n})(),K7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[XH]]}),n})(),mG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[K7]}),n})();const _G=nl({passive:!0});let Y7=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ec.E;const r=kt(t),i=this._monitoredElements.get(r);if(i)return i.subject;const s=new Ht.x,u="cdk-text-field-autofilled",h=p=>{"cdk-text-field-autofill-start"!==p.animationName||r.classList.contains(u)?"cdk-text-field-autofill-end"===p.animationName&&r.classList.contains(u)&&(r.classList.remove(u),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(r.classList.add(u),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",h,_G),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",h,_G)}}),s}stopMonitoring(t){const r=kt(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(on),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Z7=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),Q7=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let X7=0;const J7=IE(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let eQ=(()=>{class n extends J7{constructor(t,r,i,s,u,h,p,y,E,T){super(h,s,u,i),this._elementRef=t,this._platform=r,this._autofillMonitor=y,this._formField=T,this._uid="mat-input-"+X7++,this.focused=!1,this.stateChanges=new Ht.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(G=>tl().has(G)),this._iOSKeyupListener=G=>{const he=G.target;!he.value&&0===he.selectionStart&&0===he.selectionEnd&&(he.setSelectionRange(1,1),he.setSelectionRange(0,0))};const x=this._elementRef.nativeElement,L=x.nodeName.toLowerCase();this._inputValueAccessor=p||x,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&E.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!T,this._isNativeSelect&&(this.controlType=x.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=V(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,i,s;return null!==(s=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(t7.required))&&void 0!==s&&s}set required(t){this._required=V(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&tl().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=V(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,r;const i=(null===(r=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===r?void 0:r.call(t))?null:this.placeholder;if(i!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=i,i?s.setAttribute("placeholder",i):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){Q7.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(on),c.Y36(Ic,10),c.Y36(eS,8),c.Y36(tS,8),c.Y36(Og),c.Y36(Z7,10),c.Y36(Y7),c.Y36(c.R0b),c.Y36(uH,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&c.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(c.Ikx("disabled",r.disabled)("required",r.required),c.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),c.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:VP,useExisting:n}]),c.qOj,c.TTD]}),n})(),vG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Og],imports:[[yG,cH,Tr],yG,cH]}),n})();const tQ=["mat-button",""],nQ=["*"],iQ=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],sQ=hd(ba(CE(class{constructor(n){this._elementRef=n}})));let bG=(()=>{class n extends sQ{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of iQ)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(q_),c.Y36(go,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&c.Gf(DE,5),2&t){let i;c.iGM(i=c.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(c.uIk("disabled",r.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:tQ,ngContentSelectors:nQ,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&t&&(c.xp6(2),c.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),c.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[DE],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),wG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Hy,Tr],Tr]}),n})(),oQ=(()=>{class n{constructor(t){this.sanitizer=t,this.fileOver=!1,this.fileDropped=new c.vpe}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!0}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!1}ondrop(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!1;let r=t.dataTransfer.files;r.length>0&&this.fileDropped.emit(r)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(li))},n.\u0275dir=c.lG2({type:n,selectors:[["","drag-n-drop",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("dragover",function(s){return r.onDragOver(s)})("dragleave",function(s){return r.onDragLeave(s)})("drop",function(s){return r.ondrop(s)}),2&t&&c.ekj("fileover",r.fileOver)},outputs:{fileDropped:"fileDropped"}}),n})();var aQ=R(655);function lQ(n,e){1&n&&c._UZ(0,"div",2)}function uQ(n,e){1&n&&c._UZ(0,"pre",2)}function cQ(n,e){if(1&n&&(c.ynx(0),c.YNc(1,lQ,1,0,"div",1),c.YNc(2,uQ,1,0,"pre",1),c.BQk()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",!t.preserve),c.xp6(1),c.Q6J("ngIf",t.preserve)}}function dQ(n,e){1&n&&c._UZ(0,"div",2)}function hQ(n,e){1&n&&c._UZ(0,"pre",2)}function fQ(n,e){if(1&n&&(c.ynx(0),c.YNc(1,dQ,1,0,"div",1),c.YNc(2,hQ,1,0,"pre",1),c.BQk()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",!t.preserve),c.xp6(1),c.Q6J("ngIf",t.preserve)}}const pQ=[[["","quill-editor-toolbar",""]]],gQ=["[quill-editor-toolbar]"],lN={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},nS=(n,e)=>n||e||"html",EG=new c.OlP("config",{providedIn:"root",factory:()=>({modules:lN})});let CG=(()=>{class n{constructor(t,r){this.config=r,this.quill$=_f(()=>(0,aQ.mG)(this,void 0,void 0,function*(){var i,s;if(!this.Quill){const u=this.document.addEventListener;this.document.addEventListener=this.document.__zone_symbol__addEventListener||this.document.addEventListener;const h=yield R.e(971).then(R.t.bind(R,9971,19));this.document.addEventListener=u,this.Quill=h.default?h.default:h}return null===(i=this.config.customOptions)||void 0===i||i.forEach(u=>{const h=this.Quill.import(u.import);h.whitelist=u.whitelist,this.Quill.register(h,!0,this.config.suppressGlobalRegisterWarning)}),null===(s=this.config.customModules)||void 0===s||s.forEach(({implementation:u,path:h})=>{this.Quill.register(h,u,this.config.suppressGlobalRegisterWarning)}),this.Quill})).pipe(sR({bufferSize:1,refCount:!0})),this.document=t.get(Q),this.config||(this.config={modules:lN})}getQuill(){return this.quill$}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(EG,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mQ=(()=>{class n{constructor(t,r,i,s,u,h,p,y){this.elementRef=r,this.cd=i,this.domSanitizer=s,this.platformId=u,this.renderer=h,this.zone=p,this.service=y,this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new c.vpe,this.onEditorChanged=new c.vpe,this.onContentChanged=new c.vpe,this.onSelectionChanged=new c.vpe,this.onFocus=new c.vpe,this.onBlur=new c.vpe,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.valueGetter=(E,T)=>{let x=T.querySelector(".ql-editor").innerHTML;("<p><br></p>"===x||"<div><br></div>"===x)&&(x=this.defaultEmptyValue);let L=x;const G=nS(this.format,this.service.config.format);if("text"===G)L=E.getText();else if("object"===G)L=E.getContents();else if("json"===G)try{L=JSON.stringify(E.getContents())}catch(he){L=E.getText()}return L},this.valueSetter=(E,T)=>{const x=nS(this.format,this.service.config.format);if("html"===x)return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(T=this.domSanitizer.sanitize(c.q3G.HTML,T)),E.clipboard.convert(T);if("json"===x)try{return JSON.parse(T)}catch(L){return[{insert:T}]}return T},this.selectionChangeHandler=(E,T,x)=>{const L=!E&&!!this.onModelTouched;!this.onBlur.observers.length&&!this.onFocus.observers.length&&!this.onSelectionChanged.observers.length&&!L||this.zone.run(()=>{null===E?this.onBlur.emit({editor:this.quillEditor,source:x}):null===T&&this.onFocus.emit({editor:this.quillEditor,source:x}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:T,range:E,source:x}),L&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(E,T,x)=>{const L=this.quillEditor.getText(),G=this.quillEditor.getContents();let he=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===he||"<div><br></div>"===he)&&(he=this.defaultEmptyValue);const Te=this.trackChanges||this.service.config.trackChanges,rt=("user"===x||Te&&"all"===Te)&&!!this.onModelChange;!this.onContentChanged.observers.length&&!rt||this.zone.run(()=>{rt&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:G,delta:E,editor:this.quillEditor,html:he,oldDelta:T,source:x,text:L}),this.cd.markForCheck()})},this.editorChangeHandler=(E,T,x,L)=>{if(this.onEditorChanged.observers.length)if("text-change"===E){const G=this.quillEditor.getText(),he=this.quillEditor.getContents();let Te=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===Te||"<div><br></div>"===Te)&&(Te=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:he,delta:T,editor:this.quillEditor,event:E,html:Te,oldDelta:x,source:L,text:G}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:E,oldRange:x,range:T,source:L}),this.cd.markForCheck()})},this.document=t.get(Q)}static normalizeClassNames(t){return t.trim().split(" ").reduce((i,s)=>{const u=s.trim();return u&&i.push(u),i},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){Br(this.platformId)||(this.quillSubscription=this.service.getQuill().subscribe(t=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const r=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),i=Object.assign({},this.modules||this.service.config.modules);r?i.toolbar=r:void 0===i.toolbar&&(i.toolbar=lN.toolbar);let s=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===s&&(s="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(x=>{this.renderer.setStyle(this.editorElem,x,this.styles[x])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(x=>{const L=t.import(x.import);L.whitelist=x.whitelist,t.register(L,!0)}),this.customModules.forEach(({implementation:x,path:L})=>{t.register(L,x)});let u=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;u||(u=this.service.config.bounds?this.service.config.bounds:this.document.body);let h=this.debug;!h&&!1!==h&&this.service.config.debug&&(h=this.service.config.debug);let p=this.readOnly;!p&&!1!==this.readOnly&&(p=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let y=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(y=this.service.config.defaultEmptyValue);let E=this.scrollingContainer;!E&&null!==this.scrollingContainer&&(E=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let T=this.formats;if(!T&&void 0===T&&(T=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{var x,L,G;if(this.quillEditor=new t(this.editorElem,{bounds:u,debug:h,formats:T,modules:i,placeholder:s,readOnly:p,defaultEmptyValue:y,scrollingContainer:E,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.linkPlaceholder){const he=null===(L=null===(x=this.quillEditor)||void 0===x?void 0:x.theme)||void 0===L?void 0:L.tooltip,Te=null===(G=null==he?void 0:he.root)||void 0===G?void 0:G.querySelector("input[data-link]");(null==Te?void 0:Te.dataset)&&(Te.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===nS(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const L=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(L,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observers.length||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor)})}))}ngOnDestroy(){var t;this.dispose(),null===(t=this.quillSubscription)||void 0===t||t.unsubscribe(),this.quillSubscription=null}ngOnChanges(t){if(this.quillEditor){if(t.readOnly&&this.quillEditor.enable(!t.readOnly.currentValue),t.placeholder&&(this.quillEditor.root.dataset.placeholder=t.placeholder.currentValue),t.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=t.defaultEmptyValue.currentValue),t.styles){const r=t.styles.currentValue,i=t.styles.previousValue;i&&Object.keys(i).forEach(s=>{this.renderer.removeStyle(this.editorElem,s)}),r&&Object.keys(r).forEach(s=>{this.renderer.setStyle(this.editorElem,s,this.styles[s])})}if(t.classes){const r=t.classes.currentValue,i=t.classes.previousValue;i&&this.removeClasses(i),r&&this.addClasses(r)}t.debounceTime&&this.addQuillEventListeners()}}addClasses(t){n.normalizeClassNames(t).forEach(r=>{this.renderer.addClass(this.editorElem,r)})}removeClasses(t){n.normalizeClassNames(t).forEach(r=>{this.renderer.removeClass(this.editorElem,r)})}writeValue(t){if(this.filterNull&&null===t||(this.content=t,!this.quillEditor))return;const r=nS(this.format,this.service.config.format),i=this.valueSetter(this.quillEditor,t);if(this.compareValues){const s=this.quillEditor.getContents();if(JSON.stringify(s)===JSON.stringify(i))return}t?"text"===r?this.quillEditor.setText(t):this.quillEditor.setContents(i):this.quillEditor.setText("")}setDisabledState(t=this.disabled){this.disabled=t,this.quillEditor&&(t?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}registerOnValidatorChange(t){this.onValidatorChanged=t}validate(){if(!this.quillEditor)return null;const t={};let r=!0;const i=this.quillEditor.getText(),s=this.trimOnValidation?i.trim().length:1===i.length&&0===i.trim().length?0:i.length-1,u=this.quillEditor.getContents().ops,h=u&&1===u.length&&["\n",""].includes(u[0].insert);return this.minLength&&s&&s<this.minLength&&(t.minLengthError={given:s,minLength:this.minLength},r=!1),this.maxLength&&s>this.maxLength&&(t.maxLengthError={given:s,maxLength:this.maxLength},r=!1),this.required&&!s&&h&&(t.requiredError={empty:!0},r=!1),r?null:t}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new su.w0,this.subscription.add(Ta(this.quillEditor,"selection-change").subscribe(([i,s,u])=>{this.selectionChangeHandler(i,s,u)}));let t=Ta(this.quillEditor,"text-change"),r=Ta(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(t=t.pipe(pm(this.debounceTime)),r=r.pipe(pm(this.debounceTime))),this.subscription.add(t.subscribe(([i,s,u])=>{this.textChangeHandler(i,s,u)})),this.subscription.add(r.subscribe(([i,s,u,h])=>{this.editorChangeHandler(i,s,u,h)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.zs3),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(li),c.Y36(c.Lbi),c.Y36(c.Qsj),c.Y36(c.R0b),c.Y36(CG))},n.\u0275dir=c.lG2({type:n,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[c.TTD]}),n})(),_Q=(()=>{class n extends mQ{constructor(t,r,i,s,u,h,p,y){super(t,r,i,s,u,h,p,y)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.zs3),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(li),c.Y36(c.Lbi),c.Y36(c.Qsj),c.Y36(c.R0b),c.Y36(CG))},n.\u0275cmp=c.Xpm({type:n,selectors:[["quill-editor"]],features:[c._Bn([{multi:!0,provide:Pl,useExisting:(0,c.Gpc)(()=>n)},{multi:!0,provide:rs,useExisting:(0,c.Gpc)(()=>n)}]),c.qOj],ngContentSelectors:gQ,decls:3,vars:2,consts:[[4,"ngIf"],["quill-editor-element","",4,"ngIf"],["quill-editor-element",""]],template:function(t,r){1&t&&(c.F$t(pQ),c.YNc(0,cQ,3,2,"ng-container",0),c.Hsn(1),c.YNc(2,fQ,3,2,"ng-container",0)),2&t&&(c.Q6J("ngIf","top"!==r.toolbarPosition),c.xp6(2),c.Q6J("ngIf","top"===r.toolbarPosition))},directives:[yr],styles:[":host{display:inline-block}\n"],encapsulation:2}),n})(),IG=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:EG,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ei]]}),n})();function yQ(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",25),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).keyword=""}),c.TgZ(1,"mat-icon"),c._uU(2,"close"),c.qZA()()}}function vQ(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",14)(1,"div",0)(2,"mat-form-field",15)(3,"mat-label"),c._uU(4,"Titulo"),c.qZA(),c.TgZ(5,"input",24),c.NdJ("keydown.enter",function(i){return c.CHM(t),c.oxw().setTitle(i)}),c.qZA(),c.YNc(6,yQ,3,0,"button",6),c.qZA()()()}if(2&n){const t=c.oxw();c.xp6(6),c.Q6J("ngIf",t.recipe.title)}}function bQ(n,e){if(1&n){const t=c.EpF();c.ynx(0),c.TgZ(1,"div",18)(2,"div",14)(3,"div",0)(4,"h1",11)(5,"b"),c._uU(6),c.qZA()()()(),c.TgZ(7,"button",20),c.NdJ("click",function(){return c.CHM(t),c.oxw().recipe.title=""}),c._uU(8," Editar titulo "),c.TgZ(9,"mat-icon"),c._uU(10,"edit"),c.qZA()()(),c._UZ(11,"div",12),c.BQk()}if(2&n){const t=c.oxw();c.xp6(6),c.Oqu(t.recipe.title)}}function wQ(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",25),c.NdJ("click",function(){return c.CHM(t),c.oxw().keyword=""}),c.TgZ(1,"mat-icon"),c._uU(2,"close"),c.qZA()()}}function EQ(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",25),c.NdJ("click",function(){return c.CHM(t),c.oxw().keyword=""}),c.TgZ(1,"mat-icon"),c._uU(2,"close"),c.qZA()()}}function CQ(n,e){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"img",26),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Q6J("src",t,c.LSH)}}function IQ(n,e){if(1&n&&(c.ynx(0),c.YNc(1,CQ,2,1,"div",17),c.BQk()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.recipe.images)}}function TQ(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",25),c.NdJ("click",function(){return c.CHM(t),c.oxw().keyword=""}),c.TgZ(1,"mat-icon"),c._uU(2,"close"),c.qZA()()}}function DQ(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div")(1,"mat-card",27),c.NdJ("click",function(){const s=c.CHM(t).$implicit;return c.oxw().addIngredient(s)}),c.TgZ(2,"p"),c._uU(3),c.qZA()()()}if(2&n){const t=e.$implicit;c.xp6(3),c.hij("",t.attributes.name," ")}}function SQ(n,e){if(1&n&&(c.TgZ(0,"div",14)(1,"div",0),c._UZ(2,"p",28),c.qZA()()),2&n){const t=c.oxw();c.xp6(2),c.Q6J("innerHtml",t.recipe.description,c.oJD)}}function AQ(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",14)(1,"div",29)(2,"quill-editor",30),c.NdJ("ngModelChange",function(i){return c.CHM(t),c.oxw().recipe.description=i}),c.qZA()()()}if(2&n){const t=c.oxw();c.xp6(2),c.Q6J("ngModel",t.recipe.description)}}function MQ(n,e){if(1&n&&(c.TgZ(0,"div")(1,"mat-card")(2,"p"),c._uU(3),c.qZA()()()),2&n){const t=e.$implicit;c.xp6(3),c.hij(" ",t.attributes.name," ")}}function xQ(n,e){if(1&n&&c._UZ(0,"img",31),2&n){const t=c.oxw();c.s9C("src",t.recipe.images[0],c.LSH)}}!function oZ(n=(0,pr.getApp)(),e){n=(0,j.m9)(n),(0,pr._getProvider)(n,Zj).getImmediate({identifier:e})}((0,eh.ZF)(jD_firebase));let TG=(()=>{class n{constructor(t,r,i,s){this.firestore=t,this.route=r,this.productsService=i,this.angularFireStorage=s,this.keyword="",this.products={},this.ingredients=[],this.editingDescription=!1,this.images=[],this.recipe={title:"",description:"",img:"",ingredients:[],images:[]}}setTitle(t){console.log(t.target.value),this.recipe.title=t.target.value,this.updateDocument()}setDescription(t){console.log(t.target.value),this.recipe.description=t.target.value,this.updateDocument()}ngOnInit(){this.route.params.subscribe(t=>{const r=z2(this.firestore,"recetas-lomi");this.unsubscribe(),this.recipe$=vj(function n5(n,...e){for(const t of e)n=t._apply(n);return n}(r,M5("title","==",t.recipeTitle))),this.listenToRecipe(),this.updateDocument()})}onImageDropped(t){for(const r of t){this.images.push(r);const s=this.angularFireStorage.ref("recetas/"+this.recipe.title+"-"+this.images.length);s.put(r).then(h=>{console.log(h.metadata),console.log(s.getDownloadURL().subscribe(p=>{this.recipe.images?this.recipe.images.push(p):this.recipe.images=[p],this.updateDocument()}))})}}updateDocument(){!function c5(n,e,t){n=Dn(n,$r);const r=Dn(n.firestore,mr),i=function bP(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);$w(r,[gP(__(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,ni.none())])}(function $2(n,e,...t){if(n=(0,j.m9)(n),1===arguments.length&&(e=CB.R()),hP("doc","path",e),n instanceof Gw){const r=In.fromString(e,...t);return U2(r),new $r(n,null,new nt(r))}{if(!(n instanceof $r||n instanceof wu))throw new $e(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(In.fromString(e,...t));return U2(r),new $r(n.firestore,n instanceof wu?n.converter:null,new nt(r))}}(this.firestore,"recetas-lomi/"+this.recipe.title),this.recipe)}searchProducts(){this.productsService.searchProducts(this.keyword).then(t=>{this.products=t,this.products.data=this.products.data.filter(r=>!this.ingredients.find(i=>i.id==r.id))})}addIngredient(t){this.recipe.ingredients.push(t);const r=this.products.data.findIndex(i=>i.id==t.id);this.products.data.splice(r,1),this.updateDocument(),console.log(this.ingredients)}listenToRecipe(){this.recipe$.subscribe(t=>{t.length&&(this.recipe=t[0],console.log(this.recipe))})}unsubscribe(){var t;(null===(t=this.recipe$)||void 0===t?void 0:t.unsubscribe)&&this.recipe$.unsubscribe()}ngOnDestroy(){this.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ww),c.Y36(Ia),c.Y36(k5),c.Y36(rH))},n.\u0275cmp=c.Xpm({type:n,selectors:[["lomii-recipe"]],decls:53,vars:15,consts:[[1,"flex-row"],[1,"content",2,"padding-right","2em"],["class","flex-column",4,"ngIf"],[4,"ngIf"],["appearance","fill",1,"Personas",2,"width","10em"],["matInput","","type","text",3,"ngModel","ngModelChange","keydown.enter"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["appearance","fill",1,"Personas",2,"width","10em","margin-left","12px"],["matInput","","type","number",3,"ngModel","ngModelChange","keydown.enter"],[1,"firestore-images"],["drag-n-drop","",1,"drag-n-drop",3,"fileDropped"],[2,"margin","0"],[1,"divider"],[1,"ingredients-container",2,"padding-bottom","6em"],[1,"flex-column"],["appearance","fill",1,"example-form-field"],["matInput","","type","text",3,"ngModel","keypress","ngModelChange"],[4,"ngFor","ngForOf"],[2,"width","100%","display","flex","justify-content","space-between"],[2,"margin","0 0 16px 0"],["mat-button","","color","primary","aria-label","Example icon button with a delete icon",3,"click"],[1,"image",2,"position","fixed","right","0","width","450px","margin-top","-3em"],[1,"accent-bg","p-l"],[3,"src",4,"ngIf"],["matInput","","type","text",3,"keydown.enter"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"mini-image",3,"src"],[1,"hoverable",3,"click"],[3,"innerHtml"],[2,"height","300px","padding-bottom","112px"],[3,"ngModel","ngModelChange"],[3,"src"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c.YNc(2,vQ,7,1,"div",2),c.YNc(3,bQ,12,1,"ng-container",3),c.TgZ(4,"div")(5,"mat-form-field",4)(6,"mat-label"),c._uU(7,"Personas"),c.qZA(),c.TgZ(8,"input",5),c.NdJ("ngModelChange",function(s){return r.recipe.persons=s})("keydown.enter",function(){return r.updateDocument()}),c.qZA(),c.YNc(9,wQ,3,0,"button",6),c.qZA(),c.TgZ(10,"mat-form-field",7)(11,"mat-label"),c._uU(12,"Tiempo de preparaci\xf3n"),c.qZA(),c.TgZ(13,"input",8),c.NdJ("ngModelChange",function(s){return r.recipe.time=s})("keydown.enter",function(){return r.updateDocument()}),c.qZA(),c.YNc(14,EQ,3,0,"button",6),c.qZA()(),c.TgZ(15,"h2")(16,"b"),c._uU(17,"IMAGENES"),c.qZA()(),c.TgZ(18,"div",9),c.YNc(19,IQ,2,1,"ng-container",3),c.TgZ(20,"div",10),c.NdJ("fileDropped",function(s){return r.onImageDropped(s)}),c.TgZ(21,"h3",11),c._uU(22,"Subir im\xe1gen"),c.qZA(),c.TgZ(23,"mat-icon"),c._uU(24,"image"),c.qZA()()(),c._UZ(25,"div",12),c.TgZ(26,"div",13)(27,"h2"),c._uU(28,"BUSCADOR DE INGREDIENTES"),c.qZA(),c.TgZ(29,"div",14)(30,"mat-form-field",15)(31,"mat-label"),c._uU(32,"Buscador de ingredientes lomi"),c.qZA(),c.TgZ(33,"input",16),c.NdJ("keypress",function(){return r.searchProducts()})("ngModelChange",function(s){return r.keyword=s}),c.qZA(),c.YNc(34,TQ,3,0,"button",6),c.qZA(),c.YNc(35,DQ,4,1,"div",17),c.qZA()(),c.TgZ(36,"div",18)(37,"h2",19)(38,"b"),c._uU(39,"LOMI RECETA"),c.qZA()(),c.TgZ(40,"button",20),c.NdJ("click",function(){return r.updateDocument(),r.editingDescription=!r.editingDescription}),c._uU(41),c.TgZ(42,"mat-icon"),c._uU(43,"edit"),c.qZA()()(),c.YNc(44,SQ,3,1,"div",2),c.YNc(45,AQ,3,1,"div",2),c._UZ(46,"div",12),c.qZA(),c.TgZ(47,"div",21)(48,"div",22)(49,"h2"),c._uU(50,"INGREDIENTES"),c.qZA()(),c.YNc(51,MQ,4,1,"div",17),c.YNc(52,xQ,1,1,"img",23),c.qZA()()),2&t&&(c.xp6(2),c.Q6J("ngIf",!r.recipe.title),c.xp6(1),c.Q6J("ngIf",r.recipe.title),c.xp6(5),c.Q6J("ngModel",r.recipe.persons),c.xp6(1),c.Q6J("ngIf",r.recipe.title),c.xp6(4),c.Q6J("ngModel",r.recipe.time),c.xp6(1),c.Q6J("ngIf",r.recipe.title),c.xp6(5),c.Q6J("ngIf",r.recipe.images),c.xp6(14),c.Q6J("ngModel",r.keyword),c.xp6(1),c.Q6J("ngIf",r.keyword),c.xp6(1),c.Q6J("ngForOf",r.products.data),c.xp6(6),c.hij(" ",r.editingDescription?"Finalizar edici\xf3n":"Editar receta"," "),c.xp6(3),c.Q6J("ngIf",!r.editingDescription),c.xp6(1),c.Q6J("ngIf",r.editingDescription),c.xp6(6),c.Q6J("ngForOf",r.recipe.ingredients),c.xp6(1),c.Q6J("ngIf",r.recipe.images))},directives:[yr,YZ,BP,eQ,bG,$Z,DR,zD,FH,tN,nN,qn,oQ,JL,_Q],styles:["[_nghost-%COMP%]{font-size:.7em}.content[_ngcontent-%COMP%]{width:60vw}.image[_ngcontent-%COMP%]{width:40vw;height:100vh}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:-1;height:100%;width:auto;filter:contrast(.4);position:absolute;top:0}.image[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:12px}.ingredients-container[_ngcontent-%COMP%]{transition:.4s ease;background-color:#fff;box-shadow:-1px 0 5px 15px #0000}"]}),n})(),kQ=(()=>{class n{constructor(t){this.firestore=t,this.recipesRef=z2(this.firestore,"recetas-lomi"),this.recipes$=vj(this.recipesRef)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ww))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const OQ=function(n){return[n]};function PQ(n,e){if(1&n&&(c.TgZ(0,"mat-card",3)(1,"mat-card-title",4),c._uU(2),c.qZA(),c._UZ(3,"img",5),c.TgZ(4,"div",6)(5,"mat-icon"),c._uU(6,"person"),c.qZA(),c.TgZ(7,"p"),c._uU(8),c.qZA()(),c.TgZ(9,"div",6)(10,"mat-icon"),c._uU(11,"schedule"),c.qZA(),c.TgZ(12,"p"),c._uU(13),c.qZA()()()),2&n){const t=e.$implicit;c.Q6J("routerLink",c.VKq(5,OQ,"/recipes/"+t.title)),c.xp6(2),c.Oqu(t.title),c.xp6(1),c.s9C("src",t.images?t.images[0]:"assets/images/recipe.png",c.LSH),c.xp6(5),c.Oqu(t.persons?t.persons:"?"),c.xp6(5),c.Oqu(t.time?t.time:"?")}}const NQ=function(){return["/recipes/new"]};let DG=(()=>{class n{constructor(t){this.firestore=t,this.recipes=[]}ngOnInit(){this.firestore.recipes$.subscribe(t=>{this.recipes=t})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(kQ))},n.\u0275cmp=c.Xpm({type:n,selectors:[["lomii-home"]],decls:4,vars:3,consts:[["mat-raised-button","","mat-button","","color","primary",2,"width","calc(100% - 24px)","margin","0 12px",3,"routerLink"],[1,"flex-row",2,"flex-wrap","wrap"],["class","small hoverable",3,"routerLink",4,"ngFor","ngForOf"],[1,"small","hoverable",3,"routerLink"],[1,"primary-color",2,"font-size","0.9em","width","96px","height","1.75em","white-space","nowrap","text-overflow","ellipsis","overflow","hidden"],["mat-card-image","","alt","Photo of a Shiba Inu",2,"filter","grayscale(0.6)",3,"src"],[1,"info"]],template:function(t,r){1&t&&(c.TgZ(0,"button",0),c._uU(1," Nueva receta\n"),c.qZA(),c.TgZ(2,"div",1),c.YNc(3,PQ,14,7,"mat-card",2),c.qZA()),2&t&&(c.Q6J("routerLink",c.DdM(2,NQ)),c.xp6(3),c.Q6J("ngForOf",r.recipes))},directives:[bG,lc,qn,JL,Iq,Tq,DR],styles:[""]}),n})();const FQ=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"dashboard",component:DG},{path:"recipes",component:DG},{path:"recipes/new",component:TG},{path:"recipes/:recipeTitle",component:TG}];let SG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Rv.forChild(FQ)],Rv]}),n})();class uN{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class cN extends uN{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class AG extends uN{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class LQ extends uN{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class dN{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof cN?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof AG?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof LQ?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class VQ extends dN{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=u=>{const h=u.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let MG=(()=>{class n extends dN{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=s=>{const u=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=r.createComponent(s,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(Q))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),n})(),xG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const RG=rl();class BQ{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=tt(-this._previousScrollPosition.left),e.style.top=tt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",u=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),RG&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),RG&&(r.scrollBehavior=s,i.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class UQ{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class kG{enable(){}disable(){}attach(){}}function hN(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function OG(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class jQ{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();hN(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let HQ=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new kG,this.close=u=>new UQ(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new BQ(this._viewportRuler,this._document),this.reposition=u=>new jQ(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Uv),c.LFG(Gv),c.LFG(c.R0b),c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class PG{constructor(e){if(this.scrollStrategy=new kG,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class GQ{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class zQ{constructor(e,t,r,i,s,u,h,p,y){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=u,this._document=h,this._location=p,this._outsideClickDispatcher=y,this._backdropElement=null,this._backdropClick=new Ht.x,this._attachments=new Ht.x,this._detachments=new Ht.x,this._locationChanges=su.w0.EMPTY,this._backdropClickHandler=E=>this._backdropClick.next(E),this._backdropTransitionendHandler=E=>{this._disposeBackdrop(E.target)},this._keydownEvents=new Ht.x,this._outsidePointerEvents=new Ht.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Di.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=tt(this._config.width),e.height=tt(this._config.height),e.minWidth=tt(this._config.minWidth),e.minHeight=tt(this._config.minHeight),e.maxWidth=tt(this._config.maxWidth),e.maxHeight=tt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,r){const i=ut(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(O((0,uc.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let fN=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||il()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),il()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q),c.LFG(on))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NG="cdk-overlay-connected-position-bounding-box",$Q=/([A-Za-z%]+)$/;class WQ{constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ht.x,this._resizeSubscription=su.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(NG),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let u;for(let h of this._preferredPositions){let p=this._getOriginPoint(e,i,h),y=this._getOverlayPoint(p,t,h),E=this._getOverlayFit(y,t,r,h);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(E,y,r)?s.push({position:h,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!u||u.overlayFit.visibleArea<E.visibleArea)&&(u={overlayFit:E,overlayPoint:y,originPoint:p,position:h,overlayRect:t})}if(s.length){let h=null,p=-1;for(const y of s){const E=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);E>p&&(p=E,h=y)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&kp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(NG),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;i="start"==r.originX?u:h}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=LG(t);let{x:u,y:h}=e,p=this._getOffset(i,"x"),y=this._getOffset(i,"y");p&&(u+=p),y&&(h+=y);let x=0-h,L=h+s.height-r.height,G=this._subtractOverflows(s.width,0-u,u+s.width-r.width),he=this._subtractOverflows(s.height,x,L),Te=G*he;return{visibleArea:Te,isCompletelyWithinViewport:s.width*s.height===Te,fitsInViewportVertically:he===s.height,fitsInViewportHorizontally:G==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,u=FG(this._overlayRef.getConfig().minHeight),h=FG(this._overlayRef.getConfig().minWidth),y=e.fitsInViewportHorizontally||null!=h&&h<=s;return(e.fitsInViewportVertically||null!=u&&u<=i)&&y}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=LG(t),s=this._viewportRect,u=Math.max(e.x+i.width-s.width,0),h=Math.max(e.y+i.height-s.height,0),p=Math.max(s.top-r.top-e.y,0),y=Math.max(s.left-r.left-e.x,0);let E=0,T=0;return E=i.width<=s.width?y||-u:e.x<this._viewportMargin?s.left-r.left-e.x:0,T=i.height<=s.height?p||-h:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:E,y:T},{x:e.x+E,y:e.y+T}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new GQ(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,u,h,E,T,x;if("top"===t.overlayY)u=e.y,s=r.height-u+this._viewportMargin;else if("bottom"===t.overlayY)h=r.height-e.y+2*this._viewportMargin,s=r.height-h+this._viewportMargin;else{const L=Math.min(r.bottom-e.y+r.top,e.y),G=this._lastBoundingBoxSize.height;s=2*L,u=e.y-L,s>G&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-G/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)x=r.width-e.x+this._viewportMargin,E=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)T=e.x,E=r.right-e.x;else{const L=Math.min(r.right-e.x+r.left,e.x),G=this._lastBoundingBoxSize.width;E=2*L,T=e.x-L,E>G&&!this._isInitialRender&&!this._growAfterOpen&&(T=e.x-G/2)}return{top:u,left:T,bottom:h,right:x,width:E,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;i.height=tt(r.height),i.top=tt(r.top),i.bottom=tt(r.bottom),i.width=tt(r.width),i.left=tt(r.left),i.right=tt(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=tt(s)),u&&(i.maxWidth=tt(u))}this._lastBoundingBoxSize=r,kp(this._boundingBox.style,i)}_resetBoundingBoxStyles(){kp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){kp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(i){const E=this._viewportRuler.getViewportScrollPosition();kp(r,this._getExactOverlayY(t,e,E)),kp(r,this._getExactOverlayX(t,e,E))}else r.position="static";let h="",p=this._getOffset(t,"x"),y=this._getOffset(t,"y");p&&(h+=`translateX(${p}px) `),y&&(h+=`translateY(${y}px)`),r.transform=h.trim(),u.maxHeight&&(i?r.maxHeight=tt(u.maxHeight):s&&(r.maxHeight="")),u.maxWidth&&(i?r.maxWidth=tt(u.maxWidth):s&&(r.maxWidth="")),kp(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=tt(s.y),i}_getExactOverlayX(e,t,r){let u,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=tt(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:OG(e,r),isOriginOutsideView:hN(e,r),isOverlayClipped:OG(t,r),isOverlayOutsideView:hN(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&ut(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function kp(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function FG(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split($Q);return t&&"px"!==t?null:parseFloat(e)}return n||null}function LG(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const VG="cdk-global-overlay-wrapper";class qQ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(VG),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:u,maxHeight:h}=r,p=!("100%"!==i&&"100vw"!==i||u&&"100%"!==u&&"100vw"!==u),y=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h);e.position=this._cssPosition,e.marginLeft=p?"0":this._leftOffset,e.marginTop=y?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,p?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(VG),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let KQ=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new qQ}flexibleConnectedTo(t){return new WQ(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Gv),c.LFG(Q),c.LFG(on),c.LFG(fN))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BG=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YQ=(()=>{class n extends BG{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let u=s.length-1;u>-1;u--)if(s[u]._keydownEvents.observers.length>0){const h=s[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(i)):h.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZQ=(()=>{class n extends BG{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ci(s)},this._clickListener=s=>{const u=ci(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let y=p.length-1;y>-1;y--){const E=p[y];if(E._outsidePointerEvents.observers.length<1||!E.hasAttached())continue;if(E.overlayElement.contains(u)||E.overlayElement.contains(h))break;const T=E._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(s)):T.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q),c.LFG(on),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QQ=0,rS=(()=>{class n{constructor(t,r,i,s,u,h,p,y,E,T,x){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=u,this._injector=h,this._ngZone=p,this._document=y,this._directionality=E,this._location=T,this._outsideClickDispatcher=x}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),u=new PG(t);return u.direction=u.direction||this._directionality.value,new zQ(s,r,i,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+QQ++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new VQ(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(HQ),c.LFG(fN),c.LFG(c._Vd),c.LFG(KQ),c.LFG(YQ),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(Q),c.LFG(ds),c.LFG(Ke),c.LFG(ZQ))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const e9={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[rS],useFactory:function JQ(n){return()=>n.scrollStrategies.reposition()}};let t9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[rS,e9],imports:[[xo,xG,VM],VM]}),n})();function n9(n,e){}class pN{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const r9={dialogContainer:Y_("dialogContainer",[fs("void, exit",qi({opacity:0,transform:"scale(0.7)"})),fs("enter",qi({transform:"none"})),fg("* => enter",x0([Yh("150ms cubic-bezier(0, 0, 0.2, 1)",qi({transform:"none",opacity:1})),pg("@*",bS(),{optional:!0})])),fg("* => void, * => exit",x0([Yh("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",qi({opacity:0})),pg("@*",bS(),{optional:!0})]))])};let i9=(()=>{class n extends dN{constructor(t,r,i,s,u,h,p,y){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=u,this._interactivityChecker=h,this._ngZone=p,this._focusMonitor=y,this._animationStateChanged=new c.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=E=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(E)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=pa())}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=pa(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=pa();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(z_),c.Y36(c.sBO),c.Y36(Q,8),c.Y36(pN),c.Y36(dg),c.Y36(c.R0b),c.Y36(q_))},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,r){if(1&t&&c.Gf(MG,7),2&t){let i;c.iGM(i=c.CRH())&&(r._portalOutlet=i.first)}},features:[c.qOj]}),n})(),s9=(()=>{class n extends i9{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&c.WFA("@dialogContainer.start",function(s){return r._onAnimationStart(s)})("@dialogContainer.done",function(s){return r._onAnimationDone(s)}),2&t&&(c.Ikx("id",r._id),c.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),c.d8E("@dialogContainer",r._state))},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&c.YNc(0,n9,0,0,"ng-template",0)},directives:[MG],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[r9.dialogContainer]}}),n})(),o9=0;class a9{constructor(e,t,r="mat-dialog-"+o9++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Ht.x,this._afterClosed=new Ht.x,this._beforeClosed=new Ht.x,this._state=0,t._id=r,t._animationStateChanged.pipe(dr(i=>"opened"===i.state),(0,Di.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(dr(i=>"closed"===i.state),(0,Di.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(dr(i=>27===i.keyCode&&!this.disableClose&&!rg(i))).subscribe(i=>{i.preventDefault(),UG(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():UG(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(dr(t=>"closing"===t.state),(0,Di.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function UG(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const l9=new c.OlP("MatDialogData"),u9=new c.OlP("mat-dialog-default-options"),jG=new c.OlP("mat-dialog-scroll-strategy"),d9={provide:jG,deps:[rS],useFactory:function c9(n){return()=>n.scrollStrategies.block()}};let h9=(()=>{class n{constructor(t,r,i,s,u,h,p,y,E,T){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=u,this._dialogRefConstructor=p,this._dialogContainerType=y,this._dialogDataToken=E,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ht.x,this._afterOpenedAtThisLevel=new Ht.x,this._ariaHiddenElements=new Map,this.afterAllClosed=_f(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(tc(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){r=function p9(n,e){return Object.assign(Object.assign({},e),n)}(r,this._defaultOptions||new pN),r.id&&this.getDialogById(r.id);const i=this._createOverlay(r),s=this._attachDialogContainer(i,r),u=this._attachDialogContent(t,s,i,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),s._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new PG({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const s=c.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:pN,useValue:r}]}),u=new cN(this._dialogContainerType,r.viewContainerRef,s,r.componentFactoryResolver);return t.attach(u).instance}_attachDialogContent(t,r,i,s){const u=new this._dialogRefConstructor(i,r,s.id);if(t instanceof c.Rgc)r.attachTemplatePortal(new AG(t,null,{$implicit:s.data,dialogRef:u}));else{const h=this._createInjector(s,u,r),p=r.attachComponentPortal(new cN(t,s.viewContainerRef,h,s.componentFactoryResolver));u.componentInstance=p.instance}return u.updateSize(s.width,s.height).updatePosition(s.position),u}_createInjector(t,r,i){const s=t&&t.viewContainerRef&&t.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!s||!s.get(ds,null,c.XFs.Optional))&&u.push({provide:ds,useValue:{value:t.direction,change:gt()}}),c.zs3.create({parent:s||this._injector,providers:u})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,s)=>{i?s.setAttribute("aria-hidden",i):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let s=r[i];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n}),n})(),f9=(()=>{class n extends h9{constructor(t,r,i,s,u,h,p,y){super(t,r,s,h,p,u,a9,s9,l9,y)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(rS),c.LFG(c.zs3),c.LFG(Ke,8),c.LFG(u9,8),c.LFG(jG),c.LFG(n,12),c.LFG(fN),c.LFG(go,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),HG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[f9,d9],imports:[[t9,xG,Tr],Tr]}),n})(),GG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ei,eV,nV,SG,vG,XL,rI,mG,wG,HG,IG.forRoot(),jr.hO.initializeApp(jD_firebase),H3(()=>G3(jD_firebase)),S5(()=>A5()),iH,YW],eV,nV,SG,vG,wG,XL,rI,mG,HG,IG,iH]}),n})(),g9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ei,GG]]}),n})(),m9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[wq]}),n.\u0275inj=c.cJS({providers:[],imports:[[Hl,pd,Rv.forRoot([],{initialNavigation:"enabledBlocking"}),wE,g9,GG]]}),n})();(0,c.G48)(),jc().bootstrapModule(m9).catch(n=>console.error(n))},3014:(Ae,ye,R)=>{Ae.exports=R(7114)},7729:(Ae,ye,R)=>{"use strict";var c=R(4701),B=R(858),k=R(5738),K=R(1625),ee=R(5215),le=R(2099),Q=R(6100),ne=R(5593),ce=R(5867),H=R(1413);Ae.exports=function(W){return new Promise(function(Me,ke){var Oe,Be=W.data,Ee=W.headers,Ce=W.responseType;function je(){W.cancelToken&&W.cancelToken.unsubscribe(Oe),W.signal&&W.signal.removeEventListener("abort",Oe)}c.isFormData(Be)&&delete Ee["Content-Type"];var ve=new XMLHttpRequest;if(W.auth){var Ke=W.auth.username||"",Pe=W.auth.password?unescape(encodeURIComponent(W.auth.password)):"";Ee.Authorization="Basic "+btoa(Ke+":"+Pe)}var Je=ee(W.baseURL,W.url);function X(){if(ve){var F="getAllResponseHeaders"in ve?le(ve.getAllResponseHeaders()):null;B(function(me){Me(me),je()},function(me){ke(me),je()},{data:Ce&&"text"!==Ce&&"json"!==Ce?ve.response:ve.responseText,status:ve.status,statusText:ve.statusText,headers:F,config:W,request:ve}),ve=null}}if(ve.open(W.method.toUpperCase(),K(Je,W.params,W.paramsSerializer),!0),ve.timeout=W.timeout,"onloadend"in ve?ve.onloadend=X:ve.onreadystatechange=function(){!ve||4!==ve.readyState||0===ve.status&&(!ve.responseURL||0!==ve.responseURL.indexOf("file:"))||setTimeout(X)},ve.onabort=function(){!ve||(ke(ne("Request aborted",W,"ECONNABORTED",ve)),ve=null)},ve.onerror=function(){ke(ne("Network Error",W,null,ve)),ve=null},ve.ontimeout=function(){var $=W.timeout?"timeout of "+W.timeout+"ms exceeded":"timeout exceeded";W.timeoutErrorMessage&&($=W.timeoutErrorMessage),ke(ne($,W,(W.transitional||ce).clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",ve)),ve=null},c.isStandardBrowserEnv()){var be=(W.withCredentials||Q(Je))&&W.xsrfCookieName?k.read(W.xsrfCookieName):void 0;be&&(Ee[W.xsrfHeaderName]=be)}"setRequestHeader"in ve&&c.forEach(Ee,function($,q){void 0===Be&&"content-type"===q.toLowerCase()?delete Ee[q]:ve.setRequestHeader(q,$)}),c.isUndefined(W.withCredentials)||(ve.withCredentials=!!W.withCredentials),Ce&&"json"!==Ce&&(ve.responseType=W.responseType),"function"==typeof W.onDownloadProgress&&ve.addEventListener("progress",W.onDownloadProgress),"function"==typeof W.onUploadProgress&&ve.upload&&ve.upload.addEventListener("progress",W.onUploadProgress),(W.cancelToken||W.signal)&&(Oe=function(F){!ve||(ke(!F||F&&F.type?new H("canceled"):F),ve.abort(),ve=null)},W.cancelToken&&W.cancelToken.subscribe(Oe),W.signal&&(W.signal.aborted?Oe():W.signal.addEventListener("abort",Oe))),Be||(Be=null),ve.send(Be)})}},7114:(Ae,ye,R)=>{"use strict";var c=R(4701),B=R(2414),k=R(6490),K=R(2971),Q=function le(ne){var ce=new k(ne),H=B(k.prototype.request,ce);return c.extend(H,k.prototype,ce),c.extend(H,ce),H.create=function(W){return le(K(ne,W))},H}(R(4498));Q.Axios=k,Q.Cancel=R(1413),Q.CancelToken=R(3056),Q.isCancel=R(8827),Q.VERSION=R(1773).version,Q.all=function(ce){return Promise.all(ce)},Q.spread=R(9211),Q.isAxiosError=R(4603),Ae.exports=Q,Ae.exports.default=Q},1413:Ae=>{"use strict";function ye(R){this.message=R}ye.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},ye.prototype.__CANCEL__=!0,Ae.exports=ye},3056:(Ae,ye,R)=>{"use strict";var c=R(1413);function B(k){if("function"!=typeof k)throw new TypeError("executor must be a function.");var K;this.promise=new Promise(function(Q){K=Q});var ee=this;this.promise.then(function(le){if(ee._listeners){var Q,ne=ee._listeners.length;for(Q=0;Q<ne;Q++)ee._listeners[Q](le);ee._listeners=null}}),this.promise.then=function(le){var Q,ne=new Promise(function(ce){ee.subscribe(ce),Q=ce}).then(le);return ne.cancel=function(){ee.unsubscribe(Q)},ne},k(function(Q){ee.reason||(ee.reason=new c(Q),K(ee.reason))})}B.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},B.prototype.subscribe=function(K){this.reason?K(this.reason):this._listeners?this._listeners.push(K):this._listeners=[K]},B.prototype.unsubscribe=function(K){if(this._listeners){var ee=this._listeners.indexOf(K);-1!==ee&&this._listeners.splice(ee,1)}},B.source=function(){var K;return{token:new B(function(Q){K=Q}),cancel:K}},Ae.exports=B},8827:Ae=>{"use strict";Ae.exports=function(R){return!(!R||!R.__CANCEL__)}},6490:(Ae,ye,R)=>{"use strict";var c=R(4701),B=R(1625),k=R(607),K=R(957),ee=R(2971),le=R(4828),Q=le.validators;function ne(ce){this.defaults=ce,this.interceptors={request:new k,response:new k}}ne.prototype.request=function(H,U){"string"==typeof H?(U=U||{}).url=H:U=H||{},(U=ee(this.defaults,U)).method=U.method?U.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var W=U.transitional;void 0!==W&&le.assertOptions(W,{silentJSONParsing:Q.transitional(Q.boolean),forcedJSONParsing:Q.transitional(Q.boolean),clarifyTimeoutError:Q.transitional(Q.boolean)},!1);var Ne=[],Me=!0;this.interceptors.request.forEach(function(Ke){"function"==typeof Ke.runWhen&&!1===Ke.runWhen(U)||(Me=Me&&Ke.synchronous,Ne.unshift(Ke.fulfilled,Ke.rejected))});var Be,ke=[];if(this.interceptors.response.forEach(function(Ke){ke.push(Ke.fulfilled,Ke.rejected)}),!Me){var Ee=[K,void 0];for(Array.prototype.unshift.apply(Ee,Ne),Ee=Ee.concat(ke),Be=Promise.resolve(U);Ee.length;)Be=Be.then(Ee.shift(),Ee.shift());return Be}for(var Ce=U;Ne.length;){var Oe=Ne.shift(),je=Ne.shift();try{Ce=Oe(Ce)}catch(ve){je(ve);break}}try{Be=K(Ce)}catch(ve){return Promise.reject(ve)}for(;ke.length;)Be=Be.then(ke.shift(),ke.shift());return Be},ne.prototype.getUri=function(H){return H=ee(this.defaults,H),B(H.url,H.params,H.paramsSerializer).replace(/^\?/,"")},c.forEach(["delete","get","head","options"],function(H){ne.prototype[H]=function(U,W){return this.request(ee(W||{},{method:H,url:U,data:(W||{}).data}))}}),c.forEach(["post","put","patch"],function(H){ne.prototype[H]=function(U,W,Ne){return this.request(ee(Ne||{},{method:H,url:U,data:W}))}}),Ae.exports=ne},607:(Ae,ye,R)=>{"use strict";var c=R(4701);function B(){this.handlers=[]}B.prototype.use=function(K,ee,le){return this.handlers.push({fulfilled:K,rejected:ee,synchronous:!!le&&le.synchronous,runWhen:le?le.runWhen:null}),this.handlers.length-1},B.prototype.eject=function(K){this.handlers[K]&&(this.handlers[K]=null)},B.prototype.forEach=function(K){c.forEach(this.handlers,function(le){null!==le&&K(le)})},Ae.exports=B},5215:(Ae,ye,R)=>{"use strict";var c=R(8692),B=R(4554);Ae.exports=function(K,ee){return K&&!c(ee)?B(K,ee):ee}},5593:(Ae,ye,R)=>{"use strict";var c=R(5124);Ae.exports=function(k,K,ee,le,Q){var ne=new Error(k);return c(ne,K,ee,le,Q)}},957:(Ae,ye,R)=>{"use strict";var c=R(4701),B=R(5134),k=R(8827),K=R(4498),ee=R(1413);function le(Q){if(Q.cancelToken&&Q.cancelToken.throwIfRequested(),Q.signal&&Q.signal.aborted)throw new ee("canceled")}Ae.exports=function(ne){return le(ne),ne.headers=ne.headers||{},ne.data=B.call(ne,ne.data,ne.headers,ne.transformRequest),ne.headers=c.merge(ne.headers.common||{},ne.headers[ne.method]||{},ne.headers),c.forEach(["delete","get","head","post","put","patch","common"],function(U){delete ne.headers[U]}),(ne.adapter||K.adapter)(ne).then(function(U){return le(ne),U.data=B.call(ne,U.data,U.headers,ne.transformResponse),U},function(U){return k(U)||(le(ne),U&&U.response&&(U.response.data=B.call(ne,U.response.data,U.response.headers,ne.transformResponse))),Promise.reject(U)})}},5124:Ae=>{"use strict";Ae.exports=function(R,c,B,k,K){return R.config=c,B&&(R.code=B),R.request=k,R.response=K,R.isAxiosError=!0,R.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},R}},2971:(Ae,ye,R)=>{"use strict";var c=R(4701);Ae.exports=function(k,K){K=K||{};var ee={};function le(W,Ne){return c.isPlainObject(W)&&c.isPlainObject(Ne)?c.merge(W,Ne):c.isPlainObject(Ne)?c.merge({},Ne):c.isArray(Ne)?Ne.slice():Ne}function Q(W){return c.isUndefined(K[W])?c.isUndefined(k[W])?void 0:le(void 0,k[W]):le(k[W],K[W])}function ne(W){if(!c.isUndefined(K[W]))return le(void 0,K[W])}function ce(W){return c.isUndefined(K[W])?c.isUndefined(k[W])?void 0:le(void 0,k[W]):le(void 0,K[W])}function H(W){return W in K?le(k[W],K[W]):W in k?le(void 0,k[W]):void 0}var U={url:ne,method:ne,data:ne,baseURL:ce,transformRequest:ce,transformResponse:ce,paramsSerializer:ce,timeout:ce,timeoutMessage:ce,withCredentials:ce,adapter:ce,responseType:ce,xsrfCookieName:ce,xsrfHeaderName:ce,onUploadProgress:ce,onDownloadProgress:ce,decompress:ce,maxContentLength:ce,maxBodyLength:ce,transport:ce,httpAgent:ce,httpsAgent:ce,cancelToken:ce,socketPath:ce,responseEncoding:ce,validateStatus:H};return c.forEach(Object.keys(k).concat(Object.keys(K)),function(Ne){var Me=U[Ne]||Q,ke=Me(Ne);c.isUndefined(ke)&&Me!==H||(ee[Ne]=ke)}),ee}},858:(Ae,ye,R)=>{"use strict";var c=R(5593);Ae.exports=function(k,K,ee){var le=ee.config.validateStatus;ee.status&&le&&!le(ee.status)?K(c("Request failed with status code "+ee.status,ee.config,null,ee.request,ee)):k(ee)}},5134:(Ae,ye,R)=>{"use strict";var c=R(4701),B=R(4498);Ae.exports=function(K,ee,le){var Q=this||B;return c.forEach(le,function(ce){K=ce.call(Q,K,ee)}),K}},4498:(Ae,ye,R)=>{"use strict";var c=R(4701),B=R(5620),k=R(5124),K=R(5867),ee={"Content-Type":"application/x-www-form-urlencoded"};function le(H,U){!c.isUndefined(H)&&c.isUndefined(H["Content-Type"])&&(H["Content-Type"]=U)}var ce={transitional:K,adapter:function Q(){var H;return("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(H=R(7729)),H}(),transformRequest:[function(U,W){return B(W,"Accept"),B(W,"Content-Type"),c.isFormData(U)||c.isArrayBuffer(U)||c.isBuffer(U)||c.isStream(U)||c.isFile(U)||c.isBlob(U)?U:c.isArrayBufferView(U)?U.buffer:c.isURLSearchParams(U)?(le(W,"application/x-www-form-urlencoded;charset=utf-8"),U.toString()):c.isObject(U)||W&&"application/json"===W["Content-Type"]?(le(W,"application/json"),function ne(H,U,W){if(c.isString(H))try{return(U||JSON.parse)(H),c.trim(H)}catch(Ne){if("SyntaxError"!==Ne.name)throw Ne}return(W||JSON.stringify)(H)}(U)):U}],transformResponse:[function(U){var W=this.transitional||ce.transitional,ke=!(W&&W.silentJSONParsing)&&"json"===this.responseType;if(ke||W&&W.forcedJSONParsing&&c.isString(U)&&U.length)try{return JSON.parse(U)}catch(Be){if(ke)throw"SyntaxError"===Be.name?k(Be,this,"E_JSON_PARSE"):Be}return U}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(U){return U>=200&&U<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};c.forEach(["delete","get","head"],function(U){ce.headers[U]={}}),c.forEach(["post","put","patch"],function(U){ce.headers[U]=c.merge(ee)}),Ae.exports=ce},5867:Ae=>{"use strict";Ae.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},1773:Ae=>{Ae.exports={version:"0.26.1"}},2414:Ae=>{"use strict";Ae.exports=function(R,c){return function(){for(var k=new Array(arguments.length),K=0;K<k.length;K++)k[K]=arguments[K];return R.apply(c,k)}}},1625:(Ae,ye,R)=>{"use strict";var c=R(4701);function B(k){return encodeURIComponent(k).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}Ae.exports=function(K,ee,le){if(!ee)return K;var Q;if(le)Q=le(ee);else if(c.isURLSearchParams(ee))Q=ee.toString();else{var ne=[];c.forEach(ee,function(U,W){null==U||(c.isArray(U)?W+="[]":U=[U],c.forEach(U,function(Me){c.isDate(Me)?Me=Me.toISOString():c.isObject(Me)&&(Me=JSON.stringify(Me)),ne.push(B(W)+"="+B(Me))}))}),Q=ne.join("&")}if(Q){var ce=K.indexOf("#");-1!==ce&&(K=K.slice(0,ce)),K+=(-1===K.indexOf("?")?"?":"&")+Q}return K}},4554:Ae=>{"use strict";Ae.exports=function(R,c){return c?R.replace(/\/+$/,"")+"/"+c.replace(/^\/+/,""):R}},5738:(Ae,ye,R)=>{"use strict";var c=R(4701);Ae.exports=c.isStandardBrowserEnv()?{write:function(K,ee,le,Q,ne,ce){var H=[];H.push(K+"="+encodeURIComponent(ee)),c.isNumber(le)&&H.push("expires="+new Date(le).toGMTString()),c.isString(Q)&&H.push("path="+Q),c.isString(ne)&&H.push("domain="+ne),!0===ce&&H.push("secure"),document.cookie=H.join("; ")},read:function(K){var ee=document.cookie.match(new RegExp("(^|;\\s*)("+K+")=([^;]*)"));return ee?decodeURIComponent(ee[3]):null},remove:function(K){this.write(K,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},8692:Ae=>{"use strict";Ae.exports=function(R){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(R)}},4603:(Ae,ye,R)=>{"use strict";var c=R(4701);Ae.exports=function(k){return c.isObject(k)&&!0===k.isAxiosError}},6100:(Ae,ye,R)=>{"use strict";var c=R(4701);Ae.exports=c.isStandardBrowserEnv()?function(){var ee,k=/(msie|trident)/i.test(navigator.userAgent),K=document.createElement("a");function le(Q){var ne=Q;return k&&(K.setAttribute("href",ne),ne=K.href),K.setAttribute("href",ne),{href:K.href,protocol:K.protocol?K.protocol.replace(/:$/,""):"",host:K.host,search:K.search?K.search.replace(/^\?/,""):"",hash:K.hash?K.hash.replace(/^#/,""):"",hostname:K.hostname,port:K.port,pathname:"/"===K.pathname.charAt(0)?K.pathname:"/"+K.pathname}}return ee=le(window.location.href),function(ne){var ce=c.isString(ne)?le(ne):ne;return ce.protocol===ee.protocol&&ce.host===ee.host}}():function(){return!0}},5620:(Ae,ye,R)=>{"use strict";var c=R(4701);Ae.exports=function(k,K){c.forEach(k,function(le,Q){Q!==K&&Q.toUpperCase()===K.toUpperCase()&&(k[K]=le,delete k[Q])})}},2099:(Ae,ye,R)=>{"use strict";var c=R(4701),B=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];Ae.exports=function(K){var le,Q,ne,ee={};return K&&c.forEach(K.split("\n"),function(H){if(ne=H.indexOf(":"),le=c.trim(H.substr(0,ne)).toLowerCase(),Q=c.trim(H.substr(ne+1)),le){if(ee[le]&&B.indexOf(le)>=0)return;ee[le]="set-cookie"===le?(ee[le]?ee[le]:[]).concat([Q]):ee[le]?ee[le]+", "+Q:Q}}),ee}},9211:Ae=>{"use strict";Ae.exports=function(R){return function(B){return R.apply(null,B)}}},4828:(Ae,ye,R)=>{"use strict";var c=R(1773).version,B={};["object","boolean","number","function","string","symbol"].forEach(function(ee,le){B[ee]=function(ne){return typeof ne===ee||"a"+(le<1?"n ":" ")+ee}});var k={};B.transitional=function(le,Q,ne){function ce(H,U){return"[Axios v"+c+"] Transitional option '"+H+"'"+U+(ne?". "+ne:"")}return function(H,U,W){if(!1===le)throw new Error(ce(U," has been removed"+(Q?" in "+Q:"")));return Q&&!k[U]&&(k[U]=!0,console.warn(ce(U," has been deprecated since v"+Q+" and will be removed in the near future"))),!le||le(H,U,W)}},Ae.exports={assertOptions:function K(ee,le,Q){if("object"!=typeof ee)throw new TypeError("options must be an object");for(var ne=Object.keys(ee),ce=ne.length;ce-- >0;){var H=ne[ce],U=le[H];if(U){var W=ee[H],Ne=void 0===W||U(W,H,ee);if(!0!==Ne)throw new TypeError("option "+H+" must be "+Ne)}else if(!0!==Q)throw Error("Unknown option "+H)}},validators:B}},4701:(Ae,ye,R)=>{"use strict";var c=R(2414),B=Object.prototype.toString;function k(X){return Array.isArray(X)}function K(X){return void 0===X}function le(X){return"[object ArrayBuffer]"===B.call(X)}function U(X){return null!==X&&"object"==typeof X}function W(X){if("[object Object]"!==B.call(X))return!1;var be=Object.getPrototypeOf(X);return null===be||be===Object.prototype}function Be(X){return"[object Function]"===B.call(X)}function ve(X,be){if(null!=X)if("object"!=typeof X&&(X=[X]),k(X))for(var F=0,$=X.length;F<$;F++)be.call(null,X[F],F,X);else for(var q in X)Object.prototype.hasOwnProperty.call(X,q)&&be.call(null,X[q],q,X)}Ae.exports={isArray:k,isArrayBuffer:le,isBuffer:function ee(X){return null!==X&&!K(X)&&null!==X.constructor&&!K(X.constructor)&&"function"==typeof X.constructor.isBuffer&&X.constructor.isBuffer(X)},isFormData:function Q(X){return"[object FormData]"===B.call(X)},isArrayBufferView:function ne(X){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(X):X&&X.buffer&&le(X.buffer)},isString:function ce(X){return"string"==typeof X},isNumber:function H(X){return"number"==typeof X},isObject:U,isPlainObject:W,isUndefined:K,isDate:function Ne(X){return"[object Date]"===B.call(X)},isFile:function Me(X){return"[object File]"===B.call(X)},isBlob:function ke(X){return"[object Blob]"===B.call(X)},isFunction:Be,isStream:function Ee(X){return U(X)&&Be(X.pipe)},isURLSearchParams:function Ce(X){return"[object URLSearchParams]"===B.call(X)},isStandardBrowserEnv:function je(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:ve,merge:function Ke(){var X={};function be(q,re){X[re]=W(X[re])&&W(q)?Ke(X[re],q):W(q)?Ke({},q):k(q)?q.slice():q}for(var F=0,$=arguments.length;F<$;F++)ve(arguments[F],be);return X},extend:function Pe(X,be,F){return ve(be,function(q,re){X[re]=F&&"function"==typeof q?c(q,F):q}),X},trim:function Oe(X){return X.trim?X.trim():X.replace(/^\s+|\s+$/g,"")},stripBOM:function Je(X){return 65279===X.charCodeAt(0)&&(X=X.slice(1)),X}}},7835:(Ae,ye,R)=>{"use strict";R.d(ye,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=R(9681);(0,c.registerVersion)("firebase","9.8.2","app")},127:(Ae,ye,R)=>{"use strict";R.d(ye,{Z:()=>c.Z});var c=R(3942);c.Z.registerVersion("firebase","9.8.2","app-compat")},5881:(Ae,ye,R)=>{"use strict";R.r(ye);var c=R(9671),B=R(3942),k=R(2587),K=R(2090),Q=(R(9681),R(1877),R(4859));function ne(){return window}function U(){return(U=(0,c.Z)(function*(we,de,ae){var Fe;const{BuildInfo:Qe}=ne();(0,k.aq)(de.sessionId,"AuthEvent did not contain a session ID");const _t=yield Ce(de.sessionId),Nt={};return(0,k.ar)()?Nt.ibi=Qe.packageName:(0,k.as)()?Nt.apn=Qe.packageName:(0,k.at)(we,"operation-not-supported-in-this-environment"),Qe.displayName&&(Nt.appDisplayName=Qe.displayName),Nt.sessionId=_t,(0,k.au)(we,ae,de.type,void 0,null!==(Fe=de.eventId)&&void 0!==Fe?Fe:void 0,Nt)})).apply(this,arguments)}function Ne(){return(Ne=(0,c.Z)(function*(we){const{BuildInfo:de}=ne(),ae={};(0,k.ar)()?ae.iosBundleId=de.packageName:(0,k.as)()?ae.androidPackageName=de.packageName:(0,k.at)(we,"operation-not-supported-in-this-environment"),yield(0,k.av)(we,ae)})).apply(this,arguments)}function Be(){return(Be=(0,c.Z)(function*(we,de,ae){const{cordova:Fe}=ne();let Qe=()=>{};try{yield new Promise((_t,Nt)=>{let tn=null;function Kt(){var Yt;_t();const Vr=null===(Yt=Fe.plugins.browsertab)||void 0===Yt?void 0:Yt.close;"function"==typeof Vr&&Vr(),"function"==typeof(null==ae?void 0:ae.close)&&ae.close()}function Xn(){tn||(tn=window.setTimeout(()=>{Nt((0,k.aw)(we,"redirect-cancelled-by-user"))},2e3))}function ii(){"visible"===(null==document?void 0:document.visibilityState)&&Xn()}de.addPassiveListener(Kt),document.addEventListener("resume",Xn,!1),(0,k.as)()&&document.addEventListener("visibilitychange",ii,!1),Qe=()=>{de.removePassiveListener(Kt),document.removeEventListener("resume",Xn,!1),document.removeEventListener("visibilitychange",ii,!1),tn&&window.clearTimeout(tn)}})}finally{Qe()}})).apply(this,arguments)}function Ce(we){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,c.Z)(function*(we){const de=je(we),ae=yield crypto.subtle.digest("SHA-256",de);return Array.from(new Uint8Array(ae)).map(Qe=>Qe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function je(we){if((0,k.aq)(/[0-9a-zA-Z]+/.test(we),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(we);const de=new ArrayBuffer(we.length),ae=new Uint8Array(de);for(let Fe=0;Fe<we.length;Fe++)ae[Fe]=we.charCodeAt(Fe);return ae}class Ke extends k.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(de=>{this.resolveInialized=de})}addPassiveListener(de){this.passiveListeners.add(de)}removePassiveListener(de){this.passiveListeners.delete(de)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(de){return this.resolveInialized(),this.passiveListeners.forEach(ae=>ae(de)),super.onEvent(de)}initialized(){var de=this;return(0,c.Z)(function*(){yield de.initPromise})()}}function X(we){return be.apply(this,arguments)}function be(){return(be=(0,c.Z)(function*(we){const de=yield q()._get(re(we));return de&&(yield q()._remove(re(we))),de})).apply(this,arguments)}function $(){const we=[],de="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ae=0;ae<20;ae++){const Fe=Math.floor(Math.random()*de.length);we.push(de.charAt(Fe))}return we.join("")}function q(){return(0,k.ay)(k.b)}function re(we){return(0,k.az)("authEvent",we.config.apiKey,we.name)}function We(we){if(!(null==we?void 0:we.includes("?")))return{};const[de,...ae]=we.split("?");return(0,K.zd)(ae.join("?"))}function lt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.aw)("no-auth-event")}}function qt(){var we;return(null===(we=null==self?void 0:self.location)||void 0===we?void 0:we.protocol)||null}function Fn(we=(0,K.z$)()){return!("file:"!==qt()&&"ionic:"!==qt()&&"capacitor:"!==qt()||!we.toLowerCase().match(/iphone|ipad|ipod|android/))}function mi(){try{const we=self.localStorage,de=k.aI();if(we)return we.setItem(de,"1"),we.removeItem(de),!function is(we=(0,K.z$)()){return function Lr(){return(0,K.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Un(we=(0,K.z$)()){return/Edge\/\d+/.test(we)}(we)}()||(0,K.hl)()}catch(we){return ji()&&(0,K.hl)()}return!1}function ji(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function zn(){return(function gn(){return"http:"===qt()||"https:"===qt()}()||(0,K.ru)()||Fn())&&!function Ui(){return(0,K.b$)()||(0,K.UG)()}()&&mi()&&!ji()}function ss(){return Fn()&&"undefined"!=typeof document}function qr(){return(qr=(0,c.Z)(function*(){return!!ss()&&new Promise(we=>{const de=setTimeout(()=>{we(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(de),we(!0)})})})).apply(this,arguments)}const hn={LOCAL:"local",NONE:"none",SESSION:"session"},Ar=k.ax,sr="persistence";function Pn(we){return or.apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(we){yield we._initializationPromise;const de=Zt(),ae=k.az(sr,we.config.apiKey,we.name);de&&de.setItem(ae,we._getPersistence())})).apply(this,arguments)}function Zt(){var we;try{return(null===(we=function On(){return"undefined"!=typeof window?window:null}())||void 0===we?void 0:we.sessionStorage)||null}catch(de){return null}}const yt=k.ax;class ht{constructor(){this.browserResolver=k.ay(k.k),this.cordovaResolver=k.ay(class pn{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(de){var ae=this;return(0,c.Z)(function*(){const Fe=de._key();let Qe=ae.eventManagers.get(Fe);return Qe||(Qe=new Ke(de),ae.eventManagers.set(Fe,Qe),ae.attachCallbackListeners(de,Qe)),Qe})()}_openPopup(de){(0,k.at)(de,"operation-not-supported-in-this-environment")}_openRedirect(de,ae,Fe,Qe){var _t=this;return(0,c.Z)(function*(){!function Ee(we){var de,ae,Fe,Qe,_t,Nt,tn,Kt,Xn,ii;const Yt=ne();(0,k.ax)("function"==typeof(null===(de=null==Yt?void 0:Yt.universalLinks)||void 0===de?void 0:de.subscribe),we,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.ax)(void 0!==(null===(ae=null==Yt?void 0:Yt.BuildInfo)||void 0===ae?void 0:ae.packageName),we,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.ax)("function"==typeof(null===(_t=null===(Qe=null===(Fe=null==Yt?void 0:Yt.cordova)||void 0===Fe?void 0:Fe.plugins)||void 0===Qe?void 0:Qe.browsertab)||void 0===_t?void 0:_t.openUrl),we,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(Kt=null===(tn=null===(Nt=null==Yt?void 0:Yt.cordova)||void 0===Nt?void 0:Nt.plugins)||void 0===tn?void 0:tn.browsertab)||void 0===Kt?void 0:Kt.isAvailable),we,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(ii=null===(Xn=null==Yt?void 0:Yt.cordova)||void 0===Xn?void 0:Xn.InAppBrowser)||void 0===ii?void 0:ii.open),we,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(de);const Nt=yield _t._initialize(de);yield Nt.initialized(),Nt.resetRedirect(),(0,k.aD)(),yield _t._originValidation(de);const tn=function Pe(we,de,ae=null){return{type:de,eventId:ae,urlResponse:null,sessionId:$(),postBody:null,tenantId:we.tenantId,error:(0,k.aw)(we,"no-auth-event")}}(de,Fe,Qe);yield function Je(we,de){return q()._set(re(we),de)}(de,tn);const Kt=yield function H(we,de,ae){return U.apply(this,arguments)}(de,tn,ae),Xn=yield function Me(we){const{cordova:de}=ne();return new Promise(ae=>{de.plugins.browsertab.isAvailable(Fe=>{let Qe=null;Fe?de.plugins.browsertab.openUrl(we):Qe=de.InAppBrowser.open(we,(0,k.ap)()?"_blank":"_system","location=yes"),ae(Qe)})})}(Kt);return function ke(we,de,ae){return Be.apply(this,arguments)}(de,Nt,Xn)})()}_isIframeWebStorageSupported(de,ae){throw new Error("Method not implemented.")}_originValidation(de){const ae=de._key();return this.originValidationPromises[ae]||(this.originValidationPromises[ae]=function W(we){return Ne.apply(this,arguments)}(de)),this.originValidationPromises[ae]}attachCallbackListeners(de,ae){const{universalLinks:Fe,handleOpenURL:Qe,BuildInfo:_t}=ne(),Nt=setTimeout((0,c.Z)(function*(){yield X(de),ae.onEvent(lt())}),500),tn=function(){var ii=(0,c.Z)(function*(Yt){clearTimeout(Nt);const Vr=yield X(de);let as=null;Vr&&(null==Yt?void 0:Yt.url)&&(as=function F(we,de){var ae,Fe;const Qe=function te(we){const de=We(we),ae=de.link?decodeURIComponent(de.link):void 0,Fe=We(ae).link,Qe=de.deep_link_id?decodeURIComponent(de.deep_link_id):void 0;return We(Qe).link||Qe||Fe||ae||we}(de);if(Qe.includes("/__/auth/callback")){const _t=We(Qe),Nt=_t.firebaseError?function me(we){try{return JSON.parse(we)}catch(de){return null}}(decodeURIComponent(_t.firebaseError)):null,tn=null===(Fe=null===(ae=null==Nt?void 0:Nt.code)||void 0===ae?void 0:ae.split("auth/"))||void 0===Fe?void 0:Fe[1],Kt=tn?(0,k.aw)(tn):null;return Kt?{type:we.type,eventId:we.eventId,tenantId:we.tenantId,error:Kt,urlResponse:null,sessionId:null,postBody:null}:{type:we.type,eventId:we.eventId,tenantId:we.tenantId,sessionId:we.sessionId,urlResponse:Qe,postBody:null}}return null}(Vr,Yt.url)),ae.onEvent(as||lt())});return function(Vr){return ii.apply(this,arguments)}}();void 0!==Fe&&"function"==typeof Fe.subscribe&&Fe.subscribe(null,tn);const Kt=Qe,Xn=`${_t.packageName.toLowerCase()}://`;ne().handleOpenURL=function(){var ii=(0,c.Z)(function*(Yt){if(Yt.toLowerCase().startsWith(Xn)&&tn({url:Yt}),"function"==typeof Kt)try{Kt(Yt)}catch(Vr){console.error(Vr)}});return function(Yt){return ii.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(de){var ae=this;return(0,c.Z)(function*(){return yield ae.selectUnderlyingResolver(),ae.assertedUnderlyingResolver._initialize(de)})()}_openPopup(de,ae,Fe,Qe){var _t=this;return(0,c.Z)(function*(){return yield _t.selectUnderlyingResolver(),_t.assertedUnderlyingResolver._openPopup(de,ae,Fe,Qe)})()}_openRedirect(de,ae,Fe,Qe){var _t=this;return(0,c.Z)(function*(){return yield _t.selectUnderlyingResolver(),_t.assertedUnderlyingResolver._openRedirect(de,ae,Fe,Qe)})()}_isIframeWebStorageSupported(de,ae){this.assertedUnderlyingResolver._isIframeWebStorageSupported(de,ae)}_originValidation(de){return this.assertedUnderlyingResolver._originValidation(de)}get _shouldInitProactively(){return ss()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var de=this;return(0,c.Z)(function*(){if(de.underlyingResolver)return;const ae=yield function Ct(){return qr.apply(this,arguments)}();de.underlyingResolver=ae?de.cordovaResolver:de.browserResolver})()}}function _i(we){return we.unwrap()}function Qt(we){return $n(we)}function $n(we){const{_tokenResponse:de}=we instanceof K.ZR?we.customData:we;if(!de)return null;if(!(we instanceof K.ZR)&&"temporaryProof"in de&&"phoneNumber"in de)return k.P.credentialFromResult(we);const ae=de.providerId;if(!ae||ae===k.o.PASSWORD)return null;let Fe;switch(ae){case k.o.GOOGLE:Fe=k.Q;break;case k.o.FACEBOOK:Fe=k.N;break;case k.o.GITHUB:Fe=k.T;break;case k.o.TWITTER:Fe=k.W;break;default:const{oauthIdToken:Qe,oauthAccessToken:_t,oauthTokenSecret:Nt,pendingToken:tn,nonce:Kt}=de;return _t||Nt||Qe||tn?tn?ae.startsWith("saml.")?k.aL._create(ae,tn):k.J._fromParams({providerId:ae,signInMethod:ae,pendingToken:tn,idToken:Qe,accessToken:_t}):new k.U(ae).credential({idToken:Qe,accessToken:_t,rawNonce:Kt}):null}return we instanceof K.ZR?Fe.credentialFromError(we):Fe.credentialFromResult(we)}function bn(we,de){return de.catch(ae=>{throw ae instanceof K.ZR&&function os(we,de){var ae;const Fe=null===(ae=de.customData)||void 0===ae?void 0:ae._tokenResponse;if("auth/multi-factor-auth-required"===de.code)de.resolver=new ue(we,k.an(we,de));else if(Fe){const Qe=$n(de),_t=de;Qe&&(_t.credential=Qe,_t.tenantId=Fe.tenantId||void 0,_t.email=Fe.email||void 0,_t.phoneNumber=Fe.phoneNumber||void 0)}}(we,ae),ae}).then(ae=>{const Qe=ae.user;return{operationType:ae.operationType,credential:Qt(ae),additionalUserInfo:k.al(ae),user:xe.getOrCreate(Qe)}})}function J(we,de){return oe.apply(this,arguments)}function oe(){return(oe=(0,c.Z)(function*(we,de){const ae=yield de;return{verificationId:ae.verificationId,confirm:Fe=>bn(we,ae.confirm(Fe))}})).apply(this,arguments)}class ue{constructor(de,ae){this.resolver=ae,this.auth=function yi(we){return we.wrapped()}(de)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(de){return bn(_i(this.auth),this.resolver.resolveSignIn(de))}}class xe{constructor(de){this._delegate=de,this.multiFactor=k.ao(de)}static getOrCreate(de){return xe.USER_MAP.has(de)||xe.USER_MAP.set(de,new xe(de)),xe.USER_MAP.get(de)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(de){return this._delegate.getIdTokenResult(de)}getIdToken(de){return this._delegate.getIdToken(de)}linkAndRetrieveDataWithCredential(de){return this.linkWithCredential(de)}linkWithCredential(de){var ae=this;return(0,c.Z)(function*(){return bn(ae.auth,k.Z(ae._delegate,de))})()}linkWithPhoneNumber(de,ae){var Fe=this;return(0,c.Z)(function*(){return J(Fe.auth,k.l(Fe._delegate,de,ae))})()}linkWithPopup(de){var ae=this;return(0,c.Z)(function*(){return bn(ae.auth,k.d(ae._delegate,de,ht))})()}linkWithRedirect(de){var ae=this;return(0,c.Z)(function*(){return yield Pn(k.aE(ae.auth)),k.g(ae._delegate,de,ht)})()}reauthenticateAndRetrieveDataWithCredential(de){return this.reauthenticateWithCredential(de)}reauthenticateWithCredential(de){var ae=this;return(0,c.Z)(function*(){return bn(ae.auth,k._(ae._delegate,de))})()}reauthenticateWithPhoneNumber(de,ae){return J(this.auth,k.r(this._delegate,de,ae))}reauthenticateWithPopup(de){return bn(this.auth,k.e(this._delegate,de,ht))}reauthenticateWithRedirect(de){var ae=this;return(0,c.Z)(function*(){return yield Pn(k.aE(ae.auth)),k.h(ae._delegate,de,ht)})()}sendEmailVerification(de){return k.ab(this._delegate,de)}unlink(de){var ae=this;return(0,c.Z)(function*(){return yield k.ak(ae._delegate,de),ae})()}updateEmail(de){return k.ag(this._delegate,de)}updatePassword(de){return k.ah(this._delegate,de)}updatePhoneNumber(de){return k.u(this._delegate,de)}updateProfile(de){return k.af(this._delegate,de)}verifyBeforeUpdateEmail(de,ae){return k.ac(this._delegate,de,ae)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xe.USER_MAP=new WeakMap;const se=k.ax;let pe=(()=>{class we{constructor(ae,Fe){if(this.app=ae,Fe.isInitialized())return this._delegate=Fe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Qe}=ae.options;se(Qe,"invalid-api-key",{appName:ae.name}),se(Qe,"invalid-api-key",{appName:ae.name});const _t="undefined"!=typeof window?ht:void 0;this._delegate=Fe.initialize({options:{persistence:et(Qe,ae.name),popupRedirectResolver:_t}}),this._delegate._updateErrorMap(k.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ae){this._delegate.languageCode=ae}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ae){this._delegate.tenantId=ae}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ae,Fe){k.G(this._delegate,ae,Fe)}applyActionCode(ae){return k.a2(this._delegate,ae)}checkActionCode(ae){return k.a3(this._delegate,ae)}confirmPasswordReset(ae,Fe){return k.a1(this._delegate,ae,Fe)}createUserWithEmailAndPassword(ae,Fe){var Qe=this;return(0,c.Z)(function*(){return bn(Qe._delegate,k.a5(Qe._delegate,ae,Fe))})()}fetchProvidersForEmail(ae){return this.fetchSignInMethodsForEmail(ae)}fetchSignInMethodsForEmail(ae){return k.aa(this._delegate,ae)}isSignInWithEmailLink(ae){return k.a8(this._delegate,ae)}getRedirectResult(){var ae=this;return(0,c.Z)(function*(){se(zn(),ae._delegate,"operation-not-supported-in-this-environment");const Fe=yield k.j(ae._delegate,ht);return Fe?bn(ae._delegate,Promise.resolve(Fe)):{credential:null,user:null}})()}addFrameworkForLogging(ae){!function vn(we,de){(0,k.aE)(we)._logFramework(de)}(this._delegate,ae)}onAuthStateChanged(ae,Fe,Qe){const{next:_t,error:Nt,complete:tn}=He(ae,Fe,Qe);return this._delegate.onAuthStateChanged(_t,Nt,tn)}onIdTokenChanged(ae,Fe,Qe){const{next:_t,error:Nt,complete:tn}=He(ae,Fe,Qe);return this._delegate.onIdTokenChanged(_t,Nt,tn)}sendSignInLinkToEmail(ae,Fe){return k.a7(this._delegate,ae,Fe)}sendPasswordResetEmail(ae,Fe){return k.a0(this._delegate,ae,Fe||void 0)}setPersistence(ae){var Fe=this;return(0,c.Z)(function*(){let Qe;switch(function Kr(we,de){Ar(Object.values(hn).includes(de),we,"invalid-persistence-type"),(0,K.b$)()?Ar(de!==hn.SESSION,we,"unsupported-persistence-type"):(0,K.UG)()?Ar(de===hn.NONE,we,"unsupported-persistence-type"):ji()?Ar(de===hn.NONE||de===hn.LOCAL&&(0,K.hl)(),we,"unsupported-persistence-type"):Ar(de===hn.NONE||mi(),we,"unsupported-persistence-type")}(Fe._delegate,ae),ae){case hn.SESSION:Qe=k.a;break;case hn.LOCAL:Qe=(yield k.ay(k.i)._isAvailable())?k.i:k.b;break;case hn.NONE:Qe=k.L;break;default:return k.at("argument-error",{appName:Fe._delegate.name})}return Fe._delegate.setPersistence(Qe)})()}signInAndRetrieveDataWithCredential(ae){return this.signInWithCredential(ae)}signInAnonymously(){return bn(this._delegate,k.X(this._delegate))}signInWithCredential(ae){return bn(this._delegate,k.Y(this._delegate,ae))}signInWithCustomToken(ae){return bn(this._delegate,k.$(this._delegate,ae))}signInWithEmailAndPassword(ae,Fe){return bn(this._delegate,k.a6(this._delegate,ae,Fe))}signInWithEmailLink(ae,Fe){return bn(this._delegate,k.a9(this._delegate,ae,Fe))}signInWithPhoneNumber(ae,Fe){return J(this._delegate,k.s(this._delegate,ae,Fe))}signInWithPopup(ae){var Fe=this;return(0,c.Z)(function*(){return se(zn(),Fe._delegate,"operation-not-supported-in-this-environment"),bn(Fe._delegate,k.c(Fe._delegate,ae,ht))})()}signInWithRedirect(ae){var Fe=this;return(0,c.Z)(function*(){return se(zn(),Fe._delegate,"operation-not-supported-in-this-environment"),yield Pn(Fe._delegate),k.f(Fe._delegate,ae,ht)})()}updateCurrentUser(ae){return this._delegate.updateCurrentUser(ae)}verifyPasswordResetCode(ae){return k.a4(this._delegate,ae)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return we.Persistence=hn,we})();function He(we,de,ae){let Fe=we;"function"!=typeof we&&({next:Fe,error:de,complete:ae}=we);const Qe=Fe;return{next:Nt=>Qe(Nt&&xe.getOrCreate(Nt)),error:de,complete:ae}}function et(we,de){const ae=function ws(we,de){const ae=Zt();if(!ae)return[];const Fe=k.az(sr,we,de);switch(ae.getItem(Fe)){case hn.NONE:return[k.L];case hn.LOCAL:return[k.i,k.a];case hn.SESSION:return[k.a];default:return[]}}(we,de);if("undefined"!=typeof self&&!ae.includes(k.i)&&ae.push(k.i),"undefined"!=typeof window)for(const Fe of[k.b,k.a])ae.includes(Fe)||ae.push(Fe);return ae.includes(k.L)||ae.push(k.L),ae}class wt{constructor(){this.providerId="phone",this._delegate=new k.P(_i(B.Z.auth()))}static credential(de,ae){return k.P.credential(de,ae)}verifyPhoneNumber(de,ae){return this._delegate.verifyPhoneNumber(de,ae)}unwrap(){return this._delegate}}wt.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,wt.PROVIDER_ID=k.P.PROVIDER_ID;const Lt=k.ax;class mn{constructor(de,ae,Fe=B.Z.app()){var Qe;Lt(null===(Qe=Fe.options)||void 0===Qe?void 0:Qe.apiKey,"invalid-api-key",{appName:Fe.name}),this._delegate=new k.R(de,ae,Fe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function nr(we){we.INTERNAL.registerComponent(new Q.wA("auth-compat",de=>{const ae=de.getProvider("app-compat").getImmediate(),Fe=de.getProvider("auth");return new pe(ae,Fe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.M,FacebookAuthProvider:k.N,GithubAuthProvider:k.T,GoogleAuthProvider:k.Q,OAuthProvider:k.U,SAMLAuthProvider:k.V,PhoneAuthProvider:wt,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:mn,TwitterAuthProvider:k.W,Auth:pe,AuthCredential:k.H,Error:K.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),we.registerVersion("@firebase/auth-compat","0.2.15")}(B.Z)},8306:(Ae,ye,R)=>{"use strict";R.d(ye,{y:()=>H});var c=R(930),B=R(727),k=R(8822),K=R(4671);var Q=R(2416),ne=R(576),ce=R(2806);let H=(()=>{class Me{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const Ee=new Me;return Ee.source=this,Ee.operator=Be,Ee}subscribe(Be,Ee,Ce){const Oe=function Ne(Me){return Me&&Me instanceof c.Lv||function W(Me){return Me&&(0,ne.m)(Me.next)&&(0,ne.m)(Me.error)&&(0,ne.m)(Me.complete)}(Me)&&(0,B.Nn)(Me)}(Be)?Be:new c.Hp(Be,Ee,Ce);return(0,ce.x)(()=>{const{operator:je,source:ve}=this;Oe.add(je?je.call(Oe,ve):ve?this._subscribe(Oe):this._trySubscribe(Oe))}),Oe}_trySubscribe(Be){try{return this._subscribe(Be)}catch(Ee){Be.error(Ee)}}forEach(Be,Ee){return new(Ee=U(Ee))((Ce,Oe)=>{let je;je=this.subscribe(ve=>{try{Be(ve)}catch(Ke){Oe(Ke),null==je||je.unsubscribe()}},Oe,Ce)})}_subscribe(Be){var Ee;return null===(Ee=this.source)||void 0===Ee?void 0:Ee.subscribe(Be)}[k.L](){return this}pipe(...Be){return function le(Me){return 0===Me.length?K.y:1===Me.length?Me[0]:function(Be){return Me.reduce((Ee,Ce)=>Ce(Ee),Be)}}(Be)(this)}toPromise(Be){return new(Be=U(Be))((Ee,Ce)=>{let Oe;this.subscribe(je=>Oe=je,je=>Ce(je),()=>Ee(Oe))})}}return Me.create=ke=>new Me(ke),Me})();function U(Me){var ke;return null!==(ke=null!=Me?Me:Q.v.Promise)&&void 0!==ke?ke:Promise}},7579:(Ae,ye,R)=>{"use strict";R.d(ye,{x:()=>Q});var c=R(8306),B=R(727);const K=(0,R(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=R(8737),le=R(2806);let Q=(()=>{class ce extends c.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const W=new ne(this,this);return W.operator=U,W}_throwIfClosed(){if(this.closed)throw new K}next(U){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const W=this.observers.slice();for(const Ne of W)Ne.next(U)}})}error(U){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:W}=this;for(;W.length;)W.shift().error(U)}})}complete(){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:W,isStopped:Ne,observers:Me}=this;return W||Ne?B.Lc:(Me.push(U),new B.w0(()=>(0,ee.P)(Me,U)))}_checkFinalizedStatuses(U){const{hasError:W,thrownError:Ne,isStopped:Me}=this;W?U.error(Ne):Me&&U.complete()}asObservable(){const U=new c.y;return U.source=this,U}}return ce.create=(H,U)=>new ne(H,U),ce})();class ne extends Q{constructor(H,U){super(),this.destination=H,this.source=U}next(H){var U,W;null===(W=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===W||W.call(U,H)}error(H){var U,W;null===(W=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===W||W.call(U,H)}complete(){var H,U;null===(U=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===U||U.call(H)}_subscribe(H){var U,W;return null!==(W=null===(U=this.source)||void 0===U?void 0:U.subscribe(H))&&void 0!==W?W:B.Lc}}},930:(Ae,ye,R)=>{"use strict";R.d(ye,{Hp:()=>Ne,Lv:()=>W});var c=R(576),B=R(727),k=R(2416),K=R(7849),ee=R(5032);const le=ce("C",void 0,void 0);function ce(Ce,Oe,je){return{kind:Ce,value:Oe,error:je}}var H=R(3410),U=R(2806);class W extends B.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,B.Nn)(Oe)&&Oe.add(this)):this.destination=Ee}static create(Oe,je,ve){return new Ne(Oe,je,ve)}next(Oe){this.isStopped?Be(function ne(Ce){return ce("N",Ce,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?Be(function Q(Ce){return ce("E",void 0,Ce)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?Be(le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ne extends W{constructor(Oe,je,ve){let Ke;if(super(),(0,c.m)(Oe))Ke=Oe;else if(Oe){let Pe;({next:Ke,error:je,complete:ve}=Oe),this&&k.v.useDeprecatedNextContext?(Pe=Object.create(Oe),Pe.unsubscribe=()=>this.unsubscribe()):Pe=Oe,Ke=null==Ke?void 0:Ke.bind(Pe),je=null==je?void 0:je.bind(Pe),ve=null==ve?void 0:ve.bind(Pe)}this.destination={next:Ke?Me(Ke):ee.Z,error:Me(null!=je?je:ke),complete:ve?Me(ve):ee.Z}}}function Me(Ce,Oe){return(...je)=>{try{Ce(...je)}catch(ve){k.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(ve):(0,K.h)(ve)}}}function ke(Ce){throw Ce}function Be(Ce,Oe){const{onStoppedNotification:je}=k.v;je&&H.z.setTimeout(()=>je(Ce,Oe))}const Ee={closed:!0,next:ee.Z,error:ke,complete:ee.Z}},727:(Ae,ye,R)=>{"use strict";R.d(ye,{Lc:()=>le,w0:()=>ee,Nn:()=>Q});var c=R(576);const k=(0,R(3888).d)(ce=>function(U){ce(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((W,Ne)=>`${Ne+1}) ${W.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var K=R(8737);class ee{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const Me of U)Me.remove(this);else U.remove(this);const{initialTeardown:W}=this;if((0,c.m)(W))try{W()}catch(Me){H=Me instanceof k?Me.errors:[Me]}const{_teardowns:Ne}=this;if(Ne){this._teardowns=null;for(const Me of Ne)try{ne(Me)}catch(ke){H=null!=H?H:[],ke instanceof k?H=[...H,...ke.errors]:H.push(ke)}}if(H)throw new k(H)}}add(H){var U;if(H&&H!==this)if(this.closed)ne(H);else{if(H instanceof ee){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._teardowns=null!==(U=this._teardowns)&&void 0!==U?U:[]).push(H)}}_hasParent(H){const{_parentage:U}=this;return U===H||Array.isArray(U)&&U.includes(H)}_addParent(H){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(H),U):U?[U,H]:H}_removeParent(H){const{_parentage:U}=this;U===H?this._parentage=null:Array.isArray(U)&&(0,K.P)(U,H)}remove(H){const{_teardowns:U}=this;U&&(0,K.P)(U,H),H instanceof ee&&H._removeParent(this)}}ee.EMPTY=(()=>{const ce=new ee;return ce.closed=!0,ce})();const le=ee.EMPTY;function Q(ce){return ce instanceof ee||ce&&"closed"in ce&&(0,c.m)(ce.remove)&&(0,c.m)(ce.add)&&(0,c.m)(ce.unsubscribe)}function ne(ce){(0,c.m)(ce)?ce():ce.unsubscribe()}},2416:(Ae,ye,R)=>{"use strict";R.d(ye,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ae,ye,R)=>{"use strict";R.d(ye,{E:()=>B});const B=new(R(8306).y)(ee=>ee.complete())},8996:(Ae,ye,R)=>{"use strict";R.d(ye,{D:()=>Ke});var c=R(8421),B=R(5363),k=R(9468),le=R(8306),ne=R(2202),ce=R(576),H=R(9672);function W(Pe,Je){if(!Pe)throw new Error("Iterable cannot be null");return new le.y(X=>{(0,H.f)(X,Je,()=>{const be=Pe[Symbol.asyncIterator]();(0,H.f)(X,Je,()=>{be.next().then(F=>{F.done?X.complete():X.next(F.value)})},0,!0)})})}var Ne=R(3670),Me=R(8239),ke=R(1144),Be=R(6495),Ee=R(2206),Ce=R(4532),Oe=R(3260);function Ke(Pe,Je){return Je?function ve(Pe,Je){if(null!=Pe){if((0,Ne.c)(Pe))return function K(Pe,Je){return(0,c.Xf)(Pe).pipe((0,k.R)(Je),(0,B.Q)(Je))}(Pe,Je);if((0,ke.z)(Pe))return function Q(Pe,Je){return new le.y(X=>{let be=0;return Je.schedule(function(){be===Pe.length?X.complete():(X.next(Pe[be++]),X.closed||this.schedule())})})}(Pe,Je);if((0,Me.t)(Pe))return function ee(Pe,Je){return(0,c.Xf)(Pe).pipe((0,k.R)(Je),(0,B.Q)(Je))}(Pe,Je);if((0,Ee.D)(Pe))return W(Pe,Je);if((0,Be.T)(Pe))return function U(Pe,Je){return new le.y(X=>{let be;return(0,H.f)(X,Je,()=>{be=Pe[ne.h](),(0,H.f)(X,Je,()=>{let F,$;try{({value:F,done:$}=be.next())}catch(q){return void X.error(q)}$?X.complete():X.next(F)},0,!0)}),()=>(0,ce.m)(null==be?void 0:be.return)&&be.return()})}(Pe,Je);if((0,Oe.L)(Pe))return function je(Pe,Je){return W((0,Oe.Q)(Pe),Je)}(Pe,Je)}throw(0,Ce.z)(Pe)}(Pe,Je):(0,c.Xf)(Pe)}},8421:(Ae,ye,R)=>{"use strict";R.d(ye,{Xf:()=>Ne});var c=R(5987),B=R(1144),k=R(8239),K=R(8306),ee=R(3670),le=R(2206),Q=R(4532),ne=R(6495),ce=R(3260),H=R(576),U=R(7849),W=R(8822);function Ne(ve){if(ve instanceof K.y)return ve;if(null!=ve){if((0,ee.c)(ve))return function Me(ve){return new K.y(Ke=>{const Pe=ve[W.L]();if((0,H.m)(Pe.subscribe))return Pe.subscribe(Ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ve);if((0,B.z)(ve))return function ke(ve){return new K.y(Ke=>{for(let Pe=0;Pe<ve.length&&!Ke.closed;Pe++)Ke.next(ve[Pe]);Ke.complete()})}(ve);if((0,k.t)(ve))return function Be(ve){return new K.y(Ke=>{ve.then(Pe=>{Ke.closed||(Ke.next(Pe),Ke.complete())},Pe=>Ke.error(Pe)).then(null,U.h)})}(ve);if((0,le.D)(ve))return Ce(ve);if((0,ne.T)(ve))return function Ee(ve){return new K.y(Ke=>{for(const Pe of ve)if(Ke.next(Pe),Ke.closed)return;Ke.complete()})}(ve);if((0,ce.L)(ve))return function Oe(ve){return Ce((0,ce.Q)(ve))}(ve)}throw(0,Q.z)(ve)}function Ce(ve){return new K.y(Ke=>{(function je(ve,Ke){var Pe,Je,X,be;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Pe=(0,c.KL)(ve);!(Je=yield Pe.next()).done;)if(Ke.next(Je.value),Ke.closed)return}catch(F){X={error:F}}finally{try{Je&&!Je.done&&(be=Pe.return)&&(yield be.call(Pe))}finally{if(X)throw X.error}}Ke.complete()})})(ve,Ke).catch(Pe=>Ke.error(Pe))})}},6451:(Ae,ye,R)=>{"use strict";R.d(ye,{T:()=>le});var c=R(8189),B=R(8421),k=R(515),K=R(3269),ee=R(8996);function le(...Q){const ne=(0,K.yG)(Q),ce=(0,K._6)(Q,1/0),H=Q;return H.length?1===H.length?(0,B.Xf)(H[0]):(0,c.J)(ce)((0,ee.D)(H,ne)):k.E}},5403:(Ae,ye,R)=>{"use strict";R.d(ye,{Q:()=>B});var c=R(930);class B extends c.Lv{constructor(K,ee,le,Q,ne){super(K),this.onFinalize=ne,this._next=ee?function(ce){try{ee(ce)}catch(H){K.error(H)}}:super._next,this._error=Q?function(ce){try{Q(ce)}catch(H){K.error(H)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(ce){K.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var K;const{closed:ee}=this;super.unsubscribe(),!ee&&(null===(K=this.onFinalize)||void 0===K||K.call(this))}}},4004:(Ae,ye,R)=>{"use strict";R.d(ye,{U:()=>k});var c=R(4482),B=R(5403);function k(K,ee){return(0,c.e)((le,Q)=>{let ne=0;le.subscribe(new B.Q(Q,ce=>{Q.next(K.call(ee,ce,ne++))}))})}},8189:(Ae,ye,R)=>{"use strict";R.d(ye,{J:()=>k});var c=R(5577),B=R(4671);function k(K=1/0){return(0,c.z)(B.y,K)}},5577:(Ae,ye,R)=>{"use strict";R.d(ye,{z:()=>ne});var c=R(4004),B=R(8421),k=R(4482),K=R(9672),ee=R(5403),Q=R(576);function ne(ce,H,U=1/0){return(0,Q.m)(H)?ne((W,Ne)=>(0,c.U)((Me,ke)=>H(W,Me,Ne,ke))((0,B.Xf)(ce(W,Ne))),U):("number"==typeof H&&(U=H),(0,k.e)((W,Ne)=>function le(ce,H,U,W,Ne,Me,ke,Be){const Ee=[];let Ce=0,Oe=0,je=!1;const ve=()=>{je&&!Ee.length&&!Ce&&H.complete()},Ke=Je=>Ce<W?Pe(Je):Ee.push(Je),Pe=Je=>{Me&&H.next(Je),Ce++;let X=!1;(0,B.Xf)(U(Je,Oe++)).subscribe(new ee.Q(H,be=>{null==Ne||Ne(be),Me?Ke(be):H.next(be)},()=>{X=!0},void 0,()=>{if(X)try{for(Ce--;Ee.length&&Ce<W;){const be=Ee.shift();ke?(0,K.f)(H,ke,()=>Pe(be)):Pe(be)}ve()}catch(be){H.error(be)}}))};return ce.subscribe(new ee.Q(H,Ke,()=>{je=!0,ve()})),()=>{null==Be||Be()}}(W,Ne,ce,U)))}},5363:(Ae,ye,R)=>{"use strict";R.d(ye,{Q:()=>K});var c=R(9672),B=R(4482),k=R(5403);function K(ee,le=0){return(0,B.e)((Q,ne)=>{Q.subscribe(new k.Q(ne,ce=>(0,c.f)(ne,ee,()=>ne.next(ce),le),()=>(0,c.f)(ne,ee,()=>ne.complete(),le),ce=>(0,c.f)(ne,ee,()=>ne.error(ce),le)))})}},3099:(Ae,ye,R)=>{"use strict";R.d(ye,{B:()=>le});var c=R(8996),B=R(5698),k=R(7579),K=R(930),ee=R(4482);function le(ne={}){const{connector:ce=(()=>new k.x),resetOnError:H=!0,resetOnComplete:U=!0,resetOnRefCountZero:W=!0}=ne;return Ne=>{let Me=null,ke=null,Be=null,Ee=0,Ce=!1,Oe=!1;const je=()=>{null==ke||ke.unsubscribe(),ke=null},ve=()=>{je(),Me=Be=null,Ce=Oe=!1},Ke=()=>{const Pe=Me;ve(),null==Pe||Pe.unsubscribe()};return(0,ee.e)((Pe,Je)=>{Ee++,!Oe&&!Ce&&je();const X=Be=null!=Be?Be:ce();Je.add(()=>{Ee--,0===Ee&&!Oe&&!Ce&&(ke=Q(Ke,W))}),X.subscribe(Je),Me||(Me=new K.Hp({next:be=>X.next(be),error:be=>{Oe=!0,je(),ke=Q(ve,H,be),X.error(be)},complete:()=>{Ce=!0,je(),ke=Q(ve,U),X.complete()}}),(0,c.D)(Pe).subscribe(Me))})(Ne)}}function Q(ne,ce,...H){return!0===ce?(ne(),null):!1===ce?null:ce(...H).pipe((0,B.q)(1)).subscribe(()=>ne())}},9468:(Ae,ye,R)=>{"use strict";R.d(ye,{R:()=>B});var c=R(4482);function B(k,K=0){return(0,c.e)((ee,le)=>{le.add(k.schedule(()=>ee.subscribe(le),K))})}},5698:(Ae,ye,R)=>{"use strict";R.d(ye,{q:()=>K});var c=R(515),B=R(4482),k=R(5403);function K(ee){return ee<=0?()=>c.E:(0,B.e)((le,Q)=>{let ne=0;le.subscribe(new k.Q(Q,ce=>{++ne<=ee&&(Q.next(ce),ee<=ne&&Q.complete())}))})}},8505:(Ae,ye,R)=>{"use strict";R.d(ye,{b:()=>ee});var c=R(576),B=R(4482),k=R(5403),K=R(4671);function ee(le,Q,ne){const ce=(0,c.m)(le)||Q||ne?{next:le,error:Q,complete:ne}:le;return ce?(0,B.e)((H,U)=>{var W;null===(W=ce.subscribe)||void 0===W||W.call(ce);let Ne=!0;H.subscribe(new k.Q(U,Me=>{var ke;null===(ke=ce.next)||void 0===ke||ke.call(ce,Me),U.next(Me)},()=>{var Me;Ne=!1,null===(Me=ce.complete)||void 0===Me||Me.call(ce),U.complete()},Me=>{var ke;Ne=!1,null===(ke=ce.error)||void 0===ke||ke.call(ce,Me),U.error(Me)},()=>{var Me,ke;Ne&&(null===(Me=ce.unsubscribe)||void 0===Me||Me.call(ce)),null===(ke=ce.finalize)||void 0===ke||ke.call(ce)}))}):K.y}},4408:(Ae,ye,R)=>{"use strict";R.d(ye,{o:()=>ee});var c=R(727);class B extends c.w0{constructor(Q,ne){super()}schedule(Q,ne=0){return this}}const k={setInterval(...le){const{delegate:Q}=k;return((null==Q?void 0:Q.setInterval)||setInterval)(...le)},clearInterval(le){const{delegate:Q}=k;return((null==Q?void 0:Q.clearInterval)||clearInterval)(le)},delegate:void 0};var K=R(8737);class ee extends B{constructor(Q,ne){super(Q,ne),this.scheduler=Q,this.work=ne,this.pending=!1}schedule(Q,ne=0){if(this.closed)return this;this.state=Q;const ce=this.id,H=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(H,ce,ne)),this.pending=!0,this.delay=ne,this.id=this.id||this.requestAsyncId(H,this.id,ne),this}requestAsyncId(Q,ne,ce=0){return k.setInterval(Q.flush.bind(Q,this),ce)}recycleAsyncId(Q,ne,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return ne;k.clearInterval(ne)}execute(Q,ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(Q,ne);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Q,ne){let H,ce=!1;try{this.work(Q)}catch(U){ce=!0,H=U||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:Q,scheduler:ne}=this,{actions:ce}=ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,K.P)(ce,this),null!=Q&&(this.id=this.recycleAsyncId(ne,Q,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ae,ye,R)=>{"use strict";R.d(ye,{v:()=>k});var c=R(6063);class B{constructor(ee,le=B.now){this.schedulerActionCtor=ee,this.now=le}schedule(ee,le=0,Q){return new this.schedulerActionCtor(this,ee).schedule(Q,le)}}B.now=c.l.now;class k extends B{constructor(ee,le=B.now){super(ee,le),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ee){const{actions:le}=this;if(this._active)return void le.push(ee);let Q;this._active=!0;do{if(Q=ee.execute(ee.state,ee.delay))break}while(ee=le.shift());if(this._active=!1,Q){for(;ee=le.shift();)ee.unsubscribe();throw Q}}}},4986:(Ae,ye,R)=>{"use strict";R.d(ye,{P:()=>K,z:()=>k});var c=R(4408);const k=new(R(7565).v)(c.o),K=k},6063:(Ae,ye,R)=>{"use strict";R.d(ye,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Ae,ye,R)=>{"use strict";R.d(ye,{z:()=>c});const c={setTimeout(...B){const{delegate:k}=c;return((null==k?void 0:k.setTimeout)||setTimeout)(...B)},clearTimeout(B){const{delegate:k}=c;return((null==k?void 0:k.clearTimeout)||clearTimeout)(B)},delegate:void 0}},2202:(Ae,ye,R)=>{"use strict";R.d(ye,{h:()=>B});const B=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ae,ye,R)=>{"use strict";R.d(ye,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Ae,ye,R)=>{"use strict";R.d(ye,{_6:()=>le,jO:()=>K,yG:()=>ee});var c=R(576),B=R(3532);function k(Q){return Q[Q.length-1]}function K(Q){return(0,c.m)(k(Q))?Q.pop():void 0}function ee(Q){return(0,B.K)(k(Q))?Q.pop():void 0}function le(Q,ne){return"number"==typeof k(Q)?Q.pop():ne}},8737:(Ae,ye,R)=>{"use strict";function c(B,k){if(B){const K=B.indexOf(k);0<=K&&B.splice(K,1)}}R.d(ye,{P:()=>c})},3888:(Ae,ye,R)=>{"use strict";function c(B){const K=B(ee=>{Error.call(ee),ee.stack=(new Error).stack});return K.prototype=Object.create(Error.prototype),K.prototype.constructor=K,K}R.d(ye,{d:()=>c})},2806:(Ae,ye,R)=>{"use strict";R.d(ye,{O:()=>K,x:()=>k});var c=R(2416);let B=null;function k(ee){if(c.v.useDeprecatedSynchronousErrorHandling){const le=!B;if(le&&(B={errorThrown:!1,error:null}),ee(),le){const{errorThrown:Q,error:ne}=B;if(B=null,Q)throw ne}}else ee()}function K(ee){c.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=ee)}},9672:(Ae,ye,R)=>{"use strict";function c(B,k,K,ee=0,le=!1){const Q=k.schedule(function(){K(),le?B.add(this.schedule(null,ee)):this.unsubscribe()},ee);if(B.add(Q),!le)return Q}R.d(ye,{f:()=>c})},4671:(Ae,ye,R)=>{"use strict";function c(B){return B}R.d(ye,{y:()=>c})},1144:(Ae,ye,R)=>{"use strict";R.d(ye,{z:()=>c});const c=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(Ae,ye,R)=>{"use strict";R.d(ye,{D:()=>B});var c=R(576);function B(k){return Symbol.asyncIterator&&(0,c.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(Ae,ye,R)=>{"use strict";function c(B){return"function"==typeof B}R.d(ye,{m:()=>c})},3670:(Ae,ye,R)=>{"use strict";R.d(ye,{c:()=>k});var c=R(8822),B=R(576);function k(K){return(0,B.m)(K[c.L])}},6495:(Ae,ye,R)=>{"use strict";R.d(ye,{T:()=>k});var c=R(2202),B=R(576);function k(K){return(0,B.m)(null==K?void 0:K[c.h])}},8239:(Ae,ye,R)=>{"use strict";R.d(ye,{t:()=>B});var c=R(576);function B(k){return(0,c.m)(null==k?void 0:k.then)}},3260:(Ae,ye,R)=>{"use strict";R.d(ye,{L:()=>K,Q:()=>k});var c=R(5987),B=R(576);function k(ee){return(0,c.FC)(this,arguments,function*(){const Q=ee.getReader();try{for(;;){const{value:ne,done:ce}=yield(0,c.qq)(Q.read());if(ce)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ne)}}finally{Q.releaseLock()}})}function K(ee){return(0,B.m)(null==ee?void 0:ee.getReader)}},3532:(Ae,ye,R)=>{"use strict";R.d(ye,{K:()=>B});var c=R(576);function B(k){return k&&(0,c.m)(k.schedule)}},4482:(Ae,ye,R)=>{"use strict";R.d(ye,{A:()=>B,e:()=>k});var c=R(576);function B(K){return(0,c.m)(null==K?void 0:K.lift)}function k(K){return ee=>{if(B(ee))return ee.lift(function(le){try{return K(le,this)}catch(Q){this.error(Q)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ae,ye,R)=>{"use strict";function c(){}R.d(ye,{Z:()=>c})},7849:(Ae,ye,R)=>{"use strict";R.d(ye,{h:()=>k});var c=R(2416),B=R(3410);function k(K){B.z.setTimeout(()=>{const{onUnhandledError:ee}=c.v;if(!ee)throw K;ee(K)})}},4532:(Ae,ye,R)=>{"use strict";function c(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(ye,{z:()=>c})},5987:(Ae,ye,R)=>{"use strict";function ne(F,$,q,re){return new(q||(q=Promise))(function(te,We){function ft(lt){try{ze(re.next(lt))}catch(vn){We(vn)}}function pn(lt){try{ze(re.throw(lt))}catch(vn){We(vn)}}function ze(lt){lt.done?te(lt.value):function me(te){return te instanceof q?te:new q(function(We){We(te)})}(lt.value).then(ft,pn)}ze((re=re.apply(F,$||[])).next())})}function Ee(F){return this instanceof Ee?(this.v=F,this):new Ee(F)}function Ce(F,$,q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,re=q.apply(F,$||[]),te=[];return me={},We("next"),We("throw"),We("return"),me[Symbol.asyncIterator]=function(){return this},me;function We(Tt){re[Tt]&&(me[Tt]=function(kn){return new Promise(function(un,qt){te.push([Tt,kn,un,qt])>1||ft(Tt,kn)})})}function ft(Tt,kn){try{!function pn(Tt){Tt.value instanceof Ee?Promise.resolve(Tt.value.v).then(ze,lt):vn(te[0][2],Tt)}(re[Tt](kn))}catch(un){vn(te[0][3],un)}}function ze(Tt){ft("next",Tt)}function lt(Tt){ft("throw",Tt)}function vn(Tt,kn){Tt(kn),te.shift(),te.length&&ft(te[0][0],te[0][1])}}function je(F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q,$=F[Symbol.asyncIterator];return $?$.call(F):(F=function W(F){var $="function"==typeof Symbol&&Symbol.iterator,q=$&&F[$],re=0;if(q)return q.call(F);if(F&&"number"==typeof F.length)return{next:function(){return F&&re>=F.length&&(F=void 0),{value:F&&F[re++],done:!F}}};throw new TypeError($?"Object is not iterable.":"Symbol.iterator is not defined.")}(F),q={},re("next"),re("throw"),re("return"),q[Symbol.asyncIterator]=function(){return this},q);function re(te){q[te]=F[te]&&function(We){return new Promise(function(ft,pn){!function me(te,We,ft,pn){Promise.resolve(pn).then(function(ze){te({value:ze,done:ft})},We)}(ft,pn,(We=F[te](We)).done,We.value)})}}}R.d(ye,{FC:()=>Ce,KL:()=>je,mG:()=>ne,qq:()=>Ee})},655:(Ae,ye,R)=>{"use strict";function K(F,$){var q={};for(var re in F)Object.prototype.hasOwnProperty.call(F,re)&&$.indexOf(re)<0&&(q[re]=F[re]);if(null!=F&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(re=Object.getOwnPropertySymbols(F);me<re.length;me++)$.indexOf(re[me])<0&&Object.prototype.propertyIsEnumerable.call(F,re[me])&&(q[re[me]]=F[re[me]])}return q}function ne(F,$,q,re){return new(q||(q=Promise))(function(te,We){function ft(lt){try{ze(re.next(lt))}catch(vn){We(vn)}}function pn(lt){try{ze(re.throw(lt))}catch(vn){We(vn)}}function ze(lt){lt.done?te(lt.value):function me(te){return te instanceof q?te:new q(function(We){We(te)})}(lt.value).then(ft,pn)}ze((re=re.apply(F,$||[])).next())})}R.d(ye,{_T:()=>K,mG:()=>ne})},9671:(Ae,ye,R)=>{"use strict";function c(k,K,ee,le,Q,ne,ce){try{var H=k[ne](ce),U=H.value}catch(W){return void ee(W)}H.done?K(U):Promise.resolve(U).then(le,Q)}function B(k){return function(){var K=this,ee=arguments;return new Promise(function(le,Q){var ne=k.apply(K,ee);function ce(U){c(ne,le,Q,ce,H,"next",U)}function H(U){c(ne,le,Q,ce,H,"throw",U)}ce(void 0)})}}R.d(ye,{Z:()=>B})},5e3:(Ae,ye,R)=>{"use strict";R.d(ye,{$8M:()=>ga,$Z:()=>Xy,AFp:()=>wI,AaK:()=>ne,BQk:()=>Or,CHM:()=>Wa,CRH:()=>lI,CZH:()=>gb,CqO:()=>rv,DdM:()=>eI,EJc:()=>sx,EiD:()=>lg,EpF:()=>GE,F$t:()=>Cd,F4k:()=>nv,FYo:()=>Of,FiY:()=>Fo,G48:()=>gx,Gf:()=>$o,GfV:()=>Vv,Gpc:()=>U,Gre:()=>Jg,Hsn:()=>zE,Ikx:()=>Cv,JOm:()=>pl,JVY:()=>_0,L6k:()=>V_,LAX:()=>$h,LFG:()=>Ue,LSH:()=>H_,Lbi:()=>TI,NdJ:()=>iv,OlP:()=>er,Oqu:()=>Qg,PXZ:()=>kI,Q6J:()=>vf,QGY:()=>tv,Qsj:()=>RM,R0b:()=>dn,RDi:()=>Du,Rgc:()=>j,SBq:()=>kf,Sil:()=>MI,Suo:()=>hu,TTD:()=>Va,TgZ:()=>Hg,Udp:()=>gv,VKq:()=>tI,VLi:()=>dx,WFA:()=>zg,X6Q:()=>vb,XFs:()=>Ct,Xpm:()=>wt,Y36:()=>Ea,YKP:()=>LM,YNc:()=>bd,Yjl:()=>Qe,Yz7:()=>un,ZZ4:()=>Tb,_Bn:()=>qC,_UZ:()=>Gg,_Vd:()=>dm,_c5:()=>Ix,_uU:()=>nC,aQg:()=>Sb,c2e:()=>SI,cJS:()=>gn,cg1:()=>rm,d8E:()=>Sd,dDg:()=>Sm,deG:()=>A_,dqk:()=>Qt,eBb:()=>y0,eFA:()=>OI,ekj:()=>Ia,f3M:()=>Rt,g9A:()=>II,h0i:()=>Pf,hGG:()=>km,hij:()=>rc,iGM:()=>Aa,ifc:()=>Zt,ip1:()=>bI,kL8:()=>pC,lG2:()=>Fe,mCW:()=>m,n5z:()=>ol,n_E:()=>pr,oAB:()=>we,oJD:()=>dg,oxw:()=>au,pB0:()=>rg,q3G:()=>hr,q4F:()=>NM,qLn:()=>qu,qOj:()=>jy,qZA:()=>Vs,qzn:()=>$u,s9C:()=>wl,sBO:()=>jd,sIi:()=>Ng,s_b:()=>Nf,soG:()=>Tm,tBr:()=>lo,tb:()=>DI,tp0:()=>hs,uIk:()=>zy,vHH:()=>ke,vpe:()=>Hr,wAp:()=>St,xp6:()=>Qh,yhl:()=>zh,ynx:()=>ev,z2F:()=>Ud,z3N:()=>uo,zSh:()=>Vy,zs3:()=>ba});var c=R(7579),B=R(727),k=R(8306),K=R(6451),ee=R(3099);function le(o){for(let a in o)if(o[a]===le)return a;throw Error("Could not find renamed property on target object.")}function Q(o,a){for(const l in a)a.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=a[l])}function ne(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ne).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function ce(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const H=le({__forward_ref__:le});function U(o){return o.__forward_ref__=U,o.toString=function(){return ne(this())},o}function W(o){return Ne(o)?o():o}function Ne(o){return"function"==typeof o&&o.hasOwnProperty(H)&&o.__forward_ref__===U}class ke extends Error{constructor(a,l){super(function Be(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,l)),this.code=a}}function Ee(o){return"string"==typeof o?o:null==o?"":String(o)}function Ce(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ee(o)}function Ke(o,a){const l=a?` in ${a}`:"";throw new ke(-201,`No provider for ${Ce(o)} found${l}`)}function ze(o,a){null==o&&function lt(o,a,l,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${l} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function un(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function gn(o){return{providers:o.providers||[],imports:o.imports||[]}}function Fn(o){return Ui(o,mi)||Ui(o,zn)}function Ui(o,a){return o.hasOwnProperty(a)?o[a]:null}function is(o){return o&&(o.hasOwnProperty(ji)||o.hasOwnProperty(ss))?o[ji]:null}const mi=le({\u0275prov:le}),ji=le({\u0275inj:le}),zn=le({ngInjectableDef:le}),ss=le({ngInjectorDef:le});var Ct=(()=>((Ct=Ct||{})[Ct.Default=0]="Default",Ct[Ct.Host=1]="Host",Ct[Ct.Self=2]="Self",Ct[Ct.SkipSelf=4]="SkipSelf",Ct[Ct.Optional=8]="Optional",Ct))();let qr;function hn(o){const a=qr;return qr=o,a}function Ar(o,a,l){const d=Fn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&Ct.Optional?null:void 0!==a?a:void Ke(ne(o),"Injector")}function Kr(o){return{toString:o}.toString()}var Pn=(()=>((Pn=Pn||{})[Pn.OnPush=0]="OnPush",Pn[Pn.Default=1]="Default",Pn))(),Zt=(()=>{return(o=Zt||(Zt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Zt;var o})();const yt="undefined"!=typeof globalThis&&globalThis,ht="undefined"!=typeof window&&window,_i="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Qt=yt||"undefined"!=typeof global&&global||ht||_i,bn={},J=[],oe=le({\u0275cmp:le}),ue=le({\u0275dir:le}),xe=le({\u0275pipe:le}),se=le({\u0275mod:le}),pe=le({\u0275fac:le}),He=le({__NG_ELEMENT_ID__:le});let et=0;function wt(o){return Kr(()=>{const l={},d={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Pn.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||J,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Zt.Emulated,id:"c",styles:o.styles||J,_:null,setInput:null,schemas:o.schemas||null,tView:null},f=o.directives,g=o.features,v=o.pipes;return d.id+=et++,d.inputs=ae(o.inputs,l),d.outputs=ae(o.outputs),g&&g.forEach(w=>w(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(mn):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(Dt):null,d})}function mn(o){return _t(o)||function Nt(o){return o[ue]||null}(o)}function Dt(o){return function tn(o){return o[xe]||null}(o)}const nr={};function we(o){return Kr(()=>{const a={type:o.type,bootstrap:o.bootstrap||J,declarations:o.declarations||J,imports:o.imports||J,exports:o.exports||J,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(nr[o.id]=o.type),a})}function ae(o,a){if(null==o)return bn;const l={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),l[f]=d,a&&(a[f]=g)}return l}const Fe=wt;function Qe(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function _t(o){return o[oe]||null}function Kt(o,a){const l=o[se]||null;if(!l&&!0===a)throw new Error(`Type ${ne(o)} does not have '\u0275mod' property.`);return l}function vi(o){return Array.isArray(o)&&"object"==typeof o[1]}function oi(o){return Array.isArray(o)&&!0===o[1]}function Sc(o){return 0!=(8&o.flags)}function Nl(o){return 2==(2&o.flags)}function Js(o){return 1==(1&o.flags)}function bi(o){return null!==o.template}function Eh(o){return 0!=(512&o[2])}function wi(o,a){return o.hasOwnProperty(pe)?o[pe]:null}class oa{constructor(a,l,d){this.previousValue=a,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Va(){return Ba}function Ba(o){return o.type.prototype.ngOnChanges&&(o.setInput=Hp),Ih}function Ih(){const o=Oc(this),a=null==o?void 0:o.current;if(a){const l=o.previous;if(l===bn)o.previous=a;else for(let d in a)l[d]=a[d];o.current=null,this.ngOnChanges(a)}}function Hp(o,a,l,d){const f=Oc(o)||function Ds(o,a){return o[Ei]=a}(o,{previous:bn,current:null}),g=f.current||(f.current={}),v=f.previous,w=this.declaredInputs[l],I=v[w];g[w]=new oa(I&&I.currentValue,a,v===bn),o[d]=a}Va.ngInherit=!0;const Ei="__ngSimpleChanges__";function Oc(o){return o[Ei]||null}let Bl;function Du(o){Bl=o}function Ss(){return void 0!==Bl?Bl:"undefined"!=typeof document?document:void 0}function Rn(o){return!!o.listen}const Ua={createRenderer:(o,a)=>Ss()};function En(o){for(;Array.isArray(o);)o=o[0];return o}function To(o,a){return En(a[o])}function vr(o,a){return En(a[o.index])}function Kn(o,a){return o.data[a]}function br(o,a){const l=a[o];return vi(l)?l:l[0]}function aa(o){return 4==(4&o[2])}function ls(o){return 128==(128&o[2])}function ai(o,a){return null==a?null:o[a]}function no(o){o[18]=0}function ro(o,a){o[5]+=a;let l=o,d=o[3];for(;null!==d&&(1===a&&1===l[5]||-1===a&&0===l[5]);)d[5]+=a,l=d,d=d[3]}const It={lFrame:Ao(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Mu(){return It.bindingsEnabled}function Le(){return It.lFrame.lView}function Xt(){return It.lFrame.tView}function Wa(o){return It.lFrame.contextLView=o,o[8]}function Hn(){let o=io();for(;null!==o&&64===o.type;)o=o.parent;return o}function io(){return It.lFrame.currentTNode}function Zr(o,a){const l=It.lFrame;l.currentTNode=o,l.isParent=a}function xu(){return It.lFrame.isParent}function Ru(){It.lFrame.isParent=!1}function Ka(){return It.isInCheckNoChangesMode}function la(o){It.isInCheckNoChangesMode=o}function ar(){const o=It.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function us(){return It.lFrame.bindingIndex++}function Ms(o){const a=It.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,l}function Za(o,a){const l=It.lFrame;l.bindingIndex=l.bindingRootIndex=o,Do(a)}function Do(o){It.lFrame.currentDirectiveIndex=o}function Hl(o){const a=It.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function Qa(){return It.lFrame.currentQueryIndex}function Ou(o){It.lFrame.currentQueryIndex=o}function Gp(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Gl(o,a,l){if(l&Ct.SkipSelf){let f=a,g=o;for(;!(f=f.parent,null!==f||l&Ct.Host||(f=Gp(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;a=f,o=g}const d=It.lFrame=Pu();return d.currentTNode=a,d.lView=o,!0}function So(o){const a=Pu(),l=o[1];It.lFrame=a,a.currentTNode=l.firstChild,a.lView=o,a.tView=l,a.contextLView=o,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function Pu(){const o=It.lFrame,a=null===o?null:o.child;return null===a?Ao(o):a}function Ao(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Hc(){const o=It.lFrame;return It.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Dh=Hc;function ua(){const o=Hc();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function wr(){return It.lFrame.selectedIndex}function xs(o){It.lFrame.selectedIndex=o}function Yn(){const o=It.lFrame;return Kn(o.tView,o.selectedIndex)}function Xa(o,a){for(let l=a.directiveStart,d=a.directiveEnd;l<d;l++){const g=o.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:M,ngOnDestroy:P}=g;v&&(o.contentHooks||(o.contentHooks=[])).push(-l,v),w&&((o.contentHooks||(o.contentHooks=[])).push(l,w),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(l,w)),I&&(o.viewHooks||(o.viewHooks=[])).push(-l,I),M&&((o.viewHooks||(o.viewHooks=[])).push(l,M),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(l,M)),null!=P&&(o.destroyHooks||(o.destroyHooks=[])).push(l,P)}}function Rs(o,a,l){Er(o,a,3,l)}function Ja(o,a,l,d){(3&o[2])===l&&Er(o,a,l,d)}function zl(o,a){let l=o[2];(3&l)===a&&(l&=2047,l+=1,o[2]=l)}function Er(o,a,l,d){const g=null!=d?d:-1,v=a.length-1;let w=0;for(let I=void 0!==d?65535&o[18]:0;I<v;I++)if("number"==typeof a[I+1]){if(w=a[I],null!=d&&w>=d)break}else a[I]<0&&(o[18]+=65536),(w<g||-1==g)&&(Mh(o,l,a,I),o[18]=(4294901760&o[18])+I+2),I++}function Mh(o,a,l,d){const f=l[d]<0,g=l[d+1],w=o[f?-l[d]:l[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class ca{constructor(a,l,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function Cr(o,a,l){const d=Rn(o);let f=0;for(;f<l.length;){const g=l[f];if("number"==typeof g){if(0!==g)break;f++;const v=l[f++],w=l[f++],I=l[f++];d?o.setAttribute(a,w,I,v):a.setAttributeNS(v,w,I)}else{const v=g,w=l[++f];ds(v)?d&&o.setProperty(a,v,w):d?o.setAttribute(a,v,w):a.setAttribute(v,w),f++}}return f}function xh(o){return 3===o||4===o||6===o}function ds(o){return 64===o.charCodeAt(0)}function Nu(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let l=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?l=f:0===l||xo(o,l,f,null,-1===l||2===l?a[++d]:null)}}return o}function xo(o,a,l,d,f){let g=0,v=o.length;if(-1===a)v=-1;else for(;g<o.length;){const w=o[g++];if("number"==typeof w){if(w===a){v=-1;break}if(w>a){v=g-1;break}}}for(;g<o.length;){const w=o[g];if("number"==typeof w)break;if(w===l){if(null===d)return void(null!==f&&(o[g+1]=f));if(d===o[g+1])return void(o[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(o.splice(v,0,a),g=v+1),o.splice(g++,0,l),null!==d&&o.splice(g++,0,d),null!==f&&o.splice(g++,0,f)}function Ro(o){return-1!==o}function so(o){return 32767&o}function el(o,a){let l=function on(o){return o>>16}(o),d=a;for(;l>0;)d=d[15],l--;return d}let Ci=!0;function ha(o){const a=Ci;return Ci=o,a}let nl=0;function xr(o,a){const l=ui(o,a);if(-1!==l)return l;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,rl(d.data,o),rl(a,null),rl(d.blueprint,null));const f=ks(o,a),g=o.injectorIndex;if(Ro(f)){const v=so(f),w=el(f,a),I=w[1].data;for(let M=0;M<8;M++)a[g+M]=w[v+M]|I[v+M]}return a[g+8]=f,g}function rl(o,a){o.push(0,0,0,0,0,0,0,0,a)}function ui(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function ks(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,d=null,f=a;for(;null!==f;){const g=f[1],v=g.type;if(d=2===v?g.declTNode:1===v?f[6]:null,null===d)return-1;if(l++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function Ii(o,a,l){!function $l(o,a,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(He)&&(d=l[He]),null==d&&(d=l[He]=nl++);const f=255&d;a.data[o+(f>>5)]|=1<<f}(o,a,l)}function pa(o,a,l){if(l&Ct.Optional)return o;Ke(a,"NodeInjector")}function ci(o,a,l,d){if(l&Ct.Optional&&void 0===d&&(d=null),0==(l&(Ct.Self|Ct.Host))){const f=o[9],g=hn(void 0);try{return f?f.get(a,d,l&Ct.Optional):Ar(a,d,l&Ct.Optional)}finally{hn(g)}}return pa(d,a,l)}function il(o,a,l,d=Ct.Default,f){if(null!==o){const g=function Rh(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(He)?o[He]:void 0;return"number"==typeof a?a>=0?255&a:Ir:a}(l);if("function"==typeof g){if(!Gl(a,o,d))return d&Ct.Host?pa(f,l,d):ci(a,l,d,f);try{const v=g(d);if(null!=v||d&Ct.Optional)return v;Ke(l)}finally{Dh()}}else if("number"==typeof g){let v=null,w=ui(o,a),I=-1,M=d&Ct.Host?a[16][6]:null;for((-1===w||d&Ct.SkipSelf)&&(I=-1===w?ks(o,a):a[w+8],-1!==I&&Fu(d,!1)?(v=a[1],w=so(I),a=el(I,a)):w=-1);-1!==w;){const P=a[1];if(kh(g,w,P.data)){const z=Os(w,a,l,v,d,M);if(z!==Ht)return z}I=a[w+8],-1!==I&&Fu(d,a[1].data[w+8]===M)&&kh(g,w,a)?(v=P,w=so(I),a=el(I,a)):w=-1}}}return ci(a,l,d,f)}const Ht={};function Ir(){return new sl(Hn(),Le())}function Os(o,a,l,d,f,g){const v=a[1],w=v.data[o+8],P=Ln(w,v,l,null==d?Nl(w)&&Ci:d!=v&&0!=(3&w.type),f&Ct.Host&&g===w);return null!==P?gt(a,v,P,w):Ht}function Ln(o,a,l,d,f){const g=o.providerIndexes,v=a.data,w=1048575&g,I=o.directiveStart,P=g>>20,ie=f?w+P:o.directiveEnd;for(let ge=d?w:w+P;ge<ie;ge++){const Re=v[ge];if(ge<I&&l===Re||ge>=I&&Re.type===l)return ge}if(f){const ge=v[I];if(ge&&bi(ge)&&ge.type===l)return I}return null}function gt(o,a,l,d){let f=o[l];const g=a.data;if(function zc(o){return o instanceof ca}(f)){const v=f;v.resolving&&function Oe(o,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new ke(-200,`Circular dependency in DI detected for ${o}${l}`)}(Ce(g[l]));const w=ha(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?hn(v.injectImpl):null;Gl(o,d,Ct.Default);try{f=o[l]=v.factory(void 0,g,o,d),a.firstCreatePass&&l>=d.directiveStart&&function zp(o,a,l){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=a.type.prototype;if(d){const v=Ba(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(o,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,v)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-o,f),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(o,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,g))}(l,g[l],a)}finally{null!==I&&hn(I),ha(w),v.resolving=!1,Dh()}}return f}function kh(o,a,l){return!!(l[a+(o>>5)]&1<<o)}function Fu(o,a){return!(o&Ct.Self||o&Ct.Host&&a)}class sl{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,d){return il(this._tNode,this._lView,a,d,l)}}function ol(o){return Kr(()=>{const a=o.prototype.constructor,l=a[pe]||Lu(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const g=f[pe]||Lu(f);if(g&&g!==l)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Lu(o){return Ne(o)?()=>{const a=Lu(W(o));return a&&a()}:wi(o)}function ga(o){return function Wl(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const l=o.attrs;if(l){const d=l.length;let f=0;for(;f<d;){const g=l[f];if(xh(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof l[f];)f++;else{if(g===a)return l[f+1];f+=2}}}return null}(Hn(),o)}const Oo="__parameters__";function ll(o,a,l){return Kr(()=>{const d=function Oh(o){return function(...l){if(o){const d=o(...l);for(const f in d)this[f]=d[f]}}}(a);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return w.annotation=v,w;function w(I,M,P){const z=I.hasOwnProperty(Oo)?I[Oo]:Object.defineProperty(I,Oo,{value:[]})[Oo];for(;z.length<=P;)z.push(null);return(z[P]=z[P]||[]).push(v),I}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class er{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=un({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const A_=new er("AnalyzeForEntryComponents");function Qr(o,a){void 0===a&&(a=o);for(let l=0;l<o.length;l++){let d=o[l];Array.isArray(d)?(a===o&&(a=o.slice(0,l)),Qr(d,a)):a!==o&&a.push(d)}return a}function Ti(o,a){o.forEach(l=>Array.isArray(l)?Ti(l,a):a(l))}function ul(o,a,l){a>=o.length?o.push(l):o.splice(a,0,l)}function Ql(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function ma(o,a){const l=[];for(let d=0;d<o;d++)l.push(a);return l}function Rr(o,a,l){let d=Jl(o,a);return d>=0?o[1|d]=l:(d=~d,function Xl(o,a,l,d){let f=o.length;if(f==a)o.push(l,d);else if(1===f)o.push(d,o[0]),o[0]=l;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=l,o[a+1]=d}}(o,d,a,l)),d}function Kc(o,a){const l=Jl(o,a);if(l>=0)return o[1|l]}function Jl(o,a){return function Uu(o,a,l){let d=0,f=o.length>>l;for(;f!==d;){const g=d+(f-d>>1),v=o[g<<l];if(a===v)return g<<l;v>a?f=g:d=g+1}return~(f<<l)}(o,a,1)}const cl={},dl="__NG_DI_FLAG__",hl="ngTempTokenPath",Bh=/\n/gm,S="__source",N=le({provide:String,useValue:le});let Y;function fe(o){const a=Y;return Y=o,a}function Ie(o,a=Ct.Default){if(void 0===Y)throw new ke(203,"");return null===Y?Ar(o,void 0,a):Y.get(o,a&Ct.Optional?null:void 0,a)}function Ue(o,a=Ct.Default){return(function On(){return qr}()||Ie)(W(o),a)}const Rt=Ue;function Mt(o){const a=[];for(let l=0;l<o.length;l++){const d=W(o[l]);if(Array.isArray(d)){if(0===d.length)throw new ke(900,"");let f,g=Ct.Default;for(let v=0;v<d.length;v++){const w=d[v],I=Bt(w);"number"==typeof I?-1===I?f=w.token:g|=I:f=w}a.push(Ue(f,g))}else a.push(Ue(d))}return a}function Jt(o,a){return o[dl]=a,o.prototype[dl]=a,o}function Bt(o){return o[dl]}const lo=Jt(ll("Inject",o=>({token:o})),-1),Fo=Jt(ll("Optional"),8),hs=Jt(ll("SkipSelf"),4);let Gh,zu;function Gu(o){var a;return(null===(a=function tg(){if(void 0===Gh&&(Gh=null,Qt.trustedTypes))try{Gh=Qt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Gh}())||void 0===a?void 0:a.createHTML(o))||o}function P_(o){var a;return(null===(a=function ng(){if(void 0===zu&&(zu=null,Qt.trustedTypes))try{zu=Qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return zu}())||void 0===a?void 0:a.createHTML(o))||o}class eu{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class L_ extends eu{getTypeName(){return"HTML"}}class f0 extends eu{getTypeName(){return"Style"}}class p0 extends eu{getTypeName(){return"Script"}}class g0 extends eu{getTypeName(){return"URL"}}class m0 extends eu{getTypeName(){return"ResourceURL"}}function uo(o){return o instanceof eu?o.changingThisBreaksApplicationSecurity:o}function $u(o,a){const l=zh(o);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===a}function zh(o){return o instanceof eu&&o.getTypeName()||null}function _0(o){return new L_(o)}function V_(o){return new f0(o)}function y0(o){return new p0(o)}function $h(o){return new g0(o)}function rg(o){return new m0(o)}class kr{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(Gu(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class cr{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(a){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Gu(a),l;const d=this.inertDocument.createElement("body");return d.innerHTML=Gu(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const l=a.attributes;for(let f=l.length-1;0<f;f--){const v=l.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&a.removeAttribute(v)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const B_=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,b=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function m(o){return(o=String(o)).match(B_)||o.match(b)?o:"unsafe:"+o}function C(o){const a={};for(const l of o.split(","))a[l]=!0;return a}function O(...o){const a={};for(const l of o)for(const d in l)l.hasOwnProperty(d)&&(a[d]=!0);return a}const V=C("area,br,col,hr,img,wbr"),_e=C("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ge=C("rp,rt"),jn=O(V,O(_e,C("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),O(Ge,C("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),O(Ge,_e)),zi=C("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vo=C("srcset"),Wh=O(zi,Vo,C("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),C("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),og=C("script,style,template");class U_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(a){const l=a.nodeName.toLowerCase();if(!jn.hasOwnProperty(l))return this.sanitizedSomething=!0,!og.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=a.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),v=g.name,w=v.toLowerCase();if(!Wh.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let I=g.value;zi[w]&&(I=m(I)),Vo[w]&&(o=I,I=(o=String(o)).split(",").map(a=>m(a.trim())).join(", ")),this.buf.push(" ",v,'="',ag(I),'"')}var o;return this.buf.push(">"),!0}endElement(a){const l=a.nodeName.toLowerCase();jn.hasOwnProperty(l)&&!V.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(ag(a))}checkClobberedElement(a,l){if(l&&(a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return l}}const qh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j_=/([^\#-~ |!])/g;function ag(o){return o.replace(/&/g,"&amp;").replace(qh,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(j_,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wu;function lg(o,a){let l=null;try{Wu=Wu||function Di(o){const a=new cr(o);return function dr(){try{return!!(new window.DOMParser).parseFromString(Gu(""),"text/html")}catch(o){return!1}}()?new kr(a):a}(o);let d=a?String(a):"";l=Wu.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=l.innerHTML,l=Wu.getInertBodyElement(d)}while(d!==g);return Gu((new U_).sanitizeChildren(ug(l)||l))}finally{if(l){const d=ug(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function ug(o){return"content"in o&&function cg(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var hr=(()=>((hr=hr||{})[hr.NONE=0]="NONE",hr[hr.HTML=1]="HTML",hr[hr.STYLE=2]="STYLE",hr[hr.SCRIPT=3]="SCRIPT",hr[hr.URL=4]="URL",hr[hr.RESOURCE_URL=5]="RESOURCE_URL",hr))();function dg(o){const a=Kh();return a?P_(a.sanitize(hr.HTML,o)||""):$u(o,"HTML")?P_(uo(o)):lg(Ss(),Ee(o))}function H_(o){const a=Kh();return a?a.sanitize(hr.URL,o)||"":$u(o,"URL")?uo(o):m(Ee(o))}function Kh(){const o=Le();return o&&o[12]}const fS="__ngContext__";function Wi(o,a){o[fS]=a}function w0(o){const a=function hg(o){return o[fS]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function T0(o){return o.ngOriginalError}function _S(o,...a){o.error(...a)}class qu{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a),d=function bN(o){return o&&o.ngErrorLogger||_S}(a);d(this._console,"ERROR",a),l&&d(this._console,"ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&T0(a);for(;l&&T0(l);)l=T0(l);return l||null}}const Y_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Qt))();function fs(o){return o instanceof Function?o():o}var pl=(()=>((pl=pl||{})[pl.Important=1]="Important",pl[pl.DashCase=2]="DashCase",pl))();function k0(o,a){return undefined(o,a)}function td(o){const a=o[3];return oi(a)?a[3]:a}function nd(o){return P0(o[13])}function mg(o){return P0(o[4])}function P0(o){for(;null!==o&&!oi(o);)o=o[4];return o}function rd(o,a,l,d,f){if(null!=d){let g,v=!1;oi(d)?g=d:vi(d)&&(v=!0,d=d[0]);const w=En(d);0===o&&null!==l?null==f?U0(a,l,w):Ku(a,l,w,f||null,!0):1===o&&null!==l?Ku(a,l,w,f||null,!0):2===o?function vg(o,a,l){const d=_g(o,a);d&&function MS(o,a,l,d){Rn(o)?o.removeChild(a,l,d):a.removeChild(l)}(o,d,a,l)}(a,w,v):3===o&&a.destroyNode(w),null!=g&&function iy(o,a,l,d,f){const g=l[7];g!==En(l)&&rd(a,o,d,g,f);for(let w=10;w<l.length;w++){const I=l[w];id(I[1],I,o,a,d,g)}}(a,o,g,l,f)}}function Q_(o,a,l){if(Rn(o))return o.createElement(a,l);{const d=null!==l?function Vl(o){const a=o.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(l):null;return null===d?o.createElement(a):o.createElementNS(d,a)}}function F0(o,a){const l=o[9],d=l.indexOf(a),f=a[3];1024&a[2]&&(a[2]&=-1025,ro(f,-1)),l.splice(d,1)}function X_(o,a){if(o.length<=10)return;const l=10+a,d=o[l];if(d){const f=d[17];null!==f&&f!==o&&F0(f,d),a>0&&(o[l-1][4]=d[4]);const g=Ql(o,10+a);!function ES(o,a){id(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function L0(o,a){if(!(256&a[2])){const l=a[11];Rn(l)&&l.destroyNode&&id(o,a,l,3,null,null),function IN(o){let a=o[13];if(!a)return J_(o[1],o);for(;a;){let l=null;if(vi(a))l=a[13];else{const d=a[10];d&&(l=d)}if(!l){for(;a&&!a[4]&&a!==o;)vi(a)&&J_(a[1],a),a=a[3];null===a&&(a=o),vi(a)&&J_(a[1],a),l=a&&a[4]}a=l}}(a)}}function J_(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function AS(o,a){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let d=0;d<l.length;d+=2){const f=a[l[d]];if(!(f instanceof ca)){const g=l[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const w=f[g[v]],I=g[v+1];try{I.call(w)}finally{}}else try{g.call(f)}finally{}}}}(o,a),function SS(o,a){const l=o.cleanup,d=a[7];let f=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+1],w="function"==typeof v?v(a):En(a[v]),I=d[f=l[g+2]],M=l[g+3];"boolean"==typeof M?w.removeEventListener(l[g],I,M):M>=0?d[f=M]():d[f=-M].unsubscribe(),g+=2}else{const v=d[f=l[g+1]];l[g].call(v)}if(null!==d){for(let g=f+1;g<d.length;g++)d[g]();a[7]=null}}(o,a),1===a[1].type&&Rn(a[11])&&a[11].destroy();const l=a[17];if(null!==l&&oi(a[3])){l!==a[3]&&F0(l,a);const d=a[19];null!==d&&d.detachView(o)}}}function V0(o,a,l){return function B0(o,a,l){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return l[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===Zt.None||f===Zt.Emulated)return null}return vr(d,l)}(o,a.parent,l)}function Ku(o,a,l,d,f){Rn(o)?o.insertBefore(a,l,d,f):a.insertBefore(l,d,f)}function U0(o,a,l){Rn(o)?o.appendChild(a,l):a.appendChild(l)}function j0(o,a,l,d,f){null!==d?Ku(o,a,l,d,f):U0(o,a,l)}function _g(o,a){return Rn(o)?o.parentNode(a):a.parentNode}function H0(o,a,l){return z0(o,a,l)}let z0=function G0(o,a,l){return 40&o.type?vr(o,l):null};function yg(o,a,l,d){const f=V0(o,d,a),g=a[11],w=H0(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(l))for(let I=0;I<l.length;I++)j0(g,f,l[I],w,!1);else j0(g,f,l,w,!1)}function ty(o,a){if(null!==a){const l=a.type;if(3&l)return vr(a,o);if(4&l)return ny(-1,o[a.index]);if(8&l){const d=a.child;if(null!==d)return ty(o,d);{const f=o[a.index];return oi(f)?ny(-1,f):En(f)}}if(32&l)return k0(a,o)()||En(o[a.index]);{const d=W0(o,a);return null!==d?Array.isArray(d)?d[0]:ty(td(o[16]),d):ty(o,a.next)}}return null}function W0(o,a){return null!==a?o[16][6].projection[a.projection]:null}function ny(o,a){const l=10+o+1;if(l<a.length){const d=a[l],f=d[1].firstChild;if(null!==f)return ty(d,f)}return a[7]}function va(o,a,l,d,f,g,v){for(;null!=l;){const w=d[l.index],I=l.type;if(v&&0===a&&(w&&Wi(En(w),d),l.flags|=4),64!=(64&l.flags))if(8&I)va(o,a,l.child,d,f,g,!1),rd(a,o,f,w,g);else if(32&I){const M=k0(l,d);let P;for(;P=M();)rd(a,o,f,P,g);rd(a,o,f,w,g)}else 16&I?bg(o,a,d,l,f,g):rd(a,o,f,w,g);l=v?l.projectionNext:l.next}}function id(o,a,l,d,f,g){va(l,d,o.firstChild,a,f,g,!1)}function bg(o,a,l,d,f,g){const v=l[16],I=v[6].projection[d.projection];if(Array.isArray(I))for(let M=0;M<I.length;M++)rd(a,o,f,I[M],g);else va(o,a,I,v[3],f,g,!0)}function sy(o,a,l){Rn(o)?o.setAttribute(a,"style",l):a.style.cssText=l}function Zh(o,a,l){Rn(o)?""===l?o.removeAttribute(a,"class"):o.setAttribute(a,"class",l):a.className=l}function oy(o,a,l){let d=o.length;for(;;){const f=o.indexOf(a,l);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const g=a.length;if(f+g===d||o.charCodeAt(f+g)<=32)return f}l=f+1}}const wg="ng-template";function TN(o,a,l){let d=0;for(;d<o.length;){let f=o[d++];if(l&&"class"===f){if(f=o[d],-1!==oy(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function q0(o){return 4===o.type&&o.value!==wg}function Yu(o,a,l){return a===(4!==o.type||l?o.value:wg)}function K0(o,a,l){let d=4;const f=o.attrs||[],g=function DN(o){for(let a=0;a<o.length;a++)if(xh(o[a]))return a;return o.length}(f);let v=!1;for(let w=0;w<a.length;w++){const I=a[w];if("number"!=typeof I){if(!v)if(4&d){if(d=2|1&d,""!==I&&!Yu(o,I,l)||""===I&&1===a.length){if(co(d))return!1;v=!0}}else{const M=8&d?I:a[++w];if(8&d&&null!==o.attrs){if(!TN(o.attrs,M,l)){if(co(d))return!1;v=!0}continue}const z=kS(8&d?"class":I,f,q0(o),l);if(-1===z){if(co(d))return!1;v=!0;continue}if(""!==M){let ie;ie=z>g?"":f[z+1].toLowerCase();const ge=8&d?ie:null;if(ge&&-1!==oy(ge,M,0)||2&d&&M!==ie){if(co(d))return!1;v=!0}}}}else{if(!v&&!co(d)&&!co(I))return!1;if(v&&co(I))continue;v=!1,d=I|1&d}}return co(d)||v}function co(o){return 0==(1&o)}function kS(o,a,l,d){if(null===a)return-1;let f=0;if(d||!l){let g=!1;for(;f<a.length;){const v=a[f];if(v===o)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let w=a[++f];for(;"string"==typeof w;)w=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function Z0(o,a){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const d=o[l];if("number"==typeof d)return-1;if(d===a)return l;l++}return-1}(a,o)}function ay(o,a,l=!1){for(let d=0;d<a.length;d++)if(K0(o,a[d],l))return!0;return!1}function ly(o,a){e:for(let l=0;l<a.length;l++){const d=a[l];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function Q0(o,a){return o?":not("+a.trim()+")":a}function X0(o){let a=o[0],l=1,d=2,f="",g=!1;for(;l<o.length;){let v=o[l];if("string"==typeof v)if(2&d){const w=o[++l];f+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!co(v)&&(a+=Q0(g,f),f=""),d=v,g=g||!co(d);l++}return""!==f&&(a+=Q0(g,f)),a}const Pt={};function Qh(o){Xh(Xt(),Le(),wr()+o,Ka())}function Xh(o,a,l,d){if(!d)if(3==(3&a[2])){const g=o.preOrderCheckHooks;null!==g&&Rs(a,g,l)}else{const g=o.preOrderHooks;null!==g&&Ja(a,g,0,l)}xs(l)}function sd(o,a){return o<<17|a<<2}function hi(o){return o>>17&32767}function dy(o){return 2|o}function ps(o){return(131068&o)>>2}function Ig(o,a){return-131069&o|a<<2}function Tg(o){return 1|o}function rf(o,a){const l=o.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const f=l[d],g=l[d+1];if(-1!==g){const v=o.data[g];Ou(f),v.contentQueries(2,a[g],g)}}}function sf(o,a,l,d,f,g,v,w,I,M){const P=a.blueprint.slice();return P[0]=f,P[2]=140|d,no(P),P[3]=P[15]=o,P[8]=l,P[10]=v||o&&o[10],P[11]=w||o&&o[11],P[12]=I||o&&o[12]||null,P[9]=M||o&&o[9]||null,P[6]=g,P[16]=2==a.type?o[16]:P,P}function ld(o,a,l,d,f){let g=o.data[a];if(null===g)g=function Ey(o,a,l,d,f){const g=io(),v=xu(),I=o.data[a]=function Dy(o,a,l,d,f,g){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,a,d,f);return null===o.firstChild&&(o.firstChild=I),null!==g&&(v?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(o,a,l,d,f),function Ya(){return It.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=d,g.attrs=f;const v=function qa(){const o=It.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Zr(g,!0),g}function ru(o,a,l,d){if(0===l)return-1;const f=a.length;for(let g=0;g<l;g++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function af(o,a,l){So(a);try{const d=o.viewQuery;null!==d&&Rg(1,d,l);const f=o.template;null!==f&&lf(o,a,f,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&rf(o,a),o.staticViewQueries&&Rg(2,o.viewQuery,l);const g=o.components;null!==g&&function GS(o,a){for(let l=0;l<a.length;l++)iA(o,a[l])}(a,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,ua()}}function ml(o,a,l,d){const f=a[2];if(256==(256&f))return;So(a);const g=Ka();try{no(a),function ku(o){return It.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&lf(o,a,l,2,d);const v=3==(3&f);if(!g)if(v){const M=o.preOrderCheckHooks;null!==M&&Rs(a,M,null)}else{const M=o.preOrderHooks;null!==M&&Ja(a,M,0,null),zl(a,0)}if(function fE(o){for(let a=nd(o);null!==a;a=mg(a)){if(!a[2])continue;const l=a[9];for(let d=0;d<l.length;d++){const f=l[d],g=f[3];0==(1024&f[2])&&ro(g,1),f[2]|=1024}}}(a),function hE(o){for(let a=nd(o);null!==a;a=mg(a))for(let l=10;l<a.length;l++){const d=a[l],f=d[1];ls(d)&&ml(f,d,f.template,d[8])}}(a),null!==o.contentQueries&&rf(o,a),!g)if(v){const M=o.contentCheckHooks;null!==M&&Rs(a,M)}else{const M=o.contentHooks;null!==M&&Ja(a,M,1),zl(a,1)}!function wy(o,a){const l=o.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const f=l[d];if(f<0)xs(~f);else{const g=f,v=l[++d],w=l[++d];Za(v,g),w(2,a[g])}}}finally{xs(-1)}}(o,a);const w=o.components;null!==w&&function HS(o,a){for(let l=0;l<a.length;l++)po(o,a[l])}(a,w);const I=o.viewQuery;if(null!==I&&Rg(2,I,d),!g)if(v){const M=o.viewCheckHooks;null!==M&&Rs(a,M)}else{const M=o.viewHooks;null!==M&&Ja(a,M,2),zl(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),g||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,ro(a[3],-1))}finally{ua()}}function Cy(o,a,l,d){const f=a[10],g=!Ka(),v=aa(a);try{g&&!v&&f.begin&&f.begin(),v&&af(o,a,d),ml(o,a,l,d)}finally{g&&!v&&f.end&&f.end()}}function lf(o,a,l,d,f){const g=wr(),v=2&d;try{xs(-1),v&&a.length>20&&Xh(o,a,20,Ka()),l(d,f)}finally{xs(g)}}function oE(o,a,l){if(Sc(a)){const f=a.directiveEnd;for(let g=a.directiveStart;g<f;g++){const v=o.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}function Ag(o,a,l){!Mu()||(function JS(o,a,l,d){const f=l.directiveStart,g=l.directiveEnd;o.firstCreatePass||xr(l,a),Wi(d,a);const v=l.initialInputs;for(let w=f;w<g;w++){const I=o.data[w],M=bi(I);M&&nA(a,l,I);const P=gt(a,o,w,l);Wi(P,a),null!==v&&rA(0,w-f,P,I,0,v),M&&(br(l.index,a)[8]=P)}}(o,a,l,vr(l,a)),128==(128&l.flags)&&function eA(o,a,l){const d=l.directiveStart,f=l.directiveEnd,v=l.index,w=function jc(){return It.lFrame.currentDirectiveIndex}();try{xs(v);for(let I=d;I<f;I++){const M=o.data[I],P=a[I];Do(I),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Ay(M,P)}}finally{xs(-1),Do(w)}}(o,a,l))}function Iy(o,a,l=vr){const d=a.localNames;if(null!==d){let f=a.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],w=-1===v?l(a,o):o[v];o[f++]=w}}}function zS(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=ud(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function ud(o,a,l,d,f,g,v,w,I,M){const P=20+d,z=P+f,ie=function xN(o,a){const l=[];for(let d=0;d<a;d++)l.push(d<o?null:Pt);return l}(P,z),ge="function"==typeof M?M():M;return ie[1]={type:o,blueprint:ie,template:l,queries:null,viewQuery:w,declTNode:a,data:ie.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:ge,incompleteFirstPass:!1}}function Ty(o,a,l,d){const f=mE(a);null===l?f.push(d):(f.push(l),o.firstCreatePass&&_E(o).push(d,f.length-1))}function Sy(o,a,l){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(a,f):l[d]=[a,f]}return l}function Fs(o,a,l,d,f,g,v,w){const I=vr(a,l);let P,M=a.inputs;!w&&null!=M&&(P=M[d])?(Fy(o,l,P,d,f),Nl(a)&&function qS(o,a){const l=br(a,o);16&l[2]||(l[2]|=64)}(l,a.index)):3&a.type&&(d=function WS(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=v?v(f,a.value||"",d):f,Rn(g)?g.setProperty(I,d,f):ds(d)||(I.setProperty?I.setProperty(d,f):I[d]=f))}function uf(o,a,l,d){let f=!1;if(Mu()){const g=function tA(o,a,l){const d=o.directiveRegistry;let f=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];ay(l,v.selectors,!1)&&(f||(f=[]),Ii(xr(l,a),o,v.type),bi(v)?(Ls(o,l),f.unshift(v)):f.push(v))}return f}(o,a,l),v=null===d?null:{"":-1};if(null!==g){f=!0,Mg(l,o.data.length,g.length);for(let P=0;P<g.length;P++){const z=g[P];z.providersResolver&&z.providersResolver(z)}let w=!1,I=!1,M=ru(o,a,g.length,null);for(let P=0;P<g.length;P++){const z=g[P];l.mergedAttrs=Nu(l.mergedAttrs,z.hostAttrs),dE(o,l,a,M,z),cf(M,z,v),null!==z.contentQueries&&(l.flags|=8),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(l.flags|=128);const ie=z.type.prototype;!w&&(ie.ngOnChanges||ie.ngOnInit||ie.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(l.index),w=!0),!I&&(ie.ngOnChanges||ie.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(l.index),I=!0),M++}!function $S(o,a){const d=a.directiveEnd,f=o.data,g=a.attrs,v=[];let w=null,I=null;for(let M=a.directiveStart;M<d;M++){const P=f[M],z=P.inputs,ie=null===g||q0(a)?null:xg(z,g);v.push(ie),w=Sy(z,M,w),I=Sy(P.outputs,M,I)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=w,a.outputs=I}(o,l)}v&&function My(o,a,l){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const g=l[a[f+1]];if(null==g)throw new ke(-301,!1);d.push(a[f],g)}}}(l,d,v)}return l.mergedAttrs=Nu(l.mergedAttrs,l.attrs),f}function cE(o,a,l,d,f,g){const v=g.hostBindings;if(v){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const I=~a.index;(function XS(o){let a=o.length;for(;a>0;){const l=o[--a];if("number"==typeof l&&l<0)return l}return 0})(w)!=I&&w.push(I),w.push(d,f,v)}}function Ay(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function Ls(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function cf(o,a,l){if(l){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)l[a.exportAs[d]]=o;bi(a)&&(l[""]=o)}}function Mg(o,a,l){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+l,o.providerIndexes=a}function dE(o,a,l,d,f){o.data[d]=f;const g=f.factory||(f.factory=wi(f.type)),v=new ca(g,bi(f),null);o.blueprint[d]=v,l[d]=v,cE(o,a,0,d,ru(o,l,f.hostVars,Pt),f)}function nA(o,a,l){const d=vr(a,o),f=zS(l),g=o[10],v=df(o,sf(o,f,null,l.onPush?64:16,d,a,g,g.createRenderer(d,l),null,null));o[a.index]=v}function fo(o,a,l,d,f,g){const v=vr(o,a);!function xy(o,a,l,d,f,g,v){if(null==g)Rn(o)?o.removeAttribute(a,f,l):a.removeAttribute(f);else{const w=null==v?Ee(g):v(g,d||"",f);Rn(o)?o.setAttribute(a,f,w,l):l?a.setAttributeNS(l,f,w):a.setAttribute(f,w)}}(a[11],v,g,o.value,l,d,f)}function rA(o,a,l,d,f,g){const v=g[a];if(null!==v){const w=d.setInput;for(let I=0;I<v.length;){const M=v[I++],P=v[I++],z=v[I++];null!==w?d.setInput(l,z,M,P):l[P]=z}}}function xg(o,a){let l=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,o[f],a[d+1])),d+=2}else d+=2;else d+=4}return l}function Ry(o,a,l,d){return new Array(o,!0,!1,a,null,0,d,l,null,null)}function po(o,a){const l=br(a,o);if(ls(l)){const d=l[1];80&l[2]?ml(d,l,d.template,l[8]):l[5]>0&&iu(l)}}function iu(o){for(let d=nd(o);null!==d;d=mg(d))for(let f=10;f<d.length;f++){const g=d[f];if(1024&g[2]){const v=g[1];ml(v,g,v.template,g[8])}else g[5]>0&&iu(g)}const l=o[1].components;if(null!==l)for(let d=0;d<l.length;d++){const f=br(l[d],o);ls(f)&&f[5]>0&&iu(f)}}function iA(o,a){const l=br(a,o),d=l[1];(function sA(o,a){for(let l=a.length;l<o.blueprint.length;l++)a.push(o.blueprint[l])})(d,l),af(d,l,l[8])}function df(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function ky(o){for(;o;){o[2]|=64;const a=td(o);if(Eh(o)&&!a)return o;o=a}return null}function Oy(o,a,l){const d=a[10];d.begin&&d.begin();try{ml(o,a,o.template,l)}catch(f){throw hf(a,f),f}finally{d.end&&d.end()}}function gE(o){!function cd(o){for(let a=0;a<o.components.length;a++){const l=o.components[a],d=w0(l),f=d[1];Cy(f,d,f.template,l)}}(o[8])}function Rg(o,a,l){Ou(0),a(o,l)}const aA=(()=>Promise.resolve(null))();function mE(o){return o[7]||(o[7]=[])}function _E(o){return o.cleanup||(o.cleanup=[])}function Ny(o,a,l){return(null===o||bi(o))&&(l=function Ul(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(l[a.index])),l[11]}function hf(o,a){const l=o[9],d=l?l.get(qu,null):null;d&&d.handleError(a)}function Fy(o,a,l,d,f){for(let g=0;g<l.length;){const v=l[g++],w=l[g++],I=a[v],M=o.data[v];null!==M.setInput?M.setInput(I,f,d,w):I[w]=f}}function _l(o,a,l){const d=To(a,o);!function N0(o,a,l){Rn(o)?o.setValue(a,l):a.textContent=l}(o[11],d,l)}function ff(o,a,l){let d=l?o.styles:null,f=l?o.classes:null,g=0;if(null!==a)for(let v=0;v<a.length;v++){const w=a[v];"number"==typeof w?g=w:1==g?f=ce(f,w):2==g&&(d=ce(d,w+": "+a[++v]+";"))}l?o.styles=d:o.stylesWithoutHost=d,l?o.classes=f:o.classesWithoutHost=f}const Ly=new er("INJECTOR",-1);class yE{get(a,l=cl){if(l===cl){const d=new Error(`NullInjectorError: No provider for ${ne(a)}!`);throw d.name="NullInjectorError",d}return l}}const Vy=new er("Set Injector scope."),go={},vE={};let kg;function bE(){return void 0===kg&&(kg=new yE),kg}function wE(o,a=null,l=null,d){const f=cA(o,a,l,d);return f._resolveInjectorDefTypes(),f}function cA(o,a=null,l=null,d){return new FN(o,l,a||bE(),d)}class FN{constructor(a,l,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&Ti(l,w=>this.processProvider(w,a,l)),Ti([a],w=>this.processInjectorType(w,[],g)),this.records.set(Ly,Qu(void 0,this));const v=this.records.get(Vy);this.scope=null!=v?v.value:null,this.source=f||("object"==typeof a?null:ne(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,l=cl,d=Ct.Default){this.assertNotDestroyed();const f=fe(this),g=hn(void 0);try{if(!(d&Ct.SkipSelf)){let w=this.records.get(a);if(void 0===w){const I=function HN(o){return"function"==typeof o||"object"==typeof o&&o instanceof er}(a)&&Fn(a);w=I&&this.injectableDefInScope(I)?Qu(EE(a),go):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(d&Ct.Self?bE():this.parent).get(a,l=d&Ct.Optional&&l===cl?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[hl]=v[hl]||[]).unshift(ne(a)),f)throw v;return function di(o,a,l,d){const f=o[hl];throw a[S]&&f.unshift(a[S]),o.message=function ur(o,a,l,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let f=ne(a);if(Array.isArray(a))f=a.map(ne).join(" -> ");else if("object"==typeof a){let g=[];for(let v in a)if(a.hasOwnProperty(v)){let w=a[v];g.push(v+":"+("string"==typeof w?JSON.stringify(w):ne(w)))}f=`{${g.join(", ")}}`}return`${l}${d?"("+d+")":""}[${f}]: ${o.replace(Bh,"\n  ")}`}("\n"+o.message,f,l,d),o.ngTokenPath=f,o[hl]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{hn(g),fe(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((d,f)=>a.push(ne(f))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ke(205,!1)}processInjectorType(a,l,d){if(!(a=W(a)))return!1;let f=is(a);const g=null==f&&a.ngModule||void 0,v=void 0===g?a:g,w=-1!==d.indexOf(v);if(void 0!==g&&(f=is(g)),null==f)return!1;if(null!=f.imports&&!w){let P;d.push(v);try{Ti(f.imports,z=>{this.processInjectorType(z,l,d)&&(void 0===P&&(P=[]),P.push(z))})}finally{}if(void 0!==P)for(let z=0;z<P.length;z++){const{ngModule:ie,providers:ge}=P[z];Ti(ge,Re=>this.processProvider(Re,ie,ge||J))}}this.injectorDefTypes.add(v);const I=wi(v)||(()=>new v);this.records.set(v,Qu(I,go));const M=f.providers;if(null!=M&&!w){const P=a;Ti(M,z=>this.processProvider(z,P,M))}return void 0!==g&&void 0!==a.providers}processProvider(a,l,d){let f=dd(a=W(a))?a:W(a&&a.provide);const g=function VN(o,a,l){return hA(o)?Qu(void 0,o.useValue):Qu(dA(o),go)}(a);if(dd(a)||!0!==a.multi)this.records.get(f);else{let v=this.records.get(f);v||(v=Qu(void 0,go,!0),v.factory=()=>Mt(v.multi),this.records.set(f,v)),f=a,v.multi.push(a)}this.records.set(f,g)}hydrate(a,l){return l.value===go&&(l.value=vE,l.value=l.factory()),"object"==typeof l.value&&l.value&&function jN(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=W(a.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function EE(o){const a=Fn(o),l=null!==a?a.factory:wi(o);if(null!==l)return l;if(o instanceof er)throw new ke(204,!1);if(o instanceof Function)return function LN(o){const a=o.length;if(a>0)throw ma(a,"?"),new ke(204,!1);const l=function Lr(o){const a=o&&(o[mi]||o[zn]);if(a){const l=function Un(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new ke(204,!1)}function dA(o,a,l){let d;if(dd(o)){const f=W(o);return wi(f)||EE(f)}if(hA(o))d=()=>W(o.useValue);else if(function fA(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Mt(o.deps||[]));else if(function BN(o){return!(!o||!o.useExisting)}(o))d=()=>Ue(W(o.useExisting));else{const f=W(o&&(o.useClass||o.provide));if(!function UN(o){return!!o.deps}(o))return wi(f)||EE(f);d=()=>new f(...Mt(o.deps))}return d}function Qu(o,a,l=!1){return{factory:o,value:a,multi:l?[]:void 0}}function hA(o){return null!==o&&"object"==typeof o&&N in o}function dd(o){return"function"==typeof o}let ba=(()=>{class o{static create(l,d){var f;if(Array.isArray(l))return wE({name:""},d,l,"");{const g=null!==(f=l.name)&&void 0!==f?f:"";return wE({name:g},l.parent,l.providers,g)}}}return o.THROW_IF_NOT_FOUND=cl,o.NULL=new yE,o.\u0275prov=un({token:o,providedIn:"any",factory:()=>Ue(Ly)}),o.__NG_ELEMENT_ID__=-1,o})();function EA(o,a){Xa(w0(o)[1],Hn())}function jy(o){let a=function TE(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const d=[o];for(;a;){let f;if(bi(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ke(903,"");f=a.\u0275dir}if(f){if(l){d.push(f);const v=o;v.inputs=Hy(o.inputs),v.declaredInputs=Hy(o.declaredInputs),v.outputs=Hy(o.outputs);const w=f.hostBindings;w&&JN(o,w);const I=f.viewQuery,M=f.contentQueries;if(I&&QN(o,I),M&&XN(o,M),Q(o.inputs,f.inputs),Q(o.declaredInputs,f.declaredInputs),Q(o.outputs,f.outputs),bi(f)&&f.data.animation){const P=o.data;P.animation=(P.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const w=g[v];w&&w.ngInherit&&w(o),w===jy&&(l=!1)}}a=Object.getPrototypeOf(a)}!function DE(o){let a=0,l=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=Nu(f.hostAttrs,l=Nu(l,f.hostAttrs))}}(d)}function Hy(o){return o===bn?{}:o===J?[]:o}function QN(o,a){const l=o.viewQuery;o.viewQuery=l?(d,f)=>{a(d,f),l(d,f)}:a}function XN(o,a){const l=o.contentQueries;o.contentQueries=l?(d,f,g)=>{a(d,f,g),l(d,f,g)}:a}function JN(o,a){const l=o.hostBindings;o.hostBindings=l?(d,f)=>{a(d,f),l(d,f)}:a}let Gy=null;function pf(){if(!Gy){const o=Qt.Symbol;if(o&&o.iterator)Gy=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const d=a[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Gy=d)}}}return Gy}function Ng(o){return!!SE(o)&&(Array.isArray(o)||!(o instanceof Map)&&pf()in o)}function SE(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function yl(o,a,l){return o[a]=l}function Si(o,a,l){return!Object.is(o[a],l)&&(o[a]=l,!0)}function zy(o,a,l,d){const f=Le();return Si(f,us(),a)&&(Xt(),fo(Yn(),f,o,a,l,d)),zy}function pd(o,a,l,d){return Si(o,us(),l)?a+Ee(l)+d:Pt}function bd(o,a,l,d,f,g,v,w){const I=Le(),M=Xt(),P=o+20,z=M.firstCreatePass?function wa(o,a,l,d,f,g,v,w,I){const M=a.consts,P=ld(a,o,4,v||null,ai(M,w));uf(a,l,P,ai(M,I)),Xa(a,P);const z=P.tViews=ud(2,P,d,f,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,M);return null!==a.queries&&(a.queries.template(a,P),z.queries=a.queries.embeddedTView(P)),P}(P,M,I,a,l,d,f,g,v):M.data[P];Zr(z,!1);const ie=I[11].createComment("");yg(M,I,ie,z),Wi(ie,I),df(I,I[P]=Ry(ie,I,ie,z)),Js(z)&&Ag(M,I,z),null!=v&&Iy(I,z,w)}function Ea(o,a=Ct.Default){const l=Le();return null===l?Ue(o,a):il(Hn(),l,W(o),a)}function Xy(){throw new Error("invalid")}function vf(o,a,l){const d=Le();return Si(d,us(),a)&&Fs(Xt(),Yn(),d,o,a,d[11],l,!1),vf}function Jy(o,a,l,d,f){const v=f?"class":"style";Fy(o,l,a.inputs[v],v,d)}function Hg(o,a,l,d){const f=Le(),g=Xt(),v=20+o,w=f[11],I=f[v]=Q_(w,a,function Gc(){return It.lFrame.currentNamespace}()),M=g.firstCreatePass?function OA(o,a,l,d,f,g,v){const w=a.consts,M=ld(a,o,2,f,ai(w,g));return uf(a,l,M,ai(w,v)),null!==M.attrs&&ff(M,M.attrs,!1),null!==M.mergedAttrs&&ff(M,M.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,M),M}(v,g,f,0,a,l,d):g.data[v];Zr(M,!0);const P=M.mergedAttrs;null!==P&&Cr(w,I,P);const z=M.classes;null!==z&&Zh(w,I,z);const ie=M.styles;return null!==ie&&sy(w,I,ie),64!=(64&M.flags)&&yg(g,f,I,M),0===function Ga(){return It.lFrame.elementDepthCount}()&&Wi(I,f),function Lc(){It.lFrame.elementDepthCount++}(),Js(M)&&(Ag(g,f,M),oE(g,M,f)),null!==d&&Iy(f,M),Hg}function Vs(){let o=Hn();xu()?Ru():(o=o.parent,Zr(o,!1));const a=o;!function za(){It.lFrame.elementDepthCount--}();const l=Xt();return l.firstCreatePass&&(Xa(l,o),Sc(o)&&l.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Wc(o){return 0!=(16&o.flags)}(a)&&Jy(l,a,Le(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function $p(o){return 0!=(32&o.flags)}(a)&&Jy(l,a,Le(),a.stylesWithoutHost,!1),Vs}function Gg(o,a,l,d){return Hg(o,a,l,d),Vs(),Gg}function ev(o,a,l){const d=Le(),f=Xt(),g=o+20,v=f.firstCreatePass?function HE(o,a,l,d,f){const g=a.consts,v=ai(g,d),w=ld(a,o,8,"ng-container",v);return null!==v&&ff(w,v,!0),uf(a,l,w,ai(g,f)),null!==a.queries&&a.queries.elementStart(a,w),w}(g,f,d,a,l):f.data[g];Zr(v,!0);const w=d[g]=d[11].createComment("");return yg(f,d,w,v),Wi(w,d),Js(v)&&(Ag(f,d,v),oE(f,v,d)),null!=l&&Iy(d,v),ev}function Or(){let o=Hn();const a=Xt();return xu()?Ru():(o=o.parent,Zr(o,!1)),a.firstCreatePass&&(Xa(a,o),Sc(o)&&a.queries.elementEnd(o)),Or}function GE(){return Le()}function tv(o){return!!o&&"function"==typeof o.then}function nv(o){return!!o&&"function"==typeof o.subscribe}const rv=nv;function iv(o,a,l,d){const f=Le(),g=Xt(),v=Hn();return sv(g,f,f[11],v,o,a,!!l,d),iv}function zg(o,a){const l=Hn(),d=Le(),f=Xt();return sv(f,d,Ny(Hl(f.data),l,d),l,o,a,!1),zg}function sv(o,a,l,d,f,g,v,w){const I=Js(d),P=o.firstCreatePass&&_E(o),z=a[8],ie=mE(a);let ge=!0;if(3&d.type||w){const Xe=vr(d,a),pt=w?w(Xe):Xe,Ve=ie.length,Et=w?ln=>w(En(ln[d.index])):d.index;if(Rn(l)){let ln=null;if(!w&&I&&(ln=function NA(o,a,l,d){const f=o.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===l&&f[g+1]===d){const w=a[7],I=f[g+2];return w.length>I?w[I]:null}"string"==typeof v&&(g+=2)}return null}(o,a,f,d.index)),null!==ln)(ln.__ngLastListenerFn__||ln).__ngNextListenerFn__=g,ln.__ngLastListenerFn__=g,ge=!1;else{g=Ed(d,a,z,g,!1);const yn=l.listen(pt,f,g);ie.push(g,yn),P&&P.push(f,Et,Ve,Ve+1)}}else g=Ed(d,a,z,g,!0),pt.addEventListener(f,g,v),ie.push(g),P&&P.push(f,Et,Ve,v)}else g=Ed(d,a,z,g,!1);const Re=d.outputs;let qe;if(ge&&null!==Re&&(qe=Re[f])){const Xe=qe.length;if(Xe)for(let pt=0;pt<Xe;pt+=2){const Gr=a[qe[pt]][qe[pt+1]].subscribe(g),Dl=ie.length;ie.push(g,Gr),P&&P.push(f,d.index,Dl,-(Dl+1))}}}function ov(o,a,l,d){try{return!1!==l(d)}catch(f){return hf(o,f),!1}}function Ed(o,a,l,d,f){return function g(v){if(v===Function)return d;const w=2&o.flags?br(o.index,a):a;0==(32&a[2])&&ky(w);let I=ov(a,0,d,v),M=g.__ngNextListenerFn__;for(;M;)I=ov(a,0,M,v)&&I,M=M.__ngNextListenerFn__;return f&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function au(o=1){return function cs(o){return(It.lFrame.contextLView=function Sh(o,a){for(;o>0;)a=a[15],o--;return a}(o,It.lFrame.contextLView))[8]}(o)}function fn(o,a){let l=null;const d=function Y0(o){const a=o.attrs;if(null!=a){const l=a.indexOf(5);if(0==(1&l))return a[l+1]}return null}(o);for(let f=0;f<a.length;f++){const g=a[f];if("*"!==g){if(null===d?ay(o,g,!0):ly(d,g))return f}else l=f}return l}function Cd(o){const a=Le()[16][6];if(!a.projection){const d=a.projection=ma(o?o.length:1,null),f=d.slice();let g=a.child;for(;null!==g;){const v=o?fn(g,o):0;null!==v&&(f[v]?f[v].projectionNext=g:d[v]=g,f[v]=g),g=g.next}}}function zE(o,a=0,l){const d=Le(),f=Xt(),g=ld(f,20+o,16,null,l||null);null===g.projection&&(g.projection=a),Ru(),64!=(64&g.flags)&&function ry(o,a,l){bg(a[11],0,a,l,V0(o,l,a),H0(l.parent||a[6],l,a))}(f,d,g)}function wl(o,a,l){return av(o,"",a,"",l),wl}function av(o,a,l,d,f){const g=Le(),v=pd(g,a,l,d);return v!==Pt&&Fs(Xt(),Yn(),g,o,v,g[11],f,!1),av}function dv(o,a,l,d,f){const g=o[l+1],v=null===a;let w=d?hi(g):ps(g),I=!1;for(;0!==w&&(!1===I||v);){const P=o[w+1];FA(o[w],a)&&(I=!0,o[w+1]=d?Tg(P):dy(P)),w=d?hi(P):ps(P)}I&&(o[l+1]=d?dy(g):Tg(g))}function FA(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Jl(o,a)>=0}const Ur={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function YE(o){return o.substring(Ur.key,Ur.keyEnd)}function ZE(o,a){const l=Ur.textEnd;return l===a?-1:(a=Ur.keyEnd=function hv(o,a,l){for(;a<l&&o.charCodeAt(a)>32;)a++;return a}(o,Ur.key=a,l),nc(o,a,l))}function nc(o,a,l){for(;a<l&&o.charCodeAt(a)<=32;)a++;return a}function gv(o,a,l){return Bs(o,a,l,!1),gv}function Ia(o,a){return Bs(o,a,null,!0),Ia}function zo(o,a){for(let l=function LA(o){return function XE(o){Ur.key=0,Ur.keyEnd=0,Ur.value=0,Ur.valueEnd=0,Ur.textEnd=o.length}(o),ZE(o,nc(o,0,Ur.textEnd))}(a);l>=0;l=ZE(a,l))Rr(o,YE(a),!0)}function Bs(o,a,l,d){const f=Le(),g=Xt(),v=Ms(2);g.firstUpdatePass&&Yg(g,o,v,d),a!==Pt&&Si(f,v,a)&&_v(g,g.data[wr()],f,f[11],o,f[v+1]=function zA(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=ne(uo(o)))),o}(a,l),d,v)}function Kg(o,a){return a>=o.expandoStartIndex}function Yg(o,a,l,d){const f=o.data;if(null===f[l+1]){const g=f[wr()],v=Kg(o,l);tC(g,d)&&null===a&&!v&&(a=!1),a=function jA(o,a,l,d){const f=Hl(o);let g=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(l=lu(l=mv(null,o,a,l,d),a.attrs,d),g=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==f)if(l=mv(f,o,a,l,d),null===g){let I=function Ef(o,a,l){const d=l?a.classBindings:a.styleBindings;if(0!==ps(d))return o[hi(d)]}(o,a,d);void 0!==I&&Array.isArray(I)&&(I=mv(null,o,a,I[1],d),I=lu(I,a.attrs,d),function HA(o,a,l,d){o[hi(l?a.classBindings:a.styleBindings)]=d}(o,a,d,I))}else g=function GA(o,a,l){let d;const f=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<f;g++)d=lu(d,o[g].hostAttrs,l);return lu(d,a.attrs,l)}(o,a,d)}return void 0!==g&&(d?a.residualClasses=g:a.residualStyles=g),l}(f,g,a,d),function $g(o,a,l,d,f,g){let v=g?a.classBindings:a.styleBindings,w=hi(v),I=ps(v);o[d]=l;let P,M=!1;if(Array.isArray(l)){const z=l;P=z[1],(null===P||Jl(z,P)>0)&&(M=!0)}else P=l;if(f)if(0!==I){const ie=hi(o[w+1]);o[d+1]=sd(ie,w),0!==ie&&(o[ie+1]=Ig(o[ie+1],d)),o[w+1]=function Cg(o,a){return 131071&o|a<<17}(o[w+1],d)}else o[d+1]=sd(w,0),0!==w&&(o[w+1]=Ig(o[w+1],d)),w=d;else o[d+1]=sd(I,0),0===w?w=d:o[I+1]=Ig(o[I+1],d),I=d;M&&(o[d+1]=dy(o[d+1])),dv(o,P,d,!0),dv(o,P,d,!1),function KE(o,a,l,d,f){const g=f?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&Jl(g,a)>=0&&(l[d+1]=Tg(l[d+1]))}(a,P,o,d,g),v=sd(w,I),g?a.classBindings=v:a.styleBindings=v}(f,g,a,l,v,d)}}function mv(o,a,l,d,f){let g=null;const v=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<v&&(g=a[w],d=lu(d,g.hostAttrs,f),g!==o);)w++;return null!==o&&(l.directiveStylingLast=w),d}function lu(o,a,l){const d=l?1:2;let f=-1;if(null!==a)for(let g=0;g<a.length;g++){const v=a[g];"number"==typeof v?f=v:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Rr(o,v,!!l||a[++g]))}return void 0===o?null:o}function _v(o,a,l,d,f,g,v,w){if(!(3&a.type))return;const I=o.data,M=I[w+1];Dd(function gl(o){return 1==(1&o)}(M)?eC(I,a,l,f,ps(M),v):void 0)||(Dd(g)||function Eg(o){return 2==(2&o)}(M)&&(g=eC(I,null,l,f,w,v)),function Ns(o,a,l,d,f){const g=Rn(o);if(a)f?g?o.addClass(l,d):l.classList.add(d):g?o.removeClass(l,d):l.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:pl.DashCase;if(null==f)g?o.removeStyle(l,d,v):l.style.removeProperty(d);else{const w="string"==typeof f&&f.endsWith("!important");w&&(f=f.slice(0,-10),v|=pl.Important),g?o.setStyle(l,d,f,v):l.style.setProperty(d,f,w?"important":"")}}}(d,v,To(wr(),l),f,g))}function eC(o,a,l,d,f,g){const v=null===a;let w;for(;f>0;){const I=o[f],M=Array.isArray(I),P=M?I[1]:I,z=null===P;let ie=l[f+1];ie===Pt&&(ie=z?J:void 0);let ge=z?Kc(ie,d):P===d?ie:void 0;if(M&&!Dd(ge)&&(ge=Kc(I,d)),Dd(ge)&&(w=ge,v))return w;const Re=o[f+1];f=v?hi(Re):ps(Re)}if(null!==a){let I=g?a.residualClasses:a.residualStyles;null!=I&&(w=Kc(I,d))}return w}function Dd(o){return void 0!==o}function tC(o,a){return 0!=(o.flags&(a?16:32))}function nC(o,a=""){const l=Le(),d=Xt(),f=o+20,g=d.firstCreatePass?ld(d,f,1,a,null):d.data[f],v=l[f]=function Z_(o,a){return Rn(o)?o.createText(a):o.createTextNode(a)}(l[11],a);yg(d,l,v,g),Zr(g,!1)}function Qg(o){return rc("",o,""),Qg}function rc(o,a,l){const d=Le(),f=pd(d,o,a,l);return f!==Pt&&_l(d,wr(),f),rc}function Jg(o,a,l){!function yo(o,a,l,d){const f=Xt(),g=Ms(2);f.firstUpdatePass&&Yg(f,null,g,d);const v=Le();if(l!==Pt&&Si(v,g,l)){const w=f.data[wr()];if(tC(w,d)&&!Kg(f,g)){let I=d?w.classesWithoutHost:w.stylesWithoutHost;null!==I&&(l=ce(I,l||"")),Jy(f,w,v,l,d)}else!function JE(o,a,l,d,f,g,v,w){f===Pt&&(f=J);let I=0,M=0,P=0<f.length?f[0]:null,z=0<g.length?g[0]:null;for(;null!==P||null!==z;){const ie=I<f.length?f[I+1]:void 0,ge=M<g.length?g[M+1]:void 0;let qe,Re=null;P===z?(I+=2,M+=2,ie!==ge&&(Re=z,qe=ge)):null===z||null!==P&&P<z?(I+=2,Re=P):(M+=2,Re=z,qe=ge),null!==Re&&_v(o,a,l,d,Re,qe,v,w),P=I<f.length?f[I]:null,z=M<g.length?g[M]:null}}(f,w,v,v[11],v[g+1],v[g+1]=function Cf(o,a,l){if(null==l||""===l)return J;const d=[],f=uo(l);if(Array.isArray(f))for(let g=0;g<f.length;g++)o(d,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&o(d,g,f[g]);else"string"==typeof f&&a(d,f);return d}(o,a,l),d,g)}}(Rr,zo,pd(Le(),o,a,l),!0)}function Cv(o,a,l){const d=Le();return Si(d,us(),a)&&Fs(Xt(),Yn(),d,o,a,d[11],l,!0),Cv}function Sd(o,a,l){const d=Le();if(Si(d,us(),a)){const g=Xt(),v=Yn();Fs(g,v,d,o,a,Ny(Hl(g.data),v,d),l,!0)}return Sd}const cu=void 0;var tm=["en",[["a","p"],["AM","PM"],cu],[["AM","PM"],cu,cu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cu,"{1} 'at' {0}",cu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fC(o){const l=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let sc={};function rm(o){const a=function Iv(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=gC(a);if(l)return l;const d=a.split("-")[0];if(l=gC(d),l)return l;if("en"===d)return tm;throw new Error(`Missing locale data for the locale "${o}".`)}function pC(o){return rm(o)[St.PluralCase]}function gC(o){return o in sc||(sc[o]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[o]),sc[o]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const oc="en-US";let _C=oc;function Pv(o,a,l,d,f){if(o=W(o),Array.isArray(o))for(let g=0;g<o.length;g++)Pv(o[g],a,l,d,f);else{const g=Xt(),v=Le();let w=dd(o)?o:W(o.provide),I=dA(o);const M=Hn(),P=1048575&M.providerIndexes,z=M.directiveStart,ie=M.providerIndexes>>20;if(dd(o)||!o.multi){const ge=new ca(I,f,Ea),Re=Nv(w,a,f?P:P+ie,z);-1===Re?(Ii(xr(M,v),g,w),cm(g,o,a.length),a.push(w),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),l.push(ge),v.push(ge)):(l[Re]=ge,v[Re]=ge)}else{const ge=Nv(w,a,P+ie,z),Re=Nv(w,a,P,P+ie),qe=ge>=0&&l[ge],Xe=Re>=0&&l[Re];if(f&&!Xe||!f&&!qe){Ii(xr(M,v),g,w);const pt=function m1(o,a,l,d,f){const g=new ca(o,l,Ea);return g.multi=[],g.index=a,g.componentProviders=0,kd(g,f,d&&!l),g}(f?AM:WC,l.length,f,d,I);!f&&Xe&&(l[Re].providerFactory=pt),cm(g,o,a.length,0),a.push(w),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),l.push(pt),v.push(pt)}else cm(g,o,ge>-1?ge:Re,kd(l[f?Re:ge],I,!f&&d));!f&&d&&Xe&&l[Re].componentProviders++}}}function cm(o,a,l,d){const f=dd(a),g=function Tr(o){return!!o.useClass}(a);if(f||g){const I=(g?W(a.useClass):a).prototype.ngOnDestroy;if(I){const M=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const P=M.indexOf(l);-1===P?M.push(l,[d,I]):M[P+1].push(d,I)}else M.push(l,I)}}}function kd(o,a,l){return l&&o.componentProviders++,o.multi.push(a)-1}function Nv(o,a,l,d){for(let f=l;f<d;f++)if(a[f]===o)return f;return-1}function WC(o,a,l,d){return Fv(this.multi,[])}function AM(o,a,l,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=gt(l,l[1],this.providerFactory.index,d);g=w.slice(0,v),Fv(f,g);for(let I=v;I<w.length;I++)g.push(w[I])}else g=[],Fv(f,g);return g}function Fv(o,a){for(let l=0;l<o.length;l++)a.push((0,o[l])());return a}function qC(o,a=[]){return l=>{l.providersResolver=(d,f)=>function SM(o,a,l){const d=Xt();if(d.firstCreatePass){const f=bi(o);Pv(l,d.data,d.blueprint,f,!0),Pv(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class Rf{}class MM{resolveComponentFactory(a){throw function KC(o){const a=Error(`No component factory found for ${ne(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let dm=(()=>{class o{}return o.NULL=new MM,o})();function hm(){return Od(Hn(),Le())}function Od(o,a){return new kf(vr(o,a))}let kf=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=hm,o})();function xM(o){return o instanceof kf?o.nativeElement:o}class Of{}let RM=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function OM(){const o=Le(),l=br(Hn().index,o);return function kM(o){return o[11]}(vi(l)?l:o)}(),o})(),PM=(()=>{class o{}return o.\u0275prov=un({token:o,providedIn:"root",factory:()=>null}),o})();class Vv{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const NM=new Vv("13.3.5"),ZC={};function Bv(o,a,l,d,f=!1){for(;null!==l;){const g=a[l.index];if(null!==g&&d.push(En(g)),oi(g))for(let w=10;w<g.length;w++){const I=g[w],M=I[1].firstChild;null!==M&&Bv(I[1],I,M,d)}const v=l.type;if(8&v)Bv(o,a,l.child,d);else if(32&v){const w=k0(l,a);let I;for(;I=w();)d.push(I)}else if(16&v){const w=W0(a,l);if(Array.isArray(w))d.push(...w);else{const I=td(a[16]);Bv(I[1],I,w,d,!0)}}l=f?l.projectionNext:l.next}return d}class fm{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return Bv(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(oi(a)){const l=a[8],d=l?l.indexOf(this):-1;d>-1&&(X_(a,d),Ql(l,d))}this._attachedToViewContainer=!1}L0(this._lView[1],this._lView)}onDestroy(a){Ty(this._lView[1],this._lView,null,a)}markForCheck(){ky(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Oy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Py(o,a,l){la(!0);try{Oy(o,a,l)}finally{la(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ke(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function IS(o,a){id(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ke(902,"");this._appRef=a}}class _1 extends fm{constructor(a){super(a),this._view=a}detectChanges(){gE(this._view)}checkNoChanges(){!function oA(o){la(!0);try{gE(o)}finally{la(!1)}}(this._view)}get context(){return null}}class FM extends dm{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=_t(a);return new Hv(l,this.ngModule)}}function QC(o){const a=[];for(let l in o)o.hasOwnProperty(l)&&a.push({propName:o[l],templateName:l});return a}class Hv extends Rf{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function OS(o){return o.map(X0).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return QC(this.componentDef.inputs)}get outputs(){return QC(this.componentDef.outputs)}create(a,l,d,f){const g=(f=f||this.ngModule)?function jv(o,a){return{get:(l,d,f)=>{const g=o.get(l,ZC,f);return g!==ZC||d===ZC?g:a.get(l,d,f)}}}(a,f.injector):a,v=g.get(Of,Ua),w=g.get(PM,null),I=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",P=d?function lE(o,a,l){if(Rn(o))return o.selectRootElement(a,l===Zt.ShadowDom);let d="string"==typeof a?o.querySelector(a):a;return d.textContent="",d}(I,d,this.componentDef.encapsulation):Q_(v.createRenderer(null,this.componentDef),M,function Uv(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(M)),z=this.componentDef.onPush?576:528,ie=function Uy(o,a){return{components:[],scheduler:o||Y_,clean:aA,playerHandler:a||null,flags:0}}(),ge=ud(0,null,null,1,0,null,null,null,null,null),Re=sf(null,ge,ie,z,null,null,v,I,w,g);let qe,Xe;So(Re);try{const pt=function Pg(o,a,l,d,f,g){const v=l[1];l[20]=o;const I=ld(v,20,2,"#host",null),M=I.mergedAttrs=a.hostAttrs;null!==M&&(ff(I,M,!0),null!==o&&(Cr(f,o,M),null!==I.classes&&Zh(f,o,I.classes),null!==I.styles&&sy(f,o,I.styles)));const P=d.createRenderer(o,a),z=sf(l,zS(a),null,a.onPush?64:16,l[20],I,d,P,g||null,null);return v.firstCreatePass&&(Ii(xr(I,l),v,a.type),Ls(v,I),Mg(I,l.length,1)),df(l,z),l[20]=z}(P,this.componentDef,Re,v,I);if(P)if(d)Cr(I,P,["ng-version",NM.full]);else{const{attrs:Ve,classes:Et}=function uy(o){const a=[],l=[];let d=1,f=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===f?""!==g&&a.push(g,o[++d]):8===f&&l.push(g);else{if(!co(f))break;f=g}d++}return{attrs:a,classes:l}}(this.componentDef.selectors[0]);Ve&&Cr(I,P,Ve),Et&&Et.length>0&&Zh(I,P,Et.join(" "))}if(Xe=Kn(ge,20),void 0!==l){const Ve=Xe.projection=[];for(let Et=0;Et<this.ngContentSelectors.length;Et++){const ln=l[Et];Ve.push(null!=ln?Array.from(ln):null)}}qe=function By(o,a,l,d,f){const g=l[1],v=function QS(o,a,l){const d=Hn();o.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),dE(o,d,a,ru(o,a,1,null),l));const f=gt(a,o,d.directiveStart,d);Wi(f,a);const g=vr(d,a);return g&&Wi(g,a),f}(g,l,a);if(d.components.push(v),o[8]=v,f&&f.forEach(I=>I(v,a)),a.contentQueries){const I=Hn();a.contentQueries(1,v,I.directiveStart)}const w=Hn();return!g.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(xs(w.index),cE(l[1],w,0,w.directiveStart,w.directiveEnd,a),Ay(a,v)),v}(pt,this.componentDef,Re,ie,[EA]),af(ge,Re,null)}finally{ua()}return new y1(this.componentType,qe,Od(Xe,Re),Re,Xe)}}class y1 extends class Lv{}{constructor(a,l,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new _1(f),this.componentType=a}get injector(){return new sl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class Pf{}class LM{}const Cl=new Map;class JC extends Pf{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new FM(this);const d=Kt(a);this._bootstrapComponents=fs(d.bootstrap),this._r3Injector=cA(a,l,[{provide:Pf,useValue:this},{provide:dm,useValue:this.componentFactoryResolver}],ne(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,l=ba.THROW_IF_NOT_FOUND,d=Ct.Default){return a===ba||a===Pf||a===Ly?this:this._r3Injector.get(a,l,d)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class $v extends LM{constructor(a){super(),this.moduleType=a,null!==Kt(a)&&function XC(o){const a=new Set;!function l(d){const f=Kt(d,!0),g=f.id;null!==g&&(function uc(o,a,l){if(a&&a!==l)throw new Error(`Duplicate module registered for ${o} - ${ne(a)} vs ${ne(a.name)}`)}(g,Cl.get(g),d),Cl.set(g,d));const v=fs(f.imports);for(const w of v)a.has(w)||(a.add(w),l(w))}(o)}(a)}create(a){return new JC(this.moduleType,a)}}function eI(o,a,l){const d=ar()+o,f=Le();return f[d]===Pt?yl(f,d,l?a.call(l):a()):function Fg(o,a){return o[a]}(f,d)}function tI(o,a,l,d){return function nI(o,a,l,d,f,g){const v=a+l;return Si(o,v,f)?yl(o,v+1,g?d.call(g,f):d(f)):function Pd(o,a){const l=o[a];return l===Pt?void 0:l}(o,v+1)}(Le(),ar(),o,a,l,d)}function mm(o){return a=>{setTimeout(o,void 0,a)}}const Hr=class M1 extends c.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,d){var f,g,v;let w=a,I=l||(()=>null),M=d;if(a&&"object"==typeof a){const z=a;w=null===(f=z.next)||void 0===f?void 0:f.bind(z),I=null===(g=z.error)||void 0===g?void 0:g.bind(z),M=null===(v=z.complete)||void 0===v?void 0:v.bind(z)}this.__isAsync&&(I=mm(I),w&&(w=mm(w)),M&&(M=mm(M)));const P=super.subscribe({next:w,error:I,complete:M});return a instanceof B.w0&&a.add(P),P}};function at(){return this._results[pf()]()}class pr{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=pf(),d=pr.prototype;d[l]||(d[l]=at)}get changes(){return this._changes||(this._changes=new Hr)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const d=this;d.dirty=!1;const f=Qr(a);(this._changesDetected=!function Yp(o,a,l){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],g=a[d];if(l&&(f=l(f),g=l(g)),g!==f)return!1}return!0}(d._results,f,l))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let j=(()=>{class o{}return o.__NG_ELEMENT_ID__=sI,o})();const Da=j,iI=class extends Da{constructor(a,l,d){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(a){const l=this._declarationTContainer.tViews,d=sf(this._declarationLView,l,a,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(l)),af(l,d,a),new fm(d)}};function sI(){return Nd(Hn(),Le())}function Nd(o,a){return 4&o.type?new iI(a,o,Od(o,a)):null}let Nf=(()=>{class o{}return o.__NG_ELEMENT_ID__=zM,o})();function zM(){return cc(Hn(),Le())}const $M=Nf,Yv=class extends $M{constructor(a,l,d){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=d}get element(){return Od(this._hostTNode,this._hostLView)}get injector(){return new sl(this._hostTNode,this._hostLView)}get parentInjector(){const a=ks(this._hostTNode,this._hostLView);if(Ro(a)){const l=el(a,this._hostLView),d=so(a);return new sl(l[1].data[d+8],l)}return new sl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=du(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,d){const f=a.createEmbeddedView(l||{});return this.insert(f,d),f}createComponent(a,l,d,f,g){const v=a&&!function Zl(o){return"function"==typeof o}(a);let w;if(v)w=l;else{const z=l||{};w=z.index,d=z.injector,f=z.projectableNodes,g=z.ngModuleRef}const I=v?a:new Hv(_t(a)),M=d||this.parentInjector;if(!g&&null==I.ngModule){const ie=(v?M:this.parentInjector).get(Pf,null);ie&&(g=ie)}const P=I.create(M,f,void 0,g);return this.insert(P.hostView,w),P}insert(a,l){const d=a._lView,f=d[1];if(function Au(o){return oi(o[3])}(d)){const P=this.indexOf(a);if(-1!==P)this.detach(P);else{const z=d[3],ie=new Yv(z,z[6],z[3]);ie.detach(ie.indexOf(a))}}const g=this._adjustIndex(l),v=this._lContainer;!function TS(o,a,l,d){const f=10+d,g=l.length;d>0&&(l[f-1][4]=a),d<g-10?(a[4]=l[f],ul(l,10+d,a)):(l.push(a),a[4]=null),a[3]=l;const v=a[17];null!==v&&l!==v&&function DS(o,a){const l=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===l?o[9]=[a]:l.push(a)}(v,a);const w=a[19];null!==w&&w.insertView(o),a[2]|=128}(f,d,v,g);const w=ny(g,v),I=d[11],M=_g(I,v[7]);return null!==M&&function CS(o,a,l,d,f,g){d[0]=f,d[6]=a,id(o,d,l,1,f,g)}(f,v[6],I,d,M,w),a.attachToViewContainerRef(),ul(Ff(v),g,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=du(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),d=X_(this._lContainer,l);d&&(Ql(Ff(this._lContainer),l),L0(d[1],d))}detach(a){const l=this._adjustIndex(a,-1),d=X_(this._lContainer,l);return d&&null!=Ql(Ff(this._lContainer),l)?new fm(d):null}_adjustIndex(a,l=0){return null==a?this.length+l:a}};function du(o){return o[8]}function Ff(o){return o[8]||(o[8]=[])}function cc(o,a){let l;const d=a[o.index];if(oi(d))l=d;else{let f;if(8&o.type)f=En(d);else{const g=a[11];f=g.createComment("");const v=vr(o,a);Ku(g,_g(g,v),f,function xS(o,a){return Rn(o)?o.nextSibling(a):a.nextSibling}(g,v),!1)}a[o.index]=l=Ry(d,a,f,o),df(a,l)}return new Yv(l,o,a)}class Il{constructor(a){this.queryList=a,this.matches=null}clone(){return new Il(this.queryList)}setDirty(){this.queryList.setDirty()}}class ym{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const d=null!==a.contentQueries?a.contentQueries[0]:l.length,f=[];for(let g=0;g<d;g++){const v=l.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new ym(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==eb(a,l).matches&&this.queries[l].setDirty()}}class Zv{constructor(a,l,d=null){this.predicate=a,this.flags=l,this.read=d}}class Pr{constructor(a=[]){this.queries=a}elementStart(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let d=0;d<this.length;d++){const f=null!==l?l.length:0,g=this.getByIndex(d).embeddedTView(a,f);g&&(g.indexInDeclarationView=d,null!==l?l.push(g):l=[g])}return null!==l?new Pr(l):null}template(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class dc{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new dc(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(a,l,Qv(l,g)),this.matchTNodeWithReadOption(a,l,Ln(l,a,g,!1,!1))}else d===j?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,Ln(l,a,d,!1,!1))}matchTNodeWithReadOption(a,l,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===kf||f===Nf||f===j&&4&l.type)this.addMatch(l.index,-2);else{const g=Ln(l,a,f,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,d)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function Qv(o,a){const l=o.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===a)return l[d+1];return null}function xi(o,a,l,d){return-1===l?function Sa(o,a){return 11&o.type?Od(o,a):4&o.type?Nd(o,a):null}(a,o):-2===l?function WM(o,a,l){return l===kf?Od(a,o):l===j?Nd(a,o):l===Nf?cc(a,o):void 0}(o,a,d):gt(o,o[1],l,a)}function Lf(o,a,l,d){const f=a[19].queries[d];if(null===f.matches){const g=o.data,v=l.matches,w=[];for(let I=0;I<v.length;I+=2){const M=v[I];w.push(M<0?null:xi(a,g[M],v[I+1],l.metadata.read))}f.matches=w}return f.matches}function Xv(o,a,l,d){const f=o.queries.getByIndex(l),g=f.matches;if(null!==g){const v=Lf(o,a,f,l);for(let w=0;w<g.length;w+=2){const I=g[w];if(I>0)d.push(v[w/2]);else{const M=g[w+1],P=a[-I];for(let z=10;z<P.length;z++){const ie=P[z];ie[17]===ie[3]&&Xv(ie[1],ie,M,d)}if(null!==P[9]){const z=P[9];for(let ie=0;ie<z.length;ie++){const ge=z[ie];Xv(ge[1],ge,M,d)}}}}}return d}function Aa(o){const a=Le(),l=Xt(),d=Qa();Ou(d+1);const f=eb(l,d);if(o.dirty&&aa(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const g=f.crossesNgTemplate?Xv(l,a,d,[]):Lf(l,a,f,d);o.reset(g,xM),o.notifyOnChanges()}return!0}return!1}function $o(o,a,l){const d=Xt();d.firstCreatePass&&(Jv(d,new Zv(o,a,l),-1),2==(2&a)&&(d.staticViewQueries=!0)),vm(d,Le(),a)}function hu(o,a,l,d){const f=Xt();if(f.firstCreatePass){const g=Hn();Jv(f,new Zv(a,l,d),g.index),function Xr(o,a){const l=o.contentQueries||(o.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,a)}(f,o),2==(2&l)&&(f.staticContentQueries=!0)}vm(f,Le(),l)}function lI(){return function Vf(o,a){return o[19].queries[a].queryList}(Le(),Qa())}function vm(o,a,l){const d=new pr(4==(4&l));Ty(o,a,d,d.destroy),null===a[19]&&(a[19]=new ym),a[19].queries.push(new Il(d))}function Jv(o,a,l){null===o.queries&&(o.queries=new Pr),o.queries.track(new dc(a,l))}function eb(o,a){return o.queries.getByIndex(a)}function Tl(...o){}const bI=new er("Application Initializer");let gb=(()=>{class o{constructor(l){this.appInits=l,this.resolve=Tl,this.reject=Tl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(tv(g))l.push(g);else if(rv(g)){const v=new Promise((w,I)=>{g.subscribe({complete:w,error:I})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(f=>{this.reject(f)}),0===l.length&&d(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)(Ue(bI,8))},o.\u0275prov=un({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const wI=new er("AppId",{providedIn:"root",factory:function EI(){return`${Im()}${Im()}${Im()}`}});function Im(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const II=new er("Platform Initializer"),TI=new er("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),DI=new er("appBootstrapListener");let SI=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=un({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Tm=new er("LocaleId",{providedIn:"root",factory:()=>Rt(Tm,Ct.Optional|Ct.SkipSelf)||function AI(){return"undefined"!=typeof $localize&&$localize.locale||oc}()}),sx=new er("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Dm{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let MI=(()=>{class o{compileModuleSync(l){return new $v(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),g=fs(Kt(l).declarations).reduce((v,w)=>{const I=_t(w);return I&&v.push(new Hv(I)),v},[]);return new Dm(d,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=un({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Cn=(()=>Promise.resolve(0))();function en(o){"undefined"==typeof Zone?Cn.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class dn{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hr(!1),this.onMicrotaskEmpty=new Hr(!1),this.onStable=new Hr(!1),this.onError=new Hr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&l,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function pu(){let o=Qt.requestAnimationFrame,a=Qt.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function RI(o){const a=()=>{!function Gf(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Qt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Gn(o),o.isCheckStableRunning=!0,_b(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Gn(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,f,g,v,w)=>{try{return nn(o),l.invokeTask(f,g,v,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),Ri(o)}},onInvoke:(l,d,f,g,v,w,I)=>{try{return nn(o),l.invoke(f,g,v,w,I)}finally{o.shouldCoalesceRunChangeDetection&&a(),Ri(o)}},onHasTask:(l,d,f,g)=>{l.hasTask(f,g),d===f&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,Gn(o),_b(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,d,f,g)=>(l.handleError(f,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(dn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,l,d){return this._inner.run(a,l,d)}runTask(a,l,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,a,mb,Tl,Tl);try{return g.runTask(v,l,d)}finally{g.cancelTask(v)}}runGuarded(a,l,d){return this._inner.runGuarded(a,l,d)}runOutsideAngular(a){return this._outer.run(a)}}const mb={};function _b(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Gn(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function nn(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Ri(o){o._nesting--,_b(o)}class ux{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hr,this.onMicrotaskEmpty=new Hr,this.onStable=new Hr,this.onError=new Hr}run(a,l,d){return a.apply(l,d)}runGuarded(a,l,d){return a.apply(l,d)}runOutsideAngular(a){return a()}runTask(a,l,d,f){return a.apply(l,d)}}let Sm=(()=>{class o{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dn.assertNotInAngularZone(),en(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())en(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:f})}whenStable(l,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,f){return[]}}return o.\u0275fac=function(l){return new(l||o)(Ue(dn))},o.\u0275prov=un({token:o,factory:o.\u0275fac}),o})(),vo=(()=>{class o{constructor(){this._applications=new Map,yb.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return yb.findTestabilityInTree(this,l,d)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=un({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();class cx{addToWindow(a){}findTestabilityInTree(a,l,d){return null}}function dx(o){yb=o}let yb=new cx,gu=null;const mu=new er("AllowMultipleToken"),Am=new er("PlatformOnDestroy");class kI{constructor(a,l){this.name=a,this.token=l}}function OI(o,a,l=[]){const d=`Platform: ${a}`,f=new er(d);return(g=[])=>{let v=rn();if(!v||v.injector.get(mu,!1)){const w=[...l,...g,{provide:f,useValue:!0}];o?o(w):function fx(o){if(gu&&!gu.get(mu,!1))throw new ke(400,"");gu=o;const a=o.get($f),l=o.get(II,null);l&&l.forEach(d=>d())}(function PI(o=[],a){return ba.create({name:a,providers:[{provide:Vy,useValue:"platform"},{provide:Am,useValue:()=>gu=null},...o]})}(w,d))}return function px(o){const a=rn();if(!a)throw new ke(401,"");return a}()}}function rn(){var o;return null!==(o=null==gu?void 0:gu.get($f))&&void 0!==o?o:null}let $f=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const w=function Mm(o,a){let l;return l="noop"===o?new ux:("zone.js"===o?void 0:o)||new dn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),I=[{provide:dn,useValue:w}];return w.run(()=>{const M=ba.create({providers:I,parent:this.injector,name:l.moduleType.name}),P=l.create(M),z=P.injector.get(qu,null);if(!z)throw new ke(402,"");return w.runOutsideAngular(()=>{const ie=w.onError.subscribe({next:ge=>{z.handleError(ge)}});P.onDestroy(()=>{js(this._modules,P),ie.unsubscribe()})}),function NI(o,a,l){try{const d=l();return tv(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(z,w,()=>{const ie=P.injector.get(gb);return ie.runInitializers(),ie.donePromise.then(()=>(function nM(o){ze(o,"Expected localeId to be defined"),"string"==typeof o&&(_C=o.toLowerCase().replace(/_/g,"-"))}(P.injector.get(Tm,oc)||oc),this._moduleDoBootstrap(P),P))})})}bootstrapModule(l,d=[]){const f=Wo({},d);return function zf(o,a,l){const d=new $v(l);return Promise.resolve(d)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(l){const d=l.injector.get(Ud);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new ke(403,"");l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(Am,null);null==l||l(),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)(Ue(ba))},o.\u0275prov=un({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Wo(o,a){return Array.isArray(a)?a.reduce(Wo,o):Object.assign(Object.assign({},o),a)}let Ud=(()=>{class o{constructor(l,d,f,g){this._zone=l,this._injector=d,this._exceptionHandler=f,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new k.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),w=new k.y(I=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{dn.assertNotInAngularZone(),en(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{dn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{M.unsubscribe(),P.unsubscribe()}});this.isStable=(0,K.T)(v,w.pipe((0,ee.B)()))}bootstrap(l,d){if(!this._initStatus.done)throw new ke(405,"");let f;f=l instanceof Rf?l:this._injector.get(dm).resolveComponentFactory(l),this.componentTypes.push(f.componentType);const g=function hx(o){return o.isBoundToModule}(f)?void 0:this._injector.get(Pf),w=f.create(ba.NULL,[],d||f.selector,g),I=w.location.nativeElement,M=w.injector.get(Sm,null),P=M&&w.injector.get(vo);return M&&P&&P.registerApplication(I,M),w.onDestroy(()=>{this.detachView(w.hostView),js(this.components,w),P&&P.unregisterApplication(I)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new ke(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;js(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(DI,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(l){return new(l||o)(Ue(dn),Ue(ba),Ue(qu),Ue(gb))},o.\u0275prov=un({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function js(o,a){const l=o.indexOf(a);l>-1&&o.splice(l,1)}let LI=!0,xm=!1;function vb(){return xm=!0,LI}function gx(){if(xm)throw new Error("Cannot enable prod mode after platform setup.");LI=!1}let jd=(()=>{class o{}return o.__NG_ELEMENT_ID__=VI,o})();function VI(o){return function BI(o,a,l){if(Nl(o)&&!l){const d=br(o.index,a);return new fm(d,d)}return 47&o.type?new fm(a[16],a):null}(Hn(),Le(),16==(16&o))}class Cb{constructor(){}supports(a){return Ng(a)}create(a){return new HI(a)}}const wx=(o,a)=>a;class HI{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||wx}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,d=this._removalsHead,f=0,g=null;for(;l||d;){const v=!d||l&&l.currentIndex<Gd(d,f,g)?l:d,w=Gd(v,f,g),I=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)f++;else{g||(g=[]);const M=w-f,P=I-f;if(M!=P){for(let ie=0;ie<M;ie++){const ge=ie<g.length?g[ie]:g[ie]=0,Re=ge+ie;P<=Re&&Re<M&&(g[ie]=ge+1)}g[v.previousIndex]=P-M}}w!==I&&a(v,w,I)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!Ng(a))throw new ke(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,g,v,l=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)g=a[w],v=this._trackByFn(w,g),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,g,v,w)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,w),d=!0),l=l._next}else f=0,function o1(o,a){if(Array.isArray(o))for(let l=0;l<o.length;l++)a(o[l]);else{const l=o[pf()]();let d;for(;!(d=l.next()).done;)a(d.value)}}(a,w=>{v=this._trackByFn(f,w),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,w,v,f)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,v,f),d=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,d,f){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,g,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,g,f)):a=this._addAfter(new GI(l,d),g,f),a}_verifyReinsertion(a,l,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?a=this._reinsertAfter(g,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,g=a._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(a,l,d),this._addToMoves(a,d),a}_moveAfter(a,l,d){return this._unlink(a),this._insertAfter(a,l,d),this._addToMoves(a,d),a}_addAfter(a,l,d){return this._insertAfter(a,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,d){const f=null===l?this._itHead:l._next;return a._next=f,a._prev=l,null===f?this._itTail=a:f._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new gc),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,d=a._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gc),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class GI{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zI{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const l=a._prevDup,d=a._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class gc{constructor(){this.map=new Map}put(a){const l=a.trackById;let d=this.map.get(l);d||(d=new zI,this.map.set(l,d)),d.add(a)}get(a,l){const f=this.map.get(a);return f?f.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Gd(o,a,l){const d=o.previousIndex;if(null===d)return d;let f=0;return l&&d<l.length&&(f=l[d]),d+a+f}class zd{constructor(){}supports(a){return a instanceof Map||SE(a)}create(){return new Ex}}class Ex{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||SE(a)))throw new ke(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(f,d);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const d=a._prev;return l._next=a,l._prev=d,a._prev=l,d&&(d._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,l);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new Ib(a);return this._records.set(a,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(d=>l(a[d],d))}}class Ib{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $d(){return new Tb([new Cb])}let Tb=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(null!=d){const f=d.factories.slice();l=l.concat(f)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||$d()),deps:[[o,new hs,new Fo]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(null!=d)return d;throw new ke(901,"")}}return o.\u0275prov=un({token:o,providedIn:"root",factory:$d}),o})();function $I(){return new Sb([new zd])}let Sb=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(d){const f=d.factories.slice();l=l.concat(f)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||$I()),deps:[[o,new hs,new Fo]]}}find(l){const d=this.factories.find(g=>g.supports(l));if(d)return d;throw new ke(901,"")}}return o.\u0275prov=un({token:o,providedIn:"root",factory:$I}),o})();const Ix=OI(null,"core",[]);let km=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)(Ue(Ud))},o.\u0275mod=we({type:o}),o.\u0275inj=gn({}),o})()},3942:(Ae,ye,R)=>{"use strict";R.d(ye,{Z:()=>ke});var c=R(2090),B=R(4859),k=R(9681),K=R(1877);class ee{constructor(Ee,Ce){this._delegate=Ee,this.firebase=Ce,(0,k._addComponent)(Ee,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=Ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this._delegate.automaticDataCollectionEnabled=Ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ee=>{this._delegate.checkDestroyed(),Ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(Ee,Ce=k._DEFAULT_ENTRY_NAME){var Oe;this._delegate.checkDestroyed();const je=this._delegate.container.getProvider(Ee);return!je.isInitialized()&&"EXPLICIT"===(null===(Oe=je.getComponent())||void 0===Oe?void 0:Oe.instantiationMode)&&je.initialize(),je.getImmediate({identifier:Ce})}_removeServiceInstance(Ee,Ce=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ee).clearInstance(Ce)}_addComponent(Ee){(0,k._addComponent)(this._delegate,Ee)}_addOrOverwriteComponent(Ee){(0,k._addOrOverwriteComponent)(this._delegate,Ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Q=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function ce(){const Be=function ne(Be){const Ee={},Ce={__esModule:!0,initializeApp:function ve(X,be={}){const F=k.initializeApp(X,be);if((0,c.r3)(Ee,F.name))return Ee[F.name];const $=new Be(F,Ce);return Ee[F.name]=$,$},app:je,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Pe(X){const be=X.name,F=be.replace("-compat","");if(k._registerComponent(X)&&"PUBLIC"===X.type){const $=(q=je())=>{if("function"!=typeof q[F])throw Q.create("invalid-app-argument",{appName:be});return q[F]()};void 0!==X.serviceProps&&(0,c.ZB)($,X.serviceProps),Ce[F]=$,Be.prototype[F]=function(...q){return this._getService.bind(this,be).apply(this,X.multipleInstances?q:[])}}return"PUBLIC"===X.type?Ce[F]:null},removeApp:function Oe(X){delete Ee[X]},useAsService:function Je(X,be){return"serverAuth"===be?null:be},modularAPIs:k}};function je(X){if(!(0,c.r3)(Ee,X=X||k._DEFAULT_ENTRY_NAME))throw Q.create("no-app",{appName:X});return Ee[X]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function Ke(){return Object.keys(Ee).map(X=>Ee[X])}}),je.App=Be,Ce}(ee);return Be.INTERNAL=Object.assign(Object.assign({},Be.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function Ee(Ce){(0,c.ZB)(Be,Ce)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Be}(),U=new K.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Be=self.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ke=H;!function Me(Be){(0,k.registerVersion)("@firebase/app-compat","0.1.26",Be)}()},9681:(Ae,ye,R)=>{"use strict";R.r(ye),R.d(ye,{FirebaseError:()=>K.ZR,SDK_VERSION:()=>mi,_DEFAULT_ENTRY_NAME:()=>ze,_addComponent:()=>kn,_addOrOverwriteComponent:()=>un,_apps:()=>vn,_clearComponents:()=>Ui,_components:()=>Tt,_getProvider:()=>gn,_registerComponent:()=>qt,_removeServiceInstance:()=>Fn,deleteApp:()=>Ct,getApp:()=>zn,getApps:()=>ss,initializeApp:()=>ji,onLog:()=>hn,registerVersion:()=>On,setLogLevel:()=>Ar});var c=R(9671),B=R(4859),k=R(1877),K=R(2090),ee=R(8766);class le{constructor(pe){this.container=pe}getPlatformInfoString(){return this.container.getProviders().map(He=>{if(function Q(se){const pe=se.getComponent();return"VERSION"===(null==pe?void 0:pe.type)}(He)){const et=He.getImmediate();return`${et.library}/${et.version}`}return null}).filter(He=>He).join(" ")}}const ne="@firebase/app",H=new k.Yd("@firebase/app"),ze="[DEFAULT]",lt={[ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vn=new Map,Tt=new Map;function kn(se,pe){try{se.container.addComponent(pe)}catch(He){H.debug(`Component ${pe.name} failed to register with FirebaseApp ${se.name}`,He)}}function un(se,pe){se.container.addOrOverwriteComponent(pe)}function qt(se){const pe=se.name;if(Tt.has(pe))return H.debug(`There were multiple attempts to register component ${pe}.`),!1;Tt.set(pe,se);for(const He of vn.values())kn(He,se);return!0}function gn(se,pe){const He=se.container.getProvider("heartbeat").getImmediate({optional:!0});return He&&He.triggerHeartbeat(),se.container.getProvider(pe)}function Fn(se,pe,He=ze){gn(se,pe).clearInstance(He)}function Ui(){Tt.clear()}const Un=new K.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class is{constructor(pe,He,et){this._isDeleted=!1,this._options=Object.assign({},pe),this._config=Object.assign({},He),this._name=He.name,this._automaticDataCollectionEnabled=He.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pe){this._isDeleted=pe}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}const mi="9.8.2";function ji(se,pe={}){"object"!=typeof pe&&(pe={name:pe});const He=Object.assign({name:ze,automaticDataCollectionEnabled:!1},pe),et=He.name;if("string"!=typeof et||!et)throw Un.create("bad-app-name",{appName:String(et)});const wt=vn.get(et);if(wt){if((0,K.vZ)(se,wt.options)&&(0,K.vZ)(He,wt.config))return wt;throw Un.create("duplicate-app",{appName:et})}const Lt=new B.H0(et);for(const Dt of Tt.values())Lt.addComponent(Dt);const mn=new is(se,He,Lt);return vn.set(et,mn),mn}function zn(se=ze){const pe=vn.get(se);if(!pe)throw Un.create("no-app",{appName:se});return pe}function ss(){return Array.from(vn.values())}function Ct(se){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(se){const pe=se.name;vn.has(pe)&&(vn.delete(pe),yield Promise.all(se.container.getProviders().map(He=>He.delete())),se.isDeleted=!0)})).apply(this,arguments)}function On(se,pe,He){var et;let wt=null!==(et=lt[se])&&void 0!==et?et:se;He&&(wt+=`-${He}`);const Lt=wt.match(/\s|\//),mn=pe.match(/\s|\//);if(Lt||mn){const Dt=[`Unable to register library "${wt}" with version "${pe}":`];return Lt&&Dt.push(`library name "${wt}" contains illegal characters (whitespace or "/")`),Lt&&mn&&Dt.push("and"),mn&&Dt.push(`version name "${pe}" contains illegal characters (whitespace or "/")`),void H.warn(Dt.join(" "))}qt(new B.wA(`${wt}-version`,()=>({library:wt,version:pe}),"VERSION"))}function hn(se,pe){if(null!==se&&"function"!=typeof se)throw Un.create("invalid-log-argument");(0,k.Am)(se,pe)}function Ar(se){(0,k.Ub)(se)}const Pn="firebase-heartbeat-store";let or=null;function ws(){return or||(or=(0,ee.X3)("firebase-heartbeat-database",1,{upgrade:(se,pe)=>{0===pe&&se.createObjectStore(Pn)}}).catch(se=>{throw Un.create("storage-open",{originalErrorMessage:se.message})})),or}function yt(){return(yt=(0,c.Z)(function*(se){try{return(yield ws()).transaction(Pn).objectStore(Pn).get(yi(se))}catch(pe){throw Un.create("storage-get",{originalErrorMessage:pe.message})}})).apply(this,arguments)}function ht(se,pe){return _i.apply(this,arguments)}function _i(){return(_i=(0,c.Z)(function*(se,pe){try{const et=(yield ws()).transaction(Pn,"readwrite");return yield et.objectStore(Pn).put(pe,yi(se)),et.done}catch(He){throw Un.create("storage-set",{originalErrorMessage:He.message})}})).apply(this,arguments)}function yi(se){return`${se.name}!${se.options.appId}`}class $n{constructor(pe){this.container=pe,this._heartbeatsCache=null;const He=this.container.getProvider("app").getImmediate();this._storage=new oe(He),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var pe=this;return(0,c.Z)(function*(){const et=pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),wt=bn();if(null===pe._heartbeatsCache&&(pe._heartbeatsCache=yield pe._heartbeatsCachePromise),pe._heartbeatsCache.lastSentHeartbeatDate!==wt&&!pe._heartbeatsCache.heartbeats.some(Lt=>Lt.date===wt))return pe._heartbeatsCache.heartbeats.push({date:wt,agent:et}),pe._heartbeatsCache.heartbeats=pe._heartbeatsCache.heartbeats.filter(Lt=>{const mn=new Date(Lt.date).valueOf();return Date.now()-mn<=2592e6}),pe._storage.overwrite(pe._heartbeatsCache)})()}getHeartbeatsHeader(){var pe=this;return(0,c.Z)(function*(){if(null===pe._heartbeatsCache&&(yield pe._heartbeatsCachePromise),null===pe._heartbeatsCache||0===pe._heartbeatsCache.heartbeats.length)return"";const He=bn(),{heartbeatsToSend:et,unsentEntries:wt}=function J(se,pe=1024){const He=[];let et=se.slice();for(const wt of se){const Lt=He.find(mn=>mn.agent===wt.agent);if(Lt){if(Lt.dates.push(wt.date),ue(He)>pe){Lt.dates.pop();break}}else if(He.push({agent:wt.agent,dates:[wt.date]}),ue(He)>pe){He.pop();break}et=et.slice(1)}return{heartbeatsToSend:He,unsentEntries:et}}(pe._heartbeatsCache.heartbeats),Lt=(0,K.L)(JSON.stringify({version:2,heartbeats:et}));return pe._heartbeatsCache.lastSentHeartbeatDate=He,wt.length>0?(pe._heartbeatsCache.heartbeats=wt,yield pe._storage.overwrite(pe._heartbeatsCache)):(pe._heartbeatsCache.heartbeats=[],pe._storage.overwrite(pe._heartbeatsCache)),Lt})()}}function bn(){return(new Date).toISOString().substring(0,10)}class oe{constructor(pe){this.app=pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,K.hl)()&&(0,K.eu)().then(()=>!0).catch(()=>!1)})()}read(){var pe=this;return(0,c.Z)(function*(){return(yield pe._canUseIndexedDBPromise)&&(yield function Zt(se){return yt.apply(this,arguments)}(pe.app))||{heartbeats:[]}})()}overwrite(pe){var He=this;return(0,c.Z)(function*(){var et;if(yield He._canUseIndexedDBPromise){const Lt=yield He.read();return ht(He.app,{lastSentHeartbeatDate:null!==(et=pe.lastSentHeartbeatDate)&&void 0!==et?et:Lt.lastSentHeartbeatDate,heartbeats:pe.heartbeats})}})()}add(pe){var He=this;return(0,c.Z)(function*(){var et;if(yield He._canUseIndexedDBPromise){const Lt=yield He.read();return ht(He.app,{lastSentHeartbeatDate:null!==(et=pe.lastSentHeartbeatDate)&&void 0!==et?et:Lt.lastSentHeartbeatDate,heartbeats:[...Lt.heartbeats,...pe.heartbeats]})}})()}}function ue(se){return(0,K.L)(JSON.stringify({version:2,heartbeats:se})).length}!function xe(se){qt(new B.wA("platform-logger",pe=>new le(pe),"PRIVATE")),qt(new B.wA("heartbeat",pe=>new $n(pe),"PRIVATE")),On(ne,"0.7.25",se),On(ne,"0.7.25","esm2017"),On("fire-js","")}("")},4859:(Ae,ye,R)=>{"use strict";R.d(ye,{H0:()=>ne,wA:()=>k,zt:()=>ee});var c=R(9671),B=R(2090);class k{constructor(H,U,W){this.name=H,this.instanceFactory=U,this.type=W,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const K="[DEFAULT]";class ee{constructor(H,U){this.name=H,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const U=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(U)){const W=new B.BH;if(this.instancesDeferred.set(U,W),this.isInitialized(U)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:U});Ne&&W.resolve(Ne)}catch(Ne){}}return this.instancesDeferred.get(U).promise}getImmediate(H){var U;const W=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),Ne=null!==(U=null==H?void 0:H.optional)&&void 0!==U&&U;if(!this.isInitialized(W)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:W})}catch(Me){if(Ne)return null;throw Me}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function Q(ce){return"EAGER"===ce.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:K})}catch(U){}for(const[U,W]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(U);try{const Me=this.getOrInitializeService({instanceIdentifier:Ne});W.resolve(Me)}catch(Me){}}}}clearInstance(H=K){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,c.Z)(function*(){const U=Array.from(H.instances.values());yield Promise.all([...U.filter(W=>"INTERNAL"in W).map(W=>W.INTERNAL.delete()),...U.filter(W=>"_delete"in W).map(W=>W._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=K){return this.instances.has(H)}getOptions(H=K){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:U={}}=H,W=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(W))throw Error(`${this.name}(${W}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:W,options:U});for(const[Me,ke]of this.instancesDeferred.entries())W===this.normalizeInstanceIdentifier(Me)&&ke.resolve(Ne);return Ne}onInit(H,U){var W;const Ne=this.normalizeInstanceIdentifier(U),Me=null!==(W=this.onInitCallbacks.get(Ne))&&void 0!==W?W:new Set;Me.add(H),this.onInitCallbacks.set(Ne,Me);const ke=this.instances.get(Ne);return ke&&H(ke,Ne),()=>{Me.delete(H)}}invokeOnInitCallbacks(H,U){const W=this.onInitCallbacks.get(U);if(W)for(const Ne of W)try{Ne(H,U)}catch(Me){}}getOrInitializeService({instanceIdentifier:H,options:U={}}){let W=this.instances.get(H);if(!W&&this.component&&(W=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=H,ce===K?void 0:ce),options:U}),this.instances.set(H,W),this.instancesOptions.set(H,U),this.invokeOnInitCallbacks(W,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,W)}catch(Ne){}var ce;return W||null}normalizeInstanceIdentifier(H=K){return this.component?this.component.multipleInstances?H:K:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ne{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const U=this.getProvider(H.name);if(U.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);U.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const U=new ee(H,this);return this.providers.set(H,U),U}getProviders(){return Array.from(this.providers.values())}}},1877:(Ae,ye,R)=>{"use strict";R.d(ye,{Am:()=>ce,Ub:()=>ne,Yd:()=>Q,in:()=>B});const c=[];var B=(()=>{return(H=B||(B={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",B;var H})();const k={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},K=B.INFO,ee={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},le=(H,U,...W)=>{if(U<H.logLevel)return;const Ne=(new Date).toISOString(),Me=ee[U];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[Me](`[${Ne}]  ${H.name}:`,...W)};class Q{constructor(U){this.name=U,this._logLevel=K,this._logHandler=le,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in B))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?k[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...U),this._logHandler(this,B.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...U),this._logHandler(this,B.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,B.INFO,...U),this._logHandler(this,B.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,B.WARN,...U),this._logHandler(this,B.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...U),this._logHandler(this,B.ERROR,...U)}}function ne(H){c.forEach(U=>{U.setLogLevel(H)})}function ce(H,U){for(const W of c){let Ne=null;U&&U.level&&(Ne=k[U.level]),W.userLogHandler=null===H?null:(Me,ke,...Be)=>{const Ee=Be.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch(Oe){return null}}).filter(Ce=>Ce).join(" ");ke>=(null!=Ne?Ne:Me.logLevel)&&H({level:B[ke].toLowerCase(),message:Ee,args:Be,type:Me.name})}}}},8766:(Ae,ye,R)=>{"use strict";R.d(ye,{Lj:()=>ve,X3:()=>je});var c=R(9671);let k,K;const Q=new WeakMap,ne=new WeakMap,ce=new WeakMap,H=new WeakMap,U=new WeakMap;let Me={get(be,F,$){if(be instanceof IDBTransaction){if("done"===F)return ne.get(be);if("objectStoreNames"===F)return be.objectStoreNames||ce.get(be);if("store"===F)return $.objectStoreNames[1]?void 0:$.objectStore($.objectStoreNames[0])}return Ce(be[F])},set:(be,F,$)=>(be[F]=$,!0),has:(be,F)=>be instanceof IDBTransaction&&("done"===F||"store"===F)||F in be};function Ee(be){return"function"==typeof be?function Be(be){return be!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function le(){return K||(K=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(be)?function(...F){return be.apply(Oe(this),F),Ce(Q.get(this))}:function(...F){return Ce(be.apply(Oe(this),F))}:function(F,...$){const q=be.call(Oe(this),F,...$);return ce.set(q,F.sort?F.sort():[F]),Ce(q)}}(be):(be instanceof IDBTransaction&&function Ne(be){if(ne.has(be))return;const F=new Promise(($,q)=>{const re=()=>{be.removeEventListener("complete",me),be.removeEventListener("error",te),be.removeEventListener("abort",te)},me=()=>{$(),re()},te=()=>{q(be.error||new DOMException("AbortError","AbortError")),re()};be.addEventListener("complete",me),be.addEventListener("error",te),be.addEventListener("abort",te)});ne.set(be,F)}(be),((be,F)=>F.some($=>be instanceof $))(be,function ee(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(be,Me):be)}function Ce(be){if(be instanceof IDBRequest)return function W(be){const F=new Promise(($,q)=>{const re=()=>{be.removeEventListener("success",me),be.removeEventListener("error",te)},me=()=>{$(Ce(be.result)),re()},te=()=>{q(be.error),re()};be.addEventListener("success",me),be.addEventListener("error",te)});return F.then($=>{$ instanceof IDBCursor&&Q.set($,be)}).catch(()=>{}),U.set(F,be),F}(be);if(H.has(be))return H.get(be);const F=Ee(be);return F!==be&&(H.set(be,F),U.set(F,be)),F}const Oe=be=>U.get(be);function je(be,F,{blocked:$,upgrade:q,blocking:re,terminated:me}={}){const te=indexedDB.open(be,F),We=Ce(te);return q&&te.addEventListener("upgradeneeded",ft=>{q(Ce(te.result),ft.oldVersion,ft.newVersion,Ce(te.transaction))}),$&&te.addEventListener("blocked",()=>$()),We.then(ft=>{me&&ft.addEventListener("close",()=>me()),re&&ft.addEventListener("versionchange",()=>re())}).catch(()=>{}),We}function ve(be,{blocked:F}={}){const $=indexedDB.deleteDatabase(be);return F&&$.addEventListener("blocked",()=>F()),Ce($).then(()=>{})}const Ke=["get","getKey","getAll","getAllKeys","count"],Pe=["put","add","delete","clear"],Je=new Map;function X(be,F){if(!(be instanceof IDBDatabase)||F in be||"string"!=typeof F)return;if(Je.get(F))return Je.get(F);const $=F.replace(/FromIndex$/,""),q=F!==$,re=Pe.includes($);if(!($ in(q?IDBIndex:IDBObjectStore).prototype)||!re&&!Ke.includes($))return;const me=function(){var te=(0,c.Z)(function*(We,...ft){const pn=this.transaction(We,re?"readwrite":"readonly");let ze=pn.store;return q&&(ze=ze.index(ft.shift())),(yield Promise.all([ze[$](...ft),re&&pn.done]))[0]});return function(ft){return te.apply(this,arguments)}}();return Je.set(F,me),me}!function ke(be){Me=be(Me)}(be=>QG(ZG({},be),{get:(F,$,q)=>X(F,$)||be.get(F,$,q),has:(F,$)=>!!X(F,$)||be.has(F,$)}))}},Ae=>{Ae(Ae.s=2538)}]);