var eee=Object.defineProperty,tee=Object.defineProperties,nee=Object.getOwnPropertyDescriptors,tG=Object.getOwnPropertySymbols,iee=Object.prototype.hasOwnProperty,ree=Object.prototype.propertyIsEnumerable,nG=(De,me,M)=>me in De?eee(De,me,{enumerable:!0,configurable:!0,writable:!0,value:M}):De[me]=M,iG=(De,me)=>{for(var M in me||(me={}))iee.call(me,M)&&nG(De,M,me[M]);if(tG)for(var M of tG(me))ree.call(me,M)&&nG(De,M,me[M]);return De},rG=(De,me)=>tee(De,nee(me));(self.webpackChunklomi_material=self.webpackChunklomi_material||[]).push([[179],{2011:(De,me,M)=>{"use strict";M.d(me,{Dh:()=>ee,GT:()=>oe,cc:()=>Se,hO:()=>Oe,on:()=>H,pX:()=>J,xv:()=>le});var l=M(5e3),L=M(127),k=M(5813);De=M.hmd(De);const q=["ngOnDestroy"],J=(Ee,ke,Be,_e={})=>new Proxy(Ee,{get:($e,Re)=>Be.runOutsideAngular(()=>{var Je;if(Ee[Re])return(null===(Je=null==_e?void 0:_e.spy)||void 0===Je?void 0:Je.get)&&_e.spy.get(Re,Ee[Re]),Ee[Re];if(q.indexOf(Re)>-1)return()=>{};const Y=ke.toPromise().then(ye=>{const N=ye&&ye[Re];return"function"==typeof N?N.bind(ye):N&&N.then?N.then(G=>Be.run(()=>G)):Be.run(()=>N)});return new Proxy(()=>{},{get:(ye,N)=>Y[N],apply:(ye,N,G)=>Y.then(W=>{var te;const pe=W&&W(...G);return(null===(te=null==_e?void 0:_e.spy)||void 0===te?void 0:te.apply)&&_e.spy.apply(Re,G,pe),pe})})})}),oe=(Ee,ke)=>{ke.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(_e=>{Object.defineProperty(Ee.prototype,_e,Object.getOwnPropertyDescriptor(Be.prototype||Be,_e))})})};class K{constructor(ke){return ke}}const ee=new l.OlP("angularfire2.app.options"),le=new l.OlP("angularfire2.app.name");function H(Ee,ke,Be){const $e="object"==typeof Be&&Be||{};$e.name=$e.name||"string"==typeof Be&&Be||"[DEFAULT]";const Je=L.Z.apps.filter(Y=>Y&&Y.name===$e.name)[0]||ke.runOutsideAngular(()=>L.Z.initializeApp(Ee,$e));try{JSON.stringify(Ee)!==JSON.stringify(Je.options)&&B("error",`${Je.name} Firebase App already initialized with different options${De.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Y){}return new K(Je)}const B=(Ee,...ke)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[Ee](...ke)},$={provide:K,useFactory:H,deps:[ee,l.R0b,[new l.FiY,le]]};let Oe=(()=>{class Ee{constructor(Be){L.Z.registerVersion("angularfire",k.q4.full,"core"),L.Z.registerVersion("angularfire",k.q4.full,"app-compat"),L.Z.registerVersion("angular",l.q4F.full,Be.toString())}static initializeApp(Be,_e){return{ngModule:Ee,providers:[{provide:ee,useValue:Be},{provide:le,useValue:_e}]}}}return Ee.\u0275fac=function(Be){return new(Be||Ee)(l.LFG(l.Lbi))},Ee.\u0275mod=l.oAB({type:Ee}),Ee.\u0275inj=l.cJS({providers:[$]}),Ee})();function Se(Ee,ke,Be,_e,$e){const[,Re,Je]=globalThis.\u0275AngularfireInstanceCache.find(Y=>Y[0]===Ee)||[];if(Re)return function Me(Ee,ke){try{return Ee.toString()===ke.toString()}catch(Be){return Ee===ke}}($e,Je)||(be("error",`${ke} was already initialized on the ${Be} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:$e,was:Je})),Re;{const Y=_e();return globalThis.\u0275AngularfireInstanceCache.push([Ee,Y,$e]),Y}}const Le=!!De.hot,be=(Ee,...ke)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[Ee](...ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(De,me,M)=>{"use strict";M.d(me,{q4:()=>Wo,iC:()=>Sa,fc:()=>Qp,HU:()=>Zo,vb:()=>Gh,JM:()=>ic,u3:()=>rc});var l=M(5e3),L=M(5867),k=M(9671),q=M(9681),J=M(2090),oe=M(4859),K=M(1877),ee=M(8766);const le="@firebase/installations",H="0.5.9",$=`w:${H}`,Oe="FIS_v2",ke=new J.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Be(D){return D instanceof J.ZR&&D.code.includes("request-failed")}function _e({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function $e(D){return{token:D.token,requestStatus:2,expiresIn:W(D.expiresIn),creationTime:Date.now()}}function Re(D,S){return Je.apply(this,arguments)}function Je(){return(Je=(0,k.Z)(function*(D,S){const Z=(yield S.json()).error;return ke.create("request-failed",{requestName:D,serverCode:Z.code,serverMessage:Z.message,serverStatus:Z.status})})).apply(this,arguments)}function Y({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function ye(D,{refreshToken:S}){const P=Y(D);return P.append("Authorization",function te(D){return`${Oe} ${D}`}(S)),P}function N(D){return G.apply(this,arguments)}function G(){return(G=(0,k.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function W(D){return Number(D.replace("s","000"))}function pe(D,S){return X.apply(this,arguments)}function X(){return(X=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:S},{fid:P}){const Z=_e(D),he=Y(D),we=S.getImmediate({optional:!0});if(we){const St=yield we.getHeartbeatsHeader();St&&he.append("x-firebase-client",St)}const at={method:"POST",headers:he,body:JSON.stringify({fid:P,authVersion:Oe,appId:D.appId,sdkVersion:$})},Dt=yield N(()=>fetch(Z,at));if(Dt.ok){const St=yield Dt.json();return{fid:St.fid||P,registrationStatus:2,refreshToken:St.refreshToken,authToken:$e(St.authToken)}}throw yield Re("Create Installation",Dt)})).apply(this,arguments)}function Ge(D){return new Promise(S=>{setTimeout(S,D)})}const dn=/^[cdef][\w-]{21}$/;function ot(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const P=function _n(D){return function dt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return dn.test(P)?P:""}catch(D){return""}}function Tt(D){return`${D.appName}!${D.appId}`}const Pn=new Map;function sn(D,S){const P=Tt(D);Un(P,S),function Gr(D,S){const P=function zn(){return!Ui&&"BroadcastChannel"in self&&(Ui=new BroadcastChannel("[Firebase] FID Change"),Ui.onmessage=D=>{Un(D.data.key,D.data.fid)}),Ui}();P&&P.postMessage({key:D,fid:S}),function hs(){0===Pn.size&&Ui&&(Ui.close(),Ui=null)}()}(P,S)}function Un(D,S){const P=Pn.get(D);if(P)for(const Z of P)Z(S)}let Ui=null;const qn="firebase-installations-store";let fs=null;function bt(){return fs||(fs=(0,ee.X3)("firebase-installations-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore(qn)}})),fs}function Yi(D,S){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,k.Z)(function*(D,S){const P=Tt(D),he=(yield bt()).transaction(qn,"readwrite"),we=he.objectStore(qn),Fe=yield we.get(P);return yield we.put(S,P),yield he.done,(!Fe||Fe.fid!==S.fid)&&sn(D,S.fid),S})).apply(this,arguments)}function cn(D){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,k.Z)(function*(D){const S=Tt(D),Z=(yield bt()).transaction(qn,"readwrite");yield Z.objectStore(qn).delete(S),yield Z.done})).apply(this,arguments)}function _i(D,S){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,k.Z)(function*(D,S){const P=Tt(D),he=(yield bt()).transaction(qn,"readwrite"),we=he.objectStore(qn),Fe=yield we.get(P),at=S(Fe);return void 0===at?yield we.delete(P):yield we.put(at,P),yield he.done,at&&(!Fe||Fe.fid!==at.fid)&&sn(D,at.fid),at})).apply(this,arguments)}function Fn(D){return yi.apply(this,arguments)}function yi(){return(yi=(0,k.Z)(function*(D){let S;const P=yield _i(D.appConfig,Z=>{const he=Rs(Z),we=Kt(D,he);return S=we.registrationPromise,we.installationEntry});return""===P.fid?{installationEntry:yield S}:{installationEntry:P,registrationPromise:S}})).apply(this,arguments)}function Rs(D){return ps(D||{fid:ot(),registrationStatus:0})}function Kt(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(ke.create("app-offline"))};const P={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},Z=function gt(D,S){return ct.apply(this,arguments)}(D,P);return{installationEntry:P,registrationPromise:Z}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:xr(D)}:{installationEntry:S}}function ct(){return(ct=(0,k.Z)(function*(D,S){try{const P=yield pe(D,S);return Yi(D.appConfig,P)}catch(P){throw Be(P)&&409===P.customData.serverCode?yield cn(D.appConfig):yield Yi(D.appConfig,{fid:S.fid,registrationStatus:0}),P}})).apply(this,arguments)}function xr(D){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,k.Z)(function*(D){let S=yield Yt(D.appConfig);for(;1===S.registrationStatus;)yield Ge(100),S=yield Yt(D.appConfig);if(0===S.registrationStatus){const{installationEntry:P,registrationPromise:Z}=yield Fn(D);return Z||P}return S})).apply(this,arguments)}function Yt(D){return _i(D,S=>{if(!S)throw ke.create("installation-not-found");return ps(S)})}function ps(D){return function Zn(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function yn(D,S){return Q.apply(this,arguments)}function Q(){return(Q=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:S},P){const Z=re(D,P),he=ye(D,P),we=S.getImmediate({optional:!0});if(we){const St=yield we.getHeartbeatsHeader();St&&he.append("x-firebase-client",St)}const at={method:"POST",headers:he,body:JSON.stringify({installation:{sdkVersion:$,appId:D.appId}})},Dt=yield N(()=>fetch(Z,at));if(Dt.ok)return $e(yield Dt.json());throw yield Re("Generate Auth Token",Dt)})).apply(this,arguments)}function re(D,{fid:S}){return`${_e(D)}/${S}/authTokens:generate`}function ae(D){return xe.apply(this,arguments)}function xe(){return(xe=(0,k.Z)(function*(D,S=!1){let P;const Z=yield _i(D.appConfig,we=>{if(!Pt(we))throw ke.create("not-registered");const Fe=we.authToken;if(!S&&gn(Fe))return we;if(1===Fe.requestStatus)return P=ne(D,S),we;{if(!navigator.onLine)throw ke.create("app-offline");const at=li(we);return P=tt(D,at),at}});return P?yield P:Z.authToken})).apply(this,arguments)}function ne(D,S){return fe.apply(this,arguments)}function fe(){return(fe=(0,k.Z)(function*(D,S){let P=yield je(D.appConfig);for(;1===P.authToken.requestStatus;)yield Ge(100),P=yield je(D.appConfig);const Z=P.authToken;return 0===Z.requestStatus?ae(D,S):Z})).apply(this,arguments)}function je(D){return _i(D,S=>{if(!Pt(S))throw ke.create("not-registered");return function ve(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function tt(D,S){return vt.apply(this,arguments)}function vt(){return(vt=(0,k.Z)(function*(D,S){try{const P=yield yn(D,S),Z=Object.assign(Object.assign({},S),{authToken:P});return yield Yi(D.appConfig,Z),P}catch(P){if(!Be(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const Z=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Yi(D.appConfig,Z)}else yield cn(D.appConfig);throw P}})).apply(this,arguments)}function Pt(D){return void 0!==D&&2===D.registrationStatus}function gn(D){return 2===D.requestStatus&&!function It(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+36e5}(D)}function li(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}function se(){return(se=(0,k.Z)(function*(D){const S=D,{installationEntry:P,registrationPromise:Z}=yield Fn(S);return Z?Z.catch(console.error):ae(S).catch(console.error),P.fid})).apply(this,arguments)}function Qe(){return(Qe=(0,k.Z)(function*(D,S=!1){const P=D;return yield pt(P),(yield ae(P,S)).token})).apply(this,arguments)}function pt(D){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,k.Z)(function*(D){const{registrationPromise:S}=yield Fn(D);S&&(yield S)})).apply(this,arguments)}function Ja(D){return ke.create("missing-app-config-values",{valueName:D})}const fr="installations",jt=D=>{const S=D.getProvider("app").getImmediate(),P=function Ii(D){if(!D||!D.options)throw Ja("App Configuration");if(!D.name)throw Ja("App Name");const S=["projectId","apiKey","appId"];for(const P of S)if(!D.options[P])throw Ja(P);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S);return{app:S,appConfig:P,heartbeatServiceProvider:(0,q._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},An=D=>{const S=D.getProvider("app").getImmediate(),P=(0,q._getProvider)(S,fr).getImmediate();return{getId:()=>function ce(D){return se.apply(this,arguments)}(P),getToken:he=>function Pe(D){return Qe.apply(this,arguments)}(P,he)}};(function Ji(){(0,q._registerComponent)(new oe.wA(fr,jt,"PUBLIC")),(0,q._registerComponent)(new oe.wA("installations-internal",An,"PRIVATE"))})(),(0,q.registerVersion)(le,H),(0,q.registerVersion)(le,H,"esm2017");const Os="@firebase/remote-config",Kn=new J.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yu{constructor(S,P,Z,he){this.client=S,this.storage=P,this.storageCache=Z,this.logger=he}isCachedDataFresh(S,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Z=Date.now()-P,he=Z<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Z}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${he}.`),he}fetch(S){var P=this;return(0,k.Z)(function*(){const[Z,he]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(he&&P.isCachedDataFresh(S.cacheMaxAgeMillis,Z))return he;S.eTag=he&&he.eTag;const we=yield P.client.fetch(S),Fe=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===we.status&&Fe.push(P.storage.setLastSuccessfulFetchResponse(we)),yield Promise.all(Fe),we})()}}function jl(D=navigator){return D.languages&&D.languages[0]||D.language}class ci{constructor(S,P,Z,he,we,Fe){this.firebaseInstallations=S,this.sdkVersion=P,this.namespace=Z,this.projectId=he,this.apiKey=we,this.appId=Fe}fetch(S){var P=this;return(0,k.Z)(function*(){const[Z,he]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),Fe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,at={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},Dt={sdk_version:P.sdkVersion,app_instance_id:Z,app_instance_id_token:he,app_id:P.appId,language_code:jl()},St={method:"POST",headers:at,body:JSON.stringify(Dt)},Ht=fetch(Fe,St),Mt=new Promise((wr,Ks)=>{S.signal.addEventListener(()=>{const wl=new Error("The operation was aborted.");wl.name="AbortError",Ks(wl)})});let nr;try{yield Promise.race([Ht,Mt]),nr=yield Ht}catch(wr){let Ks="fetch-client-network";throw"AbortError"===wr.name&&(Ks="fetch-timeout"),Kn.create(Ks,{originalErrorMessage:wr.message})}let hi=nr.status;const Zs=nr.headers.get("ETag")||void 0;let Jr,ws;if(200===nr.status){let wr;try{wr=yield nr.json()}catch(Ks){throw Kn.create("fetch-client-parse",{originalErrorMessage:Ks.message})}Jr=wr.entries,ws=wr.state}if("INSTANCE_STATE_UNSPECIFIED"===ws?hi=500:"NO_CHANGE"===ws?hi=304:("NO_TEMPLATE"===ws||"EMPTY_CONFIG"===ws)&&(Jr={}),304!==hi&&200!==hi)throw Kn.create("fetch-status",{httpStatus:hi});return{status:hi,eTag:Zs,config:Jr}})()}}class Ns{constructor(S,P){this.client=S,this.storage=P}fetch(S){var P=this;return(0,k.Z)(function*(){const Z=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(S,Z)})()}attemptFetch(S,{throttleEndTimeMillis:P,backoffCount:Z}){var he=this;return(0,k.Z)(function*(){yield function Qu(D,S){return new Promise((P,Z)=>{const he=Math.max(S-Date.now(),0),we=setTimeout(P,he);D.addEventListener(()=>{clearTimeout(we),Z(Kn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,P);try{const we=yield he.client.fetch(S);return yield he.storage.deleteThrottleMetadata(),we}catch(we){if(!function jp(D){if(!(D instanceof J.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(we))throw we;const Fe={throttleEndTimeMillis:Date.now()+(0,J.$s)(Z),backoffCount:Z+1};return yield he.storage.setThrottleMetadata(Fe),he.attemptFetch(S,Fe)}})()}}class zp{constructor(S,P,Z,he,we){this.app=S,this._client=P,this._storageCache=Z,this._storage=he,this._logger=we,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Xa(D,S){const P=D.target.error||void 0;return Kn.create(S,{originalErrorMessage:P&&P.message})}const ha="app_namespace_store";class td{constructor(S,P,Z,he=function ed(){return new Promise((D,S)=>{try{const P=indexedDB.open("firebase_remote_config",1);P.onerror=Z=>{S(Xa(Z,"storage-open"))},P.onsuccess=Z=>{D(Z.target.result)},P.onupgradeneeded=Z=>{0===Z.oldVersion&&Z.target.result.createObjectStore(ha,{keyPath:"compositeKey"})}}catch(P){S(Kn.create("storage-open",{originalErrorMessage:P}))}})}()){this.appId=S,this.appName=P,this.namespace=Z,this.openDbPromise=he}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var P=this;return(0,k.Z)(function*(){const Z=yield P.openDbPromise;return new Promise((he,we)=>{const at=Z.transaction([ha],"readonly").objectStore(ha),Dt=P.createCompositeKey(S);try{const St=at.get(Dt);St.onerror=Ht=>{we(Xa(Ht,"storage-get"))},St.onsuccess=Ht=>{const Mt=Ht.target.result;he(Mt?Mt.value:void 0)}}catch(St){we(Kn.create("storage-get",{originalErrorMessage:St&&St.message}))}})})()}set(S,P){var Z=this;return(0,k.Z)(function*(){const he=yield Z.openDbPromise;return new Promise((we,Fe)=>{const Dt=he.transaction([ha],"readwrite").objectStore(ha),St=Z.createCompositeKey(S);try{const Ht=Dt.put({compositeKey:St,value:P});Ht.onerror=Mt=>{Fe(Xa(Mt,"storage-set"))},Ht.onsuccess=()=>{we()}}catch(Ht){Fe(Kn.create("storage-set",{originalErrorMessage:Ht&&Ht.message}))}})})()}delete(S){var P=this;return(0,k.Z)(function*(){const Z=yield P.openDbPromise;return new Promise((he,we)=>{const at=Z.transaction([ha],"readwrite").objectStore(ha),Dt=P.createCompositeKey(S);try{const St=at.delete(Dt);St.onerror=Ht=>{we(Xa(Ht,"storage-delete"))},St.onsuccess=()=>{he()}}catch(St){we(Kn.create("storage-delete",{originalErrorMessage:St&&St.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class fa{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,k.Z)(function*(){const P=S.storage.getLastFetchStatus(),Z=S.storage.getLastSuccessfulFetchTimestampMillis(),he=S.storage.getActiveConfig(),we=yield P;we&&(S.lastFetchStatus=we);const Fe=yield Z;Fe&&(S.lastSuccessfulFetchTimestampMillis=Fe);const at=yield he;at&&(S.activeConfig=at)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function B_(){return el.apply(this,arguments)}function el(){return(el=(0,k.Z)(function*(){if(!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(D){return!1}})).apply(this,arguments)}!function $p(){(0,q._registerComponent)(new oe.wA("remote-config",function D(S,{instanceIdentifier:P}){const Z=S.getProvider("app").getImmediate(),he=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Kn.create("registration-window");if(!(0,J.hl)())throw Kn.create("indexed-db-unavailable");const{projectId:we,apiKey:Fe,appId:at}=Z.options;if(!we)throw Kn.create("registration-project-id");if(!Fe)throw Kn.create("registration-api-key");if(!at)throw Kn.create("registration-app-id");const Dt=new td(at,Z.name,P=P||"firebase"),St=new fa(Dt),Ht=new K.Yd(Os);Ht.logLevel=K.in.ERROR;const Mt=new ci(he,q.SDK_VERSION,P,we,Fe,at),nr=new Ns(Mt,Dt),hi=new Yu(nr,Dt,St,Ht),Zs=new zp(Z,hi,St,Dt,Ht);return function vn(D){const S=(0,J.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Zs),Zs},"PUBLIC").setMultipleInstances(!0)),(0,q.registerVersion)(Os,"0.3.8"),(0,q.registerVersion)(Os,"0.3.8","esm2017")}();const co="/firebase-messaging-sw.js",kr="/firebase-cloud-messaging-push-scope",pa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",nl="google.c.a.c_id",Oh="google.c.a.c_l",Wp="google.c.a.ts",Fi="google.c.a.e";var Ls=(()=>{return(D=Ls||(Ls={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Ls;var D})();function qr(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function id(D){const P=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Z=atob(P),he=new Uint8Array(Z.length);for(let we=0;we<Z.length;++we)he[we]=Z.charCodeAt(we);return he}const Li="fcm_token_details_db",rd="fcm_token_object_Store";function sd(D){return Hl.apply(this,arguments)}function Hl(){return Hl=(0,k.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(we=>we.name).includes(Li))return null;let S=null;return(yield(0,ee.X3)(Li,5,{upgrade:(Z=(0,k.Z)(function*(he,we,Fe,at){var Dt;if(we<2||!he.objectStoreNames.contains(rd))return;const St=at.objectStore(rd),Ht=yield St.index("fcmSenderId").get(D);if(yield St.clear(),Ht)if(2===we){const Mt=Ht;if(!Mt.auth||!Mt.p256dh||!Mt.endpoint)return;S={token:Mt.fcmToken,createTime:null!==(Dt=Mt.createTime)&&void 0!==Dt?Dt:Date.now(),subscriptionOptions:{auth:Mt.auth,p256dh:Mt.p256dh,endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:"string"==typeof Mt.vapidKey?Mt.vapidKey:qr(Mt.vapidKey)}}}else if(3===we){const Mt=Ht;S={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:qr(Mt.auth),p256dh:qr(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:qr(Mt.vapidKey)}}}else if(4===we){const Mt=Ht;S={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:qr(Mt.auth),p256dh:qr(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:qr(Mt.vapidKey)}}}}),function(we,Fe,at,Dt){return Z.apply(this,arguments)})})).close(),yield(0,ee.Lj)(Li),yield(0,ee.Lj)("fcm_vapid_details_db"),yield(0,ee.Lj)("undefined"),zl(S)?S:null;var Z}),Hl.apply(this,arguments)}function zl(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Bs="firebase-messaging-store";let Kc=null;function Sn(){return Kc||(Kc=(0,ee.X3)("firebase-messaging-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore(Bs)}})),Kc}function il(D){return uo.apply(this,arguments)}function uo(){return(uo=(0,k.Z)(function*(D){const S=Di(D),Z=yield(yield Sn()).transaction(Bs).objectStore(Bs).get(S);if(Z)return Z;{const he=yield sd(D.appConfig.senderId);if(he)return yield bn(D,he),he}})).apply(this,arguments)}function bn(D,S){return $l.apply(this,arguments)}function $l(){return($l=(0,k.Z)(function*(D,S){const P=Di(D),he=(yield Sn()).transaction(Bs,"readwrite");return yield he.objectStore(Bs).put(S,P),yield he.done,S})).apply(this,arguments)}function rl(D){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,k.Z)(function*(D){const S=Di(D),Z=(yield Sn()).transaction(Bs,"readwrite");yield Z.objectStore(Bs).delete(S),yield Z.done})).apply(this,arguments)}function Di({appConfig:D}){return D.appId}const Yn=new J.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Vs(D,S){return Si.apply(this,arguments)}function Si(){return(Si=(0,k.Z)(function*(D,S){const P=yield fo(D),Z=sl(S),he={method:"POST",headers:P,body:JSON.stringify(Z)};let we;try{we=yield(yield fetch(ho(D.appConfig),he)).json()}catch(Fe){throw Yn.create("token-subscribe-failed",{errorInfo:Fe})}if(we.error)throw Yn.create("token-subscribe-failed",{errorInfo:we.error.message});if(!we.token)throw Yn.create("token-subscribe-no-token");return we.token})).apply(this,arguments)}function ga(D,S){return ms.apply(this,arguments)}function ms(){return(ms=(0,k.Z)(function*(D,S){const P=yield fo(D),Z=sl(S.subscriptionOptions),he={method:"PATCH",headers:P,body:JSON.stringify(Z)};let we;try{we=yield(yield fetch(`${ho(D.appConfig)}/${S.token}`,he)).json()}catch(Fe){throw Yn.create("token-update-failed",{errorInfo:Fe})}if(we.error)throw Yn.create("token-update-failed",{errorInfo:we.error.message});if(!we.token)throw Yn.create("token-update-no-token");return we.token})).apply(this,arguments)}function Yc(D,S){return gr.apply(this,arguments)}function gr(){return(gr=(0,k.Z)(function*(D,S){const Z={method:"DELETE",headers:yield fo(D)};try{const we=yield(yield fetch(`${ho(D.appConfig)}/${S}`,Z)).json();if(we.error)throw Yn.create("token-unsubscribe-failed",{errorInfo:we.error.message})}catch(he){throw Yn.create("token-unsubscribe-failed",{errorInfo:he})}})).apply(this,arguments)}function ho({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function fo(D){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,k.Z)(function*({appConfig:D,installations:S}){const P=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function sl({p256dh:D,auth:S,endpoint:P,vapidKey:Z}){const he={web:{endpoint:P,auth:S,p256dh:D}};return Z!==pa&&(he.web.applicationPubKey=Z),he}const ol=6048e5;function od(D){return al.apply(this,arguments)}function al(){return(al=(0,k.Z)(function*(D){const S=yield $n(D.swRegistration,D.vapidKey),P={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:qr(S.getKey("auth")),p256dh:qr(S.getKey("p256dh"))},Z=yield il(D.firebaseDependencies);if(Z){if(ul(Z.subscriptionOptions,P))return Date.now()>=Z.createTime+ol?Ph(D,{token:Z.token,createTime:Date.now(),subscriptionOptions:P}):Z.token;try{yield Yc(D.firebaseDependencies,Z.token)}catch(he){console.warn(he)}return Qt(D.firebaseDependencies,P)}return Qt(D.firebaseDependencies,P)})).apply(this,arguments)}function Qc(D){return ll.apply(this,arguments)}function ll(){return(ll=(0,k.Z)(function*(D){const S=yield il(D.firebaseDependencies);S&&(yield Yc(D.firebaseDependencies,S.token),yield rl(D.firebaseDependencies));const P=yield D.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()})).apply(this,arguments)}function Ph(D,S){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,k.Z)(function*(D,S){try{const P=yield ga(D.firebaseDependencies,S),Z=Object.assign(Object.assign({},S),{token:P,createTime:Date.now()});return yield bn(D.firebaseDependencies,Z),P}catch(P){throw yield Qc(D),P}})).apply(this,arguments)}function Qt(D,S){return cl.apply(this,arguments)}function cl(){return(cl=(0,k.Z)(function*(D,S){const Z={token:yield Vs(D,S),createTime:Date.now(),subscriptionOptions:S};return yield bn(D,Z),Z.token})).apply(this,arguments)}function $n(D,S){return po.apply(this,arguments)}function po(){return(po=(0,k.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:id(S)})})).apply(this,arguments)}function ul(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}function er(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Jc(D,S){if(!S.notification)return;D.notification={};const P=S.notification.title;P&&(D.notification.title=P);const Z=S.notification.body;Z&&(D.notification.body=Z);const he=S.notification.image;he&&(D.notification.image=he)}(S,D),function Xc(D,S){!S.data||(D.data=S.data)}(S,D),function ad(D,S){if(!S.fcmOptions)return;D.fcmOptions={};const P=S.fcmOptions.link;P&&(D.fcmOptions.link=P);const Z=S.fcmOptions.analytics_label;Z&&(D.fcmOptions.analyticsLabel=Z)}(S,D),S}function ld(D){return"object"==typeof D&&!!D&&nl in D}function dl(D,S){const P=[];for(let Z=0;Z<D.length;Z++)P.push(D.charAt(Z)),Z<S.length&&P.push(S.charAt(Z));return P.join("")}function vi(D){return Yn.create("missing-app-config-values",{valueName:D})}dl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),dl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Zr{constructor(S,P,Z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const he=function ma(D){if(!D||!D.options)throw vi("App Configuration Object");if(!D.name)throw vi("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:P}=D;for(const Z of S)if(!P[Z])throw vi(Z);return{appName:D.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:he,installations:P,analyticsProvider:Z}}_delete(){return Promise.resolve()}}function eu(D){return _s.apply(this,arguments)}function _s(){return(_s=(0,k.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(co,{scope:kr}),D.swRegistration.update().catch(()=>{})}catch(S){throw Yn.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function Us(D,S){return hl.apply(this,arguments)}function hl(){return(hl=(0,k.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield eu(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Yn.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function cd(D,S){return fl.apply(this,arguments)}function fl(){return(fl=(0,k.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=pa)})).apply(this,arguments)}function Vo(){return(Vo=(0,k.Z)(function*(D,S){if(!navigator)throw Yn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Yn.create("permission-blocked");return yield cd(D,null==S?void 0:S.vapidKey),yield Us(D,null==S?void 0:S.serviceWorkerRegistration),od(D)})).apply(this,arguments)}function ql(D,S,P){return pl.apply(this,arguments)}function pl(){return(pl=(0,k.Z)(function*(D,S,P){const Z=tu(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(Z,{message_id:P[nl],message_name:P[Oh],message_time:P[Wp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function tu(D){switch(D){case Ls.NOTIFICATION_CLICKED:return"notification_open";case Ls.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Zl(){return(Zl=(0,k.Z)(function*(D,S){const P=S.data;if(!P.isFirebaseMessaging)return;D.onMessageHandler&&P.messageType===Ls.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(er(P)):D.onMessageHandler.next(er(P)));const Z=P.data;ld(Z)&&"1"===Z[Fi]&&(yield ql(D,P.messageType,Z))})).apply(this,arguments)}const Uo="@firebase/messaging",jo=D=>{const S=new Zr(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function qp(D,S){return Zl.apply(this,arguments)}(S,P)),S},dd=D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:Z=>function ud(D,S){return Vo.apply(this,arguments)}(S,Z)}};function _a(){return ys.apply(this,arguments)}function ys(){return(ys=(0,k.Z)(function*(){try{yield(0,J.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,J.hl)()&&(0,J.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Nh(){(0,q._registerComponent)(new oe.wA("messaging",jo,"PUBLIC")),(0,q._registerComponent)(new oe.wA("messaging-internal",dd,"PRIVATE")),(0,q.registerVersion)(Uo,"0.9.13"),(0,q.registerVersion)(Uo,"0.9.13","esm2017")}();const hd="analytics",Zp="firebase_id",ml="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kl="https://www.googletagmanager.com/gtag/js",Ai=new K.Yd("@firebase/analytics");function Bh(D){return Promise.all(D.map(S=>S.catch(P=>P)))}function Ho(D,S){const P=document.createElement("script");P.src=`${Kl}?l=${D}&id=${S}`,P.async=!0,document.head.appendChild(P)}function fd(D,S,P,Z,he,we){return pd.apply(this,arguments)}function pd(){return(pd=(0,k.Z)(function*(D,S,P,Z,he,we){const Fe=Z[he];try{if(Fe)yield S[Fe];else{const Dt=(yield Bh(P)).find(St=>St.measurementId===he);Dt&&(yield S[Dt.appId])}}catch(at){Ai.error(at)}D("config",he,we)})).apply(this,arguments)}function tr(D,S,P,Z,he){return va.apply(this,arguments)}function va(){return(va=(0,k.Z)(function*(D,S,P,Z,he){try{let we=[];if(he&&he.send_to){let Fe=he.send_to;Array.isArray(Fe)||(Fe=[Fe]);const at=yield Bh(P);for(const Dt of Fe){const St=at.find(Mt=>Mt.measurementId===Dt),Ht=St&&S[St.appId];if(!Ht){we=[];break}we.push(Ht)}}0===we.length&&(we=Object.values(S)),yield Promise.all(we),D("event",Z,he||{})}catch(we){Ai.error(we)}})).apply(this,arguments)}function iu(){const D=window.document.getElementsByTagName("script");for(const S of Object.values(D))if(S.src&&S.src.includes(Kl))return S;return null}const Gn=new J.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Kr=new class ti{constructor(S={},P=1e3){this.throttleMetadata=S,this.intervalMillis=P}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,P){this.throttleMetadata[S]=P}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function zs(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function mr(D){return qt.apply(this,arguments)}function qt(){return(qt=(0,k.Z)(function*(D){var S;const{appId:P,apiKey:Z}=D,he={method:"GET",headers:zs(Z)},we=ml.replace("{app-id}",P),Fe=yield fetch(we,he);if(200!==Fe.status&&304!==Fe.status){let at="";try{const Dt=yield Fe.json();(null===(S=Dt.error)||void 0===S?void 0:S.message)&&(at=Dt.error.message)}catch(Dt){}throw Gn.create("config-fetch-failed",{httpStatus:Fe.status,responseMessage:at})}return Fe.json()})).apply(this,arguments)}function Mn(D){return kn.apply(this,arguments)}function kn(){return(kn=(0,k.Z)(function*(D,S=Kr,P){const{appId:Z,apiKey:he,measurementId:we}=D.options;if(!Z)throw Gn.create("no-app-id");if(!he){if(we)return{measurementId:we,appId:Z};throw Gn.create("no-api-key")}const Fe=S.getThrottleMetadata(Z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},at=new Jl;return setTimeout((0,k.Z)(function*(){at.abort()}),void 0!==P?P:6e4),mt({appId:Z,apiKey:he,measurementId:we},Fe,at,S)})).apply(this,arguments)}function mt(D,S,P){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,k.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:P},Z,he=Kr){const{appId:we,measurementId:Fe}=D;try{yield md(Z,S)}catch(at){if(Fe)return Ai.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Fe} provided in the "measurementId" field in the local Firebase config. [${at.message}]`),{appId:we,measurementId:Fe};throw at}try{const at=yield mr(D);return he.deleteThrottleMetadata(we),at}catch(at){if(!Ql(at)){if(he.deleteThrottleMetadata(we),Fe)return Ai.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Fe} provided in the "measurementId" field in the local Firebase config. [${at.message}]`),{appId:we,measurementId:Fe};throw at}const Dt=503===Number(at.customData.httpStatus)?(0,J.$s)(P,he.intervalMillis,30):(0,J.$s)(P,he.intervalMillis),St={throttleEndTimeMillis:Date.now()+Dt,backoffCount:P+1};return he.setThrottleMetadata(we,St),Ai.debug(`Calling attemptFetch again in ${Dt} millis`),mt(D,St,Z,he)}})).apply(this,arguments)}function md(D,S){return new Promise((P,Z)=>{const he=Math.max(S-Date.now(),0),we=setTimeout(P,he);D.addEventListener(()=>{clearTimeout(we),Z(Gn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Ql(D){if(!(D instanceof J.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Jl{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function Vh(){return _r.apply(this,arguments)}function _r(){return(_r=(0,k.Z)(function*(){if(!(0,J.hl)())return Ai.warn(Gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,J.eu)()}catch(D){return Ai.warn(Gn.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function Bn(){return(Bn=(0,k.Z)(function*(D,S,P,Z,he,we,Fe){var at;const Dt=Mn(D);Dt.then(hi=>{P[hi.measurementId]=hi.appId,D.options.measurementId&&hi.measurementId!==D.options.measurementId&&Ai.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${hi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(hi=>Ai.error(hi)),S.push(Dt);const St=Vh().then(hi=>{if(hi)return Z.getId()}),[Ht,Mt]=yield Promise.all([Dt,St]);iu()||Ho(we,Ht.measurementId),he("js",new Date);const nr=null!==(at=null==Fe?void 0:Fe.config)&&void 0!==at?at:{};return nr.origin="firebase",nr.update=!0,null!=Mt&&(nr[Zp]=Mt),he("config",Ht.measurementId,nr),Ht.measurementId})).apply(this,arguments)}class go{constructor(S){this.app=S}_delete(){return delete yr[this.app.options.appId],Promise.resolve()}}let yr={},Xl=[];const Gs={};let ba,mo,vr="dataLayer",rn=!1;function zo(D,S,P){!function Yr(){const D=[];if((0,J.ru)()&&D.push("This is a browser extension environment."),(0,J.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((Z,he)=>`(${he+1}) ${Z}`).join(" "),P=Gn.create("invalid-analytics-context",{errorInfo:S});Ai.warn(P.message)}}();const Z=D.options.appId;if(!Z)throw Gn.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Gn.create("no-api-key");Ai.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=yr[Z])throw Gn.create("already-exists",{id:Z});if(!rn){!function ya(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(vr);const{wrappedGtag:we,gtagCore:Fe}=function Kp(D,S,P,Z,he){let we=function(...Fe){window[Z].push(arguments)};return window[he]&&"function"==typeof window[he]&&(we=window[he]),window[he]=function gd(D,S,P,Z){function we(){return(we=(0,k.Z)(function*(Fe,at,Dt){try{"event"===Fe?yield tr(D,S,P,at,Dt):"config"===Fe?yield fd(D,S,P,Z,at,Dt):D("set",at)}catch(St){Ai.error(St)}})).apply(this,arguments)}return function he(Fe,at,Dt){return we.apply(this,arguments)}}(we,D,S,P),{gtagCore:we,wrappedGtag:window[he]}}(yr,Xl,Gs,vr,"gtag");mo=we,ba=Fe,rn=!0}return yr[Z]=function wn(D,S,P,Z,he,we,Fe){return Bn.apply(this,arguments)}(D,Xl,Gs,S,ba,vr,P),new go(D)}function su(){return(su=(0,k.Z)(function*(D,S,P,Z,he){if(he&&he.global)D("event",P,Z);else{const we=yield S;D("event",P,Object.assign(Object.assign({},Z),{send_to:we}))}})).apply(this,arguments)}function Yp(){return ec.apply(this,arguments)}function ec(){return(ec=(0,k.Z)(function*(){if((0,J.ru)()||!(0,J.zI)()||!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(D){return!1}})).apply(this,arguments)}const U="@firebase/analytics";!function jh(){(0,q._registerComponent)(new oe.wA(hd,(S,{options:P})=>zo(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,q._registerComponent)(new oe.wA("analytics-internal",function D(S){try{const P=S.getProvider(hd).getImmediate();return{logEvent:(Z,he,we)=>function $s(D,S,P,Z){D=(0,J.m9)(D),function ru(D,S,P,Z,he){return su.apply(this,arguments)}(mo,yr[D.app.options.appId],S,P,Z).catch(he=>Ai.error(he))}(P,Z,he,we)}}catch(P){throw Gn.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,q.registerVersion)(U,"0.7.9"),(0,q.registerVersion)(U,"0.7.9","esm2017")}();var yl=M(4408),en=M(7565);const vo=new class zi extends en.v{}(class _d extends yl.o{constructor(S,P){super(S,P),this.scheduler=S,this.work=P}schedule(S,P=0){return P>0?super.schedule(S,P):(this.delay=P,this.state=S,this.scheduler.flush(this),this)}execute(S,P){return P>0||this.closed?super.execute(S,P):this._execute(S,P)}requestAsyncId(S,P,Z=0){return null!=Z&&Z>0||null==Z&&this.delay>0?super.requestAsyncId(S,P,Z):S.flush(this)}});var Hh=M(4986),Gi=M(8306),br=M(8505),$o=M(5363),vl=M(9468);const Wo=new l.GfV("7.4.1"),tc="__angularfire_symbol__analyticsIsSupportedValue",Ws="__angularfire_symbol__analyticsIsSupported",ui="__angularfire_symbol__remoteConfigIsSupportedValue",bl="__angularfire_symbol__remoteConfigIsSupported",lu="__angularfire_symbol__messagingIsSupportedValue",nc="__angularfire_symbol__messagingIsSupported";function ic(D,S,P){if(S){if(1===S.length)return S[0];const we=S.filter(Fe=>Fe.app===P);if(1===we.length)return we[0]}return P.container.getProvider(D).getImmediate({optional:!0})}globalThis[Ws]||(globalThis[Ws]=Yp().then(D=>globalThis[tc]=D).catch(()=>globalThis[tc]=!1)),globalThis[nc]||(globalThis[nc]=_a().then(D=>globalThis[lu]=D).catch(()=>globalThis[lu]=!1)),globalThis[bl]||(globalThis[bl]=B_().then(D=>globalThis[ui]=D).catch(()=>globalThis[ui]=!1));const Gh=(D,S)=>{const P=S?[S]:(0,L.C6)(),Z=[];return P.forEach(he=>{he.container.getProvider(D).instances.forEach(Fe=>{Z.includes(Fe)||Z.push(Fe)})}),Z};function bo(){}class yd{constructor(S,P=vo){this.zone=S,this.delegate=P}now(){return this.delegate.now()}schedule(S,P,Z){const he=this.zone;return this.delegate.schedule(function(Fe){he.runGuarded(()=>{S.apply(this,[Fe])})},P,Z)}}class cu{constructor(S){this.zone=S,this.task=null}call(S,P){const Z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bo,{},bo,bo)),P.pipe((0,br.b)({next:Z,complete:Z,error:Z})).subscribe(S).add(Z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zo=(()=>{class D{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new yd(Zone.current)),this.insideAngular=P.run(()=>new yd(Zone.current,Hh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(P){return new(P||D)(l.LFG(l.R0b))},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function qs(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function bs(D){return qs().ngZone.runOutsideAngular(()=>D())}function Qr(D){return qs().ngZone.run(()=>D())}function Qp(D){return D.pipe((0,$o.Q)(qs().outsideAngular))}function Sa(D){return qs(),function xa(D){return function(P){return(P=P.lift(new cu(D.ngZone))).pipe((0,vl.R)(D.outsideAngular),(0,$o.Q)(D.insideAngular))}}(qs())(D)}const vd=(D,S)=>function(){const Z=arguments;return S&&setTimeout(()=>{"scheduled"===S.state&&S.invoke()},10),Qr(()=>D.apply(void 0,Z))},rc=(D,S)=>function(){let P;const Z=arguments;for(let we=0;we<arguments.length;we++)"function"==typeof Z[we]&&(S&&(P||(P=Qr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bo,{},bo,bo)))),Z[we]=vd(Z[we],P));const he=bs(()=>D.apply(this,Z));if(!S){if(he instanceof Gi.y){const we=qs();return he.pipe((0,vl.R)(we.outsideAngular),(0,$o.Q)(we.insideAngular))}return Qr(()=>he)}return he instanceof Gi.y?he.pipe(Sa):he instanceof Promise?Qr(()=>new Promise((we,Fe)=>he.then(at=>Qr(()=>we(at)),at=>Qr(()=>Fe(at))))):"function"==typeof he&&P?function(){return setTimeout(()=>{P&&"scheduled"===P.state&&P.invoke()},10),he.apply(this,arguments)}:Qr(()=>he)}},2587:(De,me,M)=>{"use strict";M.d(me,{$:()=>ho,A:()=>B,B:()=>Se,G:()=>An,H:()=>mn,J:()=>Ns,L:()=>gn,M:()=>el,N:()=>tl,P:()=>tc,Q:()=>nl,R:()=>jh,T:()=>Oh,U:()=>pa,V:()=>Ls,W:()=>qr,X:()=>sd,Y:()=>Wl,Z:()=>Vs,_:()=>ga,a:()=>ut,a0:()=>od,a1:()=>Qc,a2:()=>Ph,a3:()=>Qt,a4:()=>$n,a5:()=>ul,a6:()=>Jc,a7:()=>Xc,a8:()=>ld,a9:()=>dl,aA:()=>Ks,aB:()=>hi,aC:()=>rc,aD:()=>vd,aE:()=>qe,aI:()=>zs,aL:()=>Fi,aa:()=>eu,ab:()=>Us,ac:()=>cd,af:()=>ql,ag:()=>tu,ah:()=>qp,ak:()=>Bs,al:()=>xi,an:()=>Kl,ao:()=>pd,ap:()=>Xn,aq:()=>N,ar:()=>$t,as:()=>pt,at:()=>Be,au:()=>Cs,av:()=>sc,aw:()=>_e,ax:()=>Y,ay:()=>W,az:()=>It,b:()=>Gn,c:()=>zh,d:()=>yd,e:()=>Gh,f:()=>P,g:()=>Dt,h:()=>we,i:()=>zo,j:()=>Mt,k:()=>cc,l:()=>vo,m:()=>O0,o:()=>ee,r:()=>Hh,s:()=>en,u:()=>vl});var l=M(9671),L=M(2090),k=M(9681),q=M(655),J=M(1877),oe=M(4859);const ee={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},B={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Se=function $(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Me=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Le=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new J.Yd("@firebase/auth");function ke(b,...m){Ee.logLevel<=J.in.ERROR&&Ee.error(`Auth (${k.SDK_VERSION}): ${b}`,...m)}function Be(b,...m){throw Je(b,...m)}function _e(b,...m){return Je(b,...m)}function $e(b,m,y){const E=Object.assign(Object.assign({},Me()),{[m]:y});return new L.LL("auth","Firebase",E).create(m,{appName:b.name})}function Re(b,m,y){if(!(m instanceof y))throw y.name!==m.constructor.name&&Be(b,"argument-error"),$e(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Je(b,...m){if("string"!=typeof b){const y=m[0],E=[...m.slice(1)];return E[0]&&(E[0].appName=b.name),b._errorFactory.create(y,...E)}return Le.create(b,...m)}function Y(b,m,...y){if(!b)throw Je(m,...y)}function ye(b){const m="INTERNAL ASSERTION FAILED: "+b;throw ke(m),new Error(m)}function N(b,m){b||ye(m)}const G=new Map;function W(b){N(b instanceof Function,"Expected a class definition");let m=G.get(b);return m?(N(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,G.set(b,m),m)}function X(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Ge(){return"http:"===dt()||"https:"===dt()}function dt(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class ot{constructor(m,y){this.shortDelay=m,this.longDelay=y,N(y>m,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function dn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ge()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _n(b,m){N(b.emulator,"Emulator should always be set here");const{url:y}=b.emulator;return m?`${y}${m.startsWith("/")?m.slice(1):m}`:y}class Tt{static initialize(m,y,E){this.fetchImpl=m,y&&(this.headersImpl=y),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sn=new ot(3e4,6e4);function Gt(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function hn(b,m,y,E){return Un.apply(this,arguments)}function Un(){return(Un=(0,l.Z)(function*(b,m,y,E,R={}){return Gr(b,R,(0,l.Z)(function*(){let j={},ge={};E&&("GET"===m?ge=E:j={body:JSON.stringify(E)});const Ue=(0,L.xO)(Object.assign({key:b.config.apiKey},ge)).slice(1),lt=yield b._getAdditionalHeaders();return lt["Content-Type"]="application/json",b.languageCode&&(lt["X-Firebase-Locale"]=b.languageCode),Tt.fetch()(Sr(b,b.config.apiHost,y,Ue),Object.assign({method:m,headers:lt,referrerPolicy:"no-referrer"},j))}))})).apply(this,arguments)}function Gr(b,m,y){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,l.Z)(function*(b,m,y){b._canInitEmulator=!1;const E=Object.assign(Object.assign({},Pn),m);try{const R=new $r(b),j=yield Promise.race([y(),R.promise]);R.clearNetworkTimeout();const ge=yield j.json();if("needConfirmation"in ge)throw qn(b,"account-exists-with-different-credential",ge);if(j.ok&&!("errorMessage"in ge))return ge;{const Ue=j.ok?ge.errorMessage:ge.error.message,[lt,wt]=Ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===lt)throw qn(b,"credential-already-in-use",ge);if("EMAIL_EXISTS"===lt)throw qn(b,"email-already-in-use",ge);if("USER_DISABLED"===lt)throw qn(b,"user-disabled",ge);const Zt=E[lt]||lt.toLowerCase().replace(/[_\s]+/g,"-");if(wt)throw $e(b,Zt,wt);Be(b,Zt)}}catch(R){if(R instanceof L.ZR)throw R;Be(b,"network-request-failed")}})).apply(this,arguments)}function zn(b,m,y,E){return hs.apply(this,arguments)}function hs(){return(hs=(0,l.Z)(function*(b,m,y,E,R={}){const j=yield hn(b,m,y,E,R);return"mfaPendingCredential"in j&&Be(b,"multi-factor-auth-required",{_serverResponse:j}),j})).apply(this,arguments)}function Sr(b,m,y,E){const R=`${m}${y}?${E}`;return b.config.emulator?_n(b.config,R):`${b.config.apiScheme}://${R}`}class $r{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((y,E)=>{this.timer=setTimeout(()=>E(_e(this.auth,"network-request-failed")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(b,m,y){const E={appName:b.name};y.email&&(E.email=y.email),y.phoneNumber&&(E.phoneNumber=y.phoneNumber);const R=_e(b,m,E);return R.customData._tokenResponse=y,R}function bt(){return(bt=(0,l.Z)(function*(b,m){return hn(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Yi(b,m){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,l.Z)(function*(b,m){return hn(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function cn(b,m){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,l.Z)(function*(b,m){return hn(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function _i(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function yi(){return(yi=(0,l.Z)(function*(b,m=!1){const y=(0,L.m9)(b),E=yield y.getIdToken(m),R=Kt(E);Y(R&&R.exp&&R.auth_time&&R.iat,y.auth,"internal-error");const j="object"==typeof R.firebase?R.firebase:void 0,ge=null==j?void 0:j.sign_in_provider;return{claims:R,token:E,authTime:_i(Rs(R.auth_time)),issuedAtTime:_i(Rs(R.iat)),expirationTime:_i(Rs(R.exp)),signInProvider:ge||null,signInSecondFactor:(null==j?void 0:j.sign_in_second_factor)||null}})).apply(this,arguments)}function Rs(b){return 1e3*Number(b)}function Kt(b){const[m,y,E]=b.split(".");if(void 0===m||void 0===y||void 0===E)return ke("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,L.tV)(y);return R?JSON.parse(R):(ke("Failed to decode base64 JWT payload"),null)}catch(R){return ke("Caught error parsing JWT payload as JSON",R),null}}function ct(b,m){return xr.apply(this,arguments)}function xr(){return(xr=(0,l.Z)(function*(b,m,y=!1){if(y)return m;try{return yield m}catch(E){throw E instanceof L.ZR&&Ar(E)&&b.auth.currentUser===b&&(yield b.auth.signOut()),E}})).apply(this,arguments)}function Ar({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Yt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var y;if(m){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const R=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(m=!1){var y=this;if(!this.isRunning)return;const E=this.getInterval(m);this.timerId=setTimeout((0,l.Z)(function*(){yield y.iteration()}),E)}iteration(){var m=this;return(0,l.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&m.schedule(!0))}m.schedule()})()}}class ps{constructor(m,y){this.createdAt=m,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=_i(this.lastLoginAt),this.creationTime=_i(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zn(b){return yn.apply(this,arguments)}function yn(){return(yn=(0,l.Z)(function*(b){var m;const y=b.auth,E=yield b.getIdToken(),R=yield ct(b,cn(y,{idToken:E}));Y(null==R?void 0:R.users.length,y,"internal-error");const j=R.users[0];b._notifyReloadListener(j);const ge=(null===(m=j.providerUserInfo)||void 0===m?void 0:m.length)?xe(j.providerUserInfo):[],Ue=ae(b.providerData,ge),Zt=!!b.isAnonymous&&!(b.email&&j.passwordHash||(null==Ue?void 0:Ue.length)),Vn={uid:j.localId,displayName:j.displayName||null,photoURL:j.photoUrl||null,email:j.email||null,emailVerified:j.emailVerified||!1,phoneNumber:j.phoneNumber||null,tenantId:j.tenantId||null,providerData:Ue,metadata:new ps(j.createdAt,j.lastLoginAt),isAnonymous:Zt};Object.assign(b,Vn)})).apply(this,arguments)}function re(){return(re=(0,l.Z)(function*(b){const m=(0,L.m9)(b);yield Zn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function ae(b,m){return[...b.filter(E=>!m.some(R=>R.providerId===E.providerId)),...m]}function xe(b){return b.map(m=>{var{providerId:y}=m,E=(0,q._T)(m,["providerId"]);return{providerId:y,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function fe(){return(fe=(0,l.Z)(function*(b,m){const y=yield Gr(b,{},(0,l.Z)(function*(){const E=(0,L.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:R,apiKey:j}=b.config,ge=Sr(b,R,"/v1/token",`key=${j}`),Ue=yield b._getAdditionalHeaders();return Ue["Content-Type"]="application/x-www-form-urlencoded",Tt.fetch()(ge,{method:"POST",headers:Ue,body:E})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class je{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Y(m.idToken,"internal-error"),Y(void 0!==m.idToken,"internal-error"),Y(void 0!==m.refreshToken,"internal-error");const y="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function gt(b){const m=Kt(b);return Y(m,"internal-error"),Y(void 0!==m.exp,"internal-error"),Y(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,y)}getToken(m,y=!1){var E=this;return(0,l.Z)(function*(){return Y(!E.accessToken||E.refreshToken,m,"user-token-expired"),y||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(m,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,y){var E=this;return(0,l.Z)(function*(){const{accessToken:R,refreshToken:j,expiresIn:ge}=yield function ne(b,m){return fe.apply(this,arguments)}(m,y);E.updateTokensAndExpiration(R,j,Number(ge))})()}updateTokensAndExpiration(m,y,E){this.refreshToken=y||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(m,y){const{refreshToken:E,accessToken:R,expirationTime:j}=y,ge=new je;return E&&(Y("string"==typeof E,"internal-error",{appName:m}),ge.refreshToken=E),R&&(Y("string"==typeof R,"internal-error",{appName:m}),ge.accessToken=R),j&&(Y("number"==typeof j,"internal-error",{appName:m}),ge.expirationTime=j),ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new je,this.toJSON())}_performRefresh(){return ye("not implemented")}}function tt(b,m){Y("string"==typeof b||void 0===b,"internal-error",{appName:m})}class vt{constructor(m){var{uid:y,auth:E,stsTokenManager:R}=m,j=(0,q._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=E,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=j.displayName||null,this.email=j.email||null,this.emailVerified=j.emailVerified||!1,this.phoneNumber=j.phoneNumber||null,this.photoURL=j.photoURL||null,this.isAnonymous=j.isAnonymous||!1,this.tenantId=j.tenantId||null,this.providerData=j.providerData?[...j.providerData]:[],this.metadata=new ps(j.createdAt||void 0,j.lastLoginAt||void 0)}getIdToken(m){var y=this;return(0,l.Z)(function*(){const E=yield ct(y,y.stsTokenManager.getToken(y.auth,m));return Y(E,y.auth,"internal-error"),y.accessToken!==E&&(y.accessToken=E,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),E})()}getIdTokenResult(m){return function Fn(b){return yi.apply(this,arguments)}(this,m)}reload(){return function Q(b){return re.apply(this,arguments)}(this)}_assign(m){this!==m&&(Y(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(y=>Object.assign({},y)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new vt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,y=!1){var E=this;return(0,l.Z)(function*(){let R=!1;m.idToken&&m.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(m),R=!0),y&&(yield Zn(E)),yield E.auth._persistUserIfCurrent(E),R&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var m=this;return(0,l.Z)(function*(){const y=yield m.getIdToken();return yield ct(m,function fs(b,m){return bt.apply(this,arguments)}(m.auth,{idToken:y})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,y){var E,R,j,ge,Ue,lt,wt,Zt;const Vn=null!==(E=y.displayName)&&void 0!==E?E:void 0,Xr=null!==(R=y.email)&&void 0!==R?R:void 0,Ys=null!==(j=y.phoneNumber)&&void 0!==j?j:void 0,uc=null!==(ge=y.photoURL)&&void 0!==ge?ge:void 0,J_=null!==(Ue=y.tenantId)&&void 0!==Ue?Ue:void 0,Cr=null!==(lt=y._redirectEventId)&&void 0!==lt?lt:void 0,tg=null!==(wt=y.createdAt)&&void 0!==wt?wt:void 0,ng=null!==(Zt=y.lastLoginAt)&&void 0!==Zt?Zt:void 0,{uid:Jh,emailVerified:ig,isAnonymous:Td,providerData:dc,stsTokenManager:Xh}=y;Y(Jh&&Xh,m,"internal-error");const ef=je.fromJSON(this.name,Xh);Y("string"==typeof Jh,m,"internal-error"),tt(Vn,m.name),tt(Xr,m.name),Y("boolean"==typeof ig,m,"internal-error"),Y("boolean"==typeof Td,m,"internal-error"),tt(Ys,m.name),tt(uc,m.name),tt(J_,m.name),tt(Cr,m.name),tt(tg,m.name),tt(ng,m.name);const mu=new vt({uid:Jh,auth:m,email:Xr,emailVerified:ig,displayName:Vn,isAnonymous:Td,photoURL:uc,phoneNumber:Ys,tenantId:J_,stsTokenManager:ef,createdAt:tg,lastLoginAt:ng});return dc&&Array.isArray(dc)&&(mu.providerData=dc.map(ii=>Object.assign({},ii))),Cr&&(mu._redirectEventId=Cr),mu}static _fromIdTokenResponse(m,y,E=!1){return(0,l.Z)(function*(){const R=new je;R.updateFromServerResponse(y);const j=new vt({uid:y.localId,auth:m,stsTokenManager:R,isAnonymous:E});return yield Zn(j),j})()}}const gn=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(y,E){var R=this;return(0,l.Z)(function*(){R.storage[y]=E})()}_get(y){var E=this;return(0,l.Z)(function*(){const R=E.storage[y];return void 0===R?null:R})()}_remove(y){var E=this;return(0,l.Z)(function*(){delete E.storage[y]})()}_addListener(y,E){}_removeListener(y,E){}}return b.type="NONE",b})();function It(b,m,y){return`firebase:${b}:${m}:${y}`}class li{constructor(m,y,E){this.persistence=m,this.auth=y,this.userKey=E;const{config:R,name:j}=this.auth;this.fullUserKey=It(this.userKey,R.apiKey,j),this.fullPersistenceKey=It("persistence",R.apiKey,j),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,l.Z)(function*(){const y=yield m.persistence._get(m.fullUserKey);return y?vt._fromJSON(m.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var y=this;return(0,l.Z)(function*(){if(y.persistence===m)return;const E=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=m,E?y.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,y,E="authUser"){return(0,l.Z)(function*(){if(!y.length)return new li(W(gn),m,E);const R=(yield Promise.all(y.map(function(){var wt=(0,l.Z)(function*(Zt){if(yield Zt._isAvailable())return Zt});return function(Zt){return wt.apply(this,arguments)}}()))).filter(wt=>wt);let j=R[0]||W(gn);const ge=It(E,m.config.apiKey,m.name);let Ue=null;for(const wt of y)try{const Zt=yield wt._get(ge);if(Zt){const Vn=vt._fromJSON(m,Zt);wt!==j&&(Ue=Vn),j=wt;break}}catch(Zt){}const lt=R.filter(wt=>wt._shouldAllowMigration);return j._shouldAllowMigration&&lt.length?(j=lt[0],Ue&&(yield j._set(ge,Ue.toJSON())),yield Promise.all(y.map(function(){var wt=(0,l.Z)(function*(Zt){if(Zt!==j)try{yield Zt._remove(ge)}catch(Vn){}});return function(Zt){return wt.apply(this,arguments)}}())),new li(j,m,E)):new li(j,m,E)})()}}function ve(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Qe(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(ce(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Rt(m))return"Blackberry";if(Xt(m))return"Webos";if(se(m))return"Safari";if((m.includes("chrome/")||Pe(m))&&!m.includes("edge/"))return"Chrome";if(pt(m))return"Android";{const E=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function ce(b=(0,L.z$)()){return/firefox\//i.test(b)}function se(b=(0,L.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Pe(b=(0,L.z$)()){return/crios\//i.test(b)}function Qe(b=(0,L.z$)()){return/iemobile/i.test(b)}function pt(b=(0,L.z$)()){return/android/i.test(b)}function Rt(b=(0,L.z$)()){return/blackberry/i.test(b)}function Xt(b=(0,L.z$)()){return/webos/i.test(b)}function $t(b=(0,L.z$)()){return/iphone|ipad|ipod/i.test(b)}function Xn(b=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function ji(b=(0,L.z$)()){return $t(b)||pt(b)||Xt(b)||Rt(b)||/windows phone/i.test(b)||Qe(b)}function Ii(b,m=[]){let y;switch(b){case"Browser":y=ve((0,L.z$)());break;case"Worker":y=`${ve((0,L.z$)())}-${b}`;break;default:y=b}const E=m.length?m.join(","):"FirebaseCore-web";return`${y}/JsCore/${k.SDK_VERSION}/${E}`}class Ja{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,y){const E=j=>new Promise((ge,Ue)=>{try{ge(m(j))}catch(lt){Ue(lt)}});E.onAbort=y,this.queue.push(E);const R=this.queue.length-1;return()=>{this.queue[R]=()=>Promise.resolve()}}runMiddleware(m){var y=this;return(0,l.Z)(function*(){if(y.auth.currentUser===m)return;const E=[];try{for(const R of y.queue)yield R(m),R.onAbort&&E.push(R.onAbort)}catch(R){E.reverse();for(const j of E)try{j()}catch(ge){}throw y.auth._errorFactory.create("login-blocked",{originalMessage:R.message})}})()}}class fr{constructor(m,y,E){this.app=m,this.heartbeatServiceProvider=y,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jt(this),this.idTokenSubscription=new jt(this),this.beforeStateQueue=new Ja(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Le,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(m,y){var E=this;return y&&(this._popupRedirectResolver=W(y)),this._initializationPromise=this.queue((0,l.Z)(function*(){var R,j;if(!E._deleted&&(E.persistenceManager=yield li.create(E,m),!E._deleted)){if(null===(R=E._popupRedirectResolver)||void 0===R?void 0:R._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(ge){}yield E.initializeCurrentUser(y),E.lastNotifiedUid=(null===(j=E.currentUser)||void 0===j?void 0:j.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,l.Z)(function*(){if(m._deleted)return;const y=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||y){if(m.currentUser&&y&&m.currentUser.uid===y.uid)return m._currentUser._assign(y),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(y,!0)}})()}initializeCurrentUser(m){var y=this;return(0,l.Z)(function*(){var E;const R=yield y.assertedPersistence.getCurrentUser();let j=R,ge=!1;if(m&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Ue=null===(E=y.redirectUser)||void 0===E?void 0:E._redirectEventId,lt=null==j?void 0:j._redirectEventId,wt=yield y.tryRedirectSignIn(m);(!Ue||Ue===lt)&&(null==wt?void 0:wt.user)&&(j=wt.user,ge=!0)}if(!j)return y.directlySetCurrentUser(null);if(!j._redirectEventId){if(ge)try{yield y.beforeStateQueue.runMiddleware(j)}catch(Ue){j=R,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Ue))}return j?y.reloadAndSetCurrentUserOrClear(j):y.directlySetCurrentUser(null)}return Y(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===j._redirectEventId?y.directlySetCurrentUser(j):y.reloadAndSetCurrentUserOrClear(j)})()}tryRedirectSignIn(m){var y=this;return(0,l.Z)(function*(){let E=null;try{E=yield y._popupRedirectResolver._completeRedirectFn(y,m,!0)}catch(R){yield y._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(m){var y=this;return(0,l.Z)(function*(){try{yield Zn(m)}catch(E){if("auth/network-request-failed"!==E.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function He(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,l.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var y=this;return(0,l.Z)(function*(){const E=m?(0,L.m9)(m):null;return E&&Y(E.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(E&&E._clone(y))})()}_updateCurrentUser(m,y=!1){var E=this;return(0,l.Z)(function*(){if(!E._deleted)return m&&Y(E.tenantId===m.tenantId,E,"tenant-id-mismatch"),y||(yield E.beforeStateQueue.runMiddleware(m)),E.queue((0,l.Z)(function*(){yield E.directlySetCurrentUser(m),E.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,l.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var y=this;return this.queue((0,l.Z)(function*(){yield y.assertedPersistence.setPersistence(W(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new L.LL("auth","Firebase",m())}onAuthStateChanged(m,y,E){return this.registerStateListener(this.authStateSubscription,m,y,E)}beforeAuthStateChanged(m,y){return this.beforeStateQueue.pushCallback(m,y)}onIdTokenChanged(m,y,E){return this.registerStateListener(this.idTokenSubscription,m,y,E)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,y){var E=this;return(0,l.Z)(function*(){const R=yield E.getOrInitRedirectPersistenceManager(y);return null===m?R.removeCurrentUser():R.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var y=this;return(0,l.Z)(function*(){if(!y.redirectPersistenceManager){const E=m&&W(m)||y._popupRedirectResolver;Y(E,y,"argument-error"),y.redirectPersistenceManager=yield li.create(y,[W(E._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(m){var y=this;return(0,l.Z)(function*(){var E,R;return y._isInitialized&&(yield y.queue((0,l.Z)(function*(){}))),(null===(E=y._currentUser)||void 0===E?void 0:E._redirectEventId)===m?y._currentUser:(null===(R=y.redirectUser)||void 0===R?void 0:R._redirectEventId)===m?y.redirectUser:null})()}_persistUserIfCurrent(m){var y=this;return(0,l.Z)(function*(){if(m===y.currentUser)return y.queue((0,l.Z)(function*(){return y.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(y=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,y,E,R){if(this._deleted)return()=>{};const j="function"==typeof y?y:y.next.bind(y),ge=this._isInitialized?Promise.resolve():this._initializationPromise;return Y(ge,this,"internal-error"),ge.then(()=>j(this.currentUser)),"function"==typeof y?m.addObserver(y,E,R):m.addObserver(y)}directlySetCurrentUser(m){var y=this;return(0,l.Z)(function*(){y.currentUser&&y.currentUser!==m&&(y._currentUser._stopProactiveRefresh(),m&&y.isProactiveRefreshEnabled&&m._startProactiveRefresh()),y.currentUser=m,m?yield y.assertedPersistence.setCurrentUser(m):yield y.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Ii(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,l.Z)(function*(){var y;const E={"X-Client-Version":m.clientVersion};m.app.options.appId&&(E["X-Firebase-gmpid"]=m.app.options.appId);const R=yield null===(y=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return R&&(E["X-Firebase-Client"]=R),E})()}}function qe(b){return(0,L.m9)(b)}class jt{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,L.ne)(y=>this.observer=y)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function An(b,m,y){const E=qe(b);Y(E._canInitEmulator,E,"emulator-config-failed"),Y(/^https?:\/\//.test(m),E,"invalid-emulator-scheme");const R=!!(null==y?void 0:y.disableWarnings),j=Ji(m),{host:ge,port:Ue}=function Os(b){const m=Ji(b),y=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!y)return{host:"",port:null};const E=y[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(E);if(R){const j=R[1];return{host:j,port:ei(E.substr(j.length+1))}}{const[j,ge]=E.split(":");return{host:j,port:ei(ge)}}}(m);E.config.emulator={url:`${j}//${ge}${null===Ue?"":`:${Ue}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ge,port:Ue,protocol:j.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function Ps(){function b(){const m=document.createElement("p"),y=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Ji(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function ei(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class mn{constructor(m,y){this.providerId=m,this.signInMethod=y}toJSON(){return ye("not implemented")}_getIdTokenResponse(m){return ye("not implemented")}_linkToIdToken(m,y){return ye("not implemented")}_getReauthenticationResolver(m){return ye("not implemented")}}function Po(b,m){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(b,m){return hn(b,"POST","/v1/accounts:resetPassword",Gt(b,m))})).apply(this,arguments)}function Nt(b,m){return No.apply(this,arguments)}function No(){return(No=(0,l.Z)(function*(b,m){return hn(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Wr(b,m){return ua.apply(this,arguments)}function ua(){return(ua=(0,l.Z)(function*(b,m){return hn(b,"POST","/v1/accounts:update",Gt(b,m))})).apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(b,m){return zn(b,"POST","/v1/accounts:signInWithPassword",Gt(b,m))})).apply(this,arguments)}function ao(b,m){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,l.Z)(function*(b,m){return hn(b,"POST","/v1/accounts:sendOobCode",Gt(b,m))})).apply(this,arguments)}function Ln(b,m){return vn.apply(this,arguments)}function vn(){return(vn=(0,l.Z)(function*(b,m){return ao(b,m)})).apply(this,arguments)}function Zu(b,m){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,l.Z)(function*(b,m){return ao(b,m)})).apply(this,arguments)}function pr(b,m){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,l.Z)(function*(b,m){return ao(b,m)})).apply(this,arguments)}function Ku(b,m){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,l.Z)(function*(b,m){return ao(b,m)})).apply(this,arguments)}function Mr(){return(Mr=(0,l.Z)(function*(b,m){return zn(b,"POST","/v1/accounts:signInWithEmailLink",Gt(b,m))})).apply(this,arguments)}function Yu(){return(Yu=(0,l.Z)(function*(b,m){return zn(b,"POST","/v1/accounts:signInWithEmailLink",Gt(b,m))})).apply(this,arguments)}class jl extends mn{constructor(m,y,E,R=null){super("password",E),this._email=m,this._password=y,this._tenantId=R}static _fromEmailAndPassword(m,y){return new jl(m,y,"password")}static _fromEmailAndCode(m,y,E=null){return new jl(m,y,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(m){var y=this;return(0,l.Z)(function*(){switch(y.signInMethod){case"password":return function da(b,m){return Dn.apply(this,arguments)}(m,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function lo(b,m){return Mr.apply(this,arguments)}(m,{email:y._email,oobCode:y._password});default:Be(m,"internal-error")}})()}_linkToIdToken(m,y){var E=this;return(0,l.Z)(function*(){switch(E.signInMethod){case"password":return Nt(m,{idToken:y,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function qc(b,m){return Yu.apply(this,arguments)}(m,{idToken:y,email:E._email,oobCode:E._password});default:Be(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function ci(b,m){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,l.Z)(function*(b,m){return zn(b,"POST","/v1/accounts:signInWithIdp",Gt(b,m))})).apply(this,arguments)}class Ns extends mn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const y=new Ns(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(y.idToken=m.idToken),m.accessToken&&(y.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(y.nonce=m.nonce),m.pendingToken&&(y.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(y.accessToken=m.oauthToken,y.secret=m.oauthTokenSecret):Be("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:R}=y,j=(0,q._T)(y,["providerId","signInMethod"]);if(!E||!R)return null;const ge=new Ns(E,R);return ge.idToken=j.idToken||void 0,ge.accessToken=j.accessToken||void 0,ge.secret=j.secret,ge.nonce=j.nonce,ge.pendingToken=j.pendingToken||null,ge}_getIdTokenResponse(m){return ci(m,this.buildRequest())}_linkToIdToken(m,y){const E=this.buildRequest();return E.idToken=y,ci(m,E)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,ci(m,y)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),m.postBody=(0,L.xO)(y)}return m}}function Hp(b,m){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,l.Z)(function*(b,m){return hn(b,"POST","/v1/accounts:sendVerificationCode",Gt(b,m))})).apply(this,arguments)}function Xa(){return(Xa=(0,l.Z)(function*(b,m){return zn(b,"POST","/v1/accounts:signInWithPhoneNumber",Gt(b,m))})).apply(this,arguments)}function Xu(){return(Xu=(0,l.Z)(function*(b,m){const y=yield zn(b,"POST","/v1/accounts:signInWithPhoneNumber",Gt(b,m));if(y.temporaryProof)throw qn(b,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Gp={USER_NOT_FOUND:"user-not-found"};function td(){return(td=(0,l.Z)(function*(b,m){return zn(b,"POST","/v1/accounts:signInWithPhoneNumber",Gt(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Gp)})).apply(this,arguments)}class fa extends mn{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,y){return new fa({verificationId:m,verificationCode:y})}static _fromTokenResponse(m,y){return new fa({phoneNumber:m,temporaryProof:y})}_getIdTokenResponse(m){return function zp(b,m){return Xa.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,y){return function ha(b,m){return Xu.apply(this,arguments)}(m,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function ed(b,m){return td.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:y,verificationId:E,verificationCode:R}=this.params;return m&&y?{temporaryProof:m,phoneNumber:y}:{sessionInfo:E,code:R}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:y,verificationCode:E,phoneNumber:R,temporaryProof:j}=m;return E||y||R||j?new fa({verificationId:y,verificationCode:E,phoneNumber:R,temporaryProof:j}):null}}class Fs{constructor(m){var y,E,R,j,ge,Ue;const lt=(0,L.zd)((0,L.pd)(m)),wt=null!==(y=lt.apiKey)&&void 0!==y?y:null,Zt=null!==(E=lt.oobCode)&&void 0!==E?E:null,Vn=function $p(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=lt.mode)&&void 0!==R?R:null);Y(wt&&Zt&&Vn,"argument-error"),this.apiKey=wt,this.operation=Vn,this.code=Zt,this.continueUrl=null!==(j=lt.continueUrl)&&void 0!==j?j:null,this.languageCode=null!==(ge=lt.languageCode)&&void 0!==ge?ge:null,this.tenantId=null!==(Ue=lt.tenantId)&&void 0!==Ue?Ue:null}static parseLink(m){const y=function Rh(b){const m=(0,L.zd)((0,L.pd)(b)).link,y=m?(0,L.zd)((0,L.pd)(m)).deep_link_id:null,E=(0,L.zd)((0,L.pd)(b)).deep_link_id;return(E?(0,L.zd)((0,L.pd)(E)).link:null)||E||y||m||b}(m);try{return new Fs(y)}catch(E){return null}}}let el=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(y,E){return jl._fromEmailAndPassword(y,E)}static credentialWithLink(y,E){const R=Fs.parseLink(E);return Y(R,"argument-error"),jl._fromEmailAndCode(y,R.code,R.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class co{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class kr extends co{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class pa extends kr{static credentialFromJSON(m){const y="string"==typeof m?JSON.parse(m):m;return Y("providerId"in y&&"signInMethod"in y,"argument-error"),Ns._fromParams(y)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Y(m.idToken||m.accessToken,"argument-error"),Ns._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return pa.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return pa.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:y,oauthAccessToken:E,oauthTokenSecret:R,pendingToken:j,nonce:ge,providerId:Ue}=m;if(!E&&!R&&!y&&!j||!Ue)return null;try{return new pa(Ue)._credential({idToken:y,accessToken:E,nonce:ge,pendingToken:j})}catch(lt){return null}}}let tl=(()=>{class b extends kr{constructor(){super("facebook.com")}static credential(y){return Ns._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return b.credential(y.oauthAccessToken)}catch(E){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),nl=(()=>{class b extends kr{constructor(){super("google.com"),this.addScope("profile")}static credential(y,E){return Ns._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:E})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:R}=y;if(!E&&!R)return null;try{return b.credential(E,R)}catch(j){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Oh=(()=>{class b extends kr{constructor(){super("github.com")}static credential(y){return Ns._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return b.credential(y.oauthAccessToken)}catch(E){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Fi extends mn{constructor(m,y){super(m,m),this.pendingToken=y}_getIdTokenResponse(m){return ci(m,this.buildRequest())}_linkToIdToken(m,y){const E=this.buildRequest();return E.idToken=y,ci(m,E)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,ci(m,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:R,pendingToken:j}=y;return E&&R&&j&&E===R?new Fi(E,j):null}static _create(m,y){return new Fi(m,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ls extends co{constructor(m){Y(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Ls.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Ls.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const y=Fi.fromJSON(m);return Y(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:y,providerId:E}=m;if(!y||!E)return null;try{return Fi._create(E,y)}catch(R){return null}}}let qr=(()=>{class b extends kr{constructor(){super("twitter.com")}static credential(y,E){return Ns._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:E})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:E,oauthTokenSecret:R}=y;if(!E||!R)return null;try{return b.credential(E,R)}catch(j){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function id(b,m){return Li.apply(this,arguments)}function Li(){return(Li=(0,l.Z)(function*(b,m){return zn(b,"POST","/v1/accounts:signUp",Gt(b,m))})).apply(this,arguments)}class Hi{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,y,E,R=!1){return(0,l.Z)(function*(){const j=yield vt._fromIdTokenResponse(m,E,R),ge=rd(E);return new Hi({user:j,providerId:ge,_tokenResponse:E,operationType:y})})()}static _forOperation(m,y,E){return(0,l.Z)(function*(){yield m._updateTokensIfNecessary(E,!0);const R=rd(E);return new Hi({user:m,providerId:R,_tokenResponse:E,operationType:y})})()}}function rd(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function sd(b){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,l.Z)(function*(b){var m;const y=qe(b);if(yield y._initializationPromise,null===(m=y.currentUser)||void 0===m?void 0:m.isAnonymous)return new Hi({user:y.currentUser,providerId:null,operationType:"signIn"});const E=yield id(y,{returnSecureToken:!0}),R=yield Hi._fromIdTokenResponse(y,"signIn",E,!0);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}class zl extends L.ZR{constructor(m,y,E,R){var j;super(y.code,y.message),this.operationType=E,this.user=R,Object.setPrototypeOf(this,zl.prototype),this.customData={appName:m.name,tenantId:null!==(j=m.tenantId)&&void 0!==j?j:void 0,_serverResponse:y.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(m,y,E,R){return new zl(m,y,E,R)}}function Gl(b,m,y,E){return("reauthenticate"===m?y._getReauthenticationResolver(b):y._getIdTokenResponse(b)).catch(j=>{throw"auth/multi-factor-auth-required"===j.code?zl._fromErrorAndOperation(b,j,m,E):j})}function Zc(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Bs(b,m){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,l.Z)(function*(b,m){const y=(0,L.m9)(b);yield uo(!0,y,m);const{providerUserInfo:E}=yield Yi(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[m]}),R=Zc(E||[]);return y.providerData=y.providerData.filter(j=>R.has(j.providerId)),R.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function Sn(b,m){return il.apply(this,arguments)}function il(){return(il=(0,l.Z)(function*(b,m,y=!1){const E=yield ct(b,m._linkToIdToken(b.auth,yield b.getIdToken()),y);return Hi._forOperation(b,"link",E)})).apply(this,arguments)}function uo(b,m,y){return bn.apply(this,arguments)}function bn(){return(bn=(0,l.Z)(function*(b,m,y){yield Zn(m);const R=!1===b?"provider-already-linked":"no-such-provider";Y(Zc(m.providerData).has(y)===b,m.auth,R)})).apply(this,arguments)}function $l(b,m){return rl.apply(this,arguments)}function rl(){return(rl=(0,l.Z)(function*(b,m,y=!1){const{auth:E}=b,R="reauthenticate";try{const j=yield ct(b,Gl(E,R,m,b),y);Y(j.idToken,E,"internal-error");const ge=Kt(j.idToken);Y(ge,E,"internal-error");const{sub:Ue}=ge;return Y(b.uid===Ue,E,"user-mismatch"),Hi._forOperation(b,R,j)}catch(j){throw"auth/user-not-found"===(null==j?void 0:j.code)&&Be(E,"user-mismatch"),j}})).apply(this,arguments)}function Bo(b,m){return Di.apply(this,arguments)}function Di(){return(Di=(0,l.Z)(function*(b,m,y=!1){const E="signIn",R=yield Gl(b,E,m),j=yield Hi._fromIdTokenResponse(b,E,R);return y||(yield b._updateCurrentUser(j.user)),j})).apply(this,arguments)}function Wl(b,m){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,l.Z)(function*(b,m){return Bo(qe(b),m)})).apply(this,arguments)}function Vs(b,m){return Si.apply(this,arguments)}function Si(){return(Si=(0,l.Z)(function*(b,m){const y=(0,L.m9)(b);return yield uo(!1,y,m.providerId),Sn(y,m)})).apply(this,arguments)}function ga(b,m){return ms.apply(this,arguments)}function ms(){return(ms=(0,l.Z)(function*(b,m){return $l((0,L.m9)(b),m)})).apply(this,arguments)}function Yc(b,m){return gr.apply(this,arguments)}function gr(){return(gr=(0,l.Z)(function*(b,m){return zn(b,"POST","/v1/accounts:signInWithCustomToken",Gt(b,m))})).apply(this,arguments)}function ho(b,m){return fo.apply(this,arguments)}function fo(){return(fo=(0,l.Z)(function*(b,m){const y=qe(b),E=yield Yc(y,{token:m,returnSecureToken:!0}),R=yield Hi._fromIdTokenResponse(y,"signIn",E);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}class Ct{constructor(m,y){this.factorId=m,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(m,y){return"phoneInfo"in y?sl._fromServerResponse(m,y):Be(m,"internal-error")}}class sl extends Ct{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,y){return new sl(y)}}function ol(b,m,y){var E;Y((null===(E=y.url)||void 0===E?void 0:E.length)>0,b,"invalid-continue-uri"),Y(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=y.url,m.dynamicLinkDomain=y.dynamicLinkDomain,m.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(Y(y.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=y.iOS.bundleId),y.android&&(Y(y.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=y.android.installApp,m.androidMinimumVersionCode=y.android.minimumVersion,m.androidPackageName=y.android.packageName)}function od(b,m,y){return al.apply(this,arguments)}function al(){return(al=(0,l.Z)(function*(b,m,y){const E=(0,L.m9)(b),R={requestType:"PASSWORD_RESET",email:m};y&&ol(E,R,y),yield Zu(E,R)})).apply(this,arguments)}function Qc(b,m,y){return ll.apply(this,arguments)}function ll(){return(ll=(0,l.Z)(function*(b,m,y){yield Po((0,L.m9)(b),{oobCode:m,newPassword:y})})).apply(this,arguments)}function Ph(b,m){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,l.Z)(function*(b,m){yield Wr((0,L.m9)(b),{oobCode:m})})).apply(this,arguments)}function Qt(b,m){return cl.apply(this,arguments)}function cl(){return(cl=(0,l.Z)(function*(b,m){const y=(0,L.m9)(b),E=yield Po(y,{oobCode:m}),R=E.requestType;switch(Y(R,y,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Y(E.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Y(E.mfaInfo,y,"internal-error");default:Y(E.email,y,"internal-error")}let j=null;return E.mfaInfo&&(j=Ct._fromServerResponse(qe(y),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:j},operation:R}})).apply(this,arguments)}function $n(b,m){return po.apply(this,arguments)}function po(){return(po=(0,l.Z)(function*(b,m){const{data:y}=yield Qt((0,L.m9)(b),m);return y.email})).apply(this,arguments)}function ul(b,m,y){return er.apply(this,arguments)}function er(){return(er=(0,l.Z)(function*(b,m,y){const E=qe(b),R=yield id(E,{returnSecureToken:!0,email:m,password:y}),j=yield Hi._fromIdTokenResponse(E,"signIn",R);return yield E._updateCurrentUser(j.user),j})).apply(this,arguments)}function Jc(b,m,y){return Wl((0,L.m9)(b),el.credential(m,y))}function Xc(b,m,y){return ad.apply(this,arguments)}function ad(){return(ad=(0,l.Z)(function*(b,m,y){const E=(0,L.m9)(b),R={requestType:"EMAIL_SIGNIN",email:m};Y(y.handleCodeInApp,E,"argument-error"),y&&ol(E,R,y),yield pr(E,R)})).apply(this,arguments)}function ld(b,m){const y=Fs.parseLink(m);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}function dl(b,m,y){return ma.apply(this,arguments)}function ma(){return(ma=(0,l.Z)(function*(b,m,y){const E=(0,L.m9)(b),R=el.credentialWithLink(m,y||X());return Y(R._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Wl(E,R)})).apply(this,arguments)}function vi(b,m){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,l.Z)(function*(b,m){return hn(b,"POST","/v1/accounts:createAuthUri",Gt(b,m))})).apply(this,arguments)}function eu(b,m){return _s.apply(this,arguments)}function _s(){return(_s=(0,l.Z)(function*(b,m){const E={identifier:m,continueUri:Ge()?X():"http://localhost"},{signinMethods:R}=yield vi((0,L.m9)(b),E);return R||[]})).apply(this,arguments)}function Us(b,m){return hl.apply(this,arguments)}function hl(){return(hl=(0,l.Z)(function*(b,m){const y=(0,L.m9)(b),R={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&ol(y.auth,R,m);const{email:j}=yield Ln(y.auth,R);j!==b.email&&(yield b.reload())})).apply(this,arguments)}function cd(b,m,y){return fl.apply(this,arguments)}function fl(){return(fl=(0,l.Z)(function*(b,m,y){const E=(0,L.m9)(b),j={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};y&&ol(E.auth,j,y);const{email:ge}=yield Ku(E.auth,j);ge!==b.email&&(yield b.reload())})).apply(this,arguments)}function ud(b,m){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,l.Z)(function*(b,m){return hn(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ql(b,m){return pl.apply(this,arguments)}function pl(){return(pl=(0,l.Z)(function*(b,{displayName:m,photoURL:y}){if(void 0===m&&void 0===y)return;const E=(0,L.m9)(b),j={idToken:yield E.getIdToken(),displayName:m,photoUrl:y,returnSecureToken:!0},ge=yield ct(E,ud(E.auth,j));E.displayName=ge.displayName||null,E.photoURL=ge.photoUrl||null;const Ue=E.providerData.find(({providerId:lt})=>"password"===lt);Ue&&(Ue.displayName=E.displayName,Ue.photoURL=E.photoURL),yield E._updateTokensIfNecessary(ge)})).apply(this,arguments)}function tu(b,m){return Zl((0,L.m9)(b),m,null)}function qp(b,m){return Zl((0,L.m9)(b),null,m)}function Zl(b,m,y){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,l.Z)(function*(b,m,y){const{auth:E}=b,j={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(j.email=m),y&&(j.password=y);const ge=yield ct(b,Nt(E,j));yield b._updateTokensIfNecessary(ge,!0)})).apply(this,arguments)}class jo{constructor(m,y,E={}){this.isNewUser=m,this.providerId=y,this.profile=E}}class dd extends jo{constructor(m,y,E,R){super(m,y,E),this.username=R}}class Nh extends jo{constructor(m,y){super(m,"facebook.com",y)}}class _a extends dd{constructor(m,y){super(m,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class ys extends jo{constructor(m,y){super(m,"google.com",y)}}class Fh extends dd{constructor(m,y,E){super(m,"twitter.com",y,E)}}function xi(b){const{user:m,_tokenResponse:y}=b;return m.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function nu(b){var m,y;if(!b)return null;const{providerId:E}=b,R=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},j=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!E&&(null==b?void 0:b.idToken)){const ge=null===(y=null===(m=Kt(b.idToken))||void 0===m?void 0:m.firebase)||void 0===y?void 0:y.sign_in_provider;if(ge)return new jo(j,"anonymous"!==ge&&"custom"!==ge?ge:null)}if(!E)return null;switch(E){case"facebook.com":return new Nh(j,R);case"github.com":return new _a(j,R);case"google.com":return new ys(j,R);case"twitter.com":return new Fh(j,R,b.screenName||null);case"custom":case"anonymous":return new jo(j,null);default:return new jo(j,E,R)}}(y)}class Hs{constructor(m,y){this.type=m,this.credential=y}static _fromIdtoken(m){return new Hs("enroll",m)}static _fromMfaPendingCredential(m){return new Hs("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var y,E;if(null==m?void 0:m.multiFactorSession){if(null===(y=m.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return Hs._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(E=m.multiFactorSession)||void 0===E?void 0:E.idToken)return Hs._fromIdtoken(m.multiFactorSession.idToken)}return null}}class ml{constructor(m,y,E){this.session=m,this.hints=y,this.signInResolver=E}static _fromError(m,y){const E=qe(m),R=y.customData._serverResponse,j=(R.mfaInfo||[]).map(Ue=>Ct._fromServerResponse(E,Ue));Y(R.mfaPendingCredential,E,"internal-error");const ge=Hs._fromMfaPendingCredential(R.mfaPendingCredential);return new ml(ge,j,function(){var Ue=(0,l.Z)(function*(lt){const wt=yield lt._process(E,ge);delete R.mfaInfo,delete R.mfaPendingCredential;const Zt=Object.assign(Object.assign({},R),{idToken:wt.idToken,refreshToken:wt.refreshToken});switch(y.operationType){case"signIn":const Vn=yield Hi._fromIdTokenResponse(E,y.operationType,Zt);return yield E._updateCurrentUser(Vn.user),Vn;case"reauthenticate":return Y(y.user,E,"internal-error"),Hi._forOperation(y.user,y.operationType,Zt);default:Be(E,"internal-error")}});return function(lt){return Ue.apply(this,arguments)}}())}resolveSignIn(m){var y=this;return(0,l.Z)(function*(){return y.signInResolver(m)})()}}function Kl(b,m){var y;const E=(0,L.m9)(b),R=m;return Y(m.customData.operationType,E,"argument-error"),Y(null===(y=R.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,E,"argument-error"),ml._fromError(E,R)}function Ai(b,m){return hn(b,"POST","/v2/accounts/mfaEnrollment:start",Gt(b,m))}class ya{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(E=>Ct._fromServerResponse(m.auth,E)))})}static _fromUser(m){return new ya(m)}getSession(){var m=this;return(0,l.Z)(function*(){return Hs._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,y){var E=this;return(0,l.Z)(function*(){const R=m,j=yield E.getSession(),ge=yield ct(E.user,R._process(E.user.auth,j,y));return yield E.user._updateTokensIfNecessary(ge),E.user.reload()})()}unenroll(m){var y=this;return(0,l.Z)(function*(){const E="string"==typeof m?m:m.uid,R=yield y.user.getIdToken(),j=yield ct(y.user,function Ho(b,m){return hn(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Gt(b,m))}(y.user.auth,{idToken:R,mfaEnrollmentId:E}));y.enrolledFactors=y.enrolledFactors.filter(({uid:ge})=>ge!==E),yield y.user._updateTokensIfNecessary(j);try{yield y.user.reload()}catch(ge){if("auth/user-token-expired"!==ge.code)throw ge}})()}}const fd=new WeakMap;function pd(b){const m=(0,L.m9)(b);return fd.has(m)||fd.set(m,ya._fromUser(m)),fd.get(m)}const tr="__sak";class va{constructor(m,y){this.storageRetriever=m,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(tr,"1"),this.storage.removeItem(tr),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,y){return this.storage.setItem(m,JSON.stringify(y)),Promise.resolve()}_get(m){const y=this.storage.getItem(m);return Promise.resolve(y?JSON.parse(y):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gn=(()=>{class b extends va{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,E)=>this.onStorageEvent(y,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function gd(){const b=(0,L.z$)();return se(b)||$t(b)}()&&function gs(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=ji(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const E of Object.keys(this.listeners)){const R=this.storage.getItem(E),j=this.localCache[E];R!==j&&y(E,j,R)}}onStorageEvent(y,E=!1){if(!y.key)return void this.forAllChangedKeys((Ue,lt,wt)=>{this.notifyListeners(Ue,wt)});const R=y.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ue=this.storage.getItem(R);if(y.newValue!==Ue)null!==y.newValue?this.storage.setItem(R,y.newValue):this.storage.removeItem(R);else if(this.localCache[R]===y.newValue&&!E)return}const j=()=>{const Ue=this.storage.getItem(R);!E&&this.localCache[R]===Ue||this.notifyListeners(R,Ue)},ge=this.storage.getItem(R);!function Wt(){return(0,L.w1)()&&10===document.documentMode}()||ge===y.newValue||y.newValue===y.oldValue?j():setTimeout(j,10)}notifyListeners(y,E){this.localCache[y]=E;const R=this.listeners[y];if(R)for(const j of Array.from(R))j(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,E,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:E,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,E){var R=()=>super._set,j=this;return(0,l.Z)(function*(){yield R().call(j,y,E),j.localCache[y]=JSON.stringify(E)})()}_get(y){var E=()=>super._get,R=this;return(0,l.Z)(function*(){const j=yield E().call(R,y);return R.localCache[y]=JSON.stringify(j),j})()}_remove(y){var E=()=>super._remove,R=this;return(0,l.Z)(function*(){yield E().call(R,y),delete R.localCache[y]})()}}return b.type="LOCAL",b})(),ut=(()=>{class b extends va{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,E){}_removeListener(y,E){}}return b.type="SESSION",b})();let Kr=(()=>{class b{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const E=this.receivers.find(j=>j.isListeningto(y));if(E)return E;const R=new b(y);return this.receivers.push(R),R}isListeningto(y){return this.eventTarget===y}handleEvent(y){var E=this;return(0,l.Z)(function*(){const R=y,{eventId:j,eventType:ge,data:Ue}=R.data,lt=E.handlersMap[ge];if(!(null==lt?void 0:lt.size))return;R.ports[0].postMessage({status:"ack",eventId:j,eventType:ge});const wt=Array.from(lt).map(function(){var Vn=(0,l.Z)(function*(Xr){return Xr(R.origin,Ue)});return function(Xr){return Vn.apply(this,arguments)}}()),Zt=yield function ti(b){return Promise.all(b.map(function(){var m=(0,l.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(E){return{fulfilled:!1,reason:E}}});return function(y){return m.apply(this,arguments)}}()))}(wt);R.ports[0].postMessage({status:"done",eventId:j,eventType:ge,response:Zt})})()}_subscribe(y,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(E)}_unsubscribe(y,E){this.handlersMap[y]&&E&&this.handlersMap[y].delete(E),(!E||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function zs(b="",m=10){let y="";for(let E=0;E<m;E++)y+=Math.floor(10*Math.random());return b+y}class mr{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,y,E=50){var R=this;return(0,l.Z)(function*(){const j="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!j)throw new Error("connection_unavailable");let ge,Ue;return new Promise((lt,wt)=>{const Zt=zs("",20);j.port1.start();const Vn=setTimeout(()=>{wt(new Error("unsupported_event"))},E);Ue={messageChannel:j,onMessage(Xr){const Ys=Xr;if(Ys.data.eventId===Zt)switch(Ys.data.status){case"ack":clearTimeout(Vn),ge=setTimeout(()=>{wt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ge),lt(Ys.data.response);break;default:clearTimeout(Vn),clearTimeout(ge),wt(new Error("invalid_response"))}}},R.handlers.add(Ue),j.port1.addEventListener("message",Ue.onMessage),R.target.postMessage({eventType:m,eventId:Zt,data:y},[j.port2])}).finally(()=>{Ue&&R.removeMessageHandler(Ue)})})()}}function qt(){return window}function kn(){return void 0!==qt().WorkerGlobalScope&&"function"==typeof qt().importScripts}function Yl(){return(Yl=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const Jl="firebaseLocalStorageDb",_r="firebaseLocalStorage",wn="fbase_key";class Bn{constructor(m){this.request=m}toPromise(){return new Promise((m,y)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function go(b,m){return b.transaction([_r],m?"readwrite":"readonly").objectStore(_r)}function Xl(){const b=indexedDB.open(Jl,1);return new Promise((m,y)=>{b.addEventListener("error",()=>{y(b.error)}),b.addEventListener("upgradeneeded",()=>{const E=b.result;try{E.createObjectStore(_r,{keyPath:wn})}catch(R){y(R)}}),b.addEventListener("success",(0,l.Z)(function*(){const E=b.result;E.objectStoreNames.contains(_r)?m(E):(E.close(),yield function yr(){const b=indexedDB.deleteDatabase(Jl);return new Bn(b).toPromise()}(),m(yield Xl()))}))})}function Gs(b,m,y){return vr.apply(this,arguments)}function vr(){return(vr=(0,l.Z)(function*(b,m,y){const E=go(b,!0).put({[wn]:m,value:y});return new Bn(E).toPromise()})).apply(this,arguments)}function ba(){return(ba=(0,l.Z)(function*(b,m){const y=go(b,!1).get(m),E=yield new Bn(y).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function mo(b,m){const y=go(b,!0).delete(m);return new Bn(y).toPromise()}const zo=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,l.Z)(function*(){return y.db||(y.db=yield Xl()),y.db})()}_withRetries(y){var E=this;return(0,l.Z)(function*(){let R=0;for(;;)try{const j=yield E._openDb();return yield y(j)}catch(j){if(R++>3)throw j;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,l.Z)(function*(){return kn()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,l.Z)(function*(){y.receiver=Kr._getInstance(function Ql(){return kn()?self:null}()),y.receiver._subscribe("keyChanged",function(){var E=(0,l.Z)(function*(R,j){return{keyProcessed:(yield y._poll()).includes(j.key)}});return function(R,j){return E.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var E=(0,l.Z)(function*(R,j){return["keyChanged"]});return function(R,j){return E.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,l.Z)(function*(){var E,R;if(y.activeServiceWorker=yield function mt(){return Yl.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new mr(y.activeServiceWorker);const j=yield y.sender._send("ping",{},800);!j||(null===(E=j[0])||void 0===E?void 0:E.fulfilled)&&(null===(R=j[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var E=this;return(0,l.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function md(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:y},E.serviceWorkerReceiverAvailable?800:50)}catch(R){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Xl();return yield Gs(y,tr,"1"),yield mo(y,tr),!0}catch(y){}return!1})()}_withPendingWrite(y){var E=this;return(0,l.Z)(function*(){E.pendingWrites++;try{yield y()}finally{E.pendingWrites--}})()}_set(y,E){var R=this;return(0,l.Z)(function*(){return R._withPendingWrite((0,l.Z)(function*(){return yield R._withRetries(j=>Gs(j,y,E)),R.localCache[y]=E,R.notifyServiceWorker(y)}))})()}_get(y){var E=this;return(0,l.Z)(function*(){const R=yield E._withRetries(j=>function Rr(b,m){return ba.apply(this,arguments)}(j,y));return E.localCache[y]=R,R})()}_remove(y){var E=this;return(0,l.Z)(function*(){return E._withPendingWrite((0,l.Z)(function*(){return yield E._withRetries(R=>mo(R,y)),delete E.localCache[y],E.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,l.Z)(function*(){const E=yield y._withRetries(ge=>{const Ue=go(ge,!1).getAll();return new Bn(Ue).toPromise()});if(!E)return[];if(0!==y.pendingWrites)return[];const R=[],j=new Set;for(const{fbase_key:ge,value:Ue}of E)j.add(ge),JSON.stringify(y.localCache[ge])!==JSON.stringify(Ue)&&(y.notifyListeners(ge,Ue),R.push(ge));for(const ge of Object.keys(y.localCache))y.localCache[ge]&&!j.has(ge)&&(y.notifyListeners(ge,null),R.push(ge));return R})()}notifyListeners(y,E){this.localCache[y]=E;const R=this.listeners[y];if(R)for(const j of Array.from(R))j(E)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function ru(b,m){return hn(b,"POST","/v2/accounts/mfaSignIn:start",Gt(b,m))}function _o(){return(_o=(0,l.Z)(function*(b){return(yield hn(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ca(b){return new Promise((m,y)=>{const E=document.createElement("script");E.setAttribute("src",b),E.onload=m,E.onerror=R=>{const j=_e("internal-error");j.customData=R,y(j)},E.type="text/javascript",E.charset="UTF-8",function ou(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(E)})}function Go(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Ta=1e12;class Uh{constructor(m){this.auth=m,this.counter=Ta,this._widgets=new Map}render(m,y){const E=this.counter;return this._widgets.set(E,new _l(m,this.auth.name,y||{})),this.counter++,E}reset(m){var y;const E=m||Ta;null===(y=this._widgets.get(E))||void 0===y||y.delete(),this._widgets.delete(E)}getResponse(m){var y;return(null===(y=this._widgets.get(m||Ta))||void 0===y?void 0:y.getResponse())||""}execute(m){var y=this;return(0,l.Z)(function*(){var E;return null===(E=y._widgets.get(m||Ta))||void 0===E||E.execute(),""})()}}class _l{constructor(m,y,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof m?document.getElementById(m):m;Y(R,"argument-error",{appName:y}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Yp(b){const m=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<b;E++)m.push(y.charAt(Math.floor(Math.random()*y.length)));return m.join("")}(50);const{callback:m,"expired-callback":y}=this.params;if(m)try{m(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ec=Go("rcb"),ni=new ot(3e4,6e4);class it{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!qt().grecaptcha}load(m,y=""){return Y(function ki(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(y),m,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(qt().grecaptcha):new Promise((E,R)=>{const j=qt().setTimeout(()=>{R(_e(m,"network-request-failed"))},ni.get());qt()[ec]=()=>{qt().clearTimeout(j),delete qt()[ec];const Ue=qt().grecaptcha;if(!Ue)return void R(_e(m,"internal-error"));const lt=Ue.render;Ue.render=(wt,Zt)=>{const Vn=lt(wt,Zt);return this.counter++,Vn},this.hostLanguage=y,E(Ue)},Ca(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:ec,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(j),R(_e(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!qt().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class $s{load(m){return(0,l.Z)(function*(){return new Uh(m)})()}clearedOneInstance(){}}const U="recaptcha",vs={theme:"light",type:"image"};class jh{constructor(m,y=Object.assign({},vs),E){this.parameters=y,this.type=U,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qe(E),this.isInvisible="invisible"===this.parameters.size,Y("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof m?document.getElementById(m):m;Y(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $s:new it,this.validateStartingState()}verify(){var m=this;return(0,l.Z)(function*(){m.assertNotDestroyed();const y=yield m.render(),E=m.getAssertedRecaptcha();return E.getResponse(y)||new Promise(j=>{const ge=Ue=>{!Ue||(m.tokenChangeListeners.delete(ge),j(Ue))};m.tokenChangeListeners.add(ge),m.isInvisible&&E.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return y=>{if(this.tokenChangeListeners.forEach(E=>E(y)),"function"==typeof m)m(y);else if("string"==typeof m){const E=qt()[m];"function"==typeof E&&E(y)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,l.Z)(function*(){if(yield m.init(),!m.widgetId){let y=m.container;if(!m.isInvisible){const E=document.createElement("div");y.appendChild(E),y=E}m.widgetId=m.getAssertedRecaptcha().render(y,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,l.Z)(function*(){Y(Ge()&&!kn(),m.auth,"internal-error"),yield function yl(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const y=yield function wa(b){return _o.apply(this,arguments)}(m.auth);Y(y,m.auth,"internal-error"),m.parameters.sitekey=y})()}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _d{constructor(m,y){this.verificationId=m,this.onConfirmation=y}confirm(m){const y=fa._fromVerification(this.verificationId,m);return this.onConfirmation(y)}}function en(b,m,y){return zi.apply(this,arguments)}function zi(){return(zi=(0,l.Z)(function*(b,m,y){const E=qe(b),R=yield br(E,m,(0,L.m9)(y));return new _d(R,j=>Wl(E,j))})).apply(this,arguments)}function vo(b,m,y){return au.apply(this,arguments)}function au(){return(au=(0,l.Z)(function*(b,m,y){const E=(0,L.m9)(b);yield uo(!1,E,"phone");const R=yield br(E.auth,m,(0,L.m9)(y));return new _d(R,j=>Vs(E,j))})).apply(this,arguments)}function Hh(b,m,y){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,l.Z)(function*(b,m,y){const E=(0,L.m9)(b),R=yield br(E.auth,m,(0,L.m9)(y));return new _d(R,j=>ga(E,j))})).apply(this,arguments)}function br(b,m,y){return $o.apply(this,arguments)}function $o(){return($o=(0,l.Z)(function*(b,m,y){var E;const R=yield y.verify();try{let j;if(Y("string"==typeof R,b,"argument-error"),Y(y.type===U,b,"argument-error"),j="string"==typeof m?{phoneNumber:m}:m,"session"in j){const ge=j.session;if("phoneNumber"in j)return Y("enroll"===ge.type,b,"internal-error"),(yield Ai(b,{idToken:ge.credential,phoneEnrollmentInfo:{phoneNumber:j.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{Y("signin"===ge.type,b,"internal-error");const Ue=(null===(E=j.multiFactorHint)||void 0===E?void 0:E.uid)||j.multiFactorUid;return Y(Ue,b,"missing-multi-factor-info"),(yield ru(b,{mfaPendingCredential:ge.credential,mfaEnrollmentId:Ue,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ge}=yield Hp(b,{phoneNumber:j.phoneNumber,recaptchaToken:R});return ge}}finally{y._reset()}})).apply(this,arguments)}function vl(b,m){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,l.Z)(function*(b,m){yield Sn((0,L.m9)(b),m)})).apply(this,arguments)}let tc=(()=>{class b{constructor(y){this.providerId=b.PROVIDER_ID,this.auth=qe(y)}verifyPhoneNumber(y,E){return br(this.auth,y,(0,L.m9)(E))}static credential(y,E){return fa._fromVerification(y,E)}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:E,temporaryProof:R}=y;return E&&R?fa._fromTokenResponse(E,R):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Ws(b,m){return m?W(m):(Y(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class ui extends mn{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return ci(m,this._buildIdpRequest())}_linkToIdToken(m,y){return ci(m,this._buildIdpRequest(y))}_getReauthenticationResolver(m){return ci(m,this._buildIdpRequest())}_buildIdpRequest(m){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(y.idToken=m),y}}function bl(b){return Bo(b.auth,new ui(b),b.bypassAuthState)}function lu(b){const{auth:m,user:y}=b;return Y(y,m,"internal-error"),$l(y,new ui(b),b.bypassAuthState)}function nc(b){return di.apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(b){const{auth:m,user:y}=b;return Y(y,m,"internal-error"),Sn(y,new ui(b),b.bypassAuthState)})).apply(this,arguments)}class Ia{constructor(m,y,E,R,j=!1){this.auth=m,this.resolver=E,this.user=R,this.bypassAuthState=j,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var m=this;return new Promise(function(){var y=(0,l.Z)(function*(E,R){m.pendingPromise={resolve:E,reject:R};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(j){m.reject(j)}});return function(E,R){return y.apply(this,arguments)}}())}onAuthEvent(m){var y=this;return(0,l.Z)(function*(){const{urlResponse:E,sessionId:R,postBody:j,tenantId:ge,error:Ue,type:lt}=m;if(Ue)return void y.reject(Ue);const wt={auth:y.auth,requestUri:E,sessionId:R,tenantId:ge||void 0,postBody:j||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(lt)(wt))}catch(Zt){y.reject(Zt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return bl;case"linkViaPopup":case"linkViaRedirect":return nc;case"reauthViaPopup":case"reauthViaRedirect":return lu;default:Be(this.auth,"internal-error")}}resolve(m){N(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){N(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qo=new ot(2e3,1e4);function zh(b,m,y){return ic.apply(this,arguments)}function ic(){return(ic=(0,l.Z)(function*(b,m,y){const E=qe(b);Re(b,m,co);const R=Ws(E,y);return new Zo(E,"signInViaPopup",m,R).executeNotNull()})).apply(this,arguments)}function Gh(b,m,y){return bo.apply(this,arguments)}function bo(){return(bo=(0,l.Z)(function*(b,m,y){const E=(0,L.m9)(b);Re(E.auth,m,co);const R=Ws(E.auth,y);return new Zo(E.auth,"reauthViaPopup",m,R,E).executeNotNull()})).apply(this,arguments)}function yd(b,m,y){return cu.apply(this,arguments)}function cu(){return(cu=(0,l.Z)(function*(b,m,y){const E=(0,L.m9)(b);Re(E.auth,m,co);const R=Ws(E.auth,y);return new Zo(E.auth,"linkViaPopup",m,R,E).executeNotNull()})).apply(this,arguments)}let Zo=(()=>{class b extends Ia{constructor(y,E,R,j,ge){super(y,E,j,ge),this.provider=R,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var y=this;return(0,l.Z)(function*(){const E=yield y.execute();return Y(E,y.auth,"internal-error"),E})()}onExecution(){var y=this;return(0,l.Z)(function*(){N(1===y.filter.length,"Popup operations only handle one event");const E=zs();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],E),y.authWindow.associatedEvent=E,y.resolver._originValidation(y.auth).catch(R=>{y.reject(R)}),y.resolver._isIframeWebStorageSupported(y.auth,R=>{R||y.reject(_e(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const y=()=>{var E,R;this.pollId=(null===(R=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===R?void 0:R.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,qo.get())};y()}}return b.currentPopupAction=null,b})();const bs=new Map;class Qr extends Ia{constructor(m,y,E=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,E),this.eventId=null}execute(){var m=()=>super.execute,y=this;return(0,l.Z)(function*(){let E=bs.get(y.auth._key());if(!E){try{const j=(yield function Qp(b,m){return Da.apply(this,arguments)}(y.resolver,y.auth))?yield m().call(y):null;E=()=>Promise.resolve(j)}catch(R){E=()=>Promise.reject(R)}bs.set(y.auth._key(),E)}return y.bypassAuthState||bs.set(y.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(m){var y=()=>super.onAuthEvent,E=this;return(0,l.Z)(function*(){if("signInViaRedirect"===m.type)return y().call(E,m);if("unknown"!==m.type){if(m.eventId){const R=yield E.auth._redirectUserForId(m.eventId);if(R)return E.user=R,y().call(E,m);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Da(){return(Da=(0,l.Z)(function*(b,m){const y=S(m),E=D(b);if(!(yield E._isAvailable()))return!1;const R="true"===(yield E._get(y));return yield E._remove(y),R})).apply(this,arguments)}function Sa(b,m){return xa.apply(this,arguments)}function xa(){return(xa=(0,l.Z)(function*(b,m){return D(b)._set(S(m),"true")})).apply(this,arguments)}function vd(){bs.clear()}function rc(b,m){bs.set(b._key(),m)}function D(b){return W(b._redirectPersistence)}function S(b){return It("pendingRedirect",b.config.apiKey,b.name)}function P(b,m,y){return function Z(b,m,y){return he.apply(this,arguments)}(b,m,y)}function he(){return(he=(0,l.Z)(function*(b,m,y){const E=qe(b);Re(b,m,co);const R=Ws(E,y);return yield Sa(R,E),R._openRedirect(E,m,"signInViaRedirect")})).apply(this,arguments)}function we(b,m,y){return function Fe(b,m,y){return at.apply(this,arguments)}(b,m,y)}function at(){return(at=(0,l.Z)(function*(b,m,y){const E=(0,L.m9)(b);Re(E.auth,m,co);const R=Ws(E.auth,y);yield Sa(R,E.auth);const j=yield Jr(E);return R._openRedirect(E.auth,m,"reauthViaRedirect",j)})).apply(this,arguments)}function Dt(b,m,y){return function St(b,m,y){return Ht.apply(this,arguments)}(b,m,y)}function Ht(){return(Ht=(0,l.Z)(function*(b,m,y){const E=(0,L.m9)(b);Re(E.auth,m,co);const R=Ws(E.auth,y);yield uo(!1,E,m.providerId),yield Sa(R,E.auth);const j=yield Jr(E);return R._openRedirect(E.auth,m,"linkViaRedirect",j)})).apply(this,arguments)}function Mt(b,m){return nr.apply(this,arguments)}function nr(){return(nr=(0,l.Z)(function*(b,m){return yield qe(b)._initializationPromise,hi(b,m,!1)})).apply(this,arguments)}function hi(b,m){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,l.Z)(function*(b,m,y=!1){const E=qe(b),R=Ws(E,m),ge=yield new Qr(E,R,y).execute();return ge&&!y&&(delete ge.user._redirectEventId,yield E._persistUserIfCurrent(ge.user),yield E._setRedirectUser(null,m)),ge})).apply(this,arguments)}function Jr(b){return ws.apply(this,arguments)}function ws(){return(ws=(0,l.Z)(function*(b){const m=zs(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class Ks{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let y=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(m,E)&&(y=!0,this.sendToConsumer(m,E),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function uu(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bd(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=m,y=!0)),y}sendToConsumer(m,y){var E;if(m.error&&!bd(m)){const R=(null===(E=m.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";y.onError(_e(this.auth,R))}else y.onAuthEvent(m)}isEventForConsumer(m,y){const E=null===y.eventId||!!m.eventId&&m.eventId===y.eventId;return y.filter.includes(m.type)&&E}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wl(m))}saveEventToCache(m){this.cachedEventUids.add(wl(m)),this.lastProcessedEventTime=Date.now()}}function wl(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function bd({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===(null==m?void 0:m.code)}function sc(b){return $h.apply(this,arguments)}function $h(){return($h=(0,l.Z)(function*(b,m={}){return hn(b,"GET","/v1/projects",m)})).apply(this,arguments)}const H_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oc=/^https?/;function Wh(){return(Wh=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield sc(b);for(const y of m)try{if(x0(y))return}catch(E){}Be(b,"unauthorized-domain")})).apply(this,arguments)}function x0(b){const m=X(),{protocol:y,hostname:E}=new URL(m);if(b.startsWith("chrome-extension://")){const ge=new URL(b);return""===ge.hostname&&""===E?"chrome-extension:"===y&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===y&&ge.hostname===E}if(!oc.test(y))return!1;if(H_.test(b))return E===b;const R=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(E)}const Jp=new ot(3e4,6e4);function Xp(){const b=qt().___jsl;if(null==b?void 0:b.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let y=0;y<b.CP.length;y++)b.CP[y]=null}let wd=null;function Cd(b){return wd=wd||function A0(b){return new Promise((m,y)=>{var E,R,j;function ge(){Xp(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Xp(),y(_e(b,"network-request-failed"))},timeout:Jp.get()})}if(null===(R=null===(E=qt().gapi)||void 0===E?void 0:E.iframes)||void 0===R?void 0:R.Iframe)m(gapi.iframes.getContext());else{if(!(null===(j=qt().gapi)||void 0===j?void 0:j.load)){const Ue=Go("iframefcb");return qt()[Ue]=()=>{gapi.load?ge():y(_e(b,"network-request-failed"))},Ca(`https://apis.google.com/js/api.js?onload=${Ue}`).catch(lt=>y(lt))}ge()}}).catch(m=>{throw wd=null,m})}(b),wd}const eg=new ot(5e3,15e3),ac={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function G_(b){const m=b.config;Y(m.authDomain,b,"auth-domain-config-required");const y=m.emulator?_n(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,E={apiKey:m.apiKey,appName:b.name,v:k.SDK_VERSION},R=z_.get(b.config.apiHost);R&&(E.eid=R);const j=b._getFrameworks();return j.length&&(E.fw=j.join(",")),`${y}?${(0,L.xO)(E).slice(1)}`}function Cl(){return Cl=(0,l.Z)(function*(b){const m=yield Cd(b),y=qt().gapi;return Y(y,b,"internal-error"),m.open({where:document.body,url:G_(b),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ac,dontclear:!0},E=>new Promise(function(){var R=(0,l.Z)(function*(j,ge){yield E.restyle({setHideOnLeave:!1});const Ue=_e(b,"network-request-failed"),lt=qt().setTimeout(()=>{ge(Ue)},eg.get());function wt(){qt().clearTimeout(lt),j(E)}E.ping(wt).then(wt,()=>{ge(Ue)})});return function(j,ge){return R.apply(this,arguments)}}()))}),Cl.apply(this,arguments)}const Ed={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class q_{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function Cs(b,m,y,E,R,j){Y(b.config.authDomain,b,"auth-domain-config-required"),Y(b.config.apiKey,b,"invalid-api-key");const ge={apiKey:b.config.apiKey,appName:b.name,authType:y,redirectUrl:E,v:k.SDK_VERSION,eventId:R};if(m instanceof co){m.setDefaultLanguage(b.languageCode),ge.providerId=m.providerId||"",(0,L.xb)(m.getCustomParameters())||(ge.customParameters=JSON.stringify(m.getCustomParameters()));for(const[lt,wt]of Object.entries(j||{}))ge[lt]=wt}if(m instanceof kr){const lt=m.getScopes().filter(wt=>""!==wt);lt.length>0&&(ge.scopes=lt.join(","))}b.tenantId&&(ge.tid=b.tenantId);const Ue=ge;for(const lt of Object.keys(Ue))void 0===Ue[lt]&&delete Ue[lt];return`${function lc({config:b}){return b.emulator?_n(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,L.xO)(Ue).slice(1)}`}const pu="webStorageSupport",cc=class Yh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ut,this._completeRedirectFn=hi,this._overrideRedirectResult=rc}_openPopup(m,y,E,R){var j=this;return(0,l.Z)(function*(){var ge;N(null===(ge=j.eventManagers[m._key()])||void 0===ge?void 0:ge.manager,"_initialize() not called before _openPopup()");const Ue=Cs(m,y,E,X(),R);return function M0(b,m,y,E=500,R=600){const j=Math.max((window.screen.availHeight-R)/2,0).toString(),ge=Math.max((window.screen.availWidth-E)/2,0).toString();let Ue="";const lt=Object.assign(Object.assign({},Ed),{width:E.toString(),height:R.toString(),top:j,left:ge}),wt=(0,L.z$)().toLowerCase();y&&(Ue=Pe(wt)?"_blank":y),ce(wt)&&(m=m||"http://localhost",lt.scrollbars="yes");const Zt=Object.entries(lt).reduce((Xr,[Ys,uc])=>`${Xr}${Ys}=${uc},`,"");if(function hr(b=(0,L.z$)()){var m;return $t(b)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(wt)&&"_self"!==Ue)return function Kh(b,m){const y=document.createElement("a");y.href=b,y.target=m;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(E)}(m||"",Ue),new q_(null);const Vn=window.open(m||"",Ue,Zt);Y(Vn,b,"popup-blocked");try{Vn.focus()}catch(Xr){}return new q_(Vn)}(m,Ue,zs())})()}_openRedirect(m,y,E,R){var j=this;return(0,l.Z)(function*(){return yield j._originValidation(m),function Mn(b){qt().location.href=b}(Cs(m,y,E,X(),R)),new Promise(()=>{})})()}_initialize(m){const y=m._key();if(this.eventManagers[y]){const{manager:R,promise:j}=this.eventManagers[y];return R?Promise.resolve(R):(N(j,"If manager is not set, promise should be"),j)}const E=this.initAndGetManager(m);return this.eventManagers[y]={promise:E},E.catch(()=>{delete this.eventManagers[y]}),E}initAndGetManager(m){var y=this;return(0,l.Z)(function*(){const E=yield function $_(b){return Cl.apply(this,arguments)}(m),R=new Ks(m);return E.register("authEvent",j=>(Y(null==j?void 0:j.authEvent,m,"invalid-auth-event"),{status:R.onEvent(j.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[m._key()]={manager:R},y.iframes[m._key()]=E,R})()}_isIframeWebStorageSupported(m,y){this.iframes[m._key()].send(pu,{type:pu},R=>{var j;const ge=null===(j=null==R?void 0:R[0])||void 0===j?void 0:j[pu];void 0!==ge&&y(!!ge),Be(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function du(b){return Wh.apply(this,arguments)}(m)),this.originValidationPromises[y]}get _shouldInitProactively(){return ji()||se()||$t()}};class gu extends class R0{constructor(m){this.factorId=m}_process(m,y,E){switch(y.type){case"enroll":return this._finalizeEnroll(m,y.credential,E);case"signin":return this._finalizeSignIn(m,y.credential);default:return ye("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new gu(m)}_finalizeEnroll(m,y,E){return function Bh(b,m){return hn(b,"POST","/v2/accounts/mfaEnrollment:finalize",Gt(b,m))}(m,{idToken:y,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,y){return function su(b,m){return hn(b,"POST","/v2/accounts/mfaSignIn:finalize",Gt(b,m))}(m,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let O0=(()=>{class b{constructor(){}static assertion(y){return gu._fromCredential(y)}}return b.FACTOR_ID="phone",b})();var Qh="@firebase/auth";class Y_{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var y=this;return(0,l.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const y=this.auth.onIdTokenChanged(E=>{var R;m((null===(R=E)||void 0===R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,y),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const y=this.internalListeners.get(m);!y||(this.internalListeners.delete(m),y(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function P0(b){(0,k._registerComponent)(new oe.wA("auth",(m,{options:y})=>{const E=m.getProvider("app").getImmediate(),R=m.getProvider("heartbeat"),{apiKey:j,authDomain:ge}=E.options;return((Ue,lt)=>{Y(j&&!j.includes(":"),"invalid-api-key",{appName:Ue.name}),Y(!(null==ge?void 0:ge.includes(":")),"argument-error",{appName:Ue.name});const wt={apiKey:j,authDomain:ge,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ii(b)},Zt=new fr(Ue,lt,wt);return function pe(b,m){const y=(null==m?void 0:m.persistence)||[],E=(Array.isArray(y)?y:[y]).map(W);(null==m?void 0:m.errorMap)&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(E,null==m?void 0:m.popupRedirectResolver)}(Zt,y),Zt})(E,R)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,y,E)=>{m.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new oe.wA("auth-internal",m=>{const y=qe(m.getProvider("auth").getImmediate());return new Y_(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(Qh,"0.20.2",function Q_(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,k.registerVersion)(Qh,"0.20.2","esm2017")}("Browser")},2090:(De,me,M)=>{"use strict";M.d(me,{$s:()=>Yt,BH:()=>Oe,DV:()=>hn,Dv:()=>Ni,GJ:()=>sn,L:()=>ee,LL:()=>X,Mn:()=>Re,Pz:()=>He,Sg:()=>Se,UG:()=>be,UI:()=>Gr,US:()=>oe,Wj:()=>Fn,Yr:()=>Je,ZB:()=>B,ZR:()=>pe,b$:()=>Be,cI:()=>dn,d:()=>_e,dS:()=>Rs,eu:()=>N,g5:()=>k,gK:()=>_i,gQ:()=>qn,h$:()=>K,hl:()=>ye,hu:()=>L,jU:()=>Ee,lb:()=>yi,m9:()=>yn,ne:()=>fs,p$:()=>H,pd:()=>$r,r3:()=>Gt,ru:()=>ke,tV:()=>le,uI:()=>Le,ug:()=>Kt,vZ:()=>Ui,w1:()=>$e,w9:()=>Pn,xO:()=>hs,xb:()=>Un,z$:()=>Me,zI:()=>G,zd:()=>Sr});const L=function(Q,re){if(!Q)throw k(re)},k=function(Q){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Q)},q=function(Q){const re=[];let ae=0;for(let xe=0;xe<Q.length;xe++){let ne=Q.charCodeAt(xe);ne<128?re[ae++]=ne:ne<2048?(re[ae++]=ne>>6|192,re[ae++]=63&ne|128):55296==(64512&ne)&&xe+1<Q.length&&56320==(64512&Q.charCodeAt(xe+1))?(ne=65536+((1023&ne)<<10)+(1023&Q.charCodeAt(++xe)),re[ae++]=ne>>18|240,re[ae++]=ne>>12&63|128,re[ae++]=ne>>6&63|128,re[ae++]=63&ne|128):(re[ae++]=ne>>12|224,re[ae++]=ne>>6&63|128,re[ae++]=63&ne|128)}return re},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,re){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ae=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,xe=[];for(let ne=0;ne<Q.length;ne+=3){const fe=Q[ne],je=ne+1<Q.length,tt=je?Q[ne+1]:0,vt=ne+2<Q.length,Pt=vt?Q[ne+2]:0;let li=(15&tt)<<2|Pt>>6,ve=63&Pt;vt||(ve=64,je||(li=64)),xe.push(ae[fe>>2],ae[(3&fe)<<4|tt>>4],ae[li],ae[ve])}return xe.join("")},encodeString(Q,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(Q):this.encodeByteArray(q(Q),re)},decodeString(Q,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(Q):function(Q){const re=[];let ae=0,xe=0;for(;ae<Q.length;){const ne=Q[ae++];if(ne<128)re[xe++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const fe=Q[ae++];re[xe++]=String.fromCharCode((31&ne)<<6|63&fe)}else if(ne>239&&ne<365){const vt=((7&ne)<<18|(63&Q[ae++])<<12|(63&Q[ae++])<<6|63&Q[ae++])-65536;re[xe++]=String.fromCharCode(55296+(vt>>10)),re[xe++]=String.fromCharCode(56320+(1023&vt))}else{const fe=Q[ae++],je=Q[ae++];re[xe++]=String.fromCharCode((15&ne)<<12|(63&fe)<<6|63&je)}}return re.join("")}(this.decodeStringToByteArray(Q,re))},decodeStringToByteArray(Q,re){this.init_();const ae=re?this.charToByteMapWebSafe_:this.charToByteMap_,xe=[];for(let ne=0;ne<Q.length;){const fe=ae[Q.charAt(ne++)],tt=ne<Q.length?ae[Q.charAt(ne)]:0;++ne;const Pt=ne<Q.length?ae[Q.charAt(ne)]:64;++ne;const It=ne<Q.length?ae[Q.charAt(ne)]:64;if(++ne,null==fe||null==tt||null==Pt||null==It)throw Error();xe.push(fe<<2|tt>>4),64!==Pt&&(xe.push(tt<<4&240|Pt>>2),64!==It&&xe.push(Pt<<6&192|It))}return xe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}},K=function(Q){const re=q(Q);return oe.encodeByteArray(re,!0)},ee=function(Q){return K(Q).replace(/\./g,"")},le=function(Q){try{return oe.decodeString(Q,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function H(Q){return B(void 0,Q)}function B(Q,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===Q&&(Q={});break;case Array:Q=[];break;default:return re}for(const ae in re)!re.hasOwnProperty(ae)||!$(ae)||(Q[ae]=B(Q[ae],re[ae]));return Q}function $(Q){return"__proto__"!==Q}class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((re,ae)=>{this.resolve=re,this.reject=ae})}wrapCallback(re){return(ae,xe)=>{ae?this.reject(ae):this.resolve(xe),"function"==typeof re&&(this.promise.catch(()=>{}),1===re.length?re(ae):re(ae,xe))}}}function Se(Q,re){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xe=re||"demo-project",ne=Q.iat||0,fe=Q.sub||Q.user_id;if(!fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const je=Object.assign({iss:`https://securetoken.google.com/${xe}`,aud:xe,iat:ne,exp:ne+3600,auth_time:ne,sub:fe,user_id:fe,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[ee(JSON.stringify({alg:"none",type:"JWT"})),ee(JSON.stringify(je)),""].join(".")}function Me(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Le(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Q){return!1}}function Ee(){return"object"==typeof self&&self.self===self}function ke(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function Be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _e(){return Me().indexOf("Electron/")>=0}function $e(){const Q=Me();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function Re(){return Me().indexOf("MSAppHost/")>=0}function Je(){return!1}function ye(){return"object"==typeof indexedDB}function N(){return new Promise((Q,re)=>{try{let ae=!0;const xe="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(xe);ne.onsuccess=()=>{ne.result.close(),ae||self.indexedDB.deleteDatabase(xe),Q(!0)},ne.onupgradeneeded=()=>{ae=!1},ne.onerror=()=>{var fe;re((null===(fe=ne.error)||void 0===fe?void 0:fe.message)||"")}}catch(ae){re(ae)}})}function G(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class pe extends Error{constructor(re,ae,xe){super(ae),this.code=re,this.customData=xe,this.name="FirebaseError",Object.setPrototypeOf(this,pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X.prototype.create)}}class X{constructor(re,ae,xe){this.service=re,this.serviceName=ae,this.errors=xe}create(re,...ae){const xe=ae[0]||{},ne=`${this.service}/${re}`,fe=this.errors[re],je=fe?function Ge(Q,re){return Q.replace(dt,(ae,xe)=>{const ne=re[xe];return null!=ne?String(ne):`<${xe}?>`})}(fe,xe):"Error";return new pe(ne,`${this.serviceName}: ${je} (${ne}).`,xe)}}const dt=/\{\$([^}]+)}/g;function dn(Q){return JSON.parse(Q)}function He(Q){return JSON.stringify(Q)}const ot=function(Q){let re={},ae={},xe={},ne="";try{const fe=Q.split(".");re=dn(le(fe[0])||""),ae=dn(le(fe[1])||""),ne=fe[2],xe=ae.d||{},delete ae.d}catch(fe){}return{header:re,claims:ae,data:xe,signature:ne}},Pn=function(Q){const ae=ot(Q).claims;return!!ae&&"object"==typeof ae&&ae.hasOwnProperty("iat")},sn=function(Q){const re=ot(Q).claims;return"object"==typeof re&&!0===re.admin};function Gt(Q,re){return Object.prototype.hasOwnProperty.call(Q,re)}function hn(Q,re){if(Object.prototype.hasOwnProperty.call(Q,re))return Q[re]}function Un(Q){for(const re in Q)if(Object.prototype.hasOwnProperty.call(Q,re))return!1;return!0}function Gr(Q,re,ae){const xe={};for(const ne in Q)Object.prototype.hasOwnProperty.call(Q,ne)&&(xe[ne]=re.call(ae,Q[ne],ne,Q));return xe}function Ui(Q,re){if(Q===re)return!0;const ae=Object.keys(Q),xe=Object.keys(re);for(const ne of ae){if(!xe.includes(ne))return!1;const fe=Q[ne],je=re[ne];if(zn(fe)&&zn(je)){if(!Ui(fe,je))return!1}else if(fe!==je)return!1}for(const ne of xe)if(!ae.includes(ne))return!1;return!0}function zn(Q){return null!==Q&&"object"==typeof Q}function hs(Q){const re=[];for(const[ae,xe]of Object.entries(Q))Array.isArray(xe)?xe.forEach(ne=>{re.push(encodeURIComponent(ae)+"="+encodeURIComponent(ne))}):re.push(encodeURIComponent(ae)+"="+encodeURIComponent(xe));return re.length?"&"+re.join("&"):""}function Sr(Q){const re={};return Q.replace(/^\?/,"").split("&").forEach(xe=>{if(xe){const[ne,fe]=xe.split("=");re[decodeURIComponent(ne)]=decodeURIComponent(fe)}}),re}function $r(Q){const re=Q.indexOf("?");if(!re)return"";const ae=Q.indexOf("#",re);return Q.substring(re,ae>0?ae:void 0)}class qn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let re=1;re<this.blockSize;++re)this.pad_[re]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(re,ae){ae||(ae=0);const xe=this.W_;if("string"==typeof re)for(let It=0;It<16;It++)xe[It]=re.charCodeAt(ae)<<24|re.charCodeAt(ae+1)<<16|re.charCodeAt(ae+2)<<8|re.charCodeAt(ae+3),ae+=4;else for(let It=0;It<16;It++)xe[It]=re[ae]<<24|re[ae+1]<<16|re[ae+2]<<8|re[ae+3],ae+=4;for(let It=16;It<80;It++){const li=xe[It-3]^xe[It-8]^xe[It-14]^xe[It-16];xe[It]=4294967295&(li<<1|li>>>31)}let Pt,gn,ne=this.chain_[0],fe=this.chain_[1],je=this.chain_[2],tt=this.chain_[3],vt=this.chain_[4];for(let It=0;It<80;It++){It<40?It<20?(Pt=tt^fe&(je^tt),gn=1518500249):(Pt=fe^je^tt,gn=1859775393):It<60?(Pt=fe&je|tt&(fe|je),gn=2400959708):(Pt=fe^je^tt,gn=3395469782);const li=(ne<<5|ne>>>27)+Pt+vt+gn+xe[It]&4294967295;vt=tt,tt=je,je=4294967295&(fe<<30|fe>>>2),fe=ne,ne=li}this.chain_[0]=this.chain_[0]+ne&4294967295,this.chain_[1]=this.chain_[1]+fe&4294967295,this.chain_[2]=this.chain_[2]+je&4294967295,this.chain_[3]=this.chain_[3]+tt&4294967295,this.chain_[4]=this.chain_[4]+vt&4294967295}update(re,ae){if(null==re)return;void 0===ae&&(ae=re.length);const xe=ae-this.blockSize;let ne=0;const fe=this.buf_;let je=this.inbuf_;for(;ne<ae;){if(0===je)for(;ne<=xe;)this.compress_(re,ne),ne+=this.blockSize;if("string"==typeof re){for(;ne<ae;)if(fe[je]=re.charCodeAt(ne),++je,++ne,je===this.blockSize){this.compress_(fe),je=0;break}}else for(;ne<ae;)if(fe[je]=re[ne],++je,++ne,je===this.blockSize){this.compress_(fe),je=0;break}}this.inbuf_=je,this.total_+=ae}digest(){const re=[];let ae=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ne=this.blockSize-1;ne>=56;ne--)this.buf_[ne]=255&ae,ae/=256;this.compress_(this.buf_);let xe=0;for(let ne=0;ne<5;ne++)for(let fe=24;fe>=0;fe-=8)re[xe]=this.chain_[ne]>>fe&255,++xe;return re}}function fs(Q,re){const ae=new bt(Q,re);return ae.subscribe.bind(ae)}class bt{constructor(re,ae){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ae,this.task.then(()=>{re(this)}).catch(xe=>{this.error(xe)})}next(re){this.forEachObserver(ae=>{ae.next(re)})}error(re){this.forEachObserver(ae=>{ae.error(re)}),this.close(re)}complete(){this.forEachObserver(re=>{re.complete()}),this.close()}subscribe(re,ae,xe){let ne;if(void 0===re&&void 0===ae&&void 0===xe)throw new Error("Missing Observer.");ne=function Nn(Q,re){if("object"!=typeof Q||null===Q)return!1;for(const ae of re)if(ae in Q&&"function"==typeof Q[ae])return!0;return!1}(re,["next","error","complete"])?re:{next:re,error:ae,complete:xe},void 0===ne.next&&(ne.next=cn),void 0===ne.error&&(ne.error=cn),void 0===ne.complete&&(ne.complete=cn);const fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch(je){}}),this.observers.push(ne),fe}unsubscribeOne(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(re){if(!this.finalized)for(let ae=0;ae<this.observers.length;ae++)this.sendOne(ae,re)}sendOne(re,ae){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[re])try{ae(this.observers[re])}catch(xe){"undefined"!=typeof console&&console.error&&console.error(xe)}})}close(re){this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cn(){}const Ni=function(Q,re,ae,xe){let ne;if(xe<re?ne="at least "+re:xe>ae&&(ne=0===ae?"none":"no more than "+ae),ne)throw new Error(Q+" failed: Was called with "+xe+(1===xe?" argument.":" arguments.")+" Expects "+ne+".")};function _i(Q,re){return`${Q} failed: ${re} argument `}function Fn(Q,re,ae,xe){if((!xe||ae)&&"function"!=typeof ae)throw new Error(_i(Q,re)+"must be a valid function.")}function yi(Q,re,ae,xe){if((!xe||ae)&&("object"!=typeof ae||null===ae))throw new Error(_i(Q,re)+"must be a valid context object.")}const Rs=function(Q){const re=[];let ae=0;for(let xe=0;xe<Q.length;xe++){let ne=Q.charCodeAt(xe);if(ne>=55296&&ne<=56319){const fe=ne-55296;xe++,L(xe<Q.length,"Surrogate pair missing trail surrogate."),ne=65536+(fe<<10)+(Q.charCodeAt(xe)-56320)}ne<128?re[ae++]=ne:ne<2048?(re[ae++]=ne>>6|192,re[ae++]=63&ne|128):ne<65536?(re[ae++]=ne>>12|224,re[ae++]=ne>>6&63|128,re[ae++]=63&ne|128):(re[ae++]=ne>>18|240,re[ae++]=ne>>12&63|128,re[ae++]=ne>>6&63|128,re[ae++]=63&ne|128)}return re},Kt=function(Q){let re=0;for(let ae=0;ae<Q.length;ae++){const xe=Q.charCodeAt(ae);xe<128?re++:xe<2048?re+=2:xe>=55296&&xe<=56319?(re+=4,ae++):re+=3}return re};function Yt(Q,re=1e3,ae=2){const xe=re*Math.pow(ae,Q),ne=Math.round(.5*xe*(Math.random()-.5)*2);return Math.min(144e5,xe+ne)}function yn(Q){return Q&&Q._delegate?Q._delegate:Q}},3746:(De,me,M)=>{"use strict";var l=M(5e3);let L=null;function k(){return L}const K=new l.OlP("DocumentToken");let ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function le(){return(0,l.LFG)(B)}()},providedIn:"platform"}),n})();const H=new l.OlP("Location Initialized");let B=(()=>{class n extends ee{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){$()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){$()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(K))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Oe(){return new B((0,l.LFG)(K))}()},providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function Se(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Me(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Le(n){return n&&"?"!==n[0]?"?"+n:n}let be=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ee(n){const e=(0,l.LFG)(K).location;return new Be((0,l.LFG)(ee),e&&e.origin||"")}()},providedIn:"root"}),n})();const ke=new l.OlP("appBaseHref");let Be=(()=>{class n extends be{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Se(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Le(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const c=this.prepareExternalUrl(r+Le(s));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){const c=this.prepareExternalUrl(r+Le(s));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ee),l.LFG(ke,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),_e=(()=>{class n extends be{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Se(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let c=this.prepareExternalUrl(r+Le(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){let c=this.prepareExternalUrl(r+Le(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ee),l.LFG(ke,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),$e=(()=>{class n{constructor(t,i){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Me(Y(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Le(i))}normalize(t){return n.stripTrailingSlash(function Je(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Y(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Le,n.joinWithSlash=Se,n.stripTrailingSlash=Me,n.\u0275fac=function(t){return new(t||n)(l.LFG(be),l.LFG(ee))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Re(){return new $e((0,l.LFG)(be),(0,l.LFG)(ee))}()},providedIn:"root"}),n})();function Y(n){return n.replace(/\/index.html$/,"")}var W=(()=>((W=W||{})[W.Format=0]="Format",W[W.Standalone=1]="Standalone",W))(),te=(()=>((te=te||{})[te.Narrow=0]="Narrow",te[te.Abbreviated=1]="Abbreviated",te[te.Wide=2]="Wide",te[te.Short=3]="Short",te))(),pe=(()=>((pe=pe||{})[pe.Short=0]="Short",pe[pe.Medium=1]="Medium",pe[pe.Long=2]="Long",pe[pe.Full=3]="Full",pe))(),X=(()=>((X=X||{})[X.Decimal=0]="Decimal",X[X.Group=1]="Group",X[X.List=2]="List",X[X.PercentSign=3]="PercentSign",X[X.PlusSign=4]="PlusSign",X[X.MinusSign=5]="MinusSign",X[X.Exponential=6]="Exponential",X[X.SuperscriptingExponent=7]="SuperscriptingExponent",X[X.PerMille=8]="PerMille",X[X.Infinity=9]="Infinity",X[X.NaN=10]="NaN",X[X.TimeSeparator=11]="TimeSeparator",X[X.CurrencyDecimal=12]="CurrencyDecimal",X[X.CurrencyGroup=13]="CurrencyGroup",X))();function sn(n,e){return Nn((0,l.cg1)(n)[l.wAp.DateFormat],e)}function Gt(n,e){return Nn((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function hn(n,e){return Nn((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function Un(n,e){const t=(0,l.cg1)(n),i=t[l.wAp.NumberSymbols][e];if(void 0===i){if(e===X.CurrencyDecimal)return t[l.wAp.NumberSymbols][X.Decimal];if(e===X.CurrencyGroup)return t[l.wAp.NumberSymbols][X.Group]}return i}function qn(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Nn(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function cn(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Fn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yi={},Rs=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Kt=(()=>((Kt=Kt||{})[Kt.Short=0]="Short",Kt[Kt.ShortGMT=1]="ShortGMT",Kt[Kt.Long=2]="Long",Kt[Kt.Extended=3]="Extended",Kt))(),gt=(()=>((gt=gt||{})[gt.FullYear=0]="FullYear",gt[gt.Month=1]="Month",gt[gt.Date=2]="Date",gt[gt.Hours=3]="Hours",gt[gt.Minutes=4]="Minutes",gt[gt.Seconds=5]="Seconds",gt[gt.FractionalSeconds=6]="FractionalSeconds",gt[gt.Day=7]="Day",gt))(),ct=(()=>((ct=ct||{})[ct.DayPeriods=0]="DayPeriods",ct[ct.Days=1]="Days",ct[ct.Months=2]="Months",ct[ct.Eras=3]="Eras",ct))();function xr(n,e,t,i){let r=function Pe(n){if(pt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,c=1]=n.split("-").map(h=>+h);return Ar(r,s-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(Fn))return function Qe(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,h=Number(n[5]||0)-i,p=Number(n[6]||0),_=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,c,h,p,_),e}(i)}const e=new Date(n);if(!pt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Yt(t,e)||e;let h,c=[];for(;e;){if(h=Rs.exec(e),!h){c.push(e);break}{c=c.concat(h.slice(1));const w=c.pop();if(!w)break;e=w}}let p=r.getTimezoneOffset();i&&(p=ve(i,p),r=function se(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function ce(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(ve(e,r)-r))}(r,i,!0));let _="";return c.forEach(w=>{const T=function li(n){if(It[n])return It[n];let e;switch(n){case"G":case"GG":case"GGG":e=ae(ct.Eras,te.Abbreviated);break;case"GGGG":e=ae(ct.Eras,te.Wide);break;case"GGGGG":e=ae(ct.Eras,te.Narrow);break;case"y":e=Q(gt.FullYear,1,0,!1,!0);break;case"yy":e=Q(gt.FullYear,2,0,!0,!0);break;case"yyy":e=Q(gt.FullYear,3,0,!1,!0);break;case"yyyy":e=Q(gt.FullYear,4,0,!1,!0);break;case"Y":e=gn(1);break;case"YY":e=gn(2,!0);break;case"YYY":e=gn(3);break;case"YYYY":e=gn(4);break;case"M":case"L":e=Q(gt.Month,1,1);break;case"MM":case"LL":e=Q(gt.Month,2,1);break;case"MMM":e=ae(ct.Months,te.Abbreviated);break;case"MMMM":e=ae(ct.Months,te.Wide);break;case"MMMMM":e=ae(ct.Months,te.Narrow);break;case"LLL":e=ae(ct.Months,te.Abbreviated,W.Standalone);break;case"LLLL":e=ae(ct.Months,te.Wide,W.Standalone);break;case"LLLLL":e=ae(ct.Months,te.Narrow,W.Standalone);break;case"w":e=Pt(1);break;case"ww":e=Pt(2);break;case"W":e=Pt(1,!0);break;case"d":e=Q(gt.Date,1);break;case"dd":e=Q(gt.Date,2);break;case"c":case"cc":e=Q(gt.Day,1);break;case"ccc":e=ae(ct.Days,te.Abbreviated,W.Standalone);break;case"cccc":e=ae(ct.Days,te.Wide,W.Standalone);break;case"ccccc":e=ae(ct.Days,te.Narrow,W.Standalone);break;case"cccccc":e=ae(ct.Days,te.Short,W.Standalone);break;case"E":case"EE":case"EEE":e=ae(ct.Days,te.Abbreviated);break;case"EEEE":e=ae(ct.Days,te.Wide);break;case"EEEEE":e=ae(ct.Days,te.Narrow);break;case"EEEEEE":e=ae(ct.Days,te.Short);break;case"a":case"aa":case"aaa":e=ae(ct.DayPeriods,te.Abbreviated);break;case"aaaa":e=ae(ct.DayPeriods,te.Wide);break;case"aaaaa":e=ae(ct.DayPeriods,te.Narrow);break;case"b":case"bb":case"bbb":e=ae(ct.DayPeriods,te.Abbreviated,W.Standalone,!0);break;case"bbbb":e=ae(ct.DayPeriods,te.Wide,W.Standalone,!0);break;case"bbbbb":e=ae(ct.DayPeriods,te.Narrow,W.Standalone,!0);break;case"B":case"BB":case"BBB":e=ae(ct.DayPeriods,te.Abbreviated,W.Format,!0);break;case"BBBB":e=ae(ct.DayPeriods,te.Wide,W.Format,!0);break;case"BBBBB":e=ae(ct.DayPeriods,te.Narrow,W.Format,!0);break;case"h":e=Q(gt.Hours,1,-12);break;case"hh":e=Q(gt.Hours,2,-12);break;case"H":e=Q(gt.Hours,1);break;case"HH":e=Q(gt.Hours,2);break;case"m":e=Q(gt.Minutes,1);break;case"mm":e=Q(gt.Minutes,2);break;case"s":e=Q(gt.Seconds,1);break;case"ss":e=Q(gt.Seconds,2);break;case"S":e=Q(gt.FractionalSeconds,1);break;case"SS":e=Q(gt.FractionalSeconds,2);break;case"SSS":e=Q(gt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ne(Kt.Short);break;case"ZZZZZ":e=ne(Kt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ne(Kt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ne(Kt.Long);break;default:return null}return It[n]=e,e}(w);_+=T?T(r,t,p):"''"===w?"'":w.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),_}function Ar(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Yt(n,e){const t=function dt(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(yi[t]=yi[t]||{},yi[t][e])return yi[t][e];let i="";switch(e){case"shortDate":i=sn(n,pe.Short);break;case"mediumDate":i=sn(n,pe.Medium);break;case"longDate":i=sn(n,pe.Long);break;case"fullDate":i=sn(n,pe.Full);break;case"shortTime":i=Gt(n,pe.Short);break;case"mediumTime":i=Gt(n,pe.Medium);break;case"longTime":i=Gt(n,pe.Long);break;case"fullTime":i=Gt(n,pe.Full);break;case"short":const r=Yt(n,"shortTime"),s=Yt(n,"shortDate");i=ps(hn(n,pe.Short),[r,s]);break;case"medium":const c=Yt(n,"mediumTime"),h=Yt(n,"mediumDate");i=ps(hn(n,pe.Medium),[c,h]);break;case"long":const p=Yt(n,"longTime"),_=Yt(n,"longDate");i=ps(hn(n,pe.Long),[p,_]);break;case"full":const w=Yt(n,"fullTime"),T=Yt(n,"fullDate");i=ps(hn(n,pe.Full),[w,T])}return i&&(yi[t][e]=i),i}function ps(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Zn(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=t));let c=String(n);for(;c.length<e;)c="0"+c;return i&&(c=c.substr(c.length-e)),s+c}function Q(n,e,t=0,i=!1,r=!1){return function(s,c){let h=function re(n,e){switch(n){case gt.FullYear:return e.getFullYear();case gt.Month:return e.getMonth();case gt.Date:return e.getDate();case gt.Hours:return e.getHours();case gt.Minutes:return e.getMinutes();case gt.Seconds:return e.getSeconds();case gt.FractionalSeconds:return e.getMilliseconds();case gt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||h>-t)&&(h+=t),n===gt.Hours)0===h&&-12===t&&(h=12);else if(n===gt.FractionalSeconds)return function yn(n,e){return Zn(n,3).substr(0,e)}(h,e);const p=Un(c,X.MinusSign);return Zn(h,e,p,i,r)}}function ae(n,e,t=W.Format,i=!1){return function(r,s){return function xe(n,e,t,i,r,s){switch(t){case ct.Months:return function ot(n,e,t){const i=(0,l.cg1)(n),s=Nn([i[l.wAp.MonthsFormat],i[l.wAp.MonthsStandalone]],e);return Nn(s,t)}(e,r,i)[n.getMonth()];case ct.Days:return function He(n,e,t){const i=(0,l.cg1)(n),s=Nn([i[l.wAp.DaysFormat],i[l.wAp.DaysStandalone]],e);return Nn(s,t)}(e,r,i)[n.getDay()];case ct.DayPeriods:const c=n.getHours(),h=n.getMinutes();if(s){const _=function fs(n){const e=(0,l.cg1)(n);return qn(e),(e[l.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?cn(i):[cn(i[0]),cn(i[1])])}(e),w=function bt(n,e,t){const i=(0,l.cg1)(n);qn(i);const s=Nn([i[l.wAp.ExtraData][0],i[l.wAp.ExtraData][1]],e)||[];return Nn(s,t)||[]}(e,r,i),T=_.findIndex(A=>{if(Array.isArray(A)){const[F,V]=A,ue=c>=F.hours&&h>=F.minutes,Ce=c<V.hours||c===V.hours&&h<V.minutes;if(F.hours<V.hours){if(ue&&Ce)return!0}else if(ue||Ce)return!0}else if(A.hours===c&&A.minutes===h)return!0;return!1});if(-1!==T)return w[T]}return function dn(n,e,t){const i=(0,l.cg1)(n),s=Nn([i[l.wAp.DayPeriodsFormat],i[l.wAp.DayPeriodsStandalone]],e);return Nn(s,t)}(e,r,i)[c<12?0:1];case ct.Eras:return function _n(n,e){return Nn((0,l.cg1)(n)[l.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,n,e,t,i)}}function ne(n){return function(e,t,i){const r=-1*i,s=Un(t,X.MinusSign),c=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Kt.Short:return(r>=0?"+":"")+Zn(c,2,s)+Zn(Math.abs(r%60),2,s);case Kt.ShortGMT:return"GMT"+(r>=0?"+":"")+Zn(c,1,s);case Kt.Long:return"GMT"+(r>=0?"+":"")+Zn(c,2,s)+":"+Zn(Math.abs(r%60),2,s);case Kt.Extended:return 0===i?"Z":(r>=0?"+":"")+Zn(c,2,s)+":"+Zn(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function vt(n){return Ar(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Pt(n,e=!1){return function(t,i){let r;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();r=1+Math.floor((c+s)/7)}else{const s=vt(t),c=function tt(n){const e=Ar(n,0,1).getDay();return Ar(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),h=s.getTime()-c.getTime();r=1+Math.round(h/6048e5)}return Zn(r,n,Un(i,X.MinusSign))}}function gn(n,e=!1){return function(t,i){return Zn(vt(t).getFullYear(),n,Un(i,X.MinusSign),e)}}const It={};function ve(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function pt(n){return n instanceof Date&&!isNaN(n.valueOf())}function No(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}let Wr=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class da{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dn=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new da(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,c),ao(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{ao(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ao(n,e){n.context.$implicit=e.item}let Ln=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new vn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Zu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Zu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class vn{constructor(){this.$implicit=null,this.ngIf=null}}function Zu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class Lo{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let pr=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Xi=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Lo(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(pr,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),qc=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();const Gp=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let ed=(()=>{class n{constructor(t,i){this.locale=t,this.defaultTimezone=i}transform(t,i="mediumDate",r,s){var c;if(null==t||""===t||t!=t)return null;try{return xr(t,i,s||this.locale,null!==(c=null!=r?r:this.defaultTimezone)&&void 0!==c?c:void 0)}catch(h){throw function ci(n,e){return new l.vHH(2100,"")}()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(Gp,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0}),n})(),Fi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const nd="browser";function Hi(n){return"server"===n}let zl=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Gl((0,l.LFG)(K),window)}),n})();class Gl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Bs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Zc(this.window.history)||Zc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Zc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Sn{}class uo extends class il extends class oe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function J(n){L||(L=n)}(new uo)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function $l(){return bn=bn||document.querySelector("base"),bn?bn.getAttribute("href"):null}();return null==t?null:function Bo(n){rl=rl||document.createElement("a"),rl.setAttribute("href",n);const e=rl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){bn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return No(document.cookie,e)}}let rl,bn=null;const Di=new l.OlP("TRANSITION_ID"),Yn=[{provide:l.ip1,useFactory:function Wl(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=k(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Di,K,l.zs3],multi:!0}];class Vs{static init(){(0,l.VLi)(new Vs)}addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const h=function(p){c=c||p,s--,0==s&&i(c)};r.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Si=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ga=new l.OlP("EventManagerPlugins");let ms=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ga),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Yc{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=k().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let gr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ho=(()=>{class n extends gr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(fo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(fo))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(K))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function fo(n){k().remove(n)}const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},sl=/%COMP%/g;function Ne(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Ne(n,r,t):(r=r.replace(sl,n),t.push(r))}return t}function Qt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let $n=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new po(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Jc(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case l.ifc.ShadowDom:return new Xc(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ne(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ms),l.LFG(ho),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class po{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ct[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Ct[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ct[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Qt(i)):this.eventManager.addEventListener(e,t,Qt(i))}}class Jc extends po{constructor(e,t,i,r){super(e),this.component=i;const s=Ne(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function ll(n){return"_ngcontent-%COMP%".replace(sl,n)}(r+"-"+i.id),this.hostAttr=function Ph(n){return"_nghost-%COMP%".replace(sl,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Xc extends po{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Ne(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const h=document.createElement("style");h.textContent=s[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ad=(()=>{class n extends Yc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(K))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ld=["alt","control","meta","shift"],ma={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Zr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let eu=(()=>{class n extends Yc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="";if(ld.forEach(p=>{const _=i.indexOf(p);_>-1&&(i.splice(_,1),c+=p+".")}),c+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=c,h}static getEventFullKey(t){let i="",r=function _s(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&vi.hasOwnProperty(e)&&(e=vi[e]))}return ma[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),ld.forEach(s=>{s!=r&&Zr[s](t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(K))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ud=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:nd},{provide:l.g9A,useValue:function Us(){uo.makeCurrent(),Vs.init()},multi:!0},{provide:K,useFactory:function cd(){return(0,l.RDi)(document),document},deps:[]}]),Vo=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function hl(){return new l.qLn},deps:[]},{provide:ga,useClass:ad,multi:!0,deps:[K,l.R0b,l.Lbi]},{provide:ga,useClass:eu,multi:!0,deps:[K]},{provide:$n,useClass:$n,deps:[ms,ho,l.AFp]},{provide:l.FYo,useExisting:$n},{provide:gr,useExisting:ho},{provide:ho,useClass:ho,deps:[K]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:ms,useClass:ms,deps:[ga,l.R0b]},{provide:Sn,useClass:Si,deps:[]}];let ql=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Di,useExisting:l.AFp},Yn]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:Vo,imports:[Fi,l.hGG]}),n})();"undefined"!=typeof window&&window;let tr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(gd),i},providedIn:"root"}),n})(),gd=(()=>{class n extends tr{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.yhl)(i),(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(K))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function va(n){return new gd(n.get(K))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var iu=M(127),Bt=M(7579),Gn=M(3269),Wn=M(8996);function ut(...n){const e=(0,Gn.yG)(n);return(0,Wn.D)(n,e)}var ti=M(8306),Kr=M(6451),zs=M(5363),mr=M(8421),qt=M(4482),Mn=M(5403);function kn(n,e){return(0,qt.e)((t,i)=>{let r=null,s=0,c=!1;const h=()=>c&&!r&&i.complete();t.subscribe(new Mn.Q(i,p=>{null==r||r.unsubscribe();let _=0;const w=s++;(0,mr.Xf)(n(p,w)).subscribe(r=new Mn.Q(i,T=>i.next(e?e(p,T,w,_++):T),()=>{r=null,h()}))},()=>{c=!0,h()}))})}var mt=M(4004),Yl=M(6063);class md extends Bt.x{constructor(e=1/0,t=1/0,i=Yl.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;t||(i.push(e),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!e.closed;c+=i?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=t.now();let h=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)h=p;h&&i.splice(0,h+1)}}}var Ql=M(3099);function Jl(n,e,t){var i,r;let s,c=!1;return n&&"object"==typeof n?(s=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,e=null!==(r=n.windowTime)&&void 0!==r?r:1/0,c=!!n.refCount,t=n.scheduler):s=null!=n?n:1/0,(0,Ql.B)({connector:()=>new md(s,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}const _r=(0,M(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function wn(n,e){return(0,qt.e)((t,i)=>{let r=0;t.subscribe(new Mn.Q(i,s=>n.call(e,s,r++)&&i.next(s)))})}var Bn=M(5698);function go(n){return(0,qt.e)((e,t)=>{let i=!1;e.subscribe(new Mn.Q(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function yr(n=Xl){return(0,qt.e)((e,t)=>{let i=!1;e.subscribe(new Mn.Q(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Xl(){return new _r}var Gs=M(4671);function vr(n,e){const t=arguments.length>=2;return i=>i.pipe(n?wn((r,s)=>n(r,s,i)):Gs.y,(0,Bn.q)(1),t?go(e):yr(()=>new _r))}var Rr=M(576);function ba(n,e){return(0,Rr.m)(e)?kn(()=>n,e):kn(()=>n)}var mo=M(9468),rn=M(5813),Mi=M(2011),Yr=M(5867);class zo{constructor(e){return e}}class ru{constructor(){return(0,Yr.C6)()}}const _o=new l.OlP("angularfire2._apps"),ou={provide:zo,useFactory:function wa(n){return n&&1===n.length?n[0]:new zo((0,Yr.Mq)())},deps:[[new l.FiY,_o]]},Ca={provide:ru,deps:[[new l.FiY,_o]]};function Go(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new zo(i)}}let yo=(()=>{class n{constructor(t){(0,Yr.KN)("angularfire",rn.q4.full,"core"),(0,Yr.KN)("angularfire",rn.q4.full,"app"),(0,Yr.KN)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[ou,Ca]}),n})();function Ea(n,...e){return{ngModule:yo,providers:[{provide:_o,useFactory:Go(n),multi:!0,deps:[l.R0b,l.zs3,rn.HU,...e]}]}}const Yp=(0,rn.u3)(Yr.ZF,!0);var it=M(9671),ki=M(9681),$s=M(4859),U=M(2090),vs=M(1877);const jh=new Map,yl={activated:!1,tokenObservers:[]},_d={initialized:!1,enabled:!1};function en(n){return jh.get(n)||yl}function zi(n,e){jh.set(n,e)}function vo(){return _d}class Wo{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,it.Z)(function*(){t.stop();try{t.pending=new U.BH,yield function tc(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new U.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ui=new U.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function lu(n){if(!en(n).activated)throw ui.create("use-before-activation",{appName:n.name})}function qo(n,e){return zh.apply(this,arguments)}function zh(){return(zh=(0,it.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const T=yield r.getHeartbeatsHeader();T&&(i["X-Firebase-Client"]=T)}const s={method:"POST",body:JSON.stringify(e),headers:i};let c,h;try{c=yield fetch(n,s)}catch(T){throw ui.create("fetch-network-error",{originalErrorMessage:T.message})}if(200!==c.status)throw ui.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(T){throw ui.create("fetch-parse-error",{originalErrorMessage:T.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw ui.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const _=1e3*Number(p[1]),w=Date.now();return{token:h.token,expireTimeMillis:w+_,issuedAtTimeMillis:w}})).apply(this,arguments)}function bo(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Zo="firebase-app-check-store";let bs=null;function Qr(){return bs||(bs=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(ui.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Zo,{keyPath:"compositeKey"})}}catch(t){e(ui.create("storage-open",{originalErrorMessage:t.message}))}}),bs)}function rc(){return(rc=(0,it.Z)(function*(n,e){const i=(yield Qr()).transaction(Zo,"readwrite"),s=i.objectStore(Zo).put({compositeKey:n,value:e});return new Promise((c,h)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var _;h(ui.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const Z=new vs.Yd("@firebase/app-check");function Fe(n,e){return(0,U.hl)()?function Da(n,e){return function vd(n,e){return rc.apply(this,arguments)}(function P(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Z.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function St(){return vo().enabled}function Ht(){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,it.Z)(function*(){const n=vo();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const hi={error:"UNKNOWN_ERROR"};function Zs(n){return U.US.encodeString(JSON.stringify(n),!1)}function Jr(n){return ws.apply(this,arguments)}function ws(){return(ws=(0,it.Z)(function*(n,e=!1){const t=n.app;lu(t);const i=en(t);let s,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&sc(p)&&(r=p)}if(!e&&r&&sc(r))return{token:r.token};let h,c=!1;if(St()){i.exchangeTokenPromise||(i.exchangeTokenPromise=qo(bo(t,yield Ht()),n.heartbeatServiceProvider).then(_=>(i.exchangeTokenPromise=void 0,_)),c=!0);const p=yield i.exchangeTokenPromise;return yield Fe(t,p),zi(t,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),c=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Z.warn(p.message):Z.error(p),s=p}return r?(h={token:r.token},zi(t,Object.assign(Object.assign({},i),{token:r})),yield Fe(t,r)):h=$h(s),c&&uu(t,h),h})).apply(this,arguments)}function Ks(n,e){const t=en(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),zi(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function wl(n){const{app:e}=n,t=en(e);let i=t.tokenRefresher;i||(i=function bd(n){const{app:e}=n;return new Wo((0,it.Z)(function*(){let i;if(i=en(e).token?yield Jr(n,!0):yield Jr(n),i.error)throw i.error}),()=>!0,()=>{const t=en(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),zi(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function uu(n,e){const t=en(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function sc(n){return n.expireTimeMillis-Date.now()>0}function $h(n){return{token:Zs(hi),error:n}}class H_{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=en(this.app);for(const t of e)Ks(this.app,t.next);return Promise.resolve()}}const Cs="app-check-internal";!function lc(){(0,ki._registerComponent)(new $s.wA("app-check",n=>function oc(n,e){return new H_(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Cs).initialize()})),(0,ki._registerComponent)(new $s.wA(Cs,n=>function du(n){return{getToken:e=>Jr(n,e),addTokenListener:e=>function wr(n,e,t,i){const{app:r}=n,s=en(r),c={next:t,error:i,type:e};if(zi(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&sc(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),wl(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>wl(n))}(n,"INTERNAL",e),removeTokenListener:e=>Ks(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ki.registerVersion)("@firebase/app-check","0.5.8")}();class cc{constructor(){return(0,rn.vb)("app-check")}}"undefined"!=typeof window&&window;const Ue=new l.OlP("angularfire2.auth.use-emulator"),lt=new l.OlP("angularfire2.auth.settings"),wt=new l.OlP("angularfire2.auth.tenant-id"),Zt=new l.OlP("angularfire2.auth.langugage-code"),Vn=new l.OlP("angularfire2.auth.use-device-language"),Xr=new l.OlP("angularfire.auth.persistence"),Ys=(n,e,t,i,r,s,c,h)=>(0,Mi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[_,w]of Object.entries(c))p.settings[_]=w;return h&&p.setPersistence(h),p},[t,i,r,s,c,h]);let uc=(()=>{class n{constructor(t,i,r,s,c,h,p,_,w,T,A,F){const V=new Bt.x,ue=ut(void 0).pipe((0,zs.Q)(c.outsideAngular),kn(()=>s.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,5881)))),(0,mt.U)(()=>(0,Mi.on)(t,s,i)),(0,mt.U)(Ce=>Ys(Ce,s,h,_,w,T,p,A)),Jl({bufferSize:1,refCount:!1}));if(Hi(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ut(null);else{ue.pipe(vr()).subscribe();const Ke=ue.pipe(kn(et=>et.getRedirectResult().then(Ut=>Ut,()=>null)),rn.iC,Jl({bufferSize:1,refCount:!1})),Xe=ue.pipe(kn(et=>new ti.y(Ut=>({unsubscribe:s.runOutsideAngular(()=>et.onAuthStateChanged(Lt=>Ut.next(Lt),Lt=>Ut.error(Lt),()=>Ut.complete()))})))),st=ue.pipe(kn(et=>new ti.y(Ut=>({unsubscribe:s.runOutsideAngular(()=>et.onIdTokenChanged(Lt=>Ut.next(Lt),Lt=>Ut.error(Lt),()=>Ut.complete()))}))));this.authState=Ke.pipe(ba(Xe),(0,mo.R)(c.outsideAngular),(0,zs.Q)(c.insideAngular)),this.user=Ke.pipe(ba(st),(0,mo.R)(c.outsideAngular),(0,zs.Q)(c.insideAngular)),this.idToken=this.user.pipe(kn(et=>et?(0,Wn.D)(et.getIdToken()):ut(null))),this.idTokenResult=this.user.pipe(kn(et=>et?(0,Wn.D)(et.getIdTokenResult()):ut(null))),this.credential=(0,Kr.T)(Ke,V,this.authState.pipe(wn(et=>!et))).pipe((0,mt.U)(et=>(null==et?void 0:et.user)?et:null),(0,mo.R)(c.outsideAngular),(0,zs.Q)(c.insideAngular))}return(0,Mi.pX)(this,ue,s,{spy:{apply:(Ce,Ke,Xe)=>{(Ce.startsWith("signIn")||Ce.startsWith("createUser"))&&Xe.then(st=>V.next(st))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mi.Dh),l.LFG(Mi.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(rn.HU),l.LFG(Ue,8),l.LFG(lt,8),l.LFG(wt,8),l.LFG(Zt,8),l.LFG(Vn,8),l.LFG(Xr,8),l.LFG(cc,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),J_=(()=>{class n{constructor(){iu.Z.registerVersion("angularfire",rn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[uc]}),n})();class Cr extends Bt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const{isArray:tg}=Array,{getPrototypeOf:ng,prototype:Jh,keys:ig}=Object;function Td(n){if(1===n.length){const e=n[0];if(tg(e))return{args:e,keys:null};if(function dc(n){return n&&"object"==typeof n&&ng(n)===Jh}(e)){const t=ig(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:Xh}=Array;function mu(n){return(0,mt.U)(e=>function ef(n,e){return Xh(e)?n(...e):n(e)}(n,e))}function ii(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var N0=M(9672);function rg(n,e,t){n?(0,N0.f)(t,n,e):e()}function tf(n,e){const t=(0,Rr.m)(n)?n:()=>n,i=r=>r.error(t());return new ti.y(e?r=>e.schedule(i,0,r):i)}var sg=M(8189);function og(...n){return function sS(){return(0,sg.J)(1)}()((0,Wn.D)(n,(0,Gn.yG)(n)))}function ag(n){return new ti.y(e=>{(0,mr.Xf)(n()).subscribe(e)})}var Id=M(515),Ko=M(727);function Dd(){return(0,qt.e)((n,e)=>{let t=null;n._refCount++;const i=new Mn.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class es extends ti.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,qt.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ko.w0;const t=this.getSubject();e.add(this.source.subscribe(new Mn.Q(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ko.w0.EMPTY)}return e}refCount(){return Dd()(this)}}function wo(...n){const e=(0,Gn.yG)(n);return(0,qt.e)((t,i)=>{(e?og(n,t,e):og(n,t)).subscribe(i)})}function F0(n,e,t,i,r){return(s,c)=>{let h=t,p=e,_=0;s.subscribe(new Mn.Q(c,w=>{const T=_++;p=h?n(p,w,T):(h=!0,w),i&&c.next(p)},r&&(()=>{h&&c.next(p),c.complete()})))}}function nf(n,e){return(0,qt.e)(F0(n,e,arguments.length>=2,!0))}function ri(n){return(0,qt.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe(new Mn.Q(t,void 0,void 0,c=>{s=(0,mr.Xf)(n(c,ri(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}var bi=M(5577);function hc(n,e){return(0,Rr.m)(e)?(0,bi.z)(n,e,1):(0,bi.z)(n,1)}function ey(n){return n<=0?()=>Id.E:(0,qt.e)((e,t)=>{let i=[];e.subscribe(new Mn.Q(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}var ir=M(8505);function L0(n){return(0,qt.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class Aa{constructor(e,t){this.id=e,this.url=t}}class ty extends Aa{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sd extends Aa{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class B0 extends Aa{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class aS extends Aa{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ny extends Aa{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lS extends Aa{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cS extends Aa{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class iy extends Aa{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uS extends Aa{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V0{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rf{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dS{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hS{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fS{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pS{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class U0{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const nn="primary";class gS{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function xd(n){return new gS(n)}const j0="ngNavigationCancelingError";function ry(n){const e=Error("NavigationCancelingError: "+n);return e[j0]=!0,e}function H0(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],h=n[s];if(c.startsWith(":"))r[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ma(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!_u(n[r],e[r]))return!1;return!0}function _u(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function Yo(n){return Array.prototype.concat.apply([],n)}function yS(n){return n.length>0?n[n.length-1]:null}function rr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Tl(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Wn.D)(Promise.resolve(n)):ut(n)}const sy={exact:function Ad(n,e,t){if(!pc(n.segments,e.segments)||!Md(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Ad(n.children[i],e.children[i],t))return!1;return!0},subset:oy},lg={exact:function G0(n,e){return Ma(n,e)},subset:function $0(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>_u(n[t],e[t]))},ignored:()=>!0};function z0(n,e,t){return sy[t.paths](n.root,e.root,t.matrixParams)&&lg[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function oy(n,e,t){return cg(n,e,e.segments,t)}function cg(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!pc(r,t)||e.hasChildren()||!Md(r,t,i))}if(n.segments.length===t.length){if(!pc(n.segments,t)||!Md(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!oy(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(pc(n.segments,r)&&Md(n.segments,r,i)&&n.children[nn])&&cg(n.children[nn],e,s,i)}}function Md(n,e,t){return e.every((i,r)=>lg[t](n[r].parameters,i.parameters))}class fc{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xd(this.queryParams)),this._queryParamMap}toString(){return bS.serialize(this)}}class fn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,rr(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dg(this)}}class Ra{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=xd(this.parameters)),this._parameterMap}toString(){return K0(this)}}function pc(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class ug{}class W0{parse(e){const t=new ES(e);return new fc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${sf(e.root,!0)}`,i=function Y0(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${hg(t)}=${hg(r)}`).join("&"):`${hg(t)}=${hg(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Z0(n){return encodeURI(n)}(e.fragment)}`:""}`}}const bS=new W0;function dg(n){return n.segments.map(e=>K0(e)).join("/")}function sf(n,e){if(!n.hasChildren())return dg(n);if(e){const t=n.children[nn]?sf(n.children[nn],!1):"",i=[];return rr(n.children,(r,s)=>{s!==nn&&i.push(`${s}:${sf(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function vS(n,e){let t=[];return rr(n.children,(i,r)=>{r===nn&&(t=t.concat(e(i,r)))}),rr(n.children,(i,r)=>{r!==nn&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===nn?[sf(n.children[nn],!1)]:[`${r}:${sf(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[nn]?`${dg(n)}/${t[0]}`:`${dg(n)}/(${t.join("//")})`}}function q0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hg(n){return q0(n).replace(/%3B/gi,";")}function af(n){return q0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lf(n){return decodeURIComponent(n)}function fg(n){return lf(n.replace(/\+/g,"%20"))}function K0(n){return`${af(n.path)}${function wS(n){return Object.keys(n).map(e=>`;${af(e)}=${af(n[e])}`).join("")}(n.parameters)}`}const Q0=/^[^\/()?;=#]+/;function Oa(n){const e=n.match(Q0);return e?e[0]:""}const J0=/^[^=?&#]+/,CS=/^[^&#]+/;class ES{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[nn]=new fn(e,t)),i}parseSegment(){const e=Oa(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ra(lf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Oa(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Oa(this.remaining);r&&(i=r,this.capture(i))}e[lf(t)]=lf(i)}parseQueryParam(e){const t=function X0(n){const e=n.match(J0);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function pg(n){const e=n.match(CS);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=fg(t),s=fg(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Oa(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=nn);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[nn]:new fn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ly{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=gg(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=gg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=mg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return mg(e,this._root).map(t=>t.value)}}function gg(n,e){if(n===e.value)return e;for(const t of e.children){const i=gg(n,t);if(i)return i}return null}function mg(n,e){if(n===e.value)return[e];for(const t of e.children){const i=mg(n,t);if(i.length)return i.unshift(e),i}return[]}class Qo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function yu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class cf extends ly{constructor(e,t){super(e),this.snapshot=t,_g(this,e)}toString(){return this.snapshot.toString()}}function uf(n,e){const t=function eC(n,e){const c=new gc([],{},{},"",{},nn,e,null,n.root,-1,{});return new tC("",new Qo(c,[]))}(n,e),i=new Cr([new Ra("",{})]),r=new Cr({}),s=new Cr({}),c=new Cr({}),h=new Cr(""),p=new Co(i,r,c,h,s,nn,e,t.root);return p.snapshot=t.root,new cf(new Qo(p,[]),t)}class Co{constructor(e,t,i,r,s,c,h,p){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=h,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(e=>xd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(e=>xd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function cy(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function uy(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class gc{constructor(e,t,i,r,s,c,h,p,_,w,T){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=h,this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=w,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tC extends ly{constructor(e,t){super(t),this.url=e,_g(this,t)}toString(){return nC(this._root)}}function _g(n,e){e.value._routerState=n,e.children.forEach(t=>_g(n,t))}function nC(n){const e=n.children.length>0?` { ${n.children.map(nC).join(", ")} } `:"";return`${n.value}${e}`}function dy(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ma(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ma(e.params,t.params)||n.params.next(t.params),function _S(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ma(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ma(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function yg(n,e){const t=Ma(n.params,e.params)&&function ay(n,e){return pc(n,e)&&n.every((t,i)=>Ma(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||yg(n.parent,e.parent))}function kd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function sN(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return kd(n,i,r);return kd(n,i)})}(n,e,t);return new Qo(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>kd(n,h)),c}}const i=function iC(n){return new Co(new Cr(n.url),new Cr(n.params),new Cr(n.queryParams),new Cr(n.fragment),new Cr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>kd(n,s));return new Qo(i,r)}}function df(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function hf(n){return"object"==typeof n&&null!=n&&n.outlets}function fy(n,e,t,i,r){let s={};if(i&&rr(i,(h,p)=>{s[p]=Array.isArray(h)?h.map(_=>`${_}`):`${h}`}),n===e)return new fc(t,s,r);const c=Eo(n,e,t);return new fc(c,s,r)}function Eo(n,e,t){const i={};return rr(n.children,(r,s)=>{i[s]=r===e?t:Eo(r,e,t)}),new fn(n.segments,i)}class rC{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&df(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(hf);if(r&&r!==yS(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class py{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function gy(n,e,t){if(n||(n=new fn([],{})),0===n.segments.length&&n.hasChildren())return vg(n,e,t);const i=function xS(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const c=n.segments[r],h=t[i];if(hf(h))break;const p=`${h}`,_=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!yy(p,_,c))return s;i+=2}else{if(!yy(p,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new fn(n.segments.slice(0,i.pathIndex),{});return s.children[nn]=new fn(n.segments.slice(i.pathIndex),n.children),vg(s,0,r)}return i.match&&0===r.length?new fn(n.segments,{}):i.match&&!n.hasChildren()?my(n,e,t):i.match?vg(n,0,r):my(n,e,t)}function vg(n,e,t){if(0===t.length)return new fn(n.segments,{});{const i=function SS(n){return hf(n[0])?n[0].outlets:{[nn]:n}}(t),r={};return rr(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=gy(n.children[c],e,s))}),rr(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new fn(n.segments,r)}}function my(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(hf(s)){const p=Vt(s.outlets);return new fn(i,p)}if(0===r&&df(t[0])){i.push(new Ra(n.segments[e].path,_y(t[0]))),r++;continue}const c=hf(s)?s.outlets[nn]:`${s}`,h=r<t.length-1?t[r+1]:null;c&&h&&df(h)?(i.push(new Ra(c,_y(h))),r+=2):(i.push(new Ra(c,{})),r++)}return new fn(i,{})}function Vt(n){const e={};return rr(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=my(new fn([],{}),0,t))}),e}function _y(n){const e={};return rr(n,(t,i)=>e[i]=`${t}`),e}function yy(n,e,t){return n==t.path&&Ma(e,t.parameters)}class bg{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),dy(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=yu(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),rr(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=yu(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=yu(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=yu(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new pS(s.value.snapshot))}),e.children.length&&this.forwardEvent(new hS(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(dy(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),dy(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=function Jo(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),p=h?h.module.componentFactoryResolver:null;c.attachRef=null,c.route=r,c.resolver=p,c.outlet&&c.outlet.activateWith(r,p),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class wg{constructor(e,t){this.routes=e,this.module=t}}function mc(n){return"function"==typeof n}function ts(n){return n instanceof fc}const Rd=Symbol("INITIAL_VALUE");function Cg(){return kn(n=>function rS(...n){const e=(0,Gn.yG)(n),t=(0,Gn.jO)(n),{args:i,keys:r}=Td(n);if(0===i.length)return(0,Wn.D)([],e);const s=new ti.y(function X_(n,e,t=Gs.y){return i=>{rg(e,()=>{const{length:r}=n,s=new Array(r);let c=r,h=r;for(let p=0;p<r;p++)rg(e,()=>{const _=(0,Wn.D)(n[p],e);let w=!1;_.subscribe(new Mn.Q(i,T=>{s[p]=T,w||(w=!0,h--),h||i.next(t(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>ii(r,c):Gs.y));return t?s.pipe(mu(t)):s}(n.map(e=>e.pipe((0,Bn.q)(1),wo(Rd)))).pipe(nf((e,t)=>{let i=!1;return t.reduce((r,s,c)=>r!==Rd?r:(s===Rd&&(i=!0),i||!1!==s&&c!==t.length-1&&!ts(s)?r:s),e)},Rd),wn(e=>e!==Rd),(0,mt.U)(e=>ts(e)?e:!0===e),(0,Bn.q)(1)))}class Eg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new _c,this.attachRef=null}}class _c{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Eg,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let ff=(()=>{class n{constructor(t,i,r,s,c){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=s||nn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,p=new Cy(t,h,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,p),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_c),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Cy{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Co?this.route:e===_c?this.childContexts:this.parent.get(e,t)}}let Tg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},directives:[ff],encapsulation:2}),n})();function AS(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];MS(i,kS(e,i))}}function MS(n,e){n.children&&AS(n.children,e)}function kS(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Ey(n){const e=n.children&&n.children.map(Ey),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==nn&&(t.component=Tg),t}function To(n){return n.outlet||nn}function Ty(n,e){const t=n.filter(i=>To(i)===e);return t.push(...n.filter(i=>To(i)!==e)),t}const RS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ig(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},RS):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||H0)(t,n,e);if(!s)return Object.assign({},RS);const c={};rr(s.posParams,(p,_)=>{c[_]=p.path});const h=s.consumed.length>0?Object.assign(Object.assign({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:h,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function Iy(n,e,t,i,r="corrected"){if(t.length>0&&function OS(n,e,t){return t.some(i=>Sy(n,e,i)&&To(i)!==nn)}(n,t,i)){const c=new fn(e,function cC(n,e,t,i){const r={};r[nn]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&To(s)!==nn){const c=new fn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[To(s)]=c}return r}(n,e,i,new fn(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function Dy(n,e,t){return t.some(i=>Sy(n,e,i))}(n,t,i)){const c=new fn(n.segments,function lC(n,e,t,i,r,s){const c={};for(const h of i)if(Sy(n,t,h)&&!r[To(h)]){const p=new fn([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:e.length,c[To(h)]=p}return Object.assign(Object.assign({},r),c)}(n,e,t,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const s=new fn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Sy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function PS(n,e,t,i){return!!(To(n)===i||i!==nn&&Sy(e,t,n))&&("**"===n.path||Ig(e,n,t).matched)}function NS(n,e,t){return 0===e.length&&!n.children[t]}class xy{constructor(e){this.segmentGroup=e||null}}class FS{constructor(e){this.urlTree=e}}function Dg(n){return tf(new xy(n))}function LS(n){return tf(new FS(n))}class yc{constructor(e,t,i,r,s){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(l.h0i)}apply(){const e=Iy(this.urlTree.root,[],[],this.config).segmentGroup,t=new fn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,nn).pipe((0,mt.U)(s=>this.createUrlTree(My(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ri(s=>{if(s instanceof FS)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof xy?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,nn).pipe((0,mt.U)(r=>this.createUrlTree(My(r),e.queryParams,e.fragment))).pipe(ri(r=>{throw r instanceof xy?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new fn([],{[nn]:e}):e;return new fc(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,mt.U)(s=>new fn([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Wn.D)(r).pipe(hc(s=>{const c=i.children[s],h=Ty(t,s);return this.expandSegmentGroup(e,h,c,s).pipe((0,mt.U)(p=>({segment:p,outlet:s})))}),nf((s,c)=>(s[c.outlet]=c.segment,s),{}),function oS(n,e){const t=arguments.length>=2;return i=>i.pipe(n?wn((r,s)=>n(r,s,i)):Gs.y,ey(1),t?go(e):yr(()=>new _r))}())}expandSegment(e,t,i,r,s,c){return(0,Wn.D)(i).pipe(hc(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,s,c).pipe(ri(_=>{if(_ instanceof xy)return ut(null);throw _}))),vr(h=>!!h),ri((h,p)=>{if(h instanceof _r||"EmptyError"===h.name)return NS(t,r,s)?ut(new fn([],{})):Dg(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,s,c,h){return PS(r,t,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c):Dg(t):Dg(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?LS(s):this.lineralizeSegments(i,s).pipe((0,bi.z)(c=>{const h=new fn(c,{});return this.expandSegment(e,h,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){const{matched:h,consumedSegments:p,remainingSegments:_,positionalParamSegments:w}=Ig(t,r,s);if(!h)return Dg(t);const T=this.applyRedirectCommands(p,r.redirectTo,w);return r.redirectTo.startsWith("/")?LS(T):this.lineralizeSegments(r,T).pipe((0,bi.z)(A=>this.expandSegment(e,t,i,A.concat(_),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?ut(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,mt.U)(T=>(i._loadedConfig=T,new fn(r,{})))):ut(new fn(r,{}));const{matched:c,consumedSegments:h,remainingSegments:p}=Ig(t,i,r);return c?this.getChildConfig(e,i,r).pipe((0,bi.z)(w=>{const T=w.module,A=w.routes,{segmentGroup:F,slicedSegments:V}=Iy(t,h,p,A),ue=new fn(F.segments,F.children);if(0===V.length&&ue.hasChildren())return this.expandChildren(T,A,ue).pipe((0,mt.U)(st=>new fn(h,st)));if(0===A.length&&0===V.length)return ut(new fn(h,{}));const Ce=To(i)===s;return this.expandSegment(T,ue,A,V,Ce?nn:s,!0).pipe((0,mt.U)(Xe=>new fn(h.concat(Xe.segments),Xe.children)))})):Dg(t)}getChildConfig(e,t,i){return t.children?ut(new wg(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ut(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,bi.z)(r=>r?this.configLoader.load(e.injector,t).pipe((0,mt.U)(s=>(t._loadedConfig=s,s))):function lN(n){return tf(ry(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ut(new wg([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?ut(r.map(c=>{const h=e.get(c);let p;if(function by(n){return n&&mc(n.canLoad)}(h))p=h.canLoad(t,i);else{if(!mc(h))throw new Error("Invalid CanLoad guard");p=h(t,i)}return Tl(p)})).pipe(Cg(),(0,ir.b)(c=>{if(!ts(c))return;const h=ry(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw h.url=c,h}),(0,mt.U)(c=>!0===c)):ut(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ut(i);if(r.numberOfChildren>1||!r.children[nn])return tf(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));r=r.children[nn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new fc(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return rr(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[s]=t[h]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let c={};return rr(t.children,(h,p)=>{c[p]=this.createSegmentGroup(e,h,i,r)}),new fn(s,c)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function My(n){const e={};for(const i of Object.keys(n.children)){const s=My(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function Ay(n){if(1===n.numberOfChildren&&n.children[nn]){const e=n.children[nn];return new fn(n.segments.concat(e.segments),e.children)}return n}(new fn(n.segments,e))}class Sg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class pf{constructor(e,t){this.component=e,this.route=t}}function ky(n,e,t){const i=n._root;return gf(i,e?e._root:null,t,[i.value])}function Xo(n,e,t){const i=function dC(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function gf(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=yu(e);return n.children.forEach(c=>{(function Ry(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function VS(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!pc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!pc(n.url,e.url)||!Ma(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yg(n,e)||!Ma(n.queryParams,e.queryParams);default:return!yg(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new Sg(i)):(s.data=c.data,s._resolvedData=c._resolvedData),gf(n,e,s.component?h?h.children:null:t,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new pf(h.outlet.component,c))}else c&&Od(e,h,r),r.canActivateChecks.push(new Sg(i)),gf(n,null,s.component?h?h.children:null:t,i,r)})(c,s[c.value.outlet],t,i.concat([c.value]),r),delete s[c.value.outlet]}),rr(s,(c,h)=>Od(c,t.getContext(h),r)),r}function Od(n,e,t){const i=yu(n),r=n.value;rr(i,(s,c)=>{Od(s,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new pf(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class HS{}function Py(n){return new ti.y(e=>e.error(n))}class Ny{constructor(e,t,i,r,s,c){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=c}recognize(){const e=Iy(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,nn);if(null===t)return null;const i=new gc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},nn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Qo(i,t),s=new tC(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,i=cy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const s of Object.keys(t.children)){const c=t.children[s],h=Ty(e,s),p=this.processSegmentGroup(h,c,s);if(null===p)return null;i.push(...p)}const r=pC(i);return function Fy(n){n.sort((e,t)=>e.value.outlet===nn?-1:t.value.outlet===nn?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const s of e){const c=this.processSegmentAgainstRoute(s,t,i,r);if(null!==c)return c}return NS(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!PS(e,t,i,r))return null;let s,c=[],h=[];if("**"===e.path){const F=i.length>0?yS(i).parameters:{};s=new gc(i,F,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,By(e),To(e),e.component,e,GS(t),Ly(t)+i.length,gC(e))}else{const F=Ig(t,e,i);if(!F.matched)return null;c=F.consumedSegments,h=F.remainingSegments,s=new gc(c,F.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,By(e),To(e),e.component,e,GS(t),Ly(t)+c.length,gC(e))}const p=function fC(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:_,slicedSegments:w}=Iy(t,c,h,p.filter(F=>void 0===F.redirectTo),this.relativeLinkResolution);if(0===w.length&&_.hasChildren()){const F=this.processChildren(p,_);return null===F?null:[new Qo(s,F)]}if(0===p.length&&0===w.length)return[new Qo(s,[])];const T=To(e)===r,A=this.processSegment(p,_,w,T?nn:r);return null===A?null:[new Qo(s,A)]}}function xg(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function pC(n){const e=[],t=new Set;for(const i of n){if(!xg(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=pC(i.children);e.push(new Qo(i.value,r))}return e.filter(i=>!t.has(i))}function GS(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ly(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function By(n){return n.data||{}}function gC(n){return n.resolve||{}}function _C(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function yC(n){return kn(e=>{const t=n(e);return t?(0,Wn.D)(t).pipe((0,mt.U)(()=>e)):ut(e)})}class dN extends class vC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Vy=new l.OlP("ROUTES");class Ag{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe((0,mt.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=s.create(e);return new wg(Yo(c.injector.get(Vy,void 0,l.XFs.Self|l.XFs.Optional)).map(Ey),c)}),ri(s=>{throw t._loader$=void 0,s}));return t._loader$=new es(r,()=>new Bt.x).pipe(Dd()),t._loader$}loadModuleFactory(e){return Tl(e()).pipe((0,bi.z)(t=>t instanceof l.YKP?ut(t):(0,Wn.D)(this.compiler.compileModuleAsync(t))))}}class ZS{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function KS(n){throw n}function YS(n,e,t){return e.parse("/")}function Uy(n,e){return ut(null)}const QS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Or=(()=>{class n{constructor(t,i,r,s,c,h,p){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Bt.x,this.errorHandler=KS,this.malformedUriErrorHandler=YS,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Uy,afterPreactivation:Uy},this.urlHandlingStrategy=new ZS,this.routeReuseStrategy=new dN,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(l.h0i),this.console=c.get(l.c2e);const T=c.get(l.R0b);this.isNgZoneEnabled=T instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function ka(){return new fc(new fn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ag(c,h,A=>this.triggerEvent(new V0(A)),A=>this.triggerEvent(new rf(A))),this.routerState=uf(this.currentUrlTree,this.rootComponentType),this.transitions=new Cr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(wn(r=>0!==r.id),(0,mt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),kn(r=>{let s=!1,c=!1;return ut(r).pipe((0,ir.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),kn(h=>{const p=this.browserUrlTree.toString(),_=!this.navigated||h.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return jy(h.source)&&(this.browserUrlTree=h.extractedUrl),ut(h).pipe(kn(T=>{const A=this.transitions.getValue();return i.next(new ty(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),A!==this.transitions.getValue()?Id.E:Promise.resolve(T)}),function uC(n,e,t,i){return kn(r=>function cN(n,e,t,i,r){return new yc(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,mt.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ir.b)(T=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:T.urlAfterRedirects})}),function mC(n,e,t,i,r){return(0,bi.z)(s=>function hC(n,e,t,i,r="emptyOnly",s="legacy"){try{const c=new Ny(n,e,t,i,r,s).recognize();return null===c?Py(new HS):ut(c)}catch(c){return Py(c)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),i,r).pipe((0,mt.U)(c=>Object.assign(Object.assign({},s),{targetSnapshot:c}))))}(this.rootComponentType,this.config,T=>this.serializeUrl(T),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ir.b)(T=>{if("eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const F=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(F,T)}this.browserUrlTree=T.urlAfterRedirects}const A=new ny(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);i.next(A)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:A,extractedUrl:F,source:V,restoredState:ue,extras:Ce}=h,Ke=new ty(A,this.serializeUrl(F),V,ue);i.next(Ke);const Xe=uf(F,this.rootComponentType).snapshot;return ut(Object.assign(Object.assign({},h),{targetSnapshot:Xe,urlAfterRedirects:F,extras:Object.assign(Object.assign({},Ce),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),Id.E}),yC(h=>{const{targetSnapshot:p,id:_,extractedUrl:w,rawUrl:T,extras:{skipLocationChange:A,replaceUrl:F}}=h;return this.hooks.beforePreactivation(p,{navigationId:_,appliedUrlTree:w,rawUrlTree:T,skipLocationChange:!!A,replaceUrl:!!F})}),(0,ir.b)(h=>{const p=new lS(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),(0,mt.U)(h=>Object.assign(Object.assign({},h),{guards:ky(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function US(n,e){return(0,bi.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?ut(Object.assign(Object.assign({},t),{guardsResult:!0})):function jS(n,e,t,i){return(0,Wn.D)(n).pipe((0,bi.z)(r=>function Fd(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ut(s.map(h=>{const p=Xo(h,e,r);let _;if(function oN(n){return n&&mc(n.canDeactivate)}(p))_=Tl(p.canDeactivate(n,e,t,i));else{if(!mc(p))throw new Error("Invalid CanDeactivate guard");_=Tl(p(n,e,t,i))}return _.pipe(vr())})).pipe(Cg()):ut(!0)}(r.component,r.route,t,e,i)),vr(r=>!0!==r,!0))}(c,i,r,n).pipe((0,bi.z)(h=>h&&function vy(n){return"boolean"==typeof n}(h)?function mf(n,e,t,i){return(0,Wn.D)(e).pipe(hc(r=>og(function Oy(n,e){return null!==n&&e&&e(new dS(n)),ut(!0)}(r.route.parent,i),function Pd(n,e){return null!==n&&e&&e(new fS(n)),ut(!0)}(r.route,i),function _f(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function BS(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>ag(()=>ut(c.guards.map(p=>{const _=Xo(p,c.node,t);let w;if(function wy(n){return n&&mc(n.canActivateChild)}(_))w=Tl(_.canActivateChild(i,n));else{if(!mc(_))throw new Error("Invalid CanActivateChild guard");w=Tl(_(i,n))}return w.pipe(vr())})).pipe(Cg())));return ut(s).pipe(Cg())}(n,r.path,t),function Nd(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ut(!0);const r=i.map(s=>ag(()=>{const c=Xo(s,e,t);let h;if(function aC(n){return n&&mc(n.canActivate)}(c))h=Tl(c.canActivate(e,n));else{if(!mc(c))throw new Error("Invalid CanActivate guard");h=Tl(c(e,n))}return h.pipe(vr())}));return ut(r).pipe(Cg())}(n,r.route,t))),vr(r=>!0!==r,!0))}(i,s,n,e):ut(h)),(0,mt.U)(h=>Object.assign(Object.assign({},t),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,ir.b)(h=>{if(ts(h.guardsResult)){const _=ry(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw _.url=h.guardsResult,_}const p=new cS(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(p)}),wn(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),yC(h=>{if(h.guards.canActivateChecks.length)return ut(h).pipe((0,ir.b)(p=>{const _=new iy(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),kn(p=>{let _=!1;return ut(p).pipe(function $S(n,e){return(0,bi.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ut(t);let s=0;return(0,Wn.D)(r).pipe(hc(c=>function WS(n,e,t,i){return function Qs(n,e,t,i){const r=_C(n);if(0===r.length)return ut({});const s={};return(0,Wn.D)(r).pipe((0,bi.z)(c=>function qS(n,e,t,i){const r=Xo(n,e,i);return Tl(r.resolve?r.resolve(e,t):r(e,t))}(n[c],e,t,i).pipe((0,ir.b)(h=>{s[c]=h}))),ey(1),(0,bi.z)(()=>_C(s).length===r.length?ut(s):Id.E))}(n._resolve,n,e,i).pipe((0,mt.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),cy(n,t).resolve),null)))}(c.route,i,n,e)),(0,ir.b)(()=>s++),ey(1),(0,bi.z)(c=>s===r.length?ut(t):Id.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ir.b)({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(p),this.cancelNavigationTransition(p,"At least one route resolver didn't emit any value."))}}))}),(0,ir.b)(p=>{const _=new uS(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}))}),yC(h=>{const{targetSnapshot:p,id:_,extractedUrl:w,rawUrl:T,extras:{skipLocationChange:A,replaceUrl:F}}=h;return this.hooks.afterPreactivation(p,{navigationId:_,appliedUrlTree:w,rawUrlTree:T,skipLocationChange:!!A,replaceUrl:!!F})}),(0,mt.U)(h=>{const p=function hy(n,e,t){const i=kd(n,e._root,t?t._root:void 0);return new cf(i,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:p})}),(0,ir.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,mt.U)(i=>(new bg(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,ir.b)({next(){s=!0},complete(){s=!0}}),L0(()=>{var h;s||c||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),ri(h=>{if(c=!0,function mS(n){return n&&n[j0]}(h)){const p=ts(h.url);p||(this.navigated=!0,this.restoreHistory(r,!0));const _=new B0(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(_),p?setTimeout(()=>{const w=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),T={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||jy(r.source)};this.scheduleNavigation(w,"imperative",null,T,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new aS(r.id,this.serializeUrl(r.extractedUrl),h);i.next(p);try{r.resolve(this.errorHandler(h))}catch(_){r.reject(_)}}return Id.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},c=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(c){const p=Object.assign({},c);delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,i,c,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){AS(t),this.config=t.map(Ey),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:h,preserveFragment:p}=i,_=r||this.routerState.root,w=p?this.currentUrlTree.fragment:c;let T=null;switch(h){case"merge":T=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=s||null}return null!==T&&(T=this.removeEmptyProps(T)),function TS(n,e,t,i,r){if(0===t.length)return fy(e.root,e.root,e.root,i,r);const s=function sC(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new rC(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return rr(s.outlets,(p,_)=>{h[_]="string"==typeof p?p.split("/"):p}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new rC(t,e,i)}(t);if(s.toRoot())return fy(e.root,e.root,new fn([],{}),i,r);const c=function IS(n,e,t){if(n.isAbsolute)return new py(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new py(s,s===e.root,0)}const i=df(n.commands[0])?0:1;return function DS(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new py(i,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,e,n),h=c.processChildren?vg(c.segmentGroup,c.index,s.commands):gy(c.segmentGroup,c.index,s.commands);return fy(e.root,c.segmentGroup,h,i,r)}(_,this.currentUrlTree,t,T,null!=w?w:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=ts(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function JS(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},QS):!1===i?Object.assign({},wC):i,ts(t))return z0(this.currentUrlTree,t,r);const s=this.parseUrl(t);return z0(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Sd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,c){var h,p;if(this.disposed)return Promise.resolve(!1);let _,w,T;c?(_=c.resolve,w=c.reject,T=c.promise):T=new Promise((V,ue)=>{_=V,w=ue});const A=++this.navigationId;let F;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),F=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(p=this.browserPageId)&&void 0!==p?p:0)+1):F=0,this.setTransition({id:A,targetPageId:F,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:_,reject:w,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(V=>Promise.reject(V))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===c?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new B0(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function jy(n){return"imperative"!==n}let Il=(()=>{class n{constructor(t,i,r,s,c){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this.commands=null,this.onChanges=new Bt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:ns(this.skipLocationChange),replaceUrl:ns(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ns(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Or),l.Y36(Co),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})();function ns(n){return""===n||!!n}class CC{}class Gy{preload(e,t){return ut(null)}}let EC=(()=>{class n{constructor(t,i,r,s){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=new Ag(r,i,p=>t.triggerEvent(new V0(p)),p=>t.triggerEvent(new rf(p)))}setUpPreloading(){this.subscription=this.router.events.pipe(wn(t=>t instanceof Sd),hc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(l.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const c=s._loadedConfig;r.push(this.processRoutes(c.module,c.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return(0,Wn.D)(r).pipe((0,sg.J)(),(0,mt.U)(s=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?ut(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,bi.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Or),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(CC))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),$y=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ty?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Sd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof U0&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new U0(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Dl=new l.OlP("ROUTER_CONFIGURATION"),TC=new l.OlP("ROUTER_FORROOT_GUARD"),ex=[$e,{provide:ug,useClass:W0},{provide:Or,useFactory:function nx(n,e,t,i,r,s,c={},h,p){const _=new Or(null,n,e,t,i,r,Yo(s));return h&&(_.urlHandlingStrategy=h),p&&(_.routeReuseStrategy=p),function ix(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,_),c.enableTracing&&_.events.subscribe(w=>{var T,A;null===(T=console.group)||void 0===T||T.call(console,`Router Event: ${w.constructor.name}`),console.log(w.toString()),console.log(w),null===(A=console.groupEnd)||void 0===A||A.call(console)}),_},deps:[ug,_c,$e,l.zs3,l.Sil,Vy,Dl,[class bC{},new l.FiY],[class uN{},new l.FiY]]},_c,{provide:Co,useFactory:function Ky(n){return n.routerState.root},deps:[Or]},EC,Gy,class hN{preload(e,t){return t().pipe(ri(()=>ut(null)))}},{provide:Dl,useValue:{enableTracing:!1}}];function Mg(){return new l.PXZ("Router",Or)}let yf=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[ex,Zy(t),{provide:TC,useFactory:qy,deps:[[Or,new l.FiY,new l.tp0]]},{provide:Dl,useValue:i||{}},{provide:be,useFactory:Wy,deps:[ee,[new l.tBr(ke),new l.FiY],Dl]},{provide:$y,useFactory:tx,deps:[Or,zl,Dl]},{provide:CC,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Gy},{provide:l.PXZ,multi:!0,useFactory:Mg},[IC,{provide:l.ip1,multi:!0,useFactory:rx,deps:[IC]},{provide:Yy,useFactory:DC,deps:[IC]},{provide:l.tb,multi:!0,useExisting:Yy}]]}}static forChild(t){return{ngModule:n,providers:[Zy(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(TC,8),l.LFG(Or,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function tx(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new $y(n,e,t)}function Wy(n,e,t={}){return t.useHash?new _e(n,e):new Be(n,e)}function qy(n){return"guarded"}function Zy(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:Vy,multi:!0,useValue:n}]}let IC=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Bt.x}appInitializer(){return this.injector.get(H,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),s=this.injector.get(Or),c=this.injector.get(Dl);return"disabled"===c.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ut(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(Dl),r=this.injector.get(EC),s=this.injector.get($y),c=this.injector.get(Or),h=this.injector.get(l.z2F);t===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&c.initialNavigation(),r.setUpPreloading(),s.init(),c.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function rx(n){return n.appInitializer.bind(n)}function DC(n){return n.bootstrapListener.bind(n)}const Yy=new l.OlP("Router Initializer");let kg=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.signedIn=!1,this.auth.authState.subscribe(r=>{console.log(r,"auth"),this.authState=r,this.signedIn=!!r,this.router.navigateByUrl("/")}),t.credential.subscribe(r=>{console.log(r,"cred")})}loginWithGoogle(){this.auth.signInWithPopup(new iu.Z.auth.GoogleAuthProvider)}login(t){}logout(){this.auth.signOut().then(t=>{console.log(t),this.router.navigateByUrl("/auth")})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(uc),l.LFG(Or))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Pa(...n){const e=(0,Gn.jO)(n),{args:t,keys:i}=Td(n),r=new ti.y(s=>{const{length:c}=t;if(!c)return void s.complete();const h=new Array(c);let p=c,_=c;for(let w=0;w<c;w++){let T=!1;(0,mr.Xf)(t[w]).subscribe(new Mn.Q(s,A=>{T||(T=!0,_--),h[w]=A},()=>p--,void 0,()=>{(!p||!T)&&(_||s.next(i?ii(i,h):h),s.complete())}))}});return e?r.pipe(mu(e)):r}let vf=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),vu=(()=>{class n extends vf{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Io=new l.OlP("NgValueAccessor"),xC={provide:Io,useExisting:(0,l.Gpc)(()=>Ld),multi:!0},bf=new l.OlP("CompositionEventMode");let Ld=(()=>{class n extends vf{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Qy(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(bf,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[l._Bn([xC]),l.qOj]}),n})();function Na(n){return null==n||0===n.length}function Jy(n){return null!=n&&"number"==typeof n.length}const $i=new l.OlP("NgValidators"),Sl=new l.OlP("NgAsyncValidators"),ox=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Xy{static min(e){return function AC(n){return e=>{if(Na(e.value)||Na(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function MC(n){return e=>{if(Na(e.value)||Na(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function ev(n){return Na(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function bu(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function tv(n){return Na(n.value)||ox.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function kC(n){return e=>Na(e.value)||!Jy(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function RC(n){return e=>Jy(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function wu(n){if(!n)return Og;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Na(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return rv(e)}static composeAsync(e){return sv(e)}}function Og(n){return null}function OC(n){return null!=n}function PC(n){const e=(0,l.QGY)(n)?(0,Wn.D)(n):n;return(0,l.CqO)(e),e}function NC(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ea(n,e){return e.map(t=>t(n))}function iv(n){return n.map(e=>function nv(n){return!n.validate}(e)?e:t=>e.validate(t))}function rv(n){if(!n)return null;const e=n.filter(OC);return 0==e.length?null:function(t){return NC(ea(t,e))}}function Pg(n){return null!=n?rv(iv(n)):null}function sv(n){if(!n)return null;const e=n.filter(OC);return 0==e.length?null:function(t){return Pa(ea(t,e).map(PC)).pipe((0,mt.U)(NC))}}function ov(n){return null!=n?sv(iv(n)):null}function FC(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function LC(n){return n._rawValidators}function BC(n){return n._rawAsyncValidators}function Ng(n){return n?Array.isArray(n)?n:[n]:[]}function av(n,e){return Array.isArray(n)?n.includes(e):n===e}function lv(n,e){const t=Ng(e);return Ng(n).forEach(r=>{av(t,r)||t.push(r)}),t}function VC(n,e){return Ng(e).filter(t=>!av(n,t))}class UC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Pg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ov(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class vc extends UC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Es extends UC{get formDirective(){return null}get path(){return null}}let wf=(()=>{class n extends class Fg{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(vc,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[l.qOj]}),n})();function Cf(n,e){Eu(n,e),e.valueAccessor.writeValue(n.value),function px(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ta(n,e)})}(n,e),function Ef(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function dv(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ta(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function fx(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Cu(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Vg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function xl(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Eu(n,e){const t=LC(n);null!==e.validator?n.setValidators(FC(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=BC(n);null!==e.asyncValidator?n.setAsyncValidators(FC(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();xl(e._rawValidators,r),xl(e._rawAsyncValidators,r)}function Vg(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=LC(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=BC(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return xl(e._rawValidators,i),xl(e._rawAsyncValidators,i),t}function ta(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Er(n,e){Eu(n,e)}function Iu(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Cc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Fa="VALID",Df="INVALID",Du="PENDING",Vd="DISABLED";function jg(n){return(Sf(n)?n.validators:n)||null}function fv(n){return Array.isArray(n)?Pg(n):n||null}function Hg(n,e){return(Sf(e)?e.asyncValidators:n)||null}function pv(n){return Array.isArray(n)?ov(n):n||null}function Sf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const $C=n=>n instanceof yv,zg=n=>n instanceof vv;function gv(n){return $C(n)?n.value:n.getRawValue()}function mv(n,e){const t=zg(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[e])throw new l.vHH(1001,"")}function WC(n,e){zg(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new l.vHH(1002,"")})}class _v{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=fv(this._rawValidators),this._composedAsyncValidatorFn=pv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Fa}get invalid(){return this.status===Df}get pending(){return this.status==Du}get disabled(){return this.status===Vd}get enabled(){return this.status!==Vd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=fv(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=pv(e)}addValidators(e){this.setValidators(lv(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(lv(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(VC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(VC(e,this._rawAsyncValidators))}hasValidator(e){return av(this._rawValidators,e)}hasAsyncValidator(e){return av(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Du,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Vd,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Fa,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fa||this.status===Du)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vd:Fa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Du,this._hasOwnPendingAsyncValidator=!0;const t=PC(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function GC(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=zg(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof qC)(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Vd:this.errors?Df:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Du)?Du:this._anyControlsHaveStatus(Df)?Df:Fa}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class yv extends _v{constructor(e=null,t,i){super(jg(t),Hg(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sf(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Cc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Cc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class vv extends _v{constructor(e,t,i){super(jg(t),Hg(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){WC(this,e),Object.keys(e).forEach(i=>{mv(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=gv(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class qC extends _v{constructor(e,t,i){super(jg(t),Hg(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){WC(this,e),e.forEach((i,r)=>{mv(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>gv(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const mx={provide:Es,useExisting:(0,l.Gpc)(()=>bv)},xf=(()=>Promise.resolve(null))();let bv=(()=>{class n extends Es{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new vv({},Pg(t),ov(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){xf.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Cf(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){xf.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){xf.then(()=>{const i=this._findContainer(t.path),r=new vv({});Er(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){xf.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){xf.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Iu(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($i,10),l.Y36(Sl,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([mx]),l.qOj]}),n})();const yx={provide:vc,useExisting:(0,l.Gpc)(()=>Gg)},wv=(()=>Promise.resolve(null))();let Gg=(()=>{class n extends vc{constructor(t,i,r,s,c){super(),this._changeDetectorRef=c,this.control=new yv,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function wc(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Ld?t=s:function Bd(n){return Object.getPrototypeOf(n.constructor)===vu}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function bc(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Cf(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){wv.then(()=>{var i;this.control.setValue(t,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;wv.then(()=>{var s;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(t){return this._parent?function Bg(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Es,9),l.Y36($i,10),l.Y36(Sl,10),l.Y36(Io,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([yx]),l.qOj,l.TTD]}),n})();const Ud={provide:Io,useExisting:(0,l.Gpc)(()=>Cv),multi:!0};let Cv=(()=>{class n extends vu{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[l._Bn([Ud]),l.qOj]}),n})(),Ev=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const wx={provide:Es,useExisting:(0,l.Gpc)(()=>Af)};let Af=(()=>{class n extends Es{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Cf(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Cu(t.control||null,t,!1),Cc(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Iu(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(Cu(i||null,t),$C(r)&&(Cf(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);Er(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function Tu(n,e){return Vg(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Eu(this.form,this),this._oldForm&&Vg(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($i,10),l.Y36(Sl,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([wx]),l.qOj,l.TTD]}),n})(),uE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Ev]]}),n})(),Xg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[uE]}),n})();class dE{}class Nv{}class Al{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Al?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Al;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Al?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===s.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Wi{encodeKey(e){return Fv(e)}encodeValue(e){return Fv(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Ox=/%(\d[a-f0-9])/gi,Px={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Fv(n){return encodeURIComponent(n).replace(Ox,(e,t)=>{var i;return null!==(i=Px[t])&&void 0!==i?i:e})}function fE(n){return`${n}`}class Ml{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Wi,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function hE(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,h]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],p=t.get(c)||[];p.push(h),t.set(c,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ml({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(fE(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(fE(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Hd{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function pE(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Lv(n){return"undefined"!=typeof Blob&&n instanceof Blob}function gE(n){return"undefined"!=typeof FormData&&n instanceof FormData}class em{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Fx(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Al),this.context||(this.context=new Hd),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new Ml,this.urlWithParams=t}serializeBody(){return null===this.body?null:pE(this.body)||Lv(this.body)||gE(this.body)||function mE(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ml?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gE(this.body)?null:Lv(this.body)?this.body.type||null:pE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ml?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,h=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,w=e.params||this.params;const T=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((A,F)=>A.set(F,e.setHeaders[F]),_)),e.setParams&&(w=Object.keys(e.setParams).reduce((A,F)=>A.set(F,e.setParams[F]),w)),new em(i,r,c,{params:w,headers:_,context:T,reportProgress:p,responseType:s,withCredentials:h})}}var wi=(()=>((wi=wi||{})[wi.Sent=0]="Sent",wi[wi.UploadProgress=1]="UploadProgress",wi[wi.ResponseHeader=2]="ResponseHeader",wi[wi.DownloadProgress=3]="DownloadProgress",wi[wi.Response=4]="Response",wi[wi.User=5]="User",wi))();class Pf{constructor(e,t=200,i="OK"){this.headers=e.headers||new Al,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class So extends Pf{constructor(e={}){super(e),this.type=wi.ResponseHeader}clone(e={}){return new So({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class tm extends Pf{constructor(e={}){super(e),this.type=wi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new tm({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _E extends Pf{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function xo(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ts=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof em)s=t;else{let p,_;p=r.headers instanceof Al?r.headers:new Al(r.headers),r.params&&(_=r.params instanceof Ml?r.params:new Ml({fromObject:r.params})),s=new em(t,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=ut(s).pipe(hc(p=>this.handler.handle(p)));if(t instanceof em||"events"===r.observe)return c;const h=c.pipe(wn(p=>p instanceof tm));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,mt.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,mt.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,mt.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,mt.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Ml).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,xo(r,i))}post(t,i,r={}){return this.request("POST",t,xo(r,i))}put(t,i,r={}){return this.request("PUT",t,xo(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(dE))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Ao{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Bv=new l.OlP("HTTP_INTERCEPTORS");let yE=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Bx=/^\)\]\}',?\n/;let Vv=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ti.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((F,V)=>r.setRequestHeader(F,V.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const F=t.detectContentTypeHeader();null!==F&&r.setRequestHeader("Content-Type",F)}if(t.responseType){const F=t.responseType.toLowerCase();r.responseType="json"!==F?F:"text"}const s=t.serializeBody();let c=null;const h=()=>{if(null!==c)return c;const F=r.statusText||"OK",V=new Al(r.getAllResponseHeaders()),ue=function bE(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return c=new So({headers:V,status:r.status,statusText:F,url:ue}),c},p=()=>{let{headers:F,status:V,statusText:ue,url:Ce}=h(),Ke=null;204!==V&&(Ke=void 0===r.response?r.responseText:r.response),0===V&&(V=Ke?200:0);let Xe=V>=200&&V<300;if("json"===t.responseType&&"string"==typeof Ke){const st=Ke;Ke=Ke.replace(Bx,"");try{Ke=""!==Ke?JSON.parse(Ke):null}catch(et){Ke=st,Xe&&(Xe=!1,Ke={error:et,text:Ke})}}Xe?(i.next(new tm({body:Ke,headers:F,status:V,statusText:ue,url:Ce||void 0})),i.complete()):i.error(new _E({error:Ke,headers:F,status:V,statusText:ue,url:Ce||void 0}))},_=F=>{const{url:V}=h(),ue=new _E({error:F,status:r.status||0,statusText:r.statusText||"Unknown Error",url:V||void 0});i.error(ue)};let w=!1;const T=F=>{w||(i.next(h()),w=!0);let V={type:wi.DownloadProgress,loaded:F.loaded};F.lengthComputable&&(V.total=F.total),"text"===t.responseType&&!!r.responseText&&(V.partialText=r.responseText),i.next(V)},A=F=>{let V={type:wi.UploadProgress,loaded:F.loaded};F.lengthComputable&&(V.total=F.total),i.next(V)};return r.addEventListener("load",p),r.addEventListener("error",_),r.addEventListener("timeout",_),r.addEventListener("abort",_),t.reportProgress&&(r.addEventListener("progress",T),null!==s&&r.upload&&r.upload.addEventListener("progress",A)),r.send(s),i.next({type:wi.Sent}),()=>{r.removeEventListener("error",_),r.removeEventListener("abort",_),r.removeEventListener("load",p),r.removeEventListener("timeout",_),t.reportProgress&&(r.removeEventListener("progress",T),null!==s&&r.upload&&r.upload.removeEventListener("progress",A)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Sn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const zd=new l.OlP("XSRF_COOKIE_NAME"),Uv=new l.OlP("XSRF_HEADER_NAME");class jv{}let wE=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=No(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(K),l.LFG(l.Lbi),l.LFG(zd))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Nf=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(jv),l.LFG(Uv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),im=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(Bv,[]);this.chain=i.reduceRight((r,s)=>new Ao(r,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Nv),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),CE=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Nf,useClass:yE}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:zd,useValue:t.cookieName}:[],t.headerName?{provide:Uv,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Nf,{provide:Bv,useExisting:Nf,multi:!0},{provide:jv,useClass:wE},{provide:zd,useValue:"XSRF-TOKEN"},{provide:Uv,useValue:"X-XSRF-TOKEN"}]}),n})(),EE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Ts,{provide:dE,useClass:im},Vv,{provide:Nv,useExisting:Vv}],imports:[[CE.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var Hv=M(655);var $d=(()=>{return(n=$d||($d={}))[n.Text=1]="Text",n[n.File=2]="File",n[n.Image=3]="Image",$d;var n})();class qv{constructor(){this.type=$d.Text}}var sr=(()=>{return(n=sr||(sr={}))[n.Online=0]="Online",n[n.Busy=1]="Busy",n[n.Away=2]="Away",n[n.Offline=3]="Offline",sr;var n})(),pi=(()=>{return(n=pi||(pi={}))[n.User=0]="User",n[n.Group=1]="Group",pi;var n})();class LE{}let Zv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Fi,Xg,EE]]}),n})();var Wd=M(4986),cm=M(5032);function um(n){return(0,mt.U)(()=>n)}function zE(n,e){return e?t=>og(e.pipe((0,Bn.q)(1),function vA(){return(0,qt.e)((n,e)=>{n.subscribe(new Mn.Q(e,cm.Z))})}()),t.pipe(zE(n))):(0,bi.z)((t,i)=>n(t,i).pipe((0,Bn.q)(1),um(t)))}var bA=M(3532);function wA(n=0,e,t=Wd.P){let i=-1;return null!=e&&((0,bA.K)(e)?t=e:i=e),new ti.y(r=>{let s=function ON(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function GE(n,e=Wd.z){const t=wA(n,e);return zE(()=>t)}class Ic extends class fi{constructor(){this.friendsListChangedHandler=e=>{},this.messageReceivedHandler=(e,t)=>{}}onFriendsListChanged(e){this.friendsListChangedHandler(e)}onMessageReceived(e,t){this.messageReceivedHandler(e,t)}}{listFriends(){return ut(Ic.mockedParticipants.map(e=>{let t=new LE;return t.participant=e,t.metadata={totalUnreadMessages:Math.floor(10*Math.random())},t}))}getMessageHistory(e){let t;return t=[{fromId:1,toId:999,message:"Hi there, just type any message bellow to test this Angular module.",dateSent:new Date}],ut(t).pipe(GE(2e3))}sendMessage(e){setTimeout(()=>{let t=new qv;if(t.message="You have typed '"+e.message+"'",t.dateSent=new Date,isNaN(e.toId)){let i=Ic.mockedParticipants.find(s=>s.id==e.toId),r=Math.floor(Math.random()*i.chattingTo.length);t.fromId=i.chattingTo[r].id,t.toId=e.toId,this.onMessageReceived(i,t)}else{t.fromId=e.toId,t.toId=e.fromId;let i=Ic.mockedParticipants.find(r=>r.id==t.fromId);this.onMessageReceived(i,t)}},1e3)}groupCreated(e){Ic.mockedParticipants.push(e),Ic.mockedParticipants=Ic.mockedParticipants.sort((t,i)=>i.displayName>t.displayName?-1:1),this.listFriends().subscribe(t=>{this.onFriendsListChanged(t)})}}Ic.mockedParticipants=[{participantType:pi.User,id:1,displayName:"Arya Stark",avatar:"https://66.media.tumblr.com/avatar_9dd9bb497b75_128.pnj",status:sr.Online},{participantType:pi.User,id:2,displayName:"Cersei Lannister",avatar:null,status:sr.Online},{participantType:pi.User,id:3,displayName:"Daenerys Targaryen",avatar:"https://68.media.tumblr.com/avatar_d28d7149f567_128.png",status:sr.Busy},{participantType:pi.User,id:4,displayName:"Eddard Stark",avatar:"https://pbs.twimg.com/profile_images/600707945911844864/MNogF757_400x400.jpg",status:sr.Offline},{participantType:pi.User,id:5,displayName:"Hodor",avatar:"https://pbs.twimg.com/profile_images/378800000449071678/27f2e27edd119a7133110f8635f2c130.jpeg",status:sr.Offline},{participantType:pi.User,id:6,displayName:"Jaime Lannister",avatar:"https://pbs.twimg.com/profile_images/378800000243930208/4fa8efadb63777ead29046d822606a57.jpeg",status:sr.Busy},{participantType:pi.User,id:7,displayName:"John Snow",avatar:"https://pbs.twimg.com/profile_images/3456602315/aad436e6fab77ef4098c7a5b86cac8e3.jpeg",status:sr.Busy},{participantType:pi.User,id:8,displayName:"Lorde Petyr 'Littlefinger' Baelish",avatar:"http://68.media.tumblr.com/avatar_ba75cbb26da7_128.png",status:sr.Offline},{participantType:pi.User,id:9,displayName:"Sansa Stark",avatar:"http://pm1.narvii.com/6201/dfe7ad75cd32130a5c844d58315cbca02fe5b804_128.jpg",status:sr.Online},{participantType:pi.User,id:10,displayName:"Theon Greyjoy",avatar:"https://thumbnail.myheritageimages.com/502/323/78502323/000/000114_884889c3n33qfe004v5024_C_64x64C.jpg",status:sr.Away}];const $E=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function dm(){return(0,l.f3M)(K)}}),CA=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Kv,Dc=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new l.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function EA(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?CA.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($E,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();try{Kv="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Kv=!1}let Au,is=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Li(n){return n===nd}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Kv)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qE=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ZE(){if(Au)return Au;if("object"!=typeof document||!document)return Au=new Set(qE),Au;let n=document.createElement("input");return Au=new Set(qE.filter(e=>(n.setAttribute("type",e),n.type===e))),Au}let La,fm,Sc,Yv;function qd(n){return function TA(){if(null==La&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>La=!0}))}finally{La=La||!1}return La}()?n:!!n.capture}function KE(){if(null==Sc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Sc=!1,Sc;if("scrollBehavior"in document.documentElement.style)Sc=!0;else{const n=Element.prototype.scrollTo;Sc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Sc}function Zd(){if("object"!=typeof document||!document)return 0;if(null==fm){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),fm=0,0===n.scrollLeft&&(n.scrollLeft=1,fm=0===n.scrollLeft?1:2),n.remove()}return fm}function pm(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function xc(n){return n.composedPath?n.composedPath()[0]:n.target}function Jv(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function Uf(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Ac(n,e=Wd.z){return(0,qt.e)((t,i)=>{let r=null,s=null,c=null;const h=()=>{if(r){r.unsubscribe(),r=null;const _=s;s=null,i.next(_)}};function p(){const _=c+n,w=e.now();if(w<_)return r=this.schedule(void 0,_-w),void i.add(r);h()}t.subscribe(new Mn.Q(i,_=>{s=_,c=e.now(),r||(r=e.schedule(p,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}function hb(n,e=Gs.y){return n=null!=n?n:rM,(0,qt.e)((t,i)=>{let r,s=!0;t.subscribe(new Mn.Q(i,c=>{const h=e(c);(s||!n(r,h))&&(s=!1,r=h,i.next(c))}))})}function rM(n,e){return n===e}function or(n){return(0,qt.e)((e,t)=>{(0,mr.Xf)(n).subscribe(new Mn.Q(t,()=>t.complete(),cm.Z)),!t.closed&&e.subscribe(t)})}function Tr(n){return null!=n&&"false"!=`${n}`}function fb(n,e=0){return function pb(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function gb(n){return Array.isArray(n)?n:[n]}function Ri(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ba(n){return n instanceof l.SBq?n.nativeElement:n}class mb extends class jf{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Bt.x,this._typeaheadSubscription=Ko.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Bt.x,this.change=new Bt.x,e instanceof l.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ir.b)(t=>this._pressedLetters.push(t)),Ac(e),wn(()=>this._pressedLetters.length>0),(0,mt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,c=i[s];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Uf(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e),r=t[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let bm=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function dM(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function uM(n){try{return n.frameElement}catch(e){return null}}(function Cm(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===vb(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=vb(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function fM(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function pT(n){return!function hT(n){return function wm(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function _b(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function fT(n){return function yb(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||hM(n))}(t)&&!this.isDisabled(t)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(is))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hM(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function vb(n){if(!hM(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class gT{constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return null==i||i.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,Bn.q)(1)).subscribe(e)}}let mT=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new gT(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bm),l.LFG(l.R0b),l.LFG(K))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Em(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function bb(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const vT=new l.OlP("cdk-input-modality-detector-options"),bT={ignoreKeys:[18,17,224,91,16]},Jd=qd({passive:!0,capture:!0});let CT=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Cr(null),this._lastTouchMs=0,this._onKeydown=c=>{var h,p;(null===(p=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)||void 0===p?void 0:p.some(_=>_===c.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=xc(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Em(c)?"keyboard":"mouse"),this._mostRecentTarget=xc(c))},this._onTouchstart=c=>{bb(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=xc(c))},this._options=Object.assign(Object.assign({},bT),s),this.modalityDetected=this._modality.pipe(function db(n){return wn((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(hb()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Jd),r.addEventListener("mousedown",this._onMousedown,Jd),r.addEventListener("touchstart",this._onTouchstart,Jd)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Jd),document.removeEventListener("mousedown",this._onMousedown,Jd),document.removeEventListener("touchstart",this._onTouchstart,Jd))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(is),l.LFG(l.R0b),l.LFG(K),l.LFG(vT,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yM=new l.OlP("cdk-focus-monitor-default-options"),Tm=qd({passive:!0,capture:!0});let Hf=(()=>{class n{constructor(t,i,r,s,c){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Bt.x,this._rootNodeFocusAndBlurListener=h=>{const p=xc(h),_="focus"===h.type?this._onFocus:this._onBlur;for(let w=p;w;w=w.parentElement)_.call(this,h,w)},this._document=s,this._detectionMode=(null==c?void 0:c.detectionMode)||0}monitor(t,i=!1){const r=Ba(t);if(!this._platform.isBrowser||1!==r.nodeType)return ut(null);const s=function IA(n){if(function Qv(){if(null==Yv){const n="undefined"!=typeof document?document.head:null;Yv=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Yv}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const h={checkChildren:i,subject:new Bt.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=Ba(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Ba(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,p])=>this._originChanged(h,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=xc(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Tm),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Tm)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(or(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Tm),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Tm),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(is),l.LFG(CT),l.LFG(K,8),l.LFG(yM,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bM="cdk-high-contrast-black-on-white",wM="cdk-high-contrast-white-on-black",TT="cdk-high-contrast-active";let OF=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(TT),t.remove(bM),t.remove(wM),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(TT),t.add(bM)):2===i&&(t.add(TT),t.add(wM))}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(is),l.LFG(K))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class CM{}const Mc="*";function kc(n,e){return{type:7,name:n,definitions:e,options:{}}}function Mu(n,e=null){return{type:4,styles:e,timings:n}}function wb(n,e=null){return{type:3,steps:n,options:e}}function Im(n,e=null){return{type:2,steps:n,options:e}}function Pr(n){return{type:6,styles:n,offset:null}}function Rc(n,e,t){return{type:0,name:n,styles:e,options:t}}function Va(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function IT(n=null){return{type:9,options:n}}function IM(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function DT(n){Promise.resolve(null).then(n)}class ku{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){DT(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class ST{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?DT(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const pn=!1;function AT(n){return new l.vHH(3e3,pn)}function GM(){return"undefined"!=typeof window&&void 0!==window.document}function Dm(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ua(n){switch(n.length){case 0:return new ku;case 1:return n[0];default:return new ST(n)}}function Sm(n,e,t,i,r={},s={}){const c=[],h=[];let p=-1,_=null;if(i.forEach(w=>{const T=w.offset,A=T==p,F=A&&_||{};Object.keys(w).forEach(V=>{let ue=V,Ce=w[V];if("offset"!==V)switch(ue=e.normalizePropertyName(ue,c),Ce){case"!":Ce=r[V];break;case Mc:Ce=s[V];break;default:Ce=e.normalizeStyleValue(V,ue,Ce,c)}F[ue]=Ce}),A||h.push(F),_=F,p=T}),c.length)throw function FM(n){return new l.vHH(3502,pn)}();return h}function xm(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&xb(t,"start",n)));break;case"done":n.onDone(()=>i(t&&xb(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&xb(t,"destroy",n)))}}function xb(n,e,t){const i=t.totalTime,s=Am(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),c=n._data;return null!=c&&(s._data=c),s}function Am(n,e,t,i,r="",s=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function Ds(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function FT(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Ab=(n,e)=>!1,$M=(n,e,t)=>[],WM=null;function Mm(n){const e=n.parentNode||n.host;return e===WM?null:e}(Dm()||"undefined"!=typeof Element)&&(GM()?(WM=(()=>document.documentElement)(),Ab=(n,e)=>{for(;e;){if(e===n)return!0;e=Mm(e)}return!1}):Ab=(n,e)=>n.contains(e),$M=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Ou=null,ZM=!1;function KM(n){Ou||(Ou=function jF(){return"undefined"!=typeof document?document.body:null}()||{},ZM=!!Ou.style&&"WebkitAppearance"in Ou.style);let e=!0;return Ou.style&&!function qM(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ou.style,!e&&ZM&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Ou.style)),e}const YM=Ab,QM=$M;let zf=(()=>{class n{validateStyleProperty(t){return KM(t)}matchesElement(t,i){return!1}containsElement(t,i){return YM(t,i)}getParentElement(t){return Mm(t)}query(t,i,r){return QM(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,c,h=[],p){return new ku(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Mb=(()=>{class n{}return n.NOOP=new zf,n})();const km="ng-enter",Xd="ng-leave",eh="ng-trigger",Rm=".ng-trigger",Om="ng-animating",Gf=".ng-animating";function ja(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:LT(parseFloat(e[1]),e[2])}function LT(n,e){return"s"===e?1e3*n:n}function Rb(n,e,t){return n.hasOwnProperty("duration")?n:function zF(n,e,t){let r,s=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(AT()),{duration:0,delay:0,easing:""};r=LT(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=LT(parseFloat(p),h[4]));const _=h[5];_&&(c=_)}else r=n;if(!t){let h=!1,p=e.length;r<0&&(e.push(function DM(){return new l.vHH(3100,pn)}()),h=!0),s<0&&(e.push(function SM(){return new l.vHH(3101,pn)}()),h=!0),h&&e.splice(p,0,AT())}return{duration:r,delay:s,easing:c}}(n,e,t)}function $f(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Oc(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else $f(n,t);return t}function BT(n,e,t){return t?e+":"+t+";":""}function VT(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=BT(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=BT(0,Nb(t),n.style[t]));n.setAttribute("style",e)}function Ha(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=Pm(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),Dm()&&VT(n))}function Pc(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=Pm(t);n.style[i]=""}),Dm()&&VT(n))}function th(n){return Array.isArray(n)?1==n.length?n[0]:Im(n):n}const Pb=new RegExp("{{\\s*(.+?)\\s*}}","g");function jT(n){let e=[];if("string"==typeof n){let t;for(;t=Pb.exec(n);)e.push(t[1]);Pb.lastIndex=0}return e}function Wf(n,e,t){const i=n.toString(),r=i.replace(Pb,(s,c)=>{let h=e[c];return e.hasOwnProperty(c)||(t.push(function xM(n){return new l.vHH(3003,pn)}()),h=""),h.toString()});return r==i?n:r}function nh(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const GF=/-+([a-z0-9])/g;function Pm(n){return n.replace(GF,(...e)=>e[1].toUpperCase())}function Nb(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Mo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Eb(n){return new l.vHH(3004,pn)}()}}function tk(n,e){return window.getComputedStyle(n)[e]}function ZF(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function KF(n,e,t){if(":"==n[0]){const p=function YF(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Db(n){return new l.vHH(3016,pn)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function NM(n){return new l.vHH(3015,pn)}()),e;const r=i[1],s=i[2],c=i[3];e.push(a(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&e.push(a(c,r))}(i,t,e)):t.push(n),t}const Fb=new Set(["true","1"]),o=new Set(["false","0"]);function a(n,e){const t=Fb.has(n)||o.has(n),i=Fb.has(e)||o.has(e);return(r,s)=>{let c="*"==n||n==r,h="*"==e||e==s;return!c&&t&&"boolean"==typeof r&&(c=r?Fb.has(n):o.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?Fb.has(e):o.has(e)),c&&h}}const u=":self",d=new RegExp(`s*${u}s*,?`,"g");function f(n,e,t,i){return new v(n).build(e,t,i)}class v{constructor(e){this._driver=e}build(e,t,i){const r=new x(t);this._resetContextStyleTimingState(r);const s=Mo(this,th(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function ia(){return new l.vHH(3006,pn)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,_=p.name;_.toString().split(/\s*,\s*/).forEach(w=>{p.name=w,s.push(this.visitState(p,t))}),p.name=_}else if(1==h.type){const p=this.visitTransition(h,t);i+=p.queryCount,r+=p.depCount,c.push(p)}else t.errors.push(function MM(){return new l.vHH(3007,pn)}())}),{type:7,name:e.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(h=>{if(z(h)){const p=h;Object.keys(p).forEach(_=>{jT(p[_]).forEach(w=>{c.hasOwnProperty(w)||s.add(w)})})}}),s.size&&(nh(s.values()),t.errors.push(function Tb(n,e){return new l.vHH(3008,pn)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Mo(this,th(e.animation),t);return{type:1,matchers:ZF(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:de(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Mo(this,i,t)),options:de(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(c=>{t.currentTime=i;const h=Mo(this,c,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:s,options:de(e.options)}}visitAnimate(e,t){const i=function ie(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Ae(Rb(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Ae(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=Rb(t,e);return Ae(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Pr({});if(5==s.type)r=this.visitKeyframes(s,t);else{let c=e.styles,h=!1;if(!c){h=!0;const _={};i.easing&&(_.easing=i.easing),c=Pr(_)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,t);p.isEmptyStep=h,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==Mc?i.push(c):t.errors.push(function kM(n){return new l.vHH(3002,pn)}()):i.push(c)}):i.push(e.styles);let r=!1,s=null;return i.forEach(c=>{if(z(c)){const h=c,p=h.easing;if(p&&(s=p,delete h.easing),!r)for(let _ in h)if(h[_].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete c[h],void t.unsupportedCSSPropertiesFound.add(h);const p=t.collectedStyles[t.currentQuerySelector],_=p[h];let w=!0;_&&(s!=r&&s>=_.startTime&&r<=_.endTime&&(t.errors.push(function Ib(n,e,t,i,r){return new l.vHH(3010,pn)}()),w=!1),s=_.startTime),w&&(p[h]={startTime:s,endTime:r}),t.options&&function UT(n,e,t){const i=e.params||{},r=jT(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function FF(n){return new l.vHH(3001,pn)}())})}(c[h],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function MT(){return new l.vHH(3011,pn)}()),i;let s=0;const c=[];let h=!1,p=!1,_=0;const w=e.steps.map(Ke=>{const Xe=this._makeStyleAst(Ke,t);let st=null!=Xe.offset?Xe.offset:function O(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(z(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(z(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Xe.styles),et=0;return null!=st&&(s++,et=Xe.offset=st),p=p||et<0||et>1,h=h||et<_,_=et,c.push(et),Xe});p&&t.errors.push(function kT(){return new l.vHH(3012,pn)}()),h&&t.errors.push(function RM(){return new l.vHH(3200,pn)}());const T=e.steps.length;let A=0;s>0&&s<T?t.errors.push(function RT(){return new l.vHH(3202,pn)}()):0==s&&(A=1/(T-1));const F=T-1,V=t.currentTime,ue=t.currentAnimateTimings,Ce=ue.duration;return w.forEach((Ke,Xe)=>{const st=A>0?Xe==F?1:A*Xe:c[Xe],et=st*Ce;t.currentTime=V+ue.delay+et,ue.duration=et,this._validateStyleAst(Ke,t),Ke.offset=st,i.styles.push(Ke)}),i}visitReference(e,t){return{type:8,animation:Mo(this,th(e.animation),t),options:de(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:de(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:de(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,c]=function C(n){const e=!!n.split(/\s*,\s*/).find(t=>t==u);return e&&(n=n.replace(d,"")),n=n.replace(/@\*/g,Rm).replace(/@\w+/g,t=>Rm+"-"+t.substr(1)).replace(/:animating/g,Gf),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Ds(t.collectedStyles,t.currentQuerySelector,{});const h=Mo(this,th(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:de(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function OM(){return new l.vHH(3013,pn)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Rb(e.timings,t.errors,!0);return{type:12,animation:Mo(this,th(e.animation),t),timings:i,options:null}}}class x{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function z(n){return!Array.isArray(n)&&"object"==typeof n}function de(n){return n?(n=$f(n)).params&&(n.params=function I(n){return n?$f(n):null}(n.params)):n={},n}function Ae(n,e,t){return{duration:n,delay:e,easing:t}}function We(n,e,t,i,r,s,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:h}}class Ye{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Et=new RegExp(":enter","g"),Rn=new RegExp(":leave","g");function rs(n,e,t,i,r,s={},c={},h,p,_=[]){return(new Nu).buildKeyframes(n,e,t,i,r,s,c,h,p,_)}class Nu{buildKeyframes(e,t,i,r,s,c,h,p,_,w=[]){_=_||new Ye;const T=new qf(e,t,_,r,s,w,[]);T.options=p,T.currentTimeline.setStyles([c],null,T.errors,p),Mo(this,i,T);const A=T.timelines.filter(F=>F.containsAnimation());if(Object.keys(h).length){let F;for(let V=A.length-1;V>=0;V--){const ue=A[V];if(ue.element===t){F=ue;break}}F&&!F.allowOnlyTimelineStyles()&&F.setStyles([h],null,T.errors,p)}return A.length?A.map(F=>F.buildKeyframes()):[We(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const c=null!=i.duration?ja(i.duration):null,h=null!=i.delay?ja(i.delay):null;return 0!==c&&e.forEach(p=>{const _=t.appendInstructionToTimeline(p,c,h);s=Math.max(s,_.duration+_.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Mo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ih);const c=ja(s.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Mo(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?ja(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),Mo(this,c,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Rb(t.params?Wf(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?ja(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ih);let c=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((_,w)=>{t.currentQueryIndex=w;const T=t.createSubContext(e.options,_);s&&T.delayNextStep(s),_===t.element&&(p=T.currentTimeline),Mo(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,T.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,c=Math.abs(s.duration),h=c*(t.currentQueryTotal-1);let p=c*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const w=t.currentTimeline;p&&w.delayNextStep(p);const T=w.currentTime;Mo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-T+(r.startTime-i.currentTimeline.startTime)}}const ih={};class qf{constructor(e,t,i,r,s,c,h,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ih,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new rh(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=ja(i.duration)),null!=i.delay&&(r.delay=ja(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=Wf(s[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new qf(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=ih,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new Lb(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,c){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(Et,"."+this._enterClassName)).replace(Rn,"."+this._leaveClassName);let _=this._driver.query(this.element,e,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),h.push(..._)}return!s&&0==h.length&&c.push(function PM(n){return new l.vHH(3014,pn)}()),h}}class rh{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new rh(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Mc,this._currentKeyframe[t]=Mc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},c=function Bb(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(s=>{t[s]=Mc})):Oc(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(h=>{const p=Wf(c[h],s,i);this._pendingStyles[h]=p,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:Mc),this._updateStyle(h,p)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const _=Oc(h,!0);Object.keys(_).forEach(w=>{const T=_[w];"!"==T?e.add(w):T==Mc&&t.add(w)}),i||(_.offset=p/this.duration),r.push(_)});const s=e.size?nh(e.values()):[],c=t.size?nh(t.values()):[];if(i){const h=r[0],p=$f(h);h.offset=0,p.offset=1,r=[h,p]}return We(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class Lb extends rh{constructor(e,t,i,r,s,c,h=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],c=i+t,h=t/c,p=Oc(e[0],!1);p.offset=0,s.push(p);const _=Oc(e[0],!1);_.offset=Bm(h),s.push(_);const w=e.length-1;for(let T=1;T<=w;T++){let A=Oc(e[T],!1);A.offset=Bm((t+A.offset*i)/c),s.push(A)}i=c,t=0,r="",e=s}return We(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Bm(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Zf{}class CG extends Zf{normalizePropertyName(e,t){return Pm(e)}normalizeStyleValue(e,t,i,r){let s="";const c=i.toString().trim();if(EG[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function AM(n,e){return new l.vHH(3005,pn)}())}return c+s}}const EG=(()=>function TG(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function QF(n,e,t,i,r,s,c,h,p,_,w,T,A){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:c,timelines:h,queriedElements:p,preStyleProps:_,postStyleProps:w,totalTime:T,errors:A}}const nk={};class JF{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function IG(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],s=this._stateStyles[e],c=r?r.buildStyles(t,i):{};return s?s.buildStyles(t,i):c}build(e,t,i,r,s,c,h,p,_,w){const T=[],A=this.ast.options&&this.ast.options.params||nk,V=this.buildStyles(i,h&&h.params||nk,T),ue=p&&p.params||nk,Ce=this.buildStyles(r,ue,T),Ke=new Set,Xe=new Map,st=new Map,et="void"===r,Ut={params:Object.assign(Object.assign({},A),ue)},Lt=w?[]:rs(e,t,this.ast.animation,s,c,V,Ce,Ut,_,T);let In=0;if(Lt.forEach(la=>{In=Math.max(la.duration+la.delay,In)}),T.length)return QF(t,this._triggerName,i,r,et,V,Ce,[],[],Xe,st,In,T);Lt.forEach(la=>{const qu=la.element,Qz=Ds(Xe,qu,{});la.preStyleProps.forEach(Bp=>Qz[Bp]=!0);const D0=Ds(st,qu,{});la.postStyleProps.forEach(Bp=>D0[Bp]=!0),qu!==t&&Ke.add(qu)});const Ki=nh(Ke.values());return QF(t,this._triggerName,i,r,et,V,Ce,Lt,Ki,Xe,st,In)}}class DG{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=$f(this.defaultParams);return Object.keys(e).forEach(s=>{const c=e[s];null!=c&&(r[s]=c)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const c=s;Object.keys(c).forEach(h=>{let p=c[h];p.length>1&&(p=Wf(p,r,t));const _=this.normalizer.normalizePropertyName(h,t);p=this.normalizer.normalizeStyleValue(h,_,p,t),i[_]=p})}}),i}}class xG{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new DG(r.style,r.options&&r.options.params||{},i)}),XF(this.states,"true","1"),XF(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new JF(e,r,this.states))}),this.fallbackTransition=function AG(n,e,t){return new JF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function XF(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const MG=new Ye;class kG{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],s=f(this._driver,t,i,[]);if(i.length)throw function BF(n){return new l.vHH(3503,pn)}();this._animations[e]=s}_buildPlayer(e,t,i){const r=e.element,s=Sm(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations[e];let c;const h=new Map;if(s?(c=rs(this._driver,t,s,km,Xd,{},{},i,MG,r),c.forEach(w=>{const T=Ds(h,w.element,{});w.postStyleProps.forEach(A=>T[A]=null)})):(r.push(function LM(){return new l.vHH(3300,pn)}()),c=[]),r.length)throw function BM(n){return new l.vHH(3504,pn)}();h.forEach((w,T)=>{Object.keys(w).forEach(A=>{w[A]=this._driver.computeStyle(T,A,Mc)})});const _=Ua(c.map(w=>{const T=h.get(w.element);return this._buildPlayer(w,{},T)}));return this._playersById[e]=_,_.onDestroy(()=>this.destroy(e)),this.players.push(_),_}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function VM(n){return new l.vHH(3301,pn)}();return t}listen(e,t,i,r){const s=Am(t,"","","");return xm(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const eL="ng-animate-queued",ik="ng-animate-disabled",FG=[],tL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},LG={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},za="__ng_removed";class rk{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function jG(n){return null!=n?n:null}(i?e.value:e),i){const s=$f(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Vb="void",sk=new rk(Vb);class BG{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ga(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function NT(n,e){return new l.vHH(3302,pn)}();if(null==i||0==i.length)throw function UM(n){return new l.vHH(3303,pn)}();if(!function HG(n){return"start"==n||"done"==n}(i))throw function jM(n,e){return new l.vHH(3400,pn)}();const s=Ds(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};s.push(c);const h=Ds(this._engine.statesByElement,e,{});return h.hasOwnProperty(t)||(Ga(e,eh),Ga(e,eh+"-"+t),h[t]=sk),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers[t]||delete h[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function VF(n){return new l.vHH(3401,pn)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),c=new ok(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Ga(e,eh),Ga(e,eh+"-"+t),this._engine.statesByElement.set(e,h={}));let p=h[t];const _=new rk(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),h[t]=_,p||(p=sk),_.value!==Vb&&p.value===_.value){if(!function $G(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,_.params)){const ue=[],Ce=s.matchStyles(p.value,p.params,ue),Ke=s.matchStyles(_.value,_.params,ue);ue.length?this._engine.reportError(ue):this._engine.afterFlush(()=>{Pc(e,Ce),Ha(e,Ke)})}return}const A=Ds(this._engine.playersByElement,e,[]);A.forEach(ue=>{ue.namespaceId==this.id&&ue.triggerName==t&&ue.queued&&ue.destroy()});let F=s.matchTransition(p.value,_.value,e,_.params),V=!1;if(!F){if(!r)return;F=s.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:F,fromState:p,toState:_,player:c,isFallbackTransition:V}),V||(Ga(e,eL),c.onStart(()=>{Vm(e,eL)})),c.onDone(()=>{let ue=this.players.indexOf(c);ue>=0&&this.players.splice(ue,1);const Ce=this._engine.playersByElement.get(e);if(Ce){let Ke=Ce.indexOf(c);Ke>=0&&Ce.splice(Ke,1)}}),this.players.push(c),A.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Rm,!0);i.forEach(r=>{if(r[za])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),c=new Map;if(s){const h=[];if(Object.keys(s).forEach(p=>{if(c.set(p,s[p].value),this._triggers[p]){const _=this.trigger(e,p,Vb,r);_&&h.push(_)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&Ua(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers[c].fallbackTransition,_=i[c]||sk,w=new rk(Vb),T=new ok(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:p,fromState:_,toState:w,player:T,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[za];(!s||s===tL)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ga(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(h=>{if(h.name==i.triggerName){const p=Am(s,i.triggerName,i.fromState.value,i.toState.value);p._data=e,xm(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class VG{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new BG(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let c=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(t);for(;h;){const p=r.get(h);if(p){const _=i.indexOf(p);i.splice(_+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}}else for(let h=s;h>=0;h--)if(this.driver.containsElement(i[h].hostElement,t)){i.splice(h+1,0,e),c=!0;break}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const c=i[r[s]].namespaceId;if(c){const h=this._fetchNamespace(c);h&&t.add(h)}}}return t}trigger(e,t,i,r){if(GT(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!GT(t))return;const s=t[za];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ga(e,ik)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Vm(e,ik))}removeNode(e,t,i,r){if(GT(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[za]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return GT(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Rm,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Gf,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ua(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[za];if(i&&i.setForRemoval){if(e[za]=tL,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(ik))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ga(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Ua(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Sb(n){return new l.vHH(3402,pn)}()}_flushAnimations(e,t){const i=new Ye,r=[],s=new Map,c=[],h=new Map,p=new Map,_=new Map,w=new Set;this.disabledNodes.forEach(yt=>{w.add(yt);const At=this.driver.query(yt,".ng-animate-queued",!0);for(let Ot=0;Ot<At.length;Ot++)w.add(At[Ot])});const T=this.bodyNode,A=Array.from(this.statesByElement.keys()),F=rL(A,this.collectedEnterElements),V=new Map;let ue=0;F.forEach((yt,At)=>{const Ot=km+ue++;V.set(At,Ot),yt.forEach(xn=>Ga(xn,Ot))});const Ce=[],Ke=new Set,Xe=new Set;for(let yt=0;yt<this.collectedLeaveElements.length;yt++){const At=this.collectedLeaveElements[yt],Ot=At[za];Ot&&Ot.setForRemoval&&(Ce.push(At),Ke.add(At),Ot.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(xn=>Ke.add(xn)):Xe.add(At))}const st=new Map,et=rL(A,Array.from(Ke));et.forEach((yt,At)=>{const Ot=Xd+ue++;st.set(At,Ot),yt.forEach(xn=>Ga(xn,Ot))}),e.push(()=>{F.forEach((yt,At)=>{const Ot=V.get(At);yt.forEach(xn=>Vm(xn,Ot))}),et.forEach((yt,At)=>{const Ot=st.get(At);yt.forEach(xn=>Vm(xn,Ot))}),Ce.forEach(yt=>{this.processLeaveNode(yt)})});const Ut=[],Lt=[];for(let yt=this._namespaceList.length-1;yt>=0;yt--)this._namespaceList[yt].drainQueuedTransitions(t).forEach(Ot=>{const xn=Ot.player,zr=Ot.element;if(Ut.push(xn),this.collectedEnterElements.length){const oo=zr[za];if(oo&&oo.setForMove){if(oo.previousTriggersValues&&oo.previousTriggersValues.has(Ot.triggerName)){const Vp=oo.previousTriggersValues.get(Ot.triggerName),kh=this.statesByElement.get(Ot.element);kh&&kh[Ot.triggerName]&&(kh[Ot.triggerName].value=Vp)}return void xn.destroy()}}const Wc=!T||!this.driver.containsElement(T,zr),ca=st.get(zr),Mh=V.get(zr),Pi=this._buildInstruction(Ot,i,Mh,ca,Wc);if(Pi.errors&&Pi.errors.length)return void Lt.push(Pi);if(Wc)return xn.onStart(()=>Pc(zr,Pi.fromStyles)),xn.onDestroy(()=>Ha(zr,Pi.toStyles)),void r.push(xn);if(Ot.isFallbackTransition)return xn.onStart(()=>Pc(zr,Pi.fromStyles)),xn.onDestroy(()=>Ha(zr,Pi.toStyles)),void r.push(xn);const eG=[];Pi.timelines.forEach(oo=>{oo.stretchStartingKeyframe=!0,this.disabledNodes.has(oo.element)||eG.push(oo)}),Pi.timelines=eG,i.append(zr,Pi.timelines),c.push({instruction:Pi,player:xn,element:zr}),Pi.queriedElements.forEach(oo=>Ds(h,oo,[]).push(xn)),Pi.preStyleProps.forEach((oo,Vp)=>{const kh=Object.keys(oo);if(kh.length){let Up=p.get(Vp);Up||p.set(Vp,Up=new Set),kh.forEach(iN=>Up.add(iN))}}),Pi.postStyleProps.forEach((oo,Vp)=>{const kh=Object.keys(oo);let Up=_.get(Vp);Up||_.set(Vp,Up=new Set),kh.forEach(iN=>Up.add(iN))})});if(Lt.length){const yt=[];Lt.forEach(At=>{yt.push(function zM(n,e){return new l.vHH(3505,pn)}())}),Ut.forEach(At=>At.destroy()),this.reportError(yt)}const In=new Map,Ki=new Map;c.forEach(yt=>{const At=yt.element;i.has(At)&&(Ki.set(At,At),this._beforeAnimationBuild(yt.player.namespaceId,yt.instruction,In))}),r.forEach(yt=>{const At=yt.element;this._getPreviousPlayers(At,!1,yt.namespaceId,yt.triggerName,null).forEach(xn=>{Ds(In,At,[]).push(xn),xn.destroy()})});const la=Ce.filter(yt=>oL(yt,p,_)),qu=new Map;iL(qu,this.driver,Xe,_,Mc).forEach(yt=>{oL(yt,p,_)&&la.push(yt)});const D0=new Map;F.forEach((yt,At)=>{iL(D0,this.driver,new Set(yt),p,"!")}),la.forEach(yt=>{const At=qu.get(yt),Ot=D0.get(yt);qu.set(yt,Object.assign(Object.assign({},At),Ot))});const Bp=[],Jz=[],Xz={};c.forEach(yt=>{const{element:At,player:Ot,instruction:xn}=yt;if(i.has(At)){if(w.has(At))return Ot.onDestroy(()=>Ha(At,xn.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(xn.totalTime),void r.push(Ot);let zr=Xz;if(Ki.size>1){let ca=At;const Mh=[];for(;ca=ca.parentNode;){const Pi=Ki.get(ca);if(Pi){zr=Pi;break}Mh.push(ca)}Mh.forEach(Pi=>Ki.set(Pi,zr))}const Wc=this._buildAnimation(Ot.namespaceId,xn,In,s,D0,qu);if(Ot.setRealPlayer(Wc),zr===Xz)Bp.push(Ot);else{const ca=this.playersByElement.get(zr);ca&&ca.length&&(Ot.parentPlayer=Ua(ca)),r.push(Ot)}}else Pc(At,xn.fromStyles),Ot.onDestroy(()=>Ha(At,xn.toStyles)),Jz.push(Ot),w.has(At)&&r.push(Ot)}),Jz.forEach(yt=>{const At=s.get(yt.element);if(At&&At.length){const Ot=Ua(At);yt.setRealPlayer(Ot)}}),r.forEach(yt=>{yt.parentPlayer?yt.syncPlayerEvents(yt.parentPlayer):yt.destroy()});for(let yt=0;yt<Ce.length;yt++){const At=Ce[yt],Ot=At[za];if(Vm(At,Xd),Ot&&Ot.hasAnimation)continue;let xn=[];if(h.size){let Wc=h.get(At);Wc&&Wc.length&&xn.push(...Wc);let ca=this.driver.query(At,Gf,!0);for(let Mh=0;Mh<ca.length;Mh++){let Pi=h.get(ca[Mh]);Pi&&Pi.length&&xn.push(...Pi)}}const zr=xn.filter(Wc=>!Wc.destroyed);zr.length?zG(this,At,zr):this.processLeaveNode(At)}return Ce.length=0,Bp.forEach(yt=>{this.players.push(yt),yt.onDone(()=>{yt.destroy();const At=this.players.indexOf(yt);this.players.splice(At,1)}),yt.play()}),Bp}elementContainsData(e,t){let i=!1;const r=t[za];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const p=!s||s==Vb;h.forEach(_=>{_.queued||!p&&_.triggerName!=r||c.push(_)})}}return(i||r)&&(c=c.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),c}_beforeAnimationBuild(e,t,i){const s=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const _=p.element,w=_!==s,T=Ds(i,_,[]);this._getPreviousPlayers(_,w,c,h,t.toState).forEach(F=>{const V=F.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),F.destroy(),T.push(F)})}Pc(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,c){const h=t.triggerName,p=t.element,_=[],w=new Set,T=new Set,A=t.timelines.map(V=>{const ue=V.element;w.add(ue);const Ce=ue[za];if(Ce&&Ce.removedBeforeQueried)return new ku(V.duration,V.delay);const Ke=ue!==p,Xe=function GG(n){const e=[];return sL(n,e),e}((i.get(ue)||FG).map(In=>In.getRealPlayer())).filter(In=>!!In.element&&In.element===ue),st=s.get(ue),et=c.get(ue),Ut=Sm(0,this._normalizer,0,V.keyframes,st,et),Lt=this._buildPlayer(V,Ut,Xe);if(V.subTimeline&&r&&T.add(ue),Ke){const In=new ok(e,h,ue);In.setRealPlayer(Lt),_.push(In)}return Lt});_.forEach(V=>{Ds(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function UG(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,V.element,V))}),w.forEach(V=>Ga(V,Om));const F=Ua(A);return F.onDestroy(()=>{w.forEach(V=>Vm(V,Om)),Ha(p,t.toStyles)}),T.forEach(V=>{Ds(r,V,[]).push(F)}),F}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new ku(e.duration,e.delay)}}class ok{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new ku,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>xm(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ds(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function GT(n){return n&&1===n.nodeType}function nL(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function iL(n,e,t,i,r){const s=[];t.forEach(p=>s.push(nL(p)));const c=[];i.forEach((p,_)=>{const w={};p.forEach(T=>{const A=w[T]=e.computeStyle(_,T,r);(!A||0==A.length)&&(_[za]=LG,c.push(_))}),n.set(_,w)});let h=0;return t.forEach(p=>nL(p,s[h++])),c}function rL(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),s=new Map;function c(h){if(!h)return 1;let p=s.get(h);if(p)return p;const _=h.parentNode;return p=t.has(_)?_:r.has(_)?1:c(_),s.set(h,p),p}return e.forEach(h=>{const p=c(h);1!==p&&t.get(p).push(h)}),t}function Ga(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Vm(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function zG(n,e,t){Ua(t).onDone(()=>n.processLeaveNode(e))}function sL(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof ST?sL(i.players,e):e.push(i)}}function oL(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class $T{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new VG(e,t,i),this._timelineEngine=new kG(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const c=e+"-"+r;let h=this._triggerCache[c];if(!h){const p=[],w=f(this._driver,s,p,[]);if(p.length)throw function PT(n,e){return new l.vHH(3404,pn)}();h=function SG(n,e,t){return new xG(n,e,t)}(r,w,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,c]=FT(i);this._timelineEngine.command(s,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[c,h]=FT(i);return this._timelineEngine.listen(c,t,h,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let qG=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ha(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ha(this._element,this._initialStyles),this._endStyles&&(Ha(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Pc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pc(this._element,this._endStyles),this._endStyles=null),Ha(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ak(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];ZG(r)&&(e=e||{},e[r]=n[r])}return e}function ZG(n){return"display"===n||"position"===n}class aL{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:tk(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class KG{validateStyleProperty(e){return KM(e)}matchesElement(e,t){return!1}containsElement(e,t){return YM(e,t)}getParentElement(e){return Mm(e)}query(e,t,i){return QM(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const _={},w=c.filter(A=>A instanceof aL);(function XM(n,e){return 0===n||0===e})(i,r)&&w.forEach(A=>{let F=A.currentSnapshot;Object.keys(F).forEach(V=>_[V]=F[V])}),t=function ek(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let s=e[0],c=[];if(i.forEach(h=>{s.hasOwnProperty(h)||c.push(h),s[h]=t[h]}),c.length)for(var r=1;r<e.length;r++){let h=e[r];c.forEach(function(p){h[p]=tk(n,p)})}}return e}(e,t=t.map(A=>Oc(A,!1)),_);const T=function WG(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=ak(e[0]),e.length>1&&(i=ak(e[e.length-1]))):e&&(t=ak(e)),t||i?new qG(n,t,i):null}(e,t);return new aL(e,t,p,T)}}let YG=(()=>{class n extends CM{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?Im(t):t;return lL(this._renderer,null,i,"register",[r]),new QG(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(K))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class QG extends class PF{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new JG(this._id,e,t||{},this._renderer)}}class JG{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return lL(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function lL(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const cL="@.disabled";let XG=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const h=null==c?void 0:c.parentNode(s);h&&c.removeChild(h,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(s);return w||(w=new uL("",s,this.engine),this._rendererCache.set(s,w)),w}const c=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const p=w=>{Array.isArray(w)?w.forEach(p):this.engine.registerTrigger(c,h,t,w.name,w)};return i.data.animation.forEach(p),new e$(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,h]=s;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG($T),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class uL{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==cL?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class e$ extends uL{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==cL?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function t$(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),c="";return"@"!=s.charAt(0)&&([s,c]=function n$(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let i$=(()=>{class n extends $T{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(K),l.LFG(Mb),l.LFG(Zf))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Fu=new l.OlP("AnimationModuleType"),dL=[{provide:CM,useClass:YG},{provide:Zf,useFactory:function r$(){return new CG}},{provide:$T,useClass:i$},{provide:l.FYo,useFactory:function s$(n,e,t){return new XG(n,e,t)},deps:[$n,$T,l.R0b]}],hL=[{provide:Mb,useFactory:()=>new KG},{provide:Fu,useValue:"BrowserAnimations"},...dL],o$=[{provide:Mb,useClass:zf},{provide:Fu,useValue:"NoopAnimations"},...dL];let a$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?o$:hL}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:hL,imports:[ql]}),n})();const c$=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function l$(){return!0}});let gi=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Jv()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(OF),l.LFG(c$,8),l.LFG(K))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Bf],Bf]}),n})();function lk(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Tr(e)}}}function Ub(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function ck(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Tr(e)}}}function u$(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?fb(t):this.defaultTabIndex}}}function d$(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Bt.x,this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let pL=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gi],gi]}),n})();class f${constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const mL={enterDuration:225,exitDuration:150},uk=qd({passive:!0}),_L=["mousedown","touchstart"],yL=["mouseup","mouseleave","touchend","touchcancel"];class g${constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ba(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},mL),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const c=i.radius||function _$(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),h=e-r.left,p=t-r.top,_=s.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=h-c+"px",w.style.top=p-c+"px",w.style.height=2*c+"px",w.style.width=2*c+"px",null!=i.color&&(w.style.backgroundColor=i.color),w.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(w),function m$(n){window.getComputedStyle(n).getPropertyValue("opacity")}(w),w.style.transform="scale(1)";const T=new f$(this,w,i);return T.state=0,this._activeRipples.add(T),i.persistent||(this._mostRecentTransientRipple=T),this._runTimeoutOutsideZone(()=>{const A=T===this._mostRecentTransientRipple;T.state=1,!i.persistent&&(!A||!this._isPointerDown)&&T.fadeOut()},_),T}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},mL),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Ba(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(_L))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(yL),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=Em(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!bb(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,uk)})})}_removeTriggerEvents(){this._triggerElement&&(_L.forEach(e=>{this._triggerElement.removeEventListener(e,this,uk)}),this._pointerUpEventsRegistered&&yL.forEach(e=>{this._triggerElement.removeEventListener(e,this,uk)}))}}const y$=new l.OlP("mat-ripple-global-options");let qT=(()=>{class n{constructor(t,i,r,s,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new g$(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(is),l.Y36(y$,8),l.Y36(Fu,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),dk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gi],gi]}),n})();const v$=["*",[["mat-toolbar-row"]]],b$=["*","mat-toolbar-row"],w$=Ub(class{constructor(n){this._elementRef=n}});let C$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),E$=(()=>{class n extends w${constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(is),l.Y36(K))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,C$,5),2&t){let s;l.iGM(s=l.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:b$,decls:2,vars:0,template:function(t,i){1&t&&(l.F$t(v$),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),T$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gi],gi]}),n})();const I$=["mat-button",""],D$=["*"],x$=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],A$=Ub(lk(ck(class{constructor(n){this._elementRef=n}})));let Hb=(()=>{class n extends A${constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of x$)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Hf),l.Y36(Fu,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&l.Gf(qT,5),2&t){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:I$,ngContentSelectors:D$,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&t&&(l.xp6(2),l.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[qT],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),vL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[dk,gi],gi]}),n})();var bL=M(4408);let hk,M$=1;const ZT={};function wL(n){return n in ZT&&(delete ZT[n],!0)}const k$={setImmediate(n){const e=M$++;return ZT[e]=!0,hk||(hk=Promise.resolve()),hk.then(()=>wL(e)&&n()),e},clearImmediate(n){wL(n)}},{setImmediate:R$,clearImmediate:O$}=k$,KT={setImmediate(...n){const{delegate:e}=KT;return((null==e?void 0:e.setImmediate)||R$)(...n)},clearImmediate(n){const{delegate:e}=KT;return((null==e?void 0:e.clearImmediate)||O$)(n)},delegate:void 0};var CL=M(7565);const fk=new class N$ extends CL.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let i,r=-1;e=e||t.shift();const s=t.length;do{if(i=e.execute(e.state,e.delay))break}while(++r<s&&(e=t.shift()));if(this._active=!1,i){for(;++r<s&&(e=t.shift());)e.unsubscribe();throw i}}}(class P$ extends bL.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=KT.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(KT.clearImmediate(t),e._scheduled=void 0)}});class pk{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class gk extends pk{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class mk extends pk{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class F$ extends pk{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class _k{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof gk?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof mk?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof F$?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class L$ extends _k{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const h=c.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let EL=(()=>{class n extends _k{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=s=>{const c=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(h,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(c,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=i.createComponent(s,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(K))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),TL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var B$=M(1144);const V$=["addListener","removeListener"],U$=["addEventListener","removeEventListener"],j$=["on","off"];function Lu(n,e,t,i){if((0,Rr.m)(t)&&(i=t,t=void 0),i)return Lu(n,e,t).pipe(mu(i));const[r,s]=function G$(n){return(0,Rr.m)(n.addEventListener)&&(0,Rr.m)(n.removeEventListener)}(n)?U$.map(c=>h=>n[c](e,h,t)):function H$(n){return(0,Rr.m)(n.addListener)&&(0,Rr.m)(n.removeListener)}(n)?V$.map(IL(n,e)):function z$(n){return(0,Rr.m)(n.on)&&(0,Rr.m)(n.off)}(n)?j$.map(IL(n,e)):[];if(!r&&(0,B$.z)(n))return(0,bi.z)(c=>Lu(c,e,t))((0,mr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ti.y(c=>{const h=(...p)=>c.next(1<p.length?p:p[0]);return r(h),()=>s(h)})}function IL(n,e){return t=>i=>n[t](e,i)}const zb={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=zb;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Ko.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=zb;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=zb;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};new class W$ extends CL.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let i,r=-1;e=e||t.shift();const s=t.length;do{if(i=e.execute(e.state,e.delay))break}while(++r<s&&(e=t.shift()));if(this._active=!1,i){for(;++r<s&&(e=t.shift());)e.unsubscribe();throw i}}}(class $$ extends bL.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=zb.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(zb.cancelAnimationFrame(t),e._scheduled=void 0)}});function DL(n,e=Wd.P){return function Z$(n){return(0,qt.e)((e,t)=>{let i=!1,r=null,s=null,c=!1;const h=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const _=r;r=null,t.next(_)}c&&t.complete()},p=()=>{s=null,c&&t.complete()};e.subscribe(new Mn.Q(t,_=>{i=!0,r=_,s||(0,mr.Xf)(n(_)).subscribe(s=new Mn.Q(t,h,p))},()=>{c=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>wA(n,e))}let yk=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Bt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ti.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(DL(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ut()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(wn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Ba(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Lu(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(is),l.LFG(K,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vk=(()=>{class n{constructor(t,i,r,s){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new Bt.x,this._elementScrolled=new ti.y(c=>this.ngZone.runOutsideAngular(()=>Lu(this.elementRef.nativeElement,"scroll").pipe(or(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=Zd()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Zd()?t.left=t.right:1==Zd()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;KE()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==t?t=c?r:i:"end"==t&&(t=c?i:r),c&&2==Zd()?t==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:c&&1==Zd()?t==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(yk),l.Y36(l.R0b),l.Y36(Dc,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),bk=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Bt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(DL(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(is),l.LFG(l.R0b),l.LFG(K,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),SL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Bf,Gb],Bf,Gb]}),n})();const xL=KE();class Q${constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ri(-this._previousScrollPosition.left),e.style.top=Ri(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),xL&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),xL&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class J${constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class AL{enable(){}disable(){}attach(){}}function wk(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function ML(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class X${constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();wk(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let eW=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new AL,this.close=c=>new J$(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new Q$(this._viewportRuler,this._document),this.reposition=c=>new X$(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yk),l.LFG(bk),l.LFG(l.R0b),l.LFG(K))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ck{constructor(e){if(this.scrollStrategy=new AL,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class tW{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class nW{constructor(e,t,i,r,s,c,h,p,_){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=h,this._location=p,this._outsideClickDispatcher=_,this._backdropElement=null,this._backdropClick=new Bt.x,this._attachments=new Bt.x,this._detachments=new Bt.x,this._locationChanges=Ko.w0.EMPTY,this._backdropClickHandler=w=>this._backdropClick.next(w),this._backdropTransitionendHandler=w=>{this._disposeBackdrop(w.target)},this._keydownEvents=new Bt.x,this._outsidePointerEvents=new Bt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Bn.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ri(this._config.width),e.height=Ri(this._config.height),e.minWidth=Ri(this._config.minWidth),e.minHeight=Ri(this._config.minHeight),e.maxWidth=Ri(this._config.maxWidth),e.maxHeight=Ri(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const r=gb(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(or((0,Kr.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Ek=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Jv()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),Jv()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(K),l.LFG(is))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kL="cdk-overlay-connected-position-bounding-box",iW=/([A-Za-z%]+)$/;class rW{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Bt.x,this._resizeSubscription=Ko.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(kL),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let c;for(let h of this._preferredPositions){let p=this._getOriginPoint(e,r,h),_=this._getOverlayPoint(p,t,h),w=this._getOverlayFit(_,t,i,h);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(w,_,i)?s.push({position:h,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!c||c.overlayFit.visibleArea<w.visibleArea)&&(c={overlayFit:w,overlayPoint:_,originPoint:p,position:h,overlayRect:t})}if(s.length){let h=null,p=-1;for(const _ of s){const w=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);w>p&&(p=w,h=_)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Kf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(kL),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==i.originX?c:h}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=OL(t);let{x:c,y:h}=e,p=this._getOffset(r,"x"),_=this._getOffset(r,"y");p&&(c+=p),_&&(h+=_);let A=0-h,F=h+s.height-i.height,V=this._subtractOverflows(s.width,0-c,c+s.width-i.width),ue=this._subtractOverflows(s.height,A,F),Ce=V*ue;return{visibleArea:Ce,isCompletelyWithinViewport:s.width*s.height===Ce,fitsInViewportVertically:ue===s.height,fitsInViewportHorizontally:V==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,c=RL(this._overlayRef.getConfig().minHeight),h=RL(this._overlayRef.getConfig().minWidth),_=e.fitsInViewportHorizontally||null!=h&&h<=s;return(e.fitsInViewportVertically||null!=c&&c<=r)&&_}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=OL(t),s=this._viewportRect,c=Math.max(e.x+r.width-s.width,0),h=Math.max(e.y+r.height-s.height,0),p=Math.max(s.top-i.top-e.y,0),_=Math.max(s.left-i.left-e.x,0);let w=0,T=0;return w=r.width<=s.width?_||-c:e.x<this._viewportMargin?s.left-i.left-e.x:0,T=r.height<=s.height?p||-h:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:w,y:T},{x:e.x+w,y:e.y+T}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new tW(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,c,h,w,T,A;if("top"===t.overlayY)c=e.y,s=i.height-c+this._viewportMargin;else if("bottom"===t.overlayY)h=i.height-e.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const F=Math.min(i.bottom-e.y+i.top,e.y),V=this._lastBoundingBoxSize.height;s=2*F,c=e.y-F,s>V&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-V/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)A=i.width-e.x+this._viewportMargin,w=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)T=e.x,w=i.right-e.x;else{const F=Math.min(i.right-e.x+i.left,e.x),V=this._lastBoundingBoxSize.width;w=2*F,T=e.x-F,w>V&&!this._isInitialRender&&!this._growAfterOpen&&(T=e.x-V/2)}return{top:c,left:T,bottom:h,right:A,width:w,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=Ri(i.height),r.top=Ri(i.top),r.bottom=Ri(i.bottom),r.width=Ri(i.width),r.left=Ri(i.left),r.right=Ri(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Ri(s)),c&&(r.maxWidth=Ri(c))}this._lastBoundingBoxSize=i,Kf(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Kf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Kf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const w=this._viewportRuler.getViewportScrollPosition();Kf(i,this._getExactOverlayY(t,e,w)),Kf(i,this._getExactOverlayX(t,e,w))}else i.position="static";let h="",p=this._getOffset(t,"x"),_=this._getOffset(t,"y");p&&(h+=`translateX(${p}px) `),_&&(h+=`translateY(${_}px)`),i.transform=h.trim(),c.maxHeight&&(r?i.maxHeight=Ri(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=Ri(c.maxWidth):s&&(i.maxWidth="")),Kf(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Ri(s.y),r}_getExactOverlayX(e,t,i){let c,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Ri(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ML(e,i),isOriginOutsideView:wk(e,i),isOverlayClipped:ML(t,i),isOverlayOutsideView:wk(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&gb(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Kf(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function RL(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(iW);return t&&"px"!==t?null:parseFloat(e)}return n||null}function OL(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const PL="cdk-global-overlay-wrapper";class sW{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(PL),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:h}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h);e.position=this._cssPosition,e.marginLeft=p?"0":this._leftOffset,e.marginTop=_?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,p?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(PL),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let oW=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new sW}flexibleConnectedTo(t){return new rW(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bk),l.LFG(K),l.LFG(is),l.LFG(Ek))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NL=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(K))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aW=(()=>{class n extends NL{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const h=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(K),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lW=(()=>{class n extends NL{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=xc(s)},this._clickListener=s=>{const c=xc(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const w=p[_];if(w._outsidePointerEvents.observers.length<1||!w.hasAttached())continue;if(w.overlayElement.contains(c)||w.overlayElement.contains(h))break;const T=w._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(s)):T.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(K),l.LFG(is),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cW=0,Um=(()=>{class n{constructor(t,i,r,s,c,h,p,_,w,T,A){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=h,this._ngZone=p,this._document=_,this._directionality=w,this._location=T,this._outsideClickDispatcher=A}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new Ck(t);return c.direction=c.direction||this._directionality.value,new nW(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+cW++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new L$(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(eW),l.LFG(Ek),l.LFG(l._Vd),l.LFG(oW),l.LFG(aW),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(K),l.LFG(Dc),l.LFG($e),l.LFG(lW))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const hW={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Um],useFactory:function dW(n){return()=>n.scrollStrategies.reposition()}};let FL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Um,hW],imports:[[Bf,TL,SL],SL]}),n})();const fW=["mat-menu-item",""];function pW(n,e){1&n&&(l.O4$(),l.TgZ(0,"svg",2),l._UZ(1,"polygon",3),l.qZA())}const LL=["*"];function gW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",0),l.NdJ("keydown",function(r){return l.CHM(t),l.oxw()._handleKeydown(r)})("click",function(){return l.CHM(t),l.oxw().closed.emit("click")})("@transformMenu.start",function(r){return l.CHM(t),l.oxw()._onAnimationStart(r)})("@transformMenu.done",function(r){return l.CHM(t),l.oxw()._onAnimationDone(r)}),l.TgZ(1,"div",1),l.Hsn(2),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),l.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const YT={transformMenu:kc("transformMenu",[Rc("void",Pr({opacity:0,transform:"scale(0.8)"})),Va("void => enter",Mu("120ms cubic-bezier(0, 0, 0.2, 1)",Pr({opacity:1,transform:"scale(1)"}))),Va("* => void",Mu("100ms 25ms linear",Pr({opacity:0})))]),fadeInItems:kc("fadeInItems",[Rc("showing",Pr({opacity:1})),Va("void => *",[Pr({opacity:0}),Mu("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},mW=new l.OlP("MatMenuContent"),Tk=new l.OlP("MAT_MENU_PANEL"),_W=ck(lk(class{}));let QT=(()=>{class n extends _W{constructor(t,i,r,s,c){var h;super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=c,this.role="menuitem",this._hovered=new Bt.x,this._focused=new Bt.x,this._highlighted=!1,this._triggersSubmenu=!1,null===(h=null==s?void 0:s.addItem)||void 0===h||h.call(s,this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var t;const i=this._elementRef.nativeElement.cloneNode(!0),r=i.querySelectorAll("mat-icon, .material-icons");for(let s=0;s<r.length;s++)r[s].remove();return(null===(t=i.textContent)||void 0===t?void 0:t.trim())||""}_setHighlighted(t){var i;this._highlighted=t,null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(K),l.Y36(Hf),l.Y36(Tk,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,i){1&t&&l.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&t&&(l.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),l.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[l.qOj],attrs:fW,ngContentSelectors:LL,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){1&t&&(l.F$t(),l.Hsn(0),l._UZ(1,"div",0),l.YNc(2,pW,2,0,"svg",1)),2&t&&(l.xp6(1),l.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),l.xp6(1),l.Q6J("ngIf",i._triggersSubmenu))},directives:[qT,Ln],encapsulation:2,changeDetection:0}),n})();const BL=new l.OlP("mat-menu-default-options",{providedIn:"root",factory:function yW(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let vW=0,$b=(()=>{class n{constructor(t,i,r,s){this._elementRef=t,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new l.n_E,this._tabSubscription=Ko.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Bt.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new l.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+vW++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Tr(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Tr(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new mb(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(wo(this._directDescendantItems),kn(t=>(0,Kr.T)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{var i;const r=this._keyManager;if("enter"===this._panelAnimationState&&(null===(i=r.activeItem)||void 0===i?void 0:i._hasFocus())){const s=t.toArray(),c=Math.max(0,Math.min(s.length-1,r.activeItemIndex||0));s[c]&&!s[c].disabled?r.setActiveItem(c):r.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(wo(this._directDescendantItems),kn(i=>(0,Kr.T)(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:Uf(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._ngZone.onStable.pipe((0,Bn.q)(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(c=>c.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){var r;const s=this._classList;s["mat-menu-before"]="before"===t,s["mat-menu-after"]="after"===t,s["mat-menu-above"]="above"===i,s["mat-menu-below"]="below"===i,null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(wo(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(BL),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,mW,5),l.Suo(r,QT,5),l.Suo(r,QT,4)),2&t){let s;l.iGM(s=l.CRH())&&(i.lazyContent=s.first),l.iGM(s=l.CRH())&&(i._allItems=s),l.iGM(s=l.CRH())&&(i.items=s)}},viewQuery:function(t,i){if(1&t&&l.Gf(l.Rgc,5),2&t){let r;l.iGM(r=l.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),bW=(()=>{class n extends $b{constructor(t,i,r,s){super(t,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(BL),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,i){2&t&&l.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[l._Bn([{provide:Tk,useExisting:n}]),l.qOj],ngContentSelectors:LL,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,i){1&t&&(l.F$t(),l.YNc(0,gW,3,6,"ng-template"))},directives:[Wr],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::before{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[YT.transformMenu,YT.fadeInItems]},changeDetection:0}),n})();const VL=new l.OlP("mat-menu-scroll-strategy"),CW={provide:VL,deps:[Um],useFactory:function wW(n){return()=>n.scrollStrategies.reposition()}},jL=qd({passive:!0});let EW=(()=>{class n{constructor(t,i,r,s,c,h,p,_,w){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=h,this._dir=p,this._focusMonitor=_,this._ngZone=w,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ko.w0.EMPTY,this._hoverSubscription=Ko.w0.EMPTY,this._menuCloseSubscription=Ko.w0.EMPTY,this._handleTouchStart=T=>{bb(T)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new l.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=c instanceof $b?c:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,jL),h&&(h._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,jL),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),i=t.getConfig(),r=i.positionStrategy;this._setPosition(r),i.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof $b&&(this.menu._startAnimation(),this.menu._directDescendantItems.changes.pipe(or(this.menu.close)).subscribe(()=>{r.withLockedPosition(!1).reapplyLastPosition(),r.withLockedPosition(!0)}))}closeMenu(){this.menu.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){var t;null===(t=this._overlayRef)||void 0===t||t.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof $b?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(wn(r=>"void"===r.toState),(0,Bn.q)(1),or(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i.lazyContent&&i.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let t=0,i=this.menu.parentMenu;for(;i;)t++,i=i.parentMenu;this.menu.setElevation(t)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Ck({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(i=>{const r="start"===i.connectionPair.overlayX?"after":"before",s="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>this.menu.setPositionClasses(r,s)):this.menu.setPositionClasses(r,s)})}_setPosition(t){let[i,r]="before"===this.menu.xPosition?["end","start"]:["start","end"],[s,c]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[h,p]=[s,c],[_,w]=[i,r],T=0;this.triggersSubmenu()?(w=i="before"===this.menu.xPosition?"start":"end",r=_="end"===i?"start":"end",T="bottom"===s?8:-8):this.menu.overlapTrigger||(h="top"===s?"bottom":"top",p="top"===c?"bottom":"top"),t.withPositions([{originX:i,originY:h,overlayX:_,overlayY:s,offsetY:T},{originX:r,originY:h,overlayX:w,overlayY:s,offsetY:T},{originX:i,originY:p,overlayX:_,overlayY:c,offsetY:-T},{originX:r,originY:p,overlayX:w,overlayY:c,offsetY:-T}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:ut(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(wn(c=>c!==this._menuItemInstance),wn(()=>this._menuOpen)):ut();return(0,Kr.T)(t,r,s,i)}_handleMousedown(t){Em(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(wn(t=>t===this._menuItemInstance&&!t.disabled),GE(0,fk)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof $b&&this.menu._isAnimating?this.menu._animationDone.pipe((0,Bn.q)(1),GE(0,fk),or(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new mk(this.menu.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Um),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(VL),l.Y36(Tk,8),l.Y36(QT,10),l.Y36(Dc,8),l.Y36(Hf),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&t&&l.uIk("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),TW=(()=>{class n extends EW{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[l.qOj]}),n})(),HL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[CW],imports:[[Fi,gi,dk,FL],Gb,gi]}),n})();const IW=["*"];let JT;function Wb(n){var e;return(null===(e=function DW(){if(void 0===JT&&(JT=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(JT=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return JT}())||void 0===e?void 0:e.createHTML(n))||n}function zL(n){return Error(`Unable to find icon with the name "${n}"`)}function GL(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function $L(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Yf{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let XT=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new Yf(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const c=this._sanitizer.sanitize(l.q3G.HTML,r);if(!c)throw $L(r);const h=Wb(c);return this._addSvgIconConfig(t,i,new Yf("",h,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Yf(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(l.q3G.HTML,i);if(!s)throw $L(i);const c=Wb(s);return this._addSvgIconSetConfig(t,new Yf("",c,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,t);if(!i)throw GL(t);const r=this._cachedIconsByUrl.get(i);return r?ut(eI(r)):this._loadSvgIconFromConfig(new Yf(t,null)).pipe((0,ir.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,mt.U)(s=>eI(s)))}getNamedSvgIcon(t,i=""){const r=WL(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(t,c):tf(zL(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?ut(eI(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,mt.U)(i=>eI(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?ut(r):Pa(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(ri(h=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,c.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(_)),ut(null)})))).pipe((0,mt.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,i);if(!c)throw zL(t);return c}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(c,t,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,ir.b)(i=>t.svgText=i),(0,mt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?ut(null):this._fetchIcon(t).pipe((0,ir.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const h=this._svgElementFromString(Wb("<svg></svg>"));return h.appendChild(c),this._setSvgAttributes(h,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Wb("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:c,value:h}=r[s];"id"!==c&&i.setAttribute(c,h)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:r,options:s}=t,c=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function SW(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const h=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,r);if(!h)throw GL(r);const p=this._inProgressUrlFetches.get(h);if(p)return p;const _=this._httpClient.get(h,{responseType:"text",withCredentials:c}).pipe((0,mt.U)(w=>Wb(w)),L0(()=>this._inProgressUrlFetches.delete(h)),(0,Ql.B)());return this._inProgressUrlFetches.set(h,_),_}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(WL(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return AW(s)?new Yf(s.url,null,s.options):new Yf(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ts,8),l.LFG(tr),l.LFG(K,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eI(n){return n.cloneNode(!0)}function WL(n,e){return n+":"+e}function AW(n){return!(!n.url||!n.options)}const MW=Ub(class{constructor(n){this._elementRef=n}}),kW=new l.OlP("mat-icon-location",{providedIn:"root",factory:function RW(){const n=(0,l.f3M)(K),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),qL=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],OW=qL.map(n=>`[${n}]`).join(", "),PW=/^url\(['"]?#(.*?)['"]?\)$/;let jm=(()=>{class n extends MW{constructor(t,i,r,s,c){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._currentIconFetch=Ko.w0.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Tr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(OW),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)qL.forEach(c=>{const h=i[s],p=h.getAttribute(c),_=p?p.match(PW):null;if(_){let w=r.get(h);w||(w=[],r.set(h,w)),w.push({name:c,value:_[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Bn.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(XT),l.$8M("aria-hidden"),l.Y36(kW),l.Y36(l.qLn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:IW,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),ZL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gi],gi]}),n})();const KL=["*"],NW=["content"];function FW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){return l.CHM(t),l.oxw()._onBackdropClicked()}),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function LW(n,e){1&n&&(l.TgZ(0,"mat-drawer-content"),l.Hsn(1,2),l.qZA())}const BW=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],VW=["mat-drawer","mat-drawer-content","*"],UW={transformDrawer:kc("transform",[Rc("open, open-instant",Pr({transform:"none",visibility:"visible"})),Rc("void",Pr({"box-shadow":"none",visibility:"hidden"})),Va("void => open-instant",Mu("0ms")),Va("void <=> open, open-instant => void",Mu("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},jW=new l.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function HW(){return!1}}),YL=new l.OlP("MAT_DRAWER_CONTAINER");let Ik=(()=>{class n extends vk{constructor(t,i,r,s,c){super(r,s,c),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>Zb)),l.Y36(l.SBq),l.Y36(yk),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&l.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[l._Bn([{provide:vk,useExisting:n}]),l.qOj],ngContentSelectors:KL,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),qb=(()=>{class n{constructor(t,i,r,s,c,h,p,_){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=c,this._interactivityChecker=h,this._doc=p,this._container=_,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Bt.x,this._animationEnd=new Bt.x,this._animationState="void",this.openedChange=new l.vpe(!0),this._openedStream=this.openedChange.pipe(wn(w=>w),(0,mt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(wn(w=>w.fromState!==w.toState&&0===w.toState.indexOf("open")),um(void 0)),this._closedStream=this.openedChange.pipe(wn(w=>!w),(0,mt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(wn(w=>w.fromState!==w.toState&&"void"===w.toState),um(void 0)),this._destroyed=new Bt.x,this.onPositionChanged=new l.vpe,this._modeChanged=new Bt.x,this.openedChange.subscribe(w=>{w?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Lu(this._elementRef.nativeElement,"keydown").pipe(wn(w=>27===w.keyCode&&!this.disableClose&&!Uf(w)),or(this._destroyed)).subscribe(w=>this._ngZone.run(()=>{this.close(),w.stopPropagation(),w.preventDefault()}))}),this._animationEnd.pipe(hb((w,T)=>w.fromState===T.fromState&&w.toState===T.toState)).subscribe(w=>{const{fromState:T,toState:A}=w;(0===A.indexOf("open")&&"void"===T||"void"===A&&0===T.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Tr(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"===this.mode?"dialog":"first-tabbable":t}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Tr(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Tr(t))}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var t;this._focusTrap&&this._focusTrap.destroy(),null===(t=this._anchor)||void 0===t||t.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe((0,Bn.q)(1)).subscribe(c=>s(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(mT),l.Y36(Hf),l.Y36(is),l.Y36(l.R0b),l.Y36(bm),l.Y36(K,8),l.Y36(YL,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&l.Gf(NW,5),2&t){let r;l.iGM(r=l.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&l.WFA("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&t&&(l.uIk("align",null),l.d8E("@transform",i._animationState),l.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:KL,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},directives:[vk],encapsulation:2,data:{animation:[UW.transformDrawer]},changeDetection:0}),n})(),Zb=(()=>{class n{constructor(t,i,r,s,c,h=!1,p){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=p,this._drawers=new l.n_E,this.backdropClick=new l.vpe,this._destroyed=new Bt.x,this._doCheckSubject=new Bt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Bt.x,t&&t.change.pipe(or(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(or(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Tr(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:Tr(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(wo(this._allDrawers),or(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(wo(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Ac(10),or(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(wn(i=>i.fromState!==i.toState),or(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(or(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(or(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Bn.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(or((0,Kr.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Dc,8),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(bk),l.Y36(jW),l.Y36(Fu,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,Ik,5),l.Suo(r,qb,5)),2&t){let s;l.iGM(s=l.CRH())&&(i._content=s.first),l.iGM(s=l.CRH())&&(i._allDrawers=s)}},viewQuery:function(t,i){if(1&t&&l.Gf(Ik,5),2&t){let r;l.iGM(r=l.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[l._Bn([{provide:YL,useExisting:n}])],ngContentSelectors:VW,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(l.F$t(BW),l.YNc(0,FW,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,LW,2,0,"mat-drawer-content",1)),2&t&&(l.Q6J("ngIf",i.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!i._content))},directives:[Ik,Ln],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),QL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Fi,gi,Gb],Gb,gi]}),n})();M(5881);var JL=M(3942);const XL="@firebase/database";let Dk="";function t2(n){Dk=n}class $W{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,U.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,U.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class WW{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,U.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const n2=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new $W(e)}}catch(e){}return new WW},Qf=n2("localStorage"),Sk=n2("sessionStorage"),Hm=new vs.Yd("@firebase/database"),r2=function(){let n=1;return function(){return n++}}(),s2=function(n){const e=(0,U.dS)(n),t=new U.gQ;t.update(e);const i=t.digest();return U.US.encodeByteArray(i)},Kb=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=Kb.apply(null,i):e+="object"==typeof i?(0,U.Pz)(i):i,e+=" "}return e};let Jf=null,o2=!0;const a2=function(n,e){(0,U.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Hm.logLevel=vs.in.VERBOSE,Jf=Hm.log.bind(Hm),e&&Sk.set("logging_enabled",!0)):"function"==typeof n?Jf=n:(Jf=null,Sk.remove("logging_enabled"))},Nr=function(...n){if(!0===o2&&(o2=!1,null===Jf&&!0===Sk.get("logging_enabled")&&a2(!0)),Jf){const e=Kb.apply(null,n);Jf(e)}},Yb=function(n){return function(...e){Nr(n,...e)}},xk=function(...n){const e="FIREBASE INTERNAL ERROR: "+Kb(...n);Hm.error(e)},Nc=function(...n){const e=`FIREBASE FATAL ERROR: ${Kb(...n)}`;throw Hm.error(e),new Error(e)},Ss=function(...n){const e="FIREBASE WARNING: "+Kb(...n);Hm.warn(e)},tI=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Bu="[MIN_NAME]",Fc="[MAX_NAME]",Xf=function(n,e){if(n===e)return 0;if(n===Bu||e===Fc)return-1;if(e===Bu||n===Fc)return 1;{const t=nI(n),i=nI(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},KW=function(n,e){return n===e?0:n<e?-1:1},Qb=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,U.Pz)(e))},Ak=function(n){if("object"!=typeof n||null===n)return(0,U.Pz)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,U.Pz)(e[i]),t+=":",t+=Ak(n[e[i]]);return t+="}",t},l2=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Fr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const c2=function(n){(0,U.hu)(!tI(n),"Invalid JSON number");const i=1023;let r,s,c,h,p;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=h+i,c=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(r?1:0),_.reverse();const w=_.join("");let T="";for(p=0;p<64;p+=8){let A=parseInt(w.substr(p,8),2).toString(16);1===A.length&&(A="0"+A),T+=A}return T.toLowerCase()},XW=new RegExp("^-?(0*)\\d{1,10}$"),u2=-2147483648,Mk=2147483647,nI=function(n){if(XW.test(n)){const e=Number(n);if(e>=u2&&e<=Mk)return e}return null},zm=function(n){try{n()}catch(e){setTimeout(()=>{throw Ss("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Jb=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class t6{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Ss(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class n6{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Nr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ss(e)}}let Xb=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const g2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,y2="websocket",v2="long_polling";class Rk{constructor(e,t,i,r,s=!1,c="",h=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qf.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qf.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function b2(n,e,t){let i;if((0,U.hu)("string"==typeof e,"typeof type must == string"),(0,U.hu)("object"==typeof t,"typeof params must == object"),e===y2)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==v2)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function i6(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Fr(t,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class r6{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,U.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,U.p$)(this.counters_)}}const Ok={},Pk={};function Nk(n){const e=n.toString();return Ok[e]||(Ok[e]=new r6),Ok[e]}class o6{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&zm(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class sh{constructor(e,t,i,r,s,c,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yb(e),this.stats_=Nk(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),b2(t,v2,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new o6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,U.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fk((...s)=>{const[c,h,p,_,w]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=h,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&g2.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){sh.forceAllow_=!0}static forceDisallow(){sh.forceDisallow_=!0}static isAvailable(){return!((0,U.Yr)()||!sh.forceAllow_&&(sh.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,U.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,U.h$)(t),r=l2(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,U.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,U.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Fk{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,U.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=r2(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Fk.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Nr("frame writing exception"),h.stack&&Nr(h.stack),Nr(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Nr("No IE domain setting required")}catch(t){const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,U.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Nr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let rI=null;"undefined"!=typeof MozWebSocket?rI=MozWebSocket:"undefined"!=typeof WebSocket&&(rI=WebSocket);let Gm=(()=>{class n{constructor(t,i,r,s,c,h,p){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yb(this.connId),this.stats_=Nk(i),this.connURL=n.connectionURL_(i,h,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,c){const h={v:"5"};return!(0,U.Yr)()&&"undefined"!=typeof location&&location.hostname&&g2.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),s&&(h.ac=s),c&&(h.p=c),b2(t,y2,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qf.set("previous_websocket_failure",!0);try{let r;if((0,U.Yr)()){const c={headers:{"User-Agent":`Firebase/5/${Dk}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,p=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;p&&(c.proxy={origin:p})}this.mySock=new rI(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==rI&&!n.forceDisallow_}static previouslyFailed(){return Qf.isInMemoryStorage||!0===Qf.get("previous_websocket_failure")}markConnectionHealthy(){Qf.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,U.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,U.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,U.Pz)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=l2(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),S2=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[sh,Gm]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=Gm&&Gm.isAvailable();let r=i&&!Gm.previouslyFailed();if(t.webSocketOnly&&(i||Ss("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Gm];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class P2{constructor(e,t,i,r,s,c,h,p,_,w){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yb("c:"+this.id+":"),this.transportManager_=new S2(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Jb(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Qb("t",e),i=Qb("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Qb("t",e),i=Qb("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Qb("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?xk("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xk("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Ss("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Jb(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Jb(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qf.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class N2{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class F2{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,U.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,U.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class sI extends F2{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,U.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new sI}getInitialEvent(e){return(0,U.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class jn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function On(){return new jn("")}function an(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function oh(n){return n.pieces_.length-n.pieceNum_}function Jn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new jn(n.pieces_,e)}function Bk(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function ew(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function V2(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new jn(e,0)}function Ci(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof jn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new jn(t,0)}function ln(n){return n.pieceNum_>=n.pieces_.length}function Xs(n,e){const t=an(n),i=an(e);if(null===t)return e;if(t===i)return Xs(Jn(n),Jn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function x6(n,e){const t=ew(n,0),i=ew(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=Xf(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function Vk(n,e){if(oh(n)!==oh(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function $a(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(oh(n)>oh(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class A6{constructor(e,t){this.errorPrefix_=t,this.parts_=ew(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,U.ug)(this.parts_[i]);U2(this)}}function U2(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ep(n))}function ep(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Uk extends F2{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Uk}getInitialEvent(e){return(0,U.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const tw=1e3;let aI,tp=(()=>{class n extends N2{constructor(t,i,r,s,c,h,p,_){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=Yb("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=tw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,U.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Uk.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&sI.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,c={r:s,a:t,b:i};this.log_((0,U.Pz)(c)),(0,U.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new U.BH,r={p:t._path.toString(),q:t._queryObject},s={action:"g",request:r,onComplete:h=>{const p=h.d;"ok"===h.s?(this.onDataUpdate_(r.p,p,!1,null),i.resolve(p)):i.reject(p)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const h=this.outstandingGets_[c];void 0===h||s!==h||(delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(c),i.promise}listen(t,i,r,s){this.initConnection_();const c=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),(0,U.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,U.hu)(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(h).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,p=>{const _=p.d,w=p.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",p),"ok"!==w&&this.removeListen_(r,s),t.onComplete&&t.onComplete(w,_))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,U.r3)(t,"w")){const r=(0,U.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Ss(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,U.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,U.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,h=s.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,U.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const c={p:t};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,c){this.initConnection_();const h={p:i,d:r};void 0!==c&&(h.h=c),this.outstandingPuts_.push({action:t,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,U.Pz)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):xk("Unrecognized action received from server: "+(0,U.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,U.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=tw,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=tw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=tw),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,it.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let p=!1,_=null;const w=function(){_?_.close():(p=!0,s())};t.realtime_={close:w,sendRequest:function(F){(0,U.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(F)}};const A=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[F,V]=yield Promise.all([t.authTokenProvider_.getToken(A),t.appCheckTokenProvider_.getToken(A)]);p?Nr("getToken() completed but was canceled"):(Nr("getToken() completed. Creating connection."),t.authToken_=F&&F.accessToken,t.appCheckToken_=V&&V.token,_=new P2(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,ue=>{Ss(ue+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(F){t.log_("Failed to get token: "+F),p||(t.repoInfo_.nodeAdmin&&Ss(F),w())}}})()}interrupt(t){Nr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Nr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,U.xb)(this.interruptReasons_)&&(this.reconnectDelay_=tw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(c=>Ak(c)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new jn(t).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){Nr("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Nr("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,U.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+Dk.replace(/\./g,"-")]=1,(0,U.uI)()?t["framework.cordova"]=1:(0,U.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=sI.getInstance().currentlyOnline();return(0,U.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class un{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new un(e,t)}}class oI{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new un(Bu,e),r=new un(Bu,t);return 0!==this.compare(i,r)}minPost(){return un.MIN}}class z2 extends oI{static get __EMPTY_NODE(){return aI}static set __EMPTY_NODE(e){aI=e}compare(e,t){return Xf(e.name,t.name)}isDefinedOn(e){throw(0,U.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return un.MIN}maxPost(){return new un(Fc,aI)}makePost(e,t){return(0,U.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new un(e,aI)}toString(){return".key"}}const Lc=new z2;class lI{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=t?i(e.key,t):1,r&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Hk,Ol=(()=>{class n{constructor(t,i,r,s,c){this.key=t,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:ko.EMPTY_NODE,this.right=null!=c?c:ko.EMPTY_NODE}copy(t,i,r,s,c){return new n(null!=t?t:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=c?c:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const c=r(t,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ko.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return ko.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ko{constructor(e,t=ko.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ko(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ol.BLACK,null,null))}remove(e){return new ko(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ol.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new lI(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new lI(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new lI(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new lI(this.root_,null,this.comparator_,!0,e)}}function B6(n,e){return Xf(n.name,e.name)}function jk(n,e){return Xf(n,e)}ko.EMPTY_NODE=new class L6{copy(e,t,i,r,s){return this}insert(e,t,i){return new Ol(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const G2=function(n){return"number"==typeof n?"number:"+c2(n):"string:"+n},$2=function(n){if(n.isLeafNode()){const e=n.val();(0,U.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,U.r3)(e,".sv"),"Priority must be a string or number.")}else(0,U.hu)(n===Hk||n.isEmpty(),"priority of unexpected type.");(0,U.hu)(n===Hk||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let W2,q2,Z2,$m=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,U.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),$2(this.priorityNode_)}static set __childrenNodeConstructor(t){W2=t}static get __childrenNodeConstructor(){return W2}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ln(t)?this:".priority"===an(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=an(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,U.hu)(".priority"!==r||1===oh(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Jn(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+G2(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?c2(this.value_):this.value_,this.lazyHash_=s2(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,U.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,U.hu)(s>=0,"Unknown leaf type: "+i),(0,U.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const si=new class H6 extends oI{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?Xf(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return un.MIN}maxPost(){return new un(Fc,new $m("[PRIORITY-POST]",Z2))}makePost(e,t){const i=q2(e);return new un(t,new $m("[PRIORITY-POST]",i))}toString(){return".priority"}},z6=Math.log(2);class G6{constructor(e){this.count=parseInt(Math.log(e+1)/z6,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const cI=function(n,e,t,i){n.sort(e);const r=function(p,_){const w=_-p;let T,A;if(0===w)return null;if(1===w)return T=n[p],A=t?t(T):T,new Ol(A,T.node,Ol.BLACK,null,null);{const F=parseInt(w/2,10)+p,V=r(p,F),ue=r(F+1,_);return T=n[F],A=t?t(T):T,new Ol(A,T.node,Ol.BLACK,V,ue)}},h=function(p){let _=null,w=null,T=n.length;const A=function(V,ue){const Ce=T-V,Ke=T;T-=V;const Xe=r(Ce+1,Ke),st=n[Ce],et=t?t(st):st;F(new Ol(et,st.node,ue,null,Xe))},F=function(V){_?(_.left=V,_=V):(w=V,_=V)};for(let V=0;V<p.count;++V){const ue=p.nextBitIsOne(),Ce=Math.pow(2,p.count-(V+1));ue?A(Ce,Ol.BLACK):(A(Ce,Ol.BLACK),A(Ce,Ol.RED))}return w}(new G6(n.length));return new ko(i||e,h)};let zk;const Wm={};class Vu{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,U.hu)(Wm&&si,"ChildrenNode.ts has not been loaded"),zk=zk||new Vu({".priority":Wm},{".priority":si}),zk}get(e){const t=(0,U.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ko?t:null}hasIndex(e){return(0,U.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,U.hu)(e!==Lc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(un.Wrap);let h,c=s.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=s.getNext();h=r?cI(i,e.getCompare()):Wm;const p=e.toString(),_=Object.assign({},this.indexSet_);_[p]=e;const w=Object.assign({},this.indexes_);return w[p]=h,new Vu(w,_)}addToIndexes(e,t){const i=(0,U.UI)(this.indexes_,(r,s)=>{const c=(0,U.DV)(this.indexSet_,s);if((0,U.hu)(c,"Missing index implementation for "+s),r===Wm){if(c.isDefinedOn(e.node)){const h=[],p=t.getIterator(un.Wrap);let _=p.getNext();for(;_;)_.name!==e.name&&h.push(_),_=p.getNext();return h.push(e),cI(h,c.getCompare())}return Wm}{const h=t.get(e.name);let p=r;return h&&(p=p.remove(new un(e.name,h))),p.insert(e,e.node)}});return new Vu(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,U.UI)(this.indexes_,r=>{if(r===Wm)return r;{const s=t.get(e.name);return s?r.remove(new un(e.name,s)):r}});return new Vu(i,this.indexSet_)}}let nw,Jt=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&$2(this.priorityNode_),this.children_.isEmpty()&&(0,U.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return nw||(nw=new n(new ko(jk),null,Vu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||nw}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?nw:i}}getChild(t){const i=an(t);return null===i?this:this.getImmediateChild(i).getChild(Jn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,U.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new un(t,i);let s,c;i.isEmpty()?(s=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(r,this.children_));const h=s.isEmpty()?nw:this.priorityNode_;return new n(s,h,c)}}updateChild(t,i){const r=an(t);if(null===r)return i;{(0,U.hu)(".priority"!==an(t)||1===oh(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Jn(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(si,(h,p)=>{i[h]=p.val(t),r++,c&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):c=!1}),!t&&c&&s<2*r){const h=[];for(const p in i)h[p]=i[p];return h}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+G2(this.getPriority().val())+":"),this.forEachChild(si,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":s2(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new un(t,i));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new un(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new un(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,un.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,un.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)>0;)s.getNext(),c=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===iw?-1:0}withIndex(t){if(t===Lc||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Lc||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(si),s=i.getIterator(si);let c=r.getNext(),h=s.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=r.getNext(),h=s.getNext()}return null===c&&null===h}return!1}return!1}}resolveIndex_(t){return t===Lc?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const iw=new class $6 extends Jt{constructor(){super(new ko(jk),Jt.EMPTY_NODE,Vu.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Jt.EMPTY_NODE}isEmpty(){return!1}};function Oi(n,e=null){if(null===n)return Jt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,U.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new $m(n,Oi(e));if(n instanceof Array){let t=Jt.EMPTY_NODE;return Fr(n,(i,r)=>{if((0,U.r3)(n,i)&&"."!==i.substring(0,1)){const s=Oi(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(Oi(e))}{const t=[];let i=!1;if(Fr(n,(c,h)=>{if("."!==c.substring(0,1)){const p=Oi(h);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new un(c,p)))}}),0===t.length)return Jt.EMPTY_NODE;const s=cI(t,B6,c=>c.name,jk);if(i){const c=cI(t,si.getCompare());return new Jt(s,Oi(e),new Vu({".priority":c},{".priority":si}))}return new Jt(s,Oi(e),Vu.Default)}}Object.defineProperties(un,{MIN:{value:new un(Bu,Jt.EMPTY_NODE)},MAX:{value:new un(Fc,iw)}}),z2.__EMPTY_NODE=Jt.EMPTY_NODE,$m.__childrenNodeConstructor=Jt,function V6(n){Hk=n}(iw),function j6(n){Z2=n}(iw),function U6(n){q2=n}(Oi);class Gk extends oI{constructor(e){super(),this.indexPath_=e,(0,U.hu)(!ln(e)&&".priority"!==an(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?Xf(e.name,t.name):s}makePost(e,t){const i=Oi(e),r=Jt.EMPTY_NODE.updateChild(this.indexPath_,i);return new un(t,r)}maxPost(){const e=Jt.EMPTY_NODE.updateChild(this.indexPath_,iw);return new un(Fc,e)}toString(){return ew(this.indexPath_,0).join("/")}}const $k=new class q6 extends oI{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Xf(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return un.MIN}maxPost(){return un.MAX}makePost(e,t){const i=Oi(e);return new un(t,i)}toString(){return".value"}},qm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Z6=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=qm.charAt(t%64),t=Math.floor(t/64);(0,U.hu)(0===t,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=qm.charAt(e[r]);return(0,U.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),Q2=function(n){if(n===""+Mk)return"-";const e=nI(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let c=0;c<t.length;c++)t[c]=n.charAt(c);if(t.length<786)return t.push("-"),t.join("");let i=t.length-1;for(;i>=0&&"z"===t[i];)i--;if(-1===i)return Fc;const s=qm.charAt(qm.indexOf(t[i])+1);return t[i]=s,t.slice(0,i+1).join("")},J2=function(n){if(n===""+u2)return Bu;const e=nI(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let i=0;i<t.length;i++)t[i]=n.charAt(i);return"-"===t[t.length-1]?1===t.length?""+Mk:(delete t[t.length-1],t.join("")):(t[t.length-1]=qm.charAt(qm.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function X2(n){return{type:"value",snapshotNode:n}}function Zm(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function rw(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function sw(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class qk{constructor(e){this.index_=e}updateChild(e,t,i,r,s,c){(0,U.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(rw(t,h)):(0,U.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(Zm(t,i)):c.trackChildChange(sw(t,i,h))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(si,(r,s)=>{t.hasChild(r)||i.trackChildChange(rw(r,s))}),t.isLeafNode()||t.forEachChild(si,(r,s)=>{if(e.hasChild(r)){const c=e.getImmediateChild(r);c.equals(s)||i.trackChildChange(sw(r,s,c))}else i.trackChildChange(Zm(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Jt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ow{constructor(e){this.indexedFilter_=new qk(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ow.getStartPost_(e),this.endPost_=ow.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,i,r,s,c){return this.matches(new un(t,i))||(i=Jt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Jt.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Jt.EMPTY_NODE);const s=this;return t.forEachChild(si,(c,h)=>{s.matches(new un(c,h))||(r=r.updateImmediateChild(c,Jt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Y6{constructor(e){this.rangedFilter_=new ow(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,i,r,s,c){return this.rangedFilter_.matches(new un(t,i))||(i=Jt.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,c):this.fullLimitUpdateChild_(e,t,i,s,c)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=Jt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=Jt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const h=s.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),h)<=0:this.index_.compare(h,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(h.name,h.node),c++}}else{let s,c,h,p;if(r=t.withIndex(this.index_),r=r.updatePriority(Jt.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const T=this.index_.getCompare();h=(A,F)=>T(F,A)}else p=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();let _=0,w=!1;for(;p.hasNext();){const T=p.getNext();!w&&h(s,T)<=0&&(w=!0),w&&_<this.limit_&&h(T,c)<=0?_++:r=r.updateImmediateChild(T.name,Jt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let c;if(this.reverse_){const T=this.index_.getCompare();c=(A,F)=>T(F,A)}else c=this.index_.getCompare();const h=e;(0,U.hu)(h.numChildren()===this.limit_,"");const p=new un(t,i),_=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),w=this.rangedFilter_.matches(p);if(h.hasChild(t)){const T=h.getImmediateChild(t);let A=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=A&&(A.name===t||h.hasChild(A.name));)A=r.getChildAfterChild(this.index_,A,this.reverse_);const F=null==A?1:c(A,p);if(w&&!i.isEmpty()&&F>=0)return null!=s&&s.trackChildChange(sw(t,i,T)),h.updateImmediateChild(t,i);{null!=s&&s.trackChildChange(rw(t,T));const ue=h.updateImmediateChild(t,Jt.EMPTY_NODE);return null!=A&&this.rangedFilter_.matches(A)?(null!=s&&s.trackChildChange(Zm(A.name,A.node)),ue.updateImmediateChild(A.name,A.node)):ue}}return i.isEmpty()?e:w&&c(_,p)>=0?(null!=s&&(s.trackChildChange(rw(_.name,_.node)),s.trackChildChange(Zm(t,i))),h.updateImmediateChild(t,i).updateImmediateChild(_.name,Jt.EMPTY_NODE)):e}}class uI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=si}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,U.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===si}copy(){const e=new uI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Zk(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function Kk(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function dI(n,e){const t=n.copy();return t.index_=e,t}function eB(n){const e={};if(n.isDefault())return e;let t;return n.index_===si?t="$priority":n.index_===$k?t="$value":n.index_===Lc?t="$key":((0,U.hu)(n.index_ instanceof Gk,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,U.Pz)(t),n.startSet_&&(e.startAt=(0,U.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,U.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,U.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,U.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function tB(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==si&&(e.i=n.index_.toString()),e}class hI extends N2{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Yb("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,U.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const c=hI.getListenId_(e,i),h={};this.listens_[c]=h;const p=eB(e._queryParams);this.restRequest_(s+".json",p,(_,w)=>{let T=w;if(404===_&&(T=null,_=null),null===_&&this.onDataUpdate_(s,T,!1,i),(0,U.DV)(this.listens_,c)===h){let A;A=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(A,null)}})}unlisten(e,t){const i=hI.getListenId_(e,t);delete this.listens_[i]}get(e){const t=eB(e._queryParams),i=e._path.toString(),r=new U.BH;return this.restRequest_(i+".json",t,(s,c)=>{let h=c;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,U.xO)(t);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,U.cI)(h.responseText)}catch(_){Ss("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,p)}else 401!==h.status&&404!==h.status&&Ss("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}class nq{constructor(){this.rootNode_=Jt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function fI(){return{value:null,children:new Map}}function Km(n,e,t){if(ln(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=an(e);n.children.has(i)||n.children.set(i,fI()),Km(n.children.get(i),e=Jn(e),t)}}function Yk(n,e){if(ln(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(si,(i,r)=>{Km(n,new jn(i),r)}),Yk(n,e)}}if(n.children.size>0){const t=an(e);return e=Jn(e),n.children.has(t)&&Yk(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function Qk(n,e,t){null!==n.value?t(e,n.value):function iq(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{Qk(r,new jn(e.toString()+"/"+i),t)})}class rq{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Fr(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class aq{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new rq(e);const i=1e4+2e4*Math.random();Jb(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Fr(e,(r,s)=>{s>0&&(0,U.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),Jb(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Wa=(()=>{return(n=Wa||(Wa={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Wa;var n})();function eR(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class pI{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Wa.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ln(this.path)){if(null!=this.affectedTree.value)return(0,U.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new jn(e));return new pI(On(),t,this.revert)}}return(0,U.hu)(an(this.path)===e,"operationForChild called for unrelated child."),new pI(Jn(this.path),this.affectedTree,this.revert)}}class aw{constructor(e,t){this.source=e,this.path=t,this.type=Wa.LISTEN_COMPLETE}operationForChild(e){return ln(this.path)?new aw(this.source,On()):new aw(this.source,Jn(this.path))}}class np{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Wa.OVERWRITE}operationForChild(e){return ln(this.path)?new np(this.source,On(),this.snap.getImmediateChild(e)):new np(this.source,Jn(this.path),this.snap)}}class Ym{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Wa.MERGE}operationForChild(e){if(ln(this.path)){const t=this.children.subtree(new jn(e));return t.isEmpty()?null:t.value?new np(this.source,On(),t.value):new Ym(this.source,On(),t)}return(0,U.hu)(an(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ym(this.source,Jn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ah{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ln(e))return this.isFullyInitialized()&&!this.filtered_;const t=an(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class lq{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function lw(n,e,t,i,r,s){const c=i.filter(h=>h.type===t);c.sort((h,p)=>function dq(n,e,t){if(null==e.childName||null==t.childName)throw(0,U.g5)("Should only compare child_ events.");const i=new un(e.childName,e.snapshotNode),r=new un(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,h,p)),c.forEach(h=>{const p=function uq(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,s);r.forEach(_=>{_.respondsTo(h.type)&&e.push(_.createEvent(p,n.query_))})})}function gI(n,e){return{eventCache:n,serverCache:e}}function cw(n,e,t,i){return gI(new ah(e,t,i),n.serverCache)}function iB(n,e,t,i){return gI(n.eventCache,new ah(e,t,i))}function mI(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ip(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let tR;class oi{constructor(e,t=(()=>(tR||(tR=new ko(KW)),tR))()){this.value=e,this.children=t}static fromObject(e){let t=new oi(null);return Fr(e,(i,r)=>{t=t.set(new jn(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:On(),value:this.value};if(ln(e))return null;{const i=an(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Jn(e),t);return null!=s?{path:Ci(new jn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ln(e))return this;{const t=an(e),i=this.children.get(t);return null!==i?i.subtree(Jn(e)):new oi(null)}}set(e,t){if(ln(e))return new oi(t,this.children);{const i=an(e),s=(this.children.get(i)||new oi(null)).set(Jn(e),t),c=this.children.insert(i,s);return new oi(this.value,c)}}remove(e){if(ln(e))return this.children.isEmpty()?new oi(null):new oi(null,this.children);{const t=an(e),i=this.children.get(t);if(i){const r=i.remove(Jn(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new oi(null):new oi(this.value,s)}return this}}get(e){if(ln(e))return this.value;{const t=an(e),i=this.children.get(t);return i?i.get(Jn(e)):null}}setTree(e,t){if(ln(e))return t;{const i=an(e),s=(this.children.get(i)||new oi(null)).setTree(Jn(e),t);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new oi(this.value,c)}}fold(e){return this.fold_(On(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Ci(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,On(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(ln(e))return null;{const s=an(e),c=this.children.get(s);return c?c.findOnPath_(Jn(e),Ci(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,On(),t)}foreachOnPath_(e,t,i){if(ln(e))return this;{this.value&&i(t,this.value);const r=an(e),s=this.children.get(r);return s?s.foreachOnPath_(Jn(e),Ci(t,r),i):new oi(null)}}foreach(e){this.foreach_(On(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Ci(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Pl{constructor(e){this.writeTree_=e}static empty(){return new Pl(new oi(null))}}function uw(n,e,t){if(ln(e))return new Pl(new oi(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const c=Xs(r,e);return s=s.updateChild(c,t),new Pl(n.writeTree_.set(r,s))}{const r=new oi(t),s=n.writeTree_.setTree(e,r);return new Pl(s)}}}function nR(n,e,t){let i=n;return Fr(t,(r,s)=>{i=uw(i,Ci(e,r),s)}),i}function rB(n,e){if(ln(e))return Pl.empty();{const t=n.writeTree_.setTree(e,new oi(null));return new Pl(t)}}function iR(n,e){return null!=rp(n,e)}function rp(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Xs(t.path,e)):null}function sB(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(si,(i,r)=>{e.push(new un(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new un(i,r.value))}),e}function lh(n,e){if(ln(e))return n;{const t=rp(n,e);return new Pl(null!=t?new oi(t):n.writeTree_.subtree(e))}}function rR(n){return n.writeTree_.isEmpty()}function Qm(n,e){return oB(On(),n.writeTree_,e)}function oB(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,U.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=oB(Ci(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Ci(n,".priority"),i)),t}}function _I(n,e){return dB(e,n)}function _q(n,e){if(n.snap)return $a(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&$a(Ci(n.path,t),e))return!0;return!1}function vq(n){return n.visible}function aB(n,e,t){let i=Pl.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const c=s.path;let h;if(s.snap)$a(t,c)?(h=Xs(t,c),i=uw(i,h,s.snap)):$a(c,t)&&(h=Xs(c,t),i=uw(i,On(),s.snap.getChild(h)));else{if(!s.children)throw(0,U.g5)("WriteRecord should have .snap or .children");if($a(t,c))h=Xs(t,c),i=nR(i,h,s.children);else if($a(c,t))if(h=Xs(c,t),ln(h))i=nR(i,On(),s.children);else{const p=(0,U.DV)(s.children,an(h));if(p){const _=p.getChild(Jn(h));i=uw(i,On(),_)}}}}}return i}function lB(n,e,t,i,r){if(i||r){const s=lh(n.visibleWrites,e);return!r&&rR(s)?t:r||null!=t||iR(s,On())?Qm(aB(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&($a(_.path,e)||$a(e,_.path))},e),t||Jt.EMPTY_NODE):null}{const s=rp(n.visibleWrites,e);if(null!=s)return s;{const c=lh(n.visibleWrites,e);return rR(c)?t:null!=t||iR(c,On())?Qm(c,t||Jt.EMPTY_NODE):null}}}function yI(n,e,t,i){return lB(n.writeTree,n.treePath,e,t,i)}function sR(n,e){return function bq(n,e,t){let i=Jt.EMPTY_NODE;const r=rp(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(si,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(t){const s=lh(n.visibleWrites,e);return t.forEachChild(si,(c,h)=>{const p=Qm(lh(s,new jn(c)),h);i=i.updateImmediateChild(c,p)}),sB(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return sB(lh(n.visibleWrites,e)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,e)}function cB(n,e,t,i){return function wq(n,e,t,i,r){(0,U.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Ci(e,t);if(iR(n.visibleWrites,s))return null;{const c=lh(n.visibleWrites,s);return rR(c)?r.getChild(t):Qm(c,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function vI(n,e){return function Eq(n,e){return rp(n.visibleWrites,e)}(n.writeTree,Ci(n.treePath,e))}function oR(n,e,t){return function Cq(n,e,t,i){const r=Ci(e,t),s=rp(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?Qm(lh(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function uB(n,e){return dB(Ci(n.treePath,e),n.writeTree)}function dB(n,e){return{treePath:n,writeTree:e}}class Sq{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,U.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,U.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,sw(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,rw(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,Zm(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,U.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,sw(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const hB=new class xq{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class aR{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new ah(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return oR(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ip(this.viewCache_),s=function Dq(n,e,t,i,r,s){return function Tq(n,e,t,i,r,s,c){let h;const p=lh(n.visibleWrites,e),_=rp(p,On());if(null!=_)h=_;else{if(null==t)return[];h=Qm(p,t)}if(h=h.withIndex(c),h.isEmpty()||h.isLeafNode())return[];{const w=[],T=c.getCompare(),A=s?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let F=A.getNext();for(;F&&w.length<r;)0!==T(F,i)&&w.push(F),F=A.getNext();return w}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function fB(n,e,t,i,r,s){const c=e.eventCache;if(null!=vI(i,t))return e;{let h,p;if(ln(t))if((0,U.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=ip(e),T=sR(i,_ instanceof Jt?_:Jt.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),T,s)}else{const _=yI(i,ip(e));h=n.filter.updateFullNode(e.eventCache.getNode(),_,s)}else{const _=an(t);if(".priority"===_){(0,U.hu)(1===oh(t),"Can't have a priority with additional path components");const w=c.getNode();p=e.serverCache.getNode();const T=cB(i,t,w,p);h=null!=T?n.filter.updatePriority(w,T):c.getNode()}else{const w=Jn(t);let T;if(c.isCompleteForChild(_)){p=e.serverCache.getNode();const A=cB(i,t,c.getNode(),p);T=null!=A?c.getNode().getImmediateChild(_).updateChild(w,A):c.getNode().getImmediateChild(_)}else T=oR(i,_,e.serverCache);h=null!=T?n.filter.updateChild(c.getNode(),_,T,w,r,s):c.getNode()}}return cw(e,h,c.isFullyInitialized()||ln(t),n.filter.filtersNodes())}}function bI(n,e,t,i,r,s,c,h){const p=e.serverCache;let _;const w=c?n.filter:n.filter.getIndexedFilter();if(ln(t))_=w.updateFullNode(p.getNode(),i,null);else if(w.filtersNodes()&&!p.isFiltered()){const F=p.getNode().updateChild(t,i);_=w.updateFullNode(p.getNode(),F,null)}else{const F=an(t);if(!p.isCompleteForPath(t)&&oh(t)>1)return e;const V=Jn(t),Ce=p.getNode().getImmediateChild(F).updateChild(V,i);_=".priority"===F?w.updatePriority(p.getNode(),Ce):w.updateChild(p.getNode(),F,Ce,V,hB,null)}const T=iB(e,_,p.isFullyInitialized()||ln(t),w.filtersNodes());return fB(n,T,t,r,new aR(r,T,s),h)}function lR(n,e,t,i,r,s,c){const h=e.eventCache;let p,_;const w=new aR(r,e,s);if(ln(t))_=n.filter.updateFullNode(e.eventCache.getNode(),i,c),p=cw(e,_,!0,n.filter.filtersNodes());else{const T=an(t);if(".priority"===T)_=n.filter.updatePriority(e.eventCache.getNode(),i),p=cw(e,_,h.isFullyInitialized(),h.isFiltered());else{const A=Jn(t),F=h.getNode().getImmediateChild(T);let V;if(ln(A))V=i;else{const ue=w.getCompleteChild(T);V=null!=ue?".priority"===Bk(A)&&ue.getChild(V2(A)).isEmpty()?ue:ue.updateChild(A,i):Jt.EMPTY_NODE}p=F.equals(V)?e:cw(e,n.filter.updateChild(h.getNode(),T,V,A,w,c),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function pB(n,e){return n.eventCache.isCompleteForChild(e)}function gB(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function cR(n,e,t,i,r,s,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let _,p=e;_=ln(t)?i:new oi(null).setTree(t,i);const w=e.serverCache.getNode();return _.children.inorderTraversal((T,A)=>{if(w.hasChild(T)){const V=gB(0,e.serverCache.getNode().getImmediateChild(T),A);p=bI(n,p,new jn(T),V,r,s,c,h)}}),_.children.inorderTraversal((T,A)=>{const F=!e.serverCache.isCompleteForChild(T)&&void 0===A.value;if(!w.hasChild(T)&&!F){const ue=gB(0,e.serverCache.getNode().getImmediateChild(T),A);p=bI(n,p,new jn(T),ue,r,s,c,h)}}),p}class Lq{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new qk(i.getIndex()),s=function Q6(n){return n.loadsAllData()?new qk(n.getIndex()):n.hasLimit()?new Y6(n):new ow(n)}(i);this.processor_=function Aq(n){return{filter:n}}(s);const c=t.serverCache,h=t.eventCache,p=r.updateFullNode(Jt.EMPTY_NODE,c.getNode(),null),_=s.updateFullNode(Jt.EMPTY_NODE,h.getNode(),null),w=new ah(p,c.isFullyInitialized(),r.filtersNodes()),T=new ah(_,h.isFullyInitialized(),s.filtersNodes());this.viewCache_=gI(T,w),this.eventGenerator_=new lq(this.query_)}get query(){return this.query_}}function Uq(n,e){const t=ip(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ln(e)&&!t.getImmediateChild(an(e)).isEmpty())?t.getChild(e):null}function mB(n){return 0===n.eventRegistrations_.length}function _B(n,e,t){const i=[];if(t){(0,U.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(t,r);c&&i.push(c)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function yB(n,e,t,i){e.type===Wa.MERGE&&null!==e.source.queryId&&((0,U.hu)(ip(n.viewCache_),"We should always have a full cache before handling merges"),(0,U.hu)(mI(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function kq(n,e,t,i,r){const s=new Sq;let c,h;if(t.type===Wa.OVERWRITE){const _=t;_.source.fromUser?c=lR(n,e,_.path,_.snap,i,r,s):((0,U.hu)(_.source.fromServer,"Unknown source."),h=_.source.tagged||e.serverCache.isFiltered()&&!ln(_.path),c=bI(n,e,_.path,_.snap,i,r,h,s))}else if(t.type===Wa.MERGE){const _=t;_.source.fromUser?c=function Oq(n,e,t,i,r,s,c){let h=e;return i.foreach((p,_)=>{const w=Ci(t,p);pB(e,an(w))&&(h=lR(n,h,w,_,r,s,c))}),i.foreach((p,_)=>{const w=Ci(t,p);pB(e,an(w))||(h=lR(n,h,w,_,r,s,c))}),h}(n,e,_.path,_.children,i,r,s):((0,U.hu)(_.source.fromServer,"Unknown source."),h=_.source.tagged||e.serverCache.isFiltered(),c=cR(n,e,_.path,_.children,i,r,h,s))}else if(t.type===Wa.ACK_USER_WRITE){const _=t;c=_.revert?function Fq(n,e,t,i,r,s){let c;if(null!=vI(i,t))return e;{const h=new aR(i,e,r),p=e.eventCache.getNode();let _;if(ln(t)||".priority"===an(t)){let w;if(e.serverCache.isFullyInitialized())w=yI(i,ip(e));else{const T=e.serverCache.getNode();(0,U.hu)(T instanceof Jt,"serverChildren would be complete if leaf node"),w=sR(i,T)}w=w,_=n.filter.updateFullNode(p,w,s)}else{const w=an(t);let T=oR(i,w,e.serverCache);null==T&&e.serverCache.isCompleteForChild(w)&&(T=p.getImmediateChild(w)),_=null!=T?n.filter.updateChild(p,w,T,Jn(t),h,s):e.eventCache.getNode().hasChild(w)?n.filter.updateChild(p,w,Jt.EMPTY_NODE,Jn(t),h,s):p,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=yI(i,ip(e)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,s)))}return c=e.serverCache.isFullyInitialized()||null!=vI(i,On()),cw(e,_,c,n.filter.filtersNodes())}}(n,e,_.path,i,r,s):function Pq(n,e,t,i,r,s,c){if(null!=vI(r,t))return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(null!=i.value){if(ln(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return bI(n,e,t,p.getNode().getChild(t),r,s,h,c);if(ln(t)){let _=new oi(null);return p.getNode().forEachChild(Lc,(w,T)=>{_=_.set(new jn(w),T)}),cR(n,e,t,_,r,s,h,c)}return e}{let _=new oi(null);return i.foreach((w,T)=>{const A=Ci(t,w);p.isCompleteForPath(A)&&(_=_.set(w,p.getNode().getChild(A)))}),cR(n,e,t,_,r,s,h,c)}}(n,e,_.path,_.affectedTree,i,r,s)}else{if(t.type!==Wa.LISTEN_COMPLETE)throw(0,U.g5)("Unknown operation type: "+t.type);c=function Nq(n,e,t,i,r){const s=e.serverCache;return fB(n,iB(e,s.getNode(),s.isFullyInitialized()||ln(t),s.isFiltered()),t,i,hB,r)}(n,e,t.path,i,s)}const p=s.getChanges();return function Rq(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=mI(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(X2(mI(e)))}}(e,c,p),{viewCache:c,changes:p}}(n.processor_,r,e,t,i);return function Mq(n,e){(0,U.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,U.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,U.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,vB(n,s.changes,s.viewCache.eventCache.getNode(),null)}function vB(n,e,t,i){return function cq(n,e,t,i){const r=[],s=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function K6(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),lw(n,r,"child_removed",e,i,t),lw(n,r,"child_added",e,i,t),lw(n,r,"child_moved",s,i,t),lw(n,r,"child_changed",e,i,t),lw(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let wI,EI;class bB{constructor(){this.views=new Map}}function uR(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,U.hu)(null!=s,"SyncTree gave us an op for an invalid query."),yB(s,e,t,i)}{let s=[];for(const c of n.views.values())s=s.concat(yB(c,e,t,i));return s}}function wB(n,e,t,i,r){const c=n.views.get(e._queryIdentifier);if(!c){let h=yI(t,r?i:null),p=!1;h?p=!0:i instanceof Jt?(h=sR(t,i),p=!1):(h=Jt.EMPTY_NODE,p=!1);const _=gI(new ah(h,p,!1),new ah(i,r,!1));return new Lq(e,_)}return c}function CB(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function ch(n,e){let t=null;for(const i of n.views.values())t=t||Uq(i,e);return t}function EB(n,e){return e._queryParams.loadsAllData()?CI(n):n.views.get(e._queryIdentifier)}function TB(n,e){return null!=EB(n,e)}function uh(n){return null!=CI(n)}function CI(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Yq=1;class IB{constructor(e){this.listenProvider_=e,this.syncPointTree_=new oi(null),this.pendingWriteTree_=function Iq(){return{visibleWrites:Pl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function dR(n,e,t,i,r){return function fq(n,e,t,i,r){(0,U.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=uw(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?Jm(n,new np({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function dh(n,e,t=!1){const i=function gq(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function mq(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,U.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=t&&_q(h,i.path)?r=!1:$a(i.path,h.path)&&(s=!0)),c--}return!!r&&(s?(function yq(n){n.visibleWrites=aB(n.allWrites,vq,On()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=rB(n.visibleWrites,i.path):Fr(i.children,p=>{n.visibleWrites=rB(n.visibleWrites,Ci(i.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new oi(null);return null!=i.snap?s=s.set(On(),!0):Fr(i.children,c=>{s=s.set(new jn(c),!0)}),Jm(n,new pI(i.path,s,t))}return[]}function dw(n,e,t){return Jm(n,new np({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function hR(n,e,t,i){const r=e._path,s=n.syncPointTree_.get(r);let c=[];if(s&&("default"===e._queryIdentifier||TB(s,e))){const h=function qq(n,e,t,i){const r=e._queryIdentifier,s=[];let c=[];const h=uh(n);if("default"===r)for(const[p,_]of n.views.entries())c=c.concat(_B(_,t,i)),mB(_)&&(n.views.delete(p),_.query._queryParams.loadsAllData()||s.push(_.query));else{const p=n.views.get(r);p&&(c=c.concat(_B(p,t,i)),mB(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return h&&!uh(n)&&s.push(new(function Gq(){return(0,U.hu)(wI,"Reference.ts has not been loaded"),wI}())(e._repo,e._path)),{removed:s,events:c}}(s,e,t,i);(function $q(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const p=h.removed;c=h.events;const _=-1!==p.findIndex(T=>T._queryParams.loadsAllData()),w=n.syncPointTree_.findOnPath(r,(T,A)=>uh(A));if(_&&!w){const T=n.syncPointTree_.subtree(r);if(!T.isEmpty()){const A=function r4(n){return n.fold((e,t,i)=>{if(t&&uh(t))return[CI(t)];{let r=[];return t&&(r=CB(t)),Fr(i,(s,c)=>{r=r.concat(c)}),r}})}(T);for(let F=0;F<A.length;++F){const V=A[F],ue=V.query,Ce=AB(n,V);n.listenProvider_.startListening(hw(ue),II(n,ue),Ce.hashFn,Ce.onComplete)}}}!w&&p.length>0&&!i&&(_?n.listenProvider_.stopListening(hw(e),null):p.forEach(T=>{const A=n.queryToTagMap.get(DI(T));n.listenProvider_.stopListening(hw(T),A)})),function s4(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=DI(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,p)}return c}function DB(n,e,t){const i=e._path;let r=null,s=!1;n.syncPointTree_.foreachOnPath(i,(T,A)=>{const F=Xs(T,i);r=r||ch(A,F),s=s||uh(A)});let h,c=n.syncPointTree_.get(i);c?(s=s||uh(c),r=r||ch(c,On())):(c=new bB,n.syncPointTree_=n.syncPointTree_.set(i,c)),null!=r?h=!0:(h=!1,r=Jt.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((A,F)=>{const V=ch(F,On());V&&(r=r.updateImmediateChild(A,V))}));const p=TB(c,e);if(!p&&!e._queryParams.loadsAllData()){const T=DI(e);(0,U.hu)(!n.queryToTagMap.has(T),"View does not exist, but we have a tag");const A=function o4(){return Yq++}();n.queryToTagMap.set(T,A),n.tagToQueryMap.set(A,T)}let w=function Wq(n,e,t,i,r,s){const c=wB(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function jq(n,e){n.eventRegistrations_.push(e)}(c,t),function Hq(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(si,(s,c)=>{i.push(Zm(s,c))}),t.isFullyInitialized()&&i.push(X2(t.getNode())),vB(n,i,t.getNode(),e)}(c,t)}(c,e,t,_I(n.pendingWriteTree_,i),r,h);if(!p&&!s){const T=EB(c,e);w=w.concat(function a4(n,e,t){const i=e._path,r=II(n,e),s=AB(n,t),c=n.listenProvider_.startListening(hw(e),r,s.hashFn,s.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,U.hu)(!uh(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((_,w,T)=>{if(!ln(_)&&w&&uh(w))return[CI(w).query];{let A=[];return w&&(A=A.concat(CB(w).map(F=>F.query))),Fr(T,(F,V)=>{A=A.concat(V)}),A}});for(let _=0;_<p.length;++_){const w=p[_];n.listenProvider_.stopListening(hw(w),II(n,w))}}return c}(n,e,T))}return w}function TI(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(c,h)=>{const _=ch(h,Xs(c,e));if(_)return _});return lB(r,e,s,t,!0)}function Jm(n,e){return SB(e,n.syncPointTree_,null,_I(n.pendingWriteTree_,On()))}function SB(n,e,t,i){if(ln(n.path))return xB(n,e,t,i);{const r=e.get(On());null==t&&null!=r&&(t=ch(r,On()));let s=[];const c=an(n.path),h=n.operationForChild(c),p=e.children.get(c);if(p&&h){const _=t?t.getImmediateChild(c):null,w=uB(i,c);s=s.concat(SB(h,p,_,w))}return r&&(s=s.concat(uR(r,n,i,t))),s}}function xB(n,e,t,i){const r=e.get(On());null==t&&null!=r&&(t=ch(r,On()));let s=[];return e.children.inorderTraversal((c,h)=>{const p=t?t.getImmediateChild(c):null,_=uB(i,c),w=n.operationForChild(c);w&&(s=s.concat(xB(w,h,p,_)))}),r&&(s=s.concat(uR(r,n,i,t))),s}function AB(n,e){const t=e.query,i=II(n,t);return{hashFn:()=>(function Bq(n){return n.viewCache_.serverCache.getNode()}(e)||Jt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function e4(n,e,t){const i=fR(n,t);if(i){const r=pR(i),s=r.path,c=r.queryId,h=Xs(s,e);return gR(n,s,new aw(eR(c),h))}return[]}(n,t._path,i):function Xq(n,e){return Jm(n,new aw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function JW(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return hR(n,t,null,s)}}}}function II(n,e){const t=DI(e);return n.queryToTagMap.get(t)}function DI(n){return n._path.toString()+"$"+n._queryIdentifier}function fR(n,e){return n.tagToQueryMap.get(e)}function pR(n){const e=n.indexOf("$");return(0,U.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new jn(n.substr(0,e))}}function gR(n,e,t){const i=n.syncPointTree_.get(e);return(0,U.hu)(i,"Missing sync point for query tag that we're tracking"),uR(i,t,_I(n.pendingWriteTree_,e),null)}function hw(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Kq(){return(0,U.hu)(EI,"Reference.ts has not been loaded"),EI}())(n._repo,n._path):n}class mR{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new mR(t)}node(){return this.node_}}class _R{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ci(this.path_,e);return new _R(this.syncTree_,t)}node(){return TI(this.syncTree_,this.path_)}}const MB=function(n,e,t){return n&&"object"==typeof n?((0,U.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?c4(n[".sv"],e,t):"object"==typeof n[".sv"]?u4(n[".sv"],e):void(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},c4=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,U.hu)(!1,"Unexpected server value: "+n)},u4=function(n,e,t){n.hasOwnProperty("increment")||(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,U.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,U.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},kB=function(n,e,t,i){return vR(e,new _R(t,n),i)},yR=function(n,e,t){return vR(n,new mR(e),t)};function vR(n,e,t){const i=n.getPriority().val(),r=MB(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const c=n,h=MB(c.getValue(),e,t);return h!==c.getValue()||r!==c.getPriority().val()?new $m(h,Oi(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new $m(r))),c.forEachChild(si,(h,p)=>{const _=vR(p,e.getImmediateChild(h),t);_!==p&&(s=s.updateImmediateChild(h,_))}),s}}class bR{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function SI(n,e){let t=e instanceof jn?e:new jn(e),i=n,r=an(t);for(;null!==r;){const s=(0,U.DV)(i.node.children,r)||{children:{},childCount:0};i=new bR(r,i,s),t=Jn(t),r=an(t)}return i}function sp(n){return n.node.value}function wR(n,e){n.node.value=e,CR(n)}function RB(n){return n.node.childCount>0}function xI(n,e){Fr(n.node.children,(t,i)=>{e(new bR(t,n,i))})}function OB(n,e,t,i){t&&!i&&e(n),xI(n,r=>{OB(r,e,!0,i)}),t&&i&&e(n)}function fw(n){return new jn(null===n.parent?n.name:fw(n.parent)+"/"+n.name)}function CR(n){null!==n.parent&&function f4(n,e,t){const i=function d4(n){return void 0===sp(n)&&!RB(n)}(t),r=(0,U.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,CR(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,CR(n))}(n.parent,n.name,n)}const p4=/[\[\].#$\/\u0000-\u001F\u007F]/,g4=/[\[\].#$\u0000-\u001F\u007F]/,ER=10485760,AI=function(n){return"string"==typeof n&&0!==n.length&&!p4.test(n)},PB=function(n){return"string"==typeof n&&0!==n.length&&!g4.test(n)},pw=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!tI(n)||n&&"object"==typeof n&&(0,U.r3)(n,".sv")},Bc=function(n,e,t,i){i&&void 0===e||gw((0,U.gK)(n,"value"),e,t)},gw=function(n,e,t){const i=t instanceof jn?new A6(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+ep(i));if("function"==typeof e)throw new Error(n+"contains a function "+ep(i)+" with contents = "+e.toString());if(tI(e))throw new Error(n+"contains "+e.toString()+" "+ep(i));if("string"==typeof e&&e.length>ER/3&&(0,U.ug)(e)>ER)throw new Error(n+"contains a string greater than "+ER+" utf8 bytes "+ep(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(Fr(e,(c,h)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!AI(c)))throw new Error(n+" contains an invalid key ("+c+") "+ep(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function M6(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,U.ug)(e),U2(n)})(i,c),gw(n,h,i),function k6(n){const e=n.parts_.pop();n.byteLength_-=(0,U.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+ep(i)+" in addition to actual children.")}},NB=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,U.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];Fr(e,(c,h)=>{const p=new jn(c);if(gw(r,h,Ci(t,p)),".priority"===Bk(p)&&!pw(h))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=ew(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!AI(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(x6);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&$a(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},TR=function(n,e,t){if(!t||void 0!==e){if(tI(e))throw new Error((0,U.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!pw(e))throw new Error((0,U.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},mw=function(n,e,t,i){if(!(i&&void 0===t||AI(t)))throw new Error((0,U.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},_w=function(n,e,t,i){if(!(i&&void 0===t||PB(t)))throw new Error((0,U.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},qa=function(n,e){if(".info"===an(e))throw new Error(n+" failed = Can't modify data under /.info/")},FB=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!AI(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),PB(n)}(t))throw new Error((0,U.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class v4{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function MI(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!Vk(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function IR(n,e,t){MI(n,t),LB(n,i=>Vk(i,e))}function Za(n,e,t){MI(n,t),LB(n,i=>$a(i,e)||$a(e,i))}function LB(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(b4(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function b4(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Jf&&Nr("event: "+t.toString()),zm(i)}}}const BB="repo_interrupt";class C4{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new v4,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fI(),this.transactionQueueTree_=new bR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function VB(n){const t=n.infoData_.getNode(new jn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function yw(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:VB(n)})}function UB(n,e,t,i,r){n.dataUpdateCount++;const s=new jn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(r)if(i){const p=(0,U.UI)(t,_=>Oi(_));c=function n4(n,e,t,i){const r=fR(n,i);if(r){const s=pR(r),c=s.path,h=s.queryId,p=Xs(c,e),_=oi.fromObject(t);return gR(n,c,new Ym(eR(h),p,_))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=Oi(t);c=function t4(n,e,t,i){const r=fR(n,i);if(null!=r){const s=pR(r),c=s.path,h=s.queryId,p=Xs(c,e);return gR(n,c,new np(eR(h),p,t))}return[]}(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,U.UI)(t,_=>Oi(_));c=function Jq(n,e,t){const i=oi.fromObject(t);return Jm(n,new Ym({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,p)}else{const p=Oi(t);c=dw(n.serverSyncTree_,s,p)}let h=s;c.length>0&&(h=e_(n,s)),Za(n.eventQueue_,h,c)}function jB(n,e){DR(n,"connected",e),!1===e&&function S4(n){Xm(n,"onDisconnectEvents");const e=yw(n),t=fI();Qk(n.onDisconnect_,On(),(r,s)=>{const c=kB(r,s,n.serverSyncTree_,e);Km(t,r,c)});let i=[];Qk(t,On(),(r,s)=>{i=i.concat(dw(n.serverSyncTree_,r,s));const c=MR(n,r);e_(n,c)}),n.onDisconnect_=fI(),Za(n.eventQueue_,On(),i)}(n)}function DR(n,e,t){const i=new jn("/.info/"+e),r=Oi(t);n.infoData_.updateSnapshot(i,r);const s=dw(n.infoSyncTree_,i,r);Za(n.eventQueue_,i,s)}function kI(n){return n.nextWriteId_++}function SR(n,e,t,i,r){Xm(n,"set",{path:e.toString(),value:t,priority:i});const s=yw(n),c=Oi(t,i),h=TI(n.serverSyncTree_,e),p=yR(c,h,s),_=kI(n),w=dR(n.serverSyncTree_,e,p,_,!0);MI(n.eventQueue_,w),n.server_.put(e.toString(),c.val(!0),(A,F)=>{const V="ok"===A;V||Ss("set at "+e+" failed: "+A);const ue=dh(n.serverSyncTree_,_,!V);Za(n.eventQueue_,e,ue),hh(0,r,A,F)});const T=MR(n,e);e_(n,T),Za(n.eventQueue_,T,[])}function x4(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&Yk(n.onDisconnect_,e),hh(0,t,i,r)})}function HB(n,e,t,i){const r=Oi(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,c)=>{"ok"===s&&Km(n.onDisconnect_,e,r),hh(0,i,s,c)})}function xR(n,e,t){let i;i=".info"===an(e._path)?hR(n.infoSyncTree_,e,t):hR(n.serverSyncTree_,e,t),IR(n.eventQueue_,e._path,i)}function zB(n){n.persistentConnection_&&n.persistentConnection_.interrupt(BB)}function Xm(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Nr(t,...e)}function hh(n,e,t,i){e&&zm(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,e(c)}})}function AR(n,e,t){return TI(n.serverSyncTree_,e,t)||Jt.EMPTY_NODE}function RI(n,e=n.transactionQueueTree_){if(e||OI(n,e),sp(e)){const t=$B(n,e);(0,U.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function P4(n,e,t){const i=t.map(_=>_.currentWriteId),r=AR(n,e,i);let s=r;const c=r.hash();for(let _=0;_<t.length;_++){const w=t[_];(0,U.hu)(0===w.status,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const T=Xs(e,w.path);s=s.updateChild(T,w.currentOutputSnapshotRaw)}const h=s.val(!0),p=e;n.server_.put(p.toString(),h,_=>{Xm(n,"transaction put response",{path:p.toString(),status:_});let w=[];if("ok"===_){const T=[];for(let A=0;A<t.length;A++)t[A].status=2,w=w.concat(dh(n.serverSyncTree_,t[A].currentWriteId)),t[A].onComplete&&T.push(()=>t[A].onComplete(null,!0,t[A].currentOutputSnapshotResolved)),t[A].unwatcher();OI(n,SI(n.transactionQueueTree_,e)),RI(n,n.transactionQueueTree_),Za(n.eventQueue_,e,w);for(let A=0;A<T.length;A++)zm(T[A])}else{if("datastale"===_)for(let T=0;T<t.length;T++)t[T].status=3===t[T].status?4:0;else{Ss("transaction at "+p.toString()+" failed: "+_);for(let T=0;T<t.length;T++)t[T].status=4,t[T].abortReason=_}e_(n,e)}},c)}(n,fw(e),t)}else RB(e)&&xI(e,t=>{RI(n,t)})}function e_(n,e){const t=GB(n,e),i=fw(t);return function N4(n,e,t){if(0===e.length)return;const i=[];let r=[];const c=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],_=Xs(t,p.path);let T,w=!1;if((0,U.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)w=!0,T=p.abortReason,r=r.concat(dh(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)w=!0,T="maxretry",r=r.concat(dh(n.serverSyncTree_,p.currentWriteId,!0));else{const A=AR(n,p.path,c);p.currentInputSnapshot=A;const F=e[h].update(A.val());if(void 0!==F){gw("transaction failed: Data returned ",F,p.path);let V=Oi(F);"object"==typeof F&&null!=F&&(0,U.r3)(F,".priority")||(V=V.updatePriority(A.getPriority()));const Ce=p.currentWriteId,Ke=yw(n),Xe=yR(V,A,Ke);p.currentOutputSnapshotRaw=V,p.currentOutputSnapshotResolved=Xe,p.currentWriteId=kI(n),c.splice(c.indexOf(Ce),1),r=r.concat(dR(n.serverSyncTree_,p.path,Xe,p.currentWriteId,p.applyLocally)),r=r.concat(dh(n.serverSyncTree_,Ce,!0))}else w=!0,T="nodata",r=r.concat(dh(n.serverSyncTree_,p.currentWriteId,!0))}Za(n.eventQueue_,t,r),r=[],w&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&i.push("nodata"===T?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(T),!1,null)))}OI(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)zm(i[h]);RI(n,n.transactionQueueTree_)}(n,$B(n,t),i),i}function GB(n,e){let t,i=n.transactionQueueTree_;for(t=an(e);null!==t&&void 0===sp(i);)i=SI(i,t),t=an(e=Jn(e));return i}function $B(n,e){const t=[];return WB(n,e,t),t.sort((i,r)=>i.order-r.order),t}function WB(n,e,t){const i=sp(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);xI(e,r=>{WB(n,r,t)})}function OI(n,e){const t=sp(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,wR(e,t.length>0?t:void 0)}xI(e,i=>{OI(n,i)})}function MR(n,e){const t=fw(GB(n,e)),i=SI(n.transactionQueueTree_,e);return function h4(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{kR(n,r)}),kR(n,i),OB(i,r=>{kR(n,r)}),t}function kR(n,e){const t=sp(e);if(t){const i=[];let r=[],s=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,U.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,t[c].status=3,t[c].abortReason="set"):((0,U.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),r=r.concat(dh(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?wR(e,void 0):t.length=s+1,Za(n.eventQueue_,fw(e),r);for(let c=0;c<i.length;c++)zm(i[c])}}const RR=function(n,e){const t=B4(n),i=t.namespace;return"firebase.com"===t.domain&&Nc(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Nc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ss("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Rk(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new jn(t.pathString)}},B4=function(n){let e="",t="",i="",r="",s="",c=!0,h="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(h=n.substring(0,_-1),n=n.substring(_+2));let w=n.indexOf("/");-1===w&&(w=n.length);let T=n.indexOf("?");-1===T&&(T=n.length),e=n.substring(0,Math.min(w,T)),w<T&&(r=function F4(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}e+="/"+r}return e}(n.substring(w,T)));const A=function L4(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ss(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,T)));_=e.indexOf(":"),_>=0?(c="https"===h||"wss"===h,p=parseInt(e.substring(_+1),10)):_=e.length;const F=e.slice(0,_);if("localhost"===F.toLowerCase())t="localhost";else if(F.split(".").length<=2)t=F;else{const V=e.indexOf(".");i=e.substring(0,V).toLowerCase(),t=e.substring(V+1),s=i}"ns"in A&&(s=A.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:c,scheme:h,pathString:r,namespace:s}};class qB{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,U.Pz)(this.snapshot.exportVal())}}class ZB{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class KB{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,U.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class YB{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new U.BH;return x4(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){qa("OnDisconnect.remove",this._path);const e=new U.BH;return HB(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){qa("OnDisconnect.set",this._path),Bc("OnDisconnect.set",e,this._path,!1);const t=new U.BH;return HB(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){qa("OnDisconnect.setWithPriority",this._path),Bc("OnDisconnect.setWithPriority",e,this._path,!1),TR("OnDisconnect.setWithPriority",t,!1);const i=new U.BH;return function A4(n,e,t,i,r){const s=Oi(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(c,h)=>{"ok"===c&&Km(n.onDisconnect_,e,s),hh(0,r,c,h)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){qa("OnDisconnect.update",this._path),NB("OnDisconnect.update",e,this._path,!1);const t=new U.BH;return function M4(n,e,t,i){if((0,U.xb)(t))return Nr("onDisconnect().update() called with empty data.  Don't do anything."),void hh(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&Fr(t,(c,h)=>{const p=Oi(h);Km(n.onDisconnect_,Ci(e,c),p)}),hh(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Ro{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return ln(this._path)?null:Bk(this._path)}get ref(){return new Ka(this._repo,this._path)}get _queryIdentifier(){const e=tB(this._queryParams),t=Ak(e);return"{}"===t?"default":t}get _queryObject(){return tB(this._queryParams)}isEqual(e){if(!((e=(0,U.m9)(e))instanceof Ro))return!1;const t=this._repo===e._repo,i=Vk(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function S6(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function PI(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function fh(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Lc){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Bu)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Fc)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===si){if(null!=e&&!pw(e)||null!=t&&!pw(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,U.hu)(n.getIndex()instanceof Gk||n.getIndex()===$k,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function NI(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ka extends Ro{constructor(e,t){super(e,t,new uI,!1)}get parent(){const e=V2(this._path);return null===e?null:new Ka(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class op{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new jn(e),i=ap(this.ref,e);return new op(this._node.getChild(t),i,si)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new op(r,ap(this.ref,i),si)))}hasChild(e){const t=new jn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function QB(n,e){return(n=(0,U.m9)(n))._checkNotDeleted("ref"),void 0!==e?ap(n._root,e):n._root}function JB(n,e){(n=(0,U.m9)(n))._checkNotDeleted("refFromURL");const t=RR(e,n._repo.repoInfo_.nodeAdmin);FB("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Nc("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),QB(n,t.path.toString())}function ap(n,e){return null===an((n=(0,U.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_w("child","path",t,!1)):_w("child","path",e,!1),new Ka(n._repo,Ci(n._path,e));var t}function OR(n,e){n=(0,U.m9)(n),qa("set",n._path),Bc("set",e,n._path,!1);const t=new U.BH;return SR(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function z4(n,e){NB("update",e,n._path,!1);const t=new U.BH;return function D4(n,e,t,i){Xm(n,"update",{path:e.toString(),value:t});let r=!0;const s=yw(n),c={};if(Fr(t,(h,p)=>{r=!1,c[h]=kB(Ci(e,h),Oi(p),n.serverSyncTree_,s)}),r)Nr("update() called with empty data.  Don't do anything."),hh(0,i,"ok",void 0);else{const h=kI(n),p=function Qq(n,e,t,i){!function pq(n,e,t,i){(0,U.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=nR(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=oi.fromObject(t);return Jm(n,new Ym({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,c,h);MI(n.eventQueue_,p),n.server_.merge(e.toString(),t,(_,w)=>{const T="ok"===_;T||Ss("update at "+e+" failed: "+_);const A=dh(n.serverSyncTree_,h,!T),F=A.length>0?e_(n,e):e;Za(n.eventQueue_,F,A),hh(0,i,_,w)}),Fr(t,_=>{const w=MR(n,Ci(e,_));e_(n,w)}),Za(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function G4(n){return function I4(n,e){const t=function i4(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(_,w)=>{const T=Xs(_,t);i=i||ch(w,T)});let r=n.syncPointTree_.get(t);r?i=i||ch(r,On()):(r=new bB,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,c=s?new ah(i,!0,!1):null;return function Vq(n){return mI(n.viewCache_)}(wB(r,e,_I(n.pendingWriteTree_,e._path),s?c.getNode():Jt.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(i=>{const r=Oi(i).withIndex(e._queryParams.getIndex()),s=dw(n.serverSyncTree_,e._path,r);return IR(n.eventQueue_,e._path,s),Promise.resolve(r)},i=>(Xm(n,"get for query "+(0,U.Pz)(e)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,U.m9)(n))._repo,n).then(e=>new op(e,new Ka(n._repo,n._path),n._queryParams.getIndex()))}class FI{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new qB("value",this,new op(e.snapshotNode,new Ka(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new ZB(this,e,t):null}matches(e){return e instanceof FI&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class LI{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new ZB(this,e,t):null}createEvent(e,t){(0,U.hu)(null!=e.childName,"Child events should have a childName.");const i=ap(new Ka(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new qB(e.type,this,new op(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof LI&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function vw(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=t,_=(w,T)=>{xR(n._repo,n,h),p(w,T)};_.userCallback=t.userCallback,_.context=t.context,t=_}const c=new KB(t,s||void 0),h="value"===e?new FI(c):new LI(e,c);return function k4(n,e,t){let i;i=".info"===an(e._path)?DB(n.infoSyncTree_,e,t):DB(n.serverSyncTree_,e,t),IR(n.eventQueue_,e._path,i)}(n._repo,n,h),()=>xR(n._repo,n,h)}function PR(n,e,t,i){return vw(n,"value",e,t,i)}function XB(n,e,t,i){return vw(n,"child_added",e,t,i)}function eV(n,e,t,i){return vw(n,"child_changed",e,t,i)}function tV(n,e,t,i){return vw(n,"child_moved",e,t,i)}function nV(n,e,t,i){return vw(n,"child_removed",e,t,i)}function iV(n,e,t){let i=null;const r=t?new KB(t):null;"value"===e?i=new FI(r):e&&(i=new LI(e,r)),xR(n._repo,n,i)}class Nl{}class rV extends Nl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Bc("endAt",this._value,e._path,!0);const t=Kk(e._queryParams,this._value,this._key);if(NI(t),fh(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ro(e._repo,e._path,t,e._orderByCalled)}}class W4 extends Nl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Bc("endBefore",this._value,e._path,!1);const t=function tq(n,e,t){let i,r;return n.index_===Lc?("string"==typeof e&&(e=J2(e)),r=Kk(n,e,t)):(i=null==t?Bu:J2(t),r=Kk(n,e,i)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(NI(t),fh(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ro(e._repo,e._path,t,e._orderByCalled)}}class sV extends Nl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Bc("startAt",this._value,e._path,!0);const t=Zk(e._queryParams,this._value,this._key);if(NI(t),fh(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ro(e._repo,e._path,t,e._orderByCalled)}}class K4 extends Nl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Bc("startAfter",this._value,e._path,!1);const t=function eq(n,e,t){let i;if(n.index_===Lc)"string"==typeof e&&(e=Q2(e)),i=Zk(n,e,t);else{let r;r=null==t?Fc:Q2(t),i=Zk(n,e,r)}return i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(NI(t),fh(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ro(e._repo,e._path,t,e._orderByCalled)}}class Q4 extends Nl{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ro(e._repo,e._path,function J6(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class X4 extends Nl{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ro(e._repo,e._path,function X6(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class t5 extends Nl{constructor(e){super(),this._path=e}_apply(e){PI(e,"orderByChild");const t=new jn(this._path);if(ln(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Gk(t),r=dI(e._queryParams,i);return fh(r),new Ro(e._repo,e._path,r,!0)}}class r5 extends Nl{_apply(e){PI(e,"orderByKey");const t=dI(e._queryParams,Lc);return fh(t),new Ro(e._repo,e._path,t,!0)}}class o5 extends Nl{_apply(e){PI(e,"orderByPriority");const t=dI(e._queryParams,si);return fh(t),new Ro(e._repo,e._path,t,!0)}}class l5 extends Nl{_apply(e){PI(e,"orderByValue");const t=dI(e._queryParams,$k);return fh(t),new Ro(e._repo,e._path,t,!0)}}class u5 extends Nl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Bc("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new rV(this._value,this._key)._apply(new sV(this._value,this._key)._apply(e))}}function Fl(n,...e){let t=(0,U.m9)(n);for(const i of e)t=i._apply(t);return t}(function zq(n){(0,U.hu)(!wI,"__referenceConstructor has already been defined"),wI=n})(Ka),function Zq(n){(0,U.hu)(!EI,"__referenceConstructor has already been defined"),EI=n}(Ka);const NR={};function aV(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Nc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Nr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,c=RR(s,r),h=c.repoInfo;"undefined"!=typeof process&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(p=!0,s=`http://${_}?ns=${h.namespace}`,c=RR(s,r),h=c.repoInfo):p=!c.repoInfo.secure;const w=r&&p?new Xb(Xb.OWNER):new n6(n.name,n.options,e);FB("Invalid Firebase Database URL",c),ln(c.path)||Nc("Database URL must point to the root of a Firebase Database (not including a child path).");const T=function g5(n,e,t,i){let r=NR[e.name];r||(r={},NR[e.name]=r);let s=r[n.toURLString()];return s&&Nc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new C4(n,false,t,i),r[n.toURLString()]=s,s}(h,n,w,new t6(n.name,t));return new _5(T,n)}class _5{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function E4(n,e,t){if(n.stats_=Nk(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new hI(n.repoInfo_,(i,r,s,c)=>{UB(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>jB(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,U.Pz)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new tp(n.repoInfo_,e,(i,r,s,c)=>{UB(n,i,r,s,c)},i=>{jB(n,i)},i=>{!function T4(n,e){Fr(e,(t,i)=>{DR(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function s6(n,e){const t=n.toString();return Pk[t]||(Pk[t]=e()),Pk[t]}(n.repoInfo_,()=>new aq(n.stats_,n.server_)),n.infoData_=new nq,n.infoSyncTree_=new IB({startListening:(i,r,s,c)=>{let h=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(h=dw(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),DR(n,"connected",!1),n.serverSyncTree_=new IB({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(h,p)=>{const _=c(h,p);Za(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ka(this._repo,On())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function p5(n,e){const t=NR[e];(!t||t[n.key]!==n)&&Nc(`Database ${e}(${n.repoInfo_}) has already been deleted.`),zB(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Nc("Cannot call "+e+" on a deleted database.")}}function lV(){S2.IS_TRANSPORT_INITIALIZED&&Ss("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function y5(){lV(),sh.forceDisallow()}function v5(){lV(),Gm.forceDisallow(),sh.forceAllow()}function E5(n,e){a2(n,e)}const I5={".sv":"timestamp"};class x5{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}tp.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},tp.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function T5(n){t2(ki.SDK_VERSION),(0,ki._registerComponent)(new $s.wA("database",(e,{instanceIdentifier:t})=>aV(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,ki.registerVersion)(XL,"0.13.0",n),(0,ki.registerVersion)(XL,"0.13.0","esm2017")}();const R5=new vs.Yd("@firebase/database-compat"),cV=function(n){R5.warn("FIREBASE WARNING: "+n)};class N5{constructor(e){this._delegate=e}cancel(e){(0,U.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,U.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,U.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,U.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,U.Dv)("OnDisconnect.set",1,2,arguments.length),(0,U.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,U.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,U.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,U.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,cV("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,U.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class F5{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,U.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ph{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,U.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,U.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,U.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,U.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,U.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),_w("DataSnapshot.child","path",e,!1),new ph(this._database,this._delegate.child(e))}hasChild(e){return(0,U.Dv)("DataSnapshot.hasChild",1,1,arguments.length),_w("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,U.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,U.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,U.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new ph(this._database,t)))}hasChildren(){return(0,U.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,U.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,U.Dv)("DataSnapshot.ref",0,0,arguments.length),new ra(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ss{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,U.Dv)("Query.on",2,4,arguments.length),(0,U.Wj)("Query.on","callback",t,!1);const c=ss.getCancelAndContextArgs_("Query.on",i,r),h=(_,w)=>{t.call(c.context,new ph(this.database,_),w)};h.userCallback=t,h.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return PR(this._delegate,h,p),t;case"child_added":return XB(this._delegate,h,p),t;case"child_removed":return nV(this._delegate,h,p),t;case"child_changed":return eV(this._delegate,h,p),t;case"child_moved":return tV(this._delegate,h,p),t;default:throw new Error((0,U.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,U.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,U.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,U.Wj)("Query.off","callback",t,!0),(0,U.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,iV(this._delegate,e,r)}else iV(this._delegate,e)}get(){return G4(this._delegate).then(e=>new ph(this.database,e))}once(e,t,i,r){(0,U.Dv)("Query.once",1,4,arguments.length),(0,U.Wj)("Query.once","callback",t,!0);const s=ss.getCancelAndContextArgs_("Query.once",i,r),c=new U.BH,h=(_,w)=>{const T=new ph(this.database,_);t&&t.call(s.context,T,w),c.resolve(T)};h.userCallback=t,h.context=s.context;const p=_=>{s.cancel&&s.cancel.call(s.context,_),c.reject(_)};switch(e){case"value":PR(this._delegate,h,p,{onlyOnce:!0});break;case"child_added":XB(this._delegate,h,p,{onlyOnce:!0});break;case"child_removed":nV(this._delegate,h,p,{onlyOnce:!0});break;case"child_changed":eV(this._delegate,h,p,{onlyOnce:!0});break;case"child_moved":tV(this._delegate,h,p,{onlyOnce:!0});break;default:throw new Error((0,U.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,U.Dv)("Query.limitToFirst",1,1,arguments.length),new ss(this.database,Fl(this._delegate,function J4(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Q4(n)}(e)))}limitToLast(e){return(0,U.Dv)("Query.limitToLast",1,1,arguments.length),new ss(this.database,Fl(this._delegate,function e5(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new X4(n)}(e)))}orderByChild(e){return(0,U.Dv)("Query.orderByChild",1,1,arguments.length),new ss(this.database,Fl(this._delegate,function n5(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return _w("orderByChild","path",n,!1),new t5(n)}(e)))}orderByKey(){return(0,U.Dv)("Query.orderByKey",0,0,arguments.length),new ss(this.database,Fl(this._delegate,function s5(){return new r5}()))}orderByPriority(){return(0,U.Dv)("Query.orderByPriority",0,0,arguments.length),new ss(this.database,Fl(this._delegate,function a5(){return new o5}()))}orderByValue(){return(0,U.Dv)("Query.orderByValue",0,0,arguments.length),new ss(this.database,Fl(this._delegate,function c5(){return new l5}()))}startAt(e=null,t){return(0,U.Dv)("Query.startAt",0,2,arguments.length),new ss(this.database,Fl(this._delegate,function Z4(n=null,e){return mw("startAt","key",e,!0),new sV(n,e)}(e,t)))}startAfter(e=null,t){return(0,U.Dv)("Query.startAfter",0,2,arguments.length),new ss(this.database,Fl(this._delegate,function Y4(n,e){return mw("startAfter","key",e,!0),new K4(n,e)}(e,t)))}endAt(e=null,t){return(0,U.Dv)("Query.endAt",0,2,arguments.length),new ss(this.database,Fl(this._delegate,function $4(n,e){return mw("endAt","key",e,!0),new rV(n,e)}(e,t)))}endBefore(e=null,t){return(0,U.Dv)("Query.endBefore",0,2,arguments.length),new ss(this.database,Fl(this._delegate,function q4(n,e){return mw("endBefore","key",e,!0),new W4(n,e)}(e,t)))}equalTo(e,t){return(0,U.Dv)("Query.equalTo",1,2,arguments.length),new ss(this.database,Fl(this._delegate,function d5(n,e){return mw("equalTo","key",e,!0),new u5(n,e)}(e,t)))}toString(){return(0,U.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,U.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,U.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof ss))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,U.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,U.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,U.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new ra(this.database,new Ka(this._delegate._repo,this._delegate._path))}}class ra extends ss{constructor(e,t){super(e,new Ro(t._repo,t._path,new uI,!1)),this.database=e,this._delegate=t}getKey(){return(0,U.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,U.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new ra(this.database,ap(this._delegate,e))}getParent(){(0,U.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new ra(this.database,e):null}getRoot(){return(0,U.Dv)("Reference.root",0,0,arguments.length),new ra(this.database,this._delegate.root)}set(e,t){(0,U.Dv)("Reference.set",1,2,arguments.length),(0,U.Wj)("Reference.set","onComplete",t,!0);const i=OR(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,U.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,cV("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}qa("Reference.update",this._delegate._path),(0,U.Wj)("Reference.update","onComplete",t,!0);const i=z4(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,U.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,U.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function H4(n,e,t){if(qa("setWithPriority",n._path),Bc("setWithPriority",e,n._path,!1),TR("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new U.BH;return SR(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,U.Dv)("Reference.remove",0,1,arguments.length),(0,U.Wj)("Reference.remove","onComplete",e,!0);const t=function U4(n){return qa("remove",n._path),OR(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,U.Dv)("Reference.transaction",1,3,arguments.length),(0,U.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,U.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,U.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function A5(n,e,t){var i;if(n=(0,U.m9)(n),qa("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==t?void 0:t.applyLocally)||void 0===i||i,s=new U.BH,h=PR(n,()=>{});return function O4(n,e,t,i,r,s){Xm(n,"transaction on "+e);const c={path:e,update:t,onComplete:i,status:null,order:r2(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=AR(n,e,void 0);c.currentInputSnapshot=h;const p=c.update(h.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{gw("transaction failed: Data returned ",p,c.path),c.status=0;const _=SI(n.transactionQueueTree_,e),w=sp(_)||[];let T;w.push(c),wR(_,w),"object"==typeof p&&null!==p&&(0,U.r3)(p,".priority")?(T=(0,U.DV)(p,".priority"),(0,U.hu)(pw(T),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):T=(TI(n.serverSyncTree_,e)||Jt.EMPTY_NODE).getPriority().val();const A=yw(n),F=Oi(p,T),V=yR(F,h,A);c.currentOutputSnapshotRaw=F,c.currentOutputSnapshotResolved=V,c.currentWriteId=kI(n);const ue=dR(n.serverSyncTree_,e,V,c.currentWriteId,c.applyLocally);Za(n.eventQueue_,e,ue),RI(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,_,w)=>{let T=null;p?s.reject(p):(T=new op(w,new Ka(n._repo,n._path),si),s.resolve(new x5(_,T)))},h,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new F5(s.committed,new ph(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,U.Dv)("Reference.setPriority",1,2,arguments.length),(0,U.Wj)("Reference.setPriority","onComplete",t,!0);const i=function j4(n,e){n=(0,U.m9)(n),qa("setPriority",n._path),TR("setPriority",e,!1);const t=new U.BH;return SR(n._repo,Ci(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,U.Dv)("Reference.push",0,2,arguments.length),(0,U.Wj)("Reference.push","onComplete",t,!0);const i=function V4(n,e){n=(0,U.m9)(n),qa("push",n._path),Bc("push",e,n._path,!0);const t=VB(n._repo),i=Z6(t),r=ap(n,i),s=ap(n,i);let c;return c=null!=e?OR(s,e).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,e),r=i.then(c=>new ra(this.database,c));t&&r.then(()=>t(null),c=>t(c));const s=new ra(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return qa("Reference.onDisconnect",this._delegate._path),new N5(new YB(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class bw{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:y5,forceLongPolling:v5}}useEmulator(e,t,i={}){!function b5(n,e,t,i={}){(n=(0,U.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Nc("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Nc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Xb(Xb.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,U.Sg)(i.mockUserToken,n.app.options.projectId);s=new Xb(c)}!function f5(n,e,t,i){n.repoInfo_=new Rk(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,U.Dv)("database.ref",0,1,arguments.length),e instanceof ra){const t=JB(this._delegate,e.toString());return new ra(this,t)}{const t=QB(this._delegate,e);return new ra(this,t)}}refFromURL(e){(0,U.Dv)("database.refFromURL",1,1,arguments.length);const i=JB(this._delegate,e);return new ra(this,i)}goOffline(){return(0,U.Dv)("database.goOffline",0,0,arguments.length),function w5(n){(n=(0,U.m9)(n))._checkNotDeleted("goOffline"),zB(n._repo)}(this._delegate)}goOnline(){return(0,U.Dv)("database.goOnline",0,0,arguments.length),function C5(n){(n=(0,U.m9)(n))._checkNotDeleted("goOnline"),function R4(n){n.persistentConnection_&&n.persistentConnection_.resume(BB)}(n._repo)}(this._delegate)}}bw.ServerValue={TIMESTAMP:function D5(){return I5}(),increment:n=>function S5(n){return{".sv":{increment:n}}}(n)};var B5=Object.freeze({__proto__:null,initStandalone:function L5({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){t2(t);const c=new $s.zt("auth-internal",new $s.H0("database-standalone"));return c.setComponent(new $s.wA("auth-internal",()=>i,"PRIVATE")),{instance:new bw(aV(n,c,void 0,e,s),n),namespace:r}}});const V5=bw.ServerValue;function uV(n){return null==n}function dV(n){return"function"==typeof n.set}function hV(n,e){return dV(e)?e:n.ref(e)}function fV(n,e){if(function j5(n){return"string"==typeof n}(n))return e.stringCase();if(dV(n))return e.firebaseCase();if(function H5(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function ww(n,e,t="on",i=Wd.z){return new ti.y(r=>{let s=null;return s=n[t](e,(c,h)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:h})}),"once"===t&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,mt.U)(r=>{const{snapshot:s,prevKey:c}=r;let h=null;return s.exists()&&(h=s.key),{type:e,payload:s,prevKey:c,key:h}}),(0,Ql.B)())}function pV(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function $5(n,e){const{payload:t,prevKey:i,key:r}=e,s=pV(n,r),c=function G5(n,e){if(uV(e))return 0;{const t=pV(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(p=>{const _={payload:p,type:"value",prevKey:h,key:p.key};return h=p.key,n=[...n,_],!1})}return n;case"child_added":if(s>-1){const h=n[s-1];(h&&h.key||null)!==i&&(n=n.filter(p=>p.payload.key!==t.key)).splice(c,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===r?e:h);case"child_moved":if(s>-1){const h=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,h),n}return n;default:return n}}function gV(n){return(uV(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function mV(n,e,t){return function z5(n,e,t){return ww(n,"value","once",t).pipe(kn(i=>{const r=[ut(i)];return e.forEach(s=>r.push(ww(n,s,"on",t))),(0,Kr.T)(...r).pipe(nf($5,[]))}),hb())}(n,e=gV(e),t)}function _V(n,e,t){const i=(e=gV(e)).map(r=>ww(n,r,"on",t));return(0,Kr.T)(...i)}function yV(n,e){return function(i,r){return fV(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function K5(n){return function(t){return t?fV(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function vV(n,e){return function(){return ww(n,"value","on",e)}}!function U5(n){n.INTERNAL.registerComponent(new $s.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new bw(r,i)},"PUBLIC").setServiceProps({Reference:ra,Query:ss,Database:bw,DataSnapshot:ph,enableLogging:E5,INTERNAL:B5,ServerValue:V5}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.0")}(JL.Z);const J5=new l.OlP("angularfire2.realtimeDatabaseURL"),X5=new l.OlP("angularfire2.database.use-emulator");let FR=(()=>{class n{constructor(t,i,r,s,c,h,p,_,w,T,A,F,V,ue,Ce){this.schedulers=h;const Ke=p,Xe=(0,Mi.on)(t,c,i);_&&Ys(Xe,c,w,A,F,V,T,ue),this.database=(0,Mi.cc)(`${Xe.name}.database.${r}`,"AngularFireDatabase",Xe.name,()=>{const st=c.runOutsideAngular(()=>Xe.database(r||void 0));return Ke&&st.useEmulator(...Ke),st},[Ke])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>hV(this.database,t));let s=r;return i&&(s=i(r)),function Y5(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:yV(i,"update"),set:yV(i,"set"),push:r=>i.push(r),remove:K5(i),snapshotChanges:r=>mV(n,r,t).pipe(rn.iC),stateChanges:r=>_V(n,r,t).pipe(rn.iC),auditTrail:r=>function W5(n,e,t){return function Z5(n,e,t){return function q5(n,e){return ww(n,"value","on",e).pipe((0,mt.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function zW(...n){const e=(0,Gn.jO)(n);return(0,qt.e)((t,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),h=!1;for(let p=0;p<r;p++)(0,mr.Xf)(n[p]).subscribe(new Mn.Q(i,_=>{s[p]=_,!h&&!c[p]&&(c[p]=!0,(h=c.every(Gs.y))&&(c=null))},cm.Z));t.subscribe(new Mn.Q(i,p=>{if(h){const _=[p,...s];i.next(e?e(..._):_)}}))})}(e),(0,mt.U)(([r,s])=>{const c=r.lastKeyToLoad,h=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:h}}),function GW(n){return(0,qt.e)((e,t)=>{let i=!1,r=0;e.subscribe(new Mn.Q(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,mt.U)(r=>r.actions))}(n,_V(n,e).pipe(nf((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(rn.iC),valueChanges:(r,s)=>mV(n,r,t).pipe((0,mt.U)(h=>h.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),rn.iC)}}(s,this)}object(t){return function Q5(n,e){return{query:n,snapshotChanges:()=>vV(n,e.schedulers.outsideAngular)().pipe(rn.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>vV(n,e.schedulers.outsideAngular)().pipe(rn.iC,(0,mt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>hV(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mi.Dh),l.LFG(Mi.xv,8),l.LFG(J5,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(rn.HU),l.LFG(X5,8),l.LFG(uc,8),l.LFG(Ue,8),l.LFG(lt,8),l.LFG(wt,8),l.LFG(Zt,8),l.LFG(Vn,8),l.LFG(Xr,8),l.LFG(cc,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),e8=(()=>{class n{constructor(){iu.Z.registerVersion("angularfire",rn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[FR]}),n})(),t8=(()=>{class n{constructor(t,i){this.menu=[],t.list("menu").valueChanges().subscribe(s=>{this.menu=s})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(FR),l.LFG(Co))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const n8=function(n){return[n]};function i8(n,e){if(1&n&&(l.TgZ(0,"div",2)(1,"mat-icon",3),l._uU(2),l.qZA(),l.TgZ(3,"p"),l._uU(4),l.qZA()()),2&n){const t=e.$implicit,i=l.oxw();l.Gre("menu-item  ",i.router.url.includes(t.route)?"selected":"",""),l.Q6J("routerLink",l.VKq(6,n8,t.route)),l.xp6(2),l.Oqu(t.icon),l.xp6(2),l.Oqu(t.name)}}let r8=(()=>{class n{constructor(t,i){this.menuProvider=t,this.router=i}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(t8),l.Y36(Or))},n.\u0275cmp=l.Xpm({type:n,selectors:[["lomi-menu"]],decls:2,vars:1,consts:[[1,"menu"],[3,"class","routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],[1,"material-symbols-outlined"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l.YNc(1,i8,5,8,"div",1),l.qZA()),2&t&&(l.xp6(1),l.Q6J("ngForOf",i.menuProvider.menu))},directives:[Dn,Il,jm],styles:[".menu[_ngcontent-%COMP%]{height:100vh;width:14em;background-color:#424962}.menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{color:#fff;text-align:left;padding:6px 12px;border-bottom:1px solid white;display:flex;justify-content:space-between;transition:.4s ease}.menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover, .menu[_ngcontent-%COMP%]   .menu-item.selected[_ngcontent-%COMP%]{background-color:#fff;color:var(--accent-color);cursor:pointer}.menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-transform:uppercase;font-size:.8em}"]}),n})();function s8(n,e){1&n&&(l.ynx(0),l.TgZ(1,"mat-drawer-container",8)(2,"mat-drawer",9,10),l._UZ(4,"lomi-menu"),l.qZA(),l.TgZ(5,"div",11)(6,"div",12),l._UZ(7,"router-outlet"),l.qZA()()(),l.BQk())}const o8=function(){return["/"]};let a8=(()=>{class n{constructor(t){this.auth=t,this.userId=0,this.adapter=new Ic,this.title="lomi-material"}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(kg))},n.\u0275cmp=l.Xpm({type:n,selectors:[["lomii-root"]],decls:18,vars:4,consts:[["color","tertiary"],["src","assets/images/lomi.svg",2,"max-height","60px",3,"routerLink"],[1,"spacer"],["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item",""],[4,"ngIf"],["autosize","",1,"example-container"],["opened","","mode","side",1,"example-sidenav"],["drawer",""],[1,"example-sidenav-content"],[1,"p",2,"padding-top","0em","height","100vh"]],template:function(t,i){if(1&t&&(l.TgZ(0,"div")(1,"mat-toolbar",0),l._UZ(2,"img",1)(3,"span",2),l.TgZ(4,"button",3)(5,"mat-icon"),l._uU(6,"menu"),l.qZA()(),l.TgZ(7,"mat-menu",null,4)(9,"button",5),l.NdJ("click",function(){return i.auth.logout()}),l.TgZ(10,"mat-icon"),l._uU(11,"logout"),l.qZA(),l._uU(12,"Cerrar Sesi\xf3n"),l.qZA(),l.TgZ(13,"button",6)(14,"mat-icon"),l._uU(15,"settings"),l.qZA(),l._uU(16,"Configuraci\xf3n"),l.qZA()()()(),l.YNc(17,s8,8,0,"ng-container",7)),2&t){const r=l.MAs(8);l.xp6(2),l.Q6J("routerLink",l.DdM(3,o8)),l.xp6(2),l.Q6J("matMenuTriggerFor",r),l.xp6(13),l.Q6J("ngIf",i.auth.signedIn)}},directives:[E$,Il,Hb,TW,jm,bW,QT,Ln,Zb,qb,r8,ff],styles:[""]}),n})();const l8=["*",[["mat-card-footer"]]],c8=["*","mat-card-footer"];let bV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),wV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),n})(),LR=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Fu,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:c8,decls:2,vars:0,template:function(t,i){1&t&&(l.F$t(l8),l.Hsn(0),l.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),CV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gi],gi]}),n})(),TV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gL,gi],gL,gi]}),n})();M(2587);class DV{constructor(){return(0,rn.vb)("auth")}}var ft,g8="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Uu={},UR=UR||{},zt=g8||self;function BI(){}function jR(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Cw(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var HR="closure_uid_"+(1e9*Math.random()>>>0),_8=0;function y8(n,e,t){return n.call.apply(n.bind,arguments)}function v8(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function os(n,e,t){return(os=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y8:v8).apply(null,arguments)}function VI(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function as(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[r].apply(i,c)}}function gh(){this.s=this.s,this.o=this.o}var w8={};gh.prototype.s=!1,gh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function m8(n){return Object.prototype.hasOwnProperty.call(n,HR)&&n[HR]||(n[HR]=++_8)}(this);delete w8[n]}},gh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const SV=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},xV=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&e.call(t,r[s],s,n)};function AV(n){return Array.prototype.concat.apply([],arguments)}function zR(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function UI(n){return/^[\s\xa0]*$/.test(n)}var to,MV=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function eo(n,e){return-1!=n.indexOf(e)}function GR(n,e){return n<e?-1:n>e?1:0}e:{var kV=zt.navigator;if(kV){var RV=kV.userAgent;if(RV){to=RV;break e}}to=""}function $R(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function OV(n){const e={};for(const t in n)e[t]=n[t];return e}var PV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function NV(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<PV.length;s++)t=PV[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function WR(n){return WR[" "](n),n}WR[" "]=BI;var jI,n,T8=eo(to,"Opera"),t_=eo(to,"Trident")||eo(to,"MSIE"),FV=eo(to,"Edge"),qR=FV||t_,LV=eo(to,"Gecko")&&!(eo(to.toLowerCase(),"webkit")&&!eo(to,"Edge"))&&!(eo(to,"Trident")||eo(to,"MSIE"))&&!eo(to,"Edge"),I8=eo(to.toLowerCase(),"webkit")&&!eo(to,"Edge");function BV(){var n=zt.document;return n?n.documentMode:void 0}e:{var ZR="",KR=(n=to,LV?/rv:([^\);]+)(\)|;)/.exec(n):FV?/Edge\/([\d\.]+)/.exec(n):t_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):I8?/WebKit\/(\S+)/.exec(n):T8?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(KR&&(ZR=KR?KR[1]:""),t_){var YR=BV();if(null!=YR&&YR>parseFloat(ZR)){jI=String(YR);break e}}jI=ZR}var D8={};var x8=zt.document&&t_&&(BV()||parseInt(jI,10))||void 0,A8=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{zt.addEventListener("test",BI,e),zt.removeEventListener("test",BI,e)}catch(t){}return n}();function xs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Ew(n,e){if(xs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(LV){e:{try{WR(e.nodeName);var r=!0;break e}catch(s){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:M8[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ew.Z.h.call(this)}}xs.prototype.h=function(){this.defaultPrevented=!0},as(Ew,xs);var M8={2:"touch",3:"pen",4:"mouse"};Ew.prototype.h=function(){Ew.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Tw="closure_listenable_"+(1e6*Math.random()|0),k8=0;function R8(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++k8,this.ca=this.fa=!1}function HI(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function zI(n){this.src=n,this.g={},this.h=0}function JR(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=SV(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(HI(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function XR(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==i)return r}return-1}zI.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=XR(n,e,i,r);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new R8(e,this.src,s,!!i,r)).fa=t,n.push(e)),e};var eO="closure_lm_"+(1e6*Math.random()|0),tO={};function UV(n,e,t,i,r){if(i&&i.once)return HV(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)UV(n,e[s],t,i,r);return null}return t=sO(t),n&&n[Tw]?n.N(e,t,Cw(i)?!!i.capture:!!i,r):jV(n,e,t,!1,i,r)}function jV(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var c=Cw(r)?!!r.capture:!!r,h=iO(n);if(h||(n[eO]=h=new zI(n)),(t=h.add(e,t,i,c,s)).proxy)return t;if(i=function O8(){var e=P8;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)A8||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(GV(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function HV(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)HV(n,e[s],t,i,r);return null}return t=sO(t),n&&n[Tw]?n.O(e,t,Cw(i)?!!i.capture:!!i,r):jV(n,e,t,!0,i,r)}function zV(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)zV(n,e[s],t,i,r);else i=Cw(i)?!!i.capture:!!i,t=sO(t),n&&n[Tw]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=XR(s=n.g[e],t,i,r))&&(HI(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=iO(n))&&(e=n.g[e.toString()],n=-1,e&&(n=XR(e,t,i,r)),(t=-1<n?e[n]:null)&&nO(t))}function nO(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Tw])JR(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(GV(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=iO(e))?(JR(t,n),0==t.h&&(t.src=null,e[eO]=null)):HI(n)}}}function GV(n){return n in tO?tO[n]:tO[n]="on"+n}function P8(n,e){if(n.ca)n=!0;else{e=new Ew(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&nO(n),n=t.call(i,e)}return n}function iO(n){return(n=n[eO])instanceof zI?n:null}var rO="__closure_events_fn_"+(1e9*Math.random()>>>0);function sO(n){return"function"==typeof n?n:(n[rO]||(n[rO]=function(e){return n.handleEvent(e)}),n[rO])}function Lr(){gh.call(this),this.i=new zI(this),this.P=this,this.I=null}function ls(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new xs(e,n);else if(e instanceof xs)e.target=e.target||n;else{var r=e;NV(e=new xs(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];r=GI(c,i,!0,e)&&r}if(r=GI(c=e.g=n,i,!0,e)&&r,r=GI(c,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=GI(c=e.g=t[s],i,!1,e)&&r}function GI(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.ca&&c.capture==t){var h=c.listener,p=c.ia||c.src;c.fa&&JR(n.i,c),r=!1!==h.call(p,i)&&r}}return r&&!i.defaultPrevented}as(Lr,gh),Lr.prototype[Tw]=!0,Lr.prototype.removeEventListener=function(n,e,t,i){zV(this,n,e,t,i)},Lr.prototype.M=function(){if(Lr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)HI(t[i]);delete n.g[e],n.h--}}this.I=null},Lr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Lr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var oO=zt.JSON.stringify;function N8(){var n=WV;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var lO,$V=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new L8,n=>n.reset());class L8{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function B8(n){zt.setTimeout(()=>{throw n},0)}function aO(n,e){lO||function V8(){var n=zt.Promise.resolve(void 0);lO=function(){n.then(U8)}}(),cO||(lO(),cO=!0),WV.add(n,e)}var cO=!1,WV=new class F8{constructor(){this.h=this.g=null}add(e,t){const i=$V.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function U8(){for(var n;n=N8();){try{n.h.call(n.g)}catch(t){B8(t)}var e=$V;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}cO=!1}function $I(n,e){Lr.call(this),this.h=n||1,this.g=e||zt,this.j=os(this.kb,this),this.l=Date.now()}function uO(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function dO(n,e,t){if("function"==typeof n)t&&(n=os(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=os(n.handleEvent,n)}return 2147483647<Number(e)?-1:zt.setTimeout(n,e||0)}function qV(n){n.g=dO(()=>{n.g=null,n.i&&(n.i=!1,qV(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}as($I,Lr),(ft=$I.prototype).da=!1,ft.S=null,ft.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ls(this,"tick"),this.da&&(uO(this),this.start()))}},ft.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ft.M=function(){$I.Z.M.call(this),uO(this),delete this.g};class j8 extends gh{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qV(this)}M(){super.M(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Iw(n){gh.call(this),this.h=n,this.g={}}as(Iw,gh);var ZV=[];function KV(n,e,t,i){Array.isArray(t)||(t&&(ZV[0]=t.toString()),t=ZV);for(var r=0;r<t.length;r++){var s=UV(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function YV(n){$R(n.g,function(e,t){this.g.hasOwnProperty(t)&&nO(e)},n),n.g={}}function WI(){this.g=!0}function n_(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function $8(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return oO(t)}catch(h){return e}}(n,t)+(i?" "+i:"")})}Iw.prototype.M=function(){Iw.Z.M.call(this),YV(this)},Iw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},WI.prototype.Aa=function(){this.g=!1},WI.prototype.info=function(){};var cp={},QV=null;function qI(){return QV=QV||new Lr}function JV(n){xs.call(this,cp.Ma,n)}function Dw(n){const e=qI();ls(e,new JV(e,n))}function XV(n,e){xs.call(this,cp.STAT_EVENT,n),this.stat=e}function no(n){const e=qI();ls(e,new XV(e,n))}function eU(n,e){xs.call(this,cp.Na,n),this.size=e}function Sw(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){n()},e)}cp.Ma="serverreachability",as(JV,xs),cp.STAT_EVENT="statevent",as(XV,xs),cp.Na="timingevent",as(eU,xs);var ZI={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},tU={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function hO(){}function iU(){}hO.prototype.h=null;var gO,xw={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function fO(){xs.call(this,"d")}function pO(){xs.call(this,"c")}function KI(){}function Aw(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new Iw(this),this.P=W8,this.W=new $I(n=qR?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new rU}function rU(){this.i=null,this.g="",this.h=!1}as(fO,xs),as(pO,xs),as(KI,hO),KI.prototype.g=function(){return new XMLHttpRequest},KI.prototype.i=function(){return{}},gO=new KI;var W8=45e3,mO={},YI={};function _O(n,e,t){n.K=1,n.v=tD(ju(e)),n.s=t,n.U=!0,sU(n,null)}function sU(n,e){n.F=Date.now(),Mw(n),n.A=ju(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),pU(t.h,"t",i),n.C=0,t=n.l.H,n.h=new rU,n.g=LU(n.l,t?e:null,!n.s),0<n.O&&(n.L=new j8(os(n.Ia,n,n.g),n.O)),KV(n.V,n.g,"readystatechange",n.gb),e=n.H?OV(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Dw(1),function H8(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",h=s.split("&"),p=0;p<h.length;p++){var _=h[p].split("=");if(1<_.length){var w=_[0];_=_[1];var T=w.split("_");c=2<=T.length&&"type"==T[1]?c+(w+"=")+_+"&":c+(w+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function oU(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function aU(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=q8(n,t),r==YI){4==e&&(n.o=4,no(14),i=!1),n_(n.j,n.m,null,"[Incomplete Response]");break}if(r==mO){n.o=4,no(15),n_(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}n_(n.j,n.m,r,null),yO(n,r)}oU(n)&&r!=YI&&r!=mO&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,no(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),AO(e),e.L=!0,no(11))):(n_(n.j,n.m,t,"[Invalid Chunked Response]"),up(n),kw(n))}function q8(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?YI:(t=Number(e.substring(t,i)),isNaN(t)?mO:(i+=1)+t>e.length?YI:(e=e.substr(i,t),n.C=i+t,e))}function Mw(n){n.Y=Date.now()+n.P,lU(n,n.P)}function lU(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Sw(os(n.eb,n),e)}function QI(n){n.B&&(zt.clearTimeout(n.B),n.B=null)}function kw(n){0==n.l.G||n.I||OU(n.l,n)}function up(n){QI(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,uO(n.W),YV(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function yO(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||wO(t.i,n)))if(t.I=n.N,!n.J&&wO(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(_){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=Sw(os(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;aD(t),sD(t)}xO(t),no(18)}if(1>=_U(t.i)&&t.ka){try{t.ka()}catch(_){}t.ka=void 0}}else fp(t,11)}else if((n.J||t.g==n)&&aD(t),!UI(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let _=r[e];if(t.U=_[0],_=_[1],2==t.G)if("c"==_[0]){t.J=_[1],t.la=_[2];const w=_[3];null!=w&&(t.ma=w,t.h.info("VER="+t.ma));const T=_[4];null!=T&&(t.za=T,t.h.info("SVER="+t.za));const A=_[5];null!=A&&"number"==typeof A&&0<A&&(t.K=i=1.5*A,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const F=n.g;if(F){const V=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var s=i.i;!s.g&&(eo(V,"spdy")||eo(V,"quic")||eo(V,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(CO(s,s.h),s.h=null))}if(i.D){const ue=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;ue&&(i.sa=ue,Ei(i.F,i.D,ue))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((i=t).oa=FU(i,i.H?i.la:null,i.W),c.J){yU(i.i,c);var h=c,p=i.K;p&&h.setTimeout(p),h.B&&(QI(h),Mw(h)),i.g=c}else kU(i);0<t.l.length&&oD(t)}else"stop"!=_[0]&&"close"!=_[0]||fp(t,7);else 3==t.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?fp(t,7):DO(t):"noop"!=_[0]&&t.j&&t.j.wa(_),t.A=0)}Dw(4)}catch(_){}}function vO(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(jR(n)||"string"==typeof n)xV(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(jR(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function Z8(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(jR(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}}function i_(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof i_)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function bO(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];dp(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)dp(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function dp(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ft=Aw.prototype).setTimeout=function(n){this.P=n},ft.gb=function(n){n=n.target;const e=this.L;e&&3==Hu(n)?e.l():this.Ia(n)},ft.Ia=function(n){try{if(n==this.g)e:{const w=Hu(this.g);var e=this.g.Da();const T=this.g.ba();if(!(3>w)&&(3!=w||qR||this.g&&(this.h.h||this.g.ga()||DU(this.g)))){this.I||4!=w||7==e||Dw(8==e||0>=T?3:2),QI(this);var t=this.g.ba();this.N=t;t:if(oU(this)){var i=DU(this.g);n="";var r=i.length,s=4==Hu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){up(this),kw(this);var c="";break t}this.h.i=new zt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function z8(n,e,t,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.X,w,t),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!UI(h)){var _=h;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,no(12),up(this),kw(this);break e}n_(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,yO(this,t)}this.U?(aU(this,w,c),qR&&this.i&&3==w&&(KV(this.V,this.W,"tick",this.fb),this.W.start())):(n_(this.j,this.m,c,null),yO(this,c)),4==w&&up(this),this.i&&!this.I&&(4==w?OU(this.l,this):(this.i=!1,Mw(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,no(12)):(this.o=0,no(13)),up(this),kw(this)}}}catch(w){}},ft.fb=function(){if(this.g){var n=Hu(this.g),e=this.g.ga();this.C<e.length&&(QI(this),aU(this,n,e),this.i&&4!=n&&Mw(this))}},ft.cancel=function(){this.I=!0,up(this)},ft.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function G8(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Dw(3),no(17)),up(this),this.o=2,kw(this)):lU(this,this.Y-n)},(ft=i_.prototype).R=function(){bO(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ft.T=function(){return bO(this),this.g.concat()},ft.get=function(n,e){return dp(this.h,n)?this.h[n]:e},ft.set=function(n,e){dp(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ft.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],s=this.get(r);n.call(e,s,r,this)}};var cU=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function hp(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof hp){this.g=void 0!==e?e:n.g,JI(this,n.j),this.s=n.s,XI(this,n.i),eD(this,n.m),this.l=n.l,e=n.h;var t=new Pw;t.i=e.i,e.g&&(t.g=new i_(e.g),t.h=e.h),uU(this,t),this.o=n.o}else n&&(t=String(n).match(cU))?(this.g=!!e,JI(this,t[1]||"",!0),this.s=Rw(t[2]||""),XI(this,t[3]||"",!0),eD(this,t[4]),this.l=Rw(t[5]||"",!0),uU(this,t[6]||"",!0),this.o=Rw(t[7]||"")):(this.g=!!e,this.h=new Pw(null,this.g))}function ju(n){return new hp(n)}function JI(n,e,t){n.j=t?Rw(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function XI(n,e,t){n.i=t?Rw(e,!0):e}function eD(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function uU(n,e,t){e instanceof Pw?(n.h=e,function iZ(n,e){e&&!n.j&&(mh(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(hU(this,i),pU(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Ow(e,tZ)),n.h=new Pw(e,n.g))}function Ei(n,e,t){n.h.set(e,t)}function tD(n){return Ei(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Rw(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ow(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,J8),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function J8(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}hp.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ow(e,dU,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ow(e,dU,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ow(t,"/"==t.charAt(0)?eZ:X8,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ow(t,nZ)),n.join("")};var dU=/[#\/\?@]/g,X8=/[#\?:]/g,eZ=/[#\?]/g,tZ=/[#\?@]/g,nZ=/#/g;function Pw(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function mh(n){n.g||(n.g=new i_,n.h=0,n.i&&function K8(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function hU(n,e){mh(n),e=r_(n,e),dp(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,dp((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&bO(n)))}function fU(n,e){return mh(n),e=r_(n,e),dp(n.g.h,e)}function pU(n,e,t){hU(n,e),0<t.length&&(n.i=null,n.g.set(r_(n,e),zR(t)),n.h+=t.length)}function r_(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function gU(n){this.l=n||sZ,n=zt.PerformanceNavigationTiming?0<(n=zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(zt.g&&zt.g.Ea&&zt.g.Ea()&&zt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ft=Pw.prototype).add=function(n,e){mh(this),this.i=null,n=r_(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ft.forEach=function(n,e){mh(this),this.g.forEach(function(t,i){xV(t,function(r){n.call(e,r,i,this)},this)},this)},ft.T=function(){mh(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],s=0;s<r.length;s++)t.push(e[i]);return t},ft.R=function(n){mh(this);var e=[];if("string"==typeof n)fU(this,n)&&(e=AV(e,this.g.get(r_(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=AV(e,n[t])}return e},ft.set=function(n,e){return mh(this),this.i=null,fU(this,n=r_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ft.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var c=r;""!==i[s]&&(c+="="+encodeURIComponent(String(i[s]))),n.push(c)}}return this.i=n.join("&")};var sZ=10;function mU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function _U(n){return n.h?1:n.g?n.g.size:0}function wO(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function CO(n,e){n.g?n.g.add(e):n.h=e}function yU(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function vU(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return zR(n.i)}function EO(){}function oZ(){this.g=new EO}function aZ(n,e,t){const i=t||"";try{vO(n,function(r,s){let c=r;Cw(r)&&(c=oO(r)),e.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function nD(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function Nw(n){this.l=n.$b||null,this.j=n.ib||!1}function iD(n,e){Lr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=TO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gU.prototype.cancel=function(){if(this.i=vU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},EO.prototype.stringify=function(n){return zt.JSON.stringify(n,void 0)},EO.prototype.parse=function(n){return zt.JSON.parse(n,void 0)},as(Nw,hO),Nw.prototype.g=function(){return new iD(this.l,this.j)},Nw.prototype.i=function(n){return function(){return n}}({}),as(iD,Lr);var TO=0;function bU(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Fw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Lw(n)}function Lw(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ft=iD.prototype).open=function(n,e){if(this.readyState!=TO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Lw(this)},ft.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||zt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fw(this)),this.readyState=TO},ft.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Lw(this)),this.g&&(this.readyState=3,Lw(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==zt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bU(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ft.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Fw(this):Lw(this),3==this.readyState&&bU(this)}},ft.Ua=function(n){this.g&&(this.response=this.responseText=n,Fw(this))},ft.Ta=function(n){this.g&&(this.response=n,Fw(this))},ft.ha=function(){this.g&&Fw(this)},ft.setRequestHeader=function(n,e){this.v.append(n,e)},ft.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ft.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(iD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var cZ=zt.JSON.parse;function ar(n){Lr.call(this),this.headers=new i_,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wU,this.K=this.L=!1}as(ar,Lr);var wU="",uZ=/^https?$/i,dZ=["POST","PUT"];function fZ(n){return"content-type"==n.toLowerCase()}function CU(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,EU(n),rD(n)}function EU(n){n.D||(n.D=!0,ls(n,"complete"),ls(n,"error"))}function TU(n){if(n.h&&void 0!==UR&&(!n.C[1]||4!=Hu(n)||2!=n.ba()))if(n.v&&4==Hu(n))dO(n.Fa,0,n);else if(ls(n,"readystatechange"),4==Hu(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var r=String(n.H).match(cU)[1]||null;if(!r&&zt.self&&zt.self.location){var s=zt.self.location.protocol;r=s.substr(0,s.length-1)}i=!uZ.test(r?r.toLowerCase():"")}t=i}if(t)ls(n,"complete"),ls(n,"success");else{n.m=6;try{var c=2<Hu(n)?n.g.statusText:""}catch(p){c=""}n.j=c+" ["+n.ba()+"]",EU(n)}}finally{rD(n)}}}function rD(n,e){if(n.g){IU(n);const t=n.g,i=n.C[0]?BI:null;n.g=null,n.C=null,e||ls(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function IU(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(zt.clearTimeout(n.A),n.A=null)}function Hu(n){return n.g?n.g.readyState:0}function DU(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case wU:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function IO(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function pZ(n){let e="";return $R(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ei(n,e,t))}function Bw(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function SU(n){this.za=0,this.l=[],this.h=new WI,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Bw("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Bw("baseRetryDelayMs",5e3,n),this.$a=Bw("retryDelaySeedMs",1e4,n),this.Ya=Bw("forwardChannelMaxRetries",2,n),this.ra=Bw("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new gU(n&&n.concurrentRequestLimit),this.Ca=new oZ,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function DO(n){if(xU(n),3==n.G){var e=n.V++,t=ju(n.F);Ei(t,"SID",n.J),Ei(t,"RID",e),Ei(t,"TYPE","terminate"),Vw(n,t),(e=new Aw(n,n.h,e,void 0)).K=2,e.v=tD(ju(t)),t=!1,zt.navigator&&zt.navigator.sendBeacon&&(t=zt.navigator.sendBeacon(e.v.toString(),"")),!t&&zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=LU(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Mw(e)}NU(n)}function sD(n){n.g&&(AO(n),n.g.cancel(),n.g=null)}function xU(n){sD(n),n.u&&(zt.clearTimeout(n.u),n.u=null),aD(n),n.i.cancel(),n.m&&("number"==typeof n.m&&zt.clearTimeout(n.m),n.m=null)}function SO(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&oD(n)}function oD(n){mU(n.i)||n.m||(n.m=!0,aO(n.Ha,n),n.C=0)}function AU(n,e){var t;t=e?e.m:n.V++;const i=ju(n.F);Ei(i,"SID",n.J),Ei(i,"RID",t),Ei(i,"AID",n.U),Vw(n,i),n.o&&n.s&&IO(i,n.o,n.s),t=new Aw(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=MU(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),CO(n.i,t),_O(t,i,e)}function Vw(n,e){n.j&&vO({},function(t,i){Ei(e,i,t)})}function MU(n,e,t){t=Math.min(n.l.length,t);var i=n.j?os(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let h=!0;for(let p=0;p<t;p++){let _=r[p].h;const w=r[p].g;if(_-=s,0>_)s=Math.max(0,r[p].h-100),h=!1;else try{aZ(w,c,"req"+_+"_")}catch(T){i&&i(w)}}if(h){i=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function kU(n){n.g||n.u||(n.Y=1,aO(n.Ga,n),n.A=0)}function xO(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Sw(os(n.Ga,n),PU(n,n.A)),n.A++,0))}function AO(n){null!=n.B&&(zt.clearTimeout(n.B),n.B=null)}function RU(n){n.g=new Aw(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ju(n.oa);Ei(e,"RID","rpc"),Ei(e,"SID",n.J),Ei(e,"CI",n.N?"0":"1"),Ei(e,"AID",n.U),Vw(n,e),Ei(e,"TYPE","xmlhttp"),n.o&&n.s&&IO(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=tD(ju(e)),t.s=null,t.U=!0,sU(t,n)}function aD(n){null!=n.v&&(zt.clearTimeout(n.v),n.v=null)}function OU(n,e){var t=null;if(n.g==e){aD(n),AO(n),n.g=null;var i=2}else{if(!wO(n.i,e))return;t=e.D,yU(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;ls(i=qI(),new eU(i,t,e,r)),oD(n)}else kU(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function gZ(n,e){return!(_U(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Sw(os(n.Ha,n,e),PU(n,n.C)),n.C++,0)))}(n,e)||2==i&&xO(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:fp(n,5);break;case 4:fp(n,10);break;case 3:fp(n,6);break;default:fp(n,2)}}function PU(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function fp(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=os(n.jb,n);t||(t=new hp("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||JI(t,"https"),tD(t)),function lZ(n,e){const t=new WI;if(zt.Image){const i=new Image;i.onload=VI(nD,t,i,"TestLoadImage: loaded",!0,e),i.onerror=VI(nD,t,i,"TestLoadImage: error",!1,e),i.onabort=VI(nD,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=VI(nD,t,i,"TestLoadImage: timeout",!1,e),zt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else no(2);n.G=0,n.j&&n.j.va(e),NU(n),xU(n)}function NU(n){n.G=0,n.I=-1,n.j&&((0!=vU(n.i).length||0!=n.l.length)&&(n.i.i.length=0,zR(n.l),n.l.length=0),n.j.ua())}function FU(n,e,t){let i=function Y8(n){return n instanceof hp?ju(n):new hp(n,void 0)}(t);if(""!=i.i)e&&XI(i,e+"."+i.i),eD(i,i.m);else{const r=zt.location;i=function Q8(n,e,t,i){var r=new hp(null,void 0);return n&&JI(r,n),e&&XI(r,e),t&&eD(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&$R(n.aa,function(r,s){Ei(i,s,r)}),t=n.sa,(e=n.D)&&t&&Ei(i,e,t),Ei(i,"VER",n.ma),Vw(n,i),i}function LU(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ar(t&&n.Ba&&!n.qa?new Nw({ib:!0}):n.qa)).L=n.H,e}function BU(){}function lD(){if(t_&&!(10<=Number(x8)))throw Error("Environmental error: no available transport.")}function sa(n,e){Lr.call(this),this.g=new SU(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!UI(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!UI(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new s_(this)}function VU(n){fO.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function UU(){pO.call(this),this.status=1}function s_(n){this.g=n}(ft=ar.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():gO.g(),this.C=function nU(n){return n.h||(n.h=n.i())}(this.u?this.u:gO),this.g.onreadystatechange=os(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void CU(this,s)}n=t||"";const r=new i_(this.headers);i&&vO(i,function(s,c){r.set(c,s)}),i=function C8(n){e:{var e=fZ;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=zt.FormData&&n instanceof zt.FormData,!(0<=SV(dZ,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{IU(this),0<this.B&&((this.K=function hZ(n){return t_&&function S8(){return function E8(n){var e=D8;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=MV(String(jI)).split("."),t=MV("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",s=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=GR(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||GR(0==r[2].length,0==s[2].length)||GR(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=os(this.pa,this)):this.A=dO(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){CU(this,s)}},ft.pa=function(){void 0!==UR&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ls(this,"timeout"),this.abort(8))},ft.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ls(this,"complete"),ls(this,"abort"),rD(this))},ft.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rD(this,!0)),ar.Z.M.call(this)},ft.Fa=function(){this.s||(this.F||this.v||this.l?TU(this):this.cb())},ft.cb=function(){TU(this)},ft.ba=function(){try{return 2<Hu(this)?this.g.status:-1}catch(n){return-1}},ft.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ft.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),cZ(e)}},ft.Da=function(){return this.m},ft.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ft=SU.prototype).ma=8,ft.G=1,ft.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ft.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Aw(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=OV(s),NV(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=MU(this,r,e),Ei(t=ju(this.F),"RID",n),Ei(t,"CVER",22),this.D&&Ei(t,"X-HTTP-Session-Id",this.D),Vw(this,t),this.o&&s&&IO(t,this.o,s),CO(this.i,r),this.Ra&&Ei(t,"TYPE","init"),this.ja?(Ei(t,"$req",e),Ei(t,"SID","null"),r.$=!0,_O(r,t,null)):_O(r,t,e),this.G=2}}else 3==this.G&&(n?AU(this,n):0==this.l.length||mU(this.i)||AU(this))},ft.Ga=function(){if(this.u=null,RU(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Sw(os(this.bb,this),n)}},ft.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,no(10),sD(this),RU(this))},ft.ab=function(){null!=this.v&&(this.v=null,sD(this),xO(this),no(19))},ft.jb=function(n){n?(this.h.info("Successfully pinged google.com"),no(2)):(this.h.info("Failed to ping google.com"),no(1))},(ft=BU.prototype).xa=function(){},ft.wa=function(){},ft.va=function(){},ft.ua=function(){},ft.Oa=function(){},lD.prototype.g=function(n,e){return new sa(n,e)},as(sa,Lr),sa.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),aO(os(n.hb,n,e))),no(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=FU(n,null,n.W),oD(n)},sa.prototype.close=function(){DO(this.g)},sa.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,SO(this.g,e)}else this.v?((e={}).__data__=oO(n),SO(this.g,e)):SO(this.g,n)},sa.prototype.M=function(){this.g.j=null,delete this.j,DO(this.g),delete this.g,sa.Z.M.call(this)},as(VU,fO),as(UU,pO),as(s_,BU),s_.prototype.xa=function(){ls(this.g,"a")},s_.prototype.wa=function(n){ls(this.g,new VU(n))},s_.prototype.va=function(n){ls(this.g,new UU(n))},s_.prototype.ua=function(){ls(this.g,"b")},lD.prototype.createWebChannel=lD.prototype.g,sa.prototype.send=sa.prototype.u,sa.prototype.open=sa.prototype.m,sa.prototype.close=sa.prototype.close,ZI.NO_ERROR=0,ZI.TIMEOUT=8,ZI.HTTP_ERROR=6,tU.COMPLETE="complete",iU.EventType=xw,xw.OPEN="a",xw.CLOSE="b",xw.ERROR="c",xw.MESSAGE="d",Lr.prototype.listen=Lr.prototype.N,ar.prototype.listenOnce=ar.prototype.O,ar.prototype.getLastError=ar.prototype.La,ar.prototype.getLastErrorCode=ar.prototype.Da,ar.prototype.getStatus=ar.prototype.ba,ar.prototype.getResponseJson=ar.prototype.Qa,ar.prototype.getResponseText=ar.prototype.ga,ar.prototype.send=ar.prototype.ea;var mZ=Uu.createWebChannelTransport=function(){return new lD},_Z=Uu.getStatEventTarget=function(){return qI()},MO=Uu.ErrorCode=ZI,yZ=Uu.EventType=tU,vZ=Uu.Event=cp,jU=Uu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},bZ=Uu.FetchXmlHttpFactory=Nw,cD=Uu.WebChannel=iU,wZ=Uu.XhrIo=ar;const HU="@firebase/firestore";class cs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cs.UNAUTHENTICATED=new cs(null),cs.GOOGLE_CREDENTIALS=new cs("google-credentials-uid"),cs.FIRST_PARTY=new cs("first-party-uid"),cs.MOCK_USER=new cs("mock-user");let o_="9.8.0";const _h=new vs.Yd("@firebase/firestore");function kO(){return _h.logLevel}function Ze(n,...e){if(_h.logLevel<=vs.in.DEBUG){const t=e.map(RO);_h.debug(`Firestore (${o_}): ${n}`,...t)}}function lr(n,...e){if(_h.logLevel<=vs.in.ERROR){const t=e.map(RO);_h.error(`Firestore (${o_}): ${n}`,...t)}}function uD(n,...e){if(_h.logLevel<=vs.in.WARN){const t=e.map(RO);_h.warn(`Firestore (${o_}): ${n}`,...t)}}function RO(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function _t(n="Unexpected state"){const e=`FIRESTORE (${o_}) INTERNAL ASSERTION FAILED: `+n;throw lr(e),new Error(e)}function Ft(n,e){n||_t()}function rt(n,e){return n}const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends U.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Br{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class zU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cs.UNAUTHENTICATED))}shutdown(){}}class TZ{constructor(e){this.t=e,this.currentUser=cs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,t(_)):Promise.resolve();let c=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Br,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const _=c;e.enqueueRetryable((0,it.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},p=_=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Br)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ft("string"==typeof i.accessToken),new zU(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ft(null===e||"string"==typeof e),new cs(e)}}class IZ{constructor(e,t,i){this.type="FirstParty",this.user=cs.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class DZ{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new IZ(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(cs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SZ{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=s=>{null!=s.error&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.p;return this.p=s.token,Ze("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ft("string"==typeof t.token),this.p=t.token,new GU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class oa{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.I(i),this.T=i=>t.writeSequenceNumber(i))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function xZ(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}oa.A=-1;class $U{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=xZ(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function tn(n,e){return n<e?-1:n>e?1:0}function a_(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}class cr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ze(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ze(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ze(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return cr.fromMillis(Date.now())}static fromDate(e){return cr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new cr(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tn(this.nanoseconds,e.nanoseconds):tn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kt(e)}static min(){return new kt(new cr(0,0))}static max(){return new kt(new cr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function qU(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function pp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ZU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Uw{constructor(e,t,i){void 0===t?t=0:t>e.length&&_t(),void 0===i?i=e.length-t:i>e.length-t&&_t(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Uw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Uw?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),c=t.get(r);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Cn extends Uw{construct(e,t,i){return new Cn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ze(Te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Cn(t)}static emptyPath(){return new Cn([])}}const AZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vr extends Uw{construct(e,t,i){return new Vr(e,t,i)}static isValidIdentifier(e){return AZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vr(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new ze(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new ze(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new ze(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===h?(c=!c,r++):"."!==h||c?(i+=h,r++):(s(),r++)}if(s(),c)throw new ze(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vr(t)}static emptyPath(){return new Vr([])}}class l_{constructor(e){this.fields=e,e.sort(Vr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return a_(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Ir{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ir(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Ir(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ir.EMPTY_BYTE_STRING=new Ir("");const MZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yh(n){if(Ft(!!n),"string"==typeof n){let e=0;const t=MZ.exec(n);if(Ft(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Bi(n.seconds),nanos:Bi(n.nanos)}}function Bi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function gp(n){return"string"==typeof n?Ir.fromBase64String(n):Ir.fromUint8Array(n)}function OO(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function KU(n){const e=n.mapValue.fields.__previous_value__;return OO(e)?KU(e):e}function jw(n){const e=yh(n.mapValue.fields.__local_write_time__.timestampValue);return new cr(e.seconds,e.nanos)}class kZ{constructor(e,t,i,r,s,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class vh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vh&&e.projectId===this.projectId&&e.database===this.database}}function Hw(n){return null==n}function zw(n){return 0===n&&1/n==-1/0}class nt{constructor(e){this.path=e}static fromPath(e){return new nt(Cn.fromString(e))}static fromName(e){return new nt(Cn.fromString(e).popFirst(5))}static empty(){return new nt(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new Cn(e.slice()))}}const bh_mapValue={fields:{__type__:{stringValue:"__max__"}}};function mp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?OO(n)?4:ej(n)?9007199254740991:10:_t()}function Vc(n,e){if(n===e)return!0;const t=mp(n);if(t!==mp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return jw(n).isEqual(jw(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=yh(i.timestampValue),c=yh(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,gp(n.bytesValue).isEqual(gp(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Bi(i.geoPointValue.latitude)===Bi(r.geoPointValue.latitude)&&Bi(i.geoPointValue.longitude)===Bi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Bi(i.integerValue)===Bi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Bi(i.doubleValue),c=Bi(r.doubleValue);return s===c?zw(s)===zw(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return a_(n.arrayValue.values||[],e.arrayValue.values||[],Vc);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(qU(s)!==qU(c))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===c[h]||!Vc(s[h],c[h])))return!1;return!0}(n,e);default:return _t()}var r}function Gw(n,e){return void 0!==(n.values||[]).find(t=>Vc(t,e))}function wh(n,e){if(n===e)return 0;const t=mp(n),i=mp(e);if(t!==i)return tn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return tn(n.booleanValue,e.booleanValue);case 2:return function(r,s){const c=Bi(r.integerValue||r.doubleValue),h=Bi(s.integerValue||s.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return QU(n.timestampValue,e.timestampValue);case 4:return QU(jw(n),jw(e));case 5:return tn(n.stringValue,e.stringValue);case 6:return function(r,s){const c=gp(r),h=gp(s);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const c=r.split("/"),h=s.split("/");for(let p=0;p<c.length&&p<h.length;p++){const _=tn(c[p],h[p]);if(0!==_)return _}return tn(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const c=tn(Bi(r.latitude),Bi(s.latitude));return 0!==c?c:tn(Bi(r.longitude),Bi(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const c=r.values||[],h=s.values||[];for(let p=0;p<c.length&&p<h.length;++p){const _=wh(c[p],h[p]);if(_)return _}return tn(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===bh_mapValue&&s===bh_mapValue)return 0;if(r===bh_mapValue)return 1;if(s===bh_mapValue)return-1;const c=r.fields||{},h=Object.keys(c),p=s.fields||{},_=Object.keys(p);h.sort(),_.sort();for(let w=0;w<h.length&&w<_.length;++w){const T=tn(h[w],_[w]);if(0!==T)return T;const A=wh(c[h[w]],p[_[w]]);if(0!==A)return A}return tn(h.length,_.length)}(n.mapValue,e.mapValue);default:throw _t()}}function QU(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return tn(n,e);const t=yh(n),i=yh(e),r=tn(t.seconds,i.seconds);return 0!==r?r:tn(t.nanos,i.nanos)}function c_(n){return PO(n)}function PO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=yh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?gp(n.bytesValue).toBase64():"referenceValue"in n?nt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=PO(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const h of r)c?c=!1:s+=",",s+=`${h}:${PO(i.fields[h])}`;return s+"}"}(n.mapValue):_t();var e}function _p(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function NO(n){return!!n&&"integerValue"in n}function $w(n){return!!n&&"arrayValue"in n}function JU(n){return!!n&&"nullValue"in n}function XU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hD(n){return!!n&&"mapValue"in n}function Ww(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return pp(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ww(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ww(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ej(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class As{constructor(e){this.value=e}static empty(){return new As({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!hD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ww(t)}setAll(e){let t=Vr.emptyPath(),i={},r=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=h.popLast()}c?i[h.lastSegment()]=Ww(c):r.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());hD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];hD(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){pp(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new As(Ww(this.value))}}function ij(n){const e=[];return pp(n.fields,(t,i)=>{const r=new Vr([t]);if(hD(i)){const s=ij(i.mapValue).fields;if(0===s.length)e.push(r);else for(const c of s)e.push(r.child(c))}else e.push(r)}),new l_(e)}class mi{constructor(e,t,i,r,s,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(e){return new mi(e,0,kt.min(),kt.min(),As.empty(),0)}static newFoundDocument(e,t,i){return new mi(e,1,t,kt.min(),i,0)}static newNoDocument(e,t){return new mi(e,2,t,kt.min(),As.empty(),0)}static newUnknownDocument(e,t){return new mi(e,3,t,kt.min(),As.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=As.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=As.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function PZ(n){return new Ll(n.readTime,n.key,-1)}class Ll{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ll(kt.min(),nt.empty(),-1)}static max(){return new Ll(kt.max(),nt.empty(),-1)}}function sj(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=nt.comparator(n.documentKey,e.documentKey),0!==t?t:tn(n.largestBatchId,e.largestBatchId))}class qi{constructor(e,t){this.comparator=e,this.root=t||us.EMPTY}insert(e,t){return new qi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,us.BLACK,null,null))}remove(e){return new qi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,us.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gD(this.root,e,this.comparator,!1)}getReverseIterator(){return new gD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gD(this.root,e,this.comparator,!0)}}class gD{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class us{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=null!=i?i:us.RED,this.left=null!=r?r:us.EMPTY,this.right=null!=s?s:us.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new us(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return us.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return us.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,us.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}us.EMPTY=null,us.RED=!0,us.BLACK=!1,us.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(n,e,t,i,r){return this}insert(n,e,t){return new us(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ai{constructor(e){this.comparator=e,this.data=new qi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oj(this.data.getIterator())}getIteratorFrom(e){return new oj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof ai)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ai(this.comparator);return t.data=e,t}}class oj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class NZ{constructor(e,t=null,i=[],r=[],s=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=h,this.P=null}}function aj(n,e=null,t=[],i=[],r=null,s=null,c=null){return new NZ(n,e,t,i,r,s,c)}function vp(n){const e=rt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+c_(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Hw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>c_(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>c_(i)).join(",")),e.P=t}return e.P}function Zw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!GZ(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!Vc(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hj(n.startAt,e.startAt)&&hj(n.endAt,e.endAt)}function mD(n){return nt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ds extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,i):new LZ(e,t,i):"array-contains"===t?new UZ(e,i):"in"===t?new jZ(e,i):"not-in"===t?new HZ(e,i):"array-contains-any"===t?new zZ(e,i):new ds(e,t,i)}static V(e,t,i){return"in"===t?new BZ(e,i):new VZ(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(wh(t,this.value)):null!==t&&mp(this.value)===mp(t)&&this.v(wh(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _t()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class LZ extends ds{constructor(e,t,i){super(e,t,i),this.key=nt.fromName(i.referenceValue)}matches(e){const t=nt.comparator(e.key,this.key);return this.v(t)}}class BZ extends ds{constructor(e,t){super(e,"in",t),this.keys=uj(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class VZ extends ds{constructor(e,t){super(e,"not-in",t),this.keys=uj(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uj(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>nt.fromName(i.referenceValue))}class UZ extends ds{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $w(t)&&Gw(t.arrayValue,this.value)}}class jZ extends ds{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Gw(this.value.arrayValue,t)}}class HZ extends ds{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Gw(this.value.arrayValue,t)}}class zZ extends ds{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$w(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Gw(this.value.arrayValue,i))}}class Ch{constructor(e,t){this.position=e,this.inclusive=t}}class d_{constructor(e,t="asc"){this.field=e,this.dir=t}}function GZ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function dj(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],c=n.position[r];if(i=s.field.isKeyField()?nt.comparator(nt.fromName(c.referenceValue),t.key):wh(c,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function hj(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vc(n.position[t],e.position[t]))return!1;return!0}class zu{constructor(e,t=null,i=[],r=[],s=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=h,this.endAt=p,this.D=null,this.C=null}}function h_(n){return new zu(n)}function LO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function BO(n){for(const e of n.filters)if(e.S())return e.field;return null}function VO(n){return null!==n.collectionGroup}function f_(n){const e=rt(n);if(null===e.D){e.D=[];const t=BO(e),i=LO(e);if(null!==t&&null===i)t.isKeyField()||e.D.push(new d_(t)),e.D.push(new d_(Vr.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new d_(Vr.keyField(),s))}}}return e.D}function Ya(n){const e=rt(n);if(!e.C)if("F"===e.limitType)e.C=aj(e.path,e.collectionGroup,f_(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of f_(e))t.push(new d_(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Ch(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ch(e.startAt.position,e.startAt.inclusive):null;e.C=aj(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.C}function Kw(n,e){return Zw(Ya(n),Ya(e))&&n.limitType===e.limitType}function gj(n){return`${vp(Ya(n))}|lt:${n.limitType}`}function UO(n){return`Query(target=${function FZ(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${c_(i.value)}`;var i}).join(", ")}]`),Hw(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>c_(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>c_(t)).join(",")),`Target(${e})`}(Ya(n))}; limitType=${n.limitType})`}function jO(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):nt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,c){const h=dj(r,s,c);return r.inclusive?h<=0:h<0}(t.startAt,f_(t),i)||t.endAt&&!function(r,s,c){const h=dj(r,s,c);return r.inclusive?h>=0:h>0}(t.endAt,f_(t),i)));var t,i}function _j(n){return(e,t)=>{let i=!1;for(const r of f_(n)){const s=WZ(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function WZ(n,e,t){const i=n.field.isKeyField()?nt.comparator(e.key,t.key):function(r,s,c){const h=s.data.field(r),p=c.data.field(r);return null!==h&&null!==p?wh(h,p):_t()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return _t()}}function yj(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zw(e)?"-0":e}}function vj(n){return{integerValue:""+n}}function bj(n,e){return function YU(n){return"number"==typeof n&&Number.isInteger(n)&&!zw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?vj(e):yj(n,e)}class yD{constructor(){this._=void 0}}function qZ(n,e,t){return n instanceof p_?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof bp?Cj(n,e):n instanceof wp?Ej(n,e):function(i,r){const s=wj(i,r),c=Tj(s)+Tj(i.k);return NO(s)&&NO(i.k)?vj(c):yj(i.M,c)}(n,e)}function ZZ(n,e,t){return n instanceof bp?Cj(n,e):n instanceof wp?Ej(n,e):t}function wj(n,e){return n instanceof g_?NO(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class p_ extends yD{}class bp extends yD{constructor(e){super(),this.elements=e}}function Cj(n,e){const t=Ij(e);for(const i of n.elements)t.some(r=>Vc(r,i))||t.push(i);return{arrayValue:{values:t}}}class wp extends yD{constructor(e){super(),this.elements=e}}function Ej(n,e){let t=Ij(e);for(const i of n.elements)t=t.filter(r=>!Vc(r,i));return{arrayValue:{values:t}}}class g_ extends yD{constructor(e,t){super(),this.M=e,this.k=t}}function Tj(n){return Bi(n.integerValue||n.doubleValue)}function Ij(n){return $w(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class YZ{constructor(e,t){this.version=e,this.transformResults=t}}class ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ur}static exists(e){return new ur(void 0,e)}static updateTime(e){return new ur(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class bD{}function QZ(n,e,t){n instanceof Qw?function(i,r,s){const c=i.value.clone(),h=Aj(i.fieldTransforms,r,s.transformResults);c.setAll(h),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Cp?function(i,r,s){if(!vD(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=Aj(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(xj(i)),h.setAll(c),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function HO(n,e,t){var r;n instanceof Qw?function(i,r,s){if(!vD(i.precondition,r))return;const c=i.value.clone(),h=Mj(i.fieldTransforms,s,r);c.setAll(h),r.convertToFoundDocument(Sj(r),c).setHasLocalMutations()}(n,e,t):n instanceof Cp?function(i,r,s){if(!vD(i.precondition,r))return;const c=Mj(i.fieldTransforms,s,r),h=r.data;h.setAll(xj(i)),h.setAll(c),r.convertToFoundDocument(Sj(r),h).setHasLocalMutations()}(n,e,t):vD(n.precondition,r=e)&&r.convertToNoDocument(kt.min())}function JZ(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=wj(i.transform,r||null);null!=s&&(null==t&&(t=As.empty()),t.set(i.field,s))}return t||null}function Dj(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&a_(t,i,(r,s)=>function KZ(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof bp&&i instanceof bp||t instanceof wp&&i instanceof wp?a_(t.elements,i.elements,Vc):t instanceof g_&&i instanceof g_?Vc(t.k,i.k):t instanceof p_&&i instanceof p_);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function Sj(n){return n.isFoundDocument()?n.version:kt.min()}class Qw extends bD{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}}class Cp extends bD{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}}function xj(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Aj(n,e,t){const i=new Map;Ft(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],c=s.transform,h=e.data.field(s.field);i.set(s.field,ZZ(c,h,t[r]))}return i}function Mj(n,e,t){const i=new Map;for(const r of n){const s=r.transform,c=t.data.field(r.field);i.set(r.field,qZ(s,c,e))}return i}class Jw extends bD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class zO extends bD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class XZ{constructor(e){this.count=e}}var dr,En;function kj(n){switch(n){default:return _t();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0}}function Rj(n){if(void 0===n)return lr("GRPC error has no .code"),Te.UNKNOWN;switch(n){case dr.OK:return Te.OK;case dr.CANCELLED:return Te.CANCELLED;case dr.UNKNOWN:return Te.UNKNOWN;case dr.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case dr.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case dr.INTERNAL:return Te.INTERNAL;case dr.UNAVAILABLE:return Te.UNAVAILABLE;case dr.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case dr.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case dr.NOT_FOUND:return Te.NOT_FOUND;case dr.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case dr.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case dr.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case dr.ABORTED:return Te.ABORTED;case dr.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case dr.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case dr.DATA_LOSS:return Te.DATA_LOSS;default:return _t()}}(En=dr||(dr={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";class Eh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){pp(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return ZU(this.inner)}size(){return this.innerSize}}const eK=new qi(nt.comparator);function Qa(){return eK}const tK=new qi(nt.comparator);function GO(...n){let e=tK;for(const t of n)e=e.insert(t.key,t);return e}function Xw(){return new Eh(n=>n.toString(),(n,e)=>n.isEqual(e))}const nK=new qi(nt.comparator),iK=new ai(nt.comparator);function Hn(...n){let e=iK;for(const t of n)e=e.add(t);return e}const rK=new ai(tn);function wD(){return rK}class e0{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,t0.createSynthesizedTargetChangeForCurrentChange(e,t)),new e0(kt.min(),i,wD(),Qa(),Hn())}}class t0{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new t0(Ir.EMPTY_BYTE_STRING,t,Hn(),Hn(),Hn())}}class CD{constructor(e,t,i,r){this.O=e,this.removedTargetIds=t,this.key=i,this.F=r}}class Oj{constructor(e,t){this.targetId=e,this.$=t}}class Pj{constructor(e,t,i=Ir.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Nj{constructor(){this.B=0,this.L=Lj(),this.U=Ir.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Hn(),t=Hn(),i=Hn();return this.L.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:_t()}}),new t0(this.U,this.q,e,t,i)}J(){this.K=!1,this.L=Lj()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class sK{constructor(e){this.nt=e,this.st=new Map,this.it=Qa(),this.rt=Fj(),this.ot=new ai(tn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const i=this.lt(t);switch(e.state){case 0:this.ft(t)&&i.W(e.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(e.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(t);break;case 3:this.ft(t)&&(i.et(),i.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),i.W(e.resumeToken));break;default:_t()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((i,r)=>{this.ft(r)&&t(r)})}_t(e){const t=e.targetId,i=e.$.count,r=this.wt(t);if(r){const s=r.target;if(mD(s))if(0===i){const c=new nt(s.path);this.ct(t,c,mi.newNoDocument(c,kt.min()))}else Ft(1===i);else this.gt(t)!==i&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((s,c)=>{const h=this.wt(c);if(h){if(s.current&&mD(h.target)){const p=new nt(h.target.path);null!==this.it.get(p)||this.It(c,p)||this.ct(c,p,mi.newNoDocument(p,e))}s.j&&(t.set(c,s.H()),s.J())}});let i=Hn();this.rt.forEach((s,c)=>{let h=!0;c.forEachWhile(p=>{const _=this.wt(p);return!_||2===_.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.it.forEach((s,c)=>c.setReadTime(e));const r=new e0(e,t,this.ot,this.it,i);return this.it=Qa(),this.rt=Fj(),this.ot=new ai(tn),r}at(e,t){if(!this.ft(e))return;const i=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,i),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,i){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),i&&(this.it=this.it.insert(t,i))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Nj,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new ai(tn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Ze("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Nj),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Fj(){return new qi(nt.comparator)}function Lj(){return new qi(nt.comparator)}const oK={asc:"ASCENDING",desc:"DESCENDING"},aK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class lK{constructor(e,t){this.databaseId=e,this.N=t}}function n0(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bj(n,e){return n.N?e.toBase64():e.toUint8Array()}function cK(n,e){return n0(n,e.toTimestamp())}function Ur(n){return Ft(!!n),kt.fromTimestamp(function(e){const t=yh(e);return new cr(t.seconds,t.nanos)}(n))}function $O(n,e){return(t=n,new Cn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Vj(n){const e=Cn.fromString(n);return Ft(Zj(e)),e}function r0(n,e){return $O(n.databaseId,e.path)}function Uc(n,e){const t=Vj(e);if(t.get(1)!==n.databaseId.projectId)throw new ze(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ze(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new nt(jj(t))}function WO(n,e){return $O(n.databaseId,e)}function s0(n){return new Cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jj(n){return Ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Hj(n,e,t){return{name:r0(n,e),fields:t.value.mapValue.fields}}function Gj(n,e){return{documents:[WO(n,e.path)]}}function $j(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=WO(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=WO(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const _=p.map(w=>function(T){if("=="===T.op){if(XU(T.value))return{unaryFilter:{field:m_(T.field),op:"IS_NAN"}};if(JU(T.value))return{unaryFilter:{field:m_(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(XU(T.value))return{unaryFilter:{field:m_(T.field),op:"IS_NOT_NAN"}};if(JU(T.value))return{unaryFilter:{field:m_(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:m_(T.field),op:gK(T.op),value:T.value}}}(w));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(_=>{return{field:m_((w=_).field),direction:pK(w.dir)};var w})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=(_=e.limit,n.N||Hw(_)?_:{value:_});var _,h,p;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function Wj(n){let e=function Uj(n){const e=Vj(n);return 4===e.length?Cn.emptyPath():jj(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ft(1===i);const w=t.from[0];w.allDescendants?r=w.collectionId:e=e.child(w.collectionId)}let s=[];t.where&&(s=qj(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(w=>{return new d_(__((T=w).field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let h=null;t.limit&&(h=function(w){let T;return T="object"==typeof w?w.value:w,Hw(T)?null:T}(t.limit));let p=null;var w;t.startAt&&(p=new Ch((w=t.startAt).values||[],!!w.before));let _=null;return t.endAt&&(_=function(w){return new Ch(w.values||[],!w.before)}(t.endAt)),function fj(n,e,t,i,r,s,c,h){return new zu(n,e,t,i,r,s,c,h)}(e,r,c,s,h,"F",p,_)}function qj(n){return n?void 0!==n.unaryFilter?[_K(n)]:void 0!==n.fieldFilter?[mK(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>qj(e)).reduce((e,t)=>e.concat(t)):_t():[]}function pK(n){return oK[n]}function gK(n){return aK[n]}function m_(n){return{fieldPath:n.canonicalString()}}function __(n){return Vr.fromServerFormat(n.fieldPath)}function mK(n){return ds.create(__(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(n.fieldFilter.op),n.fieldFilter.value)}function _K(n){switch(n.unaryFilter.op){case"IS_NAN":const e=__(n.unaryFilter.field);return ds.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=__(n.unaryFilter.field);return ds.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=__(n.unaryFilter.field);return ds.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=__(n.unaryFilter.field);return ds.create(r,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}function yK(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Zj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}const eH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ie((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ie?t:Ie.resolve(t)}catch(t){return Ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ie.reject(t)}static resolve(e){return new Ie((t,i)=>{t(e)})}static reject(e){return new Ie((t,i)=>{i(e)})}static waitFor(e){return new Ie((t,i)=>{let r=0,s=0,c=!1;e.forEach(h=>{++r,h.next(()=>{++s,c&&s===r&&t()},p=>i(p))}),c=!0,s===r&&t()})}static or(e){let t=Ie.resolve(!1);for(const i of e)t=t.next(r=>r?Ie.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}}function Ep(n){return"IndexedDbTransactionError"===n.name}class KO{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&QZ(s,e,i[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&HO(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&HO(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(kt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Hn())}isEqual(e){return this.batchId===e.batchId&&a_(this.mutations,e.mutations,(t,i)=>Dj(t,i))&&a_(this.baseMutations,e.baseMutations,(t,i)=>Dj(t,i))}}class YO{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ft(e.mutations.length===i.length);let r=nK;const s=e.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new YO(e,t,i,r)}}class QO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Th{constructor(e,t,i,r,s=kt.min(),c=kt.min(),h=Ir.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h}withSequenceNumber(e){return new Th(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Th(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Th(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class iH{constructor(e){this.Jt=e}}function JO(n){const e=Wj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?function pj(n,e,t){return new zu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}(e,e.limit,"L"):e}class Sp{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Bi(e.integerValue));else if("doubleValue"in e){const i=Bi(e.doubleValue);isNaN(i)?this.ne(t,13):(this.ne(t,15),zw(i)?t.se(0):t.se(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ne(t,20),"string"==typeof i?t.ie(i):(t.ie(`${i.seconds||""}`),t.se(i.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(gp(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?ej(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):_t()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const i=e.fields||{};this.ne(t,55);for(const r of Object.keys(i))this.re(r,t),this.te(i[r],t)}he(e,t){const i=e.values||[];this.ne(t,50);for(const r of i)this.te(r,t)}ae(e,t){this.ne(t,37),nt.fromName(e).path.forEach(i=>{this.ne(t,60),this.le(i,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}Sp.fe=new Sp;class qK{constructor(){this.qe=new t1}addToCollectionParentIndex(e,t){return this.qe.add(t),Ie.resolve()}getCollectionParents(e,t){return Ie.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Ie.resolve()}deleteFieldIndex(e,t){return Ie.resolve()}getDocumentsMatchingTarget(e,t){return Ie.resolve(null)}getIndexType(e,t){return Ie.resolve(0)}getFieldIndexes(e,t){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,t){return Ie.resolve(Ll.min())}updateCollectionGroup(e,t,i){return Ie.resolve()}updateIndexEntries(e,t){return Ie.resolve()}}class t1{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new ai(Cn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ai(Cn.comparator)).toArray()}}new Uint8Array(0);class Oo{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Oo(e,Oo.DEFAULT_COLLECTION_PERCENTILE,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Oo.DEFAULT_COLLECTION_PERCENTILE=10,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oo.DEFAULT=new Oo(41943040,Oo.DEFAULT_COLLECTION_PERCENTILE,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oo.DISABLED=new Oo(-1,0,0);class Mp{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Mp(0)}static yn(){return new Mp(-1)}}function kp(n){return r1.apply(this,arguments)}function r1(){return r1=(0,it.Z)(function*(n){if(n.code!==Te.FAILED_PRECONDITION||n.message!==eH)throw n;Ze("LocalStore","Unexpectedly lost primary lease")}),r1.apply(this,arguments)}class rY{constructor(e,t,i){this.ds=e,this.Bs=t,this.indexManager=i}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.Us(e,t,i))}Us(e,t,i){return this.ds.getEntry(e,t).next(r=>{for(const s of i)s.applyToLocalView(r);return r})}qs(e,t){e.forEach((i,r)=>{for(const s of t)s.applyToLocalView(r)})}Ks(e,t){return this.ds.getEntries(e,t).next(i=>this.Gs(e,i).next(()=>i))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.qs(t,i))}Qs(e,t,i){return nt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(e,t.path):VO(t)?this.Ws(e,t,i):this.zs(e,t,i);var r}js(e,t){return this.Ls(e,new nt(t)).next(i=>{let r=GO();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(e,t,i){const r=t.collectionGroup;let s=GO();return this.indexManager.getCollectionParents(e,r).next(c=>Ie.forEach(c,h=>{const p=(_=t,w=h.child(r),new zu(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,w;return this.zs(e,p,i).next(_=>{_.forEach((w,T)=>{s=s.insert(w,T)})})}).next(()=>s))}zs(e,t,i){let r;return this.ds.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(s=>{for(const c of s)for(const h of c.mutations){const p=h.key;let _=r.get(p);null==_&&(_=mi.newInvalidDocument(p),r=r.insert(p,_)),HO(h,_,c.localWriteTime),_.isFoundDocument()||(r=r.remove(p))}}).next(()=>(r.forEach((s,c)=>{jO(t,c)||(r=r.remove(s))}),r))}}class l1{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Hs=i,this.Js=r}static Ys(e,t){let i=Hn(),r=Hn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new l1(e,t.fromCache,i,r)}}class CH{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,i,r){return this.ti(e,t).next(s=>s||this.ei(e,t,r,i)).next(s=>s||this.ni(e,t))}ti(e,t){return Ie.resolve(null)}ei(e,t,i,r){return function $Z(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(kt.min())?this.ni(e,t):this.Zs.Ks(e,i).next(s=>{const c=this.si(t,s);return this.ii(t,c,i,r)?this.ni(e,t):(kO()<=vs.in.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),UO(t)),this.ri(e,c,t,function rj(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=kt.fromTimestamp(1e9===i?new cr(t+1,0):new cr(t,i));return new Ll(r,nt.empty(),e)}(r,-1)))})}si(e,t){let i=new ai(_j(e));return t.forEach((r,s)=>{jO(e,s)&&(i=i.add(s))}),i}ii(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ni(e,t){return kO()<=vs.in.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",UO(t)),this.Zs.Qs(e,t,Ll.min())}ri(e,t,i,r){return this.Zs.Qs(e,i,r).next(s=>(t.forEach(c=>{s=s.insert(c.key,c)}),s))}}class sY{constructor(e,t,i,r){this.persistence=e,this.oi=t,this.M=r,this.ui=new qi(tn),this.ai=new Eh(s=>vp(s),Zw),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(i)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new rY(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function TH(n,e){return c1.apply(this,arguments)}function c1(){return c1=(0,it.Z)(function*(n,e){const t=rt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.Bs.getAllMutationBatches(i).next(s=>(r=s,t.li(e),t.Bs.getAllMutationBatches(i))).next(s=>{const c=[],h=[];let p=Hn();for(const _ of r){c.push(_.batchId);for(const w of _.mutations)p=p.add(w.key)}for(const _ of s){h.push(_.batchId);for(const w of _.mutations)p=p.add(w.key)}return t.fi.Ks(i,p).next(_=>({di:_,removedBatchIds:c,addedBatchIds:h}))})})}),c1.apply(this,arguments)}function oY(n,e){const t=rt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.hi.newChangeBuffer({trackRemovals:!0});return function(c,h,p,_){const w=p.batch,T=w.keys();let A=Ie.resolve();return T.forEach(F=>{A=A.next(()=>_.getEntry(h,F)).next(V=>{const ue=p.docVersions.get(F);Ft(null!==ue),V.version.compareTo(ue)<0&&(w.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),_.addEntry(V)))})}),A.next(()=>c.Bs.removeMutationBatch(h,w))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.Bs.performConsistencyCheck(i)).next(()=>t.fi.Ks(i,r))})}function IH(n){const e=rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function aY(n,e){const t=rt(n),i=e.snapshotVersion;let r=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.hi.newChangeBuffer({trackRemovals:!0});r=t.ui;const h=[];e.targetChanges.forEach((_,w)=>{const T=r.get(w);if(!T)return;h.push(t.fs.removeMatchingKeys(s,_.removedDocuments,w).next(()=>t.fs.addMatchingKeys(s,_.addedDocuments,w)));let A=T.withSequenceNumber(s.currentSequenceNumber);var F,V,ue;e.targetMismatches.has(w)?A=A.withResumeToken(Ir.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):_.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(_.resumeToken,i)),r=r.insert(w,A),V=A,ue=_,(0===(F=T).resumeToken.approximateByteSize()||V.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8||ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0)&&h.push(t.fs.updateTargetData(s,A))});let p=Qa();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,_))}),h.push(function DH(n,e,t){let i=Hn();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let s=Qa();return t.forEach((c,h)=>{const p=r.get(c);h.isNoDocument()&&h.version.isEqual(kt.min())?(e.removeEntry(c,h.readTime),s=s.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||0===h.version.compareTo(p.version)&&p.hasPendingWrites?(e.addEntry(h),s=s.insert(c,h)):Ze("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),s})}(s,c,e.documentUpdates).next(_=>{p=_})),!i.isEqual(kt.min())){const _=t.fs.getLastRemoteSnapshotVersion(s).next(w=>t.fs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(_)}return Ie.waitFor(h).next(()=>c.apply(s)).next(()=>t.fi.Gs(s,p)).next(()=>p)}).then(s=>(t.ui=r,s))}function lY(n,e){const t=rt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(i,e)))}function w_(n,e){const t=rt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.fs.getTargetData(i,e).next(s=>s?(r=s,Ie.resolve(r)):t.fs.allocateTargetId(i).next(c=>(r=new Th(e,c,0,i.currentSequenceNumber),t.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ui=t.ui.insert(i.targetId,i),t.ai.set(e,i.targetId)),i})}function C_(n,e,t){return u1.apply(this,arguments)}function u1(){return u1=(0,it.Z)(function*(n,e,t){const i=rt(n),r=i.ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Ep(c))throw c;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.ui=i.ui.remove(e),i.ai.delete(r.target)}),u1.apply(this,arguments)}function RD(n,e,t){const i=rt(n);let r=kt.min(),s=Hn();return i.persistence.runTransaction("Execute query","readonly",c=>function(h,p,_){const w=rt(h),T=w.ai.get(_);return void 0!==T?Ie.resolve(w.ui.get(T)):w.fs.getTargetData(p,_)}(i,c,Ya(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(c,h.targetId).next(p=>{s=p})}).next(()=>i.oi.Qs(c,e,t?r:kt.min(),t?s:Hn())).next(h=>(function AH(n,e,t){let i=kt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.ci.set(e,i)}(i,function mj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),h),{documents:h,_i:s})))}class dY{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return Ie.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var i;return this.yi.set(t.id,{id:(i=t).id,version:i.version,createTime:Ur(i.createTime)}),Ie.resolve()}getNamedQuery(e,t){return Ie.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(i=t).name,query:JO(i.bundledQuery),readTime:Ur(i.readTime)}),Ie.resolve();var i}}class hY{constructor(){this.overlays=new qi(nt.comparator),this.Ii=new Map}getOverlay(e,t){return Ie.resolve(this.overlays.get(t))}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.Xt(e,t,s)}),Ie.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Ii.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ii.delete(i)),Ie.resolve()}getOverlaysForCollection(e,t,i){const r=Xw(),s=t.length+1,c=new nt(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return Ie.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new qi((_,w)=>_-w);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let w=s.get(_.largestBatchId);null===w&&(w=Xw(),s=s.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const h=Xw(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,w)=>h.set(_,w)),!(h.size()>=r)););return Ie.resolve(h)}Xt(e,t,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const c=this.Ii.get(r.largestBatchId).delete(i.key);this.Ii.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new QO(t,i));let s=this.Ii.get(t);void 0===s&&(s=Hn(),this.Ii.set(t,s)),this.Ii.set(t,s.add(i.key))}}class f1{constructor(){this.Ti=new ai(Hr.Ei),this.Ai=new ai(Hr.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const i=new Hr(e,t);this.Ti=this.Ti.add(i),this.Ai=this.Ai.add(i)}bi(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Pi(new Hr(e,t))}Vi(e,t){e.forEach(i=>this.removeReference(i,t))}vi(e){const t=new nt(new Cn([])),i=new Hr(t,e),r=new Hr(t,e+1),s=[];return this.Ai.forEachInRange([i,r],c=>{this.Pi(c),s.push(c.key)}),s}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new nt(new Cn([])),i=new Hr(t,e),r=new Hr(t,e+1);let s=Hn();return this.Ai.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new Hr(e,0),i=this.Ti.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Hr{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return nt.comparator(e.key,t.key)||tn(e.Ci,t.Ci)}static Ri(e,t){return tn(e.Ci,t.Ci)||nt.comparator(e.key,t.key)}}class fY{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new ai(Hr.Ei)}checkEmpty(e){return Ie.resolve(0===this.Bs.length)}addMutationBatch(e,t,i,r){const s=this.xi;this.xi++;const c=new KO(s,t,i,r);this.Bs.push(c);for(const h of r)this.Ni=this.Ni.add(new Hr(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Ie.resolve(c)}lookupMutationBatch(e,t){return Ie.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Mi(t+1),s=r<0?0:r;return Ie.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return Ie.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Hr(t,0),r=new Hr(t,Number.POSITIVE_INFINITY),s=[];return this.Ni.forEachInRange([i,r],c=>{const h=this.ki(c.Ci);s.push(h)}),Ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ai(tn);return t.forEach(r=>{const s=new Hr(r,0),c=new Hr(r,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([s,c],h=>{i=i.add(h.Ci)})}),Ie.resolve(this.Oi(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;nt.isDocumentKey(s)||(s=s.child(""));const c=new Hr(new nt(s),0);let h=new ai(tn);return this.Ni.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(h=h.add(p.Ci)),!0)},c),Ie.resolve(this.Oi(h))}Oi(e){const t=[];return e.forEach(i=>{const r=this.ki(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ft(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let i=this.Ni;return Ie.forEach(t.mutations,r=>{const s=new Hr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Ni=i})}_n(e){}containsKey(e,t){const i=new Hr(t,0),r=this.Ni.firstAfterOrEqual(i);return Ie.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Ie.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class pY{constructor(e){this.$i=e,this.docs=new qi(nt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,c=this.$i(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ie.resolve(i?i.document.mutableCopy():mi.newInvalidDocument(t))}getEntries(e,t){let i=Qa();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():mi.newInvalidDocument(r))}),Ie.resolve(i)}getAllFromCollection(e,t,i){let r=Qa();const s=new nt(t.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||sj(PZ(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return Ie.resolve(r)}getAllFromCollectionGroup(e,t,i,r){_t()}Bi(e,t){return Ie.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new gY(this)}getSize(e){return Ie.resolve(this.size)}}class gY extends class eY{constructor(){this.changes=new Eh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Ie.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Kn.addEntry(e,r)):this.Kn.removeEntry(i)}),Ie.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class mY{constructor(e){this.persistence=e,this.Li=new Eh(t=>vp(t),Zw),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.Ui=0,this.qi=new f1,this.targetCount=0,this.Ki=Mp.gn()}forEachTarget(e,t){return this.Li.forEach((i,r)=>t(r)),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ui&&(this.Ui=t),Ie.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new Mp(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Ie.resolve()}updateTargetData(e,t){return this.Tn(t),Ie.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Li.forEach((c,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.Li.delete(c),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),Ie.waitFor(s).next(()=>r)}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,t){const i=this.Li.get(t)||null;return Ie.resolve(i)}addMatchingKeys(e,t,i){return this.qi.bi(t,i),Ie.resolve()}removeMatchingKeys(e,t,i){this.qi.Vi(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(c=>{s.push(r.markPotentiallyOrphaned(e,c))}),Ie.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),Ie.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qi.Di(t);return Ie.resolve(i)}containsKey(e,t){return Ie.resolve(this.qi.containsKey(t))}}class _Y{constructor(e,t){this.Gi={},this.overlays={},this.es=new oa(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new mY(this),this.indexManager=new qK,this.ds=new pY(i=>this.referenceDelegate.Qi(i)),this.M=new iH(t),this._s=new dY(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hY,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Gi[e.toKey()];return i||(i=new fY(t,this.referenceDelegate),this.Gi[e.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,i){Ze("MemoryPersistence","Starting transaction:",e);const r=new yY(this.es.next());return this.referenceDelegate.ji(),i(r).next(s=>this.referenceDelegate.Wi(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}zi(e,t){return Ie.or(Object.values(this.Gi).map(i=>()=>i.containsKey(e,t)))}}class yY extends class LK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class p1{constructor(e){this.persistence=e,this.Hi=new f1,this.Ji=null}static Yi(e){return new p1(e)}get Xi(){if(this.Ji)return this.Ji;throw _t()}addReference(e,t,i){return this.Hi.addReference(i,t),this.Xi.delete(i.toString()),Ie.resolve()}removeReference(e,t,i){return this.Hi.removeReference(i,t),this.Xi.add(i.toString()),Ie.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),Ie.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(r=>this.Xi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Xi.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.Xi,i=>{const r=nt.fromPath(i);return this.Zi(e,r).next(s=>{s||t.removeEntry(r,kt.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(i=>{i?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return Ie.or([()=>Ie.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}class _1{constructor(){this.activeTargetIds=wD()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RH{constructor(){this.Ur=new _1,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,i){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new _1,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vY{Kr(e){}shutdown(){}}class OH{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const bY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class wY{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class CY extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,i,r,s){const c=this.ho(e,t);Ze("RestConnection","Sending: ",c,i);const h={};return this.lo(h,r,s),this.fo(e,c,h,i).then(p=>(Ze("RestConnection","Received: ",p),p),p=>{throw uD("RestConnection",`${e} failed with error: `,p,"url: ",c,"request:",i),p})}_o(e,t,i,r,s){return this.co(e,t,i,r,s)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+o_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ho(e,t){return`${this.uo}/v1/${t}:${bY[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((s,c)=>{const h=new wZ;h.listenOnce(yZ.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case MO.NO_ERROR:const _=h.getResponseJson();Ze("Connection","XHR received:",JSON.stringify(_)),s(_);break;case MO.TIMEOUT:Ze("Connection",'RPC "'+e+'" timed out'),c(new ze(Te.DEADLINE_EXCEEDED,"Request time out"));break;case MO.HTTP_ERROR:const w=h.getStatus();if(Ze("Connection",'RPC "'+e+'" failed with status:',w,"response text:",h.getResponseText()),w>0){const T=h.getResponseJson().error;if(T&&T.status&&T.message){const A=function(F){const V=F.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(V)>=0?V:Te.UNKNOWN}(T.status);c(new ze(A,T.message))}else c(new ze(Te.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new ze(Te.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{Ze("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(r);h.send(t,"POST",p,i,15)})}wo(e,t,i){const r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=mZ(),c=_Z(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new bZ({})),this.lo(h.initMessageHeaders,t,i),(0,U.uI)()||(0,U.b$)()||(0,U.d)()||(0,U.w1)()||(0,U.Mn)()||(0,U.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");Ze("Connection","Creating WebChannel: "+p,h);const _=s.createWebChannel(p,h);let w=!1,T=!1;const A=new wY({Jr:V=>{T?Ze("Connection","Not sending because WebChannel is closed:",V):(w||(Ze("Connection","Opening WebChannel transport."),_.open(),w=!0),Ze("Connection","WebChannel sending:",V),_.send(V))},Yr:()=>_.close()}),F=(V,ue,Ce)=>{V.listen(ue,Ke=>{try{Ce(Ke)}catch(Xe){setTimeout(()=>{throw Xe},0)}})};return F(_,cD.EventType.OPEN,()=>{T||Ze("Connection","WebChannel transport opened.")}),F(_,cD.EventType.CLOSE,()=>{T||(T=!0,Ze("Connection","WebChannel transport closed"),A.ro())}),F(_,cD.EventType.ERROR,V=>{T||(T=!0,uD("Connection","WebChannel transport errored:",V),A.ro(new ze(Te.UNAVAILABLE,"The operation could not be completed")))}),F(_,cD.EventType.MESSAGE,V=>{var ue;if(!T){const Ce=V.data[0];Ft(!!Ce);const Ke=Ce,Xe=Ke.error||(null===(ue=Ke[0])||void 0===ue?void 0:ue.error);if(Xe){Ze("Connection","WebChannel received error:",Xe);const st=Xe.status;let et=function(Lt){const In=dr[Lt];if(void 0!==In)return Rj(In)}(st),Ut=Xe.message;void 0===et&&(et=Te.INTERNAL,Ut="Unknown error status: "+st+" with message "+Xe.message),T=!0,A.ro(new ze(et,Ut)),_.close()}else Ze("Connection","WebChannel received:",Ce),A.oo(Ce)}}),F(c,vZ.STAT_EVENT,V=>{V.stat===jU.PROXY?Ze("Connection","Detected buffering proxy"):V.stat===jU.NOPROXY&&Ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{A.io()},0),A}}function ND(){return"undefined"!=typeof document?document:null}function g0(n){return new lK(n,!0)}class v1{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Yn=e,this.timerId=t,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&Ze("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class NH{constructor(e,t,i,r,s,c,h,p){this.Yn=e,this.Vo=i,this.vo=r,this.So=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new v1(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,it.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,it.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var i=this;return(0,it.Z)(function*(){i.Uo(),i.qo(),i.No.cancel(),i.Do++,4!==e?i.No.reset():t&&t.code===Te.RESOURCE_EXHAUSTED?(lr(t.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),i.No.Ao()):t&&t.code===Te.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Ko(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Do===t&&this.Qo(i,r)},i=>{e(()=>{const r=new ze(Te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.jo(r)})})}Qo(e,t){const i=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{i(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(r=>{i(()=>this.jo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.No.Ro((0,it.Z)(function*(){e.state=0,e.start()}))}jo(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EY extends NH{constructor(e,t,i,r,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.M=s}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function dK(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:_t(),r=e.targetChange.targetIds||[],s=function(p,_){return p.N?(Ft(void 0===_||"string"==typeof _),Ir.fromBase64String(_||"")):(Ft(void 0===_||_ instanceof Uint8Array),Ir.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const _=void 0===p.code?Te.UNKNOWN:Rj(p.code);return new ze(_,p.message||"")}(c);t=new Pj(i,r,s,h||null)}else if("documentChange"in e){const i=e.documentChange,r=Uc(n,i.document.name),s=Ur(i.document.updateTime),c=new As({mapValue:{fields:i.document.fields}}),h=mi.newFoundDocument(r,s,c);t=new CD(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const i=e.documentDelete,r=Uc(n,i.document),s=i.readTime?Ur(i.readTime):kt.min(),c=mi.newNoDocument(r,s);t=new CD([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=Uc(n,i.document);t=new CD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return _t();{const i=e.filter,s=new XZ(i.count||0);t=new Oj(i.targetId,s)}}var p;return t}(this.M,e),i=function(r){if(!("targetChange"in r))return kt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?kt.min():s.readTime?Ur(s.readTime):kt.min()}(e);return this.listener.zo(t,i)}Ho(e){const t={};t.database=s0(this.M),t.addTarget=function(r,s){let c;const h=s.target;return c=mD(h)?{documents:Gj(r,h)}:{query:$j(r,h)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=Bj(r,s.resumeToken):s.snapshotVersion.compareTo(kt.min())>0&&(c.readTime=n0(r,s.snapshotVersion.toTimestamp())),c}(this.M,e);const i=function fK(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _t()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Lo(t)}Jo(e){const t={};t.database=s0(this.M),t.removeTarget=e,this.Lo(t)}}class TY extends NH{constructor(e,t,i,r,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.M=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function hK(n,e){return n&&n.length>0?(Ft(void 0!==e),n.map(t=>function(i,r){let s=Ur(i.updateTime?i.updateTime:r);return s.isEqual(kt.min())&&(s=Ur(r)),new YZ(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Ur(e.commitTime);return this.listener.tu(i,t)}return Ft(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=s0(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function o0(n,e){let t;if(e instanceof Qw)t={update:Hj(n,e.key,e.value)};else if(e instanceof Jw)t={delete:r0(n,e.key)};else if(e instanceof Cp)t={update:Hj(n,e.key,e.data),updateMask:yK(e.fieldMask)};else{if(!(e instanceof zO))return _t();t={verify:r0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof p_)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof bp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof wp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof g_)return{fieldPath:s.field.canonicalString(),increment:c.k};throw _t()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:cK(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:_t()),t;var r}(this.M,i))};this.Lo(t)}}class IY extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=i,this.M=r,this.su=!1}iu(){if(this.su)throw new ze(Te.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.So.co(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ze(Te.UNKNOWN,r.toString())})}_o(e,t,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.So._o(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ze(Te.UNKNOWN,r.toString())})}terminate(){this.su=!0}}class DY{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(lr(t),this.uu=!1):Ze("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class SY{constructor(e,t,i,r,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr(h=>{i.enqueueAndForget((0,it.Z)(function*(){var p;Sh(c)&&(Ze("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,it.Z)(function*(_){const w=rt(_);w.wu.add(4),yield E_(w),w.yu.set("Unknown"),w.wu.delete(4),yield m0(w)}),function(_){return p.apply(this,arguments)})(c))}))}),this.yu=new DY(i,r)}}function m0(n){return b1.apply(this,arguments)}function b1(){return b1=(0,it.Z)(function*(n){if(Sh(n))for(const e of n.mu)yield e(!0)}),b1.apply(this,arguments)}function E_(n){return w1.apply(this,arguments)}function w1(){return w1=(0,it.Z)(function*(n){for(const e of n.mu)yield e(!1)}),w1.apply(this,arguments)}function FD(n,e){const t=rt(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),T1(t)?E1(t):I_(t).Mo()&&C1(t,e))}function _0(n,e){const t=rt(n),i=I_(t);t._u.delete(e),i.Mo()&&FH(t,e),0===t._u.size&&(i.Mo()?i.$o():Sh(t)&&t.yu.set("Unknown"))}function C1(n,e){n.pu.Z(e.targetId),I_(n).Ho(e)}function FH(n,e){n.pu.Z(e),I_(n).Jo(e)}function E1(n){n.pu=new sK({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),I_(n).start(),n.yu.au()}function T1(n){return Sh(n)&&!I_(n).ko()&&n._u.size>0}function Sh(n){return 0===rt(n).wu.size}function LH(n){n.pu=void 0}function xY(n){return I1.apply(this,arguments)}function I1(){return I1=(0,it.Z)(function*(n){n._u.forEach((e,t)=>{C1(n,e)})}),I1.apply(this,arguments)}function AY(n,e){return D1.apply(this,arguments)}function D1(){return D1=(0,it.Z)(function*(n,e){LH(n),T1(n)?(n.yu.lu(e),E1(n)):n.yu.set("Unknown")}),D1.apply(this,arguments)}function MY(n,e,t){return S1.apply(this,arguments)}function S1(){return S1=(0,it.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof Pj&&2===e.state&&e.cause)try{yield(i=(0,it.Z)(function*(r,s){const c=s.cause;for(const h of s.targetIds)r._u.has(h)&&(yield r.remoteSyncer.rejectListen(h,c),r._u.delete(h),r.pu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield LD(n,i)}else if(e instanceof CD?n.pu.ut(e):e instanceof Oj?n.pu._t(e):n.pu.ht(e),!t.isEqual(kt.min()))try{const i=yield IH(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const c=r.pu.yt(s);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const _=r._u.get(p);_&&r._u.set(p,_.withResumeToken(h.resumeToken,s))}}),c.targetMismatches.forEach(h=>{const p=r._u.get(h);if(!p)return;r._u.set(h,p.withResumeToken(Ir.EMPTY_BYTE_STRING,p.snapshotVersion)),FH(r,h);const _=new Th(p.target,h,1,p.sequenceNumber);C1(r,_)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){Ze("RemoteStore","Failed to raise snapshot:",i),yield LD(n,i)}var i}),S1.apply(this,arguments)}function LD(n,e,t){return x1.apply(this,arguments)}function x1(){return x1=(0,it.Z)(function*(n,e,t){if(!Ep(e))throw e;n.wu.add(1),yield E_(n),n.yu.set("Offline"),t||(t=()=>IH(n.localStore)),n.asyncQueue.enqueueRetryable((0,it.Z)(function*(){Ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield m0(n)}))}),x1.apply(this,arguments)}function BH(n,e){return e().catch(t=>LD(n,t,e))}function T_(n){return A1.apply(this,arguments)}function A1(){return A1=(0,it.Z)(function*(n){const e=rt(n),t=xh(e);let i=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;kY(e);)try{const r=yield lY(e.localStore,i);if(null===r){0===e.du.length&&t.$o();break}i=r.batchId,RY(e,r)}catch(r){yield LD(e,r)}VH(e)&&UH(e)}),A1.apply(this,arguments)}function kY(n){return Sh(n)&&n.du.length<10}function RY(n,e){n.du.push(e);const t=xh(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function VH(n){return Sh(n)&&!xh(n).ko()&&n.du.length>0}function UH(n){xh(n).start()}function OY(n){return M1.apply(this,arguments)}function M1(){return M1=(0,it.Z)(function*(n){xh(n).nu()}),M1.apply(this,arguments)}function PY(n){return k1.apply(this,arguments)}function k1(){return k1=(0,it.Z)(function*(n){const e=xh(n);for(const t of n.du)e.Zo(t.mutations)}),k1.apply(this,arguments)}function NY(n,e,t){return R1.apply(this,arguments)}function R1(){return R1=(0,it.Z)(function*(n,e,t){const i=n.du.shift(),r=YO.from(i,e,t);yield BH(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield T_(n)}),R1.apply(this,arguments)}function FY(n,e){return O1.apply(this,arguments)}function O1(){return O1=(0,it.Z)(function*(n,e){var t;e&&xh(n).Xo&&(yield(t=(0,it.Z)(function*(i,r){if(kj(s=r.code)&&s!==Te.ABORTED){const c=i.du.shift();xh(i).Fo(),yield BH(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield T_(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),VH(n)&&UH(n)}),O1.apply(this,arguments)}function jH(n,e){return P1.apply(this,arguments)}function P1(){return P1=(0,it.Z)(function*(n,e){const t=rt(n);t.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const i=Sh(t);t.wu.add(3),yield E_(t),i&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield m0(t)}),P1.apply(this,arguments)}function F1(){return F1=(0,it.Z)(function*(n,e){const t=rt(n);e?(t.wu.delete(2),yield m0(t)):e||(t.wu.add(2),yield E_(t),t.yu.set("Unknown"))}),F1.apply(this,arguments)}function I_(n){return n.Iu||(n.Iu=function(e,t,i){const r=rt(e);return r.iu(),new EY(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:xY.bind(null,n),eo:AY.bind(null,n),zo:MY.bind(null,n)}),n.mu.push(function(){var e=(0,it.Z)(function*(t){t?(n.Iu.Fo(),T1(n)?E1(n):n.yu.set("Unknown")):(yield n.Iu.stop(),LH(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function xh(n){return n.Tu||(n.Tu=function(e,t,i){const r=rt(e);return r.iu(),new TY(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:OY.bind(null,n),eo:FY.bind(null,n),eu:PY.bind(null,n),tu:NY.bind(null,n)}),n.mu.push(function(){var e=(0,it.Z)(function*(t){t?(n.Tu.Fo(),yield T_(n)):(yield n.Tu.stop(),n.du.length>0&&(Ze("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class L1{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,s){const c=Date.now()+i,h=new L1(e,t,c,r,s);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ze(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function D_(n,e){if(lr("AsyncQueue",`${e}: ${n}`),Ep(n))return new ze(Te.UNAVAILABLE,`${e}: ${n}`);throw n}class S_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||nt.comparator(t.key,i.key):(t,i)=>nt.comparator(t.key,i.key),this.keyedMap=GO(),this.sortedSet=new qi(this.comparator)}static emptySet(e){return new S_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof S_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new S_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class HH{constructor(){this.Eu=new qi(nt.comparator)}track(e){const t=e.doc.key,i=this.Eu.get(t);i?0!==e.type&&3===i.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==i.type?this.Eu=this.Eu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Eu=this.Eu.remove(t):1===e.type&&2===i.type?this.Eu=this.Eu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):_t():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,i)=>{e.push(i)}),e}}class x_{constructor(e,t,i,r,s,c,h,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p}static fromInitialDocuments(e,t,i,r){const s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new x_(e,t,S_.emptySet(t),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class LY{constructor(){this.Ru=void 0,this.listeners=[]}}class BY{constructor(){this.queries=new Eh(e=>gj(e),Kw),this.onlineState="Unknown",this.bu=new Set}}function V1(){return V1=(0,it.Z)(function*(n,e){const t=rt(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new LY),r)try{s.Ru=yield t.onListen(i)}catch(c){const h=D_(c,`Initialization of query '${UO(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,s),s.listeners.push(e),e.Pu(t.onlineState),s.Ru&&e.Vu(s.Ru)&&H1(t)}),V1.apply(this,arguments)}function j1(){return j1=(0,it.Z)(function*(n,e){const t=rt(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),j1.apply(this,arguments)}function VY(n,e){const t=rt(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const h of c.listeners)h.Vu(r)&&(i=!0);c.Ru=r}}i&&H1(t)}function UY(n,e,t){const i=rt(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function H1(n){n.bu.forEach(e=>{e.next()})}class z1{constructor(e,t,i){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}Vu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new x_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=x_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class $H{constructor(e){this.key=e}}class WH{constructor(e){this.key=e}}class qH{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Hn(),this.mutatedKeys=Hn(),this.Gu=_j(e),this.Qu=new S_(this.Gu)}get ju(){return this.Uu}Wu(e,t){const i=t?t.zu:new HH,r=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,c=r,h=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((w,T)=>{const A=r.get(w),F=jO(this.query,T)?T:null,V=!!A&&this.mutatedKeys.has(A.key),ue=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let Ce=!1;A&&F?A.data.isEqual(F.data)?V!==ue&&(i.track({type:3,doc:F}),Ce=!0):this.Hu(A,F)||(i.track({type:2,doc:F}),Ce=!0,(p&&this.Gu(F,p)>0||_&&this.Gu(F,_)<0)&&(h=!0)):!A&&F?(i.track({type:0,doc:F}),Ce=!0):A&&!F&&(i.track({type:1,doc:A}),Ce=!0,(p||_)&&(h=!0)),Ce&&(F?(c=c.add(F),s=ue?s.add(w):s.delete(w)):(c=c.delete(w),s=s.delete(w)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const w="F"===this.query.limitType?c.last():c.first();c=c.delete(w.key),s=s.delete(w.key),i.track({type:1,doc:w})}return{Qu:c,zu:i,ii:h,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((_,w)=>function(T,A){const F=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return F(T)-F(A)}(_.type,w.type)||this.Gu(_.doc,w.doc)),this.Ju(i);const c=t?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,p=h!==this.qu;return this.qu=h,0!==s.length||p?{snapshot:new x_(this.query,e.Qu,r,s,e.mutatedKeys,0===h,p,!1),Xu:c}:{Xu:c}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new HH,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Hn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new WH(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new $H(i))}),t}ta(e){this.Uu=e._i,this.Ku=Hn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return x_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class zY{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class GY{constructor(e){this.key=e,this.na=!1}}class $Y{constructor(e,t,i,r,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.sa={},this.ia=new Eh(h=>gj(h),Kw),this.ra=new Map,this.oa=new Set,this.ua=new qi(nt.comparator),this.aa=new Map,this.ca=new f1,this.ha={},this.la=new Map,this.fa=Mp.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function WY(n,e){return G1.apply(this,arguments)}function G1(){return G1=(0,it.Z)(function*(n,e){const t=fP(n);let i,r;const s=t.ia.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.ea();else{const c=yield w_(t.localStore,Ya(e));t.isPrimaryClient&&FD(t.remoteStore,c);const h=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield $1(t,e,i,"current"===h)}return r}),G1.apply(this,arguments)}function $1(n,e,t,i){return W1.apply(this,arguments)}function W1(){return W1=(0,it.Z)(function*(n,e,t,i){n._a=(w,T,A)=>{return(F=(0,it.Z)(function*(V,ue,Ce,Ke){let Xe=ue.view.Wu(Ce);Xe.ii&&(Xe=yield RD(V.localStore,ue.query,!1).then(({documents:Ut})=>ue.view.Wu(Ut,Xe)));const st=Ke&&Ke.targetChanges.get(ue.targetId),et=ue.view.applyChanges(Xe,V.isPrimaryClient,st);return nP(V,ue.targetId,et.Xu),et.snapshot}),function(V,ue,Ce,Ke){return F.apply(this,arguments)})(n,w,T,A);var F};const r=yield RD(n.localStore,e,!0),s=new qH(e,r._i),c=s.Wu(r.documents),h=t0.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),p=s.applyChanges(c,n.isPrimaryClient,h);nP(n,t,p.Xu);const _=new zY(e,t,s);return n.ia.set(e,_),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),p.snapshot}),W1.apply(this,arguments)}function qY(n,e){return q1.apply(this,arguments)}function q1(){return q1=(0,it.Z)(function*(n,e){const t=rt(n),i=t.ia.get(e),r=t.ra.get(i.targetId);if(r.length>1)return t.ra.set(i.targetId,r.filter(s=>!Kw(s,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield C_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),_0(t.remoteStore,i.targetId),A_(t,i.targetId)}).catch(kp))):(A_(t,i.targetId),yield C_(t.localStore,i.targetId,!0))}),q1.apply(this,arguments)}function Z1(){return Z1=(0,it.Z)(function*(n,e,t){const i=pP(n);try{const r=yield function(s,c){const h=rt(s),p=cr.now(),_=c.reduce((T,A)=>T.add(A.key),Hn());let w;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>h.fi.Ks(T,_).next(A=>{w=A;const F=[];for(const V of c){const ue=JZ(V,w.get(V.key));null!=ue&&F.push(new Cp(V.key,ue,ij(ue.value.mapValue),ur.exists(!0)))}return h.Bs.addMutationBatch(T,p,F,c)})).then(T=>(T.applyToLocalDocumentSet(w),{batchId:T.batchId,changes:w}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,h){let p=s.ha[s.currentUser.toKey()];p||(p=new qi(tn)),p=p.insert(c,h),s.ha[s.currentUser.toKey()]=p}(i,r.batchId,t),yield Gu(i,r.changes),yield T_(i.remoteStore)}catch(r){const s=D_(r,"Failed to persist write");t.reject(s)}}),Z1.apply(this,arguments)}function ZH(n,e){return K1.apply(this,arguments)}function K1(){return K1=(0,it.Z)(function*(n,e){const t=rt(n);try{const i=yield aY(t.localStore,e);e.targetChanges.forEach((r,s)=>{const c=t.aa.get(s);c&&(Ft(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.na=!0:r.modifiedDocuments.size>0?Ft(c.na):r.removedDocuments.size>0&&(Ft(c.na),c.na=!1))}),yield Gu(t,i,e)}catch(i){yield kp(i)}}),K1.apply(this,arguments)}function KH(n,e,t){const i=rt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ia.forEach((s,c)=>{const h=c.view.Pu(e);h.snapshot&&r.push(h.snapshot)}),function(s,c){const h=rt(s);h.onlineState=c;let p=!1;h.queries.forEach((_,w)=>{for(const T of w.listeners)T.Pu(c)&&(p=!0)}),p&&H1(h)}(i.eventManager,e),r.length&&i.sa.zo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function KY(n,e,t){return Y1.apply(this,arguments)}function Y1(){return Y1=(0,it.Z)(function*(n,e,t){const i=rt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.aa.get(e),s=r&&r.key;if(s){let c=new qi(nt.comparator);c=c.insert(s,mi.newNoDocument(s,kt.min()));const h=Hn().add(s),p=new e0(kt.min(),new Map,new ai(tn),c,h);yield ZH(i,p),i.ua=i.ua.remove(s),i.aa.delete(e),iP(i)}else yield C_(i.localStore,e,!1).then(()=>A_(i,e,t)).catch(kp)}),Y1.apply(this,arguments)}function YY(n,e){return Q1.apply(this,arguments)}function Q1(){return Q1=(0,it.Z)(function*(n,e){const t=rt(n),i=e.batch.batchId;try{const r=yield oY(t.localStore,e);tP(t,i,null),eP(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Gu(t,r)}catch(r){yield kp(r)}}),Q1.apply(this,arguments)}function QY(n,e,t){return J1.apply(this,arguments)}function J1(){return J1=(0,it.Z)(function*(n,e,t){const i=rt(n);try{const r=yield function(s,c){const h=rt(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return h.Bs.lookupMutationBatch(p,c).next(w=>(Ft(null!==w),_=w.keys(),h.Bs.removeMutationBatch(p,w))).next(()=>h.Bs.performConsistencyCheck(p)).next(()=>h.fi.Ks(p,_))})}(i.localStore,e);tP(i,e,t),eP(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Gu(i,r)}catch(r){yield kp(r)}}),J1.apply(this,arguments)}function eP(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function tP(n,e,t){const i=rt(n);let r=i.ha[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.ha[i.currentUser.toKey()]=r}}function A_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ra.get(e))n.ia.delete(i),t&&n.sa.wa(i,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(i=>{n.ca.containsKey(i)||YH(n,i)})}function YH(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(_0(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),iP(n))}function nP(n,e,t){for(const i of t)i instanceof $H?(n.ca.addReference(i.key,e),XY(n,i)):i instanceof WH?(Ze("SyncEngine","Document no longer in limbo: "+i.key),n.ca.removeReference(i.key,e),n.ca.containsKey(i.key)||YH(n,i.key)):_t()}function XY(n,e){const t=e.key,i=t.path.canonicalString();n.ua.get(t)||n.oa.has(i)||(Ze("SyncEngine","New document in limbo: "+t),n.oa.add(i),iP(n))}function iP(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new nt(Cn.fromString(e)),i=n.fa.next();n.aa.set(i,new GY(t)),n.ua=n.ua.insert(t,i),FD(n.remoteStore,new Th(Ya(h_(t.path)),i,2,oa.A))}}function Gu(n,e,t){return rP.apply(this,arguments)}function rP(){return rP=(0,it.Z)(function*(n,e,t){const i=rt(n),r=[],s=[],c=[];var h;i.ia.isEmpty()||(i.ia.forEach((h,p)=>{c.push(i._a(p,e,t).then(_=>{if(_){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,_.fromCache?"not-current":"current"),r.push(_);const w=l1.Ys(p.targetId,_);s.push(w)}}))}),yield Promise.all(c),i.sa.zo(r),yield(h=(0,it.Z)(function*(p,_){const w=rt(p);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Ie.forEach(_,A=>Ie.forEach(A.Hs,F=>w.persistence.referenceDelegate.addReference(T,A.targetId,F)).next(()=>Ie.forEach(A.Js,F=>w.persistence.referenceDelegate.removeReference(T,A.targetId,F)))))}catch(T){if(!Ep(T))throw T;Ze("LocalStore","Failed to update sequence numbers: "+T)}for(const T of _){const A=T.targetId;if(!T.fromCache){const F=w.ui.get(A),ue=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);w.ui=w.ui.insert(A,ue)}}}),function(p,_){return h.apply(this,arguments)})(i.localStore,s))}),rP.apply(this,arguments)}function e7(n,e){return sP.apply(this,arguments)}function sP(){return sP=(0,it.Z)(function*(n,e){const t=rt(n);if(!t.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const i=yield TH(t.localStore,e);t.currentUser=e,(r=t).la.forEach(c=>{c.forEach(h=>{h.reject(new ze(Te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.la.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Gu(t,i.di)}var r}),sP.apply(this,arguments)}function t7(n,e){const t=rt(n),i=t.aa.get(e);if(i&&i.na)return Hn().add(i.key);{let r=Hn();const s=t.ra.get(e);if(!s)return r;for(const c of s){const h=t.ia.get(c);r=r.unionWith(h.view.ju)}return r}}function fP(n){const e=rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KY.bind(null,e),e.sa.zo=VY.bind(null,e.eventManager),e.sa.wa=UY.bind(null,e.eventManager),e}function pP(n){const e=rt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QY.bind(null,e),e}class u7{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,it.Z)(function*(){t.M=g0(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return function EH(n,e,t,i){return new sY(n,e,t,i)}(this.persistence,new CH,e.initialUser,this.M)}ya(e){return new _Y(p1.Yi,this.M)}ga(e){return new RH}terminate(){var e=this;return(0,it.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gP{initialize(e,t){var i=this;return(0,it.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>KH(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=e7.bind(null,i.syncEngine),yield function N1(n,e){return F1.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new BY}createDatastore(e){const t=g0(e.databaseInfo.databaseId),i=new CY(e.databaseInfo);return new IY(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=h=>KH(this.syncEngine,h,0),c=OH.vt()?new OH:new vY,new SY(t,i,r,s,c);var t,i,r,s,c}createSyncEngine(e,t){return function(i,r,s,c,h,p,_){const w=new $Y(i,r,s,c,h,p);return _&&(w.da=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,it.Z)(function*(t){const i=rt(t);Ze("RemoteStore","RemoteStore shutting down."),i.wu.add(5),yield E_(i),i.gu.shutdown(),i.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class BD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class m7{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=cs.UNAUTHENTICATED,this.clientId=$U.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,it.Z)(function*(h){Ze("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Ze("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,it.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ze(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,it.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=D_(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function e3(n,e){return mP.apply(this,arguments)}function mP(){return mP=(0,it.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,it.Z)(function*(s){i.isEqual(s)||(yield TH(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),mP.apply(this,arguments)}function t3(n,e){return _P.apply(this,arguments)}function _P(){return _P=(0,it.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield yP(n);Ze("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>jH(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>jH(e.remoteStore,s)),n.onlineComponents=e}),_P.apply(this,arguments)}function yP(n){return vP.apply(this,arguments)}function vP(){return vP=(0,it.Z)(function*(n){return n.offlineComponents||(Ze("FirestoreClient","Using default OfflineComponentProvider"),yield e3(n,new u7)),n.offlineComponents}),vP.apply(this,arguments)}function VD(n){return bP.apply(this,arguments)}function bP(){return bP=(0,it.Z)(function*(n){return n.onlineComponents||(Ze("FirestoreClient","Using default OnlineComponentProvider"),yield t3(n,new gP)),n.onlineComponents}),bP.apply(this,arguments)}function M_(n){return EP.apply(this,arguments)}function EP(){return EP=(0,it.Z)(function*(n){const e=yield VD(n),t=e.eventManager;return t.onListen=WY.bind(null,e.syncEngine),t.onUnlisten=qY.bind(null,e.syncEngine),t}),EP.apply(this,arguments)}const a3=new Map;function TP(n,e,t){if(!t)throw new ze(Te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function l3(n){if(!nt.isDocumentKey(n))throw new ze(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function c3(n){if(nt.isDocumentKey(n))throw new ze(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function UD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":_t()}function Tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ze(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=UD(n);throw new ze(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class d3{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ze(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ze(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function I7(n,e,t,i){if(!0===e&&!0===i)throw new ze(Te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class y0{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d3({}),this._settingsFrozen=!1,e instanceof vh?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ze(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vh(r.options.projectId)}(e))}get app(){if(!this._app)throw new ze(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ze(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d3(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new CZ;switch(t.type){case"gapi":const i=t.client;return Ft(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new DZ(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ze(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=a3.get(e);t&&(Ze("ComponentProvider","Removing Datastore"),a3.delete(e),t.terminate())}(this),Promise.resolve()}}class Zi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zi(this.firestore,e,this._key)}}class Ms{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ms(this.firestore,e,this._query)}}class Hc extends Ms{constructor(e,t,i){super(e,t,h_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zi(this.firestore,null,new nt(e))}withConverter(e){return new Hc(this.firestore,e,this._path)}}function IP(n,e,...t){if(n=(0,U.m9)(n),TP("collection","path",e),n instanceof y0){const i=Cn.fromString(e,...t);return c3(i),new Hc(n,null,i)}{if(!(n instanceof Zi||n instanceof Hc))throw new ze(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Cn.fromString(e,...t));return c3(i),new Hc(n.firestore,null,i)}}class S7{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new v1(this,"async_queue_retry"),this.Qa=()=>{const t=ND();t&&Ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=ND();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=ND();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new Br;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,it.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!Ep(t))throw t;Ze("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(i=>{throw this.Ua=i,this.qa=!1,lr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.qa=!1,i))));return this.Fa=t,t}enqueueAfterDelay(e,t,i){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const r=L1.createAndSchedule(this,e,t,i,s=>this.Ha(s));return this.La.push(r),r}ja(){this.Ua&&_t()}verifyOperationInProgress(){}Ja(){var e=this;return(0,it.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function DP(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Ti extends y0{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new S7,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||f3(this),this._firestoreClient.terminate()}}function A7(n=(0,ki.getApp)()){return(0,ki._getProvider)(n,"firestore").getImmediate()}function Dr(n){return n._firestoreClient||f3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function f3(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new kZ(n._databaseId,s,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new m7(n._authCredentials,n._appCheckCredentials,n._queue,i)}class k_{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ze(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Op{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Op(Ir.fromBase64String(e))}catch(t){throw new ze(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Op(Ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class m3{constructor(e){this._methodName=e}}class SP{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ze(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ze(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tn(this._lat,e._lat)||tn(this._long,e._long)}}const M7=/^__.*__$/;class k7{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Cp(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qw(e,this.data,t,this.fieldTransforms)}}function y3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class jD{constructor(e,t,i,r,s,c){this.settings=e,this.databaseId=t,this.M=i,this.ignoreUndefinedProperties=r,void 0===s&&this.tc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new jD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:i,ic:!1});return r.rc(e),r}oc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:i,ic:!1});return r.tc(),r}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return zD(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(y3(this.ec)&&M7.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class R7{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=i||g0(e)}lc(e,t,i,r=!1){return new jD({ec:e,methodName:t,hc:i,path:Vr.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function R_(n){const e=n._freezeSettings(),t=g0(n._databaseId);return new R7(n._databaseId,!!e.ignoreUndefinedProperties,t)}function xP(n,e,t,i,r,s={}){const c=n.lc(s.merge||s.mergeFields?2:0,e,t,r);MP("Data must be an object, but it was:",c,i);const h=E3(i,c);let p,_;if(s.merge)p=new l_(c.fieldMask),_=c.fieldTransforms;else if(s.mergeFields){const w=[];for(const T of s.mergeFields){const A=kP(e,T,t);if(!c.contains(A))throw new ze(Te.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);I3(w,A)||w.push(A)}p=new l_(w),_=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,_=c.fieldTransforms;return new k7(new As(h),p,_)}function Pp(n,e){if(T3(n=(0,U.m9)(n)))return MP("Unsupported field value:",e,n),E3(n,e);if(n instanceof m3)return function(t,i){if(!y3(i.ec))throw i.ac(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ac(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const c of t){let h=Pp(c,i.uc(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,U.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return bj(i.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=cr.fromDate(t);return{timestampValue:n0(i.M,r)}}if(t instanceof cr){const r=new cr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:n0(i.M,r)}}if(t instanceof SP)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Op)return{bytesValue:Bj(i.M,t._byteString)};if(t instanceof Zi){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.ac(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:$O(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ac(`Unsupported field value: ${UD(t)}`)}(n,e)}function E3(n,e){const t={};return ZU(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pp(n,(i,r)=>{const s=Pp(r,e.sc(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function T3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof cr||n instanceof SP||n instanceof Op||n instanceof Zi||n instanceof m3)}function MP(n,e,t){if(!T3(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=UD(t);throw e.ac("an object"===i?n+" a custom object":n+" "+i)}var i}function kP(n,e,t){if((e=(0,U.m9)(e))instanceof k_)return e._internalPath;if("string"==typeof e)return HD(n,e);throw zD("Field path arguments must be of type string or ",n,!1,void 0,t)}const F7=new RegExp("[~\\*/\\[\\]]");function HD(n,e,t){if(e.search(F7)>=0)throw zD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new k_(...e.split("."))._internalPath}catch(i){throw zD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function zD(n,e,t,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new ze(Te.INVALID_ARGUMENT,h+n+p)}function I3(n,e){return n.some(t=>t.isEqual(e))}class RP{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Zi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new L7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(GD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class L7 extends RP{data(){return super.data()}}function GD(n,e){return"string"==typeof e?HD(n,e):e instanceof k_?e._internalPath:e._delegate._internalPath}class Np{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class O_ extends RP{constructor(e,t,i,r,s,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $D(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(GD("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class $D extends O_{data(e={}){return super.data(e)}}class P_{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Np(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new $D(this._firestore,this._userDataWriter,i.key,i,new Np(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ze(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new $D(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Np(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const h=new $D(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Np(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),_=s.indexOf(c.doc.key)),{type:B7(c.type),doc:h,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function B7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}class j7 extends class V7{}{constructor(e,t,i){super(),this._c=e,this.wc=t,this.mc=i,this.type="where"}_apply(e){const t=R_(e.firestore),i=function(r,s,c,h,p,_,w){let T;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new ze(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){R3(w,_);const F=[];for(const V of w)F.push(k3(h,r,V));T={arrayValue:{values:F}}}else T=k3(h,r,w)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||R3(w,_),T=function C3(n,e,t,i=!1){return Pp(t,n.lc(i?4:3,e))}(c,"where",w,"in"===_||"not-in"===_);const A=ds.create(p,_,T);return function(F,V){if(V.S()){const Ce=BO(F);if(null!==Ce&&!Ce.isEqual(V.field))throw new ze(Te.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ce.toString()}' and '${V.field.toString()}'`);const Ke=LO(F);null!==Ke&&function O3(n,e,t){if(!t.isEqual(e))throw new ze(Te.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,V.field,Ke)}const ue=function(Ce,Ke){for(const Xe of Ce.filters)if(Ke.indexOf(Xe.op)>=0)return Xe.op;return null}(F,function(Ce){switch(Ce){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(V.op));if(null!==ue)throw new ze(Te.INVALID_ARGUMENT,ue===V.op?`Invalid query. You cannot use more than one '${V.op.toString()}' filter.`:`Invalid query. You cannot use '${V.op.toString()}' filters with '${ue.toString()}' filters.`)}(r,A),A}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new Ms(e.firestore,e.converter,function(r,s){const c=r.filters.concat([s]);return new zu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}function H7(n,e,t){const i=e,r=GD("where",n);return new j7(r,i,t)}function k3(n,e,t){if("string"==typeof(t=(0,U.m9)(t))){if(""===t)throw new ze(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VO(e)&&-1!==t.indexOf("/"))throw new ze(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Cn.fromString(t));if(!nt.isDocumentKey(i))throw new ze(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return _p(n,new nt(i))}if(t instanceof Zi)return _p(n,t._key);throw new ze(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${UD(t)}.`)}function R3(n,e){if(!Array.isArray(n)||0===n.length)throw new ze(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new ze(Te.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}class Fp extends class $7{convertValue(e,t="none"){switch(mp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _t()}}convertObject(e,t){const i={};return pp(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new SP(Bi(e.latitude),Bi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=KU(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(jw(e));default:return null}}convertTimestamp(e){const t=yh(e);return new cr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Cn.fromString(e);Ft(Zj(i));const r=new vh(i.get(1),i.get(3)),s=new nt(i.popFirst(5));return r.isEqual(t)||lr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Op(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zi(this.firestore,null,t)}}function b0(n,e){return function(t,i){const r=new Br;return t.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function ZY(n,e,t){return Z1.apply(this,arguments)}(yield function CP(n){return VD(n).then(e=>e.syncEngine)}(t),i,r)})),r.promise}(Dr(n),e)}!function(n,e=!0){o_=ki.SDK_VERSION,(0,ki._registerComponent)(new $s.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),s=new Ti(r,new TZ(t.getProvider("auth-internal")),new SZ(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC")),(0,ki.registerVersion)(HU,"3.4.9",n),(0,ki.registerVersion)(HU,"3.4.9","esm2017")}();var Y7={includeMetadataChanges:!1};function NP(n,e){return void 0===e&&(e=Y7),new ti.y(function(t){var i=function Z7(n,...e){var t,i,r;n=(0,U.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||DP(e[c])||(s=e[c],c++);const h={includeMetadataChanges:s.includeMetadataChanges};if(DP(e[c])){const T=e[c];e[c]=null===(t=T.next)||void 0===t?void 0:t.bind(T),e[c+1]=null===(i=T.error)||void 0===i?void 0:i.bind(T),e[c+2]=null===(r=T.complete)||void 0===r?void 0:r.bind(T)}let p,_,w;if(n instanceof Zi)_=Tn(n.firestore,Ti),w=h_(n._key.path),p={next:T=>{e[c]&&e[c](function PP(n,e,t){const i=t.docs.get(e._key),r=new Fp(n);return new O_(n,r,e._key,i,new Np(t.hasPendingWrites,t.fromCache),e.converter)}(_,n,T))},error:e[c+1],complete:e[c+2]};else{const T=Tn(n,Ms);_=Tn(T.firestore,Ti),w=T._query;const A=new Fp(_);p={next:F=>{e[c]&&e[c](new P_(_,A,T,F))},error:e[c+1],complete:e[c+2]},function D3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ze(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(T,A,F,V){const ue=new BD(V),Ce=new z1(A,ue,F);return T.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function B1(n,e){return V1.apply(this,arguments)}(yield M_(T),Ce)})),()=>{ue.Aa(),T.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function U1(n,e){return j1.apply(this,arguments)}(yield M_(T),Ce)}))}}(Dr(_),w,h,p)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function iQ(n,e){return void 0===e&&(e={}),function nQ(n){return NP(n,{includeMetadataChanges:!0}).pipe((0,mt.U)(function(e){return e.docs}))}(n).pipe((0,mt.U)(function(t){return t.map(function(i){return function N3(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(i,e)})}))}class w0{constructor(e){return e}}const V3="firestore",BP=new l.OlP("angularfire2.firestore-instances");function oQ(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new w0(i)}}const aQ={provide:class rQ{constructor(){return(0,rn.vb)(V3)}},deps:[[new l.FiY,BP]]},lQ={provide:w0,useFactory:function sQ(n,e){const t=(0,rn.JM)(V3,n,e);return t&&new w0(t)},deps:[[new l.FiY,BP],zo]};let cQ=(()=>{class n{constructor(){(0,Yr.KN)("angularfire",rn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[lQ,aQ]}),n})();function uQ(n,...e){return{ngModule:cQ,providers:[{provide:BP,useFactory:oQ(n),multi:!0,deps:[l.R0b,l.zs3,rn.HU,ru,[new l.FiY,DV],[new l.FiY,cc],...e]}]}}const VP=(0,rn.u3)(iQ,!0),dQ=(0,rn.u3)(A7,!0),hQ=(0,rn.u3)(H7,!0);var fQ=M(3014),pQ=M.n(fQ);let gQ=(()=>{class n{constructor(){}searchProducts(t){return(0,it.Z)(function*(){return(yield pQ().get("https://lomi.cl/api/v2/storefront/products?include=images%2Cvariants&keywords="+t+"&page=1&per_page=4&include=images,variants")).data})()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const U3="firebasestorage.googleapis.com",j3="storageBucket";class Vi extends U.ZR{constructor(e,t){super(UP(e),`Firebase Storage: ${t} (${UP(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vi.prototype)}_codeEquals(e){return UP(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function UP(n){return"storage/"+n}function jP(){return new Vi("unknown","An unknown error occurred, please check the error payload for server response.")}function H3(){return new Vi("canceled","User canceled the upload/download.")}function z3(){return new Vi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function N_(n){return new Vi("invalid-argument",n)}function G3(){return new Vi("app-deleted","The Firebase app was deleted.")}function $3(n){return new Vi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function C0(n,e){return new Vi("invalid-format","String does not match format '"+n+"': "+e)}function E0(n){throw new Vi("internal-error","Internal error: "+n)}class ks{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=ks.makeFromUrl(e,t)}catch(r){return new ks(e,"")}if(""===i.path)return i;throw function IQ(n){return new Vi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function _(et){et.path_=decodeURIComponent(et.path)}const T=t.replace(/[.]/g,"\\."),st=[{regex:h,indices:{bucket:1,path:3},postModify:function s(et){"/"===et.path.charAt(et.path.length-1)&&(et.path_=et.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${T}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${t===U3?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let et=0;et<st.length;et++){const Ut=st[et],Lt=Ut.regex.exec(e);if(Lt){let Ki=Lt[Ut.indices.path];Ki||(Ki=""),i=new ks(Lt[Ut.indices.bucket],Ki),Ut.postModify(i);break}}if(null==i)throw function TQ(n){return new Vi("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class AQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function qD(n){return"string"==typeof n||n instanceof String}function W3(n){return HP()&&n instanceof Blob}function HP(){return"undefined"!=typeof Blob}function zP(n,e,t,i){if(i<e)throw N_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw N_(`Invalid value for '${n}'. Expected ${t} or less.`)}function $u(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function q3(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Ah=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Ah||(Ah={})),Ah))();class NQ{constructor(e,t,i,r,s,c,h,p,_,w,T){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=w,this.connectionFactory_=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,F)=>{this.resolve_=A,this.reject_=F,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function RQ(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==h){const p=jP();p.serverResponse=h.getErrorText(),c(this.errorCallback_?this.errorCallback_(h,p):p)}else c(r.canceled?this.appDelete_?G3():H3():function EQ(){return new Vi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new ZD(!1,null,!0)):this.backoffId_=function MQ(n,e,t){let i=1,r=null,s=null,c=!1,h=0;function p(){return 2===h}let _=!1;function w(...Ce){_||(_=!0,e.apply(null,Ce))}function T(Ce){r=setTimeout(()=>{r=null,n(F,p())},Ce)}function A(){s&&clearTimeout(s)}function F(Ce,...Ke){if(_)return void A();if(Ce)return A(),void w.call(null,Ce,...Ke);if(p()||c)return A(),void w.call(null,Ce,...Ke);let st;i<64&&(i*=2),1===h?(h=2,st=0):st=1e3*(i+Math.random()),T(st)}let V=!1;function ue(Ce){V||(V=!0,A(),!_&&(null!==r?(Ce||(h=2),clearTimeout(r),T(0)):Ce||(h=1)))}return T(0),s=setTimeout(()=>{c=!0,ue(!0)},t),ue}((i,r)=>{if(r)return void i(!1,new ZD(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const h=s.getErrorCode()===Ah.NO_ERROR,p=s.getStatus();if(!h||this.isRetryStatusCode_(p)){const w=s.getErrorCode()===Ah.ABORT;return void i(!1,new ZD(!1,null,w))}const _=-1!==this.successCodes_.indexOf(p);i(!0,new ZD(_,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function kQ(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||s}}class ZD{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function HQ(...n){const e=function jQ(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(HP())return new Blob(n);throw new Vi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const aa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class GP{constructor(e,t){this.data=e,this.contentType=t||null}}function $P(n,e){switch(n){case aa.RAW:return new GP(Z3(e));case aa.BASE64:case aa.BASE64URL:return new GP(K3(n,e));case aa.DATA_URL:return new GP(function WQ(n){const e=new Y3(n);return e.base64?K3(aa.BASE64,e.rest):function $Q(n){let e;try{e=decodeURIComponent(n)}catch(t){throw C0(aa.DATA_URL,"Malformed data URL.")}return Z3(e)}(e.rest)}(e),function qQ(n){return new Y3(n).contentType}(e))}throw jP()}function Z3(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function K3(n,e){switch(n){case aa.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw C0(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case aa.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw C0(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function GQ(n){return atob(n)}(e)}catch(r){throw C0(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class Y3{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw C0(aa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function ZQ(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class zc{constructor(e,t){let i=0,r="";W3(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(W3(this.data_)){const r=function zQ(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new zc(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new zc(i,!0)}}static getBlob(...e){if(HP()){const t=e.map(i=>i instanceof zc?i.data_:i);return new zc(HQ.apply(null,t))}{const t=e.map(c=>qD(c)?$P(aa.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)r[s++]=c[h]}),new zc(r,!0)}}uploadData(){return this.data_}}function WP(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function PQ(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Q3(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function QQ(n,e){return e}class ro{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||QQ}}let KD=null;function T0(){if(KD)return KD;const n=[];n.push(new ro("bucket")),n.push(new ro("generation")),n.push(new ro("metageneration")),n.push(new ro("name","fullPath",!0));const t=new ro("name");t.xform=function e(s,c){return function JQ(n){return!qD(n)||n.length<2?n:Q3(n)}(c)},n.push(t);const r=new ro("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new ro("timeCreated")),n.push(new ro("updated")),n.push(new ro("md5Hash",null,!0)),n.push(new ro("cacheControl",null,!0)),n.push(new ro("contentDisposition",null,!0)),n.push(new ro("contentEncoding",null,!0)),n.push(new ro("contentLanguage",null,!0)),n.push(new ro("contentType",null,!0)),n.push(new ro("metadata","customMetadata",!0)),KD=n,KD}function J3(n,e,t){const i=WP(e);return null===i?null:function e9(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const c=t[s];i[c.local]=c.xform(i,e[c.server])}return function XQ(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new ks(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function qP(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const X3="prefixes";class Gc{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function $c(n){if(!n)throw jP()}function YD(n,e){return function t(i,r){const s=J3(n,r,e);return $c(null!==s),s}}function F_(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function wQ(){return new Vi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function bQ(){return new Vi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function vQ(n){return new Vi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function CQ(n){return new Vi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function I0(n){const e=F_(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function yQ(n){return new Vi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function tz(n,e,t){const r=$u(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Gc(r,"GET",YD(n,t),c);return h.errorHandler=I0(e),h}function o9(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const h=$u(e.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,w=new Gc(h,"GET",function r9(n,e){return function t(i,r){const s=function i9(n,e,t){const i=WP(t);return null===i?null:function n9(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[X3])for(const r of t[X3]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new ks(e,s));i.prefixes.push(c)}if(t.items)for(const r of t.items){const s=n._makeStorageReference(new ks(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return $c(null!==s),s}}(n,e.bucket),_);return w.urlParams=s,w.errorHandler=F_(e),w}function iz(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function u9(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class QD{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function ZP(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){$c(!1)}return $c(!!t&&-1!==(e||["active"]).indexOf(t)),t}const p9={STATE_CHANGED:"state_changed"},so={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function KP(n){switch(n){case"running":case"pausing":case"canceling":return so.RUNNING;case"paused":return so.PAUSED;case"success":return so.SUCCESS;case"canceled":return so.CANCELED;default:return so.ERROR}}class g9{constructor(e,t,i){if(function OQ(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=i?i:void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function L_(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class _9 extends class m9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ah.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ah.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ah.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw E0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw E0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw E0("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw E0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw E0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Vl(){return new _9}class az{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=T0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function d9(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c=iz(e,i,r),h={name:c.fullPath},p=$u(s,n.host,n._protocol),w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},T=qP(c,t),V=new Gc(p,"POST",function F(ue){let Ce;ZP(ue);try{Ce=ue.getResponseHeader("X-Goog-Upload-URL")}catch(Ke){$c(!1)}return $c(qD(Ce)),Ce},n.maxUploadRetryTime);return V.urlParams=h,V.headers=w,V.body=T,V.errorHandler=F_(e),V}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Vl,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function h9(n,e,t,i){const p=new Gc(t,"POST",function s(_){const w=ZP(_,["active","final"]);let T=null;try{T=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch(F){$c(!1)}T||$c(!1);const A=Number(T);return $c(!isNaN(A)),new QD(A,i.size(),"final"===w)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=F_(e),p}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Vl,t,i);this._request=s,s.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new QD(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function f9(n,e,t,i,r,s,c,h){const p=new QD(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function SQ(){return new Vi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const _=p.total-p.current;let w=_;r>0&&(w=Math.min(w,r));const T=p.current,V={"X-Goog-Upload-Command":w===_?"upload, finalize":"upload","X-Goog-Upload-Offset":`${p.current}`},ue=i.slice(T,T+w);if(null===ue)throw z3();const st=new Gc(t,"POST",function Ce(et,Ut){const Lt=ZP(et,["active","final"]),In=p.current+w,Ki=i.size();let la;return la="final"===Lt?YD(e,s)(et,Ut):null,new QD(In,Ki,"final"===Lt,la)},e.maxUploadRetryTime);return st.headers=V,st.body=ue.uploadData(),st.progressCallback=h||null,st.errorHandler=F_(n),st}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const h=this._ref.storage._makeRequest(c,Vl,r,s);this._request=h,h.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=tz(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Vl,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function rz(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function h(){let st="";for(let et=0;et<2;et++)st+=Math.random().toString().slice(2);return st}();c["Content-Type"]="multipart/related; boundary="+p;const _=iz(e,i,r),w=qP(_,t),F=zc.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+w+"\r\n--"+p+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===F)throw z3();const V={name:_.fullPath},ue=$u(s,n.host,n._protocol),Ke=n.maxUploadRetryTime,Xe=new Gc(ue,"POST",YD(n,t),Ke);return Xe.urlParams=V,Xe.headers=c,Xe.body=F.uploadData(),Xe.errorHandler=F_(e),Xe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Vl,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=H3(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=KP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new g9(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(KP(this._state)){case so.SUCCESS:L_(this._resolve.bind(null,this.snapshot))();break;case so.CANCELED:case so.ERROR:L_(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(KP(this._state)){case so.RUNNING:case so.PAUSED:e.next&&L_(e.next.bind(e,this.snapshot))();break;case so.SUCCESS:e.complete&&L_(e.complete.bind(e))();break;default:e.error&&L_(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Lp{constructor(e,t){this._service=e,this._location=t instanceof ks?t:ks.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Lp(e,t)}get root(){const e=new ks(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Q3(this._location.path)}get storage(){return this._service}get parent(){const e=function KQ(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ks(this._location.bucket,e);return new Lp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw $3(e)}}function cz(n,e,t){return YP.apply(this,arguments)}function YP(){return YP=(0,it.Z)(function*(n,e,t){const r=yield uz(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield cz(n,e,r.nextPageToken))}),YP.apply(this,arguments)}function uz(n,e){null!=e&&"number"==typeof e.maxResults&&zP("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=o9(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Vl)}function A9(n){n._throwIfRoot("getDownloadURL");const e=function a9(n,e,t){const r=$u(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Gc(r,"GET",function s9(n,e){return function t(i,r){const s=J3(n,r,e);return $c(null!==s),function t9(n,e,t,i){const r=WP(e);if(null===r||!qD(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(_=>{const T=n.fullPath;return $u("/b/"+c(n.bucket)+"/o/"+c(T),t,i)+q3({alt:"media",token:_})})[0]}(s,r,n.host,n._protocol)}}(n,t),c);return h.errorHandler=I0(e),h}(n.storage,n._location,T0());return n.storage.makeRequestWithTokens(e,Vl).then(t=>{if(null===t)throw function xQ(){return new Vi("no-download-url","The given file does not have any download URLs.")}();return t})}function dz(n,e){const t=function YQ(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new ks(n._location.bucket,t);return new Lp(n.storage,i)}function hz(n,e){if(n instanceof QP){const t=n;if(null==t._bucket)throw function DQ(){return new Vi("no-default-bucket","No default bucket found. Did you set the '"+j3+"' property when initializing the app?")}();const i=new Lp(t,t._bucket);return null!=e?hz(i,e):i}return void 0!==e?dz(n,e):n}function O9(n,e){if(e&&function k9(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof QP)return function R9(n,e){return new Lp(n,e)}(n,e);throw N_("To use ref(service, url), the first argument must be a Storage instance.")}return hz(n,e)}function fz(n,e){const t=null==e?void 0:e[j3];return null==t?null:ks.makeFromBucketSpec(t,n)}class QP{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=U3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ks.makeFromBucketSpec(r,this._host):fz(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ks.makeFromBucketSpec(this._url,e):fz(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,it.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,it.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Lp(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new AQ(G3());{const s=function UQ(n,e,t,i,r,s){const c=q3(n.urlParams),h=n.url+c,p=Object.assign({},n.headers);return function BQ(n,e){e&&(n["X-Firebase-GMPID"]=e)}(p,e),function FQ(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(p,t),function LQ(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(p,s),function VQ(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(p,i),new NQ(h,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var i=this;return(0,it.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const pz="@firebase/storage",mz="storage";function _z(n,e){return O9(n=(0,U.m9)(n),e)}function $9(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new QP(t,i,r,e,ki.SDK_VERSION)}!function W9(){(0,ki._registerComponent)(new $s.wA(mz,$9,"PUBLIC").setMultipleInstances(!0)),(0,ki.registerVersion)(pz,"0.9.6",""),(0,ki.registerVersion)(pz,"0.9.6","esm2017")}();const JD_firebase={projectId:"lomi-35ab6",appId:"1:394847830425:web:ee909ee573e436db0f9308",storageBucket:"lomi-35ab6.appspot.com",locationId:"southamerica-east1",apiKey:"AIzaSyCC1UbhAV4WpCpUZsEiNPd_TVUD40Lh5Bc",authDomain:"lomi-35ab6.firebaseapp.com",messagingSenderId:"394847830425",measurementId:"G-E3L40DPW9M"};class XD{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class yz{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new XD(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new XD(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?c=>t(new XD(c,this,this._ref)):{next:t.next?c=>t.next(new XD(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class vz{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Wu(e,this._service))}get items(){return this._delegate.items.map(e=>new Wu(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Wu{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function H9(n,e){return dz(n,e)}(this._delegate,e);return new Wu(t,this.storage)}get root(){return new Wu(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Wu(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new yz(function N9(n,e,t){return function T9(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new az(n,new zc(e),t)}(n=(0,U.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=aa.RAW,i){this._throwIfRoot("putString");const r=$P(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new yz(new az(this._delegate,new zc(r.data,!0),s),this)}listAll(){return function V9(n){return function D9(n){const e={prefixes:[],items:[]};return cz(n,e).then(()=>e)}(n=(0,U.m9)(n))}(this._delegate).then(e=>new vz(e,this.storage))}list(e){return function B9(n,e){return uz(n=(0,U.m9)(n),e)}(this._delegate,e||void 0).then(t=>new vz(t,this.storage))}getMetadata(){return function F9(n){return function S9(n){n._throwIfRoot("getMetadata");const e=tz(n.storage,n._location,T0());return n.storage.makeRequestWithTokens(e,Vl)}(n=(0,U.m9)(n))}(this._delegate)}updateMetadata(e){return function L9(n,e){return function x9(n,e){n._throwIfRoot("updateMetadata");const t=function l9(n,e,t,i){const s=$u(e.fullServerUrl(),n.host,n._protocol),h=qP(t,i),_=n.maxOperationRetryTime,w=new Gc(s,"PATCH",YD(n,i),_);return w.headers={"Content-Type":"application/json; charset=utf-8"},w.body=h,w.errorHandler=I0(e),w}(n.storage,n._location,e,T0());return n.storage.makeRequestWithTokens(t,Vl)}(n=(0,U.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function U9(n){return A9(n=(0,U.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function j9(n){return function M9(n){n._throwIfRoot("deleteObject");const e=function c9(n,e){const i=$u(e.fullServerUrl(),n.host,n._protocol),h=new Gc(i,"DELETE",function c(p,_){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=I0(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Vl)}(n=(0,U.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw $3(e)}}class bz{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(wz(e))throw N_("ref() expected a child path but got a URL, use refFromURL instead.");return new Wu(_z(this._delegate,e),this)}refFromURL(e){if(!wz(e))throw N_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ks.makeFromUrl(e,this._delegate.host)}catch(t){throw N_("refFromUrl() expected a valid full URL but got an invalid one.")}return new Wu(_z(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function G9(n,e,t,i={}){!function P9(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,U.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function wz(n){return/^[A-Za-z]+:\/\//.test(n)}function Y9(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new bz(t,i)}function Cz(n){const e=function J9(n){return new ti.y(e=>{const t=c=>e.next(c);t(n.snapshot);const s=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){s()}}).pipe(Ac(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,mt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function eS(n){return{getDownloadURL:()=>ut(void 0).pipe(rn.fc,kn(()=>n.getDownloadURL()),rn.iC),getMetadata:()=>ut(void 0).pipe(rn.fc,kn(()=>n.getMetadata()),rn.iC),delete:()=>(0,Wn.D)(n.delete()),child:e=>eS(n.child(e)),updateMetadata:e=>(0,Wn.D)(n.updateMetadata(e)),put:(e,t)=>Cz(n.put(e,t)),putString:(e,t,i)=>Cz(n.putString(e,t,i)),list:e=>(0,Wn.D)(n.list(e)),listAll:()=>(0,Wn.D)(n.listAll())}}!function Q9(n){const e={TaskState:so,TaskEvent:p9,StringFormat:aa,Storage:bz,Reference:Wu};n.INTERNAL.registerComponent(new $s.wA("storage-compat",Y9,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.14")}(JL.Z);const X9=new l.OlP("angularfire2.storageBucket"),eJ=new l.OlP("angularfire2.storage.maxUploadRetryTime"),tJ=new l.OlP("angularfire2.storage.maxOperationRetryTime"),nJ=new l.OlP("angularfire2.storage.use-emulator");let Ez=(()=>{class n{constructor(t,i,r,s,c,h,p,_,w,T){const A=(0,Mi.on)(t,c,i);this.storage=(0,Mi.cc)(`${A.name}.storage.${r}`,"AngularFireStorage",A.name,()=>{const F=c.runOutsideAngular(()=>A.storage(r||void 0)),V=w;return V&&F.useEmulator(...V),p&&F.setMaxUploadRetryTime(p),_&&F.setMaxOperationRetryTime(_),F},[p,_])}ref(t){return eS(this.storage.ref(t))}refFromURL(t){return eS(this.storage.refFromURL(t))}upload(t,i,r){return eS(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mi.Dh),l.LFG(Mi.xv,8),l.LFG(X9,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(rn.HU),l.LFG(eJ,8),l.LFG(tJ,8),l.LFG(nJ,8),l.LFG(cc,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),iJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),Tz=(()=>{class n{constructor(){iu.Z.registerVersion("angularfire",rn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Ez],imports:[iJ]}),n})(),Iz=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rJ=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Ba(t);return new ti.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Bt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Iz))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dz=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Tr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=fb(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Ac(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(rJ),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Sz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Iz]}),n})();const sJ=["connectionContainer"],oJ=["inputContainer"],aJ=["label"];function lJ(n,e){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function cJ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){return l.CHM(t),l.oxw().updateOutlineGap()}),l.Hsn(1,1),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function uJ(n,e){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const t=l.oxw(2);l.xp6(3),l.Oqu(t._control.placeholder)}}function dJ(n,e){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function hJ(n,e){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function fJ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){return l.CHM(t),l.oxw().updateOutlineGap()}),l.YNc(2,uJ,4,1,"ng-container",12),l.YNc(3,dJ,1,0,"ng-content",12),l.YNc(4,hJ,2,0,"span",22),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),l.uIk("for",t._control.id)("aria-owns",t._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function pJ(n,e){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function gJ(n,e){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function mJ(n,e){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState)}}function _J(n,e){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("id",t._hintLabelId),l.xp6(1),l.Oqu(t.hintLabel)}}function yJ(n,e){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,_J,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",t.hintLabel)}}const vJ=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],bJ=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],wJ=new l.OlP("MatError"),CJ={transitionMessages:kc("transitionMessages",[Rc("enter",Pr({opacity:1,transform:"translateY(0%)"})),Va("void => enter",[Pr({opacity:0,transform:"translateY(-5px)"}),Mu("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let JP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})();const EJ=new l.OlP("MatHint");let tS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),TJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const IJ=new l.OlP("MatPrefix"),xz=new l.OlP("MatSuffix");let Az=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSuffix",""]],features:[l._Bn([{provide:xz,useExisting:n}])]}),n})(),Mz=0;const SJ=Ub(class{constructor(n){this._elementRef=n}},"primary"),xJ=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Rz=new l.OlP("MatFormField");let Oz=(()=>{class n extends SJ{constructor(t,i,r,s,c,h,p){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=c,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Bt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Mz++,this._labelId="mat-form-field-label-"+Mz++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Tr(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(wo(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(or(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(or(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Kr.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(wo(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(wo(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(or(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Lu(this._label.nativeElement,"transitionend").pipe((0,Bn.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const w=i.querySelectorAll(`${r}, ${s}`);for(let T=0;T<w.length;T++)w[T].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,h=0;const p=i.querySelectorAll(r),_=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const w=i.getBoundingClientRect();if(0===w.width&&0===w.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const T=this._getStartEnd(w),A=t.children,F=this._getStartEnd(A[0].getBoundingClientRect());let V=0;for(let ue=0;ue<A.length;ue++)V+=A[ue].offsetWidth;c=Math.abs(F-T)-5,h=V>0?.75*V+10:0}for(let w=0;w<p.length;w++)p[w].style.width=`${c}px`;for(let w=0;w<_.length;w++)_[w].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Dc,8),l.Y36(xJ,8),l.Y36(is),l.Y36(l.R0b),l.Y36(Fu,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,JP,5),l.Suo(r,JP,7),l.Suo(r,tS,5),l.Suo(r,tS,7),l.Suo(r,TJ,5),l.Suo(r,wJ,5),l.Suo(r,EJ,5),l.Suo(r,IJ,5),l.Suo(r,xz,5)),2&t){let s;l.iGM(s=l.CRH())&&(i._controlNonStatic=s.first),l.iGM(s=l.CRH())&&(i._controlStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildNonStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildStatic=s.first),l.iGM(s=l.CRH())&&(i._placeholderChild=s.first),l.iGM(s=l.CRH())&&(i._errorChildren=s),l.iGM(s=l.CRH())&&(i._hintChildren=s),l.iGM(s=l.CRH())&&(i._prefixChildren=s),l.iGM(s=l.CRH())&&(i._suffixChildren=s)}},viewQuery:function(t,i){if(1&t&&(l.Gf(sJ,7),l.Gf(oJ,5),l.Gf(aJ,5)),2&t){let r;l.iGM(r=l.CRH())&&(i._connectionContainerRef=r.first),l.iGM(r=l.CRH())&&(i._inputContainerRef=r.first),l.iGM(r=l.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&l.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:Rz,useExisting:n}]),l.qOj],ngContentSelectors:bJ,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(l.F$t(vJ),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),l.YNc(3,lJ,9,0,"ng-container",3),l.YNc(4,cJ,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,fJ,5,16,"label",8),l.qZA()(),l.YNc(10,pJ,2,0,"div",9),l.qZA(),l.YNc(11,gJ,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,mJ,2,1,"div",12),l.YNc(14,yJ,5,2,"div",13),l.qZA()()),2&t&&(l.xp6(3),l.Q6J("ngIf","outline"==i.appearance),l.xp6(1),l.Q6J("ngIf",i._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",i._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",i._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=i.appearance),l.xp6(1),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},directives:[Ln,Dz,pr,Xi],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[CJ.transitionMessages]},changeDetection:0}),n})(),Pz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Fi,gi,Sz],gi]}),n})();const Nz=qd({passive:!0});let AJ=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Id.E;const i=Ba(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Bt.x,c="cdk-text-field-autofilled",h=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,Nz),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,Nz)}}),s}stopMonitoring(t){const i=Ba(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(is),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const MJ=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),kJ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let RJ=0;const OJ=d$(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let Lz=(()=>{class n extends OJ{constructor(t,i,r,s,c,h,p,_,w,T){super(h,s,c,r),this._elementRef=t,this._platform=i,this._autofillMonitor=_,this._formField=T,this._uid="mat-input-"+RJ++,this.focused=!1,this.stateChanges=new Bt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(V=>ZE().has(V)),this._iOSKeyupListener=V=>{const ue=V.target;!ue.value&&0===ue.selectionStart&&0===ue.selectionEnd&&(ue.setSelectionRange(1,1),ue.setSelectionRange(0,0))};const A=this._elementRef.nativeElement,F=A.nodeName.toLowerCase();this._inputValueAccessor=p||A,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&w.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===F,this._isTextarea="textarea"===F,this._isInFormField=!!T,this._isNativeSelect&&(this.controlType=A.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Tr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,i,r,s;return null!==(s=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(Xy.required))&&void 0!==s&&s}set required(t){this._required=Tr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&ZE().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Tr(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,i;const r=(null===(i=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===i?void 0:i.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){kJ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(is),l.Y36(vc,10),l.Y36(bv,8),l.Y36(Af,8),l.Y36(pL),l.Y36(MJ,10),l.Y36(AJ),l.Y36(l.R0b),l.Y36(Rz,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(l.Ikx("disabled",i.disabled)("required",i.required),l.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),l.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:JP,useExisting:n}]),l.qOj,l.TTD]}),n})(),Bz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[pL],imports:[[Fz,Pz,gi],Fz,Pz]}),n})(),PJ=(()=>{class n{constructor(t){this.sanitizer=t,this.fileOver=!1,this.fileDropped=new l.vpe}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!0}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!1}ondrop(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!1;let i=t.dataTransfer.files;i.length>0&&this.fileDropped.emit(i)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(tr))},n.\u0275dir=l.lG2({type:n,selectors:[["","drag-n-drop",""]],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("dragover",function(s){return i.onDragOver(s)})("dragleave",function(s){return i.onDragLeave(s)})("drop",function(s){return i.ondrop(s)}),2&t&&l.ekj("fileover",i.fileOver)},outputs:{fileDropped:"fileDropped"}}),n})();function NJ(n,e){1&n&&l._UZ(0,"div",2)}function FJ(n,e){1&n&&l._UZ(0,"pre",2)}function LJ(n,e){if(1&n&&(l.ynx(0),l.YNc(1,NJ,1,0,"div",1),l.YNc(2,FJ,1,0,"pre",1),l.BQk()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",!t.preserve),l.xp6(1),l.Q6J("ngIf",t.preserve)}}function BJ(n,e){1&n&&l._UZ(0,"div",2)}function VJ(n,e){1&n&&l._UZ(0,"pre",2)}function UJ(n,e){if(1&n&&(l.ynx(0),l.YNc(1,BJ,1,0,"div",1),l.YNc(2,VJ,1,0,"pre",1),l.BQk()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",!t.preserve),l.xp6(1),l.Q6J("ngIf",t.preserve)}}const jJ=[[["","quill-editor-toolbar",""]]],HJ=["[quill-editor-toolbar]"],XP={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},nS=(n,e)=>n||e||"html",Vz=new l.OlP("config",{providedIn:"root",factory:()=>({modules:XP})});let Uz=(()=>{class n{constructor(t,i){this.config=i,this.quill$=ag(()=>(0,Hv.mG)(this,void 0,void 0,function*(){var r,s;if(!this.Quill){const c=this.document.addEventListener;this.document.addEventListener=this.document.__zone_symbol__addEventListener||this.document.addEventListener;const h=yield M.e(971).then(M.t.bind(M,9971,19));this.document.addEventListener=c,this.Quill=h.default?h.default:h}return null===(r=this.config.customOptions)||void 0===r||r.forEach(c=>{const h=this.Quill.import(c.import);h.whitelist=c.whitelist,this.Quill.register(h,!0,this.config.suppressGlobalRegisterWarning)}),null===(s=this.config.customModules)||void 0===s||s.forEach(({implementation:c,path:h})=>{this.Quill.register(h,c,this.config.suppressGlobalRegisterWarning)}),this.Quill})).pipe(Jl({bufferSize:1,refCount:!0})),this.document=t.get(K),this.config||(this.config={modules:XP})}getQuill(){return this.quill$}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(Vz,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zJ=(()=>{class n{constructor(t,i,r,s,c,h,p,_){this.elementRef=i,this.cd=r,this.domSanitizer=s,this.platformId=c,this.renderer=h,this.zone=p,this.service=_,this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new l.vpe,this.onEditorChanged=new l.vpe,this.onContentChanged=new l.vpe,this.onSelectionChanged=new l.vpe,this.onFocus=new l.vpe,this.onBlur=new l.vpe,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.valueGetter=(w,T)=>{let A=T.querySelector(".ql-editor").innerHTML;("<p><br></p>"===A||"<div><br></div>"===A)&&(A=this.defaultEmptyValue);let F=A;const V=nS(this.format,this.service.config.format);if("text"===V)F=w.getText();else if("object"===V)F=w.getContents();else if("json"===V)try{F=JSON.stringify(w.getContents())}catch(ue){F=w.getText()}return F},this.valueSetter=(w,T)=>{const A=nS(this.format,this.service.config.format);if("html"===A)return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(T=this.domSanitizer.sanitize(l.q3G.HTML,T)),w.clipboard.convert(T);if("json"===A)try{return JSON.parse(T)}catch(F){return[{insert:T}]}return T},this.selectionChangeHandler=(w,T,A)=>{const F=!w&&!!this.onModelTouched;!this.onBlur.observers.length&&!this.onFocus.observers.length&&!this.onSelectionChanged.observers.length&&!F||this.zone.run(()=>{null===w?this.onBlur.emit({editor:this.quillEditor,source:A}):null===T&&this.onFocus.emit({editor:this.quillEditor,source:A}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:T,range:w,source:A}),F&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(w,T,A)=>{const F=this.quillEditor.getText(),V=this.quillEditor.getContents();let ue=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===ue||"<div><br></div>"===ue)&&(ue=this.defaultEmptyValue);const Ce=this.trackChanges||this.service.config.trackChanges,Ke=("user"===A||Ce&&"all"===Ce)&&!!this.onModelChange;!this.onContentChanged.observers.length&&!Ke||this.zone.run(()=>{Ke&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:V,delta:w,editor:this.quillEditor,html:ue,oldDelta:T,source:A,text:F}),this.cd.markForCheck()})},this.editorChangeHandler=(w,T,A,F)=>{if(this.onEditorChanged.observers.length)if("text-change"===w){const V=this.quillEditor.getText(),ue=this.quillEditor.getContents();let Ce=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===Ce||"<div><br></div>"===Ce)&&(Ce=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:ue,delta:T,editor:this.quillEditor,event:w,html:Ce,oldDelta:A,source:F,text:V}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:w,oldRange:A,range:T,source:F}),this.cd.markForCheck()})},this.document=t.get(K)}static normalizeClassNames(t){return t.trim().split(" ").reduce((r,s)=>{const c=s.trim();return c&&r.push(c),r},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){Hi(this.platformId)||(this.quillSubscription=this.service.getQuill().subscribe(t=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const i=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),r=Object.assign({},this.modules||this.service.config.modules);i?r.toolbar=i:void 0===r.toolbar&&(r.toolbar=XP.toolbar);let s=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===s&&(s="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(A=>{this.renderer.setStyle(this.editorElem,A,this.styles[A])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(A=>{const F=t.import(A.import);F.whitelist=A.whitelist,t.register(F,!0)}),this.customModules.forEach(({implementation:A,path:F})=>{t.register(F,A)});let c=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;c||(c=this.service.config.bounds?this.service.config.bounds:this.document.body);let h=this.debug;!h&&!1!==h&&this.service.config.debug&&(h=this.service.config.debug);let p=this.readOnly;!p&&!1!==this.readOnly&&(p=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let _=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(_=this.service.config.defaultEmptyValue);let w=this.scrollingContainer;!w&&null!==this.scrollingContainer&&(w=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let T=this.formats;if(!T&&void 0===T&&(T=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{var A,F,V;if(this.quillEditor=new t(this.editorElem,{bounds:c,debug:h,formats:T,modules:r,placeholder:s,readOnly:p,defaultEmptyValue:_,scrollingContainer:w,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.linkPlaceholder){const ue=null===(F=null===(A=this.quillEditor)||void 0===A?void 0:A.theme)||void 0===F?void 0:F.tooltip,Ce=null===(V=null==ue?void 0:ue.root)||void 0===V?void 0:V.querySelector("input[data-link]");(null==Ce?void 0:Ce.dataset)&&(Ce.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===nS(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const F=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(F,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observers.length||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor)})}))}ngOnDestroy(){var t;this.dispose(),null===(t=this.quillSubscription)||void 0===t||t.unsubscribe(),this.quillSubscription=null}ngOnChanges(t){if(this.quillEditor){if(t.readOnly&&this.quillEditor.enable(!t.readOnly.currentValue),t.placeholder&&(this.quillEditor.root.dataset.placeholder=t.placeholder.currentValue),t.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=t.defaultEmptyValue.currentValue),t.styles){const i=t.styles.currentValue,r=t.styles.previousValue;r&&Object.keys(r).forEach(s=>{this.renderer.removeStyle(this.editorElem,s)}),i&&Object.keys(i).forEach(s=>{this.renderer.setStyle(this.editorElem,s,this.styles[s])})}if(t.classes){const i=t.classes.currentValue,r=t.classes.previousValue;r&&this.removeClasses(r),i&&this.addClasses(i)}t.debounceTime&&this.addQuillEventListeners()}}addClasses(t){n.normalizeClassNames(t).forEach(i=>{this.renderer.addClass(this.editorElem,i)})}removeClasses(t){n.normalizeClassNames(t).forEach(i=>{this.renderer.removeClass(this.editorElem,i)})}writeValue(t){if(this.filterNull&&null===t||(this.content=t,!this.quillEditor))return;const i=nS(this.format,this.service.config.format),r=this.valueSetter(this.quillEditor,t);if(this.compareValues){const s=this.quillEditor.getContents();if(JSON.stringify(s)===JSON.stringify(r))return}t?"text"===i?this.quillEditor.setText(t):this.quillEditor.setContents(r):this.quillEditor.setText("")}setDisabledState(t=this.disabled){this.disabled=t,this.quillEditor&&(t?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}registerOnValidatorChange(t){this.onValidatorChanged=t}validate(){if(!this.quillEditor)return null;const t={};let i=!0;const r=this.quillEditor.getText(),s=this.trimOnValidation?r.trim().length:1===r.length&&0===r.trim().length?0:r.length-1,c=this.quillEditor.getContents().ops,h=c&&1===c.length&&["\n",""].includes(c[0].insert);return this.minLength&&s&&s<this.minLength&&(t.minLengthError={given:s,minLength:this.minLength},i=!1),this.maxLength&&s>this.maxLength&&(t.maxLengthError={given:s,maxLength:this.maxLength},i=!1),this.required&&!s&&h&&(t.requiredError={empty:!0},i=!1),i?null:t}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new Ko.w0,this.subscription.add(Lu(this.quillEditor,"selection-change").subscribe(([r,s,c])=>{this.selectionChangeHandler(r,s,c)}));let t=Lu(this.quillEditor,"text-change"),i=Lu(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(t=t.pipe(Ac(this.debounceTime)),i=i.pipe(Ac(this.debounceTime))),this.subscription.add(t.subscribe(([r,s,c])=>{this.textChangeHandler(r,s,c)})),this.subscription.add(i.subscribe(([r,s,c,h])=>{this.editorChangeHandler(r,s,c,h)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.zs3),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(tr),l.Y36(l.Lbi),l.Y36(l.Qsj),l.Y36(l.R0b),l.Y36(Uz))},n.\u0275dir=l.lG2({type:n,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[l.TTD]}),n})(),GJ=(()=>{class n extends zJ{constructor(t,i,r,s,c,h,p,_){super(t,i,r,s,c,h,p,_)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.zs3),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(tr),l.Y36(l.Lbi),l.Y36(l.Qsj),l.Y36(l.R0b),l.Y36(Uz))},n.\u0275cmp=l.Xpm({type:n,selectors:[["quill-editor"]],features:[l._Bn([{multi:!0,provide:Io,useExisting:(0,l.Gpc)(()=>n)},{multi:!0,provide:$i,useExisting:(0,l.Gpc)(()=>n)}]),l.qOj],ngContentSelectors:HJ,decls:3,vars:2,consts:[[4,"ngIf"],["quill-editor-element","",4,"ngIf"],["quill-editor-element",""]],template:function(t,i){1&t&&(l.F$t(jJ),l.YNc(0,LJ,3,2,"ng-container",0),l.Hsn(1),l.YNc(2,UJ,3,2,"ng-container",0)),2&t&&(l.Q6J("ngIf","top"!==i.toolbarPosition),l.xp6(2),l.Q6J("ngIf","top"===i.toolbarPosition))},directives:[Ln],styles:[":host{display:inline-block}\n"],encapsulation:2}),n})(),jz=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:Vz,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Fi]]}),n})();function $J(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",24),l.NdJ("click",function(){return l.CHM(t),l.oxw().keyword=""}),l.TgZ(1,"mat-icon"),l._uU(2,"close"),l.qZA()()}}function WJ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"mat-card",25),l.NdJ("click",function(){const s=l.CHM(t).$implicit;return l.oxw().addIngredient(s)}),l.TgZ(2,"p"),l._uU(3),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(3),l.hij("",t.attributes.name," ")}}function qJ(n,e){if(1&n){const t=l.EpF();l.ynx(0),l.TgZ(1,"div",21)(2,"div",5)(3,"div",26)(4,"h1",27)(5,"b"),l._uU(6),l.qZA()()()(),l.TgZ(7,"button",23),l.NdJ("click",function(){return l.CHM(t),l.oxw().recipe.title=""}),l._uU(8," Editar titulo "),l.TgZ(9,"mat-icon"),l._uU(10,"edit"),l.qZA()()(),l._UZ(11,"div",15),l.BQk()}if(2&n){const t=l.oxw();l.xp6(6),l.Oqu(t.recipe.title)}}function ZJ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",24),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).keyword=""}),l.TgZ(1,"mat-icon"),l._uU(2,"close"),l.qZA()()}}function KJ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",5)(1,"div",26)(2,"mat-form-field",6)(3,"mat-label"),l._uU(4,"Titulo"),l.qZA(),l.TgZ(5,"input",28),l.NdJ("keydown.enter",function(r){return l.CHM(t),l.oxw().setTitle(r)}),l.qZA(),l.YNc(6,ZJ,3,0,"button",8),l.qZA()()()}if(2&n){const t=l.oxw();l.xp6(6),l.Q6J("ngIf",t.recipe.title)}}function YJ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"div",29)(2,"mat-form-field")(3,"mat-label"),l._uU(4,"Cantidad"),l.qZA(),l.TgZ(5,"input",30),l.NdJ("change",function(){return l.CHM(t),l.oxw().updateDocument()})("ngModelChange",function(r){return l.CHM(t).$implicit.quantity=r}),l.qZA()(),l.TgZ(6,"h6"),l._uU(7,"-"),l.qZA(),l.TgZ(8,"p"),l._uU(9),l.qZA(),l.TgZ(10,"mat-icon",31),l.NdJ("click",function(){const s=l.CHM(t).$implicit;return l.oxw().deleteIngredient(s)}),l._uU(11,"delete"),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(5),l.Q6J("ngModel",t.quantity),l.xp6(4),l.Oqu(t.attributes.name)}}function QJ(n,e){1&n&&l._UZ(0,"img",33),2&n&&l.Q6J("src",e.$implicit,l.LSH)}function JJ(n,e){if(1&n&&(l.ynx(0),l.YNc(1,QJ,1,1,"img",32),l.BQk()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.recipe.images)}}function XJ(n,e){if(1&n&&(l.TgZ(0,"div",5)(1,"div",26),l._UZ(2,"span",34),l.qZA()()),2&n){const t=l.oxw();l.xp6(2),l.Q6J("innerHtml",t.recipe.description,l.oJD)}}function eX(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",5)(1,"div",35)(2,"quill-editor",36),l.NdJ("ngModelChange",function(r){return l.CHM(t),l.oxw().recipe.description=r}),l.qZA()()()}if(2&n){const t=l.oxw();l.xp6(2),l.Q6J("ngModel",t.recipe.description)}}!function z9(n=(0,ki.getApp)(),e){n=(0,U.m9)(n),(0,ki._getProvider)(n,mz).getImmediate({identifier:e})}((0,Yr.ZF)(JD_firebase));let eN=(()=>{class n{constructor(t,i,r,s){this.firestore=t,this.route=i,this.productsService=r,this.angularFireStorage=s,this.keyword="",this.products={},this.ingredients=[],this.editingDescription=!1,this.images=[],this.recipe={title:"",description:"",img:"",ingredients:[],images:[]}}setTitle(t){console.log(t.target.value),this.recipe.title=t.target.value,this.updateDocument()}setDescription(t){console.log(t.target.value),this.recipe.description=t.target.value,this.updateDocument()}ngOnInit(){this.route.params.subscribe(t=>{const i=IP(this.firestore,"recetas-lomi");this.unsubscribe(),this.recipe$=VP(function U7(n,...e){for(const t of e)n=t._apply(n);return n}(i,hQ("title","==",t.recipeTitle))),this.listenToRecipe(),this.updateDocument()})}onImageDropped(t){for(const i of t.target.files?t.target.files:t){this.images.push(i);const s=this.angularFireStorage.ref("recetas/"+this.recipe.title+"-"+this.images.length);s.put(i).then(h=>{console.log(h.metadata),console.log(s.getDownloadURL().subscribe(p=>{this.recipe.images?this.recipe.images.push(p):this.recipe.images=[p],this.updateDocument()}))})}}updateDocument(){!function q7(n,e,t){n=Tn(n,Zi);const i=Tn(n.firestore,Ti),r=function OP(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}(n.converter,e,t);b0(i,[xP(R_(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,ur.none())])}(function h3(n,e,...t){if(n=(0,U.m9)(n),1===arguments.length&&(e=$U.R()),TP("doc","path",e),n instanceof y0){const i=Cn.fromString(e,...t);return l3(i),new Zi(n,null,new nt(i))}{if(!(n instanceof Zi||n instanceof Hc))throw new ze(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Cn.fromString(e,...t));return l3(i),new Zi(n.firestore,n instanceof Hc?n.converter:null,new nt(i))}}(this.firestore,"recetas-lomi/"+this.recipe.title),this.recipe)}searchProducts(){this.productsService.searchProducts(this.keyword).then(t=>{this.products=t,this.products.data=this.products.data.filter(i=>!this.ingredients.find(r=>r.id==i.id))})}deleteIngredient(t){const i=this.recipe.ingredients.findIndex(r=>r.id==t.id);this.recipe.ingredients.splice(i,1),this.updateDocument()}addIngredient(t){t.quantity=1,this.recipe.ingredients.push(t);const i=this.products.data.findIndex(r=>r.id==t.id);this.products.data.splice(i,1),this.updateDocument(),console.log(this.ingredients)}listenToRecipe(){this.recipe$.subscribe(t=>{t.length&&(this.recipe=t[0],console.log(this.recipe))})}unsubscribe(){var t;(null===(t=this.recipe$)||void 0===t?void 0:t.unsubscribe)&&this.recipe$.unsubscribe()}ngOnDestroy(){this.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(w0),l.Y36(Co),l.Y36(gQ),l.Y36(Ez))},n.\u0275cmp=l.Xpm({type:n,selectors:[["lomii-recipe"]],decls:44,vars:10,consts:[["autosize","",1,"example-container"],["opened","","mode","side","position","end",1,"example-sidenav"],["drawer",""],[1,"p",2,"width","300px"],[1,"ingredients-container"],[1,"flex-column"],["appearance","fill",1,"example-form-field"],["matInput","","type","text",3,"ngModel","keypress","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"content","p",2,"height","100vh"],[1,"content",2,"padding-right","2em"],[4,"ngIf"],["class","flex-column",4,"ngIf"],[1,"ingredients-list"],[1,"divider"],[1,"firestore-images"],["drag-n-drop","",1,"drag-n-drop",3,"fileDropped"],["src","assets/images/image-upload.png",3,"click"],["type","file",2,"position","absolute","opacity","0",3,"change"],["fileUpload",""],[2,"width","100%","display","flex","justify-content","space-between"],[2,"margin","0 0 16px 0"],["mat-button","","color","primary","aria-label","Example icon button with a delete icon",3,"click"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"hoverable",3,"click"],[1,"flex-row"],[2,"margin","0"],["matInput","","type","text",3,"keydown.enter"],[1,"ingredient"],["matInput","","type","number",3,"ngModel","change","ngModelChange"],[3,"click"],["class","mini-image",3,"src",4,"ngFor","ngForOf"],[1,"mini-image",3,"src"],[3,"innerHtml"],[2,"height","300px","padding-bottom","112px"],[3,"ngModel","ngModelChange"]],template:function(t,i){if(1&t){const r=l.EpF();l.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"div",4)(5,"h2"),l._uU(6,"BUSCADOR DE INGREDIENTES"),l.qZA(),l.TgZ(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),l._uU(10,"Buscador de ingredientes lomi"),l.qZA(),l.TgZ(11,"input",7),l.NdJ("keypress",function(){return i.searchProducts()})("ngModelChange",function(c){return i.keyword=c}),l.qZA(),l.YNc(12,$J,3,0,"button",8),l.qZA(),l.YNc(13,WJ,4,1,"div",9),l.qZA()()()(),l.TgZ(14,"div",10)(15,"div",11),l.YNc(16,qJ,12,1,"ng-container",12),l.YNc(17,KJ,7,1,"div",13),l.TgZ(18,"h1"),l._uU(19,"Ingredientes"),l.qZA(),l.TgZ(20,"div",14),l.YNc(21,YJ,12,2,"div",9),l.qZA(),l._UZ(22,"div",15),l.TgZ(23,"h2")(24,"b"),l._uU(25,"IMAGENES"),l.qZA()(),l.TgZ(26,"div",16),l.YNc(27,JJ,2,1,"ng-container",12),l.TgZ(28,"div",17),l.NdJ("fileDropped",function(c){return i.onImageDropped(c)}),l.TgZ(29,"img",18),l.NdJ("click",function(){return l.CHM(r),l.MAs(31).click()}),l.qZA(),l.TgZ(30,"input",19,20),l.NdJ("change",function(c){return i.onImageDropped(c)}),l.qZA()()(),l._UZ(32,"div",15),l.TgZ(33,"div",21)(34,"h2",22)(35,"b"),l._uU(36,"LOMI RECETA"),l.qZA()(),l.TgZ(37,"button",23),l.NdJ("click",function(){return i.updateDocument(),i.editingDescription=!i.editingDescription}),l._uU(38),l.TgZ(39,"mat-icon"),l._uU(40,"edit"),l.qZA()()(),l.YNc(41,XJ,3,1,"div",13),l.YNc(42,eX,3,1,"div",13),l._UZ(43,"div",15),l.qZA()()()}2&t&&(l.xp6(11),l.Q6J("ngModel",i.keyword),l.xp6(1),l.Q6J("ngIf",i.keyword),l.xp6(1),l.Q6J("ngForOf",i.products.data),l.xp6(3),l.Q6J("ngIf",i.recipe.title),l.xp6(1),l.Q6J("ngIf",!i.recipe.title),l.xp6(4),l.Q6J("ngForOf",i.recipe.ingredients),l.xp6(6),l.Q6J("ngIf",i.recipe.images),l.xp6(11),l.hij(" ",i.editingDescription?"Finalizar edici\xf3n":"Editar receta"," "),l.xp6(3),l.Q6J("ngIf",!i.editingDescription),l.xp6(1),l.Q6J("ngIf",i.editingDescription))},directives:[Zb,qb,Oz,tS,Lz,Ld,wf,Gg,Ln,Hb,Az,jm,Dn,LR,Cv,PJ,GJ],styles:["[_nghost-%COMP%]{font-size:.7em}.image[_ngcontent-%COMP%]{width:40vw;height:100vh}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:-1;height:100%;width:auto;filter:contrast(.4);position:absolute;top:0}.image[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:12px}.ingredients-container[_ngcontent-%COMP%]{transition:.4s ease;background-color:#fff;box-shadow:-1px 0 5px 15px #0000}"]}),n})(),Hz=(()=>{class n{constructor(t){this.firestore=t,this.recipesRef=IP(this.firestore,"recetas-lomi"),this.recipes$=VP(this.recipesRef),this.lomiBoxRef=IP(this.firestore,"lomi-box"),this.lomiBoxes$=VP(this.lomiBoxRef)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(w0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nX=function(n){return[n]};function iX(n,e){if(1&n&&(l.TgZ(0,"mat-card",4)(1,"mat-card-title",5),l._uU(2),l.qZA(),l._UZ(3,"img",6),l.TgZ(4,"div",7)(5,"mat-icon"),l._uU(6,"person"),l.qZA(),l.TgZ(7,"p"),l._uU(8),l.qZA()(),l.TgZ(9,"div",7)(10,"mat-icon"),l._uU(11,"schedule"),l.qZA(),l.TgZ(12,"p"),l._uU(13),l.qZA()()()),2&n){const t=e.$implicit;l.Q6J("routerLink",l.VKq(5,nX,"/recipes/"+t.title)),l.xp6(2),l.Oqu(t.title),l.xp6(1),l.s9C("src",t.images?t.images[0]:"assets/images/recipe.png",l.LSH),l.xp6(5),l.Oqu(t.persons?t.persons:"?"),l.xp6(5),l.Oqu(t.time?t.time:"?")}}const rX=function(){return["/recipes/new"]};let zz=(()=>{class n{constructor(t){this.firestore=t,this.recipes=[]}ngOnInit(){this.firestore.recipes$.subscribe(t=>{this.recipes=t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Hz))},n.\u0275cmp=l.Xpm({type:n,selectors:[["lomii-home"]],decls:5,vars:3,consts:[[2,"height","12px","width","100vw"],["mat-raised-button","","mat-button","","color","primary",2,"width","calc(100% - 24px)","margin","0 12px",3,"routerLink"],[1,"flex-row",2,"flex-wrap","wrap"],["class","small hoverable",3,"routerLink",4,"ngFor","ngForOf"],[1,"small","hoverable",3,"routerLink"],[1,"primary-color",2,"font-size","0.9em","width","96px","height","1.75em","white-space","nowrap","text-overflow","ellipsis","overflow","hidden"],["mat-card-image","","alt","Photo of a Shiba Inu",2,"filter","grayscale(0.6)",3,"src"],[1,"info"]],template:function(t,i){1&t&&(l._UZ(0,"div",0),l.TgZ(1,"button",1),l._uU(2," Nueva receta\n"),l.qZA(),l.TgZ(3,"div",2),l.YNc(4,iX,14,7,"mat-card",3),l.qZA()),2&t&&(l.xp6(1),l.Q6J("routerLink",l.DdM(2,rX)),l.xp6(3),l.Q6J("ngForOf",i.recipes))},directives:[Hb,Il,Dn,LR,bV,wV,jm],styles:[""]}),n})(),tN=(()=>{class n{constructor(t,i){this.orders=[],this.pendingOrders=[],this.completedOrders=[],this.activatedFilters=[],this.booleanFilters=[{name:"Pedidos completados",action:this.completedFilter}],t.list("orders",s=>s.orderByChild("completed_at").limitToLast(30)).valueChanges().subscribe(s=>{s.reverse(),this.orders.forEach(c=>{c.badges=[],"LOMI"==c.bill_address.company?c.badges.push({abreviation:"RT",color:"green"}):c.hermexOrder?(console.log(c),c.badges.push({abreviation:"Hmx",color:"teal"})):c.journey_state&&c.badges.push({abreviation:"CAB",color:"purple"})})})}completedFilter(t){return t.hermexOrder?8==t.status.id:"drop off"==t.journey_state||"withdrawaled"==t.journey_state}doFilter(t){this.orders=this.orders.filter(t.action),this.activatedFilters.push(t)}getOrderByNumber(t){return console.log(this.orders),this.orders.find(i=>i.number==t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(FR),l.LFG(Co))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sX=["thumbContainer"],oX=["toggleBar"],aX=["input"],lX=function(n){return{enterDuration:n}},cX=["*"],uX=new l.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let dX=0;const hX={provide:Io,useExisting:(0,l.Gpc)(()=>Gz),multi:!0};class fX{constructor(e,t){this.source=e,this.checked=t}}const pX=u$(Ub(ck(lk(class{constructor(n){this._elementRef=n}}))));let Gz=(()=>{class n extends pX{constructor(t,i,r,s,c,h){super(t),this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=c,this._onChange=p=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++dX,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new l.vpe,this.toggleChange=new l.vpe,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=c.color||"accent",this._noopAnimations="NoopAnimations"===h}get required(){return this._required}set required(t){this._required=Tr(t)}get checked(){return this._checked}set checked(t){this._checked=Tr(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new fX(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Hf),l.Y36(l.sBO),l.$8M("tabindex"),l.Y36(uX),l.Y36(Fu,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(t,i){if(1&t&&(l.Gf(sX,5),l.Gf(oX,5),l.Gf(aX,5)),2&t){let r;l.iGM(r=l.CRH())&&(i._thumbEl=r.first),l.iGM(r=l.CRH())&&(i._thumbBarEl=r.first),l.iGM(r=l.CRH())&&(i._inputElement=r.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(t,i){2&t&&(l.Ikx("id",i.id),l.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),l.ekj("mat-checked",i.checked)("mat-disabled",i.disabled)("mat-slide-toggle-label-before","before"==i.labelPosition)("_mat-animation-noopable",i._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[l._Bn([hX]),l.qOj],ngContentSelectors:cX,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,i){if(1&t&&(l.F$t(),l.TgZ(0,"label",0,1)(2,"span",2,3)(4,"input",4,5),l.NdJ("change",function(s){return i._onChangeEvent(s)})("click",function(s){return i._onInputClick(s)}),l.qZA(),l.TgZ(6,"span",6,7),l._UZ(8,"span",8),l.TgZ(9,"span",9),l._UZ(10,"span",10),l.qZA()()(),l.TgZ(11,"span",11,12),l.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),l.TgZ(13,"span",13),l._uU(14,"\xa0"),l.qZA(),l.Hsn(15),l.qZA()()),2&t){const r=l.MAs(1),s=l.MAs(12);l.uIk("for",i.inputId),l.xp6(2),l.ekj("mat-slide-toggle-bar-no-side-margin",!s.textContent||!s.textContent.trim()),l.xp6(2),l.Q6J("id",i.inputId)("required",i.required)("tabIndex",i.tabIndex)("checked",i.checked)("disabled",i.disabled),l.uIk("name",i.name)("aria-checked",i.checked)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),l.xp6(5),l.Q6J("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",l.VKq(18,lX,i._noopAnimations?0:150))}},directives:[qT,Dz],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),n})(),$z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),Wz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[$z,dk,gi,Sz],$z,gi]}),n})();const _X=function(n){return{"background-color":n}};function yX(n,e){if(1&n&&(l.TgZ(0,"div",15),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("ngStyle",l.VKq(2,_X,t.color)),l.xp6(1),l.hij(" ",t.abreviation," ")}}function vX(n,e){if(1&n&&(l.TgZ(0,"p"),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Oqu(t.hermexOrder?t.hermexOrder.status.description:t.journey_state)}}function bX(n,e){1&n&&(l.TgZ(0,"p"),l._uU(1,"Pedido Retirado"),l.qZA())}function wX(n,e){1&n&&(l.TgZ(0,"p"),l._uU(1,"Pedido por recoger"),l.qZA())}function CX(n,e){1&n&&l._UZ(0,"img",16)}function EX(n,e){1&n&&l._UZ(0,"img",17)}const TX=function(n){return[n]};function IX(n,e){if(1&n&&(l.ynx(0),l.TgZ(1,"div",9)(2,"p"),l._uU(3),l.qZA(),l.TgZ(4,"div",10),l.YNc(5,yX,2,4,"div",11),l.qZA(),l.YNc(6,vX,2,1,"p",12),l.YNc(7,bX,2,0,"p",12),l.YNc(8,wX,2,0,"p",12),l.TgZ(9,"p"),l._uU(10),l.qZA(),l.TgZ(11,"p"),l._uU(12),l.qZA(),l.TgZ(13,"p"),l._uU(14),l.ALo(15,"date"),l.qZA(),l.TgZ(16,"p"),l._uU(17),l.ALo(18,"date"),l.qZA(),l.YNc(19,CX,1,0,"img",13),l.YNc(20,EX,1,0,"img",14),l.TgZ(21,"p"),l._uU(22),l.qZA()(),l._UZ(23,"div",8),l.BQk()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("routerLink",l.VKq(19,TX,"/orders/"+t.number)),l.xp6(2),l.Oqu(t.number),l.xp6(2),l.Q6J("ngForOf",t.badges),l.xp6(1),l.Q6J("ngIf",!t.bill_address.company),l.xp6(1),l.Q6J("ngIf",t.bill_address.company&&"withdrawaled"==t.journey_state),l.xp6(1),l.Q6J("ngIf",t.bill_address.company&&"withdrawaled"!=t.journey_state),l.xp6(2),l.Oqu(t.shipment_state),l.xp6(2),l.Oqu(t.store_id),l.xp6(2),l.Oqu(l.xi3(15,13,t.completed_at,"dd - MMM")),l.xp6(3),l.Oqu(l.xi3(18,16,t.completed_at,"HH:mm:ss")),l.xp6(2),l.Q6J("ngIf",!1),l.xp6(1),l.Q6J("ngIf",!1),l.xp6(2),l.Oqu(t.ship_address.address1)}}function DX(n,e){if(1&n&&(l.TgZ(0,"div",6)(1,"h1"),l._uU(2,"Ordenes"),l.qZA(),l._UZ(3,"div"),l.YNc(4,IX,24,21,"ng-container",7),l._UZ(5,"div",8),l.qZA()),2&n){const t=l.oxw();l.xp6(4),l.Q6J("ngForOf",t.ordersProvider.orders)}}let SX=(()=>{class n{constructor(t){this.ordersProvider=t,this.recipes=[]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(tN))},n.\u0275cmp=l.Xpm({type:n,selectors:[["lomii-orders"]],decls:9,vars:1,consts:[["autosize","",1,"example-container"],["opened","","mode","side","position","end",1,"actions-sidenav",2,"width","300px"],["drawer",""],[1,"p"],[1,"example-margin"],["class","example-sidenav-content p",4,"ngIf"],[1,"example-sidenav-content","p"],[4,"ngFor","ngForOf"],[1,"divider"],[1,"order",3,"routerLink"],[1,"badges",2,"display","flex","flex-direction","column"],["class","badge","style","color:white;padding: 4px;",3,"ngStyle",4,"ngFor","ngForOf"],[4,"ngIf"],["src","assets/images/cabify.png",4,"ngIf"],["src","assets/images/lomi.svg",4,"ngIf"],[1,"badge",2,"color","white","padding","4px",3,"ngStyle"],["src","assets/images/cabify.png"],["src","assets/images/lomi.svg"]],template:function(t,i){1&t&&(l.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"h3"),l._uU(4,"Filtros"),l.qZA(),l.TgZ(5,"div",3)(6,"mat-slide-toggle",4),l._uU(7," Pedidos completados "),l.qZA()()(),l.YNc(8,DX,6,1,"div",5),l.qZA()),2&t&&(l.xp6(8),l.Q6J("ngIf",i.ordersProvider.orders))},directives:[Zb,qb,Gz,Ln,Dn,Il,qc],pipes:[ed],styles:[".order[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.order[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:30em}.order[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:2em;width:auto}"]}),n})(),xX=(()=>{class n{constructor(t,i){this.activatedRoute=t,this.ordersProvider=i}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.order=this.ordersProvider.getOrderByNumber(t.number),console.log(this.order)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Co),l.Y36(tN))},n.\u0275cmp=l.Xpm({type:n,selectors:[["lomi-order"]],decls:6,vars:1,consts:[["autosize","",1,"example-container"],["opened","","mode","side","position","end",1,"example-sidenav",2,"width","300px"],["drawer",""],[1,"example-sidenav-content","p",2,"height","100vh"]],template:function(t,i){1&t&&(l.TgZ(0,"mat-drawer-container",0),l._UZ(1,"mat-drawer",1,2),l.TgZ(3,"div",3)(4,"h1"),l._uU(5),l.qZA()()()),2&t&&(l.xp6(5),l.Oqu(null==i.order?null:i.order.order.number))},directives:[Zb,qb],styles:["[_nghost-%COMP%]{font-size:.7em}.content[_ngcontent-%COMP%]{width:60vw}.image[_ngcontent-%COMP%]{width:40vw;height:100vh}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:-1;height:100%;width:auto;filter:contrast(.4);position:absolute;top:0}.image[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:12px}.ingredients-container[_ngcontent-%COMP%]{transition:.4s ease;background-color:#fff;box-shadow:-1px 0 5px 15px #0000}"]}),n})(),AX=(()=>{class n{constructor(t,i){this.router=t,this.auth=i}canActivate(t,i){return this.auth.signedIn||this.router.navigateByUrl("auth"),this.auth.signedIn}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Or),l.LFG(kg))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MX(n,e){1&n&&(l.ynx(0),l.TgZ(1,"mat-form-field",7)(2,"mat-label"),l._uU(3,"Usuario o Correo"),l.qZA(),l._UZ(4,"input",8),l.TgZ(5,"button",9)(6,"mat-icon"),l._uU(7,"close"),l.qZA()()(),l.TgZ(8,"mat-form-field",7)(9,"mat-label"),l._uU(10,"Contrase\xf1a"),l.qZA(),l._UZ(11,"input",10),l.TgZ(12,"button",9)(13,"mat-icon"),l._uU(14,"close"),l.qZA()()(),l.TgZ(15,"div",11)(16,"button",12),l._uU(17,"Crear cuenta"),l.qZA(),l.TgZ(18,"button",12),l._uU(19,"Siguiente"),l.qZA()(),l.BQk())}let kX=(()=>{class n{constructor(t){this.auth=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(kg))},n.\u0275cmp=l.Xpm({type:n,selectors:[["lomii-auth"]],decls:9,vars:1,consts:[[1,"auth-container"],[1,"layout"],["src","assets/images/lomi.svg"],[2,"padding-top","1em","margin-bottom","1em"],[4,"ngIf"],["mat-button","",3,"click"],["src","assets/images/google-g.png"],["appearance","fill",1,"example-form-field"],["matInput","","type","text"],["matSuffix","","mat-icon-button","","aria-label","Clear"],["matInput","","type","password"],[2,"display","flex","justify-content","space-between","width","100%"],["mat-button",""]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"img",2),l.TgZ(3,"h1",3),l._uU(4,"\xbf Quien eres ?"),l.qZA(),l.YNc(5,MX,20,0,"ng-container",4),l.TgZ(6,"button",5),l.NdJ("click",function(){return i.auth.loginWithGoogle()}),l._UZ(7,"img",6),l._uU(8,"Iniciar sesi\xf3n con Google"),l.qZA()()()),2&t&&(l.xp6(5),l.Q6J("ngIf",!1))},directives:[Ln,Oz,tS,Lz,Hb,Az,jm],styles:[".auth-container[_ngcontent-%COMP%]{background-color:var(--accent-color);height:calc(100vh - 4em);width:100vw;display:flex;justify-content:center;align-items:center}.layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:16px;border-radius:15px;width:40em;background-color:#fff}.layout[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:30px}"]}),n})();const RX=function(n){return[n]};function OX(n,e){if(1&n&&(l.TgZ(0,"mat-card",4)(1,"mat-card-title",5),l._uU(2),l.qZA(),l._UZ(3,"img",6),l.TgZ(4,"div",7)(5,"mat-icon"),l._uU(6,"person"),l.qZA(),l.TgZ(7,"p"),l._uU(8),l.qZA()(),l.TgZ(9,"div",7)(10,"mat-icon"),l._uU(11,"schedule"),l.qZA(),l.TgZ(12,"p"),l._uU(13),l.qZA()()()),2&n){const t=e.$implicit;l.Q6J("routerLink",l.VKq(5,RX,"/lomi-box/"+t.title)),l.xp6(2),l.Oqu(t.title),l.xp6(1),l.s9C("src",t.images?t.images[0]:"assets/images/recipe.png",l.LSH),l.xp6(5),l.Oqu(t.persons?t.persons:"?"),l.xp6(5),l.Oqu(t.time?t.time:"?")}}const PX=function(){return["/lomi-box/new"]},NX=[{path:"auth",component:kX},{path:"",canActivate:[AX],children:[{path:"dashboard",component:zz},{path:"orders",component:SX},{path:"orders/:number",component:xX},{path:"recipes",component:zz},{path:"recipes/new",component:eN},{path:"recipes/:recipeTitle",component:eN},{path:"lomi-box/:boxId",component:eN},{path:"lomi-box",component:(()=>{class n{constructor(t){this.firestore=t,this.lomiBoxes=[]}ngOnInit(){this.firestore.lomiBoxes$.subscribe(t=>{this.lomiBoxes=t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Hz))},n.\u0275cmp=l.Xpm({type:n,selectors:[["lomii-box-list"]],decls:5,vars:3,consts:[[2,"height","12px","width","100vw"],["mat-raised-button","","mat-button","","color","primary",2,"width","calc(100% - 24px)","margin","0 12px",3,"routerLink"],[1,"flex-row",2,"flex-wrap","wrap"],["class","small hoverable",3,"routerLink",4,"ngFor","ngForOf"],[1,"small","hoverable",3,"routerLink"],[1,"primary-color",2,"font-size","0.9em","width","96px","height","1.75em","white-space","nowrap","text-overflow","ellipsis","overflow","hidden"],["mat-card-image","","alt","Photo of a Shiba Inu",2,"filter","grayscale(0.6)",3,"src"],[1,"info"]],template:function(t,i){1&t&&(l._UZ(0,"div",0),l.TgZ(1,"button",1),l._uU(2," Nueva Lomi Box\n"),l.qZA(),l.TgZ(3,"div",2),l.YNc(4,OX,14,7,"mat-card",3),l.qZA()),2&t&&(l.xp6(1),l.Q6J("routerLink",l.DdM(2,PX)),l.xp6(3),l.Q6J("ngForOf",i.lomiBoxes))},directives:[Hb,Il,Dn,LR,bV,wV,jm],styles:[""]}),n})()},{path:"",redirectTo:"/dashboard",pathMatch:"full"}]}];let qz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[yf.forChild(NX)],yf]}),n})();function FX(n,e){}class nN{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const LX={dialogContainer:kc("dialogContainer",[Rc("void, exit",Pr({opacity:0,transform:"scale(0.7)"})),Rc("enter",Pr({transform:"none"})),Va("* => enter",wb([Mu("150ms cubic-bezier(0, 0, 0.2, 1)",Pr({transform:"none",opacity:1})),IM("@*",IT(),{optional:!0})])),Va("* => void, * => exit",wb([Mu("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Pr({opacity:0})),IM("@*",IT(),{optional:!0})]))])};let BX=(()=>{class n extends _k{constructor(t,i,r,s,c,h,p,_){super(),this._elementRef=t,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=c,this._interactivityChecker=h,this._ngZone=p,this._focusMonitor=_,this._animationStateChanged=new l.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=w=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(w)),this._ariaLabelledBy=c.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=pm())}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const i=pm(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=pm();return t===i||t.contains(i)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(mT),l.Y36(l.sBO),l.Y36(K,8),l.Y36(nN),l.Y36(bm),l.Y36(l.R0b),l.Y36(Hf))},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&l.Gf(EL,7),2&t){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},features:[l.qOj]}),n})(),VX=(()=>{class n extends BX{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:i}){"enter"===t?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,i){1&t&&l.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&t&&(l.Ikx("id",i._id),l.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),l.d8E("@dialogContainer",i._state))},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&l.YNc(0,FX,0,0,"ng-template",0)},directives:[EL],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[LX.dialogContainer]}}),n})(),UX=0;class jX{constructor(e,t,i="mat-dialog-"+UX++){this._overlayRef=e,this._containerInstance=t,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Bt.x,this._afterClosed=new Bt.x,this._beforeClosed=new Bt.x,this._state=0,t._id=i,t._animationStateChanged.pipe(wn(r=>"opened"===r.state),(0,Bn.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(wn(r=>"closed"===r.state),(0,Bn.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(wn(r=>27===r.keyCode&&!this.disableClose&&!Uf(r))).subscribe(r=>{r.preventDefault(),Zz(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Zz(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(wn(t=>"closing"===t.state),(0,Bn.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Zz(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const HX=new l.OlP("MatDialogData"),zX=new l.OlP("mat-dialog-default-options"),Kz=new l.OlP("mat-dialog-scroll-strategy"),$X={provide:Kz,deps:[Um],useFactory:function GX(n){return()=>n.scrollStrategies.block()}};let WX=(()=>{class n{constructor(t,i,r,s,c,h,p,_,w,T){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=c,this._dialogRefConstructor=p,this._dialogContainerType=_,this._dialogDataToken=w,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Bt.x,this._afterOpenedAtThisLevel=new Bt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=ag(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(wo(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){i=function ZX(n,e){return Object.assign(Object.assign({},e),n)}(i,this._defaultOptions||new nN),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),s=this._attachDialogContainer(r,i),c=this._attachDialogContent(t,s,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.afterClosed().subscribe(()=>this._removeOpenDialog(c)),this.afterOpened.next(c),s._initializeWithAttachedContent(),c}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const i=this._getOverlayConfig(t);return this._overlay.create(i)}_getOverlayConfig(t){const i=new Ck({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachDialogContainer(t,i){const s=l.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:nN,useValue:i}]}),c=new gk(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,i,r,s){const c=new this._dialogRefConstructor(r,i,s.id);if(t instanceof l.Rgc)i.attachTemplatePortal(new mk(t,null,{$implicit:s.data,dialogRef:c}));else{const h=this._createInjector(s,c,i),p=i.attachComponentPortal(new gk(t,s.viewContainerRef,h,s.componentFactoryResolver));c.componentInstance=p.instance}return c.updateSize(s.width,s.height).updatePosition(s.position),c}_createInjector(t,i,r){const s=t&&t.viewContainerRef&&t.viewContainerRef.injector,c=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:i}];return t.direction&&(!s||!s.get(Dc,null,l.XFs.Optional))&&c.push({provide:Dc,useValue:{value:t.direction,change:ut()}}),l.zs3.create({parent:s||this._injector,providers:c})}_removeOpenDialog(t){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n}),n})(),qX=(()=>{class n extends WX{constructor(t,i,r,s,c,h,p,_){super(t,i,s,h,p,c,jX,VX,HX,_)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Um),l.LFG(l.zs3),l.LFG($e,8),l.LFG(zX,8),l.LFG(Kz),l.LFG(n,12),l.LFG(Ek),l.LFG(Fu,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Yz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[qX,$X],imports:[[FL,TL,gi],gi]}),n})(),iS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[tN],imports:[[Fi,CV,TV,qz,Bz,ZL,QL,Xg,vL,Yz,jz.forRoot(),Mi.hO.initializeApp(JD_firebase),Ea(()=>Yp(JD_firebase)),uQ(()=>dQ()),Tz,e8,J_,HL,Wz,Zv],CV,TV,qz,Bz,vL,ZL,QL,Xg,Yz,jz,Tz,HL,Wz,Zv]}),n})(),KX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Fi,iS]]}),n})(),YX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Fi,iS]]}),n})(),QX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Fi,iS]]}),n})(),JX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[a8]}),n.\u0275inj=l.cJS({providers:[],imports:[[ql,T$,yf.forRoot([],{initialNavigation:"enabledBlocking"}),a$,KX,YX,QX,iS]]}),n})();(0,l.G48)(),ud().bootstrapModule(JX).catch(n=>console.error(n))},3014:(De,me,M)=>{De.exports=M(7114)},7729:(De,me,M)=>{"use strict";var l=M(4701),L=M(858),k=M(5738),q=M(1625),J=M(5215),oe=M(2099),K=M(6100),ee=M(5593),le=M(985),H=M(1413);De.exports=function($){return new Promise(function(Se,Me){var ke,Le=$.data,be=$.headers,Ee=$.responseType;function Be(){$.cancelToken&&$.cancelToken.unsubscribe(ke),$.signal&&$.signal.removeEventListener("abort",ke)}l.isFormData(Le)&&delete be["Content-Type"];var _e=new XMLHttpRequest;if($.auth){var $e=$.auth.username||"",Re=$.auth.password?unescape(encodeURIComponent($.auth.password)):"";be.Authorization="Basic "+btoa($e+":"+Re)}var Je=J($.baseURL,$.url);function Y(){if(_e){var N="getAllResponseHeaders"in _e?oe(_e.getAllResponseHeaders()):null;L(function(pe){Se(pe),Be()},function(pe){Me(pe),Be()},{data:Ee&&"text"!==Ee&&"json"!==Ee?_e.response:_e.responseText,status:_e.status,statusText:_e.statusText,headers:N,config:$,request:_e}),_e=null}}if(_e.open($.method.toUpperCase(),q(Je,$.params,$.paramsSerializer),!0),_e.timeout=$.timeout,"onloadend"in _e?_e.onloadend=Y:_e.onreadystatechange=function(){!_e||4!==_e.readyState||0===_e.status&&(!_e.responseURL||0!==_e.responseURL.indexOf("file:"))||setTimeout(Y)},_e.onabort=function(){!_e||(Me(ee("Request aborted",$,"ECONNABORTED",_e)),_e=null)},_e.onerror=function(){Me(ee("Network Error",$,null,_e)),_e=null},_e.ontimeout=function(){var G=$.timeout?"timeout of "+$.timeout+"ms exceeded":"timeout exceeded";$.timeoutErrorMessage&&(G=$.timeoutErrorMessage),Me(ee(G,$,($.transitional||le).clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",_e)),_e=null},l.isStandardBrowserEnv()){var ye=($.withCredentials||K(Je))&&$.xsrfCookieName?k.read($.xsrfCookieName):void 0;ye&&(be[$.xsrfHeaderName]=ye)}"setRequestHeader"in _e&&l.forEach(be,function(G,W){void 0===Le&&"content-type"===W.toLowerCase()?delete be[W]:_e.setRequestHeader(W,G)}),l.isUndefined($.withCredentials)||(_e.withCredentials=!!$.withCredentials),Ee&&"json"!==Ee&&(_e.responseType=$.responseType),"function"==typeof $.onDownloadProgress&&_e.addEventListener("progress",$.onDownloadProgress),"function"==typeof $.onUploadProgress&&_e.upload&&_e.upload.addEventListener("progress",$.onUploadProgress),($.cancelToken||$.signal)&&(ke=function(N){!_e||(Me(!N||N&&N.type?new H("canceled"):N),_e.abort(),_e=null)},$.cancelToken&&$.cancelToken.subscribe(ke),$.signal&&($.signal.aborted?ke():$.signal.addEventListener("abort",ke))),Le||(Le=null),_e.send(Le)})}},7114:(De,me,M)=>{"use strict";var l=M(4701),L=M(2414),k=M(6490),q=M(2971),K=function oe(ee){var le=new k(ee),H=L(k.prototype.request,le);return l.extend(H,k.prototype,le),l.extend(H,le),H.create=function($){return oe(q(ee,$))},H}(M(4498));K.Axios=k,K.Cancel=M(1413),K.CancelToken=M(3056),K.isCancel=M(8827),K.VERSION=M(1773).version,K.all=function(le){return Promise.all(le)},K.spread=M(9211),K.isAxiosError=M(4603),De.exports=K,De.exports.default=K},1413:De=>{"use strict";function me(M){this.message=M}me.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},me.prototype.__CANCEL__=!0,De.exports=me},3056:(De,me,M)=>{"use strict";var l=M(1413);function L(k){if("function"!=typeof k)throw new TypeError("executor must be a function.");var q;this.promise=new Promise(function(K){q=K});var J=this;this.promise.then(function(oe){if(J._listeners){var K,ee=J._listeners.length;for(K=0;K<ee;K++)J._listeners[K](oe);J._listeners=null}}),this.promise.then=function(oe){var K,ee=new Promise(function(le){J.subscribe(le),K=le}).then(oe);return ee.cancel=function(){J.unsubscribe(K)},ee},k(function(K){J.reason||(J.reason=new l(K),q(J.reason))})}L.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},L.prototype.subscribe=function(q){this.reason?q(this.reason):this._listeners?this._listeners.push(q):this._listeners=[q]},L.prototype.unsubscribe=function(q){if(this._listeners){var J=this._listeners.indexOf(q);-1!==J&&this._listeners.splice(J,1)}},L.source=function(){var q;return{token:new L(function(K){q=K}),cancel:q}},De.exports=L},8827:De=>{"use strict";De.exports=function(M){return!(!M||!M.__CANCEL__)}},6490:(De,me,M)=>{"use strict";var l=M(4701),L=M(1625),k=M(607),q=M(957),J=M(2971),oe=M(4828),K=oe.validators;function ee(le){this.defaults=le,this.interceptors={request:new k,response:new k}}ee.prototype.request=function(H,B){"string"==typeof H?(B=B||{}).url=H:B=H||{},(B=J(this.defaults,B)).method=B.method?B.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var $=B.transitional;void 0!==$&&oe.assertOptions($,{silentJSONParsing:K.transitional(K.boolean),forcedJSONParsing:K.transitional(K.boolean),clarifyTimeoutError:K.transitional(K.boolean)},!1);var Oe=[],Se=!0;this.interceptors.request.forEach(function($e){"function"==typeof $e.runWhen&&!1===$e.runWhen(B)||(Se=Se&&$e.synchronous,Oe.unshift($e.fulfilled,$e.rejected))});var Le,Me=[];if(this.interceptors.response.forEach(function($e){Me.push($e.fulfilled,$e.rejected)}),!Se){var be=[q,void 0];for(Array.prototype.unshift.apply(be,Oe),be=be.concat(Me),Le=Promise.resolve(B);be.length;)Le=Le.then(be.shift(),be.shift());return Le}for(var Ee=B;Oe.length;){var ke=Oe.shift(),Be=Oe.shift();try{Ee=ke(Ee)}catch(_e){Be(_e);break}}try{Le=q(Ee)}catch(_e){return Promise.reject(_e)}for(;Me.length;)Le=Le.then(Me.shift(),Me.shift());return Le},ee.prototype.getUri=function(H){return H=J(this.defaults,H),L(H.url,H.params,H.paramsSerializer).replace(/^\?/,"")},l.forEach(["delete","get","head","options"],function(H){ee.prototype[H]=function(B,$){return this.request(J($||{},{method:H,url:B,data:($||{}).data}))}}),l.forEach(["post","put","patch"],function(H){ee.prototype[H]=function(B,$,Oe){return this.request(J(Oe||{},{method:H,url:B,data:$}))}}),De.exports=ee},607:(De,me,M)=>{"use strict";var l=M(4701);function L(){this.handlers=[]}L.prototype.use=function(q,J,oe){return this.handlers.push({fulfilled:q,rejected:J,synchronous:!!oe&&oe.synchronous,runWhen:oe?oe.runWhen:null}),this.handlers.length-1},L.prototype.eject=function(q){this.handlers[q]&&(this.handlers[q]=null)},L.prototype.forEach=function(q){l.forEach(this.handlers,function(oe){null!==oe&&q(oe)})},De.exports=L},5215:(De,me,M)=>{"use strict";var l=M(8692),L=M(4554);De.exports=function(q,J){return q&&!l(J)?L(q,J):J}},5593:(De,me,M)=>{"use strict";var l=M(5124);De.exports=function(k,q,J,oe,K){var ee=new Error(k);return l(ee,q,J,oe,K)}},957:(De,me,M)=>{"use strict";var l=M(4701),L=M(5134),k=M(8827),q=M(4498),J=M(1413);function oe(K){if(K.cancelToken&&K.cancelToken.throwIfRequested(),K.signal&&K.signal.aborted)throw new J("canceled")}De.exports=function(ee){return oe(ee),ee.headers=ee.headers||{},ee.data=L.call(ee,ee.data,ee.headers,ee.transformRequest),ee.headers=l.merge(ee.headers.common||{},ee.headers[ee.method]||{},ee.headers),l.forEach(["delete","get","head","post","put","patch","common"],function(B){delete ee.headers[B]}),(ee.adapter||q.adapter)(ee).then(function(B){return oe(ee),B.data=L.call(ee,B.data,B.headers,ee.transformResponse),B},function(B){return k(B)||(oe(ee),B&&B.response&&(B.response.data=L.call(ee,B.response.data,B.response.headers,ee.transformResponse))),Promise.reject(B)})}},5124:De=>{"use strict";De.exports=function(M,l,L,k,q){return M.config=l,L&&(M.code=L),M.request=k,M.response=q,M.isAxiosError=!0,M.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},M}},2971:(De,me,M)=>{"use strict";var l=M(4701);De.exports=function(k,q){q=q||{};var J={};function oe($,Oe){return l.isPlainObject($)&&l.isPlainObject(Oe)?l.merge($,Oe):l.isPlainObject(Oe)?l.merge({},Oe):l.isArray(Oe)?Oe.slice():Oe}function K($){return l.isUndefined(q[$])?l.isUndefined(k[$])?void 0:oe(void 0,k[$]):oe(k[$],q[$])}function ee($){if(!l.isUndefined(q[$]))return oe(void 0,q[$])}function le($){return l.isUndefined(q[$])?l.isUndefined(k[$])?void 0:oe(void 0,k[$]):oe(void 0,q[$])}function H($){return $ in q?oe(k[$],q[$]):$ in k?oe(void 0,k[$]):void 0}var B={url:ee,method:ee,data:ee,baseURL:le,transformRequest:le,transformResponse:le,paramsSerializer:le,timeout:le,timeoutMessage:le,withCredentials:le,adapter:le,responseType:le,xsrfCookieName:le,xsrfHeaderName:le,onUploadProgress:le,onDownloadProgress:le,decompress:le,maxContentLength:le,maxBodyLength:le,transport:le,httpAgent:le,httpsAgent:le,cancelToken:le,socketPath:le,responseEncoding:le,validateStatus:H};return l.forEach(Object.keys(k).concat(Object.keys(q)),function(Oe){var Se=B[Oe]||K,Me=Se(Oe);l.isUndefined(Me)&&Se!==H||(J[Oe]=Me)}),J}},858:(De,me,M)=>{"use strict";var l=M(5593);De.exports=function(k,q,J){var oe=J.config.validateStatus;J.status&&oe&&!oe(J.status)?q(l("Request failed with status code "+J.status,J.config,null,J.request,J)):k(J)}},5134:(De,me,M)=>{"use strict";var l=M(4701),L=M(4498);De.exports=function(q,J,oe){var K=this||L;return l.forEach(oe,function(le){q=le.call(K,q,J)}),q}},4498:(De,me,M)=>{"use strict";var l=M(4701),L=M(5620),k=M(5124),q=M(985),J={"Content-Type":"application/x-www-form-urlencoded"};function oe(H,B){!l.isUndefined(H)&&l.isUndefined(H["Content-Type"])&&(H["Content-Type"]=B)}var le={transitional:q,adapter:function K(){var H;return("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(H=M(7729)),H}(),transformRequest:[function(B,$){return L($,"Accept"),L($,"Content-Type"),l.isFormData(B)||l.isArrayBuffer(B)||l.isBuffer(B)||l.isStream(B)||l.isFile(B)||l.isBlob(B)?B:l.isArrayBufferView(B)?B.buffer:l.isURLSearchParams(B)?(oe($,"application/x-www-form-urlencoded;charset=utf-8"),B.toString()):l.isObject(B)||$&&"application/json"===$["Content-Type"]?(oe($,"application/json"),function ee(H,B,$){if(l.isString(H))try{return(B||JSON.parse)(H),l.trim(H)}catch(Oe){if("SyntaxError"!==Oe.name)throw Oe}return($||JSON.stringify)(H)}(B)):B}],transformResponse:[function(B){var $=this.transitional||le.transitional,Me=!($&&$.silentJSONParsing)&&"json"===this.responseType;if(Me||$&&$.forcedJSONParsing&&l.isString(B)&&B.length)try{return JSON.parse(B)}catch(Le){if(Me)throw"SyntaxError"===Le.name?k(Le,this,"E_JSON_PARSE"):Le}return B}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(B){return B>=200&&B<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};l.forEach(["delete","get","head"],function(B){le.headers[B]={}}),l.forEach(["post","put","patch"],function(B){le.headers[B]=l.merge(J)}),De.exports=le},985:De=>{"use strict";De.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},1773:De=>{De.exports={version:"0.26.1"}},2414:De=>{"use strict";De.exports=function(M,l){return function(){for(var k=new Array(arguments.length),q=0;q<k.length;q++)k[q]=arguments[q];return M.apply(l,k)}}},1625:(De,me,M)=>{"use strict";var l=M(4701);function L(k){return encodeURIComponent(k).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}De.exports=function(q,J,oe){if(!J)return q;var K;if(oe)K=oe(J);else if(l.isURLSearchParams(J))K=J.toString();else{var ee=[];l.forEach(J,function(B,$){null==B||(l.isArray(B)?$+="[]":B=[B],l.forEach(B,function(Se){l.isDate(Se)?Se=Se.toISOString():l.isObject(Se)&&(Se=JSON.stringify(Se)),ee.push(L($)+"="+L(Se))}))}),K=ee.join("&")}if(K){var le=q.indexOf("#");-1!==le&&(q=q.slice(0,le)),q+=(-1===q.indexOf("?")?"?":"&")+K}return q}},4554:De=>{"use strict";De.exports=function(M,l){return l?M.replace(/\/+$/,"")+"/"+l.replace(/^\/+/,""):M}},5738:(De,me,M)=>{"use strict";var l=M(4701);De.exports=l.isStandardBrowserEnv()?{write:function(q,J,oe,K,ee,le){var H=[];H.push(q+"="+encodeURIComponent(J)),l.isNumber(oe)&&H.push("expires="+new Date(oe).toGMTString()),l.isString(K)&&H.push("path="+K),l.isString(ee)&&H.push("domain="+ee),!0===le&&H.push("secure"),document.cookie=H.join("; ")},read:function(q){var J=document.cookie.match(new RegExp("(^|;\\s*)("+q+")=([^;]*)"));return J?decodeURIComponent(J[3]):null},remove:function(q){this.write(q,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},8692:De=>{"use strict";De.exports=function(M){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(M)}},4603:(De,me,M)=>{"use strict";var l=M(4701);De.exports=function(k){return l.isObject(k)&&!0===k.isAxiosError}},6100:(De,me,M)=>{"use strict";var l=M(4701);De.exports=l.isStandardBrowserEnv()?function(){var J,k=/(msie|trident)/i.test(navigator.userAgent),q=document.createElement("a");function oe(K){var ee=K;return k&&(q.setAttribute("href",ee),ee=q.href),q.setAttribute("href",ee),{href:q.href,protocol:q.protocol?q.protocol.replace(/:$/,""):"",host:q.host,search:q.search?q.search.replace(/^\?/,""):"",hash:q.hash?q.hash.replace(/^#/,""):"",hostname:q.hostname,port:q.port,pathname:"/"===q.pathname.charAt(0)?q.pathname:"/"+q.pathname}}return J=oe(window.location.href),function(ee){var le=l.isString(ee)?oe(ee):ee;return le.protocol===J.protocol&&le.host===J.host}}():function(){return!0}},5620:(De,me,M)=>{"use strict";var l=M(4701);De.exports=function(k,q){l.forEach(k,function(oe,K){K!==q&&K.toUpperCase()===q.toUpperCase()&&(k[q]=oe,delete k[K])})}},2099:(De,me,M)=>{"use strict";var l=M(4701),L=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];De.exports=function(q){var oe,K,ee,J={};return q&&l.forEach(q.split("\n"),function(H){if(ee=H.indexOf(":"),oe=l.trim(H.substr(0,ee)).toLowerCase(),K=l.trim(H.substr(ee+1)),oe){if(J[oe]&&L.indexOf(oe)>=0)return;J[oe]="set-cookie"===oe?(J[oe]?J[oe]:[]).concat([K]):J[oe]?J[oe]+", "+K:K}}),J}},9211:De=>{"use strict";De.exports=function(M){return function(L){return M.apply(null,L)}}},4828:(De,me,M)=>{"use strict";var l=M(1773).version,L={};["object","boolean","number","function","string","symbol"].forEach(function(J,oe){L[J]=function(ee){return typeof ee===J||"a"+(oe<1?"n ":" ")+J}});var k={};L.transitional=function(oe,K,ee){function le(H,B){return"[Axios v"+l+"] Transitional option '"+H+"'"+B+(ee?". "+ee:"")}return function(H,B,$){if(!1===oe)throw new Error(le(B," has been removed"+(K?" in "+K:"")));return K&&!k[B]&&(k[B]=!0,console.warn(le(B," has been deprecated since v"+K+" and will be removed in the near future"))),!oe||oe(H,B,$)}},De.exports={assertOptions:function q(J,oe,K){if("object"!=typeof J)throw new TypeError("options must be an object");for(var ee=Object.keys(J),le=ee.length;le-- >0;){var H=ee[le],B=oe[H];if(B){var $=J[H],Oe=void 0===$||B($,H,J);if(!0!==Oe)throw new TypeError("option "+H+" must be "+Oe)}else if(!0!==K)throw Error("Unknown option "+H)}},validators:L}},4701:(De,me,M)=>{"use strict";var l=M(2414),L=Object.prototype.toString;function k(Y){return Array.isArray(Y)}function q(Y){return void 0===Y}function oe(Y){return"[object ArrayBuffer]"===L.call(Y)}function B(Y){return null!==Y&&"object"==typeof Y}function $(Y){if("[object Object]"!==L.call(Y))return!1;var ye=Object.getPrototypeOf(Y);return null===ye||ye===Object.prototype}function Le(Y){return"[object Function]"===L.call(Y)}function _e(Y,ye){if(null!=Y)if("object"!=typeof Y&&(Y=[Y]),k(Y))for(var N=0,G=Y.length;N<G;N++)ye.call(null,Y[N],N,Y);else for(var W in Y)Object.prototype.hasOwnProperty.call(Y,W)&&ye.call(null,Y[W],W,Y)}De.exports={isArray:k,isArrayBuffer:oe,isBuffer:function J(Y){return null!==Y&&!q(Y)&&null!==Y.constructor&&!q(Y.constructor)&&"function"==typeof Y.constructor.isBuffer&&Y.constructor.isBuffer(Y)},isFormData:function K(Y){return"[object FormData]"===L.call(Y)},isArrayBufferView:function ee(Y){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(Y):Y&&Y.buffer&&oe(Y.buffer)},isString:function le(Y){return"string"==typeof Y},isNumber:function H(Y){return"number"==typeof Y},isObject:B,isPlainObject:$,isUndefined:q,isDate:function Oe(Y){return"[object Date]"===L.call(Y)},isFile:function Se(Y){return"[object File]"===L.call(Y)},isBlob:function Me(Y){return"[object Blob]"===L.call(Y)},isFunction:Le,isStream:function be(Y){return B(Y)&&Le(Y.pipe)},isURLSearchParams:function Ee(Y){return"[object URLSearchParams]"===L.call(Y)},isStandardBrowserEnv:function Be(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:_e,merge:function $e(){var Y={};function ye(W,te){Y[te]=$(Y[te])&&$(W)?$e(Y[te],W):$(W)?$e({},W):k(W)?W.slice():W}for(var N=0,G=arguments.length;N<G;N++)_e(arguments[N],ye);return Y},extend:function Re(Y,ye,N){return _e(ye,function(W,te){Y[te]=N&&"function"==typeof W?l(W,N):W}),Y},trim:function ke(Y){return Y.trim?Y.trim():Y.replace(/^\s+|\s+$/g,"")},stripBOM:function Je(Y){return 65279===Y.charCodeAt(0)&&(Y=Y.slice(1)),Y}}},5867:(De,me,M)=>{"use strict";M.d(me,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=M(9681);(0,l.registerVersion)("firebase","9.8.2","app")},127:(De,me,M)=>{"use strict";M.d(me,{Z:()=>l.Z});var l=M(3942);l.Z.registerVersion("firebase","9.8.2","app-compat")},5881:(De,me,M)=>{"use strict";M.r(me);var l=M(9671),L=M(3942),k=M(2587),q=M(2090),K=(M(9681),M(1877),M(4859));function ee(){return window}function B(){return(B=(0,l.Z)(function*(ve,ce,se){var Pe;const{BuildInfo:Qe}=ee();(0,k.aq)(ce.sessionId,"AuthEvent did not contain a session ID");const pt=yield Ee(ce.sessionId),Rt={};return(0,k.ar)()?Rt.ibi=Qe.packageName:(0,k.as)()?Rt.apn=Qe.packageName:(0,k.at)(ve,"operation-not-supported-in-this-environment"),Qe.displayName&&(Rt.appDisplayName=Qe.displayName),Rt.sessionId=pt,(0,k.au)(ve,se,ce.type,void 0,null!==(Pe=ce.eventId)&&void 0!==Pe?Pe:void 0,Rt)})).apply(this,arguments)}function Oe(){return(Oe=(0,l.Z)(function*(ve){const{BuildInfo:ce}=ee(),se={};(0,k.ar)()?se.iosBundleId=ce.packageName:(0,k.as)()?se.androidPackageName=ce.packageName:(0,k.at)(ve,"operation-not-supported-in-this-environment"),yield(0,k.av)(ve,se)})).apply(this,arguments)}function Le(){return(Le=(0,l.Z)(function*(ve,ce,se){const{cordova:Pe}=ee();let Qe=()=>{};try{yield new Promise((pt,Rt)=>{let Xt=null;function $t(){var Wt;pt();const ji=null===(Wt=Pe.plugins.browsertab)||void 0===Wt?void 0:Wt.close;"function"==typeof ji&&ji(),"function"==typeof(null==se?void 0:se.close)&&se.close()}function Xn(){Xt||(Xt=window.setTimeout(()=>{Rt((0,k.aw)(ve,"redirect-cancelled-by-user"))},2e3))}function hr(){"visible"===(null==document?void 0:document.visibilityState)&&Xn()}ce.addPassiveListener($t),document.addEventListener("resume",Xn,!1),(0,k.as)()&&document.addEventListener("visibilitychange",hr,!1),Qe=()=>{ce.removePassiveListener($t),document.removeEventListener("resume",Xn,!1),document.removeEventListener("visibilitychange",hr,!1),Xt&&window.clearTimeout(Xt)}})}finally{Qe()}})).apply(this,arguments)}function Ee(ve){return ke.apply(this,arguments)}function ke(){return(ke=(0,l.Z)(function*(ve){const ce=Be(ve),se=yield crypto.subtle.digest("SHA-256",ce);return Array.from(new Uint8Array(se)).map(Qe=>Qe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Be(ve){if((0,k.aq)(/[0-9a-zA-Z]+/.test(ve),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ve);const ce=new ArrayBuffer(ve.length),se=new Uint8Array(ce);for(let Pe=0;Pe<ve.length;Pe++)se[Pe]=ve.charCodeAt(Pe);return se}class $e extends k.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ce=>{this.resolveInialized=ce})}addPassiveListener(ce){this.passiveListeners.add(ce)}removePassiveListener(ce){this.passiveListeners.delete(ce)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ce){return this.resolveInialized(),this.passiveListeners.forEach(se=>se(ce)),super.onEvent(ce)}initialized(){var ce=this;return(0,l.Z)(function*(){yield ce.initPromise})()}}function Y(ve){return ye.apply(this,arguments)}function ye(){return(ye=(0,l.Z)(function*(ve){const ce=yield W()._get(te(ve));return ce&&(yield W()._remove(te(ve))),ce})).apply(this,arguments)}function G(){const ve=[],ce="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let se=0;se<20;se++){const Pe=Math.floor(Math.random()*ce.length);ve.push(ce.charAt(Pe))}return ve.join("")}function W(){return(0,k.ay)(k.b)}function te(ve){return(0,k.az)("authEvent",ve.config.apiKey,ve.name)}function Ge(ve){if(!(null==ve?void 0:ve.includes("?")))return{};const[ce,...se]=ve.split("?");return(0,q.zd)(se.join("?"))}function ot(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.aw)("no-auth-event")}}function Gt(){var ve;return(null===(ve=null==self?void 0:self.location)||void 0===ve?void 0:ve.protocol)||null}function Un(ve=(0,q.z$)()){return!("file:"!==Gt()&&"ionic:"!==Gt()&&"capacitor:"!==Gt()||!ve.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sr(){try{const ve=self.localStorage,ce=k.aI();if(ve)return ve.setItem(ce,"1"),ve.removeItem(ce),!function hs(ve=(0,q.z$)()){return function Ui(){return(0,q.w1)()&&11===(null==document?void 0:document.documentMode)}()||function zn(ve=(0,q.z$)()){return/Edge\/\d+/.test(ve)}(ve)}()||(0,q.hl)()}catch(ve){return $r()&&(0,q.hl)()}return!1}function $r(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function qn(){return(function hn(){return"http:"===Gt()||"https:"===Gt()}()||(0,q.ru)()||Un())&&!function Gr(){return(0,q.b$)()||(0,q.UG)()}()&&Sr()&&!$r()}function fs(){return Un()&&"undefined"!=typeof document}function Yi(){return(Yi=(0,l.Z)(function*(){return!!fs()&&new Promise(ve=>{const ce=setTimeout(()=>{ve(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ce),ve(!0)})})})).apply(this,arguments)}const cn={LOCAL:"local",NONE:"none",SESSION:"session"},Ni=k.ax,_i="persistence";function Fn(ve){return yi.apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(ve){yield ve._initializationPromise;const ce=Kt(),se=k.az(_i,ve.config.apiKey,ve.name);ce&&ce.setItem(se,ve._getPersistence())})).apply(this,arguments)}function Kt(){var ve;try{return(null===(ve=function Nn(){return"undefined"!=typeof window?window:null}())||void 0===ve?void 0:ve.sessionStorage)||null}catch(ce){return null}}const gt=k.ax;class ct{constructor(){this.browserResolver=k.ay(k.k),this.cordovaResolver=k.ay(class dn{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(ce){var se=this;return(0,l.Z)(function*(){const Pe=ce._key();let Qe=se.eventManagers.get(Pe);return Qe||(Qe=new $e(ce),se.eventManagers.set(Pe,Qe),se.attachCallbackListeners(ce,Qe)),Qe})()}_openPopup(ce){(0,k.at)(ce,"operation-not-supported-in-this-environment")}_openRedirect(ce,se,Pe,Qe){var pt=this;return(0,l.Z)(function*(){!function be(ve){var ce,se,Pe,Qe,pt,Rt,Xt,$t,Xn,hr;const Wt=ee();(0,k.ax)("function"==typeof(null===(ce=null==Wt?void 0:Wt.universalLinks)||void 0===ce?void 0:ce.subscribe),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.ax)(void 0!==(null===(se=null==Wt?void 0:Wt.BuildInfo)||void 0===se?void 0:se.packageName),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.ax)("function"==typeof(null===(pt=null===(Qe=null===(Pe=null==Wt?void 0:Wt.cordova)||void 0===Pe?void 0:Pe.plugins)||void 0===Qe?void 0:Qe.browsertab)||void 0===pt?void 0:pt.openUrl),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===($t=null===(Xt=null===(Rt=null==Wt?void 0:Wt.cordova)||void 0===Rt?void 0:Rt.plugins)||void 0===Xt?void 0:Xt.browsertab)||void 0===$t?void 0:$t.isAvailable),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(hr=null===(Xn=null==Wt?void 0:Wt.cordova)||void 0===Xn?void 0:Xn.InAppBrowser)||void 0===hr?void 0:hr.open),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ce);const Rt=yield pt._initialize(ce);yield Rt.initialized(),Rt.resetRedirect(),(0,k.aD)(),yield pt._originValidation(ce);const Xt=function Re(ve,ce,se=null){return{type:ce,eventId:se,urlResponse:null,sessionId:G(),postBody:null,tenantId:ve.tenantId,error:(0,k.aw)(ve,"no-auth-event")}}(ce,Pe,Qe);yield function Je(ve,ce){return W()._set(te(ve),ce)}(ce,Xt);const $t=yield function H(ve,ce,se){return B.apply(this,arguments)}(ce,Xt,se),Xn=yield function Se(ve){const{cordova:ce}=ee();return new Promise(se=>{ce.plugins.browsertab.isAvailable(Pe=>{let Qe=null;Pe?ce.plugins.browsertab.openUrl(ve):Qe=ce.InAppBrowser.open(ve,(0,k.ap)()?"_blank":"_system","location=yes"),se(Qe)})})}($t);return function Me(ve,ce,se){return Le.apply(this,arguments)}(ce,Rt,Xn)})()}_isIframeWebStorageSupported(ce,se){throw new Error("Method not implemented.")}_originValidation(ce){const se=ce._key();return this.originValidationPromises[se]||(this.originValidationPromises[se]=function $(ve){return Oe.apply(this,arguments)}(ce)),this.originValidationPromises[se]}attachCallbackListeners(ce,se){const{universalLinks:Pe,handleOpenURL:Qe,BuildInfo:pt}=ee(),Rt=setTimeout((0,l.Z)(function*(){yield Y(ce),se.onEvent(ot())}),500),Xt=function(){var hr=(0,l.Z)(function*(Wt){clearTimeout(Rt);const ji=yield Y(ce);let gs=null;ji&&(null==Wt?void 0:Wt.url)&&(gs=function N(ve,ce){var se,Pe;const Qe=function X(ve){const ce=Ge(ve),se=ce.link?decodeURIComponent(ce.link):void 0,Pe=Ge(se).link,Qe=ce.deep_link_id?decodeURIComponent(ce.deep_link_id):void 0;return Ge(Qe).link||Qe||Pe||se||ve}(ce);if(Qe.includes("/__/auth/callback")){const pt=Ge(Qe),Rt=pt.firebaseError?function pe(ve){try{return JSON.parse(ve)}catch(ce){return null}}(decodeURIComponent(pt.firebaseError)):null,Xt=null===(Pe=null===(se=null==Rt?void 0:Rt.code)||void 0===se?void 0:se.split("auth/"))||void 0===Pe?void 0:Pe[1],$t=Xt?(0,k.aw)(Xt):null;return $t?{type:ve.type,eventId:ve.eventId,tenantId:ve.tenantId,error:$t,urlResponse:null,sessionId:null,postBody:null}:{type:ve.type,eventId:ve.eventId,tenantId:ve.tenantId,sessionId:ve.sessionId,urlResponse:Qe,postBody:null}}return null}(ji,Wt.url)),se.onEvent(gs||ot())});return function(ji){return hr.apply(this,arguments)}}();void 0!==Pe&&"function"==typeof Pe.subscribe&&Pe.subscribe(null,Xt);const $t=Qe,Xn=`${pt.packageName.toLowerCase()}://`;ee().handleOpenURL=function(){var hr=(0,l.Z)(function*(Wt){if(Wt.toLowerCase().startsWith(Xn)&&Xt({url:Wt}),"function"==typeof $t)try{$t(Wt)}catch(ji){console.error(ji)}});return function(Wt){return hr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(ce){var se=this;return(0,l.Z)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._initialize(ce)})()}_openPopup(ce,se,Pe,Qe){var pt=this;return(0,l.Z)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openPopup(ce,se,Pe,Qe)})()}_openRedirect(ce,se,Pe,Qe){var pt=this;return(0,l.Z)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openRedirect(ce,se,Pe,Qe)})()}_isIframeWebStorageSupported(ce,se){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ce,se)}_originValidation(ce){return this.assertedUnderlyingResolver._originValidation(ce)}get _shouldInitProactively(){return fs()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ce=this;return(0,l.Z)(function*(){if(ce.underlyingResolver)return;const se=yield function bt(){return Yi.apply(this,arguments)}();ce.underlyingResolver=se?ce.cordovaResolver:ce.browserResolver})()}}function xr(ve){return ve.unwrap()}function Yt(ve){return Zn(ve)}function Zn(ve){const{_tokenResponse:ce}=ve instanceof q.ZR?ve.customData:ve;if(!ce)return null;if(!(ve instanceof q.ZR)&&"temporaryProof"in ce&&"phoneNumber"in ce)return k.P.credentialFromResult(ve);const se=ce.providerId;if(!se||se===k.o.PASSWORD)return null;let Pe;switch(se){case k.o.GOOGLE:Pe=k.Q;break;case k.o.FACEBOOK:Pe=k.N;break;case k.o.GITHUB:Pe=k.T;break;case k.o.TWITTER:Pe=k.W;break;default:const{oauthIdToken:Qe,oauthAccessToken:pt,oauthTokenSecret:Rt,pendingToken:Xt,nonce:$t}=ce;return pt||Rt||Qe||Xt?Xt?se.startsWith("saml.")?k.aL._create(se,Xt):k.J._fromParams({providerId:se,signInMethod:se,pendingToken:Xt,idToken:Qe,accessToken:pt}):new k.U(se).credential({idToken:Qe,accessToken:pt,rawNonce:$t}):null}return ve instanceof q.ZR?Pe.credentialFromError(ve):Pe.credentialFromResult(ve)}function yn(ve,ce){return ce.catch(se=>{throw se instanceof q.ZR&&function ps(ve,ce){var se;const Pe=null===(se=ce.customData)||void 0===se?void 0:se._tokenResponse;if("auth/multi-factor-auth-required"===ce.code)ce.resolver=new ae(ve,k.an(ve,ce));else if(Pe){const Qe=Zn(ce),pt=ce;Qe&&(pt.credential=Qe,pt.tenantId=Pe.tenantId||void 0,pt.email=Pe.email||void 0,pt.phoneNumber=Pe.phoneNumber||void 0)}}(ve,se),se}).then(se=>{const Qe=se.user;return{operationType:se.operationType,credential:Yt(se),additionalUserInfo:k.al(se),user:xe.getOrCreate(Qe)}})}function Q(ve,ce){return re.apply(this,arguments)}function re(){return(re=(0,l.Z)(function*(ve,ce){const se=yield ce;return{verificationId:se.verificationId,confirm:Pe=>yn(ve,se.confirm(Pe))}})).apply(this,arguments)}class ae{constructor(ce,se){this.resolver=se,this.auth=function Ar(ve){return ve.wrapped()}(ce)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ce){return yn(xr(this.auth),this.resolver.resolveSignIn(ce))}}class xe{constructor(ce){this._delegate=ce,this.multiFactor=k.ao(ce)}static getOrCreate(ce){return xe.USER_MAP.has(ce)||xe.USER_MAP.set(ce,new xe(ce)),xe.USER_MAP.get(ce)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ce){return this._delegate.getIdTokenResult(ce)}getIdToken(ce){return this._delegate.getIdToken(ce)}linkAndRetrieveDataWithCredential(ce){return this.linkWithCredential(ce)}linkWithCredential(ce){var se=this;return(0,l.Z)(function*(){return yn(se.auth,k.Z(se._delegate,ce))})()}linkWithPhoneNumber(ce,se){var Pe=this;return(0,l.Z)(function*(){return Q(Pe.auth,k.l(Pe._delegate,ce,se))})()}linkWithPopup(ce){var se=this;return(0,l.Z)(function*(){return yn(se.auth,k.d(se._delegate,ce,ct))})()}linkWithRedirect(ce){var se=this;return(0,l.Z)(function*(){return yield Fn(k.aE(se.auth)),k.g(se._delegate,ce,ct)})()}reauthenticateAndRetrieveDataWithCredential(ce){return this.reauthenticateWithCredential(ce)}reauthenticateWithCredential(ce){var se=this;return(0,l.Z)(function*(){return yn(se.auth,k._(se._delegate,ce))})()}reauthenticateWithPhoneNumber(ce,se){return Q(this.auth,k.r(this._delegate,ce,se))}reauthenticateWithPopup(ce){return yn(this.auth,k.e(this._delegate,ce,ct))}reauthenticateWithRedirect(ce){var se=this;return(0,l.Z)(function*(){return yield Fn(k.aE(se.auth)),k.h(se._delegate,ce,ct)})()}sendEmailVerification(ce){return k.ab(this._delegate,ce)}unlink(ce){var se=this;return(0,l.Z)(function*(){return yield k.ak(se._delegate,ce),se})()}updateEmail(ce){return k.ag(this._delegate,ce)}updatePassword(ce){return k.ah(this._delegate,ce)}updatePhoneNumber(ce){return k.u(this._delegate,ce)}updateProfile(ce){return k.af(this._delegate,ce)}verifyBeforeUpdateEmail(ce,se){return k.ac(this._delegate,ce,se)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xe.USER_MAP=new WeakMap;const ne=k.ax;let fe=(()=>{class ve{constructor(se,Pe){if(this.app=se,Pe.isInitialized())return this._delegate=Pe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Qe}=se.options;ne(Qe,"invalid-api-key",{appName:se.name}),ne(Qe,"invalid-api-key",{appName:se.name});const pt="undefined"!=typeof window?ct:void 0;this._delegate=Pe.initialize({options:{persistence:tt(Qe,se.name),popupRedirectResolver:pt}}),this._delegate._updateErrorMap(k.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(se){this._delegate.languageCode=se}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(se){this._delegate.tenantId=se}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(se,Pe){k.G(this._delegate,se,Pe)}applyActionCode(se){return k.a2(this._delegate,se)}checkActionCode(se){return k.a3(this._delegate,se)}confirmPasswordReset(se,Pe){return k.a1(this._delegate,se,Pe)}createUserWithEmailAndPassword(se,Pe){var Qe=this;return(0,l.Z)(function*(){return yn(Qe._delegate,k.a5(Qe._delegate,se,Pe))})()}fetchProvidersForEmail(se){return this.fetchSignInMethodsForEmail(se)}fetchSignInMethodsForEmail(se){return k.aa(this._delegate,se)}isSignInWithEmailLink(se){return k.a8(this._delegate,se)}getRedirectResult(){var se=this;return(0,l.Z)(function*(){ne(qn(),se._delegate,"operation-not-supported-in-this-environment");const Pe=yield k.j(se._delegate,ct);return Pe?yn(se._delegate,Promise.resolve(Pe)):{credential:null,user:null}})()}addFrameworkForLogging(se){!function _n(ve,ce){(0,k.aE)(ve)._logFramework(ce)}(this._delegate,se)}onAuthStateChanged(se,Pe,Qe){const{next:pt,error:Rt,complete:Xt}=je(se,Pe,Qe);return this._delegate.onAuthStateChanged(pt,Rt,Xt)}onIdTokenChanged(se,Pe,Qe){const{next:pt,error:Rt,complete:Xt}=je(se,Pe,Qe);return this._delegate.onIdTokenChanged(pt,Rt,Xt)}sendSignInLinkToEmail(se,Pe){return k.a7(this._delegate,se,Pe)}sendPasswordResetEmail(se,Pe){return k.a0(this._delegate,se,Pe||void 0)}setPersistence(se){var Pe=this;return(0,l.Z)(function*(){let Qe;switch(function Qi(ve,ce){Ni(Object.values(cn).includes(ce),ve,"invalid-persistence-type"),(0,q.b$)()?Ni(ce!==cn.SESSION,ve,"unsupported-persistence-type"):(0,q.UG)()?Ni(ce===cn.NONE,ve,"unsupported-persistence-type"):$r()?Ni(ce===cn.NONE||ce===cn.LOCAL&&(0,q.hl)(),ve,"unsupported-persistence-type"):Ni(ce===cn.NONE||Sr(),ve,"unsupported-persistence-type")}(Pe._delegate,se),se){case cn.SESSION:Qe=k.a;break;case cn.LOCAL:Qe=(yield k.ay(k.i)._isAvailable())?k.i:k.b;break;case cn.NONE:Qe=k.L;break;default:return k.at("argument-error",{appName:Pe._delegate.name})}return Pe._delegate.setPersistence(Qe)})()}signInAndRetrieveDataWithCredential(se){return this.signInWithCredential(se)}signInAnonymously(){return yn(this._delegate,k.X(this._delegate))}signInWithCredential(se){return yn(this._delegate,k.Y(this._delegate,se))}signInWithCustomToken(se){return yn(this._delegate,k.$(this._delegate,se))}signInWithEmailAndPassword(se,Pe){return yn(this._delegate,k.a6(this._delegate,se,Pe))}signInWithEmailLink(se,Pe){return yn(this._delegate,k.a9(this._delegate,se,Pe))}signInWithPhoneNumber(se,Pe){return Q(this._delegate,k.s(this._delegate,se,Pe))}signInWithPopup(se){var Pe=this;return(0,l.Z)(function*(){return ne(qn(),Pe._delegate,"operation-not-supported-in-this-environment"),yn(Pe._delegate,k.c(Pe._delegate,se,ct))})()}signInWithRedirect(se){var Pe=this;return(0,l.Z)(function*(){return ne(qn(),Pe._delegate,"operation-not-supported-in-this-environment"),yield Fn(Pe._delegate),k.f(Pe._delegate,se,ct)})()}updateCurrentUser(se){return this._delegate.updateCurrentUser(se)}verifyPasswordResetCode(se){return k.a4(this._delegate,se)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ve.Persistence=cn,ve})();function je(ve,ce,se){let Pe=ve;"function"!=typeof ve&&({next:Pe,error:ce,complete:se}=ve);const Qe=Pe;return{next:Rt=>Qe(Rt&&xe.getOrCreate(Rt)),error:ce,complete:se}}function tt(ve,ce){const se=function Rs(ve,ce){const se=Kt();if(!se)return[];const Pe=k.az(_i,ve,ce);switch(se.getItem(Pe)){case cn.NONE:return[k.L];case cn.LOCAL:return[k.i,k.a];case cn.SESSION:return[k.a];default:return[]}}(ve,ce);if("undefined"!=typeof self&&!se.includes(k.i)&&se.push(k.i),"undefined"!=typeof window)for(const Pe of[k.b,k.a])se.includes(Pe)||se.push(Pe);return se.includes(k.L)||se.push(k.L),se}class vt{constructor(){this.providerId="phone",this._delegate=new k.P(xr(L.Z.auth()))}static credential(ce,se){return k.P.credential(ce,se)}verifyPhoneNumber(ce,se){return this._delegate.verifyPhoneNumber(ce,se)}unwrap(){return this._delegate}}vt.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,vt.PROVIDER_ID=k.P.PROVIDER_ID;const Pt=k.ax;class gn{constructor(ce,se,Pe=L.Z.app()){var Qe;Pt(null===(Qe=Pe.options)||void 0===Qe?void 0:Qe.apiKey,"invalid-api-key",{appName:Pe.name}),this._delegate=new k.R(ce,se,Pe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function li(ve){ve.INTERNAL.registerComponent(new K.wA("auth-compat",ce=>{const se=ce.getProvider("app-compat").getImmediate(),Pe=ce.getProvider("auth");return new fe(se,Pe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.M,FacebookAuthProvider:k.N,GithubAuthProvider:k.T,GoogleAuthProvider:k.Q,OAuthProvider:k.U,SAMLAuthProvider:k.V,PhoneAuthProvider:vt,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:gn,TwitterAuthProvider:k.W,Auth:fe,AuthCredential:k.H,Error:q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ve.registerVersion("@firebase/auth-compat","0.2.15")}(L.Z)},8306:(De,me,M)=>{"use strict";M.d(me,{y:()=>H});var l=M(930),L=M(727),k=M(8822),q=M(4671);var K=M(2416),ee=M(576),le=M(2806);let H=(()=>{class Se{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const be=new Se;return be.source=this,be.operator=Le,be}subscribe(Le,be,Ee){const ke=function Oe(Se){return Se&&Se instanceof l.Lv||function $(Se){return Se&&(0,ee.m)(Se.next)&&(0,ee.m)(Se.error)&&(0,ee.m)(Se.complete)}(Se)&&(0,L.Nn)(Se)}(Le)?Le:new l.Hp(Le,be,Ee);return(0,le.x)(()=>{const{operator:Be,source:_e}=this;ke.add(Be?Be.call(ke,_e):_e?this._subscribe(ke):this._trySubscribe(ke))}),ke}_trySubscribe(Le){try{return this._subscribe(Le)}catch(be){Le.error(be)}}forEach(Le,be){return new(be=B(be))((Ee,ke)=>{let Be;Be=this.subscribe(_e=>{try{Le(_e)}catch($e){ke($e),null==Be||Be.unsubscribe()}},ke,Ee)})}_subscribe(Le){var be;return null===(be=this.source)||void 0===be?void 0:be.subscribe(Le)}[k.L](){return this}pipe(...Le){return function oe(Se){return 0===Se.length?q.y:1===Se.length?Se[0]:function(Le){return Se.reduce((be,Ee)=>Ee(be),Le)}}(Le)(this)}toPromise(Le){return new(Le=B(Le))((be,Ee)=>{let ke;this.subscribe(Be=>ke=Be,Be=>Ee(Be),()=>be(ke))})}}return Se.create=Me=>new Se(Me),Se})();function B(Se){var Me;return null!==(Me=null!=Se?Se:K.v.Promise)&&void 0!==Me?Me:Promise}},7579:(De,me,M)=>{"use strict";M.d(me,{x:()=>K});var l=M(8306),L=M(727);const q=(0,M(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=M(8737),oe=M(2806);let K=(()=>{class le extends l.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const $=new ee(this,this);return $.operator=B,$}_throwIfClosed(){if(this.closed)throw new q}next(B){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const $=this.observers.slice();for(const Oe of $)Oe.next(B)}})}error(B){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:$}=this;for(;$.length;)$.shift().error(B)}})}complete(){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:$,isStopped:Oe,observers:Se}=this;return $||Oe?L.Lc:(Se.push(B),new L.w0(()=>(0,J.P)(Se,B)))}_checkFinalizedStatuses(B){const{hasError:$,thrownError:Oe,isStopped:Se}=this;$?B.error(Oe):Se&&B.complete()}asObservable(){const B=new l.y;return B.source=this,B}}return le.create=(H,B)=>new ee(H,B),le})();class ee extends K{constructor(H,B){super(),this.destination=H,this.source=B}next(H){var B,$;null===($=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===$||$.call(B,H)}error(H){var B,$;null===($=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===$||$.call(B,H)}complete(){var H,B;null===(B=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===B||B.call(H)}_subscribe(H){var B,$;return null!==($=null===(B=this.source)||void 0===B?void 0:B.subscribe(H))&&void 0!==$?$:L.Lc}}},930:(De,me,M)=>{"use strict";M.d(me,{Hp:()=>Oe,Lv:()=>$});var l=M(576),L=M(727),k=M(2416),q=M(7849),J=M(5032);const oe=le("C",void 0,void 0);function le(Ee,ke,Be){return{kind:Ee,value:ke,error:Be}}var H=M(3410),B=M(2806);class $ extends L.w0{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,L.Nn)(ke)&&ke.add(this)):this.destination=be}static create(ke,Be,_e){return new Oe(ke,Be,_e)}next(ke){this.isStopped?Le(function ee(Ee){return le("N",Ee,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?Le(function K(Ee){return le("E",void 0,Ee)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?Le(oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Oe extends ${constructor(ke,Be,_e){let $e;if(super(),(0,l.m)(ke))$e=ke;else if(ke){let Re;({next:$e,error:Be,complete:_e}=ke),this&&k.v.useDeprecatedNextContext?(Re=Object.create(ke),Re.unsubscribe=()=>this.unsubscribe()):Re=ke,$e=null==$e?void 0:$e.bind(Re),Be=null==Be?void 0:Be.bind(Re),_e=null==_e?void 0:_e.bind(Re)}this.destination={next:$e?Se($e):J.Z,error:Se(null!=Be?Be:Me),complete:_e?Se(_e):J.Z}}}function Se(Ee,ke){return(...Be)=>{try{Ee(...Be)}catch(_e){k.v.useDeprecatedSynchronousErrorHandling?(0,B.O)(_e):(0,q.h)(_e)}}}function Me(Ee){throw Ee}function Le(Ee,ke){const{onStoppedNotification:Be}=k.v;Be&&H.z.setTimeout(()=>Be(Ee,ke))}const be={closed:!0,next:J.Z,error:Me,complete:J.Z}},727:(De,me,M)=>{"use strict";M.d(me,{Lc:()=>oe,w0:()=>J,Nn:()=>K});var l=M(576);const k=(0,M(3888).d)(le=>function(B){le(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map(($,Oe)=>`${Oe+1}) ${$.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var q=M(8737);class J{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const Se of B)Se.remove(this);else B.remove(this);const{initialTeardown:$}=this;if((0,l.m)($))try{$()}catch(Se){H=Se instanceof k?Se.errors:[Se]}const{_teardowns:Oe}=this;if(Oe){this._teardowns=null;for(const Se of Oe)try{ee(Se)}catch(Me){H=null!=H?H:[],Me instanceof k?H=[...H,...Me.errors]:H.push(Me)}}if(H)throw new k(H)}}add(H){var B;if(H&&H!==this)if(this.closed)ee(H);else{if(H instanceof J){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._teardowns=null!==(B=this._teardowns)&&void 0!==B?B:[]).push(H)}}_hasParent(H){const{_parentage:B}=this;return B===H||Array.isArray(B)&&B.includes(H)}_addParent(H){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(H),B):B?[B,H]:H}_removeParent(H){const{_parentage:B}=this;B===H?this._parentage=null:Array.isArray(B)&&(0,q.P)(B,H)}remove(H){const{_teardowns:B}=this;B&&(0,q.P)(B,H),H instanceof J&&H._removeParent(this)}}J.EMPTY=(()=>{const le=new J;return le.closed=!0,le})();const oe=J.EMPTY;function K(le){return le instanceof J||le&&"closed"in le&&(0,l.m)(le.remove)&&(0,l.m)(le.add)&&(0,l.m)(le.unsubscribe)}function ee(le){(0,l.m)(le)?le():le.unsubscribe()}},2416:(De,me,M)=>{"use strict";M.d(me,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(De,me,M)=>{"use strict";M.d(me,{E:()=>L});const L=new(M(8306).y)(J=>J.complete())},8996:(De,me,M)=>{"use strict";M.d(me,{D:()=>$e});var l=M(8421),L=M(5363),k=M(9468),oe=M(8306),ee=M(2202),le=M(576),H=M(9672);function $(Re,Je){if(!Re)throw new Error("Iterable cannot be null");return new oe.y(Y=>{(0,H.f)(Y,Je,()=>{const ye=Re[Symbol.asyncIterator]();(0,H.f)(Y,Je,()=>{ye.next().then(N=>{N.done?Y.complete():Y.next(N.value)})},0,!0)})})}var Oe=M(3670),Se=M(8239),Me=M(1144),Le=M(6495),be=M(2206),Ee=M(4532),ke=M(3260);function $e(Re,Je){return Je?function _e(Re,Je){if(null!=Re){if((0,Oe.c)(Re))return function q(Re,Je){return(0,l.Xf)(Re).pipe((0,k.R)(Je),(0,L.Q)(Je))}(Re,Je);if((0,Me.z)(Re))return function K(Re,Je){return new oe.y(Y=>{let ye=0;return Je.schedule(function(){ye===Re.length?Y.complete():(Y.next(Re[ye++]),Y.closed||this.schedule())})})}(Re,Je);if((0,Se.t)(Re))return function J(Re,Je){return(0,l.Xf)(Re).pipe((0,k.R)(Je),(0,L.Q)(Je))}(Re,Je);if((0,be.D)(Re))return $(Re,Je);if((0,Le.T)(Re))return function B(Re,Je){return new oe.y(Y=>{let ye;return(0,H.f)(Y,Je,()=>{ye=Re[ee.h](),(0,H.f)(Y,Je,()=>{let N,G;try{({value:N,done:G}=ye.next())}catch(W){return void Y.error(W)}G?Y.complete():Y.next(N)},0,!0)}),()=>(0,le.m)(null==ye?void 0:ye.return)&&ye.return()})}(Re,Je);if((0,ke.L)(Re))return function Be(Re,Je){return $((0,ke.Q)(Re),Je)}(Re,Je)}throw(0,Ee.z)(Re)}(Re,Je):(0,l.Xf)(Re)}},8421:(De,me,M)=>{"use strict";M.d(me,{Xf:()=>Oe});var l=M(5987),L=M(1144),k=M(8239),q=M(8306),J=M(3670),oe=M(2206),K=M(4532),ee=M(6495),le=M(3260),H=M(576),B=M(7849),$=M(8822);function Oe(_e){if(_e instanceof q.y)return _e;if(null!=_e){if((0,J.c)(_e))return function Se(_e){return new q.y($e=>{const Re=_e[$.L]();if((0,H.m)(Re.subscribe))return Re.subscribe($e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_e);if((0,L.z)(_e))return function Me(_e){return new q.y($e=>{for(let Re=0;Re<_e.length&&!$e.closed;Re++)$e.next(_e[Re]);$e.complete()})}(_e);if((0,k.t)(_e))return function Le(_e){return new q.y($e=>{_e.then(Re=>{$e.closed||($e.next(Re),$e.complete())},Re=>$e.error(Re)).then(null,B.h)})}(_e);if((0,oe.D)(_e))return Ee(_e);if((0,ee.T)(_e))return function be(_e){return new q.y($e=>{for(const Re of _e)if($e.next(Re),$e.closed)return;$e.complete()})}(_e);if((0,le.L)(_e))return function ke(_e){return Ee((0,le.Q)(_e))}(_e)}throw(0,K.z)(_e)}function Ee(_e){return new q.y($e=>{(function Be(_e,$e){var Re,Je,Y,ye;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Re=(0,l.KL)(_e);!(Je=yield Re.next()).done;)if($e.next(Je.value),$e.closed)return}catch(N){Y={error:N}}finally{try{Je&&!Je.done&&(ye=Re.return)&&(yield ye.call(Re))}finally{if(Y)throw Y.error}}$e.complete()})})(_e,$e).catch(Re=>$e.error(Re))})}},6451:(De,me,M)=>{"use strict";M.d(me,{T:()=>oe});var l=M(8189),L=M(8421),k=M(515),q=M(3269),J=M(8996);function oe(...K){const ee=(0,q.yG)(K),le=(0,q._6)(K,1/0),H=K;return H.length?1===H.length?(0,L.Xf)(H[0]):(0,l.J)(le)((0,J.D)(H,ee)):k.E}},5403:(De,me,M)=>{"use strict";M.d(me,{Q:()=>L});var l=M(930);class L extends l.Lv{constructor(q,J,oe,K,ee){super(q),this.onFinalize=ee,this._next=J?function(le){try{J(le)}catch(H){q.error(H)}}:super._next,this._error=K?function(le){try{K(le)}catch(H){q.error(H)}finally{this.unsubscribe()}}:super._error,this._complete=oe?function(){try{oe()}catch(le){q.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var q;const{closed:J}=this;super.unsubscribe(),!J&&(null===(q=this.onFinalize)||void 0===q||q.call(this))}}},4004:(De,me,M)=>{"use strict";M.d(me,{U:()=>k});var l=M(4482),L=M(5403);function k(q,J){return(0,l.e)((oe,K)=>{let ee=0;oe.subscribe(new L.Q(K,le=>{K.next(q.call(J,le,ee++))}))})}},8189:(De,me,M)=>{"use strict";M.d(me,{J:()=>k});var l=M(5577),L=M(4671);function k(q=1/0){return(0,l.z)(L.y,q)}},5577:(De,me,M)=>{"use strict";M.d(me,{z:()=>ee});var l=M(4004),L=M(8421),k=M(4482),q=M(9672),J=M(5403),K=M(576);function ee(le,H,B=1/0){return(0,K.m)(H)?ee(($,Oe)=>(0,l.U)((Se,Me)=>H($,Se,Oe,Me))((0,L.Xf)(le($,Oe))),B):("number"==typeof H&&(B=H),(0,k.e)(($,Oe)=>function oe(le,H,B,$,Oe,Se,Me,Le){const be=[];let Ee=0,ke=0,Be=!1;const _e=()=>{Be&&!be.length&&!Ee&&H.complete()},$e=Je=>Ee<$?Re(Je):be.push(Je),Re=Je=>{Se&&H.next(Je),Ee++;let Y=!1;(0,L.Xf)(B(Je,ke++)).subscribe(new J.Q(H,ye=>{null==Oe||Oe(ye),Se?$e(ye):H.next(ye)},()=>{Y=!0},void 0,()=>{if(Y)try{for(Ee--;be.length&&Ee<$;){const ye=be.shift();Me?(0,q.f)(H,Me,()=>Re(ye)):Re(ye)}_e()}catch(ye){H.error(ye)}}))};return le.subscribe(new J.Q(H,$e,()=>{Be=!0,_e()})),()=>{null==Le||Le()}}($,Oe,le,B)))}},5363:(De,me,M)=>{"use strict";M.d(me,{Q:()=>q});var l=M(9672),L=M(4482),k=M(5403);function q(J,oe=0){return(0,L.e)((K,ee)=>{K.subscribe(new k.Q(ee,le=>(0,l.f)(ee,J,()=>ee.next(le),oe),()=>(0,l.f)(ee,J,()=>ee.complete(),oe),le=>(0,l.f)(ee,J,()=>ee.error(le),oe)))})}},3099:(De,me,M)=>{"use strict";M.d(me,{B:()=>oe});var l=M(8996),L=M(5698),k=M(7579),q=M(930),J=M(4482);function oe(ee={}){const{connector:le=(()=>new k.x),resetOnError:H=!0,resetOnComplete:B=!0,resetOnRefCountZero:$=!0}=ee;return Oe=>{let Se=null,Me=null,Le=null,be=0,Ee=!1,ke=!1;const Be=()=>{null==Me||Me.unsubscribe(),Me=null},_e=()=>{Be(),Se=Le=null,Ee=ke=!1},$e=()=>{const Re=Se;_e(),null==Re||Re.unsubscribe()};return(0,J.e)((Re,Je)=>{be++,!ke&&!Ee&&Be();const Y=Le=null!=Le?Le:le();Je.add(()=>{be--,0===be&&!ke&&!Ee&&(Me=K($e,$))}),Y.subscribe(Je),Se||(Se=new q.Hp({next:ye=>Y.next(ye),error:ye=>{ke=!0,Be(),Me=K(_e,H,ye),Y.error(ye)},complete:()=>{Ee=!0,Be(),Me=K(_e,B),Y.complete()}}),(0,l.D)(Re).subscribe(Se))})(Oe)}}function K(ee,le,...H){return!0===le?(ee(),null):!1===le?null:le(...H).pipe((0,L.q)(1)).subscribe(()=>ee())}},9468:(De,me,M)=>{"use strict";M.d(me,{R:()=>L});var l=M(4482);function L(k,q=0){return(0,l.e)((J,oe)=>{oe.add(k.schedule(()=>J.subscribe(oe),q))})}},5698:(De,me,M)=>{"use strict";M.d(me,{q:()=>q});var l=M(515),L=M(4482),k=M(5403);function q(J){return J<=0?()=>l.E:(0,L.e)((oe,K)=>{let ee=0;oe.subscribe(new k.Q(K,le=>{++ee<=J&&(K.next(le),J<=ee&&K.complete())}))})}},8505:(De,me,M)=>{"use strict";M.d(me,{b:()=>J});var l=M(576),L=M(4482),k=M(5403),q=M(4671);function J(oe,K,ee){const le=(0,l.m)(oe)||K||ee?{next:oe,error:K,complete:ee}:oe;return le?(0,L.e)((H,B)=>{var $;null===($=le.subscribe)||void 0===$||$.call(le);let Oe=!0;H.subscribe(new k.Q(B,Se=>{var Me;null===(Me=le.next)||void 0===Me||Me.call(le,Se),B.next(Se)},()=>{var Se;Oe=!1,null===(Se=le.complete)||void 0===Se||Se.call(le),B.complete()},Se=>{var Me;Oe=!1,null===(Me=le.error)||void 0===Me||Me.call(le,Se),B.error(Se)},()=>{var Se,Me;Oe&&(null===(Se=le.unsubscribe)||void 0===Se||Se.call(le)),null===(Me=le.finalize)||void 0===Me||Me.call(le)}))}):q.y}},4408:(De,me,M)=>{"use strict";M.d(me,{o:()=>J});var l=M(727);class L extends l.w0{constructor(K,ee){super()}schedule(K,ee=0){return this}}const k={setInterval(...oe){const{delegate:K}=k;return((null==K?void 0:K.setInterval)||setInterval)(...oe)},clearInterval(oe){const{delegate:K}=k;return((null==K?void 0:K.clearInterval)||clearInterval)(oe)},delegate:void 0};var q=M(8737);class J extends L{constructor(K,ee){super(K,ee),this.scheduler=K,this.work=ee,this.pending=!1}schedule(K,ee=0){if(this.closed)return this;this.state=K;const le=this.id,H=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(H,le,ee)),this.pending=!0,this.delay=ee,this.id=this.id||this.requestAsyncId(H,this.id,ee),this}requestAsyncId(K,ee,le=0){return k.setInterval(K.flush.bind(K,this),le)}recycleAsyncId(K,ee,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return ee;k.clearInterval(ee)}execute(K,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(K,ee);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(K,ee){let H,le=!1;try{this.work(K)}catch(B){le=!0,H=B||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:K,scheduler:ee}=this,{actions:le}=ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,q.P)(le,this),null!=K&&(this.id=this.recycleAsyncId(ee,K,null)),this.delay=null,super.unsubscribe()}}}},7565:(De,me,M)=>{"use strict";M.d(me,{v:()=>k});var l=M(6063);class L{constructor(J,oe=L.now){this.schedulerActionCtor=J,this.now=oe}schedule(J,oe=0,K){return new this.schedulerActionCtor(this,J).schedule(K,oe)}}L.now=l.l.now;class k extends L{constructor(J,oe=L.now){super(J,oe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(J){const{actions:oe}=this;if(this._active)return void oe.push(J);let K;this._active=!0;do{if(K=J.execute(J.state,J.delay))break}while(J=oe.shift());if(this._active=!1,K){for(;J=oe.shift();)J.unsubscribe();throw K}}}},4986:(De,me,M)=>{"use strict";M.d(me,{P:()=>q,z:()=>k});var l=M(4408);const k=new(M(7565).v)(l.o),q=k},6063:(De,me,M)=>{"use strict";M.d(me,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(De,me,M)=>{"use strict";M.d(me,{z:()=>l});const l={setTimeout(...L){const{delegate:k}=l;return((null==k?void 0:k.setTimeout)||setTimeout)(...L)},clearTimeout(L){const{delegate:k}=l;return((null==k?void 0:k.clearTimeout)||clearTimeout)(L)},delegate:void 0}},2202:(De,me,M)=>{"use strict";M.d(me,{h:()=>L});const L=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(De,me,M)=>{"use strict";M.d(me,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(De,me,M)=>{"use strict";M.d(me,{_6:()=>oe,jO:()=>q,yG:()=>J});var l=M(576),L=M(3532);function k(K){return K[K.length-1]}function q(K){return(0,l.m)(k(K))?K.pop():void 0}function J(K){return(0,L.K)(k(K))?K.pop():void 0}function oe(K,ee){return"number"==typeof k(K)?K.pop():ee}},8737:(De,me,M)=>{"use strict";function l(L,k){if(L){const q=L.indexOf(k);0<=q&&L.splice(q,1)}}M.d(me,{P:()=>l})},3888:(De,me,M)=>{"use strict";function l(L){const q=L(J=>{Error.call(J),J.stack=(new Error).stack});return q.prototype=Object.create(Error.prototype),q.prototype.constructor=q,q}M.d(me,{d:()=>l})},2806:(De,me,M)=>{"use strict";M.d(me,{O:()=>q,x:()=>k});var l=M(2416);let L=null;function k(J){if(l.v.useDeprecatedSynchronousErrorHandling){const oe=!L;if(oe&&(L={errorThrown:!1,error:null}),J(),oe){const{errorThrown:K,error:ee}=L;if(L=null,K)throw ee}}else J()}function q(J){l.v.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=J)}},9672:(De,me,M)=>{"use strict";function l(L,k,q,J=0,oe=!1){const K=k.schedule(function(){q(),oe?L.add(this.schedule(null,J)):this.unsubscribe()},J);if(L.add(K),!oe)return K}M.d(me,{f:()=>l})},4671:(De,me,M)=>{"use strict";function l(L){return L}M.d(me,{y:()=>l})},1144:(De,me,M)=>{"use strict";M.d(me,{z:()=>l});const l=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(De,me,M)=>{"use strict";M.d(me,{D:()=>L});var l=M(576);function L(k){return Symbol.asyncIterator&&(0,l.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(De,me,M)=>{"use strict";function l(L){return"function"==typeof L}M.d(me,{m:()=>l})},3670:(De,me,M)=>{"use strict";M.d(me,{c:()=>k});var l=M(8822),L=M(576);function k(q){return(0,L.m)(q[l.L])}},6495:(De,me,M)=>{"use strict";M.d(me,{T:()=>k});var l=M(2202),L=M(576);function k(q){return(0,L.m)(null==q?void 0:q[l.h])}},8239:(De,me,M)=>{"use strict";M.d(me,{t:()=>L});var l=M(576);function L(k){return(0,l.m)(null==k?void 0:k.then)}},3260:(De,me,M)=>{"use strict";M.d(me,{L:()=>q,Q:()=>k});var l=M(5987),L=M(576);function k(J){return(0,l.FC)(this,arguments,function*(){const K=J.getReader();try{for(;;){const{value:ee,done:le}=yield(0,l.qq)(K.read());if(le)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ee)}}finally{K.releaseLock()}})}function q(J){return(0,L.m)(null==J?void 0:J.getReader)}},3532:(De,me,M)=>{"use strict";M.d(me,{K:()=>L});var l=M(576);function L(k){return k&&(0,l.m)(k.schedule)}},4482:(De,me,M)=>{"use strict";M.d(me,{A:()=>L,e:()=>k});var l=M(576);function L(q){return(0,l.m)(null==q?void 0:q.lift)}function k(q){return J=>{if(L(J))return J.lift(function(oe){try{return q(oe,this)}catch(K){this.error(K)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(De,me,M)=>{"use strict";function l(){}M.d(me,{Z:()=>l})},7849:(De,me,M)=>{"use strict";M.d(me,{h:()=>k});var l=M(2416),L=M(3410);function k(q){L.z.setTimeout(()=>{const{onUnhandledError:J}=l.v;if(!J)throw q;J(q)})}},4532:(De,me,M)=>{"use strict";function l(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(me,{z:()=>l})},5987:(De,me,M)=>{"use strict";function ee(N,G,W,te){return new(W||(W=Promise))(function(X,Ge){function dt(ot){try{He(te.next(ot))}catch(_n){Ge(_n)}}function dn(ot){try{He(te.throw(ot))}catch(_n){Ge(_n)}}function He(ot){ot.done?X(ot.value):function pe(X){return X instanceof W?X:new W(function(Ge){Ge(X)})}(ot.value).then(dt,dn)}He((te=te.apply(N,G||[])).next())})}function be(N){return this instanceof be?(this.v=N,this):new be(N)}function Ee(N,G,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,te=W.apply(N,G||[]),X=[];return pe={},Ge("next"),Ge("throw"),Ge("return"),pe[Symbol.asyncIterator]=function(){return this},pe;function Ge(Tt){te[Tt]&&(pe[Tt]=function(Pn){return new Promise(function(sn,Gt){X.push([Tt,Pn,sn,Gt])>1||dt(Tt,Pn)})})}function dt(Tt,Pn){try{!function dn(Tt){Tt.value instanceof be?Promise.resolve(Tt.value.v).then(He,ot):_n(X[0][2],Tt)}(te[Tt](Pn))}catch(sn){_n(X[0][3],sn)}}function He(Tt){dt("next",Tt)}function ot(Tt){dt("throw",Tt)}function _n(Tt,Pn){Tt(Pn),X.shift(),X.length&&dt(X[0][0],X[0][1])}}function Be(N){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,G=N[Symbol.asyncIterator];return G?G.call(N):(N=function $(N){var G="function"==typeof Symbol&&Symbol.iterator,W=G&&N[G],te=0;if(W)return W.call(N);if(N&&"number"==typeof N.length)return{next:function(){return N&&te>=N.length&&(N=void 0),{value:N&&N[te++],done:!N}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}(N),W={},te("next"),te("throw"),te("return"),W[Symbol.asyncIterator]=function(){return this},W);function te(X){W[X]=N[X]&&function(Ge){return new Promise(function(dt,dn){!function pe(X,Ge,dt,dn){Promise.resolve(dn).then(function(He){X({value:He,done:dt})},Ge)}(dt,dn,(Ge=N[X](Ge)).done,Ge.value)})}}}M.d(me,{FC:()=>Ee,KL:()=>Be,mG:()=>ee,qq:()=>be})},655:(De,me,M)=>{"use strict";function q(N,G){var W={};for(var te in N)Object.prototype.hasOwnProperty.call(N,te)&&G.indexOf(te)<0&&(W[te]=N[te]);if(null!=N&&"function"==typeof Object.getOwnPropertySymbols){var pe=0;for(te=Object.getOwnPropertySymbols(N);pe<te.length;pe++)G.indexOf(te[pe])<0&&Object.prototype.propertyIsEnumerable.call(N,te[pe])&&(W[te[pe]]=N[te[pe]])}return W}function ee(N,G,W,te){return new(W||(W=Promise))(function(X,Ge){function dt(ot){try{He(te.next(ot))}catch(_n){Ge(_n)}}function dn(ot){try{He(te.throw(ot))}catch(_n){Ge(_n)}}function He(ot){ot.done?X(ot.value):function pe(X){return X instanceof W?X:new W(function(Ge){Ge(X)})}(ot.value).then(dt,dn)}He((te=te.apply(N,G||[])).next())})}M.d(me,{_T:()=>q,mG:()=>ee})},9671:(De,me,M)=>{"use strict";function l(k,q,J,oe,K,ee,le){try{var H=k[ee](le),B=H.value}catch($){return void J($)}H.done?q(B):Promise.resolve(B).then(oe,K)}function L(k){return function(){var q=this,J=arguments;return new Promise(function(oe,K){var ee=k.apply(q,J);function le(B){l(ee,oe,K,le,H,"next",B)}function H(B){l(ee,oe,K,le,H,"throw",B)}le(void 0)})}}M.d(me,{Z:()=>L})},5e3:(De,me,M)=>{"use strict";M.d(me,{$8M:()=>Ca,$Z:()=>sE,AFp:()=>Pr,ALo:()=>JA,AaK:()=>ee,BQk:()=>Zg,CHM:()=>cl,CRH:()=>sM,CZH:()=>Im,CqO:()=>lE,DdM:()=>zA,EJc:()=>ST,EiD:()=>Xh,EpF:()=>Tc,F$t:()=>Rv,F4k:()=>xv,FYo:()=>NA,FiY:()=>Jr,G48:()=>Ab,Gf:()=>Ri,GfV:()=>FA,Gpc:()=>B,Gre:()=>IE,Hsn:()=>cE,Ikx:()=>Gv,JOm:()=>ka,JVY:()=>Yh,Jf7:()=>H0,L6k:()=>cc,LAX:()=>gu,LFG:()=>Fe,LSH:()=>X_,Lbi:()=>IT,MAs:()=>gv,NdJ:()=>Kg,O4$:()=>V_,OlP:()=>ni,Oqu:()=>Nf,PXZ:()=>BM,Q6J:()=>kf,QGY:()=>Sv,Qsj:()=>YN,R0b:()=>ia,RDi:()=>Zc,Rgc:()=>vm,SBq:()=>gm,Sil:()=>DM,Suo:()=>Ba,TTD:()=>tl,TgZ:()=>Rf,Udp:()=>wi,VKq:()=>GA,VLi:()=>NM,WFA:()=>Av,WLB:()=>$A,X6Q:()=>FT,XFs:()=>bt,Xpm:()=>vt,Y36:()=>jd,YKP:()=>sT,YNc:()=>zg,Yjl:()=>Qe,Yz7:()=>sn,ZZ4:()=>nh,_Bn:()=>OA,_UZ:()=>oE,_Vd:()=>sb,_c5:()=>Nm,_uU:()=>wE,aQg:()=>Nb,c2e:()=>NF,cJS:()=>hn,cg1:()=>Wv,d8E:()=>$v,dDg:()=>RT,deG:()=>j_,dqk:()=>Yt,eBb:()=>R0,eFA:()=>NT,ekj:()=>Pf,f3M:()=>Dt,g9A:()=>EM,h0i:()=>Vf,hGG:()=>Fm,hij:()=>im,iGM:()=>gb,ifc:()=>Kt,ip1:()=>wb,kL8:()=>NE,kYT:()=>ce,l5B:()=>WA,lG2:()=>Pe,lcZ:()=>XA,mCW:()=>m,n5z:()=>_o,n_E:()=>ab,oAB:()=>ve,oJD:()=>N0,oxw:()=>kv,pB0:()=>O0,q3G:()=>ii,q4F:()=>LA,qLn:()=>rf,qOj:()=>HC,qZA:()=>qg,qzn:()=>lc,s9C:()=>Jg,sBO:()=>UF,sIi:()=>Eu,s_b:()=>cb,soG:()=>ku,tBr:()=>Zs,tb:()=>TM,tp0:()=>wr,uIk:()=>Ug,uOi:()=>rg,vHH:()=>Me,vpe:()=>Rl,wAp:()=>xt,xi3:()=>eM,xp6:()=>_y,yhl:()=>pu,ynx:()=>Of,z2F:()=>Ua,z3N:()=>Cs,zSh:()=>Qy,zs3:()=>ea});var l=M(7579),L=M(727),k=M(8306),q=M(6451),J=M(3099);function oe(o){for(let a in o)if(o[a]===oe)return a;throw Error("Could not find renamed property on target object.")}function K(o,a){for(const u in a)a.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=a[u])}function ee(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ee).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function le(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const H=oe({__forward_ref__:oe});function B(o){return o.__forward_ref__=B,o.toString=function(){return ee(this())},o}function $(o){return Oe(o)?o():o}function Oe(o){return"function"==typeof o&&o.hasOwnProperty(H)&&o.__forward_ref__===B}class Me extends Error{constructor(a,u){super(function Le(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,u)),this.code=a}}function be(o){return"string"==typeof o?o:null==o?"":String(o)}function Ee(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():be(o)}function $e(o,a){const u=a?` in ${a}`:"";throw new Me(-201,`No provider for ${Ee(o)} found${u}`)}function He(o,a){null==o&&function ot(o,a,u,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${u} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function sn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function hn(o){return{providers:o.providers||[],imports:o.imports||[]}}function Un(o){return Gr(o,Sr)||Gr(o,qn)}function Gr(o,a){return o.hasOwnProperty(a)?o[a]:null}function hs(o){return o&&(o.hasOwnProperty($r)||o.hasOwnProperty(fs))?o[$r]:null}const Sr=oe({\u0275prov:oe}),$r=oe({\u0275inj:oe}),qn=oe({ngInjectableDef:oe}),fs=oe({ngInjectorDef:oe});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let Yi;function cn(o){const a=Yi;return Yi=o,a}function Ni(o,a,u){const d=Un(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&bt.Optional?null:void 0!==a?a:void $e(ee(o),"Injector")}function Qi(o){return{toString:o}.toString()}var Fn=(()=>((Fn=Fn||{})[Fn.OnPush=0]="OnPush",Fn[Fn.Default=1]="Default",Fn))(),Kt=(()=>{return(o=Kt||(Kt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Kt;var o})();const gt="undefined"!=typeof globalThis&&globalThis,ct="undefined"!=typeof window&&window,xr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Yt=gt||"undefined"!=typeof global&&global||ct||xr,yn={},Q=[],re=oe({\u0275cmp:oe}),ae=oe({\u0275dir:oe}),xe=oe({\u0275pipe:oe}),ne=oe({\u0275mod:oe}),fe=oe({\u0275fac:oe}),je=oe({__NG_ELEMENT_ID__:oe});let tt=0;function vt(o){return Qi(()=>{const u={},d={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Fn.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||Q,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Kt.Emulated,id:"c",styles:o.styles||Q,_:null,setInput:null,schemas:o.schemas||null,tView:null},f=o.directives,g=o.features,v=o.pipes;return d.id+=tt++,d.inputs=se(o.inputs,u),d.outputs=se(o.outputs),g&&g.forEach(C=>C(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(gn):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(It):null,d})}function gn(o){return pt(o)||function Rt(o){return o[ae]||null}(o)}function It(o){return function Xt(o){return o[xe]||null}(o)}const li={};function ve(o){return Qi(()=>{const a={type:o.type,bootstrap:o.bootstrap||Q,declarations:o.declarations||Q,imports:o.imports||Q,exports:o.exports||Q,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(li[o.id]=o.type),a})}function ce(o,a){return Qi(()=>{const u=$t(o,!0);u.declarations=a.declarations||Q,u.imports=a.imports||Q,u.exports=a.exports||Q})}function se(o,a){if(null==o)return yn;const u={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),u[f]=d,a&&(a[f]=g)}return u}const Pe=vt;function Qe(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function pt(o){return o[re]||null}function $t(o,a){const u=o[ne]||null;if(!u&&!0===a)throw new Error(`Type ${ee(o)} does not have '\u0275mod' property.`);return u}function pr(o){return Array.isArray(o)&&"object"==typeof o[1]}function Xi(o){return Array.isArray(o)&&!0===o[1]}function Ku(o){return 0!=(8&o.flags)}function Ul(o){return 2==(2&o.flags)}function lo(o){return 1==(1&o.flags)}function Mr(o){return null!==o.template}function qc(o){return 0!=(512&o[2])}function kr(o,a){return o.hasOwnProperty(fe)?o[fe]:null}class pa{constructor(a,u,d){this.previousValue=a,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function tl(){return nl}function nl(o){return o.type.prototype.ngOnChanges&&(o.setInput=Wp),Oh}function Oh(){const o=nd(this),a=null==o?void 0:o.current;if(a){const u=o.previous;if(u===yn)o.previous=a;else for(let d in a)u[d]=a[d];o.current=null,this.ngOnChanges(a)}}function Wp(o,a,u,d){const f=nd(o)||function Ls(o,a){return o[Fi]=a}(o,{previous:yn,current:null}),g=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[u],I=v[C];g[C]=new pa(I&&I.currentValue,a,v===yn),o[d]=a}tl.ngInherit=!0;const Fi="__ngSimpleChanges__";function nd(o){return o[Fi]||null}let Gl;function Zc(o){Gl=o}function Bs(){return void 0!==Gl?Gl:"undefined"!=typeof document?document:void 0}function Sn(o){return!!o.listen}const il={createRenderer:(o,a)=>Bs()};function bn(o){for(;Array.isArray(o);)o=o[0];return o}function Bo(o,a){return bn(a[o])}function Di(o,a){return bn(a[o.index])}function Yn(o,a){return o.data[a]}function Vs(o,a){return o[a]}function Si(o,a){const u=a[o];return pr(u)?u:u[0]}function ga(o){return 4==(4&o[2])}function ms(o){return 128==(128&o[2])}function gr(o,a){return null==a?null:o[a]}function ho(o){o[18]=0}function fo(o,a){o[5]+=a;let u=o,d=o[3];for(;null!==d&&(1===a&&1===u[5]||-1===a&&0===u[5]);)d[5]+=a,u=d,d=d[3]}const Ct={lFrame:jo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Qc(){return Ct.bindingsEnabled}function Ne(){return Ct.lFrame.lView}function Qt(){return Ct.lFrame.tView}function cl(o){return Ct.lFrame.contextLView=o,o[8]}function $n(){let o=po();for(;null!==o&&64===o.type;)o=o.parent;return o}function po(){return Ct.lFrame.currentTNode}function er(o,a){const u=Ct.lFrame;u.currentTNode=o,u.isParent=a}function Jc(){return Ct.lFrame.isParent}function Xc(){Ct.lFrame.isParent=!1}function dl(){return Ct.isInCheckNoChangesMode}function ma(o){Ct.isInCheckNoChangesMode=o}function vi(){const o=Ct.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function _s(){return Ct.lFrame.bindingIndex++}function Us(o){const a=Ct.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,u}function fl(o,a){const u=Ct.lFrame;u.bindingIndex=u.bindingRootIndex=o,Vo(a)}function Vo(o){Ct.lFrame.currentDirectiveIndex=o}function ql(o){const a=Ct.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function pl(){return Ct.lFrame.currentQueryIndex}function tu(o){Ct.lFrame.currentQueryIndex=o}function qp(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Zl(o,a,u){if(u&bt.SkipSelf){let f=a,g=o;for(;!(f=f.parent,null!==f||u&bt.Host||(f=qp(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;a=f,o=g}const d=Ct.lFrame=nu();return d.currentTNode=a,d.lView=o,!0}function Uo(o){const a=nu(),u=o[1];Ct.lFrame=a,a.currentTNode=u.firstChild,a.lView=o,a.tView=u,a.contextLView=o,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function nu(){const o=Ct.lFrame,a=null===o?null:o.child;return null===a?jo(o):a}function jo(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function dd(){const o=Ct.lFrame;return Ct.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Nh=dd;function _a(){const o=dd();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function xi(){return Ct.lFrame.selectedIndex}function js(o){Ct.lFrame.selectedIndex=o}function Qn(){const o=Ct.lFrame;return Yn(o.tView,o.selectedIndex)}function V_(){Ct.lFrame.currentNamespace="svg"}function gl(o,a){for(let u=a.directiveStart,d=a.directiveEnd;u<d;u++){const g=o.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:x,ngOnDestroy:O}=g;v&&(o.contentHooks||(o.contentHooks=[])).push(-u,v),C&&((o.contentHooks||(o.contentHooks=[])).push(u,C),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,C)),I&&(o.viewHooks||(o.viewHooks=[])).push(-u,I),x&&((o.viewHooks||(o.viewHooks=[])).push(u,x),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,x)),null!=O&&(o.destroyHooks||(o.destroyHooks=[])).push(u,O)}}function Hs(o,a,u){Ai(o,a,3,u)}function ml(o,a,u,d){(3&o[2])===u&&Ai(o,a,u,d)}function Kl(o,a){let u=o[2];(3&u)===a&&(u&=2047,u+=1,o[2]=u)}function Ai(o,a,u,d){const g=null!=d?d:-1,v=a.length-1;let C=0;for(let I=void 0!==d?65535&o[18]:0;I<v;I++)if("number"==typeof a[I+1]){if(C=a[I],null!=d&&C>=d)break}else a[I]<0&&(o[18]+=65536),(C<g||-1==g)&&(Bh(o,u,a,I),o[18]=(4294901760&o[18])+I+2),I++}function Bh(o,a,u,d){const f=u[d]<0,g=u[d+1],C=o[f?-u[d]:u[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class ya{constructor(a,u,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function Gn(o,a,u){const d=Sn(o);let f=0;for(;f<u.length;){const g=u[f];if("number"==typeof g){if(0!==g)break;f++;const v=u[f++],C=u[f++],I=u[f++];d?o.setAttribute(a,C,I,v):a.setAttributeNS(v,C,I)}else{const v=g,C=u[++f];ut(v)?d&&o.setProperty(a,v,C):d?o.setAttribute(a,v,C):a.setAttribute(v,C),f++}}return f}function Wn(o){return 3===o||4===o||6===o}function ut(o){return 64===o.charCodeAt(0)}function ti(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let u=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?u=f:0===u||Kr(o,u,f,null,-1===u||2===u?a[++d]:null)}}return o}function Kr(o,a,u,d,f){let g=0,v=o.length;if(-1===a)v=-1;else for(;g<o.length;){const C=o[g++];if("number"==typeof C){if(C===a){v=-1;break}if(C>a){v=g-1;break}}}for(;g<o.length;){const C=o[g];if("number"==typeof C)break;if(C===u){if(null===d)return void(null!==f&&(o[g+1]=f));if(d===o[g+1])return void(o[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(o.splice(v,0,a),g=v+1),o.splice(g++,0,u),null!==d&&o.splice(g++,0,d),null!==f&&o.splice(g++,0,f)}function zs(o){return-1!==o}function mr(o){return 32767&o}function Mn(o,a){let u=function qt(o){return o>>16}(o),d=a;for(;u>0;)d=d[15],u--;return d}let kn=!0;function mt(o){const a=kn;return kn=o,a}let Jl=0;function _r(o,a){const u=Bn(o,a);if(-1!==u)return u;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,wn(d.data,o),wn(a,null),wn(d.blueprint,null));const f=go(o,a),g=o.injectorIndex;if(zs(f)){const v=mr(f),C=Mn(f,a),I=C[1].data;for(let x=0;x<8;x++)a[g+x]=C[v+x]|I[v+x]}return a[g+8]=f,g}function wn(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Bn(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function go(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,d=null,f=a;for(;null!==f;){const g=f[1],v=g.type;if(d=2===v?g.declTNode:1===v?f[6]:null,null===d)return-1;if(u++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function yr(o,a,u){!function Vh(o,a,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(je)&&(d=u[je]),null==d&&(d=u[je]=Jl++);const f=255&d;a.data[o+(f>>5)]|=1<<f}(o,a,u)}function Gs(o,a,u){if(u&bt.Optional)return o;$e(a,"NodeInjector")}function vr(o,a,u,d){if(u&bt.Optional&&void 0===d&&(d=null),0==(u&(bt.Self|bt.Host))){const f=o[9],g=cn(void 0);try{return f?f.get(a,d,u&bt.Optional):Ni(a,d,u&bt.Optional)}finally{cn(g)}}return Gs(d,a,u)}function Rr(o,a,u,d=bt.Default,f){if(null!==o){const g=function zo(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(je)?o[je]:void 0;return"number"==typeof a?a>=0?255&a:mo:a}(u);if("function"==typeof g){if(!Zl(a,o,d))return d&bt.Host?Gs(f,u,d):vr(a,u,d,f);try{const v=g(d);if(null!=v||d&bt.Optional)return v;$e(u)}finally{Nh()}}else if("number"==typeof g){let v=null,C=Bn(o,a),I=-1,x=d&bt.Host?a[16][6]:null;for((-1===C||d&bt.SkipSelf)&&(I=-1===C?go(o,a):a[C+8],-1!==I&&su(d,!1)?(v=a[1],C=mr(I),a=Mn(I,a)):C=-1);-1!==C;){const O=a[1];if(ru(g,C,O.data)){const z=rn(C,a,u,v,d,x);if(z!==ba)return z}I=a[C+8],-1!==I&&su(d,a[1].data[C+8]===x)&&ru(g,C,a)?(v=O,C=mr(I),a=Mn(I,a)):C=-1}}}return vr(a,u,d,f)}const ba={};function mo(){return new wa($n(),Ne())}function rn(o,a,u,d,f,g){const v=a[1],C=v.data[o+8],O=Mi(C,v,u,null==d?Ul(C)&&kn:d!=v&&0!=(3&C.type),f&bt.Host&&g===C);return null!==O?Yr(a,v,O,C):ba}function Mi(o,a,u,d,f){const g=o.providerIndexes,v=a.data,C=1048575&g,I=o.directiveStart,O=g>>20,ie=f?C+O:o.directiveEnd;for(let de=d?C:C+O;de<ie;de++){const Ae=v[de];if(de<I&&u===Ae||de>=I&&Ae.type===u)return de}if(f){const de=v[I];if(de&&Mr(de)&&de.type===u)return I}return null}function Yr(o,a,u,d){let f=o[u];const g=a.data;if(function fd(o){return o instanceof ya}(f)){const v=f;v.resolving&&function ke(o,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Me(-200,`Circular dependency in DI detected for ${o}${u}`)}(Ee(g[u]));const C=mt(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?cn(v.injectImpl):null;Zl(o,d,bt.Default);try{f=o[u]=v.factory(void 0,g,o,d),a.firstCreatePass&&u>=d.directiveStart&&function Zp(o,a,u){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=a.type.prototype;if(d){const v=nl(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,v)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,f),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,g))}(u,g[u],a)}finally{null!==I&&cn(I),mt(C),v.resolving=!1,Nh()}}return f}function ru(o,a,u){return!!(u[a+(o>>5)]&1<<o)}function su(o,a){return!(o&bt.Self||o&bt.Host&&a)}class wa{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,d){return Rr(this._tNode,this._lView,a,d,u)}}function _o(o){return Qi(()=>{const a=o.prototype.constructor,u=a[fe]||ou(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const g=f[fe]||ou(f);if(g&&g!==u)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function ou(o){return Oe(o)?()=>{const a=ou($(o));return a&&a()}:kr(o)}function Ca(o){return function Xl(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const u=o.attrs;if(u){const d=u.length;let f=0;for(;f<d;){const g=u[f];if(Wn(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof u[f];)f++;else{if(g===a)return u[f+1];f+=2}}}return null}($n(),o)}const yo="__parameters__";function _l(o,a,u){return Qi(()=>{const d=function Uh(o){return function(...u){if(o){const d=o(...u);for(const f in d)this[f]=d[f]}}}(a);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return C.annotation=v,C;function C(I,x,O){const z=I.hasOwnProperty(yo)?I[yo]:Object.defineProperty(I,yo,{value:[]})[yo];for(;z.length<=O;)z.push(null);return(z[O]=z[O]||[]).push(v),I}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class ni{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=sn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const j_=new ni("AnalyzeForEntryComponents");function Gi(o,a){void 0===a&&(a=o);for(let u=0;u<o.length;u++){let d=o[u];Array.isArray(d)?(a===o&&(a=o.slice(0,u)),Gi(d,a)):a!==o&&a.push(d)}return a}function br(o,a){o.forEach(u=>Array.isArray(u)?br(u,a):a(u))}function $o(o,a,u){a>=o.length?o.push(u):o.splice(a,0,u)}function vl(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Wo(o,a){const u=[];for(let d=0;d<o;d++)u.push(a);return u}function di(o,a,u){let d=qo(o,a);return d>=0?o[1|d]=u:(d=~d,function ui(o,a,u,d){let f=o.length;if(f==a)o.push(u,d);else if(1===f)o.push(d,o[0]),o[0]=u;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=u,o[a+1]=d}}(o,d,a,u)),d}function Ia(o,a){const u=qo(o,a);if(u>=0)return o[1|u]}function qo(o,a){return function ic(o,a,u){let d=0,f=o.length>>u;for(;f!==d;){const g=d+(f-d>>1),v=o[g<<u];if(a===v)return g<<u;v>a?f=g:d=g+1}return~(f<<u)}(o,a,1)}const Da={},Sa="__NG_DI_FLAG__",xa="ngTempTokenPath",rc=/\n/gm,S="__source",P=oe({provide:String,useValue:oe});let Z;function he(o){const a=Z;return Z=o,a}function we(o,a=bt.Default){if(void 0===Z)throw new Me(203,"");return null===Z?Ni(o,void 0,a):Z.get(o,a&bt.Optional?null:void 0,a)}function Fe(o,a=bt.Default){return(function Nn(){return Yi}()||we)($(o),a)}const Dt=Fe;function St(o){const a=[];for(let u=0;u<o.length;u++){const d=$(o[u]);if(Array.isArray(d)){if(0===d.length)throw new Me(900,"");let f,g=bt.Default;for(let v=0;v<d.length;v++){const C=d[v],I=Mt(C);"number"==typeof I?-1===I?f=C.token:g|=I:f=C}a.push(Fe(f,g))}else a.push(Fe(d))}return a}function Ht(o,a){return o[Sa]=a,o.prototype[Sa]=a,o}function Mt(o){return o[Sa]}const Zs=Ht(_l("Inject",o=>({token:o})),-1),Jr=Ht(_l("Optional"),8),wr=Ht(_l("SkipSelf"),4);let hu,Cl;function ac(o){var a;return(null===(a=function fu(){if(void 0===hu&&(hu=null,Yt.trustedTypes))try{hu=Yt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return hu}())||void 0===a?void 0:a.createHTML(o))||o}function Ed(){if(void 0===Cl&&(Cl=null,Yt.trustedTypes))try{Cl=Yt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Cl}function qh(o){var a;return(null===(a=Ed())||void 0===a?void 0:a.createHTML(o))||o}function W_(o){var a;return(null===(a=Ed())||void 0===a?void 0:a.createScriptURL(o))||o}class El{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class q_ extends El{getTypeName(){return"HTML"}}class M0 extends El{getTypeName(){return"Style"}}class Kh extends El{getTypeName(){return"Script"}}class k0 extends El{getTypeName(){return"URL"}}class Z_ extends El{getTypeName(){return"ResourceURL"}}function Cs(o){return o instanceof El?o.changingThisBreaksApplicationSecurity:o}function lc(o,a){const u=pu(o);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}function pu(o){return o instanceof El&&o.getTypeName()||null}function Yh(o){return new q_(o)}function cc(o){return new M0(o)}function R0(o){return new Kh(o)}function gu(o){return new k0(o)}function O0(o){return new Z_(o)}class K_{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(ac(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Y_{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ac(a),u;const d=this.inertDocument.createElement("body");return d.innerHTML=ac(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const u=a.attributes;for(let f=u.length-1;0<f;f--){const v=u.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&a.removeAttribute(v)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const P0=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,b=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function m(o){return(o=String(o)).match(P0)||o.match(b)?o:"unsafe:"+o}function E(o){const a={};for(const u of o.split(","))a[u]=!0;return a}function R(...o){const a={};for(const u of o)for(const d in u)u.hasOwnProperty(d)&&(a[d]=!0);return a}const j=E("area,br,col,hr,img,wbr"),ge=E("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ue=E("rp,rt"),Vn=R(j,R(ge,E("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),R(Ue,E("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),R(Ue,ge)),Xr=E("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ys=E("srcset"),Cr=R(Xr,Ys,E("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),E("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tg=E("script,style,template");class ng{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!Vn.hasOwnProperty(u))return this.sanitizedSomething=!0,!tg.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=a.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),v=g.name,C=v.toLowerCase();if(!Cr.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let I=g.value;Xr[C]&&(I=m(I)),Ys[C]&&(o=I,I=(o=String(o)).split(",").map(a=>m(a.trim())).join(", ")),this.buf.push(" ",v,'="',Td(I),'"')}var o;return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();Vn.hasOwnProperty(u)&&!j.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(Td(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const Jh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ig=/([^\#-~ |!])/g;function Td(o){return o.replace(/&/g,"&amp;").replace(Jh,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(ig,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dc;function Xh(o,a){let u=null;try{dc=dc||function Qh(o){const a=new Y_(o);return function Q_(){try{return!!(new window.DOMParser).parseFromString(ac(""),"text/html")}catch(o){return!1}}()?new K_(a):a}(o);let d=a?String(a):"";u=dc.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=u.innerHTML,u=dc.getInertBodyElement(d)}while(d!==g);return ac((new ng).sanitizeChildren(ef(u)||u))}finally{if(u){const d=ef(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function ef(o){return"content"in o&&function mu(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var ii=(()=>((ii=ii||{})[ii.NONE=0]="NONE",ii[ii.HTML=1]="HTML",ii[ii.STYLE=2]="STYLE",ii[ii.SCRIPT=3]="SCRIPT",ii[ii.URL=4]="URL",ii[ii.RESOURCE_URL=5]="RESOURCE_URL",ii))();function N0(o){const a=Dd();return a?qh(a.sanitize(ii.HTML,o)||""):lc(o,"HTML")?qh(Cs(o)):Xh(Bs(),be(o))}function X_(o){const a=Dd();return a?a.sanitize(ii.URL,o)||"":lc(o,"URL")?Cs(o):m(be(o))}function rg(o){const a=Dd();if(a)return W_(a.sanitize(ii.RESOURCE_URL,o)||"");if(lc(o,"ResourceURL"))return W_(Cs(o));throw new Me(904,"")}function Dd(){const o=Ne();return o&&o[12]}const nf="__ngContext__";function ri(o,a){o[nf]=a}function hc(o){const a=function bi(o){return o[nf]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function iy(o){return o.ngOriginalError}function V0(o,...a){o.error(...a)}class rf{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a),d=function uS(o){return o&&o.ngErrorLogger||V0}(a);d(this._console,"ERROR",a),u&&d(this._console,"ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&iy(a);for(;u&&iy(u);)u=iy(u);return u||null}}const mS=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Yt))();function H0(o){return o.ownerDocument.defaultView}function Yo(o){return o instanceof Function?o():o}var ka=(()=>((ka=ka||{})[ka.Important=1]="Important",ka[ka.DashCase=2]="DashCase",ka))();function lg(o,a){return undefined(o,a)}function Ad(o){const a=o[3];return Xi(a)?a[3]:a}function cg(o){return fc(o[13])}function Md(o){return fc(o[4])}function fc(o){for(;null!==o&&!Xi(o);)o=o[4];return o}function Ra(o,a,u,d,f){if(null!=d){let g,v=!1;Xi(d)?g=d:pr(d)&&(v=!0,d=d[0]);const C=bn(d);0===o&&null!==u?null==f?J0(a,u,C):Oa(a,u,C,f||null,!0):1===o&&null!==u?Oa(a,u,C,f||null,!0):2===o?function cy(o,a,u){const d=pg(o,a);d&&function CS(o,a,u,d){Sn(o)?o.removeChild(a,u,d):a.removeChild(u)}(o,d,a,u)}(a,C,v):3===o&&a.destroyNode(C),null!=g&&function nC(o,a,u,d,f){const g=u[7];g!==bn(u)&&Ra(a,o,d,g,f);for(let C=10;C<u.length;C++){const I=u[C];gc(I[1],I,o,a,d,g)}}(a,o,g,u,f)}}function ug(o,a,u){if(Sn(o))return o.createElement(a,u);{const d=null!==u?function zl(o){const a=o.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(u):null;return null===d?o.createElement(a):o.createElementNS(d,a)}}function Z0(o,a){const u=o[9],d=u.indexOf(a),f=a[3];1024&a[2]&&(a[2]&=-1025,fo(f,-1)),u.splice(d,1)}function af(o,a){if(o.length<=10)return;const u=10+a,d=o[u];if(d){const f=d[17];null!==f&&f!==o&&Z0(f,d),a>0&&(o[u-1][4]=d[4]);const g=vl(o,10+a);!function W0(o,a){gc(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function lf(o,a){if(!(256&a[2])){const u=a[11];Sn(u)&&u.destroyNode&&gc(o,a,u,3,null,null),function sf(o){let a=o[13];if(!a)return fg(o[1],o);for(;a;){let u=null;if(pr(a))u=a[13];else{const d=a[10];d&&(u=d)}if(!u){for(;a&&!a[4]&&a!==o;)pr(a)&&fg(a[1],a),a=a[3];null===a&&(a=o),pr(a)&&fg(a[1],a),u=a&&a[4]}a=u}}(a)}}function fg(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function wS(o,a){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let d=0;d<u.length;d+=2){const f=a[u[d]];if(!(f instanceof ya)){const g=u[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=f[g[v]],I=g[v+1];try{I.call(C)}finally{}}else try{g.call(f)}finally{}}}}(o,a),function K0(o,a){const u=o.cleanup,d=a[7];let f=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const v=u[g+1],C="function"==typeof v?v(a):bn(a[v]),I=d[f=u[g+2]],x=u[g+3];"boolean"==typeof x?C.removeEventListener(u[g],I,x):x>=0?d[f=x]():d[f=-x].unsubscribe(),g+=2}else{const v=d[f=u[g+1]];u[g].call(v)}if(null!==d){for(let g=f+1;g<d.length;g++)d[g]();a[7]=null}}(o,a),1===a[1].type&&Sn(a[11])&&a[11].destroy();const u=a[17];if(null!==u&&Xi(a[3])){u!==a[3]&&Z0(u,a);const d=a[19];null!==d&&d.detachView(o)}}}function Y0(o,a,u){return function Q0(o,a,u){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return u[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===Kt.None||f===Kt.Emulated)return null}return Di(d,u)}(o,a.parent,u)}function Oa(o,a,u,d,f){Sn(o)?o.insertBefore(a,u,d,f):a.insertBefore(u,d,f)}function J0(o,a,u){Sn(o)?o.appendChild(a,u):a.appendChild(u)}function X0(o,a,u,d,f){null!==d?Oa(o,a,u,d,f):J0(o,a,u)}function pg(o,a){return Sn(o)?o.parentNode(a):a.parentNode}function ly(o,a,u){return mg(o,a,u)}let mg=function gg(o,a,u){return 40&o.type?Di(o,u):null};function cf(o,a,u,d){const f=Y0(o,d,a),g=a[11],C=ly(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(u))for(let I=0;I<u.length;I++)X0(g,f,u[I],C,!1);else X0(g,f,u,C,!1)}function uf(o,a){if(null!==a){const u=a.type;if(3&u)return Di(a,o);if(4&u)return Co(-1,o[a.index]);if(8&u){const d=a.child;if(null!==d)return uf(o,d);{const f=o[a.index];return Xi(f)?Co(-1,f):bn(f)}}if(32&u)return lg(a,o)()||bn(o[a.index]);{const d=eC(o,a);return null!==d?Array.isArray(d)?d[0]:uf(Ad(o[16]),d):uf(o,a.next)}}return null}function eC(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Co(o,a){const u=10+o+1;if(u<a.length){const d=a[u],f=d[1].firstChild;if(null!==f)return uf(d,f)}return a[7]}function uy(o,a,u,d,f,g,v){for(;null!=u;){const C=d[u.index],I=u.type;if(v&&0===a&&(C&&ri(bn(C),d),u.flags|=4),64!=(64&u.flags))if(8&I)uy(o,a,u.child,d,f,g,!1),Ra(a,o,f,C,g);else if(32&I){const x=lg(u,d);let O;for(;O=x();)Ra(a,o,f,O,g);Ra(a,o,f,C,g)}else 16&I?_g(o,a,d,u,f,g):Ra(a,o,f,C,g);u=v?u.projectionNext:u.next}}function gc(o,a,u,d,f,g){uy(u,d,o.firstChild,a,f,g,!1)}function _g(o,a,u,d,f,g){const v=u[16],I=v[6].projection[d.projection];if(Array.isArray(I))for(let x=0;x<I.length;x++)Ra(a,o,f,I[x],g);else uy(o,a,I,v[3],f,g,!0)}function yg(o,a,u){Sn(o)?o.setAttribute(a,"style",u):a.style.cssText=u}function hy(o,a,u){Sn(o)?""===u?o.removeAttribute(a,"class"):o.setAttribute(a,"class",u):a.className=u}function kd(o,a,u){let d=o.length;for(;;){const f=o.indexOf(a,u);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const g=a.length;if(f+g===d||o.charCodeAt(f+g)<=32)return f}u=f+1}}const iC="ng-template";function TS(o,a,u){let d=0;for(;d<o.length;){let f=o[d++];if(u&&"class"===f){if(f=o[d],-1!==kd(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function df(o){return 4===o.type&&o.value!==iC}function hf(o,a,u){return a===(4!==o.type||u?o.value:iC)}function fy(o,a,u){let d=4;const f=o.attrs||[],g=function IS(o){for(let a=0;a<o.length;a++)if(Wn(o[a]))return a;return o.length}(f);let v=!1;for(let C=0;C<a.length;C++){const I=a[C];if("number"!=typeof I){if(!v)if(4&d){if(d=2|1&d,""!==I&&!hf(o,I,u)||""===I&&1===a.length){if(Eo(d))return!1;v=!0}}else{const x=8&d?I:a[++C];if(8&d&&null!==o.attrs){if(!TS(o.attrs,x,u)){if(Eo(d))return!1;v=!0}continue}const z=rC(8&d?"class":I,f,df(o),u);if(-1===z){if(Eo(d))return!1;v=!0;continue}if(""!==x){let ie;ie=z>g?"":f[z+1].toLowerCase();const de=8&d?ie:null;if(de&&-1!==kd(de,x,0)||2&d&&x!==ie){if(Eo(d))return!1;v=!0}}}}else{if(!v&&!Eo(d)&&!Eo(I))return!1;if(v&&Eo(I))continue;v=!1,d=I|1&d}}return Eo(d)||v}function Eo(o){return 0==(1&o)}function rC(o,a,u,d){if(null===a)return-1;let f=0;if(d||!u){let g=!1;for(;f<a.length;){const v=a[f];if(v===o)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=a[++f];for(;"string"==typeof C;)C=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function DS(o,a){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const d=o[u];if("number"==typeof d)return-1;if(d===a)return u;u++}return-1}(a,o)}function sC(o,a,u=!1){for(let d=0;d<a.length;d++)if(fy(o,a[d],u))return!0;return!1}function SS(o,a){e:for(let u=0;u<a.length;u++){const d=a[u];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function gy(o,a){return o?":not("+a.trim()+")":a}function vg(o){let a=o[0],u=1,d=2,f="",g=!1;for(;u<o.length;){let v=o[u];if("string"==typeof v)if(2&d){const C=o[++u];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!Eo(v)&&(a+=gy(g,f),f=""),d=v,g=g||!Eo(d);u++}return""!==f&&(a+=gy(g,f)),a}const Vt={};function _y(o){yy(Qt(),Ne(),xi()+o,dl())}function yy(o,a,u,d){if(!d)if(3==(3&a[2])){const g=o.preOrderCheckHooks;null!==g&&Hs(a,g,u)}else{const g=o.preOrderHooks;null!==g&&ml(a,g,0,u)}js(u)}function bg(o,a){return o<<17|a<<2}function Jo(o){return o>>17&32767}function vy(o){return 2|o}function ts(o){return(131068&o)>>2}function by(o,a){return-131069&o|a<<2}function wy(o){return 1|o}function Od(o,a){const u=o.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const f=u[d],g=u[d+1];if(-1!==g){const v=o.data[g];tu(f),v.contentQueries(2,a[g],g)}}}function mf(o,a,u,d,f,g,v,C,I,x){const O=a.blueprint.slice();return O[0]=f,O[2]=140|d,ho(O),O[3]=O[15]=o,O[8]=u,O[10]=v||o&&o[10],O[11]=C||o&&o[11],O[12]=I||o&&o[12]||null,O[9]=x||o&&o[9]||null,O[6]=g,O[16]=2==a.type?o[16]:O,O}function Pd(o,a,u,d,f){let g=o.data[a];if(null===g)g=function Oy(o,a,u,d,f){const g=po(),v=Jc(),I=o.data[a]=function gC(o,a,u,d,f,g){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,u,a,d,f);return null===o.firstChild&&(o.firstChild=I),null!==g&&(v?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(o,a,u,d,f),function hl(){return Ct.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=d,g.attrs=f;const v=function ul(){const o=Ct.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return er(g,!0),g}function Nd(o,a,u,d){if(0===u)return-1;const f=a.length;for(let g=0;g<u;g++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function _f(o,a,u){Uo(a);try{const d=o.viewQuery;null!==d&&Ky(1,d,u);const f=o.template;null!==f&&Py(o,a,f,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Od(o,a),o.staticViewQueries&&Ky(2,o.viewQuery,u);const g=o.components;null!==g&&function jS(o,a){for(let u=0;u<a.length;u++)TC(o,a[u])}(a,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,_a()}}function Fd(o,a,u,d){const f=a[2];if(256==(256&f))return;Uo(a);const g=dl();try{ho(a),function eu(o){return Ct.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&Py(o,a,u,2,d);const v=3==(3&f);if(!g)if(v){const x=o.preOrderCheckHooks;null!==x&&Hs(a,x,null)}else{const x=o.preOrderHooks;null!==x&&ml(a,x,0,null),Kl(a,0)}if(function $y(o){for(let a=cg(o);null!==a;a=Md(a)){if(!a[2])continue;const u=a[9];for(let d=0;d<u.length;d++){const f=u[d],g=f[3];0==(1024&f[2])&&fo(g,1),f[2]|=1024}}}(a),function EC(o){for(let a=cg(o);null!==a;a=Md(a))for(let u=10;u<a.length;u++){const d=a[u],f=d[1];ms(d)&&Fd(f,d,f.template,d[8])}}(a),null!==o.contentQueries&&Od(o,a),!g)if(v){const x=o.contentCheckHooks;null!==x&&Hs(a,x)}else{const x=o.contentHooks;null!==x&&ml(a,x,1),Kl(a,1)}!function VS(o,a){const u=o.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const f=u[d];if(f<0)js(~f);else{const g=f,v=u[++d],C=u[++d];fl(v,g),C(2,a[g])}}}finally{js(-1)}}(o,a);const C=o.components;null!==C&&function US(o,a){for(let u=0;u<a.length;u++)fN(o,a[u])}(a,C);const I=o.viewQuery;if(null!==I&&Ky(2,I,d),!g)if(v){const x=o.viewCheckHooks;null!==x&&Hs(a,x)}else{const x=o.viewHooks;null!==x&&ml(a,x,2),Kl(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),g||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,fo(a[3],-1))}finally{_a()}}function HS(o,a,u,d){const f=a[10],g=!dl(),v=ga(a);try{g&&!v&&f.begin&&f.begin(),v&&_f(o,a,d),Fd(o,a,u,d)}finally{g&&!v&&f.end&&f.end()}}function Py(o,a,u,d,f){const g=xi(),v=2&d;try{js(-1),v&&a.length>20&&yy(o,a,20,dl()),u(d,f)}finally{js(g)}}function hC(o,a,u){if(Ku(a)){const f=a.directiveEnd;for(let g=a.directiveStart;g<f;g++){const v=o.data[g];v.contentQueries&&v.contentQueries(1,u[g],g)}}}function Ny(o,a,u){!Qc()||(function KS(o,a,u,d){const f=u.directiveStart,g=u.directiveEnd;o.firstCreatePass||_r(u,a),ri(d,a);const v=u.initialInputs;for(let C=f;C<g;C++){const I=o.data[C],x=Mr(I);x&&Hy(a,u,I);const O=Yr(a,o,C,u);ri(O,a),null!==v&&XS(0,C-f,O,I,0,v),x&&(Si(u.index,a)[8]=O)}}(o,a,u,Di(u,a)),128==(128&u.flags)&&function YS(o,a,u){const d=u.directiveStart,f=u.directiveEnd,v=u.index,C=function ud(){return Ct.lFrame.currentDirectiveIndex}();try{js(v);for(let I=d;I<f;I++){const x=o.data[I],O=a[I];Vo(I),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Uy(x,O)}}finally{js(-1),Vo(C)}}(o,a,u))}function Fy(o,a,u=Di){const d=a.localNames;if(null!==d){let f=a.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],C=-1===v?u(a,o):o[v];o[f++]=C}}}function fC(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=xg(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function xg(o,a,u,d,f,g,v,C,I,x){const O=20+d,z=O+f,ie=function pC(o,a){const u=[];for(let d=0;d<a;d++)u.push(d<o?null:Vt);return u}(O,z),de="function"==typeof x?x():x;return ie[1]={type:o,blueprint:ie,template:u,queries:null,viewQuery:C,declTNode:a,data:ie.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:de,incompleteFirstPass:!1}}function By(o,a,u,d){const f=DC(a);null===u?f.push(d):(f.push(u),o.firstCreatePass&&Yy(o).push(d,f.length-1))}function mC(o,a,u){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(a,f):u[d]=[a,f]}return u}function Qs(o,a,u,d,f,g,v,C){const I=Di(a,u);let O,x=a.inputs;!C&&null!=x&&(O=x[d])?(kg(o,u,O,d,f),Ul(a)&&function _C(o,a){const u=Si(a,o);16&u[2]||(u[2]|=64)}(u,a.index)):3&a.type&&(d=function WS(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=v?v(f,a.value||"",d):f,Sn(g)?g.setProperty(I,d,f):ut(d)||(I.setProperty?I.setProperty(d,f):I[d]=f))}function Ag(o,a,u,d){let f=!1;if(Qc()){const g=function QS(o,a,u){const d=o.directiveRegistry;let f=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];sC(u,v.selectors,!1)&&(f||(f=[]),yr(_r(u,a),o,v.type),Mr(v)?(wC(o,u),f.unshift(v)):f.push(v))}return f}(o,a,u),v=null===d?null:{"":-1};if(null!==g){f=!0,jy(u,o.data.length,g.length);for(let O=0;O<g.length;O++){const z=g[O];z.providersResolver&&z.providersResolver(z)}let C=!1,I=!1,x=Nd(o,a,g.length,null);for(let O=0;O<g.length;O++){const z=g[O];u.mergedAttrs=ti(u.mergedAttrs,z.hostAttrs),Il(o,u,a,x,z),JS(x,z,v),null!==z.contentQueries&&(u.flags|=8),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(u.flags|=128);const ie=z.type.prototype;!C&&(ie.ngOnChanges||ie.ngOnInit||ie.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),C=!0),!I&&(ie.ngOnChanges||ie.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),I=!0),x++}!function $S(o,a){const d=a.directiveEnd,f=o.data,g=a.attrs,v=[];let C=null,I=null;for(let x=a.directiveStart;x<d;x++){const O=f[x],z=O.inputs,ie=null===g||df(a)?null:CC(z,g);v.push(ie),C=mC(z,x,C),I=mC(O.outputs,x,I)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=16),C.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=C,a.outputs=I}(o,u)}v&&function Or(o,a,u){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const g=u[a[f+1]];if(null==g)throw new Me(-301,!1);d.push(a[f],g)}}}(u,d,v)}return u.mergedAttrs=ti(u.mergedAttrs,u.attrs),f}function bC(o,a,u,d,f,g){const v=g.hostBindings;if(v){let C=o.hostBindingOpCodes;null===C&&(C=o.hostBindingOpCodes=[]);const I=~a.index;(function ZS(o){let a=o.length;for(;a>0;){const u=o[--a];if("number"==typeof u&&u<0)return u}return 0})(C)!=I&&C.push(I),C.push(d,f,v)}}function Uy(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function wC(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function JS(o,a,u){if(u){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)u[a.exportAs[d]]=o;Mr(a)&&(u[""]=o)}}function jy(o,a,u){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+u,o.providerIndexes=a}function Il(o,a,u,d,f){o.data[d]=f;const g=f.factory||(f.factory=kr(f.type)),v=new ya(g,Mr(f),null);o.blueprint[d]=v,u[d]=v,bC(o,a,0,d,Nd(o,u,f.hostVars,Vt),f)}function Hy(o,a,u){const d=Di(a,o),f=fC(u),g=o[10],v=Mg(o,mf(o,f,null,u.onPush?64:16,d,a,g,g.createRenderer(d,u),null,null));o[a.index]=v}function ns(o,a,u,d,f,g){const v=Di(o,a);!function zy(o,a,u,d,f,g,v){if(null==g)Sn(o)?o.removeAttribute(a,f,u):a.removeAttribute(f);else{const C=null==v?be(g):v(g,d||"",f);Sn(o)?o.setAttribute(a,f,C,u):u?a.setAttributeNS(u,f,C):a.setAttribute(f,C)}}(a[11],v,g,o.value,u,d,f)}function XS(o,a,u,d,f,g){const v=g[a];if(null!==v){const C=d.setInput;for(let I=0;I<v.length;){const x=v[I++],O=v[I++],z=v[I++];null!==C?d.setInput(u,z,x,O):u[O]=z}}}function CC(o,a){let u=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,o[f],a[d+1])),d+=2}else d+=2;else d+=4}return u}function Gy(o,a,u,d){return new Array(o,!0,!1,a,null,0,d,u,null,null)}function fN(o,a){const u=Si(a,o);if(ms(u)){const d=u[1];80&u[2]?Fd(d,u,d.template,u[8]):u[5]>0&&Dl(u)}}function Dl(o){for(let d=cg(o);null!==d;d=Md(d))for(let f=10;f<d.length;f++){const g=d[f];if(1024&g[2]){const v=g[1];Fd(v,g,v.template,g[8])}else g[5]>0&&Dl(g)}const u=o[1].components;if(null!==u)for(let d=0;d<u.length;d++){const f=Si(u[d],o);ms(f)&&f[5]>0&&Dl(f)}}function TC(o,a){const u=Si(a,o),d=u[1];(function ex(o,a){for(let u=a.length;u<o.blueprint.length;u++)a.push(o.blueprint[u])})(d,u),_f(d,u,u[8])}function Mg(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function yf(o){for(;o;){o[2]|=64;const a=Ad(o);if(qc(o)&&!a)return o;o=a}return null}function qy(o,a,u){const d=a[10];d.begin&&d.begin();try{Fd(o,a,o.template,u)}catch(f){throw sx(a,f),f}finally{d.end&&d.end()}}function Zy(o){!function Wy(o){for(let a=0;a<o.components.length;a++){const u=o.components[a],d=hc(u),f=d[1];HS(f,d,f.template,u)}}(o[8])}function Ky(o,a,u){tu(0),a(o,u)}const rx=(()=>Promise.resolve(null))();function DC(o){return o[7]||(o[7]=[])}function Yy(o){return o.cleanup||(o.cleanup=[])}function SC(o,a,u){return(null===o||Mr(o))&&(u=function $l(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(u[a.index])),u[11]}function sx(o,a){const u=o[9],d=u?u.get(rf,null):null;d&&d.handleError(a)}function kg(o,a,u,d,f){for(let g=0;g<u.length;){const v=u[g++],C=u[g++],I=a[v],x=o.data[v];null!==x.setInput?x.setInput(I,f,d,C):I[C]=f}}function Pa(o,a,u){const d=Bo(a,o);!function pc(o,a,u){Sn(o)?o.setValue(a,u):a.textContent=u}(o[11],d,u)}function vf(o,a,u){let d=u?o.styles:null,f=u?o.classes:null,g=0;if(null!==a)for(let v=0;v<a.length;v++){const C=a[v];"number"==typeof C?g=C:1==g?f=le(f,C):2==g&&(d=le(d,C+": "+a[++v]+";"))}u?o.styles=d:o.stylesWithoutHost=d,u?o.classes=f:o.classesWithoutHost=f}const Rg=new ni("INJECTOR",-1);class xC{get(a,u=Da){if(u===Da){const d=new Error(`NullInjectorError: No provider for ${ee(a)}!`);throw d.name="NullInjectorError",d}return u}}const Qy=new ni("Set Injector scope."),bf={},Ld={};let Na;function Jy(){return void 0===Na&&(Na=new xC),Na}function $i(o,a=null,u=null,d){const f=Sl(o,a,u,d);return f._resolveInjectorDefTypes(),f}function Sl(o,a=null,u=null,d){return new ox(o,u,a||Jy(),d)}class ox{constructor(a,u,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];u&&br(u,C=>this.processProvider(C,a,u)),br([a],C=>this.processInjectorType(C,[],g)),this.records.set(Rg,bu(void 0,this));const v=this.records.get(Qy);this.scope=null!=v?v.value:null,this.source=f||("object"==typeof a?null:ee(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,u=Da,d=bt.Default){this.assertNotDestroyed();const f=he(this),g=cn(void 0);try{if(!(d&bt.SkipSelf)){let C=this.records.get(a);if(void 0===C){const I=function NC(o){return"function"==typeof o||"object"==typeof o&&o instanceof ni}(a)&&Un(a);C=I&&this.injectableDefInScope(I)?bu(Xy(a),bf):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(d&bt.Self?Jy():this.parent).get(a,u=d&bt.Optional&&u===Da?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[xa]=v[xa]||[]).unshift(ee(a)),f)throw v;return function nr(o,a,u,d){const f=o[xa];throw a[S]&&f.unshift(a[S]),o.message=function hi(o,a,u,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let f=ee(a);if(Array.isArray(a))f=a.map(ee).join(" -> ");else if("object"==typeof a){let g=[];for(let v in a)if(a.hasOwnProperty(v)){let C=a[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):ee(C)))}f=`{${g.join(", ")}}`}return`${u}${d?"("+d+")":""}[${f}]: ${o.replace(rc,"\n  ")}`}("\n"+o.message,f,u,d),o.ngTokenPath=f,o[xa]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{cn(g),he(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((d,f)=>a.push(ee(f))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processInjectorType(a,u,d){if(!(a=$(a)))return!1;let f=hs(a);const g=null==f&&a.ngModule||void 0,v=void 0===g?a:g,C=-1!==d.indexOf(v);if(void 0!==g&&(f=hs(g)),null==f)return!1;if(null!=f.imports&&!C){let O;d.push(v);try{br(f.imports,z=>{this.processInjectorType(z,u,d)&&(void 0===O&&(O=[]),O.push(z))})}finally{}if(void 0!==O)for(let z=0;z<O.length;z++){const{ngModule:ie,providers:de}=O[z];br(de,Ae=>this.processProvider(Ae,ie,de||Q))}}this.injectorDefTypes.add(v);const I=kr(v)||(()=>new v);this.records.set(v,bu(I,bf));const x=f.providers;if(null!=x&&!C){const O=a;br(x,z=>this.processProvider(z,O,x))}return void 0!==g&&void 0!==a.providers}processProvider(a,u,d){let f=wu(a=$(a))?a:$(a&&a.provide);const g=function MC(o,a,u){return tv(o)?bu(void 0,o.useValue):bu(ev(o),bf)}(a);if(wu(a)||!0!==a.multi)this.records.get(f);else{let v=this.records.get(f);v||(v=bu(void 0,bf,!0),v.factory=()=>St(v.multi),this.records.set(f,v)),f=a,v.multi.push(a)}this.records.set(f,g)}hydrate(a,u){return u.value===bf&&(u.value=Ld,u.value=u.factory()),"object"==typeof u.value&&u.value&&function PC(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=$(a.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Xy(o){const a=Un(o),u=null!==a?a.factory:kr(o);if(null!==u)return u;if(o instanceof ni)throw new Me(204,!1);if(o instanceof Function)return function AC(o){const a=o.length;if(a>0)throw Wo(a,"?"),new Me(204,!1);const u=function Ui(o){const a=o&&(o[Sr]||o[qn]);if(a){const u=function zn(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Me(204,!1)}function ev(o,a,u){let d;if(wu(o)){const f=$(o);return kr(f)||Xy(f)}if(tv(o))d=()=>$(o.useValue);else if(function RC(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...St(o.deps||[]));else if(function kC(o){return!(!o||!o.useExisting)}(o))d=()=>Fe($(o.useExisting));else{const f=$(o&&(o.useClass||o.provide));if(!function OC(o){return!!o.deps}(o))return kr(f)||Xy(f);d=()=>new f(...St(o.deps))}return d}function bu(o,a,u=!1){return{factory:o,value:a,multi:u?[]:void 0}}function tv(o){return null!==o&&"object"==typeof o&&P in o}function wu(o){return"function"==typeof o}let ea=(()=>{class o{static create(u,d){var f;if(Array.isArray(u))return $i({name:""},d,u,"");{const g=null!==(f=u.name)&&void 0!==f?f:"";return $i({name:g},u.parent,u.providers,g)}}}return o.THROW_IF_NOT_FOUND=Da,o.NULL=new xC,o.\u0275prov=sn({token:o,providedIn:"any",factory:()=>Fe(Rg)}),o.__NG_ELEMENT_ID__=-1,o})();function yN(o,a){gl(hc(o)[1],$n())}function HC(o){let a=function cx(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const d=[o];for(;a;){let f;if(Mr(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Me(903,"");f=a.\u0275dir}if(f){if(u){d.push(f);const v=o;v.inputs=uv(o.inputs),v.declaredInputs=uv(o.declaredInputs),v.outputs=uv(o.outputs);const C=f.hostBindings;C&&dx(o,C);const I=f.viewQuery,x=f.contentQueries;if(I&&zC(o,I),x&&ux(o,x),K(o.inputs,f.inputs),K(o.declaredInputs,f.declaredInputs),K(o.outputs,f.outputs),Mr(f)&&f.data.animation){const O=o.data;O.animation=(O.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(o),C===HC&&(u=!1)}}a=Object.getPrototypeOf(a)}!function vN(o){let a=0,u=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=ti(f.hostAttrs,u=ti(u,f.hostAttrs))}}(d)}function uv(o){return o===yn?{}:o===Q?[]:o}function zC(o,a){const u=o.viewQuery;o.viewQuery=u?(d,f)=>{a(d,f),u(d,f)}:a}function ux(o,a){const u=o.contentQueries;o.contentQueries=u?(d,f,g)=>{a(d,f,g),u(d,f,g)}:a}function dx(o,a){const u=o.hostBindings;o.hostBindings=u?(d,f)=>{a(d,f),u(d,f)}:a}let Cu=null;function xl(){if(!Cu){const o=Yt.Symbol;if(o&&o.iterator)Cu=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const d=a[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Cu=d)}}}return Cu}function Eu(o){return!!dv(o)&&(Array.isArray(o)||!(o instanceof Map)&&xl()in o)}function dv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function ta(o,a,u){return o[a]=u}function Er(o,a,u){return!Object.is(o[a],u)&&(o[a]=u,!0)}function Tu(o,a,u,d){const f=Er(o,a,u);return Er(o,a+1,d)||f}function Ug(o,a,u,d){const f=Ne();return Er(f,_s(),a)&&(Qt(),ns(Qn(),f,o,a,u,d)),Ug}function bc(o,a,u,d){return Er(o,_s(),u)?a+be(u)+d:Vt}function zg(o,a,u,d,f,g,v,C){const I=Ne(),x=Qt(),O=o+20,z=x.firstCreatePass?function $C(o,a,u,d,f,g,v,C,I){const x=a.consts,O=Pd(a,o,4,v||null,gr(x,C));Ag(a,u,O,gr(x,I)),gl(a,O);const z=O.tViews=xg(2,O,d,f,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,x);return null!==a.queries&&(a.queries.template(a,O),z.queries=a.queries.embeddedTView(O)),O}(O,x,I,a,u,d,f,g,v):x.data[O];er(z,!1);const ie=I[11].createComment("");cf(x,I,ie,z),ri(ie,I),Mg(I,I[O]=Gy(ie,I,ie,z)),lo(z)&&Ny(x,I,z),null!=v&&Fy(I,z,C)}function gv(o){return Vs(function ld(){return Ct.lFrame.contextLView}(),20+o)}function jd(o,a=bt.Default){const u=Ne();return null===u?Fe(o,a):Rr($n(),u,$(o),a)}function sE(){throw new Error("invalid")}function kf(o,a,u){const d=Ne();return Er(d,_s(),a)&&Qs(Qt(),Qn(),d,o,a,d[11],u,!1),kf}function Iv(o,a,u,d,f){const v=f?"class":"style";kg(o,u,a.inputs[v],v,d)}function Rf(o,a,u,d){const f=Ne(),g=Qt(),v=20+o,C=f[11],I=f[v]=ug(C,a,function hd(){return Ct.lFrame.currentNamespace}()),x=g.firstCreatePass?function Tx(o,a,u,d,f,g,v){const C=a.consts,x=Pd(a,o,2,f,gr(C,g));return Ag(a,u,x,gr(C,v)),null!==x.attrs&&vf(x,x.attrs,!1),null!==x.mergedAttrs&&vf(x,x.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,x),x}(v,g,f,0,a,u,d):g.data[v];er(x,!0);const O=x.mergedAttrs;null!==O&&Gn(C,I,O);const z=x.classes;null!==z&&hy(C,I,z);const ie=x.styles;return null!==ie&&yg(C,I,ie),64!=(64&x.flags)&&cf(g,f,I,x),0===function ol(){return Ct.lFrame.elementDepthCount}()&&ri(I,f),function od(){Ct.lFrame.elementDepthCount++}(),lo(x)&&(Ny(g,f,x),hC(g,x,f)),null!==d&&Fy(f,x),Rf}function qg(){let o=$n();Jc()?Xc():(o=o.parent,er(o,!1));const a=o;!function al(){Ct.lFrame.elementDepthCount--}();const u=Qt();return u.firstCreatePass&&(gl(u,o),Ku(o)&&u.queries.elementEnd(o)),null!=a.classesWithoutHost&&function gd(o){return 0!=(16&o.flags)}(a)&&Iv(u,a,Ne(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Kp(o){return 0!=(32&o.flags)}(a)&&Iv(u,a,Ne(),a.stylesWithoutHost,!1),qg}function oE(o,a,u,d){return Rf(o,a,u,d),qg(),oE}function Of(o,a,u){const d=Ne(),f=Qt(),g=o+20,v=f.firstCreatePass?function Ix(o,a,u,d,f){const g=a.consts,v=gr(g,d),C=Pd(a,o,8,"ng-container",v);return null!==v&&vf(C,v,!0),Ag(a,u,C,gr(g,f)),null!==a.queries&&a.queries.elementStart(a,C),C}(g,f,d,a,u):f.data[g];er(v,!0);const C=d[g]=d[11].createComment("");return cf(f,d,C,v),ri(C,d),lo(v)&&(Ny(f,d,v),hC(f,v,d)),null!=u&&Fy(d,v),Of}function Zg(){let o=$n();const a=Qt();return Jc()?Xc():(o=o.parent,er(o,!1)),a.firstCreatePass&&(gl(a,o),Ku(o)&&a.queries.elementEnd(o)),Zg}function Tc(){return Ne()}function Sv(o){return!!o&&"function"==typeof o.then}function xv(o){return!!o&&"function"==typeof o.subscribe}const lE=xv;function Kg(o,a,u,d){const f=Ne(),g=Qt(),v=$n();return Yg(g,f,f[11],v,o,a,!!u,d),Kg}function Av(o,a){const u=$n(),d=Ne(),f=Qt();return Yg(f,d,SC(ql(f.data),u,d),u,o,a,!1),Av}function Yg(o,a,u,d,f,g,v,C){const I=lo(d),O=o.firstCreatePass&&Yy(o),z=a[8],ie=DC(a);let de=!0;if(3&d.type||C){const Ye=Di(d,a),ht=C?C(Ye):Ye,Ve=ie.length,Et=C?on=>C(bn(on[d.index])):d.index;if(Sn(u)){let on=null;if(!C&&I&&(on=function Dx(o,a,u,d){const f=o.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===u&&f[g+1]===d){const C=a[7],I=f[g+2];return C.length>I?C[I]:null}"string"==typeof v&&(g+=2)}return null}(o,a,f,d.index)),null!==on)(on.__ngLastListenerFn__||on).__ngNextListenerFn__=g,on.__ngLastListenerFn__=g,de=!1;else{g=Mv(d,a,z,g,!1);const Rn=u.listen(ht,f,g);ie.push(g,Rn),O&&O.push(f,Et,Ve,Ve+1)}}else g=Mv(d,a,z,g,!0),ht.addEventListener(f,g,v),ie.push(g),O&&O.push(f,Et,Ve,v)}else g=Mv(d,a,z,g,!1);const Ae=d.outputs;let We;if(de&&null!==Ae&&(We=Ae[f])){const Ye=We.length;if(Ye)for(let ht=0;ht<Ye;ht+=2){const rs=a[We[ht]][We[ht+1]].subscribe(g),Nu=ie.length;ie.push(g,rs),O&&O.push(f,d.index,Nu,-(Nu+1))}}}function Qg(o,a,u,d){try{return!1!==u(d)}catch(f){return sx(o,f),!1}}function Mv(o,a,u,d,f){return function g(v){if(v===Function)return d;const C=2&o.flags?Si(o.index,a):a;0==(32&a[2])&&yf(C);let I=Qg(a,0,d,v),x=g.__ngNextListenerFn__;for(;x;)I=Qg(a,0,x,v)&&I,x=x.__ngNextListenerFn__;return f&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function kv(o=1){return function ys(o){return(Ct.lFrame.contextLView=function Fh(o,a){for(;o>0;)a=a[15],o--;return a}(o,Ct.lFrame.contextLView))[8]}(o)}function Sx(o,a){let u=null;const d=function py(o){const a=o.attrs;if(null!=a){const u=a.indexOf(5);if(0==(1&u))return a[u+1]}return null}(o);for(let f=0;f<a.length;f++){const g=a[f];if("*"!==g){if(null===d?sC(o,g,!0):SS(d,g))return f}else u=f}return u}function Rv(o){const a=Ne()[16][6];if(!a.projection){const d=a.projection=Wo(o?o.length:1,null),f=d.slice();let g=a.child;for(;null!==g;){const v=o?Sx(g,o):0;null!==v&&(f[v]?f[v].projectionNext=g:d[v]=g,f[v]=g),g=g.next}}}function cE(o,a=0,u){const d=Ne(),f=Qt(),g=Pd(f,20+o,16,null,u||null);null===g.projection&&(g.projection=a),Xc(),64!=(64&g.flags)&&function tC(o,a,u){_g(a[11],0,a,u,Y0(o,u,a),ly(u.parent||a[6],u,a))}(f,d,g)}function Jg(o,a,u){return Ov(o,"",a,"",u),Jg}function Ov(o,a,u,d,f){const g=Ne(),v=bc(g,a,u,d);return v!==Vt&&Qs(Qt(),Qn(),g,o,v,g[11],f,!1),Ov}function Nv(o,a,u,d,f){const g=o[u+1],v=null===a;let C=d?Jo(g):ts(g),I=!1;for(;0!==C&&(!1===I||v);){const O=o[C+1];Al(o[C],a)&&(I=!0,o[C+1]=d?wy(O):vy(O)),C=d?Jo(O):ts(O)}I&&(o[u+1]=d?vy(g):wy(g))}function Al(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&qo(o,a)>=0}const Wi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hE(o){return o.substring(Wi.key,Wi.keyEnd)}function Fv(o,a){const u=Wi.textEnd;return u===a?-1:(a=Wi.keyEnd=function Fx(o,a,u){for(;a<u&&o.charCodeAt(a)>32;)a++;return a}(o,Wi.key=a,u),Hd(o,a,u))}function Hd(o,a,u){for(;a<u&&o.charCodeAt(a)<=32;)a++;return a}function wi(o,a,u){return Ts(o,a,u,!1),wi}function Pf(o,a){return Ts(o,a,null,!0),Pf}function xo(o,a){for(let u=function Px(o){return function Nx(o){Wi.key=0,Wi.keyEnd=0,Wi.value=0,Wi.valueEnd=0,Wi.textEnd=o.length}(o),Fv(o,Hd(o,0,Wi.textEnd))}(a);u>=0;u=Fv(a,u))di(o,hE(a),!0)}function Ts(o,a,u,d){const f=Ne(),g=Qt(),v=Us(2);g.firstUpdatePass&&yE(g,o,v,d),a!==Vt&&Er(f,v,a)&&bE(g,g.data[xi()],f,f[11],o,f[v+1]=function Uv(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=ee(Cs(o)))),o}(a,u),d,v)}function Bv(o,a){return a>=o.expandoStartIndex}function yE(o,a,u,d){const f=o.data;if(null===f[u+1]){const g=f[xi()],v=Bv(o,u);jv(g,d)&&null===a&&!v&&(a=!1),a=function IN(o,a,u,d){const f=ql(o);let g=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(u=nm(u=vE(null,o,a,u,d),a.attrs,d),g=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==f)if(u=vE(f,o,a,u,d),null===g){let I=function DN(o,a,u){const d=u?a.classBindings:a.styleBindings;if(0!==ts(d))return o[Jo(d)]}(o,a,d);void 0!==I&&Array.isArray(I)&&(I=vE(null,o,a,I[1],d),I=nm(I,a.attrs,d),function SN(o,a,u,d){o[Jo(u?a.classBindings:a.styleBindings)]=d}(o,a,d,I))}else g=function xN(o,a,u){let d;const f=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<f;g++)d=nm(d,o[g].hostAttrs,u);return nm(d,a.attrs,u)}(o,a,d)}return void 0!==g&&(d?a.residualClasses=g:a.residualStyles=g),u}(f,g,a,d),function TN(o,a,u,d,f,g){let v=g?a.classBindings:a.styleBindings,C=Jo(v),I=ts(v);o[d]=u;let O,x=!1;if(Array.isArray(u)){const z=u;O=z[1],(null===O||qo(z,O)>0)&&(x=!0)}else O=u;if(f)if(0!==I){const ie=Jo(o[C+1]);o[d+1]=bg(ie,C),0!==ie&&(o[ie+1]=by(o[ie+1],d)),o[C+1]=function mc(o,a){return 131071&o|a<<17}(o[C+1],d)}else o[d+1]=bg(C,0),0!==C&&(o[C+1]=by(o[C+1],d)),C=d;else o[d+1]=bg(I,0),0===C?C=d:o[I+1]=by(o[I+1],d),I=d;x&&(o[d+1]=vy(o[d+1])),Nv(o,O,d,!0),Nv(o,O,d,!1),function dE(o,a,u,d,f){const g=f?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&qo(g,a)>=0&&(u[d+1]=wy(u[d+1]))}(a,O,o,d,g),v=bg(C,I),g?a.classBindings=v:a.styleBindings=v}(f,g,a,u,v,d)}}function vE(o,a,u,d,f){let g=null;const v=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<v&&(g=a[C],d=nm(d,g.hostAttrs,f),g!==o);)C++;return null!==o&&(u.directiveStylingLast=C),d}function nm(o,a,u){const d=u?1:2;let f=-1;if(null!==a)for(let g=0;g<a.length;g++){const v=a[g];"number"==typeof v?f=v:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),di(o,v,!!u||a[++g]))}return void 0===o?null:o}function bE(o,a,u,d,f,g,v,C){if(!(3&a.type))return;const I=o.data,x=I[C+1];zd(function aC(o){return 1==(1&o)}(x)?Vv(I,a,u,f,ts(x),v):void 0)||(zd(g)||function wg(o){return 2==(2&o)}(x)&&(g=Vv(I,null,u,f,C,v)),function dy(o,a,u,d,f){const g=Sn(o);if(a)f?g?o.addClass(u,d):u.classList.add(d):g?o.removeClass(u,d):u.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:ka.DashCase;if(null==f)g?o.removeStyle(u,d,v):u.style.removeProperty(d);else{const C="string"==typeof f&&f.endsWith("!important");C&&(f=f.slice(0,-10),v|=ka.Important),g?o.setStyle(u,d,f,v):u.style.setProperty(d,f,C?"important":"")}}}(d,v,Bo(xi(),u),f,g))}function Vv(o,a,u,d,f,g){const v=null===a;let C;for(;f>0;){const I=o[f],x=Array.isArray(I),O=x?I[1]:I,z=null===O;let ie=u[f+1];ie===Vt&&(ie=z?Q:void 0);let de=z?Ia(ie,d):O===d?ie:void 0;if(x&&!zd(de)&&(de=Ia(I,d)),zd(de)&&(C=de,v))return C;const Ae=o[f+1];f=v?Jo(Ae):ts(Ae)}if(null!==a){let I=g?a.residualClasses:a.residualStyles;null!=I&&(C=Ia(I,d))}return C}function zd(o){return void 0!==o}function jv(o,a){return 0!=(o.flags&(a?16:32))}function wE(o,a=""){const u=Ne(),d=Qt(),f=o+20,g=d.firstCreatePass?Pd(d,f,1,a,null):d.data[f],v=u[f]=function ay(o,a){return Sn(o)?o.createText(a):o.createTextNode(a)}(u[11],a);cf(d,u,v,g),er(g,!1)}function Nf(o){return im("",o,""),Nf}function im(o,a,u){const d=Ne(),f=bc(d,o,a,u);return f!==Vt&&Pa(d,xi(),f),im}function IE(o,a,u){!function Ao(o,a,u,d){const f=Qt(),g=Us(2);f.firstUpdatePass&&yE(f,null,g,d);const v=Ne();if(u!==Vt&&Er(v,g,u)){const C=f.data[xi()];if(jv(C,d)&&!Bv(f,g)){let I=d?C.classesWithoutHost:C.stylesWithoutHost;null!==I&&(u=le(I,u||"")),Iv(f,C,v,u,d)}else!function Bx(o,a,u,d,f,g,v,C){f===Vt&&(f=Q);let I=0,x=0,O=0<f.length?f[0]:null,z=0<g.length?g[0]:null;for(;null!==O||null!==z;){const ie=I<f.length?f[I+1]:void 0,de=x<g.length?g[x+1]:void 0;let We,Ae=null;O===z?(I+=2,x+=2,ie!==de&&(Ae=z,We=de)):null===z||null!==O&&O<z?(I+=2,Ae=O):(x+=2,Ae=z,We=de),null!==Ae&&bE(o,a,u,d,Ae,We,v,C),O=I<f.length?f[I]:null,z=x<g.length?g[x]:null}}(f,C,v,v[11],v[g+1],v[g+1]=function AN(o,a,u){if(null==u||""===u)return Q;const d=[],f=Cs(u);if(Array.isArray(f))for(let g=0;g<f.length;g++)o(d,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&o(d,g,f[g]);else"string"==typeof f&&a(d,f);return d}(o,a,u),d,g)}}(di,xo,bc(Ne(),o,a,u),!0)}function Gv(o,a,u){const d=Ne();return Er(d,_s(),a)&&Qs(Qt(),Qn(),d,o,a,d[11],u,!0),Gv}function $v(o,a,u){const d=Ne();if(Er(d,_s(),a)){const g=Qt(),v=Qn();Qs(g,v,d,o,a,SC(ql(g.data),v,d),u,!0)}return $v}const Su=void 0;var oA=["en",[["a","p"],["AM","PM"],Su],[["AM","PM"],Su,Su],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Su,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Su,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Su,"{1} 'at' {0}",Su],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sA(o){const u=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Gd={};function Wv(o){const a=function lA(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=FE(a);if(u)return u;const d=a.split("-")[0];if(u=FE(d),u)return u;if("en"===d)return oA;throw new Error(`Missing locale data for the locale "${o}".`)}function NE(o){return Wv(o)[xt.PluralCase]}function FE(o){return o in Gd||(Gd[o]=Yt.ng&&Yt.ng.common&&Yt.ng.common.locales&&Yt.ng.common.locales[o]),Gd[o]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const rm="en-US";let qv=rm;function XE(o,a,u,d,f){if(o=$(o),Array.isArray(o))for(let g=0;g<o.length;g++)XE(o[g],a,u,d,f);else{const g=Qt(),v=Ne();let C=wu(o)?o:$(o.provide),I=ev(o);const x=$n(),O=1048575&x.providerIndexes,z=x.directiveStart,ie=x.providerIndexes>>20;if(wu(o)||!o.multi){const de=new ya(I,f,jd),Ae=rb(C,a,f?O:O+ie,z);-1===Ae?(yr(_r(x,v),g,C),eT(g,o,a.length),a.push(C),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),u.push(de),v.push(de)):(u[Ae]=de,v[Ae]=de)}else{const de=rb(C,a,O+ie,z),Ae=rb(C,a,O,O+ie),We=de>=0&&u[de],Ye=Ae>=0&&u[Ae];if(f&&!Ye||!f&&!We){yr(_r(x,v),g,C);const ht=function GN(o,a,u,d,f){const g=new ya(o,u,jd);return g.multi=[],g.index=a,g.componentProviders=0,RA(g,f,d&&!u),g}(f?zN:HN,u.length,f,d,I);!f&&Ye&&(u[Ae].providerFactory=ht),eT(g,o,a.length,0),a.push(C),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),u.push(ht),v.push(ht)}else eT(g,o,de>-1?de:Ae,RA(u[f?Ae:de],I,!f&&d));!f&&d&&Ye&&u[Ae].componentProviders++}}}function eT(o,a,u,d){const f=wu(a),g=function Og(o){return!!o.useClass}(a);if(f||g){const I=(g?$(a.useClass):a).prototype.ngOnDestroy;if(I){const x=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const O=x.indexOf(u);-1===O?x.push(u,[d,I]):x[O+1].push(d,I)}else x.push(u,I)}}}function RA(o,a,u){return u&&o.componentProviders++,o.multi.push(a)-1}function rb(o,a,u,d){for(let f=u;f<d;f++)if(a[f]===o)return f;return-1}function HN(o,a,u,d){return tT(this.multi,[])}function zN(o,a,u,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Yr(u,u[1],this.providerFactory.index,d);g=C.slice(0,v),tT(f,g);for(let I=v;I<C.length;I++)g.push(C[I])}else g=[],tT(f,g);return g}function tT(o,a){for(let u=0;u<o.length;u++)a.push((0,o[u])());return a}function OA(o,a=[]){return u=>{u.providersResolver=(d,f)=>function jN(o,a,u){const d=Qt();if(d.firstCreatePass){const f=Mr(o);XE(u,d.data,d.blueprint,f,!0),XE(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class PA{}class qN{resolveComponentFactory(a){throw function WN(o){const a=Error(`No component factory found for ${ee(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let sb=(()=>{class o{}return o.NULL=new qN,o})();function ZN(){return Kd($n(),Ne())}function Kd(o,a){return new gm(Di(o,a))}let gm=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=ZN,o})();function KN(o){return o instanceof gm?o.nativeElement:o}class NA{}let YN=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function JN(){const o=Ne(),u=Si($n().index,o);return function QN(o){return o[11]}(pr(u)?u:o)}(),o})(),XN=(()=>{class o{}return o.\u0275prov=sn({token:o,providedIn:"root",factory:()=>null}),o})();class FA{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const LA=new FA("13.3.5"),iT={};function ob(o,a,u,d,f=!1){for(;null!==u;){const g=a[u.index];if(null!==g&&d.push(bn(g)),Xi(g))for(let C=10;C<g.length;C++){const I=g[C],x=I[1].firstChild;null!==x&&ob(I[1],I,x,d)}const v=u.type;if(8&v)ob(o,a,u.child,d);else if(32&v){const C=lg(u,a);let I;for(;I=C();)d.push(I)}else if(16&v){const C=eC(a,u);if(Array.isArray(C))d.push(...C);else{const I=Ad(a[16]);ob(I[1],I,C,d,!0)}}u=f?u.projectionNext:u.next}return d}class mm{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return ob(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Xi(a)){const u=a[8],d=u?u.indexOf(this):-1;d>-1&&(af(a,d),vl(u,d))}this._attachedToViewContainer=!1}lf(this._lView[1],this._lView)}onDestroy(a){By(this._lView[1],this._lView,null,a)}markForCheck(){yf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){qy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function nx(o,a,u){ma(!0);try{qy(o,a,u)}finally{ma(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Me(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dg(o,a){gc(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Me(902,"");this._appRef=a}}class eF extends mm{constructor(a){super(a),this._view=a}detectChanges(){Zy(this._view)}checkNoChanges(){!function ix(o){ma(!0);try{Zy(o)}finally{ma(!1)}}(this._view)}get context(){return null}}class BA extends sb{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=pt(a);return new rT(u,this.ngModule)}}function VA(o){const a=[];for(let u in o)o.hasOwnProperty(u)&&a.push({propName:o[u],templateName:u});return a}class rT extends PA{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function xS(o){return o.map(vg).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return VA(this.componentDef.inputs)}get outputs(){return VA(this.componentDef.outputs)}create(a,u,d,f){const g=(f=f||this.ngModule)?function nF(o,a){return{get:(u,d,f)=>{const g=o.get(u,iT,f);return g!==iT||d===iT?g:a.get(u,d,f)}}}(a,f.injector):a,v=g.get(NA,il),C=g.get(XN,null),I=v.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",O=d?function Ly(o,a,u){if(Sn(o))return o.selectRootElement(a,u===Kt.ShadowDom);let d="string"==typeof a?o.querySelector(a):a;return d.textContent="",d}(I,d,this.componentDef.encapsulation):ug(v.createRenderer(null,this.componentDef),x,function tF(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(x)),z=this.componentDef.onPush?576:528,ie=function lx(o,a){return{components:[],scheduler:o||mS,clean:rx,playerHandler:a||null,flags:0}}(),de=xg(0,null,null,1,0,null,null,null,null,null),Ae=mf(null,de,ie,z,null,null,v,I,C,g);let We,Ye;Uo(Ae);try{const ht=function Lg(o,a,u,d,f,g){const v=u[1];u[20]=o;const I=Pd(v,20,2,"#host",null),x=I.mergedAttrs=a.hostAttrs;null!==x&&(vf(I,x,!0),null!==o&&(Gn(f,o,x),null!==I.classes&&hy(f,o,I.classes),null!==I.styles&&yg(f,o,I.styles)));const O=d.createRenderer(o,a),z=mf(u,fC(a),null,a.onPush?64:16,u[20],I,d,O,g||null,null);return v.firstCreatePass&&(yr(_r(I,u),v,a.type),wC(v,I),jy(I,u.length,1)),Mg(u,z),u[20]=z}(O,this.componentDef,Ae,v,I);if(O)if(d)Gn(I,O,["ng-version",LA.full]);else{const{attrs:Ve,classes:Et}=function my(o){const a=[],u=[];let d=1,f=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===f?""!==g&&a.push(g,o[++d]):8===f&&u.push(g);else{if(!Eo(f))break;f=g}d++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);Ve&&Gn(I,O,Ve),Et&&Et.length>0&&hy(I,O,Et.join(" "))}if(Ye=Yn(de,20),void 0!==u){const Ve=Ye.projection=[];for(let Et=0;Et<this.ngContentSelectors.length;Et++){const on=u[Et];Ve.push(null!=on?Array.from(on):null)}}We=function jC(o,a,u,d,f){const g=u[1],v=function Vy(o,a,u){const d=$n();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Il(o,d,a,Nd(o,a,1,null),u));const f=Yr(a,o,d.directiveStart,d);ri(f,a);const g=Di(d,a);return g&&ri(g,a),f}(g,u,a);if(d.components.push(v),o[8]=v,f&&f.forEach(I=>I(v,a)),a.contentQueries){const I=$n();a.contentQueries(1,v,I.directiveStart)}const C=$n();return!g.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(js(C.index),bC(u[1],C,0,C.directiveStart,C.directiveEnd,a),Uy(a,v)),v}(ht,this.componentDef,Ae,ie,[yN]),_f(de,Ae,null)}finally{_a()}return new rF(this.componentType,We,Kd(Ye,Ae),Ae,Ye)}}class rF extends class $N{}{constructor(a,u,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new eF(f),this.componentType=a}get injector(){return new wa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class Vf{}class sT{}const Yd=new Map;class HA extends Vf{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new BA(this);const d=$t(a);this._bootstrapComponents=Yo(d.bootstrap),this._r3Injector=Sl(a,u,[{provide:Vf,useValue:this},{provide:sb,useValue:this.componentFactoryResolver}],ee(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,u=ea.THROW_IF_NOT_FOUND,d=bt.Default){return a===ea||a===Vf||a===Rg?this:this._r3Injector.get(a,u,d)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class oT extends sT{constructor(a){super(),this.moduleType=a,null!==$t(a)&&function oF(o){const a=new Set;!function u(d){const f=$t(d,!0),g=f.id;null!==g&&(function UA(o,a,u){if(a&&a!==u)throw new Error(`Duplicate module registered for ${o} - ${ee(a)} vs ${ee(a.name)}`)}(g,Yd.get(g),d),Yd.set(g,d));const v=Yo(f.imports);for(const C of v)a.has(C)||(a.add(C),u(C))}(o)}(a)}create(a){return new HA(this.moduleType,a)}}function zA(o,a,u){const d=vi()+o,f=Ne();return f[d]===Vt?ta(f,d,u?a.call(u):a()):function Ef(o,a){return o[a]}(f,d)}function GA(o,a,u,d){return qA(Ne(),vi(),o,a,u,d)}function $A(o,a,u,d,f){return ZA(Ne(),vi(),o,a,u,d,f)}function WA(o,a,u,d,f,g,v){return function YA(o,a,u,d,f,g,v,C,I){const x=a+u;return function Do(o,a,u,d,f,g){const v=Tu(o,a,u,d);return Tu(o,a+2,f,g)||v}(o,x,f,g,v,C)?ta(o,x+4,I?d.call(I,f,g,v,C):d(f,g,v,C)):_m(o,x+4)}(Ne(),vi(),o,a,u,d,f,g,v)}function _m(o,a){const u=o[a];return u===Vt?void 0:u}function qA(o,a,u,d,f,g){const v=a+u;return Er(o,v,f)?ta(o,v+1,g?d.call(g,f):d(f)):_m(o,v+1)}function ZA(o,a,u,d,f,g,v){const C=a+u;return Tu(o,C,f,g)?ta(o,C+2,v?d.call(v,f,g):d(f,g)):_m(o,C+2)}function JA(o,a){const u=Qt();let d;const f=o+20;u.firstCreatePass?(d=function fF(o,a){if(a)for(let u=a.length-1;u>=0;u--){const d=a[u];if(o===d.name)return d}}(a,u.pipeRegistry),u.data[f]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,d.onDestroy)):d=u.data[f];const g=d.factory||(d.factory=kr(d.type)),v=cn(jd);try{const C=mt(!1),I=g();return mt(C),function gx(o,a,u,d){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),a[u]=d}(u,Ne(),f,I),I}finally{cn(v)}}function XA(o,a,u){const d=o+20,f=Ne(),g=Vs(f,d);return ym(f,d)?qA(f,vi(),a,g.transform,u,g):g.transform(u)}function eM(o,a,u,d){const f=o+20,g=Ne(),v=Vs(g,f);return ym(g,f)?ZA(g,vi(),a,v.transform,u,d,v):v.transform(u,d)}function ym(o,a){return o[1].data[a].pure}function aT(o){return a=>{setTimeout(o,void 0,a)}}const Rl=class _F extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,d){var f,g,v;let C=a,I=u||(()=>null),x=d;if(a&&"object"==typeof a){const z=a;C=null===(f=z.next)||void 0===f?void 0:f.bind(z),I=null===(g=z.error)||void 0===g?void 0:g.bind(z),x=null===(v=z.complete)||void 0===v?void 0:v.bind(z)}this.__isAsync&&(I=aT(I),C&&(C=aT(C)),x&&(x=aT(x)));const O=super.subscribe({next:C,error:I,complete:x});return a instanceof L.w0&&a.add(O),O}};function yF(){return this._results[xl()]()}class ab{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=xl(),d=ab.prototype;d[u]||(d[u]=yF)}get changes(){return this._changes||(this._changes=new Rl)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const d=this;d.dirty=!1;const f=Gi(a);(this._changesDetected=!function Hh(o,a,u){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],g=a[d];if(u&&(f=u(f),g=u(g)),g!==f)return!1}return!0}(d._results,f,u))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let vm=(()=>{class o{}return o.__NG_ELEMENT_ID__=wF,o})();const vF=vm,bF=class extends vF{constructor(a,u,d){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(a){const u=this._declarationTContainer.tViews,d=mf(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(u)),_f(u,d,a),new mm(d)}};function wF(){return lb($n(),Ne())}function lb(o,a){return 4&o.type?new bF(a,o,Kd(o,a)):null}let cb=(()=>{class o{}return o.__NG_ELEMENT_ID__=CF,o})();function CF(){return iM($n(),Ne())}const EF=cb,tM=class extends EF{constructor(a,u,d){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=d}get element(){return Kd(this._hostTNode,this._hostLView)}get injector(){return new wa(this._hostTNode,this._hostLView)}get parentInjector(){const a=go(this._hostTNode,this._hostLView);if(zs(a)){const u=Mn(a,this._hostLView),d=mr(a);return new wa(u[1].data[d+8],u)}return new wa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=nM(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,d){const f=a.createEmbeddedView(u||{});return this.insert(f,d),f}createComponent(a,u,d,f,g){const v=a&&!function vo(o){return"function"==typeof o}(a);let C;if(v)C=u;else{const z=u||{};C=z.index,d=z.injector,f=z.projectableNodes,g=z.ngModuleRef}const I=v?a:new rT(pt(a)),x=d||this.parentInjector;if(!g&&null==I.ngModule){const ie=(v?x:this.parentInjector).get(Vf,null);ie&&(g=ie)}const O=I.create(x,f,void 0,g);return this.insert(O.hostView,C),O}insert(a,u){const d=a._lView,f=d[1];if(function Yc(o){return Xi(o[3])}(d)){const O=this.indexOf(a);if(-1!==O)this.detach(O);else{const z=d[3],ie=new tM(z,z[6],z[3]);ie.detach(ie.indexOf(a))}}const g=this._adjustIndex(u),v=this._lContainer;!function q0(o,a,u,d){const f=10+d,g=u.length;d>0&&(u[f-1][4]=a),d<g-10?(a[4]=u[f],$o(u,10+d,a)):(u.push(a),a[4]=null),a[3]=u;const v=a[17];null!==v&&u!==v&&function hg(o,a){const u=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===u?o[9]=[a]:u.push(a)}(v,a);const C=a[19];null!==C&&C.insertView(o),a[2]|=128}(f,d,v,g);const C=Co(g,v),I=d[11],x=pg(I,v[7]);return null!==x&&function bS(o,a,u,d,f,g){d[0]=f,d[6]=a,gc(o,d,u,1,f,g)}(f,v[6],I,d,x,C),a.attachToViewContainerRef(),$o(lT(v),g,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=nM(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),d=af(this._lContainer,u);d&&(vl(lT(this._lContainer),u),lf(d[1],d))}detach(a){const u=this._adjustIndex(a,-1),d=af(this._lContainer,u);return d&&null!=vl(lT(this._lContainer),u)?new mm(d):null}_adjustIndex(a,u=0){return null==a?this.length+u:a}};function nM(o){return o[8]}function lT(o){return o[8]||(o[8]=[])}function iM(o,a){let u;const d=a[o.index];if(Xi(d))u=d;else{let f;if(8&o.type)f=bn(d);else{const g=a[11];f=g.createComment("");const v=Di(o,a);Oa(g,pg(g,v),f,function ES(o,a){return Sn(o)?o.nextSibling(a):a.nextSibling}(g,v),!1)}a[o.index]=u=Gy(d,a,f,o),Mg(a,u)}return new tM(u,o,a)}class cT{constructor(a){this.queryList=a,this.matches=null}clone(){return new cT(this.queryList)}setDirty(){this.queryList.setDirty()}}class ub{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const d=null!==a.contentQueries?a.contentQueries[0]:u.length,f=[];for(let g=0;g<d;g++){const v=u.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new ub(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==lM(a,u).matches&&this.queries[u].setDirty()}}class Uf{constructor(a,u,d=null){this.predicate=a,this.flags=u,this.read=d}}class Ac{constructor(a=[]){this.queries=a}elementStart(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let d=0;d<this.length;d++){const f=null!==u?u.length:0,g=this.getByIndex(d).embeddedTView(a,f);g&&(g.indexInDeclarationView=d,null!==u?u.push(g):u=[g])}return null!==u?new Ac(u):null}template(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class db{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new db(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(a,u,hb(u,g)),this.matchTNodeWithReadOption(a,u,Mi(u,a,g,!1,!1))}else d===vm?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,Mi(u,a,d,!1,!1))}matchTNodeWithReadOption(a,u,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===gm||f===cb||f===vm&&4&u.type)this.addMatch(u.index,-2);else{const g=Mi(u,a,f,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,d)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function hb(o,a){const u=o.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===a)return u[d+1];return null}function or(o,a,u,d){return-1===u?function rM(o,a){return 11&o.type?Kd(o,a):4&o.type?lb(o,a):null}(a,o):-2===u?function Tr(o,a,u){return u===gm?Kd(a,o):u===vm?lb(a,o):u===cb?iM(a,o):void 0}(o,a,d):Yr(o,o[1],u,a)}function fb(o,a,u,d){const f=a[19].queries[d];if(null===f.matches){const g=o.data,v=u.matches,C=[];for(let I=0;I<v.length;I+=2){const x=v[I];C.push(x<0?null:or(a,g[x],v[I+1],u.metadata.read))}f.matches=C}return f.matches}function pb(o,a,u,d){const f=o.queries.getByIndex(u),g=f.matches;if(null!==g){const v=fb(o,a,f,u);for(let C=0;C<g.length;C+=2){const I=g[C];if(I>0)d.push(v[C/2]);else{const x=g[C+1],O=a[-I];for(let z=10;z<O.length;z++){const ie=O[z];ie[17]===ie[3]&&pb(ie[1],ie,x,d)}if(null!==O[9]){const z=O[9];for(let ie=0;ie<z.length;ie++){const de=z[ie];pb(de[1],de,x,d)}}}}}return d}function gb(o){const a=Ne(),u=Qt(),d=pl();tu(d+1);const f=lM(u,d);if(o.dirty&&ga(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const g=f.crossesNgTemplate?pb(u,a,d,[]):fb(u,a,f,d);o.reset(g,KN),o.notifyOnChanges()}return!0}return!1}function Ri(o,a,u){const d=Qt();d.firstCreatePass&&(aM(d,new Uf(o,a,u),-1),2==(2&a)&&(d.staticViewQueries=!0)),oM(d,Ne(),a)}function Ba(o,a,u,d){const f=Qt();if(f.firstCreatePass){const g=$n();aM(f,new Uf(a,u,d),g.index),function dT(o,a){const u=o.contentQueries||(o.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,a)}(f,o),2==(2&u)&&(f.staticContentQueries=!0)}oM(f,Ne(),u)}function sM(){return function uT(o,a){return o[19].queries[a].queryList}(Ne(),pl())}function oM(o,a,u){const d=new ab(4==(4&u));By(o,a,d,d.destroy),null===a[19]&&(a[19]=new ub),a[19].queries.push(new cT(d))}function aM(o,a,u){null===o.queries&&(o.queries=new Ac),o.queries.track(new db(a,u))}function lM(o,a){return o.queries.getByIndex(a)}function kc(...o){}const wb=new ni("Application Initializer");let Im=(()=>{class o{constructor(u){this.appInits=u,this.resolve=kc,this.reject=kc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(Sv(g))u.push(g);else if(lE(g)){const v=new Promise((C,I)=>{g.subscribe({complete:C,error:I})});u.push(v)}}Promise.all(u).then(()=>{d()}).catch(f=>{this.reject(f)}),0===u.length&&d(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(Fe(wb,8))},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Pr=new ni("AppId",{providedIn:"root",factory:function Rc(){return`${Va()}${Va()}${Va()}`}});function Va(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const EM=new ni("Platform Initializer"),IT=new ni("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),TM=new ni("appBootstrapListener");let NF=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const ku=new ni("LocaleId",{providedIn:"root",factory:()=>Dt(ku,bt.Optional|bt.SkipSelf)||function DT(){return"undefined"!=typeof $localize&&$localize.locale||rm}()}),ST=new ni("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class AT{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let DM=(()=>{class o{compileModuleSync(u){return new oT(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),g=Yo($t(u).declarations).reduce((v,C)=>{const I=pt(C);return I&&v.push(new rT(I)),v},[]);return new AT(d,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const xM=(()=>Promise.resolve(0))();function Eb(o){"undefined"==typeof Zone?xM.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class ia{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rl(!1),this.onMicrotaskEmpty=new Rl(!1),this.onStable=new Rl(!1),this.onError=new Rl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&u,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function AM(){let o=Yt.requestAnimationFrame,a=Yt.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function LF(o){const a=()=>{!function kM(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Yt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Ib(o),o.isCheckStableRunning=!0,Tb(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Ib(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,f,g,v,C)=>{try{return MT(o),u.invokeTask(f,g,v,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),kT(o)}},onInvoke:(u,d,f,g,v,C,I)=>{try{return MT(o),u.invoke(f,g,v,C,I)}finally{o.shouldCoalesceRunChangeDetection&&a(),kT(o)}},onHasTask:(u,d,f,g)=>{u.hasTask(f,g),d===f&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,Ib(o),Tb(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,d,f,g)=>(u.handleError(f,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ia.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ia.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,u,d){return this._inner.run(a,u,d)}runTask(a,u,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,a,MM,kc,kc);try{return g.runTask(v,u,d)}finally{g.cancelTask(v)}}runGuarded(a,u,d){return this._inner.runGuarded(a,u,d)}runOutsideAngular(a){return this._outer.run(a)}}const MM={};function Tb(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Ib(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function MT(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function kT(o){o._nesting--,Tb(o)}class RM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rl,this.onMicrotaskEmpty=new Rl,this.onStable=new Rl,this.onError=new Rl}run(a,u,d){return a.apply(u,d)}runGuarded(a,u,d){return a.apply(u,d)}runOutsideAngular(a){return a()}runTask(a,u,d,f){return a.apply(u,d)}}let RT=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ia.assertNotInAngularZone(),Eb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Eb(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:f})}whenStable(u,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,d,f){return[]}}return o.\u0275fac=function(u){return new(u||o)(Fe(ia))},o.\u0275prov=sn({token:o,factory:o.\u0275fac}),o})(),OM=(()=>{class o{constructor(){this._applications=new Map,Db.addToWindow(this)}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return Db.findTestabilityInTree(this,u,d)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();class PM{addToWindow(a){}findTestabilityInTree(a,u,d){return null}}function NM(o){Db=o}let Db=new PM,Ru=null;const OT=new ni("AllowMultipleToken"),PT=new ni("PlatformOnDestroy");class BM{constructor(a,u){this.name=a,this.token=u}}function NT(o,a,u=[]){const d=`Platform: ${a}`,f=new ni(d);return(g=[])=>{let v=Sb();if(!v||v.injector.get(OT,!1)){const C=[...u,...g,{provide:f,useValue:!0}];o?o(C):function VM(o){if(Ru&&!Ru.get(OT,!1))throw new Me(400,"");Ru=o;const a=o.get(HM),u=o.get(EM,null);u&&u.forEach(d=>d())}(function jM(o=[],a){return ea.create({name:a,providers:[{provide:Qy,useValue:"platform"},{provide:PT,useValue:()=>Ru=null},...o]})}(C,d))}return function UM(o){const a=Sb();if(!a)throw new Me(401,"");return a}()}}function Sb(){var o;return null!==(o=null==Ru?void 0:Ru.get(HM))&&void 0!==o?o:null}let HM=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const C=function zM(o,a){let u;return u="noop"===o?new RM:("zone.js"===o?void 0:o)||new ia({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),u}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),I=[{provide:ia,useValue:C}];return C.run(()=>{const x=ea.create({providers:I,parent:this.injector,name:u.moduleType.name}),O=u.create(x),z=O.injector.get(rf,null);if(!z)throw new Me(402,"");return C.runOutsideAngular(()=>{const ie=C.onError.subscribe({next:de=>{z.handleError(de)}});O.onDestroy(()=>{Sm(this._modules,O),ie.unsubscribe()})}),function GM(o,a,u){try{const d=u();return Sv(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(z,C,()=>{const ie=O.injector.get(Im);return ie.runInitializers(),ie.donePromise.then(()=>(function sr(o){He(o,"Expected localeId to be defined"),"string"==typeof o&&(qv=o.toLowerCase().replace(/_/g,"-"))}(O.injector.get(ku,rm)||rm),this._moduleDoBootstrap(O),O))})})}bootstrapModule(u,d=[]){const f=Dm({},d);return function FM(o,a,u){const d=new oT(u);return Promise.resolve(d)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(u){const d=u.injector.get(Ua);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new Me(403,"");u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(PT,null);null==u||u(),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(Fe(ea))},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Dm(o,a){return Array.isArray(a)?a.reduce(Dm,o):Object.assign(Object.assign({},o),a)}let Ua=(()=>{class o{constructor(u,d,f,g){this._zone=u,this._injector=d,this._exceptionHandler=f,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new k.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),C=new k.y(I=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{ia.assertNotInAngularZone(),Eb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{ia.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{x.unsubscribe(),O.unsubscribe()}});this.isStable=(0,q.T)(v,C.pipe((0,J.B)()))}bootstrap(u,d){if(!this._initStatus.done)throw new Me(405,"");let f;f=u instanceof PA?u:this._injector.get(sb).resolveComponentFactory(u),this.componentTypes.push(f.componentType);const g=function LM(o){return o.isBoundToModule}(f)?void 0:this._injector.get(Vf),C=f.create(ea.NULL,[],d||f.selector,g),I=C.location.nativeElement,x=C.injector.get(RT,null),O=x&&C.injector.get(OM);return x&&O&&O.registerApplication(I,x),C.onDestroy(()=>{this.detachView(C.hostView),Sm(this.components,C),O&&O.unregisterApplication(I)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Me(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;Sm(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(TM,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(Fe(ia),Fe(ea),Fe(rf),Fe(Im))},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Sm(o,a){const u=o.indexOf(a);u>-1&&o.splice(u,1)}let Am=!0,Ds=!1;function FT(){return Ds=!0,Am}function Ab(){if(Ds)throw new Error("Cannot enable prod mode after platform setup.");Am=!1}let UF=(()=>{class o{}return o.__NG_ELEMENT_ID__=qM,o})();function qM(o){return function Ou(o,a,u){if(Ul(o)&&!u){const d=Si(o.index,a);return new mm(d,d)}return 47&o.type?new mm(a[16],a):null}($n(),Ne(),16==(16&o))}class Ob{constructor(){}supports(a){return Eu(a)}create(a){return new BT(a)}}const Oc=(o,a)=>a;class BT{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Oc}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,d=this._removalsHead,f=0,g=null;for(;u||d;){const v=!d||u&&u.currentIndex<th(d,f,g)?u:d,C=th(v,f,g),I=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{g||(g=[]);const x=C-f,O=I-f;if(x!=O){for(let ie=0;ie<x;ie++){const de=ie<g.length?g[ie]:g[ie]=0,Ae=de+ie;O<=Ae&&Ae<x&&(g[ie]=de+1)}g[v.previousIndex]=O-x}}C!==I&&a(v,C,I)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!Eu(a))throw new Me(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,g,v,u=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)g=a[C],v=this._trackByFn(C,g),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,g,v,C)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,v,C),d=!0),u=u._next}else f=0,function px(o,a){if(Array.isArray(o))for(let u=0;u<o.length;u++)a(o[u]);else{const u=o[xl()]();let d;for(;!(d=u.next()).done;)a(d.value)}}(a,C=>{v=this._trackByFn(f,C),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,C,v,f)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,v,f),d=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,d,f){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,g,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,g,f)):a=this._addAfter(new VT(u,d),g,f),a}_verifyReinsertion(a,u,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?a=this._reinsertAfter(g,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,g=a._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(a,u,d),this._addToMoves(a,d),a}_moveAfter(a,u,d){return this._unlink(a),this._insertAfter(a,u,d),this._addToMoves(a,d),a}_addAfter(a,u,d){return this._insertAfter(a,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,d){const f=null===u?this._itHead:u._next;return a._next=f,a._prev=u,null===f?this._itTail=a:f._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new Pc),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,d=a._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pc),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class VT{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ha{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const u=a._prevDup,d=a._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class Pc{constructor(){this.map=new Map}put(a){const u=a.trackById;let d=this.map.get(u);d||(d=new Ha,this.map.set(u,d)),d.add(a)}get(a,u){const f=this.map.get(a);return f?f.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function th(o,a,u){const d=o.previousIndex;if(null===d)return d;let f=0;return u&&d<u.length&&(f=u[d]),d+a+f}class UT{constructor(){}supports(a){return a instanceof Map||dv(a)}create(){return new Pb}}class Pb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||dv(a)))throw new Me(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(f,d);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const d=a._prev;return u._next=a,u._prev=d,a._prev=u,d&&(d._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,u);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new jT(a);return this._records.set(a,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(d=>u(a[d],d))}}class jT{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Wf(){return new nh([new Ob])}let nh=(()=>{class o{constructor(u){this.factories=u}static create(u,d){if(null!=d){const f=d.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||Wf()),deps:[[o,new wr,new Jr]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(null!=d)return d;throw new Me(901,"")}}return o.\u0275prov=sn({token:o,providedIn:"root",factory:Wf}),o})();function Pm(){return new Nb([new UT])}let Nb=(()=>{class o{constructor(u){this.factories=u}static create(u,d){if(d){const f=d.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||Pm()),deps:[[o,new wr,new Jr]]}}find(u){const d=this.factories.find(g=>g.supports(u));if(d)return d;throw new Me(901,"")}}return o.\u0275prov=sn({token:o,providedIn:"root",factory:Pm}),o})();const Nm=NT(null,"core",[]);let Fm=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(Fe(Ua))},o.\u0275mod=ve({type:o}),o.\u0275inj=hn({}),o})()},3942:(De,me,M)=>{"use strict";M.d(me,{Z:()=>Me});var l=M(2090),L=M(4859),k=M(9681),q=M(1877);class J{constructor(be,Ee){this._delegate=be,this.firebase=Ee,(0,k._addComponent)(be,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(be,Ee=k._DEFAULT_ENTRY_NAME){var ke;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(be);return!Be.isInitialized()&&"EXPLICIT"===(null===(ke=Be.getComponent())||void 0===ke?void 0:ke.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:Ee})}_removeServiceInstance(be,Ee=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(Ee)}_addComponent(be){(0,k._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,k._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const K=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function le(){const Le=function ee(Le){const be={},Ee={__esModule:!0,initializeApp:function _e(Y,ye={}){const N=k.initializeApp(Y,ye);if((0,l.r3)(be,N.name))return be[N.name];const G=new Le(N,Ee);return be[N.name]=G,G},app:Be,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Re(Y){const ye=Y.name,N=ye.replace("-compat","");if(k._registerComponent(Y)&&"PUBLIC"===Y.type){const G=(W=Be())=>{if("function"!=typeof W[N])throw K.create("invalid-app-argument",{appName:ye});return W[N]()};void 0!==Y.serviceProps&&(0,l.ZB)(G,Y.serviceProps),Ee[N]=G,Le.prototype[N]=function(...W){return this._getService.bind(this,ye).apply(this,Y.multipleInstances?W:[])}}return"PUBLIC"===Y.type?Ee[N]:null},removeApp:function ke(Y){delete be[Y]},useAsService:function Je(Y,ye){return"serverAuth"===ye?null:ye},modularAPIs:k}};function Be(Y){if(!(0,l.r3)(be,Y=Y||k._DEFAULT_ENTRY_NAME))throw K.create("no-app",{appName:Y});return be[Y]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function $e(){return Object.keys(be).map(Y=>be[Y])}}),Be.App=Le,Ee}(J);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function be(Ee){(0,l.ZB)(Le,Ee)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Le}(),B=new q.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=H;!function Se(Le){(0,k.registerVersion)("@firebase/app-compat","0.1.26",Le)}()},9681:(De,me,M)=>{"use strict";M.r(me),M.d(me,{FirebaseError:()=>q.ZR,SDK_VERSION:()=>Sr,_DEFAULT_ENTRY_NAME:()=>He,_addComponent:()=>Pn,_addOrOverwriteComponent:()=>sn,_apps:()=>_n,_clearComponents:()=>Gr,_components:()=>Tt,_getProvider:()=>hn,_registerComponent:()=>Gt,_removeServiceInstance:()=>Un,deleteApp:()=>bt,getApp:()=>qn,getApps:()=>fs,initializeApp:()=>$r,onLog:()=>cn,registerVersion:()=>Nn,setLogLevel:()=>Ni});var l=M(9671),L=M(4859),k=M(1877),q=M(2090),J=M(8766);class oe{constructor(fe){this.container=fe}getPlatformInfoString(){return this.container.getProviders().map(je=>{if(function K(ne){const fe=ne.getComponent();return"VERSION"===(null==fe?void 0:fe.type)}(je)){const tt=je.getImmediate();return`${tt.library}/${tt.version}`}return null}).filter(je=>je).join(" ")}}const ee="@firebase/app",H=new k.Yd("@firebase/app"),He="[DEFAULT]",ot={[ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_n=new Map,Tt=new Map;function Pn(ne,fe){try{ne.container.addComponent(fe)}catch(je){H.debug(`Component ${fe.name} failed to register with FirebaseApp ${ne.name}`,je)}}function sn(ne,fe){ne.container.addOrOverwriteComponent(fe)}function Gt(ne){const fe=ne.name;if(Tt.has(fe))return H.debug(`There were multiple attempts to register component ${fe}.`),!1;Tt.set(fe,ne);for(const je of _n.values())Pn(je,ne);return!0}function hn(ne,fe){const je=ne.container.getProvider("heartbeat").getImmediate({optional:!0});return je&&je.triggerHeartbeat(),ne.container.getProvider(fe)}function Un(ne,fe,je=He){hn(ne,fe).clearInstance(je)}function Gr(){Tt.clear()}const zn=new q.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class hs{constructor(fe,je,tt){this._isDeleted=!1,this._options=Object.assign({},fe),this._config=Object.assign({},je),this._name=je.name,this._automaticDataCollectionEnabled=je.automaticDataCollectionEnabled,this._container=tt,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(fe){this._isDeleted=fe}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}const Sr="9.8.2";function $r(ne,fe={}){"object"!=typeof fe&&(fe={name:fe});const je=Object.assign({name:He,automaticDataCollectionEnabled:!1},fe),tt=je.name;if("string"!=typeof tt||!tt)throw zn.create("bad-app-name",{appName:String(tt)});const vt=_n.get(tt);if(vt){if((0,q.vZ)(ne,vt.options)&&(0,q.vZ)(je,vt.config))return vt;throw zn.create("duplicate-app",{appName:tt})}const Pt=new L.H0(tt);for(const It of Tt.values())Pt.addComponent(It);const gn=new hs(ne,je,Pt);return _n.set(tt,gn),gn}function qn(ne=He){const fe=_n.get(ne);if(!fe)throw zn.create("no-app",{appName:ne});return fe}function fs(){return Array.from(_n.values())}function bt(ne){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,l.Z)(function*(ne){const fe=ne.name;_n.has(fe)&&(_n.delete(fe),yield Promise.all(ne.container.getProviders().map(je=>je.delete())),ne.isDeleted=!0)})).apply(this,arguments)}function Nn(ne,fe,je){var tt;let vt=null!==(tt=ot[ne])&&void 0!==tt?tt:ne;je&&(vt+=`-${je}`);const Pt=vt.match(/\s|\//),gn=fe.match(/\s|\//);if(Pt||gn){const It=[`Unable to register library "${vt}" with version "${fe}":`];return Pt&&It.push(`library name "${vt}" contains illegal characters (whitespace or "/")`),Pt&&gn&&It.push("and"),gn&&It.push(`version name "${fe}" contains illegal characters (whitespace or "/")`),void H.warn(It.join(" "))}Gt(new L.wA(`${vt}-version`,()=>({library:vt,version:fe}),"VERSION"))}function cn(ne,fe){if(null!==ne&&"function"!=typeof ne)throw zn.create("invalid-log-argument");(0,k.Am)(ne,fe)}function Ni(ne){(0,k.Ub)(ne)}const Fn="firebase-heartbeat-store";let yi=null;function Rs(){return yi||(yi=(0,J.X3)("firebase-heartbeat-database",1,{upgrade:(ne,fe)=>{0===fe&&ne.createObjectStore(Fn)}}).catch(ne=>{throw zn.create("storage-open",{originalErrorMessage:ne.message})})),yi}function gt(){return(gt=(0,l.Z)(function*(ne){try{return(yield Rs()).transaction(Fn).objectStore(Fn).get(Ar(ne))}catch(fe){throw zn.create("storage-get",{originalErrorMessage:fe.message})}})).apply(this,arguments)}function ct(ne,fe){return xr.apply(this,arguments)}function xr(){return(xr=(0,l.Z)(function*(ne,fe){try{const tt=(yield Rs()).transaction(Fn,"readwrite");return yield tt.objectStore(Fn).put(fe,Ar(ne)),tt.done}catch(je){throw zn.create("storage-set",{originalErrorMessage:je.message})}})).apply(this,arguments)}function Ar(ne){return`${ne.name}!${ne.options.appId}`}class Zn{constructor(fe){this.container=fe,this._heartbeatsCache=null;const je=this.container.getProvider("app").getImmediate();this._storage=new re(je),this._heartbeatsCachePromise=this._storage.read().then(tt=>(this._heartbeatsCache=tt,tt))}triggerHeartbeat(){var fe=this;return(0,l.Z)(function*(){const tt=fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vt=yn();if(null===fe._heartbeatsCache&&(fe._heartbeatsCache=yield fe._heartbeatsCachePromise),fe._heartbeatsCache.lastSentHeartbeatDate!==vt&&!fe._heartbeatsCache.heartbeats.some(Pt=>Pt.date===vt))return fe._heartbeatsCache.heartbeats.push({date:vt,agent:tt}),fe._heartbeatsCache.heartbeats=fe._heartbeatsCache.heartbeats.filter(Pt=>{const gn=new Date(Pt.date).valueOf();return Date.now()-gn<=2592e6}),fe._storage.overwrite(fe._heartbeatsCache)})()}getHeartbeatsHeader(){var fe=this;return(0,l.Z)(function*(){if(null===fe._heartbeatsCache&&(yield fe._heartbeatsCachePromise),null===fe._heartbeatsCache||0===fe._heartbeatsCache.heartbeats.length)return"";const je=yn(),{heartbeatsToSend:tt,unsentEntries:vt}=function Q(ne,fe=1024){const je=[];let tt=ne.slice();for(const vt of ne){const Pt=je.find(gn=>gn.agent===vt.agent);if(Pt){if(Pt.dates.push(vt.date),ae(je)>fe){Pt.dates.pop();break}}else if(je.push({agent:vt.agent,dates:[vt.date]}),ae(je)>fe){je.pop();break}tt=tt.slice(1)}return{heartbeatsToSend:je,unsentEntries:tt}}(fe._heartbeatsCache.heartbeats),Pt=(0,q.L)(JSON.stringify({version:2,heartbeats:tt}));return fe._heartbeatsCache.lastSentHeartbeatDate=je,vt.length>0?(fe._heartbeatsCache.heartbeats=vt,yield fe._storage.overwrite(fe._heartbeatsCache)):(fe._heartbeatsCache.heartbeats=[],fe._storage.overwrite(fe._heartbeatsCache)),Pt})()}}function yn(){return(new Date).toISOString().substring(0,10)}class re{constructor(fe){this.app=fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,q.hl)()&&(0,q.eu)().then(()=>!0).catch(()=>!1)})()}read(){var fe=this;return(0,l.Z)(function*(){return(yield fe._canUseIndexedDBPromise)&&(yield function Kt(ne){return gt.apply(this,arguments)}(fe.app))||{heartbeats:[]}})()}overwrite(fe){var je=this;return(0,l.Z)(function*(){var tt;if(yield je._canUseIndexedDBPromise){const Pt=yield je.read();return ct(je.app,{lastSentHeartbeatDate:null!==(tt=fe.lastSentHeartbeatDate)&&void 0!==tt?tt:Pt.lastSentHeartbeatDate,heartbeats:fe.heartbeats})}})()}add(fe){var je=this;return(0,l.Z)(function*(){var tt;if(yield je._canUseIndexedDBPromise){const Pt=yield je.read();return ct(je.app,{lastSentHeartbeatDate:null!==(tt=fe.lastSentHeartbeatDate)&&void 0!==tt?tt:Pt.lastSentHeartbeatDate,heartbeats:[...Pt.heartbeats,...fe.heartbeats]})}})()}}function ae(ne){return(0,q.L)(JSON.stringify({version:2,heartbeats:ne})).length}!function xe(ne){Gt(new L.wA("platform-logger",fe=>new oe(fe),"PRIVATE")),Gt(new L.wA("heartbeat",fe=>new Zn(fe),"PRIVATE")),Nn(ee,"0.7.25",ne),Nn(ee,"0.7.25","esm2017"),Nn("fire-js","")}("")},4859:(De,me,M)=>{"use strict";M.d(me,{H0:()=>ee,wA:()=>k,zt:()=>J});var l=M(9671),L=M(2090);class k{constructor(H,B,$){this.name=H,this.instanceFactory=B,this.type=$,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const q="[DEFAULT]";class J{constructor(H,B){this.name=H,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const B=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(B)){const $=new L.BH;if(this.instancesDeferred.set(B,$),this.isInitialized(B)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:B});Oe&&$.resolve(Oe)}catch(Oe){}}return this.instancesDeferred.get(B).promise}getImmediate(H){var B;const $=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),Oe=null!==(B=null==H?void 0:H.optional)&&void 0!==B&&B;if(!this.isInitialized($)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:$})}catch(Se){if(Oe)return null;throw Se}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function K(le){return"EAGER"===le.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:q})}catch(B){}for(const[B,$]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(B);try{const Se=this.getOrInitializeService({instanceIdentifier:Oe});$.resolve(Se)}catch(Se){}}}}clearInstance(H=q){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,l.Z)(function*(){const B=Array.from(H.instances.values());yield Promise.all([...B.filter($=>"INTERNAL"in $).map($=>$.INTERNAL.delete()),...B.filter($=>"_delete"in $).map($=>$._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=q){return this.instances.has(H)}getOptions(H=q){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:B={}}=H,$=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized($))throw Error(`${this.name}(${$}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:$,options:B});for(const[Se,Me]of this.instancesDeferred.entries())$===this.normalizeInstanceIdentifier(Se)&&Me.resolve(Oe);return Oe}onInit(H,B){var $;const Oe=this.normalizeInstanceIdentifier(B),Se=null!==($=this.onInitCallbacks.get(Oe))&&void 0!==$?$:new Set;Se.add(H),this.onInitCallbacks.set(Oe,Se);const Me=this.instances.get(Oe);return Me&&H(Me,Oe),()=>{Se.delete(H)}}invokeOnInitCallbacks(H,B){const $=this.onInitCallbacks.get(B);if($)for(const Oe of $)try{Oe(H,B)}catch(Se){}}getOrInitializeService({instanceIdentifier:H,options:B={}}){let $=this.instances.get(H);if(!$&&this.component&&($=this.component.instanceFactory(this.container,{instanceIdentifier:(le=H,le===q?void 0:le),options:B}),this.instances.set(H,$),this.instancesOptions.set(H,B),this.invokeOnInitCallbacks($,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,$)}catch(Oe){}var le;return $||null}normalizeInstanceIdentifier(H=q){return this.component?this.component.multipleInstances?H:q:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ee{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const B=this.getProvider(H.name);if(B.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);B.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const B=new J(H,this);return this.providers.set(H,B),B}getProviders(){return Array.from(this.providers.values())}}},1877:(De,me,M)=>{"use strict";M.d(me,{Am:()=>le,Ub:()=>ee,Yd:()=>K,in:()=>L});const l=[];var L=(()=>{return(H=L||(L={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",L;var H})();const k={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},q=L.INFO,J={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},oe=(H,B,...$)=>{if(B<H.logLevel)return;const Oe=(new Date).toISOString(),Se=J[B];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[Se](`[${Oe}]  ${H.name}:`,...$)};class K{constructor(B){this.name=B,this._logLevel=q,this._logHandler=oe,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in L))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?k[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...B),this._logHandler(this,L.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...B),this._logHandler(this,L.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,L.INFO,...B),this._logHandler(this,L.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,L.WARN,...B),this._logHandler(this,L.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...B),this._logHandler(this,L.ERROR,...B)}}function ee(H){l.forEach(B=>{B.setLogLevel(H)})}function le(H,B){for(const $ of l){let Oe=null;B&&B.level&&(Oe=k[B.level]),$.userLogHandler=null===H?null:(Se,Me,...Le)=>{const be=Le.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch(ke){return null}}).filter(Ee=>Ee).join(" ");Me>=(null!=Oe?Oe:Se.logLevel)&&H({level:L[Me].toLowerCase(),message:be,args:Le,type:Se.name})}}}},8766:(De,me,M)=>{"use strict";M.d(me,{Lj:()=>_e,X3:()=>Be});var l=M(9671);let k,q;const K=new WeakMap,ee=new WeakMap,le=new WeakMap,H=new WeakMap,B=new WeakMap;let Se={get(ye,N,G){if(ye instanceof IDBTransaction){if("done"===N)return ee.get(ye);if("objectStoreNames"===N)return ye.objectStoreNames||le.get(ye);if("store"===N)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return Ee(ye[N])},set:(ye,N,G)=>(ye[N]=G,!0),has:(ye,N)=>ye instanceof IDBTransaction&&("done"===N||"store"===N)||N in ye};function be(ye){return"function"==typeof ye?function Le(ye){return ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oe(){return q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ye)?function(...N){return ye.apply(ke(this),N),Ee(K.get(this))}:function(...N){return Ee(ye.apply(ke(this),N))}:function(N,...G){const W=ye.call(ke(this),N,...G);return le.set(W,N.sort?N.sort():[N]),Ee(W)}}(ye):(ye instanceof IDBTransaction&&function Oe(ye){if(ee.has(ye))return;const N=new Promise((G,W)=>{const te=()=>{ye.removeEventListener("complete",pe),ye.removeEventListener("error",X),ye.removeEventListener("abort",X)},pe=()=>{G(),te()},X=()=>{W(ye.error||new DOMException("AbortError","AbortError")),te()};ye.addEventListener("complete",pe),ye.addEventListener("error",X),ye.addEventListener("abort",X)});ee.set(ye,N)}(ye),((ye,N)=>N.some(G=>ye instanceof G))(ye,function J(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ye,Se):ye)}function Ee(ye){if(ye instanceof IDBRequest)return function $(ye){const N=new Promise((G,W)=>{const te=()=>{ye.removeEventListener("success",pe),ye.removeEventListener("error",X)},pe=()=>{G(Ee(ye.result)),te()},X=()=>{W(ye.error),te()};ye.addEventListener("success",pe),ye.addEventListener("error",X)});return N.then(G=>{G instanceof IDBCursor&&K.set(G,ye)}).catch(()=>{}),B.set(N,ye),N}(ye);if(H.has(ye))return H.get(ye);const N=be(ye);return N!==ye&&(H.set(ye,N),B.set(N,ye)),N}const ke=ye=>B.get(ye);function Be(ye,N,{blocked:G,upgrade:W,blocking:te,terminated:pe}={}){const X=indexedDB.open(ye,N),Ge=Ee(X);return W&&X.addEventListener("upgradeneeded",dt=>{W(Ee(X.result),dt.oldVersion,dt.newVersion,Ee(X.transaction))}),G&&X.addEventListener("blocked",()=>G()),Ge.then(dt=>{pe&&dt.addEventListener("close",()=>pe()),te&&dt.addEventListener("versionchange",()=>te())}).catch(()=>{}),Ge}function _e(ye,{blocked:N}={}){const G=indexedDB.deleteDatabase(ye);return N&&G.addEventListener("blocked",()=>N()),Ee(G).then(()=>{})}const $e=["get","getKey","getAll","getAllKeys","count"],Re=["put","add","delete","clear"],Je=new Map;function Y(ye,N){if(!(ye instanceof IDBDatabase)||N in ye||"string"!=typeof N)return;if(Je.get(N))return Je.get(N);const G=N.replace(/FromIndex$/,""),W=N!==G,te=Re.includes(G);if(!(G in(W?IDBIndex:IDBObjectStore).prototype)||!te&&!$e.includes(G))return;const pe=function(){var X=(0,l.Z)(function*(Ge,...dt){const dn=this.transaction(Ge,te?"readwrite":"readonly");let He=dn.store;return W&&(He=He.index(dt.shift())),(yield Promise.all([He[G](...dt),te&&dn.done]))[0]});return function(dt){return X.apply(this,arguments)}}();return Je.set(N,pe),pe}!function Me(ye){Se=ye(Se)}(ye=>rG(iG({},ye),{get:(N,G,W)=>Y(N,G)||ye.get(N,G,W),has:(N,G)=>!!Y(N,G)||ye.has(N,G)}))}},De=>{De(De.s=3746)}]);