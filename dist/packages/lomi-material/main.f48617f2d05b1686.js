var dte=Object.defineProperty,hte=Object.defineProperties,fte=Object.getOwnPropertyDescriptors,BG=Object.getOwnPropertySymbols,pte=Object.prototype.hasOwnProperty,gte=Object.prototype.propertyIsEnumerable,VG=(De,ye,M)=>ye in De?dte(De,ye,{enumerable:!0,configurable:!0,writable:!0,value:M}):De[ye]=M,UG=(De,ye)=>{for(var M in ye||(ye={}))pte.call(ye,M)&&VG(De,M,ye[M]);if(BG)for(var M of BG(ye))gte.call(ye,M)&&VG(De,M,ye[M]);return De},HG=(De,ye)=>hte(De,fte(ye));(self.webpackChunklomi_material=self.webpackChunklomi_material||[]).push([[179],{2011:(De,ye,M)=>{"use strict";M.d(ye,{Dh:()=>ee,GT:()=>le,cc:()=>Se,hO:()=>Me,on:()=>j,pX:()=>J,xv:()=>de});var o=M(5e3),L=M(127),k=M(5813);De=M.hmd(De);const q=["ngOnDestroy"],J=(Ce,ke,Be,ve={})=>new Proxy(Ce,{get:(qe,Re)=>Be.runOutsideAngular(()=>{var it;if(Ce[Re])return(null===(it=null==ve?void 0:ve.spy)||void 0===it?void 0:it.get)&&ve.spy.get(Re,Ce[Re]),Ce[Re];if(q.indexOf(Re)>-1)return()=>{};const Q=ke.toPromise().then(be=>{const F=be&&be[Re];return"function"==typeof F?F.bind(be):F&&F.then?F.then(G=>Be.run(()=>G)):Be.run(()=>F)});return new Proxy(()=>{},{get:(be,F)=>Q[F],apply:(be,F,G)=>Q.then(W=>{var te;const ge=W&&W(...G);return(null===(te=null==ve?void 0:ve.spy)||void 0===te?void 0:te.apply)&&ve.spy.apply(Re,G,ge),ge})})})}),le=(Ce,ke)=>{ke.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(ve=>{Object.defineProperty(Ce.prototype,ve,Object.getOwnPropertyDescriptor(Be.prototype||Be,ve))})})};class Y{constructor(ke){return ke}}const ee=new o.OlP("angularfire2.app.options"),de=new o.OlP("angularfire2.app.name");function j(Ce,ke,Be){const qe="object"==typeof Be&&Be||{};qe.name=qe.name||"string"==typeof Be&&Be||"[DEFAULT]";const it=L.Z.apps.filter(Q=>Q&&Q.name===qe.name)[0]||ke.runOutsideAngular(()=>L.Z.initializeApp(Ce,qe));try{JSON.stringify(Ce)!==JSON.stringify(it.options)&&B("error",`${it.name} Firebase App already initialized with different options${De.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Q){}return new Y(it)}const B=(Ce,...ke)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[Ce](...ke)},$={provide:Y,useFactory:j,deps:[ee,o.R0b,[new o.FiY,de]]};let Me=(()=>{class Ce{constructor(Be){L.Z.registerVersion("angularfire",k.q4.full,"core"),L.Z.registerVersion("angularfire",k.q4.full,"app-compat"),L.Z.registerVersion("angular",o.q4F.full,Be.toString())}static initializeApp(Be,ve){return{ngModule:Ce,providers:[{provide:ee,useValue:Be},{provide:de,useValue:ve}]}}}return Ce.\u0275fac=function(Be){return new(Be||Ce)(o.LFG(o.Lbi))},Ce.\u0275mod=o.oAB({type:Ce}),Ce.\u0275inj=o.cJS({providers:[$]}),Ce})();function Se(Ce,ke,Be,ve,qe){const[,Re,it]=globalThis.\u0275AngularfireInstanceCache.find(Q=>Q[0]===Ce)||[];if(Re)return function Ae(Ce,ke){try{return Ce.toString()===ke.toString()}catch(Be){return Ce===ke}}(qe,it)||(we("error",`${ke} was already initialized on the ${Be} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:qe,was:it})),Re;{const Q=ve();return globalThis.\u0275AngularfireInstanceCache.push([Ce,Q,qe]),Q}}const Fe=!!De.hot,we=(Ce,...ke)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[Ce](...ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(De,ye,M)=>{"use strict";M.d(ye,{q4:()=>vc,iC:()=>Ia,fc:()=>bc,HU:()=>Il,vb:()=>To,JM:()=>Tl,u3:()=>Ad});var o=M(5e3),L=M(5867),k=M(9671),q=M(9681),J=M(2090),le=M(4859),Y=M(1877),ee=M(8766);const de="@firebase/installations",j="0.5.12",$=`w:${j}`,Me="FIS_v2",ke=new J.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Be(D){return D instanceof J.ZR&&D.code.includes("request-failed")}function ve({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function qe(D){return{token:D.token,requestStatus:2,expiresIn:W(D.expiresIn),creationTime:Date.now()}}function Re(D,S){return it.apply(this,arguments)}function it(){return(it=(0,k.Z)(function*(D,S){const Z=(yield S.json()).error;return ke.create("request-failed",{requestName:D,serverCode:Z.code,serverMessage:Z.message,serverStatus:Z.status})})).apply(this,arguments)}function Q({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function be(D,{refreshToken:S}){const P=Q(D);return P.append("Authorization",function te(D){return`${Me} ${D}`}(S)),P}function F(D){return G.apply(this,arguments)}function G(){return(G=(0,k.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function W(D){return Number(D.replace("s","000"))}function ge(D,S){return X.apply(this,arguments)}function X(){return(X=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:S},{fid:P}){const Z=ve(D),he=Q(D),Ee=S.getImmediate({optional:!0});if(Ee){const Dt=yield Ee.getHeartbeatsHeader();Dt&&he.append("x-firebase-client",Dt)}const Je={method:"POST",headers:he,body:JSON.stringify({fid:P,authVersion:Me,appId:D.appId,sdkVersion:$})},gt=yield F(()=>fetch(Z,Je));if(gt.ok){const Dt=yield gt.json();return{fid:Dt.fid||P,registrationStatus:2,refreshToken:Dt.refreshToken,authToken:qe(Dt.authToken)}}throw yield Re("Create Installation",gt)})).apply(this,arguments)}function Ge(D){return new Promise(S=>{setTimeout(S,D)})}const fn=/^[cdef][\w-]{21}$/;function at(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const P=function vn(D){return function ct(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return fn.test(P)?P:""}catch(D){return""}}function St(D){return`${D.appName}!${D.appId}`}const Ln=new Map;function rn(D,S){const P=St(D);Vn(P,S),function Wr(D,S){const P=function Gn(){return!$i&&"BroadcastChannel"in self&&($i=new BroadcastChannel("[Firebase] FID Change"),$i.onmessage=D=>{Vn(D.data.key,D.data.fid)}),$i}();P&&P.postMessage({key:D,fid:S}),function Rs(){0===Ln.size&&$i&&($i.close(),$i=null)}()}(P,S)}function Vn(D,S){const P=Ln.get(D);if(P)for(const Z of P)Z(S)}let $i=null;const Xn="firebase-installations-store";let gs=null;function wt(){return gs||(gs=(0,ee.X3)("firebase-installations-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore(Xn)}})),gs}function Wi(D,S){return Un.apply(this,arguments)}function Un(){return(Un=(0,k.Z)(function*(D,S){const P=St(D),he=(yield wt()).transaction(Xn,"readwrite"),Ee=he.objectStore(Xn),Ue=yield Ee.get(P);return yield Ee.put(S,P),yield he.done,(!Ue||Ue.fid!==S.fid)&&rn(D,S.fid),S})).apply(this,arguments)}function mn(D){return yi.apply(this,arguments)}function yi(){return(yi=(0,k.Z)(function*(D){const S=St(D),Z=(yield wt()).transaction(Xn,"readwrite");yield Z.objectStore(Xn).delete(S),yield Z.done})).apply(this,arguments)}function qi(D,S){return vi.apply(this,arguments)}function vi(){return(vi=(0,k.Z)(function*(D,S){const P=St(D),he=(yield wt()).transaction(Xn,"readwrite"),Ee=he.objectStore(Xn),Ue=yield Ee.get(P),Je=S(Ue);return void 0===Je?yield Ee.delete(P):yield Ee.put(Je,P),yield he.done,Je&&(!Ue||Ue.fid!==Je.fid)&&rn(D,Je.fid),Je})).apply(this,arguments)}function Hn(D){return bi.apply(this,arguments)}function bi(){return(bi=(0,k.Z)(function*(D){let S;const P=yield qi(D.appConfig,Z=>{const he=Os(Z),Ee=qt(D,he);return S=Ee.registrationPromise,Ee.installationEntry});return""===P.fid?{installationEntry:yield S}:{installationEntry:P,registrationPromise:S}})).apply(this,arguments)}function Os(D){return Zr(D||{fid:at(),registrationStatus:0})}function qt(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(ke.create("app-offline"))};const P={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},Z=function mt(D,S){return ut.apply(this,arguments)}(D,P);return{installationEntry:P,registrationPromise:Z}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Sr(D)}:{installationEntry:S}}function ut(){return(ut=(0,k.Z)(function*(D,S){try{const P=yield ge(D,S);return Wi(D.appConfig,P)}catch(P){throw Be(P)&&409===P.customData.serverCode?yield mn(D.appConfig):yield Wi(D.appConfig,{fid:S.fid,registrationStatus:0}),P}})).apply(this,arguments)}function Sr(D){return xr.apply(this,arguments)}function xr(){return(xr=(0,k.Z)(function*(D){let S=yield Zt(D.appConfig);for(;1===S.registrationStatus;)yield Ge(100),S=yield Zt(D.appConfig);if(0===S.registrationStatus){const{installationEntry:P,registrationPromise:Z}=yield Hn(D);return Z||P}return S})).apply(this,arguments)}function Zt(D){return qi(D,S=>{if(!S)throw ke.create("installation-not-found");return Zr(S)})}function Zr(D){return function ei(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function An(D,S){return vt.apply(this,arguments)}function vt(){return(vt=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:S},P){const Z=rr(D,P),he=be(D,P),Ee=S.getImmediate({optional:!0});if(Ee){const Dt=yield Ee.getHeartbeatsHeader();Dt&&he.append("x-firebase-client",Dt)}const Je={method:"POST",headers:he,body:JSON.stringify({installation:{sdkVersion:$,appId:D.appId}})},gt=yield F(()=>fetch(Z,Je));if(gt.ok)return qe(yield gt.json());throw yield Re("Generate Auth Token",gt)})).apply(this,arguments)}function rr(D,{fid:S}){return`${ve(D)}/${S}/authTokens:generate`}function se(D){return ie.apply(this,arguments)}function ie(){return(ie=(0,k.Z)(function*(D,S=!1){let P;const Z=yield qi(D.appConfig,Ee=>{if(!It(Ee))throw ke.create("not-registered");const Ue=Ee.authToken;if(!S&&un(Ue))return Ee;if(1===Ue.requestStatus)return P=K(D,S),Ee;{if(!navigator.onLine)throw ke.create("app-offline");const Je=wi(Ee);return P=Le(D,Je),Je}});return P?yield P:Z.authToken})).apply(this,arguments)}function K(D,S){return re.apply(this,arguments)}function re(){return(re=(0,k.Z)(function*(D,S){let P=yield oe(D.appConfig);for(;1===P.authToken.requestStatus;)yield Ge(100),P=yield oe(D.appConfig);const Z=P.authToken;return 0===Z.requestStatus?se(D,S):Z})).apply(this,arguments)}function oe(D){return qi(D,S=>{if(!It(S))throw ke.create("not-registered");return function fe(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Le(D,S){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,k.Z)(function*(D,S){try{const P=yield An(D,S),Z=Object.assign(Object.assign({},S),{authToken:P});return yield Wi(D.appConfig,Z),P}catch(P){if(!Be(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const Z=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Wi(D.appConfig,Z)}else yield mn(D.appConfig);throw P}})).apply(this,arguments)}function It(D){return void 0!==D&&2===D.registrationStatus}function un(D){return 2===D.requestStatus&&!function sn(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+36e5}(D)}function wi(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}function ae(){return(ae=(0,k.Z)(function*(D){const S=D,{installationEntry:P,registrationPromise:Z}=yield Hn(S);return Z?Z.catch(console.error):se(S).catch(console.error),P.fid})).apply(this,arguments)}function Xe(){return(Xe=(0,k.Z)(function*(D,S=!1){const P=D;return yield ft(P),(yield se(P,S)).token})).apply(this,arguments)}function ft(D){return At.apply(this,arguments)}function At(){return(At=(0,k.Z)(function*(D){const{registrationPromise:S}=yield Hn(D);S&&(yield S)})).apply(this,arguments)}function Xa(D){return ke.create("missing-app-config-values",{valueName:D})}const yr="installations",Ut=D=>{const S=D.getProvider("app").getImmediate(),P=function xi(D){if(!D||!D.options)throw Xa("App Configuration");if(!D.name)throw Xa("App Name");const S=["projectId","apiKey","appId"];for(const P of S)if(!D.options[P])throw Xa(P);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S);return{app:S,appConfig:P,heartbeatServiceProvider:(0,q._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Pn=D=>{const S=D.getProvider("app").getImmediate(),P=(0,q._getProvider)(S,yr).getImmediate();return{getId:()=>function ce(D){return ae.apply(this,arguments)}(P),getToken:he=>function Oe(D){return Xe.apply(this,arguments)}(P,he)}};(function sr(){(0,q._registerComponent)(new le.wA(yr,Ut,"PUBLIC")),(0,q._registerComponent)(new le.wA("installations-internal",Pn,"PRIVATE"))})(),(0,q.registerVersion)(de,j),(0,q.registerVersion)(de,j,"esm2017");const Ps="@firebase/remote-config",ti=new J.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class id{constructor(S,P,Z,he){this.client=S,this.storage=P,this.storageCache=Z,this.logger=he}isCachedDataFresh(S,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Z=Date.now()-P,he=Z<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Z}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${he}.`),he}fetch(S){var P=this;return(0,k.Z)(function*(){const[Z,he]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(he&&P.isCachedDataFresh(S.cacheMaxAgeMillis,Z))return he;S.eTag=he&&he.eTag;const Ee=yield P.client.fetch(S),Ue=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ee.status&&Ue.push(P.storage.setLastSuccessfulFetchResponse(Ee)),yield Promise.all(Ue),Ee})()}}function tc(D=navigator){return D.languages&&D.languages[0]||D.language}class pi{constructor(S,P,Z,he,Ee,Ue){this.firebaseInstallations=S,this.sdkVersion=P,this.namespace=Z,this.projectId=he,this.apiKey=Ee,this.appId=Ue}fetch(S){var P=this;return(0,k.Z)(function*(){var Z,he,Ee;const[Ue,Je]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),Dt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,Rt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},_t={sdk_version:P.sdkVersion,app_instance_id:Ue,app_instance_id_token:Je,app_id:P.appId,language_code:tc()},Ti={method:"POST",headers:Rt,body:JSON.stringify(_t)},Qi=fetch(Dt,Ti),Io=new Promise((es,So)=>{S.signal.addEventListener(()=>{const lf=new Error("The operation was aborted.");lf.name="AbortError",So(lf)})});let Xr;try{yield Promise.race([Qi,Io]),Xr=yield Qi}catch(es){let So="fetch-client-network";throw"AbortError"===(null===(Z=es)||void 0===Z?void 0:Z.name)&&(So="fetch-timeout"),ti.create(So,{originalErrorMessage:null===(he=es)||void 0===he?void 0:he.message})}let Do=Xr.status;const wu=Xr.headers.get("ETag")||void 0;let Cu,Es;if(200===Xr.status){let es;try{es=yield Xr.json()}catch(So){throw ti.create("fetch-client-parse",{originalErrorMessage:null===(Ee=So)||void 0===Ee?void 0:Ee.message})}Cu=es.entries,Es=es.state}if("INSTANCE_STATE_UNSPECIFIED"===Es?Do=500:"NO_CHANGE"===Es?Do=304:("NO_TEMPLATE"===Es||"EMPTY_CONFIG"===Es)&&(Cu={}),304!==Do&&200!==Do)throw ti.create("fetch-status",{httpStatus:Do});return{status:Do,eTag:wu,config:Cu}})()}}class Fs{constructor(S,P){this.client=S,this.storage=P}fetch(S){var P=this;return(0,k.Z)(function*(){const Z=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(S,Z)})()}attemptFetch(S,{throttleEndTimeMillis:P,backoffCount:Z}){var he=this;return(0,k.Z)(function*(){yield function rd(D,S){return new Promise((P,Z)=>{const he=Math.max(S-Date.now(),0),Ee=setTimeout(P,he);D.addEventListener(()=>{clearTimeout(Ee),Z(ti.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,P);try{const Ee=yield he.client.fetch(S);return yield he.storage.deleteThrottleMetadata(),Ee}catch(Ee){if(!function sg(D){if(!(D instanceof J.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(Ee))throw Ee;const Ue={throttleEndTimeMillis:Date.now()+(0,J.$s)(Z),backoffCount:Z+1};return yield he.storage.setThrottleMetadata(Ue),he.attemptFetch(S,Ue)}})()}}class ag{constructor(S,P,Z,he,Ee){this.app=S,this._client=P,this._storageCache=Z,this._storage=he,this._logger=Ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function el(D,S){var P;const Z=D.target.error||void 0;return ti.create(S,{originalErrorMessage:Z&&(null===(P=Z)||void 0===P?void 0:P.message)})}const ha="app_namespace_store";class ld{constructor(S,P,Z,he=function ad(){return new Promise((D,S)=>{var P;try{const Z=indexedDB.open("firebase_remote_config",1);Z.onerror=he=>{S(el(he,"storage-open"))},Z.onsuccess=he=>{D(he.target.result)},Z.onupgradeneeded=he=>{0===he.oldVersion&&he.target.result.createObjectStore(ha,{keyPath:"compositeKey"})}}catch(Z){S(ti.create("storage-open",{originalErrorMessage:null===(P=Z)||void 0===P?void 0:P.message}))}})}()){this.appId=S,this.appName=P,this.namespace=Z,this.openDbPromise=he}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var P=this;return(0,k.Z)(function*(){const Z=yield P.openDbPromise;return new Promise((he,Ee)=>{var Ue;const gt=Z.transaction([ha],"readonly").objectStore(ha),Dt=P.createCompositeKey(S);try{const Rt=gt.get(Dt);Rt.onerror=_t=>{Ee(el(_t,"storage-get"))},Rt.onsuccess=_t=>{const Ti=_t.target.result;he(Ti?Ti.value:void 0)}}catch(Rt){Ee(ti.create("storage-get",{originalErrorMessage:null===(Ue=Rt)||void 0===Ue?void 0:Ue.message}))}})})()}set(S,P){var Z=this;return(0,k.Z)(function*(){const he=yield Z.openDbPromise;return new Promise((Ee,Ue)=>{var Je;const Dt=he.transaction([ha],"readwrite").objectStore(ha),Rt=Z.createCompositeKey(S);try{const _t=Dt.put({compositeKey:Rt,value:P});_t.onerror=Ti=>{Ue(el(Ti,"storage-set"))},_t.onsuccess=()=>{Ee()}}catch(_t){Ue(ti.create("storage-set",{originalErrorMessage:null===(Je=_t)||void 0===Je?void 0:Je.message}))}})})()}delete(S){var P=this;return(0,k.Z)(function*(){const Z=yield P.openDbPromise;return new Promise((he,Ee)=>{var Ue;const gt=Z.transaction([ha],"readwrite").objectStore(ha),Dt=P.createCompositeKey(S);try{const Rt=gt.delete(Dt);Rt.onerror=_t=>{Ee(el(_t,"storage-delete"))},Rt.onsuccess=()=>{he()}}catch(Rt){Ee(ti.create("storage-delete",{originalErrorMessage:null===(Ue=Rt)||void 0===Ue?void 0:Ue.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class fa{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,k.Z)(function*(){const P=S.storage.getLastFetchStatus(),Z=S.storage.getLastSuccessfulFetchTimestampMillis(),he=S.storage.getActiveConfig(),Ee=yield P;Ee&&(S.lastFetchStatus=Ee);const Ue=yield Z;Ue&&(S.lastSuccessfulFetchTimestampMillis=Ue);const Je=yield he;Je&&(S.activeConfig=Je)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function yy(){return tl.apply(this,arguments)}function tl(){return(tl=(0,k.Z)(function*(){if(!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(D){return!1}})).apply(this,arguments)}!function cg(){(0,q._registerComponent)(new le.wA("remote-config",function D(S,{instanceIdentifier:P}){const Z=S.getProvider("app").getImmediate(),he=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ti.create("registration-window");if(!(0,J.hl)())throw ti.create("indexed-db-unavailable");const{projectId:Ee,apiKey:Ue,appId:Je}=Z.options;if(!Ee)throw ti.create("registration-project-id");if(!Ue)throw ti.create("registration-api-key");if(!Je)throw ti.create("registration-app-id");const gt=new ld(Je,Z.name,P=P||"firebase"),Dt=new fa(gt),Rt=new Y.Yd(Ps);Rt.logLevel=Y.in.ERROR;const _t=new pi(he,q.SDK_VERSION,P,Ee,Ue,Je),Ti=new Fs(_t,gt),Qi=new id(Ti,gt,Dt,Rt),Io=new ag(Z,Qi,Dt,gt,Rt);return function wn(D){const S=(0,J.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Io),Io},"PUBLIC").setMultipleInstances(!0)),(0,q.registerVersion)(Ps,"0.3.11"),(0,q.registerVersion)(Ps,"0.3.11","esm2017")}();const po="/firebase-messaging-sw.js",kr="/firebase-cloud-messaging-push-scope",pa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",il="google.c.a.c_id",Jh="google.c.a.c_l",ug="google.c.a.ts",Ci="google.c.a.e";var Bs=(()=>{return(D=Bs||(Bs={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Bs;var D})();function Yr(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ud(D){const P=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Z=atob(P),he=new Uint8Array(Z.length);for(let Ee=0;Ee<Z.length;++Ee)he[Ee]=Z.charCodeAt(Ee);return he}const Ui="fcm_token_details_db",dd="fcm_token_object_Store";function hd(D){return nc.apply(this,arguments)}function nc(){return nc=(0,k.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ee=>Ee.name).includes(Ui))return null;let S=null;return(yield(0,ee.X3)(Ui,5,{upgrade:(Z=(0,k.Z)(function*(he,Ee,Ue,Je){var gt;if(Ee<2||!he.objectStoreNames.contains(dd))return;const Dt=Je.objectStore(dd),Rt=yield Dt.index("fcmSenderId").get(D);if(yield Dt.clear(),Rt)if(2===Ee){const _t=Rt;if(!_t.auth||!_t.p256dh||!_t.endpoint)return;S={token:_t.fcmToken,createTime:null!==(gt=_t.createTime)&&void 0!==gt?gt:Date.now(),subscriptionOptions:{auth:_t.auth,p256dh:_t.p256dh,endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:"string"==typeof _t.vapidKey?_t.vapidKey:Yr(_t.vapidKey)}}}else if(3===Ee){const _t=Rt;S={token:_t.fcmToken,createTime:_t.createTime,subscriptionOptions:{auth:Yr(_t.auth),p256dh:Yr(_t.p256dh),endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:Yr(_t.vapidKey)}}}else if(4===Ee){const _t=Rt;S={token:_t.fcmToken,createTime:_t.createTime,subscriptionOptions:{auth:Yr(_t.auth),p256dh:Yr(_t.p256dh),endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:Yr(_t.vapidKey)}}}}),function(Ee,Ue,Je,gt){return Z.apply(this,arguments)})})).close(),yield(0,ee.Lj)(Ui),yield(0,ee.Lj)("fcm_vapid_details_db"),yield(0,ee.Lj)("undefined"),ic(S)?S:null;var Z}),nc.apply(this,arguments)}function ic(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Vs="firebase-messaging-store";let su=null;function kn(){return su||(su=(0,ee.X3)("firebase-messaging-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore(Vs)}})),su}function rl(D){return go.apply(this,arguments)}function go(){return(go=(0,k.Z)(function*(D){const S=Ai(D),Z=yield(yield kn()).transaction(Vs).objectStore(Vs).get(S);if(Z)return Z;{const he=yield hd(D.appConfig.senderId);if(he)return yield Cn(D,he),he}})).apply(this,arguments)}function Cn(D,S){return sc.apply(this,arguments)}function sc(){return(sc=(0,k.Z)(function*(D,S){const P=Ai(D),he=(yield kn()).transaction(Vs,"readwrite");return yield he.objectStore(Vs).put(S,P),yield he.done,S})).apply(this,arguments)}function sl(D){return zo.apply(this,arguments)}function zo(){return(zo=(0,k.Z)(function*(D){const S=Ai(D),Z=(yield kn()).transaction(Vs,"readwrite");yield Z.objectStore(Vs).delete(S),yield Z.done})).apply(this,arguments)}function Ai({appConfig:D}){return D.appId}const ni=new J.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Us(D,S){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,k.Z)(function*(D,S){var P;const Z=yield _o(D),he=ol(S),Ee={method:"POST",headers:Z,body:JSON.stringify(he)};let Ue;try{Ue=yield(yield fetch(mo(D.appConfig),Ee)).json()}catch(Je){throw ni.create("token-subscribe-failed",{errorInfo:null===(P=Je)||void 0===P?void 0:P.toString()})}if(Ue.error)throw ni.create("token-subscribe-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw ni.create("token-subscribe-no-token");return Ue.token})).apply(this,arguments)}function ga(D,S){return _s.apply(this,arguments)}function _s(){return(_s=(0,k.Z)(function*(D,S){var P;const Z=yield _o(D),he=ol(S.subscriptionOptions),Ee={method:"PATCH",headers:Z,body:JSON.stringify(he)};let Ue;try{Ue=yield(yield fetch(`${mo(D.appConfig)}/${S.token}`,Ee)).json()}catch(Je){throw ni.create("token-update-failed",{errorInfo:null===(P=Je)||void 0===P?void 0:P.toString()})}if(Ue.error)throw ni.create("token-update-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw ni.create("token-update-no-token");return Ue.token})).apply(this,arguments)}function ou(D,S){return vr.apply(this,arguments)}function vr(){return(vr=(0,k.Z)(function*(D,S){var P;const he={method:"DELETE",headers:yield _o(D)};try{const Ue=yield(yield fetch(`${mo(D.appConfig)}/${S}`,he)).json();if(Ue.error)throw ni.create("token-unsubscribe-failed",{errorInfo:Ue.error.message})}catch(Ee){throw ni.create("token-unsubscribe-failed",{errorInfo:null===(P=Ee)||void 0===P?void 0:P.toString()})}})).apply(this,arguments)}function mo({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function _o(D){return Et.apply(this,arguments)}function Et(){return(Et=(0,k.Z)(function*({appConfig:D,installations:S}){const P=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function ol({p256dh:D,auth:S,endpoint:P,vapidKey:Z}){const he={web:{endpoint:P,auth:S,p256dh:D}};return Z!==pa&&(he.web.applicationPubKey=Z),he}const al=6048e5;function fd(D){return ll.apply(this,arguments)}function ll(){return(ll=(0,k.Z)(function*(D){const S=yield qn(D.swRegistration,D.vapidKey),P={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:Yr(S.getKey("auth")),p256dh:Yr(S.getKey("p256dh"))},Z=yield rl(D.firebaseDependencies);if(Z){if(dl(Z.subscriptionOptions,P))return Date.now()>=Z.createTime+al?Xh(D,{token:Z.token,createTime:Date.now(),subscriptionOptions:P}):Z.token;try{yield ou(D.firebaseDependencies,Z.token)}catch(he){console.warn(he)}return Yt(D.firebaseDependencies,P)}return Yt(D.firebaseDependencies,P)})).apply(this,arguments)}function au(D){return cl.apply(this,arguments)}function cl(){return(cl=(0,k.Z)(function*(D){const S=yield rl(D.firebaseDependencies);S&&(yield ou(D.firebaseDependencies,S.token),yield sl(D.firebaseDependencies));const P=yield D.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()})).apply(this,arguments)}function Xh(D,S){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,k.Z)(function*(D,S){try{const P=yield ga(D.firebaseDependencies,S),Z=Object.assign(Object.assign({},S),{token:P,createTime:Date.now()});return yield Cn(D.firebaseDependencies,Z),P}catch(P){throw yield au(D),P}})).apply(this,arguments)}function Yt(D,S){return ul.apply(this,arguments)}function ul(){return(ul=(0,k.Z)(function*(D,S){const Z={token:yield Us(D,S),createTime:Date.now(),subscriptionOptions:S};return yield Cn(D,Z),Z.token})).apply(this,arguments)}function qn(D,S){return yo.apply(this,arguments)}function yo(){return(yo=(0,k.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ud(S)})})).apply(this,arguments)}function dl(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}function ar(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function lu(D,S){if(!S.notification)return;D.notification={};const P=S.notification.title;P&&(D.notification.title=P);const Z=S.notification.body;Z&&(D.notification.body=Z);const he=S.notification.image;he&&(D.notification.image=he)}(S,D),function cu(D,S){!S.data||(D.data=S.data)}(S,D),function pd(D,S){var P,Z,he,Ee,Ue;if(!S.fcmOptions&&!(null===(P=S.notification)||void 0===P?void 0:P.click_action))return;D.fcmOptions={};const Je=null!==(he=null===(Z=S.fcmOptions)||void 0===Z?void 0:Z.link)&&void 0!==he?he:null===(Ee=S.notification)||void 0===Ee?void 0:Ee.click_action;Je&&(D.fcmOptions.link=Je);const gt=null===(Ue=S.fcmOptions)||void 0===Ue?void 0:Ue.analytics_label;gt&&(D.fcmOptions.analyticsLabel=gt)}(S,D),S}function gd(D){return"object"==typeof D&&!!D&&il in D}function hl(D,S){const P=[];for(let Z=0;Z<D.length;Z++)P.push(D.charAt(Z)),Z<S.length&&P.push(S.charAt(Z));return P.join("")}function Ei(D){return ni.create("missing-app-config-values",{valueName:D})}hl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),hl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Kr{constructor(S,P,Z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const he=function ma(D){if(!D||!D.options)throw Ei("App Configuration Object");if(!D.name)throw Ei("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:P}=D;for(const Z of S)if(!P[Z])throw Ei(Z);return{appName:D.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:he,installations:P,analyticsProvider:Z}}_delete(){return Promise.resolve()}}function uu(D){return ys.apply(this,arguments)}function ys(){return(ys=(0,k.Z)(function*(D){var S;try{D.swRegistration=yield navigator.serviceWorker.register(po,{scope:kr}),D.swRegistration.update().catch(()=>{})}catch(P){throw ni.create("failed-service-worker-registration",{browserErrorMessage:null===(S=P)||void 0===S?void 0:S.message})}})).apply(this,arguments)}function Hs(D,S){return fl.apply(this,arguments)}function fl(){return(fl=(0,k.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield uu(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw ni.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function md(D,S){return pl.apply(this,arguments)}function pl(){return(pl=(0,k.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=pa)})).apply(this,arguments)}function Go(){return(Go=(0,k.Z)(function*(D,S){if(!navigator)throw ni.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ni.create("permission-blocked");return yield md(D,null==S?void 0:S.vapidKey),yield Hs(D,null==S?void 0:S.serviceWorkerRegistration),fd(D)})).apply(this,arguments)}function ac(D,S,P){return gl.apply(this,arguments)}function gl(){return(gl=(0,k.Z)(function*(D,S,P){const Z=du(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(Z,{message_id:P[il],message_name:P[Jh],message_time:P[ug],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function du(D){switch(D){case Bs.NOTIFICATION_CLICKED:return"notification_open";case Bs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function lc(){return(lc=(0,k.Z)(function*(D,S){const P=S.data;if(!P.isFirebaseMessaging)return;D.onMessageHandler&&P.messageType===Bs.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(ar(P)):D.onMessageHandler.next(ar(P)));const Z=P.data;gd(Z)&&"1"===Z[Ci]&&(yield ac(D,P.messageType,Z))})).apply(this,arguments)}const $o="@firebase/messaging",Wo=D=>{const S=new Kr(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function dg(D,S){return lc.apply(this,arguments)}(S,P)),S},yd=D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:Z=>function _d(D,S){return Go.apply(this,arguments)}(S,Z)}};function _a(){return vs.apply(this,arguments)}function vs(){return(vs=(0,k.Z)(function*(){try{yield(0,J.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,J.hl)()&&(0,J.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ef(){(0,q._registerComponent)(new le.wA("messaging",Wo,"PUBLIC")),(0,q._registerComponent)(new le.wA("messaging-internal",yd,"PRIVATE")),(0,q.registerVersion)($o,"0.9.16"),(0,q.registerVersion)($o,"0.9.16","esm2017")}();const vd="analytics",hg="firebase_id",_l="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cc="https://www.googletagmanager.com/gtag/js",Ri=new Y.Yd("@firebase/analytics");function rf(D){return Promise.all(D.map(S=>S.catch(P=>P)))}function qo(D,S){const P=document.createElement("script");P.src=`${cc}?l=${D}&id=${S}`,P.async=!0,document.head.appendChild(P)}function bd(D,S,P,Z,he,Ee){return wd.apply(this,arguments)}function wd(){return(wd=(0,k.Z)(function*(D,S,P,Z,he,Ee){const Ue=Z[he];try{if(Ue)yield S[Ue];else{const gt=(yield rf(P)).find(Dt=>Dt.measurementId===he);gt&&(yield S[gt.appId])}}catch(Je){Ri.error(Je)}D("config",he,Ee)})).apply(this,arguments)}function lr(D,S,P,Z,he){return va.apply(this,arguments)}function va(){return(va=(0,k.Z)(function*(D,S,P,Z,he){try{let Ee=[];if(he&&he.send_to){let Ue=he.send_to;Array.isArray(Ue)||(Ue=[Ue]);const Je=yield rf(P);for(const gt of Ue){const Dt=Je.find(_t=>_t.measurementId===gt),Rt=Dt&&S[Dt.appId];if(!Rt){Ee=[];break}Ee.push(Rt)}}0===Ee.length&&(Ee=Object.values(S)),yield Promise.all(Ee),D("event",Z,he||{})}catch(Ee){Ri.error(Ee)}})).apply(this,arguments)}function fu(){const D=window.document.getElementsByTagName("script");for(const S of Object.values(D))if(S.src&&S.src.includes(cc))return S;return null}const $n=new J.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),cr=new class ai{constructor(S={},P=1e3){this.throttleMetadata=S,this.intervalMillis=P}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,P){this.throttleMetadata[S]=P}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Gs(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function br(D){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,k.Z)(function*(D){var S;const{appId:P,apiKey:Z}=D,he={method:"GET",headers:Gs(Z)},Ee=_l.replace("{app-id}",P),Ue=yield fetch(Ee,he);if(200!==Ue.status&&304!==Ue.status){let Je="";try{const gt=yield Ue.json();(null===(S=gt.error)||void 0===S?void 0:S.message)&&(Je=gt.error.message)}catch(gt){}throw $n.create("config-fetch-failed",{httpStatus:Ue.status,responseMessage:Je})}return Ue.json()})).apply(this,arguments)}function Rn(D){return En.apply(this,arguments)}function En(){return(En=(0,k.Z)(function*(D,S=cr,P){const{appId:Z,apiKey:he,measurementId:Ee}=D.options;if(!Z)throw $n.create("no-app-id");if(!he){if(Ee)return{measurementId:Ee,appId:Z};throw $n.create("no-api-key")}const Ue=S.getThrottleMetadata(Z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Je=new hc;return setTimeout((0,k.Z)(function*(){Je.abort()}),void 0!==P?P:6e4),pt({appId:Z,apiKey:he,measurementId:Ee},Ue,Je,S)})).apply(this,arguments)}function pt(D,S,P){return uc.apply(this,arguments)}function uc(){return(uc=(0,k.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:P},Z,he=cr){var Ee,Ue;const{appId:Je,measurementId:gt}=D;try{yield Ed(Z,S)}catch(Dt){if(gt)return Ri.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${null===(Ee=Dt)||void 0===Ee?void 0:Ee.message}]`),{appId:Je,measurementId:gt};throw Dt}try{const Dt=yield br(D);return he.deleteThrottleMetadata(Je),Dt}catch(Dt){const Rt=Dt;if(!dc(Rt)){if(he.deleteThrottleMetadata(Je),gt)return Ri.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${null==Rt?void 0:Rt.message}]`),{appId:Je,measurementId:gt};throw Dt}const _t=503===Number(null===(Ue=null==Rt?void 0:Rt.customData)||void 0===Ue?void 0:Ue.httpStatus)?(0,J.$s)(P,he.intervalMillis,30):(0,J.$s)(P,he.intervalMillis),Ti={throttleEndTimeMillis:Date.now()+_t,backoffCount:P+1};return he.setThrottleMetadata(Je,Ti),Ri.debug(`Calling attemptFetch again in ${_t} millis`),pt(D,Ti,Z,he)}})).apply(this,arguments)}function Ed(D,S){return new Promise((P,Z)=>{const he=Math.max(S-Date.now(),0),Ee=setTimeout(P,he);D.addEventListener(()=>{clearTimeout(Ee),Z($n.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function dc(D){if(!(D instanceof J.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}class hc{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let pu,ba;function dn(){return(dn=(0,k.Z)(function*(D,S,P,Z,he){if(he&&he.global)D("event",P,Z);else{const Ee=yield S;D("event",P,Object.assign(Object.assign({},Z),{send_to:Ee}))}})).apply(this,arguments)}function Jt(D){ba=D}function gi(D){pu=D}function Or(){return $s.apply(this,arguments)}function $s(){return($s=(0,k.Z)(function*(){var D;if(!(0,J.hl)())return Ri.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,J.eu)()}catch(S){return Ri.warn($n.create("indexeddb-unavailable",{errorInfo:null===(D=S)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function mu(){return(mu=(0,k.Z)(function*(D,S,P,Z,he,Ee,Ue){var Je;const gt=Rn(D);gt.then(Qi=>{P[Qi.measurementId]=Qi.appId,D.options.measurementId&&Qi.measurementId!==D.options.measurementId&&Ri.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Qi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Qi=>Ri.error(Qi)),S.push(gt);const Dt=Or().then(Qi=>{if(Qi)return Z.getId()}),[Rt,_t]=yield Promise.all([gt,Dt]);fu()||qo(Ee,Rt.measurementId),ba&&(he("consent","default",ba),Jt(void 0)),he("js",new Date);const Ti=null!==(Je=null==Ue?void 0:Ue.config)&&void 0!==Je?Je:{};return Ti.origin="firebase",Ti.update=!0,null!=_t&&(Ti[hg]=_t),he("config",Rt.measurementId,Ti),pu&&(he("set",pu),gi(void 0)),Rt.measurementId})).apply(this,arguments)}class wa{constructor(S){this.app=S}_delete(){return delete ur[this.app.options.appId],Promise.resolve()}}let ur={},fc=[];const bl={};let Ko,Pr,ws="dataLayer",pc=!1;function Td(D,S,P){!function pg(){const D=[];if((0,J.ru)()&&D.push("This is a browser extension environment."),(0,J.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((Z,he)=>`(${he+1}) ${Z}`).join(" "),P=$n.create("invalid-analytics-context",{errorInfo:S});Ri.warn(P.message)}}();const Z=D.options.appId;if(!Z)throw $n.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw $n.create("no-api-key");Ri.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ur[Z])throw $n.create("already-exists",{id:Z});if(!pc){!function ya(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(ws);const{wrappedGtag:Ee,gtagCore:Ue}=function fg(D,S,P,Z,he){let Ee=function(...Ue){window[Z].push(arguments)};return window[he]&&"function"==typeof window[he]&&(Ee=window[he]),window[he]=function Cd(D,S,P,Z){function Ee(){return(Ee=(0,k.Z)(function*(Ue,Je,gt){try{"event"===Ue?yield lr(D,S,P,Je,gt):"config"===Ue?yield bd(D,S,P,Z,Je,gt):"consent"===Ue?D("consent","update",gt):D("set",Je)}catch(Dt){Ri.error(Dt)}})).apply(this,arguments)}return function he(Ue,Je,gt){return Ee.apply(this,arguments)}}(Ee,D,S,P),{gtagCore:Ee,wrappedGtag:window[he]}}(ur,fc,bl,ws,"gtag");Pr=Ee,Ko=Ue,pc=!0}return ur[Z]=function gu(D,S,P,Z,he,Ee,Ue){return mu.apply(this,arguments)}(D,fc,bl,S,Ko,ws,P),new wa(D)}function tt(){return ci.apply(this,arguments)}function ci(){return(ci=(0,k.Z)(function*(){if((0,J.ru)()||!(0,J.zI)()||!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(D){return!1}})).apply(this,arguments)}const Hi="@firebase/analytics";!function _c(){(0,q._registerComponent)(new le.wA(vd,(S,{options:P})=>Td(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,q._registerComponent)(new le.wA("analytics-internal",function D(S){try{const P=S.getProvider(vd).getImmediate();return{logEvent:(Z,he,Ee)=>function Id(D,S,P,Z){D=(0,J.m9)(D),function Qr(D,S,P,Z,he){return dn.apply(this,arguments)}(Pr,ur[D.app.options.appId],S,P,Z).catch(he=>Ri.error(he))}(P,Z,he,Ee)}}catch(P){throw $n.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,q.registerVersion)(Hi,"0.8.0"),(0,q.registerVersion)(Hi,"0.8.0","esm2017")}();var sf=M(4408),wr=M(7565);const yc=new class wl extends wr.v{}(class dr extends sf.o{constructor(S,P){super(S,P),this.scheduler=S,this.work=P}schedule(S,P=0){return P>0?super.schedule(S,P):(this.delay=P,this.state=S,this.scheduler.flush(this),this)}execute(S,P){return P>0||this.closed?super.execute(S,P):this._execute(S,P)}requestAsyncId(S,P,Z=0){return null!=Z&&Z>0||null==Z&&this.delay>0?super.requestAsyncId(S,P,Z):S.flush(this)}});var Dd=M(4986),Co=M(8306),Oi=M(8505),Cl=M(5363),Sd=M(9468);const vc=new o.GfV("7.4.1"),ui="__angularfire_symbol__analyticsIsSupportedValue",Eo="__angularfire_symbol__analyticsIsSupported",Cs="__angularfire_symbol__remoteConfigIsSupportedValue",xd="__angularfire_symbol__remoteConfigIsSupported",Ea="__angularfire_symbol__messagingIsSupportedValue",_u="__angularfire_symbol__messagingIsSupported";function Tl(D,S,P){if(S){if(1===S.length)return S[0];const Ee=S.filter(Ue=>Ue.app===P);if(1===Ee.length)return Ee[0]}return P.container.getProvider(D).getImmediate({optional:!0})}globalThis[Eo]||(globalThis[Eo]=tt().then(D=>globalThis[ui]=D).catch(()=>globalThis[ui]=!1)),globalThis[_u]||(globalThis[_u]=_a().then(D=>globalThis[Ea]=D).catch(()=>globalThis[Ea]=!1)),globalThis[xd]||(globalThis[xd]=yy().then(D=>globalThis[Cs]=D).catch(()=>globalThis[Cs]=!1));const To=(D,S)=>{const P=S?[S]:(0,L.C6)(),Z=[];return P.forEach(he=>{he.container.getProvider(D).instances.forEach(Ue=>{Z.includes(Ue)||Z.push(Ue)})}),Z};function qs(){}class af{constructor(S,P=yc){this.zone=S,this.delegate=P}now(){return this.delegate.now()}schedule(S,P,Z){const he=this.zone;return this.delegate.schedule(function(Ue){he.runGuarded(()=>{S.apply(this,[Ue])})},P,Z)}}class Qo{constructor(S){this.zone=S,this.task=null}call(S,P){const Z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qs,{},qs,qs)),P.pipe((0,Oi.b)({next:Z,complete:Z,error:Z})).subscribe(S).add(Z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Il=(()=>{class D{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new af(Zone.current)),this.insideAngular=P.run(()=>new af(Zone.current,Dd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(P){return new(P||D)(o.LFG(o.R0b))},D.\u0275prov=o.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Cr(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function vu(D){return Cr().ngZone.runOutsideAngular(()=>D())}function Zs(D){return Cr().ngZone.run(()=>D())}function bc(D){return D.pipe((0,Cl.Q)(Cr().outsideAngular))}function Ia(D){return Cr(),function Dl(D){return function(P){return(P=P.lift(new Qo(D.ngZone))).pipe((0,Sd.R)(D.outsideAngular),(0,Cl.Q)(D.insideAngular))}}(Cr())(D)}const Da=(D,S)=>function(){const Z=arguments;return S&&setTimeout(()=>{"scheduled"===S.state&&S.invoke()},10),Zs(()=>D.apply(void 0,Z))},Ad=(D,S)=>function(){let P;const Z=arguments;for(let Ee=0;Ee<arguments.length;Ee++)"function"==typeof Z[Ee]&&(S&&(P||(P=Zs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qs,{},qs,qs)))),Z[Ee]=Da(Z[Ee],P));const he=vu(()=>D.apply(this,Z));if(!S){if(he instanceof Co.y){const Ee=Cr();return he.pipe((0,Sd.R)(Ee.outsideAngular),(0,Cl.Q)(Ee.insideAngular))}return Zs(()=>he)}return he instanceof Co.y?he.pipe(Ia):he instanceof Promise?Zs(()=>new Promise((Ee,Ue)=>he.then(Je=>Zs(()=>Ee(Je)),Je=>Zs(()=>Ue(Je))))):"function"==typeof he&&P?function(){return setTimeout(()=>{P&&"scheduled"===P.state&&P.invoke()},10),he.apply(this,arguments)}:Zs(()=>he)}},6457:(De,ye,M)=>{"use strict";M.d(ye,{$:()=>mo,A:()=>B,B:()=>Se,G:()=>Pn,H:()=>_n,J:()=>Fs,L:()=>un,M:()=>tl,N:()=>nl,P:()=>Dd,Q:()=>il,R:()=>mg,T:()=>Jh,U:()=>pa,V:()=>Bs,W:()=>Yr,X:()=>hd,Y:()=>oc,Z:()=>Us,_:()=>ga,a:()=>lt,a0:()=>fd,a1:()=>au,a2:()=>Xh,a3:()=>Yt,a4:()=>qn,a5:()=>dl,a6:()=>lu,a7:()=>cu,a8:()=>gd,a9:()=>hl,aA:()=>Ti,aB:()=>Je,aC:()=>Zs,aD:()=>vu,aE:()=>Ze,aI:()=>Gs,aL:()=>Ci,aa:()=>uu,ab:()=>Hs,ac:()=>md,af:()=>ac,ag:()=>du,ah:()=>dg,ak:()=>Vs,al:()=>ki,an:()=>cc,ao:()=>wd,ap:()=>si,aq:()=>F,ar:()=>Gt,as:()=>ft,at:()=>Be,au:()=>Ys,av:()=>Do,aw:()=>ve,ax:()=>Q,ay:()=>W,az:()=>sn,b:()=>$n,c:()=>xd,d:()=>_g,e:()=>_u,f:()=>Ia,g:()=>P,h:()=>Ad,i:()=>$s,j:()=>Ee,k:()=>Dy,l:()=>Ws,m:()=>Sy,o:()=>ee,r:()=>sf,s:()=>en,u:()=>yc});var o=M(9671),L=M(2090),k=M(9681),q=M(655),J=M(1877),le=M(4859);const ee={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},B={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Se=function $(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ae=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Fe=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ce=new J.Yd("@firebase/auth");function ke(w,...m){Ce.logLevel<=J.in.ERROR&&Ce.error(`Auth (${k.SDK_VERSION}): ${w}`,...m)}function Be(w,...m){throw it(w,...m)}function ve(w,...m){return it(w,...m)}function qe(w,m,y){const E=Object.assign(Object.assign({},Ae()),{[m]:y});return new L.LL("auth","Firebase",E).create(m,{appName:w.name})}function Re(w,m,y){if(!(m instanceof y))throw y.name!==m.constructor.name&&Be(w,"argument-error"),qe(w,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function it(w,...m){if("string"!=typeof w){const y=m[0],E=[...m.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(y,...E)}return Fe.create(w,...m)}function Q(w,m,...y){if(!w)throw it(m,...y)}function be(w){const m="INTERNAL ASSERTION FAILED: "+w;throw ke(m),new Error(m)}function F(w,m){w||be(m)}const G=new Map;function W(w){F(w instanceof Function,"Expected a class definition");let m=G.get(w);return m?(F(m instanceof w,"Instance stored in cache mismatched with class"),m):(m=new w,G.set(w,m),m)}function X(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ge(){return"http:"===ct()||"https:"===ct()}function ct(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class at{constructor(m,y){this.shortDelay=m,this.longDelay=y,F(y>m,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function fn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ge()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vn(w,m){F(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return m?`${y}${m.startsWith("/")?m.slice(1):m}`:y}class St{static initialize(m,y,E){this.fetchImpl=m,y&&(this.headersImpl=y),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ln={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},rn=new at(3e4,6e4);function zt(w,m){return w.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:w.tenantId}):m}function pn(w,m,y,E){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,o.Z)(function*(w,m,y,E,R={}){return Wr(w,R,(0,o.Z)(function*(){let U={},me={};E&&("GET"===m?me=E:U={body:JSON.stringify(E)});const Pe=(0,L.xO)(Object.assign({key:w.config.apiKey},me)).slice(1),st=yield w._getAdditionalHeaders();return st["Content-Type"]="application/json",w.languageCode&&(st["X-Firebase-Locale"]=w.languageCode),St.fetch()(Dr(w,w.config.apiHost,y,Pe),Object.assign({method:m,headers:st,referrerPolicy:"no-referrer"},U))}))})).apply(this,arguments)}function Wr(w,m,y){return $i.apply(this,arguments)}function $i(){return($i=(0,o.Z)(function*(w,m,y){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},Ln),m);try{const R=new qr(w),U=yield Promise.race([y(),R.promise]);R.clearNetworkTimeout();const me=yield U.json();if("needConfirmation"in me)throw Xn(w,"account-exists-with-different-credential",me);if(U.ok&&!("errorMessage"in me))return me;{const Pe=U.ok?me.errorMessage:me.error.message,[st,Ct]=Pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===st)throw Xn(w,"credential-already-in-use",me);if("EMAIL_EXISTS"===st)throw Xn(w,"email-already-in-use",me);if("USER_DISABLED"===st)throw Xn(w,"user-disabled",me);const Wt=E[st]||st.toLowerCase().replace(/[_\s]+/g,"-");if(Ct)throw qe(w,Wt,Ct);Be(w,Wt)}}catch(R){if(R instanceof L.ZR)throw R;Be(w,"network-request-failed")}})).apply(this,arguments)}function Gn(w,m,y,E){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,o.Z)(function*(w,m,y,E,R={}){const U=yield pn(w,m,y,E,R);return"mfaPendingCredential"in U&&Be(w,"multi-factor-auth-required",{_serverResponse:U}),U})).apply(this,arguments)}function Dr(w,m,y,E){const R=`${m}${y}?${E}`;return w.config.emulator?vn(w.config,R):`${w.config.apiScheme}://${R}`}class qr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((y,E)=>{this.timer=setTimeout(()=>E(ve(this.auth,"network-request-failed")),rn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xn(w,m,y){const E={appName:w.name};y.email&&(E.email=y.email),y.phoneNumber&&(E.phoneNumber=y.phoneNumber);const R=ve(w,m,E);return R.customData._tokenResponse=y,R}function wt(){return(wt=(0,o.Z)(function*(w,m){return pn(w,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Wi(w,m){return Un.apply(this,arguments)}function Un(){return(Un=(0,o.Z)(function*(w,m){return pn(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function mn(w,m){return yi.apply(this,arguments)}function yi(){return(yi=(0,o.Z)(function*(w,m){return pn(w,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function qi(w){if(w)try{const m=new Date(Number(w));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function bi(){return(bi=(0,o.Z)(function*(w,m=!1){const y=(0,L.m9)(w),E=yield y.getIdToken(m),R=qt(E);Q(R&&R.exp&&R.auth_time&&R.iat,y.auth,"internal-error");const U="object"==typeof R.firebase?R.firebase:void 0,me=null==U?void 0:U.sign_in_provider;return{claims:R,token:E,authTime:qi(Os(R.auth_time)),issuedAtTime:qi(Os(R.iat)),expirationTime:qi(Os(R.exp)),signInProvider:me||null,signInSecondFactor:(null==U?void 0:U.sign_in_second_factor)||null}})).apply(this,arguments)}function Os(w){return 1e3*Number(w)}function qt(w){var m;const[y,E,R]=w.split(".");if(void 0===y||void 0===E||void 0===R)return ke("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,L.tV)(E);return U?JSON.parse(U):(ke("Failed to decode base64 JWT payload"),null)}catch(U){return ke("Caught error parsing JWT payload as JSON",null===(m=U)||void 0===m?void 0:m.toString()),null}}function ut(w,m){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,o.Z)(function*(w,m,y=!1){if(y)return m;try{return yield m}catch(E){throw E instanceof L.ZR&&xr(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}function xr({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Zt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var y;if(m){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const R=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(m=!1){var y=this;if(!this.isRunning)return;const E=this.getInterval(m);this.timerId=setTimeout((0,o.Z)(function*(){yield y.iteration()}),E)}iteration(){var m=this;return(0,o.Z)(function*(){var y;try{yield m.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(y=E)||void 0===y?void 0:y.code)&&m.schedule(!0))}m.schedule()})()}}class Zr{constructor(m,y){this.createdAt=m,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=qi(this.lastLoginAt),this.creationTime=qi(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ei(w){return An.apply(this,arguments)}function An(){return(An=(0,o.Z)(function*(w){var m;const y=w.auth,E=yield w.getIdToken(),R=yield ut(w,mn(y,{idToken:E}));Q(null==R?void 0:R.users.length,y,"internal-error");const U=R.users[0];w._notifyReloadListener(U);const me=(null===(m=U.providerUserInfo)||void 0===m?void 0:m.length)?ie(U.providerUserInfo):[],Pe=se(w.providerData,me),Wt=!!w.isAnonymous&&!(w.email&&U.passwordHash||(null==Pe?void 0:Pe.length)),Bn={uid:U.localId,displayName:U.displayName||null,photoURL:U.photoUrl||null,email:U.email||null,emailVerified:U.emailVerified||!1,phoneNumber:U.phoneNumber||null,tenantId:U.tenantId||null,providerData:Pe,metadata:new Zr(U.createdAt,U.lastLoginAt),isAnonymous:Wt};Object.assign(w,Bn)})).apply(this,arguments)}function rr(){return(rr=(0,o.Z)(function*(w){const m=(0,L.m9)(w);yield ei(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function se(w,m){return[...w.filter(E=>!m.some(R=>R.providerId===E.providerId)),...m]}function ie(w){return w.map(m=>{var{providerId:y}=m,E=(0,q._T)(m,["providerId"]);return{providerId:y,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function re(){return(re=(0,o.Z)(function*(w,m){const y=yield Wr(w,{},(0,o.Z)(function*(){const E=(0,L.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:R,apiKey:U}=w.config,me=Dr(w,R,"/v1/token",`key=${U}`),Pe=yield w._getAdditionalHeaders();return Pe["Content-Type"]="application/x-www-form-urlencoded",St.fetch()(me,{method:"POST",headers:Pe,body:E})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class oe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Q(m.idToken,"internal-error"),Q(void 0!==m.idToken,"internal-error"),Q(void 0!==m.refreshToken,"internal-error");const y="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function mt(w){const m=qt(w);return Q(m,"internal-error"),Q(void 0!==m.exp,"internal-error"),Q(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,y)}getToken(m,y=!1){var E=this;return(0,o.Z)(function*(){return Q(!E.accessToken||E.refreshToken,m,"user-token-expired"),y||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(m,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,y){var E=this;return(0,o.Z)(function*(){const{accessToken:R,refreshToken:U,expiresIn:me}=yield function K(w,m){return re.apply(this,arguments)}(m,y);E.updateTokensAndExpiration(R,U,Number(me))})()}updateTokensAndExpiration(m,y,E){this.refreshToken=y||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(m,y){const{refreshToken:E,accessToken:R,expirationTime:U}=y,me=new oe;return E&&(Q("string"==typeof E,"internal-error",{appName:m}),me.refreshToken=E),R&&(Q("string"==typeof R,"internal-error",{appName:m}),me.accessToken=R),U&&(Q("number"==typeof U,"internal-error",{appName:m}),me.expirationTime=U),me}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new oe,this.toJSON())}_performRefresh(){return be("not implemented")}}function Le(w,m){Q("string"==typeof w||void 0===w,"internal-error",{appName:m})}class Ye{constructor(m){var{uid:y,auth:E,stsTokenManager:R}=m,U=(0,q._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=E,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=U.displayName||null,this.email=U.email||null,this.emailVerified=U.emailVerified||!1,this.phoneNumber=U.phoneNumber||null,this.photoURL=U.photoURL||null,this.isAnonymous=U.isAnonymous||!1,this.tenantId=U.tenantId||null,this.providerData=U.providerData?[...U.providerData]:[],this.metadata=new Zr(U.createdAt||void 0,U.lastLoginAt||void 0)}getIdToken(m){var y=this;return(0,o.Z)(function*(){const E=yield ut(y,y.stsTokenManager.getToken(y.auth,m));return Q(E,y.auth,"internal-error"),y.accessToken!==E&&(y.accessToken=E,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),E})()}getIdTokenResult(m){return function Hn(w){return bi.apply(this,arguments)}(this,m)}reload(){return function vt(w){return rr.apply(this,arguments)}(this)}_assign(m){this!==m&&(Q(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(y=>Object.assign({},y)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Ye(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,y=!1){var E=this;return(0,o.Z)(function*(){let R=!1;m.idToken&&m.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(m),R=!0),y&&(yield ei(E)),yield E.auth._persistUserIfCurrent(E),R&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var m=this;return(0,o.Z)(function*(){const y=yield m.getIdToken();return yield ut(m,function gs(w,m){return wt.apply(this,arguments)}(m.auth,{idToken:y})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,y){var E,R,U,me,Pe,st,Ct,Wt;const Bn=null!==(E=y.displayName)&&void 0!==E?E:void 0,ts=null!==(R=y.email)&&void 0!==R?R:void 0,ns=null!==(U=y.phoneNumber)&&void 0!==U?U:void 0,ff=null!==(me=y.photoURL)&&void 0!==me?me:void 0,is=null!==(Pe=y.tenantId)&&void 0!==Pe?Pe:void 0,kd=null!==(st=y._redirectEventId)&&void 0!==st?st:void 0,xg=null!==(Ct=y.createdAt)&&void 0!==Ct?Ct:void 0,Ag=null!==(Wt=y.lastLoginAt)&&void 0!==Wt?Wt:void 0,{uid:pf,emailVerified:gf,isAnonymous:mf,providerData:Ic,stsTokenManager:_f}=y;Q(pf&&_f,m,"internal-error");const Tu=oe.fromJSON(this.name,_f);Q("string"==typeof pf,m,"internal-error"),Le(Bn,m.name),Le(ts,m.name),Q("boolean"==typeof gf,m,"internal-error"),Q("boolean"==typeof mf,m,"internal-error"),Le(ns,m.name),Le(ff,m.name),Le(is,m.name),Le(kd,m.name),Le(xg,m.name),Le(Ag,m.name);const Rd=new Ye({uid:pf,auth:m,email:ts,emailVerified:gf,displayName:Bn,isAnonymous:mf,photoURL:ff,phoneNumber:ns,tenantId:is,stsTokenManager:Tu,createdAt:xg,lastLoginAt:Ag});return Ic&&Array.isArray(Ic)&&(Rd.providerData=Ic.map(mi=>Object.assign({},mi))),kd&&(Rd._redirectEventId=kd),Rd}static _fromIdTokenResponse(m,y,E=!1){return(0,o.Z)(function*(){const R=new oe;R.updateFromServerResponse(y);const U=new Ye({uid:y.localId,auth:m,stsTokenManager:R,isAnonymous:E});return yield ei(U),U})()}}const un=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(y,E){var R=this;return(0,o.Z)(function*(){R.storage[y]=E})()}_get(y){var E=this;return(0,o.Z)(function*(){const R=E.storage[y];return void 0===R?null:R})()}_remove(y){var E=this;return(0,o.Z)(function*(){delete E.storage[y]})()}_addListener(y,E){}_removeListener(y,E){}}return w.type="NONE",w})();function sn(w,m,y){return`firebase:${w}:${m}:${y}`}class wi{constructor(m,y,E){this.persistence=m,this.auth=y,this.userKey=E;const{config:R,name:U}=this.auth;this.fullUserKey=sn(this.userKey,R.apiKey,U),this.fullPersistenceKey=sn("persistence",R.apiKey,U),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,o.Z)(function*(){const y=yield m.persistence._get(m.fullUserKey);return y?Ye._fromJSON(m.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var y=this;return(0,o.Z)(function*(){if(y.persistence===m)return;const E=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=m,E?y.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,y,E="authUser"){return(0,o.Z)(function*(){if(!y.length)return new wi(W(un),m,E);const R=(yield Promise.all(y.map(function(){var Ct=(0,o.Z)(function*(Wt){if(yield Wt._isAvailable())return Wt});return function(Wt){return Ct.apply(this,arguments)}}()))).filter(Ct=>Ct);let U=R[0]||W(un);const me=sn(E,m.config.apiKey,m.name);let Pe=null;for(const Ct of y)try{const Wt=yield Ct._get(me);if(Wt){const Bn=Ye._fromJSON(m,Wt);Ct!==U&&(Pe=Bn),U=Ct;break}}catch(Wt){}const st=R.filter(Ct=>Ct._shouldAllowMigration);return U._shouldAllowMigration&&st.length?(U=st[0],Pe&&(yield U._set(me,Pe.toJSON())),yield Promise.all(y.map(function(){var Ct=(0,o.Z)(function*(Wt){if(Wt!==U)try{yield Wt._remove(me)}catch(Bn){}});return function(Wt){return Ct.apply(this,arguments)}}())),new wi(U,m,E)):new wi(U,m,E)})()}}function fe(w){const m=w.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Xe(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(ce(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(At(m))return"Blackberry";if(Qt(m))return"Webos";if(ae(m))return"Safari";if((m.includes("chrome/")||Oe(m))&&!m.includes("edge/"))return"Chrome";if(ft(m))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function ce(w=(0,L.z$)()){return/firefox\//i.test(w)}function ae(w=(0,L.z$)()){const m=w.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Oe(w=(0,L.z$)()){return/crios\//i.test(w)}function Xe(w=(0,L.z$)()){return/iemobile/i.test(w)}function ft(w=(0,L.z$)()){return/android/i.test(w)}function At(w=(0,L.z$)()){return/blackberry/i.test(w)}function Qt(w=(0,L.z$)()){return/webos/i.test(w)}function Gt(w=(0,L.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function si(w=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Zi(w=(0,L.z$)()){return Gt(w)||ft(w)||Qt(w)||At(w)||/windows phone/i.test(w)||Xe(w)}function xi(w,m=[]){let y;switch(w){case"Browser":y=fe((0,L.z$)());break;case"Worker":y=`${fe((0,L.z$)())}-${w}`;break;default:y=w}const E=m.length?m.join(","):"FirebaseCore-web";return`${y}/JsCore/${k.SDK_VERSION}/${E}`}class Xa{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,y){const E=U=>new Promise((me,Pe)=>{try{me(m(U))}catch(st){Pe(st)}});E.onAbort=y,this.queue.push(E);const R=this.queue.length-1;return()=>{this.queue[R]=()=>Promise.resolve()}}runMiddleware(m){var y=this;return(0,o.Z)(function*(){var E;if(y.auth.currentUser===m)return;const R=[];try{for(const U of y.queue)yield U(m),U.onAbort&&R.push(U.onAbort)}catch(U){R.reverse();for(const me of R)try{me()}catch(Pe){}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=U)||void 0===E?void 0:E.message})}})()}}class yr{constructor(m,y,E){this.app=m,this.heartbeatServiceProvider=y,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ut(this),this.idTokenSubscription=new Ut(this),this.beforeStateQueue=new Xa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(m,y){var E=this;return y&&(this._popupRedirectResolver=W(y)),this._initializationPromise=this.queue((0,o.Z)(function*(){var R,U;if(!E._deleted&&(E.persistenceManager=yield wi.create(E,m),!E._deleted)){if(null===(R=E._popupRedirectResolver)||void 0===R?void 0:R._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(me){}yield E.initializeCurrentUser(y),E.lastNotifiedUid=(null===(U=E.currentUser)||void 0===U?void 0:U.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,o.Z)(function*(){if(m._deleted)return;const y=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||y){if(m.currentUser&&y&&m.currentUser.uid===y.uid)return m._currentUser._assign(y),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(y,!0)}})()}initializeCurrentUser(m){var y=this;return(0,o.Z)(function*(){var E;const R=yield y.assertedPersistence.getCurrentUser();let U=R,me=!1;if(m&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Pe=null===(E=y.redirectUser)||void 0===E?void 0:E._redirectEventId,st=null==U?void 0:U._redirectEventId,Ct=yield y.tryRedirectSignIn(m);(!Pe||Pe===st)&&(null==Ct?void 0:Ct.user)&&(U=Ct.user,me=!0)}if(!U)return y.directlySetCurrentUser(null);if(!U._redirectEventId){if(me)try{yield y.beforeStateQueue.runMiddleware(U)}catch(Pe){U=R,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Pe))}return U?y.reloadAndSetCurrentUserOrClear(U):y.directlySetCurrentUser(null)}return Q(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===U._redirectEventId?y.directlySetCurrentUser(U):y.reloadAndSetCurrentUserOrClear(U)})()}tryRedirectSignIn(m){var y=this;return(0,o.Z)(function*(){let E=null;try{E=yield y._popupRedirectResolver._completeRedirectFn(y,m,!0)}catch(R){yield y._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(m){var y=this;return(0,o.Z)(function*(){var E;try{yield ei(m)}catch(R){if("auth/network-request-failed"!==(null===(E=R)||void 0===E?void 0:E.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function He(){if("undefined"==typeof navigator)return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var m=this;return(0,o.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var y=this;return(0,o.Z)(function*(){const E=m?(0,L.m9)(m):null;return E&&Q(E.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(E&&E._clone(y))})()}_updateCurrentUser(m,y=!1){var E=this;return(0,o.Z)(function*(){if(!E._deleted)return m&&Q(E.tenantId===m.tenantId,E,"tenant-id-mismatch"),y||(yield E.beforeStateQueue.runMiddleware(m)),E.queue((0,o.Z)(function*(){yield E.directlySetCurrentUser(m),E.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,o.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var y=this;return this.queue((0,o.Z)(function*(){yield y.assertedPersistence.setPersistence(W(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new L.LL("auth","Firebase",m())}onAuthStateChanged(m,y,E){return this.registerStateListener(this.authStateSubscription,m,y,E)}beforeAuthStateChanged(m,y){return this.beforeStateQueue.pushCallback(m,y)}onIdTokenChanged(m,y,E){return this.registerStateListener(this.idTokenSubscription,m,y,E)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,y){var E=this;return(0,o.Z)(function*(){const R=yield E.getOrInitRedirectPersistenceManager(y);return null===m?R.removeCurrentUser():R.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var y=this;return(0,o.Z)(function*(){if(!y.redirectPersistenceManager){const E=m&&W(m)||y._popupRedirectResolver;Q(E,y,"argument-error"),y.redirectPersistenceManager=yield wi.create(y,[W(E._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(m){var y=this;return(0,o.Z)(function*(){var E,R;return y._isInitialized&&(yield y.queue((0,o.Z)(function*(){}))),(null===(E=y._currentUser)||void 0===E?void 0:E._redirectEventId)===m?y._currentUser:(null===(R=y.redirectUser)||void 0===R?void 0:R._redirectEventId)===m?y.redirectUser:null})()}_persistUserIfCurrent(m){var y=this;return(0,o.Z)(function*(){if(m===y.currentUser)return y.queue((0,o.Z)(function*(){return y.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(y=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,y,E,R){if(this._deleted)return()=>{};const U="function"==typeof y?y:y.next.bind(y),me=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(me,this,"internal-error"),me.then(()=>U(this.currentUser)),"function"==typeof y?m.addObserver(y,E,R):m.addObserver(y)}directlySetCurrentUser(m){var y=this;return(0,o.Z)(function*(){y.currentUser&&y.currentUser!==m&&(y._currentUser._stopProactiveRefresh(),m&&y.isProactiveRefreshEnabled&&m._startProactiveRefresh()),y.currentUser=m,m?yield y.assertedPersistence.setCurrentUser(m):yield y.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=xi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,o.Z)(function*(){var y;const E={"X-Client-Version":m.clientVersion};m.app.options.appId&&(E["X-Firebase-gmpid"]=m.app.options.appId);const R=yield null===(y=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return R&&(E["X-Firebase-Client"]=R),E})()}}function Ze(w){return(0,L.m9)(w)}class Ut{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,L.ne)(y=>this.observer=y)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Pn(w,m,y){const E=Ze(w);Q(E._canInitEmulator,E,"emulator-config-failed"),Q(/^https?:\/\//.test(m),E,"invalid-emulator-scheme");const R=!!(null==y?void 0:y.disableWarnings),U=sr(m),{host:me,port:Pe}=function Ps(w){const m=sr(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(m.length));if(!y)return{host:"",port:null};const E=y[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(E);if(R){const U=R[1];return{host:U,port:oi(E.substr(U.length+1))}}{const[U,me]=E.split(":");return{host:U,port:oi(me)}}}(m);E.config.emulator={url:`${U}//${me}${null===Pe?"":`:${Pe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:me,port:Pe,protocol:U.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function Ns(){function w(){const m=document.createElement("p"),y=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function sr(w){const m=w.indexOf(":");return m<0?"":w.substr(0,m+1)}function oi(w){if(!w)return null;const m=Number(w);return isNaN(m)?null:m}class _n{constructor(m,y){this.providerId=m,this.signInMethod=y}toJSON(){return be("not implemented")}_getIdTokenResponse(m){return be("not implemented")}_linkToIdToken(m,y){return be("not implemented")}_getReauthenticationResolver(m){return be("not implemented")}}function Vo(w,m){return ti.apply(this,arguments)}function ti(){return(ti=(0,o.Z)(function*(w,m){return pn(w,"POST","/v1/accounts:resetPassword",zt(w,m))})).apply(this,arguments)}function Ft(w,m){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,o.Z)(function*(w,m){return pn(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ar(w,m){return ua.apply(this,arguments)}function ua(){return(ua=(0,o.Z)(function*(w,m){return pn(w,"POST","/v1/accounts:update",zt(w,m))})).apply(this,arguments)}function bn(){return(bn=(0,o.Z)(function*(w,m){return Gn(w,"POST","/v1/accounts:signInWithPassword",zt(w,m))})).apply(this,arguments)}function ho(w,m){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,o.Z)(function*(w,m){return pn(w,"POST","/v1/accounts:sendOobCode",zt(w,m))})).apply(this,arguments)}function Mn(w,m){return wn.apply(this,arguments)}function wn(){return(wn=(0,o.Z)(function*(w,m){return ho(w,m)})).apply(this,arguments)}function nd(w,m){return jo.apply(this,arguments)}function jo(){return(jo=(0,o.Z)(function*(w,m){return ho(w,m)})).apply(this,arguments)}function or(w,m){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,o.Z)(function*(w,m){return ho(w,m)})).apply(this,arguments)}function nu(w,m){return ec.apply(this,arguments)}function ec(){return(ec=(0,o.Z)(function*(w,m){return ho(w,m)})).apply(this,arguments)}function Mr(){return(Mr=(0,o.Z)(function*(w,m){return Gn(w,"POST","/v1/accounts:signInWithEmailLink",zt(w,m))})).apply(this,arguments)}function id(){return(id=(0,o.Z)(function*(w,m){return Gn(w,"POST","/v1/accounts:signInWithEmailLink",zt(w,m))})).apply(this,arguments)}class tc extends _n{constructor(m,y,E,R=null){super("password",E),this._email=m,this._password=y,this._tenantId=R}static _fromEmailAndPassword(m,y){return new tc(m,y,"password")}static _fromEmailAndCode(m,y,E=null){return new tc(m,y,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(m){var y=this;return(0,o.Z)(function*(){switch(y.signInMethod){case"password":return function da(w,m){return bn.apply(this,arguments)}(m,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function fo(w,m){return Mr.apply(this,arguments)}(m,{email:y._email,oobCode:y._password});default:Be(m,"internal-error")}})()}_linkToIdToken(m,y){var E=this;return(0,o.Z)(function*(){switch(E.signInMethod){case"password":return Ft(m,{idToken:y,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function iu(w,m){return id.apply(this,arguments)}(m,{idToken:y,email:E._email,oobCode:E._password});default:Be(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function pi(w,m){return rd.apply(this,arguments)}function rd(){return(rd=(0,o.Z)(function*(w,m){return Gn(w,"POST","/v1/accounts:signInWithIdp",zt(w,m))})).apply(this,arguments)}class Fs extends _n{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const y=new Fs(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(y.idToken=m.idToken),m.accessToken&&(y.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(y.nonce=m.nonce),m.pendingToken&&(y.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(y.accessToken=m.oauthToken,y.secret=m.oauthTokenSecret):Be("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:R}=y,U=(0,q._T)(y,["providerId","signInMethod"]);if(!E||!R)return null;const me=new Fs(E,R);return me.idToken=U.idToken||void 0,me.accessToken=U.accessToken||void 0,me.secret=U.secret,me.nonce=U.nonce,me.pendingToken=U.pendingToken||null,me}_getIdTokenResponse(m){return pi(m,this.buildRequest())}_linkToIdToken(m,y){const E=this.buildRequest();return E.idToken=y,pi(m,E)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,pi(m,y)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),m.postBody=(0,L.xO)(y)}return m}}function og(w,m){return sd.apply(this,arguments)}function sd(){return(sd=(0,o.Z)(function*(w,m){return pn(w,"POST","/v1/accounts:sendVerificationCode",zt(w,m))})).apply(this,arguments)}function el(){return(el=(0,o.Z)(function*(w,m){return Gn(w,"POST","/v1/accounts:signInWithPhoneNumber",zt(w,m))})).apply(this,arguments)}function od(){return(od=(0,o.Z)(function*(w,m){const y=yield Gn(w,"POST","/v1/accounts:signInWithPhoneNumber",zt(w,m));if(y.temporaryProof)throw Xn(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const lg={USER_NOT_FOUND:"user-not-found"};function ld(){return(ld=(0,o.Z)(function*(w,m){return Gn(w,"POST","/v1/accounts:signInWithPhoneNumber",zt(w,Object.assign(Object.assign({},m),{operation:"REAUTH"})),lg)})).apply(this,arguments)}class fa extends _n{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,y){return new fa({verificationId:m,verificationCode:y})}static _fromTokenResponse(m,y){return new fa({phoneNumber:m,temporaryProof:y})}_getIdTokenResponse(m){return function ag(w,m){return el.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,y){return function ha(w,m){return od.apply(this,arguments)}(m,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function ad(w,m){return ld.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:y,verificationId:E,verificationCode:R}=this.params;return m&&y?{temporaryProof:m,phoneNumber:y}:{sessionInfo:E,code:R}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:y,verificationCode:E,phoneNumber:R,temporaryProof:U}=m;return E||y||R||U?new fa({verificationId:y,verificationCode:E,phoneNumber:R,temporaryProof:U}):null}}class Ls{constructor(m){var y,E,R,U,me,Pe;const st=(0,L.zd)((0,L.pd)(m)),Ct=null!==(y=st.apiKey)&&void 0!==y?y:null,Wt=null!==(E=st.oobCode)&&void 0!==E?E:null,Bn=function cg(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=st.mode)&&void 0!==R?R:null);Q(Ct&&Wt&&Bn,"argument-error"),this.apiKey=Ct,this.operation=Bn,this.code=Wt,this.continueUrl=null!==(U=st.continueUrl)&&void 0!==U?U:null,this.languageCode=null!==(me=st.languageCode)&&void 0!==me?me:null,this.tenantId=null!==(Pe=st.tenantId)&&void 0!==Pe?Pe:null}static parseLink(m){const y=function Qh(w){const m=(0,L.zd)((0,L.pd)(w)).link,y=m?(0,L.zd)((0,L.pd)(m)).deep_link_id:null,E=(0,L.zd)((0,L.pd)(w)).deep_link_id;return(E?(0,L.zd)((0,L.pd)(E)).link:null)||E||y||m||w}(m);try{return new Ls(y)}catch(E){return null}}}let tl=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,E){return tc._fromEmailAndPassword(y,E)}static credentialWithLink(y,E){const R=Ls.parseLink(E);return Q(R,"argument-error"),tc._fromEmailAndCode(y,R.code,R.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class po{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class kr extends po{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class pa extends kr{static credentialFromJSON(m){const y="string"==typeof m?JSON.parse(m):m;return Q("providerId"in y&&"signInMethod"in y,"argument-error"),Fs._fromParams(y)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Q(m.idToken||m.accessToken,"argument-error"),Fs._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return pa.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return pa.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:y,oauthAccessToken:E,oauthTokenSecret:R,pendingToken:U,nonce:me,providerId:Pe}=m;if(!E&&!R&&!y&&!U||!Pe)return null;try{return new pa(Pe)._credential({idToken:y,accessToken:E,nonce:me,pendingToken:U})}catch(st){return null}}}let nl=(()=>{class w extends kr{constructor(){super("facebook.com")}static credential(y){return Fs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(E){return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),il=(()=>{class w extends kr{constructor(){super("google.com"),this.addScope("profile")}static credential(y,E){return Fs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:E})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:R}=y;if(!E&&!R)return null;try{return w.credential(E,R)}catch(U){return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Jh=(()=>{class w extends kr{constructor(){super("github.com")}static credential(y){return Fs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(E){return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Ci extends _n{constructor(m,y){super(m,m),this.pendingToken=y}_getIdTokenResponse(m){return pi(m,this.buildRequest())}_linkToIdToken(m,y){const E=this.buildRequest();return E.idToken=y,pi(m,E)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,pi(m,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:R,pendingToken:U}=y;return E&&R&&U&&E===R?new Ci(E,U):null}static _create(m,y){return new Ci(m,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Bs extends po{constructor(m){Q(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Bs.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Bs.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const y=Ci.fromJSON(m);return Q(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:y,providerId:E}=m;if(!y||!E)return null;try{return Ci._create(E,y)}catch(R){return null}}}let Yr=(()=>{class w extends kr{constructor(){super("twitter.com")}static credential(y,E){return Fs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:E})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:E,oauthTokenSecret:R}=y;if(!E||!R)return null;try{return w.credential(E,R)}catch(U){return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function ud(w,m){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,o.Z)(function*(w,m){return Gn(w,"POST","/v1/accounts:signUp",zt(w,m))})).apply(this,arguments)}class Ki{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,y,E,R=!1){return(0,o.Z)(function*(){const U=yield Ye._fromIdTokenResponse(m,E,R),me=dd(E);return new Ki({user:U,providerId:me,_tokenResponse:E,operationType:y})})()}static _forOperation(m,y,E){return(0,o.Z)(function*(){yield m._updateTokensIfNecessary(E,!0);const R=dd(E);return new Ki({user:m,providerId:R,_tokenResponse:E,operationType:y})})()}}function dd(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function hd(w){return nc.apply(this,arguments)}function nc(){return(nc=(0,o.Z)(function*(w){var m;const y=Ze(w);if(yield y._initializationPromise,null===(m=y.currentUser)||void 0===m?void 0:m.isAnonymous)return new Ki({user:y.currentUser,providerId:null,operationType:"signIn"});const E=yield ud(y,{returnSecureToken:!0}),R=yield Ki._fromIdTokenResponse(y,"signIn",E,!0);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}class ic extends L.ZR{constructor(m,y,E,R){var U;super(y.code,y.message),this.operationType=E,this.user=R,Object.setPrototypeOf(this,ic.prototype),this.customData={appName:m.name,tenantId:null!==(U=m.tenantId)&&void 0!==U?U:void 0,_serverResponse:y.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(m,y,E,R){return new ic(m,y,E,R)}}function rc(w,m,y,E){return("reauthenticate"===m?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(U=>{throw"auth/multi-factor-auth-required"===U.code?ic._fromErrorAndOperation(w,U,m,E):U})}function ru(w){return new Set(w.map(({providerId:m})=>m).filter(m=>!!m))}function Vs(w,m){return su.apply(this,arguments)}function su(){return(su=(0,o.Z)(function*(w,m){const y=(0,L.m9)(w);yield go(!0,y,m);const{providerUserInfo:E}=yield Wi(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[m]}),R=ru(E||[]);return y.providerData=y.providerData.filter(U=>R.has(U.providerId)),R.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function kn(w,m){return rl.apply(this,arguments)}function rl(){return(rl=(0,o.Z)(function*(w,m,y=!1){const E=yield ut(w,m._linkToIdToken(w.auth,yield w.getIdToken()),y);return Ki._forOperation(w,"link",E)})).apply(this,arguments)}function go(w,m,y){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,o.Z)(function*(w,m,y){yield ei(m);const R=!1===w?"provider-already-linked":"no-such-provider";Q(ru(m.providerData).has(y)===w,m.auth,R)})).apply(this,arguments)}function sc(w,m){return sl.apply(this,arguments)}function sl(){return(sl=(0,o.Z)(function*(w,m,y=!1){var E;const{auth:R}=w,U="reauthenticate";try{const me=yield ut(w,rc(R,U,m,w),y);Q(me.idToken,R,"internal-error");const Pe=qt(me.idToken);Q(Pe,R,"internal-error");const{sub:st}=Pe;return Q(w.uid===st,R,"user-mismatch"),Ki._forOperation(w,U,me)}catch(me){throw"auth/user-not-found"===(null===(E=me)||void 0===E?void 0:E.code)&&Be(R,"user-mismatch"),me}})).apply(this,arguments)}function zo(w,m){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,o.Z)(function*(w,m,y=!1){const E="signIn",R=yield rc(w,E,m),U=yield Ki._fromIdTokenResponse(w,E,R);return y||(yield w._updateCurrentUser(U.user)),U})).apply(this,arguments)}function oc(w,m){return ni.apply(this,arguments)}function ni(){return(ni=(0,o.Z)(function*(w,m){return zo(Ze(w),m)})).apply(this,arguments)}function Us(w,m){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,o.Z)(function*(w,m){const y=(0,L.m9)(w);return yield go(!1,y,m.providerId),kn(y,m)})).apply(this,arguments)}function ga(w,m){return _s.apply(this,arguments)}function _s(){return(_s=(0,o.Z)(function*(w,m){return sc((0,L.m9)(w),m)})).apply(this,arguments)}function ou(w,m){return vr.apply(this,arguments)}function vr(){return(vr=(0,o.Z)(function*(w,m){return Gn(w,"POST","/v1/accounts:signInWithCustomToken",zt(w,m))})).apply(this,arguments)}function mo(w,m){return _o.apply(this,arguments)}function _o(){return(_o=(0,o.Z)(function*(w,m){const y=Ze(w),E=yield ou(y,{token:m,returnSecureToken:!0}),R=yield Ki._fromIdTokenResponse(y,"signIn",E);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}class Et{constructor(m,y){this.factorId=m,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(m,y){return"phoneInfo"in y?ol._fromServerResponse(m,y):Be(m,"internal-error")}}class ol extends Et{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,y){return new ol(y)}}function al(w,m,y){var E;Q((null===(E=y.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),Q(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),m.continueUrl=y.url,m.dynamicLinkDomain=y.dynamicLinkDomain,m.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(Q(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),m.iOSBundleId=y.iOS.bundleId),y.android&&(Q(y.android.packageName.length>0,w,"missing-android-pkg-name"),m.androidInstallApp=y.android.installApp,m.androidMinimumVersionCode=y.android.minimumVersion,m.androidPackageName=y.android.packageName)}function fd(w,m,y){return ll.apply(this,arguments)}function ll(){return(ll=(0,o.Z)(function*(w,m,y){const E=(0,L.m9)(w),R={requestType:"PASSWORD_RESET",email:m};y&&al(E,R,y),yield nd(E,R)})).apply(this,arguments)}function au(w,m,y){return cl.apply(this,arguments)}function cl(){return(cl=(0,o.Z)(function*(w,m,y){yield Vo((0,L.m9)(w),{oobCode:m,newPassword:y})})).apply(this,arguments)}function Xh(w,m){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,o.Z)(function*(w,m){yield Ar((0,L.m9)(w),{oobCode:m})})).apply(this,arguments)}function Yt(w,m){return ul.apply(this,arguments)}function ul(){return(ul=(0,o.Z)(function*(w,m){const y=(0,L.m9)(w),E=yield Vo(y,{oobCode:m}),R=E.requestType;switch(Q(R,y,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(E.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(E.mfaInfo,y,"internal-error");default:Q(E.email,y,"internal-error")}let U=null;return E.mfaInfo&&(U=Et._fromServerResponse(Ze(y),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:U},operation:R}})).apply(this,arguments)}function qn(w,m){return yo.apply(this,arguments)}function yo(){return(yo=(0,o.Z)(function*(w,m){const{data:y}=yield Yt((0,L.m9)(w),m);return y.email})).apply(this,arguments)}function dl(w,m,y){return ar.apply(this,arguments)}function ar(){return(ar=(0,o.Z)(function*(w,m,y){const E=Ze(w),R=yield ud(E,{returnSecureToken:!0,email:m,password:y}),U=yield Ki._fromIdTokenResponse(E,"signIn",R);return yield E._updateCurrentUser(U.user),U})).apply(this,arguments)}function lu(w,m,y){return oc((0,L.m9)(w),tl.credential(m,y))}function cu(w,m,y){return pd.apply(this,arguments)}function pd(){return(pd=(0,o.Z)(function*(w,m,y){const E=(0,L.m9)(w),R={requestType:"EMAIL_SIGNIN",email:m};Q(y.handleCodeInApp,E,"argument-error"),y&&al(E,R,y),yield or(E,R)})).apply(this,arguments)}function gd(w,m){const y=Ls.parseLink(m);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}function hl(w,m,y){return ma.apply(this,arguments)}function ma(){return(ma=(0,o.Z)(function*(w,m,y){const E=(0,L.m9)(w),R=tl.credentialWithLink(m,y||X());return Q(R._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),oc(E,R)})).apply(this,arguments)}function Ei(w,m){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,o.Z)(function*(w,m){return pn(w,"POST","/v1/accounts:createAuthUri",zt(w,m))})).apply(this,arguments)}function uu(w,m){return ys.apply(this,arguments)}function ys(){return(ys=(0,o.Z)(function*(w,m){const E={identifier:m,continueUri:Ge()?X():"http://localhost"},{signinMethods:R}=yield Ei((0,L.m9)(w),E);return R||[]})).apply(this,arguments)}function Hs(w,m){return fl.apply(this,arguments)}function fl(){return(fl=(0,o.Z)(function*(w,m){const y=(0,L.m9)(w),R={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};m&&al(y.auth,R,m);const{email:U}=yield Mn(y.auth,R);U!==w.email&&(yield w.reload())})).apply(this,arguments)}function md(w,m,y){return pl.apply(this,arguments)}function pl(){return(pl=(0,o.Z)(function*(w,m,y){const E=(0,L.m9)(w),U={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:m};y&&al(E.auth,U,y);const{email:me}=yield nu(E.auth,U);me!==w.email&&(yield w.reload())})).apply(this,arguments)}function _d(w,m){return Go.apply(this,arguments)}function Go(){return(Go=(0,o.Z)(function*(w,m){return pn(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ac(w,m){return gl.apply(this,arguments)}function gl(){return(gl=(0,o.Z)(function*(w,{displayName:m,photoURL:y}){if(void 0===m&&void 0===y)return;const E=(0,L.m9)(w),U={idToken:yield E.getIdToken(),displayName:m,photoUrl:y,returnSecureToken:!0},me=yield ut(E,_d(E.auth,U));E.displayName=me.displayName||null,E.photoURL=me.photoUrl||null;const Pe=E.providerData.find(({providerId:st})=>"password"===st);Pe&&(Pe.displayName=E.displayName,Pe.photoURL=E.photoURL),yield E._updateTokensIfNecessary(me)})).apply(this,arguments)}function du(w,m){return lc((0,L.m9)(w),m,null)}function dg(w,m){return lc((0,L.m9)(w),null,m)}function lc(w,m,y){return $o.apply(this,arguments)}function $o(){return($o=(0,o.Z)(function*(w,m,y){const{auth:E}=w,U={idToken:yield w.getIdToken(),returnSecureToken:!0};m&&(U.email=m),y&&(U.password=y);const me=yield ut(w,Ft(E,U));yield w._updateTokensIfNecessary(me,!0)})).apply(this,arguments)}class Wo{constructor(m,y,E={}){this.isNewUser=m,this.providerId=y,this.profile=E}}class yd extends Wo{constructor(m,y,E,R){super(m,y,E),this.username=R}}class ef extends Wo{constructor(m,y){super(m,"facebook.com",y)}}class _a extends yd{constructor(m,y){super(m,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class vs extends Wo{constructor(m,y){super(m,"google.com",y)}}class tf extends yd{constructor(m,y,E){super(m,"twitter.com",y,E)}}function ki(w){const{user:m,_tokenResponse:y}=w;return m.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function hu(w){var m,y;if(!w)return null;const{providerId:E}=w,R=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},U=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&(null==w?void 0:w.idToken)){const me=null===(y=null===(m=qt(w.idToken))||void 0===m?void 0:m.firebase)||void 0===y?void 0:y.sign_in_provider;if(me)return new Wo(U,"anonymous"!==me&&"custom"!==me?me:null)}if(!E)return null;switch(E){case"facebook.com":return new ef(U,R);case"github.com":return new _a(U,R);case"google.com":return new vs(U,R);case"twitter.com":return new tf(U,R,w.screenName||null);case"custom":case"anonymous":return new Wo(U,null);default:return new Wo(U,E,R)}}(y)}class zs{constructor(m,y){this.type=m,this.credential=y}static _fromIdtoken(m){return new zs("enroll",m)}static _fromMfaPendingCredential(m){return new zs("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var y,E;if(null==m?void 0:m.multiFactorSession){if(null===(y=m.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return zs._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(E=m.multiFactorSession)||void 0===E?void 0:E.idToken)return zs._fromIdtoken(m.multiFactorSession.idToken)}return null}}class _l{constructor(m,y,E){this.session=m,this.hints=y,this.signInResolver=E}static _fromError(m,y){const E=Ze(m),R=y.customData._serverResponse,U=(R.mfaInfo||[]).map(Pe=>Et._fromServerResponse(E,Pe));Q(R.mfaPendingCredential,E,"internal-error");const me=zs._fromMfaPendingCredential(R.mfaPendingCredential);return new _l(me,U,function(){var Pe=(0,o.Z)(function*(st){const Ct=yield st._process(E,me);delete R.mfaInfo,delete R.mfaPendingCredential;const Wt=Object.assign(Object.assign({},R),{idToken:Ct.idToken,refreshToken:Ct.refreshToken});switch(y.operationType){case"signIn":const Bn=yield Ki._fromIdTokenResponse(E,y.operationType,Wt);return yield E._updateCurrentUser(Bn.user),Bn;case"reauthenticate":return Q(y.user,E,"internal-error"),Ki._forOperation(y.user,y.operationType,Wt);default:Be(E,"internal-error")}});return function(st){return Pe.apply(this,arguments)}}())}resolveSignIn(m){var y=this;return(0,o.Z)(function*(){return y.signInResolver(m)})()}}function cc(w,m){var y;const E=(0,L.m9)(w),R=m;return Q(m.customData.operationType,E,"argument-error"),Q(null===(y=R.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,E,"argument-error"),_l._fromError(E,R)}function Ri(w,m){return pn(w,"POST","/v2/accounts/mfaEnrollment:start",zt(w,m))}class ya{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(E=>Et._fromServerResponse(m.auth,E)))})}static _fromUser(m){return new ya(m)}getSession(){var m=this;return(0,o.Z)(function*(){return zs._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,y){var E=this;return(0,o.Z)(function*(){const R=m,U=yield E.getSession(),me=yield ut(E.user,R._process(E.user.auth,U,y));return yield E.user._updateTokensIfNecessary(me),E.user.reload()})()}unenroll(m){var y=this;return(0,o.Z)(function*(){var E;const R="string"==typeof m?m:m.uid,U=yield y.user.getIdToken(),me=yield ut(y.user,function qo(w,m){return pn(w,"POST","/v2/accounts/mfaEnrollment:withdraw",zt(w,m))}(y.user.auth,{idToken:U,mfaEnrollmentId:R}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Pe})=>Pe!==R),yield y.user._updateTokensIfNecessary(me);try{yield y.user.reload()}catch(Pe){if("auth/user-token-expired"!==(null===(E=Pe)||void 0===E?void 0:E.code))throw Pe}})()}}const bd=new WeakMap;function wd(w){const m=(0,L.m9)(w);return bd.has(m)||bd.set(m,ya._fromUser(m)),bd.get(m)}const lr="__sak";class va{constructor(m,y){this.storageRetriever=m,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(lr,"1"),this.storage.removeItem(lr),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,y){return this.storage.setItem(m,JSON.stringify(y)),Promise.resolve()}_get(m){const y=this.storage.getItem(m);return Promise.resolve(y?JSON.parse(y):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const $n=(()=>{class w extends va{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,E)=>this.onStorageEvent(y,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Cd(){const w=(0,L.z$)();return ae(w)||Gt(w)}()&&function ms(){try{return!(!window||window===window.top)}catch(w){return!1}}(),this.fallbackToPolling=Zi(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const E of Object.keys(this.listeners)){const R=this.storage.getItem(E),U=this.localCache[E];R!==U&&y(E,U,R)}}onStorageEvent(y,E=!1){if(!y.key)return void this.forAllChangedKeys((Pe,st,Ct)=>{this.notifyListeners(Pe,Ct)});const R=y.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Pe=this.storage.getItem(R);if(y.newValue!==Pe)null!==y.newValue?this.storage.setItem(R,y.newValue):this.storage.removeItem(R);else if(this.localCache[R]===y.newValue&&!E)return}const U=()=>{const Pe=this.storage.getItem(R);!E&&this.localCache[R]===Pe||this.notifyListeners(R,Pe)},me=this.storage.getItem(R);!function $t(){return(0,L.w1)()&&10===document.documentMode}()||me===y.newValue||y.newValue===y.oldValue?U():setTimeout(U,10)}notifyListeners(y,E){this.localCache[y]=E;const R=this.listeners[y];if(R)for(const U of Array.from(R))U(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,E,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:E,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,E){var R=()=>super._set,U=this;return(0,o.Z)(function*(){yield R().call(U,y,E),U.localCache[y]=JSON.stringify(E)})()}_get(y){var E=()=>super._get,R=this;return(0,o.Z)(function*(){const U=yield E().call(R,y);return R.localCache[y]=JSON.stringify(U),U})()}_remove(y){var E=()=>super._remove,R=this;return(0,o.Z)(function*(){yield E().call(R,y),delete R.localCache[y]})()}}return w.type="LOCAL",w})(),lt=(()=>{class w extends va{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,E){}_removeListener(y,E){}}return w.type="SESSION",w})();let cr=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const E=this.receivers.find(U=>U.isListeningto(y));if(E)return E;const R=new w(y);return this.receivers.push(R),R}isListeningto(y){return this.eventTarget===y}handleEvent(y){var E=this;return(0,o.Z)(function*(){const R=y,{eventId:U,eventType:me,data:Pe}=R.data,st=E.handlersMap[me];if(!(null==st?void 0:st.size))return;R.ports[0].postMessage({status:"ack",eventId:U,eventType:me});const Ct=Array.from(st).map(function(){var Bn=(0,o.Z)(function*(ts){return ts(R.origin,Pe)});return function(ts){return Bn.apply(this,arguments)}}()),Wt=yield function ai(w){return Promise.all(w.map(function(){var m=(0,o.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(E){return{fulfilled:!1,reason:E}}});return function(y){return m.apply(this,arguments)}}()))}(Ct);R.ports[0].postMessage({status:"done",eventId:U,eventType:me,response:Wt})})()}_subscribe(y,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(E)}_unsubscribe(y,E){this.handlersMap[y]&&E&&this.handlersMap[y].delete(E),(!E||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Gs(w="",m=10){let y="";for(let E=0;E<m;E++)y+=Math.floor(10*Math.random());return w+y}class br{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,y,E=50){var R=this;return(0,o.Z)(function*(){const U="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!U)throw new Error("connection_unavailable");let me,Pe;return new Promise((st,Ct)=>{const Wt=Gs("",20);U.port1.start();const Bn=setTimeout(()=>{Ct(new Error("unsupported_event"))},E);Pe={messageChannel:U,onMessage(ts){const ns=ts;if(ns.data.eventId===Wt)switch(ns.data.status){case"ack":clearTimeout(Bn),me=setTimeout(()=>{Ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(me),st(ns.data.response);break;default:clearTimeout(Bn),clearTimeout(me),Ct(new Error("invalid_response"))}}},R.handlers.add(Pe),U.port1.addEventListener("message",Pe.onMessage),R.target.postMessage({eventType:m,eventId:Wt,data:y},[U.port2])}).finally(()=>{Pe&&R.removeMessageHandler(Pe)})})()}}function Ht(){return window}function En(){return void 0!==Ht().WorkerGlobalScope&&"function"==typeof Ht().importScripts}function uc(){return(uc=(0,o.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(w){return null}})).apply(this,arguments)}const hc="firebaseLocalStorageDb",Qr="firebaseLocalStorage",dn="fbase_key";class Nn{constructor(m){this.request=m}toPromise(){return new Promise((m,y)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function bs(w,m){return w.transaction([Qr],m?"readwrite":"readonly").objectStore(Qr)}function vl(){const w=indexedDB.open(hc,1);return new Promise((m,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(Qr,{keyPath:dn})}catch(R){y(R)}}),w.addEventListener("success",(0,o.Z)(function*(){const E=w.result;E.objectStoreNames.contains(Qr)?m(E):(E.close(),yield function yl(){const w=indexedDB.deleteDatabase(hc);return new Nn(w).toPromise()}(),m(yield vl()))}))})}function vo(w,m,y){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,o.Z)(function*(w,m,y){const E=bs(w,!0).put({[dn]:m,value:y});return new Nn(E).toPromise()})).apply(this,arguments)}function Zo(){return(Zo=(0,o.Z)(function*(w,m){const y=bs(w,!1).get(m),E=yield new Nn(y).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function ba(w,m){const y=bs(w,!0).delete(m);return new Nn(y).toPromise()}const $s=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,o.Z)(function*(){return y.db||(y.db=yield vl()),y.db})()}_withRetries(y){var E=this;return(0,o.Z)(function*(){let R=0;for(;;)try{const U=yield E._openDb();return yield y(U)}catch(U){if(R++>3)throw U;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,o.Z)(function*(){return En()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,o.Z)(function*(){y.receiver=cr._getInstance(function dc(){return En()?self:null}()),y.receiver._subscribe("keyChanged",function(){var E=(0,o.Z)(function*(R,U){return{keyProcessed:(yield y._poll()).includes(U.key)}});return function(R,U){return E.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var E=(0,o.Z)(function*(R,U){return["keyChanged"]});return function(R,U){return E.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,o.Z)(function*(){var E,R;if(y.activeServiceWorker=yield function pt(){return uc.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new br(y.activeServiceWorker);const U=yield y.sender._send("ping",{},800);!U||(null===(E=U[0])||void 0===E?void 0:E.fulfilled)&&(null===(R=U[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var E=this;return(0,o.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Ed(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:y},E.serviceWorkerReceiverAvailable?800:50)}catch(R){}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const y=yield vl();return yield vo(y,lr,"1"),yield ba(y,lr),!0}catch(y){}return!1})()}_withPendingWrite(y){var E=this;return(0,o.Z)(function*(){E.pendingWrites++;try{yield y()}finally{E.pendingWrites--}})()}_set(y,E){var R=this;return(0,o.Z)(function*(){return R._withPendingWrite((0,o.Z)(function*(){return yield R._withRetries(U=>vo(U,y,E)),R.localCache[y]=E,R.notifyServiceWorker(y)}))})()}_get(y){var E=this;return(0,o.Z)(function*(){const R=yield E._withRetries(U=>function Jr(w,m){return Zo.apply(this,arguments)}(U,y));return E.localCache[y]=R,R})()}_remove(y){var E=this;return(0,o.Z)(function*(){return E._withPendingWrite((0,o.Z)(function*(){return yield E._withRetries(R=>ba(R,y)),delete E.localCache[y],E.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,o.Z)(function*(){const E=yield y._withRetries(me=>{const Pe=bs(me,!1).getAll();return new Nn(Pe).toPromise()});if(!E)return[];if(0!==y.pendingWrites)return[];const R=[],U=new Set;for(const{fbase_key:me,value:Pe}of E)U.add(me),JSON.stringify(y.localCache[me])!==JSON.stringify(Pe)&&(y.notifyListeners(me,Pe),R.push(me));for(const me of Object.keys(y.localCache))y.localCache[me]&&!U.has(me)&&(y.notifyListeners(me,null),R.push(me));return R})()}notifyListeners(y,E){this.localCache[y]=E;const R=this.listeners[y];if(R)for(const U of Array.from(R))U(E)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function gu(w,m){return pn(w,"POST","/v2/accounts/mfaSignIn:start",zt(w,m))}function ur(){return(ur=(0,o.Z)(function*(w){return(yield pn(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function bl(w){return new Promise((m,y)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=m,E.onerror=R=>{const U=ve("internal-error");U.customData=R,y(U)},E.type="text/javascript",E.charset="UTF-8",function fc(){var w,m;return null!==(m=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==m?m:document}().appendChild(E)})}function ws(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Pr=1e12;class pc{constructor(m){this.auth=m,this.counter=Pr,this._widgets=new Map}render(m,y){const E=this.counter;return this._widgets.set(E,new gc(m,this.auth.name,y||{})),this.counter++,E}reset(m){var y;const E=m||Pr;null===(y=this._widgets.get(E))||void 0===y||y.delete(),this._widgets.delete(E)}getResponse(m){var y;return(null===(y=this._widgets.get(m||Pr))||void 0===y?void 0:y.getResponse())||""}execute(m){var y=this;return(0,o.Z)(function*(){var E;return null===(E=y._widgets.get(m||Pr))||void 0===E||E.execute(),""})()}}class gc{constructor(m,y,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof m?document.getElementById(m):m;Q(R,"argument-error",{appName:y}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function pg(w){const m=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)m.push(y.charAt(Math.floor(Math.random()*y.length)));return m.join("")}(50);const{callback:m,"expired-callback":y}=this.params;if(m)try{m(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Td=ws("rcb"),li=new at(3e4,6e4);class tt{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(m=Ht().grecaptcha)||void 0===m?void 0:m.render)}load(m,y=""){return Q(function ci(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),m,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Ht().grecaptcha):new Promise((E,R)=>{const U=Ht().setTimeout(()=>{R(ve(m,"network-request-failed"))},li.get());Ht()[Td]=()=>{Ht().clearTimeout(U),delete Ht()[Td];const Pe=Ht().grecaptcha;if(!Pe)return void R(ve(m,"internal-error"));const st=Pe.render;Pe.render=(Ct,Wt)=>{const Bn=st(Ct,Wt);return this.counter++,Bn},this.hostLanguage=y,E(Pe)},bl(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Td,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(U),R(ve(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var y;return!!(null===(y=Ht().grecaptcha)||void 0===y?void 0:y.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bo{load(m){return(0,o.Z)(function*(){return new pc(m)})()}clearedOneInstance(){}}const H="recaptcha",wo={theme:"light",type:"image"};class mg{constructor(m,y=Object.assign({},wo),E){this.parameters=y,this.type=H,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ze(E),this.isInvisible="invisible"===this.parameters.size,Q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof m?document.getElementById(m):m;Q(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bo:new tt,this.validateStartingState()}verify(){var m=this;return(0,o.Z)(function*(){m.assertNotDestroyed();const y=yield m.render(),E=m.getAssertedRecaptcha();return E.getResponse(y)||new Promise(U=>{const me=Pe=>{!Pe||(m.tokenChangeListeners.delete(me),U(Pe))};m.tokenChangeListeners.add(me),m.isInvisible&&E.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return y=>{if(this.tokenChangeListeners.forEach(E=>E(y)),"function"==typeof m)m(y);else if("string"==typeof m){const E=Ht()[m];"function"==typeof E&&E(y)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,o.Z)(function*(){if(yield m.init(),!m.widgetId){let y=m.container;if(!m.isInvisible){const E=document.createElement("div");y.appendChild(E),y=E}m.widgetId=m.getAssertedRecaptcha().render(y,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,o.Z)(function*(){Q(Ge()&&!En(),m.auth,"internal-error"),yield function mc(){let w=null;return new Promise(m=>{"complete"!==document.readyState?(w=()=>m(),window.addEventListener("load",w)):m()}).catch(m=>{throw w&&window.removeEventListener("load",w),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const y=yield function wa(w){return ur.apply(this,arguments)}(m.auth);Q(y,m.auth,"internal-error"),m.parameters.sitekey=y})()}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Id{constructor(m,y){this.verificationId=m,this.onConfirmation=y}confirm(m){const y=fa._fromVerification(this.verificationId,m);return this.onConfirmation(y)}}function en(w,m,y){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,o.Z)(function*(w,m,y){const E=Ze(w),R=yield wr(E,m,(0,L.m9)(y));return new Id(R,U=>oc(E,U))})).apply(this,arguments)}function Ws(w,m,y){return _c.apply(this,arguments)}function _c(){return(_c=(0,o.Z)(function*(w,m,y){const E=(0,L.m9)(w);yield go(!1,E,"phone");const R=yield wr(E.auth,m,(0,L.m9)(y));return new Id(R,U=>Us(E,U))})).apply(this,arguments)}function sf(w,m,y){return dr.apply(this,arguments)}function dr(){return(dr=(0,o.Z)(function*(w,m,y){const E=(0,L.m9)(w),R=yield wr(E.auth,m,(0,L.m9)(y));return new Id(R,U=>ga(E,U))})).apply(this,arguments)}function wr(w,m,y){return wl.apply(this,arguments)}function wl(){return(wl=(0,o.Z)(function*(w,m,y){var E;const R=yield y.verify();try{let U;if(Q("string"==typeof R,w,"argument-error"),Q(y.type===H,w,"argument-error"),U="string"==typeof m?{phoneNumber:m}:m,"session"in U){const me=U.session;if("phoneNumber"in U)return Q("enroll"===me.type,w,"internal-error"),(yield Ri(w,{idToken:me.credential,phoneEnrollmentInfo:{phoneNumber:U.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{Q("signin"===me.type,w,"internal-error");const Pe=(null===(E=U.multiFactorHint)||void 0===E?void 0:E.uid)||U.multiFactorUid;return Q(Pe,w,"missing-multi-factor-info"),(yield gu(w,{mfaPendingCredential:me.credential,mfaEnrollmentId:Pe,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:me}=yield og(w,{phoneNumber:U.phoneNumber,recaptchaToken:R});return me}}finally{y._reset()}})).apply(this,arguments)}function yc(w,m){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,o.Z)(function*(w,m){yield kn((0,L.m9)(w),m)})).apply(this,arguments)}let Dd=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=Ze(y)}verifyPhoneNumber(y,E){return wr(this.auth,y,(0,L.m9)(E))}static credential(y,E){return fa._fromVerification(y,E)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:E,temporaryProof:R}=y;return E&&R?fa._fromTokenResponse(E,R):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Co(w,m){return m?W(m):(Q(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Oi extends _n{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return pi(m,this._buildIdpRequest())}_linkToIdToken(m,y){return pi(m,this._buildIdpRequest(y))}_getReauthenticationResolver(m){return pi(m,this._buildIdpRequest())}_buildIdpRequest(m){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(y.idToken=m),y}}function Cl(w){return zo(w.auth,new Oi(w),w.bypassAuthState)}function Sd(w){const{auth:m,user:y}=w;return Q(y,m,"internal-error"),sc(y,new Oi(w),w.bypassAuthState)}function vc(w){return ui.apply(this,arguments)}function ui(){return(ui=(0,o.Z)(function*(w){const{auth:m,user:y}=w;return Q(y,m,"internal-error"),kn(y,new Oi(w),w.bypassAuthState)})).apply(this,arguments)}class Eo{constructor(m,y,E,R,U=!1){this.auth=m,this.resolver=E,this.user=R,this.bypassAuthState=U,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var m=this;return new Promise(function(){var y=(0,o.Z)(function*(E,R){m.pendingPromise={resolve:E,reject:R};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(U){m.reject(U)}});return function(E,R){return y.apply(this,arguments)}}())}onAuthEvent(m){var y=this;return(0,o.Z)(function*(){const{urlResponse:E,sessionId:R,postBody:U,tenantId:me,error:Pe,type:st}=m;if(Pe)return void y.reject(Pe);const Ct={auth:y.auth,requestUri:E,sessionId:R,tenantId:me||void 0,postBody:U||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(st)(Ct))}catch(Wt){y.reject(Wt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Cl;case"linkViaPopup":case"linkViaRedirect":return vc;case"reauthViaPopup":case"reauthViaRedirect":return Sd;default:Be(this.auth,"internal-error")}}resolve(m){F(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){F(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cs=new at(2e3,1e4);function xd(w,m,y){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,o.Z)(function*(w,m,y){const E=Ze(w);Re(w,m,po);const R=Co(E,y);return new yu(E,"signInViaPopup",m,R).executeNotNull()})).apply(this,arguments)}function _u(w,m,y){return El.apply(this,arguments)}function El(){return(El=(0,o.Z)(function*(w,m,y){const E=(0,L.m9)(w);Re(E.auth,m,po);const R=Co(E.auth,y);return new yu(E.auth,"reauthViaPopup",m,R,E).executeNotNull()})).apply(this,arguments)}function _g(w,m,y){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,o.Z)(function*(w,m,y){const E=(0,L.m9)(w);Re(E.auth,m,po);const R=Co(E.auth,y);return new yu(E.auth,"linkViaPopup",m,R,E).executeNotNull()})).apply(this,arguments)}let yu=(()=>{class w extends Eo{constructor(y,E,R,U,me){super(y,E,U,me),this.provider=R,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,o.Z)(function*(){const E=yield y.execute();return Q(E,y.auth,"internal-error"),E})()}onExecution(){var y=this;return(0,o.Z)(function*(){F(1===y.filter.length,"Popup operations only handle one event");const E=Gs();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],E),y.authWindow.associatedEvent=E,y.resolver._originValidation(y.auth).catch(R=>{y.reject(R)}),y.resolver._isIframeWebStorageSupported(y.auth,R=>{R||y.reject(ve(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var E,R;this.pollId=(null===(R=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===R?void 0:R.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Cs.get())};y()}}return w.currentPopupAction=null,w})();const To=new Map;class qs extends Eo{constructor(m,y,E=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,E),this.eventId=null}execute(){var m=()=>super.execute,y=this;return(0,o.Z)(function*(){let E=To.get(y.auth._key());if(!E){try{const U=(yield function af(w,m){return Qo.apply(this,arguments)}(y.resolver,y.auth))?yield m().call(y):null;E=()=>Promise.resolve(U)}catch(R){E=()=>Promise.reject(R)}To.set(y.auth._key(),E)}return y.bypassAuthState||To.set(y.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(m){var y=()=>super.onAuthEvent,E=this;return(0,o.Z)(function*(){if("signInViaRedirect"===m.type)return y().call(E,m);if("unknown"!==m.type){if(m.eventId){const R=yield E.auth._redirectUserForId(m.eventId);if(R)return E.user=R,y().call(E,m);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function Qo(){return(Qo=(0,o.Z)(function*(w,m){const y=bu(m),E=bc(w);if(!(yield E._isAvailable()))return!1;const R="true"===(yield E._get(y));return yield E._remove(y),R})).apply(this,arguments)}function Il(w,m){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,o.Z)(function*(w,m){return bc(w)._set(bu(m),"true")})).apply(this,arguments)}function vu(){To.clear()}function Zs(w,m){To.set(w._key(),m)}function bc(w){return W(w._redirectPersistence)}function bu(w){return sn("pendingRedirect",w.config.apiKey,w.name)}function Ia(w,m,y){return function Dl(w,m,y){return Da.apply(this,arguments)}(w,m,y)}function Da(){return(Da=(0,o.Z)(function*(w,m,y){const E=Ze(w);Re(w,m,po);const R=Co(E,y);return yield Il(R,E),R._openRedirect(E,m,"signInViaRedirect")})).apply(this,arguments)}function Ad(w,m,y){return function D(w,m,y){return S.apply(this,arguments)}(w,m,y)}function S(){return(S=(0,o.Z)(function*(w,m,y){const E=(0,L.m9)(w);Re(E.auth,m,po);const R=Co(E.auth,y);yield Il(R,E.auth);const U=yield Dt(E);return R._openRedirect(E.auth,m,"reauthViaRedirect",U)})).apply(this,arguments)}function P(w,m,y){return function Z(w,m,y){return he.apply(this,arguments)}(w,m,y)}function he(){return(he=(0,o.Z)(function*(w,m,y){const E=(0,L.m9)(w);Re(E.auth,m,po);const R=Co(E.auth,y);yield go(!1,E,m.providerId),yield Il(R,E.auth);const U=yield Dt(E);return R._openRedirect(E.auth,m,"linkViaRedirect",U)})).apply(this,arguments)}function Ee(w,m){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,o.Z)(function*(w,m){return yield Ze(w)._initializationPromise,Je(w,m,!1)})).apply(this,arguments)}function Je(w,m){return gt.apply(this,arguments)}function gt(){return(gt=(0,o.Z)(function*(w,m,y=!1){const E=Ze(w),R=Co(E,m),me=yield new qs(E,R,y).execute();return me&&!y&&(delete me.user._redirectEventId,yield E._persistUserIfCurrent(me.user),yield E._setRedirectUser(null,m)),me})).apply(this,arguments)}function Dt(w){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,o.Z)(function*(w){const m=Gs(`${w.uid}:::`);return w._redirectEventId=m,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),m})).apply(this,arguments)}class Ti{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let y=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(m,E)&&(y=!0,this.sendToConsumer(m,E),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Xr(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Io(w);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=m,y=!0)),y}sendToConsumer(m,y){var E;if(m.error&&!Io(m)){const R=(null===(E=m.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";y.onError(ve(this.auth,R))}else y.onAuthEvent(m)}isEventForConsumer(m,y){const E=null===y.eventId||!!m.eventId&&m.eventId===y.eventId;return y.filter.includes(m.type)&&E}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qi(m))}saveEventToCache(m){this.cachedEventUids.add(Qi(m)),this.lastProcessedEventTime=Date.now()}}function Qi(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(m=>m).join("-")}function Io({type:w,error:m}){return"unknown"===w&&"auth/no-auth-event"===(null==m?void 0:m.code)}function Do(w){return wu.apply(this,arguments)}function wu(){return(wu=(0,o.Z)(function*(w,m={}){return pn(w,"GET","/v1/projects",m)})).apply(this,arguments)}const Cu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Es=/^https?/;function So(){return(So=(0,o.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:m}=yield Do(w);for(const y of m)try{if(lf(y))return}catch(E){}Be(w,"unauthorized-domain")})).apply(this,arguments)}function lf(w){const m=X(),{protocol:y,hostname:E}=new URL(m);if(w.startsWith("chrome-extension://")){const me=new URL(w);return""===me.hostname&&""===E?"chrome-extension:"===y&&w.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===y&&me.hostname===E}if(!Es.test(y))return!1;if(Cu.test(w))return E===w;const R=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(E)}const yg=new at(3e4,6e4);function vg(){const w=Ht().___jsl;if(null==w?void 0:w.H)for(const m of Object.keys(w.H))if(w.H[m].r=w.H[m].r||[],w.H[m].L=w.H[m].L||[],w.H[m].r=[...w.H[m].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let Sl=null;function bg(w){return Sl=Sl||function j0(w){return new Promise((m,y)=>{var E,R,U;function me(){vg(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{vg(),y(ve(w,"network-request-failed"))},timeout:yg.get()})}if(null===(R=null===(E=Ht().gapi)||void 0===E?void 0:E.iframes)||void 0===R?void 0:R.Iframe)m(gapi.iframes.getContext());else{if(!(null===(U=Ht().gapi)||void 0===U?void 0:U.load)){const Pe=ws("iframefcb");return Ht()[Pe]=()=>{gapi.load?me():y(ve(w,"network-request-failed"))},bl(`https://apis.google.com/js/api.js?onload=${Pe}`).catch(st=>y(st))}me()}}).catch(m=>{throw Sl=null,m})}(w),Sl}const wg=new at(5e3,15e3),Cc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cg(w){const m=w.config;Q(m.authDomain,w,"auth-domain-config-required");const y=m.emulator?vn(m,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,E={apiKey:m.apiKey,appName:w.name,v:k.SDK_VERSION},R=wy.get(w.config.apiHost);R&&(E.eid=R);const U=w._getFrameworks();return U.length&&(E.fw=U.join(",")),`${y}?${(0,L.xO)(E).slice(1)}`}function xl(){return xl=(0,o.Z)(function*(w){const m=yield bg(w),y=Ht().gapi;return Q(y,w,"internal-error"),m.open({where:document.body,url:Cg(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cc,dontclear:!0},E=>new Promise(function(){var R=(0,o.Z)(function*(U,me){yield E.restyle({setHideOnLeave:!1});const Pe=ve(w,"network-request-failed"),st=Ht().setTimeout(()=>{me(Pe)},wg.get());function Ct(){Ht().clearTimeout(st),U(E)}E.ping(Ct).then(Ct,()=>{me(Pe)})});return function(U,me){return R.apply(this,arguments)}}()))}),xl.apply(this,arguments)}const Md={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ty{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function Ys(w,m,y,E,R,U){Q(w.config.authDomain,w,"auth-domain-config-required"),Q(w.config.apiKey,w,"invalid-api-key");const me={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:E,v:k.SDK_VERSION,eventId:R};if(m instanceof po){m.setDefaultLanguage(w.languageCode),me.providerId=m.providerId||"",(0,L.xb)(m.getCustomParameters())||(me.customParameters=JSON.stringify(m.getCustomParameters()));for(const[st,Ct]of Object.entries(U||{}))me[st]=Ct}if(m instanceof kr){const st=m.getScopes().filter(Ct=>""!==Ct);st.length>0&&(me.scopes=st.join(","))}w.tenantId&&(me.tid=w.tenantId);const Pe=me;for(const st of Object.keys(Pe))void 0===Pe[st]&&delete Pe[st];return`${function Al({config:w}){return w.emulator?vn(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,L.xO)(Pe).slice(1)}`}const Tc="webStorageSupport",Dy=class Eu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lt,this._completeRedirectFn=Je,this._overrideRedirectResult=Zs}_openPopup(m,y,E,R){var U=this;return(0,o.Z)(function*(){var me;F(null===(me=U.eventManagers[m._key()])||void 0===me?void 0:me.manager,"_initialize() not called before _openPopup()");const Pe=Ys(m,y,E,X(),R);return function df(w,m,y,E=500,R=600){const U=Math.max((window.screen.availHeight-R)/2,0).toString(),me=Math.max((window.screen.availWidth-E)/2,0).toString();let Pe="";const st=Object.assign(Object.assign({},Md),{width:E.toString(),height:R.toString(),top:U,left:me}),Ct=(0,L.z$)().toLowerCase();y&&(Pe=Oe(Ct)?"_blank":y),ce(Ct)&&(m=m||"http://localhost",st.scrollbars="yes");const Wt=Object.entries(st).reduce((ts,[ns,ff])=>`${ts}${ns}=${ff},`,"");if(function _r(w=(0,L.z$)()){var m;return Gt(w)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(Ct)&&"_self"!==Pe)return function z0(w,m){const y=document.createElement("a");y.href=w,y.target=m;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(E)}(m||"",Pe),new Ty(null);const Bn=window.open(m||"",Pe,Wt);Q(Bn,w,"popup-blocked");try{Bn.focus()}catch(ts){}return new Ty(Bn)}(m,Pe,Gs())})()}_openRedirect(m,y,E,R){var U=this;return(0,o.Z)(function*(){return yield U._originValidation(m),function Rn(w){Ht().location.href=w}(Ys(m,y,E,X(),R)),new Promise(()=>{})})()}_initialize(m){const y=m._key();if(this.eventManagers[y]){const{manager:R,promise:U}=this.eventManagers[y];return R?Promise.resolve(R):(F(U,"If manager is not set, promise should be"),U)}const E=this.initAndGetManager(m);return this.eventManagers[y]={promise:E},E.catch(()=>{delete this.eventManagers[y]}),E}initAndGetManager(m){var y=this;return(0,o.Z)(function*(){const E=yield function Cy(w){return xl.apply(this,arguments)}(m),R=new Ti(m);return E.register("authEvent",U=>(Q(null==U?void 0:U.authEvent,m,"invalid-auth-event"),{status:R.onEvent(U.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[m._key()]={manager:R},y.iframes[m._key()]=E,R})()}_isIframeWebStorageSupported(m,y){this.iframes[m._key()].send(Tc,{type:Tc},R=>{var U;const me=null===(U=null==R?void 0:R[0])||void 0===U?void 0:U[Tc];void 0!==me&&y(!!me),Be(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function es(w){return So.apply(this,arguments)}(m)),this.originValidationPromises[y]}get _shouldInitProactively(){return Zi()||ae()||Gt()}};class Ig extends class hf{constructor(m){this.factorId=m}_process(m,y,E){switch(y.type){case"enroll":return this._finalizeEnroll(m,y.credential,E);case"signin":return this._finalizeSignIn(m,y.credential);default:return be("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Ig(m)}_finalizeEnroll(m,y,E){return function rf(w,m){return pn(w,"POST","/v2/accounts/mfaEnrollment:finalize",zt(w,m))}(m,{idToken:y,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,y){return function mu(w,m){return pn(w,"POST","/v2/accounts/mfaSignIn:finalize",zt(w,m))}(m,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Sy=(()=>{class w{constructor(){}static assertion(y){return Ig._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var Dg="@firebase/auth";class xy{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var y=this;return(0,o.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const y=this.auth.onIdTokenChanged(E=>{var R;m((null===(R=E)||void 0===R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,y),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const y=this.internalListeners.get(m);!y||(this.internalListeners.delete(m),y(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function $0(w){(0,k._registerComponent)(new le.wA("auth",(m,{options:y})=>{const E=m.getProvider("app").getImmediate(),R=m.getProvider("heartbeat"),{apiKey:U,authDomain:me}=E.options;return((Pe,st)=>{Q(U&&!U.includes(":"),"invalid-api-key",{appName:Pe.name}),Q(!(null==me?void 0:me.includes(":")),"argument-error",{appName:Pe.name});const Ct={apiKey:U,authDomain:me,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xi(w)},Wt=new yr(Pe,st,Ct);return function ge(w,m){const y=(null==m?void 0:m.persistence)||[],E=(Array.isArray(y)?y:[y]).map(W);(null==m?void 0:m.errorMap)&&w._updateErrorMap(m.errorMap),w._initializeWithPersistence(E,null==m?void 0:m.popupRedirectResolver)}(Wt,y),Wt})(E,R)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,y,E)=>{m.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new le.wA("auth-internal",m=>{const y=Ze(m.getProvider("auth").getImmediate());return new xy(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(Dg,"0.20.5",function G0(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,k.registerVersion)(Dg,"0.20.5","esm2017")}("Browser")},2090:(De,ye,M)=>{"use strict";M.d(ye,{$s:()=>ei,BH:()=>Me,DV:()=>pn,Dv:()=>qi,GJ:()=>rn,L:()=>ee,LL:()=>X,Mn:()=>Re,Pz:()=>He,Sg:()=>Se,UG:()=>we,UI:()=>Wr,US:()=>le,Wj:()=>bi,Yr:()=>it,ZB:()=>B,ZR:()=>ge,b$:()=>Be,cI:()=>fn,d:()=>ve,dS:()=>qt,eu:()=>F,g5:()=>k,gK:()=>vi,gQ:()=>gs,h$:()=>Y,hl:()=>be,hu:()=>L,jU:()=>Ce,lb:()=>Os,m9:()=>rr,ne:()=>wt,p$:()=>j,pd:()=>Xn,r3:()=>zt,ru:()=>ke,tV:()=>de,uI:()=>Fe,ug:()=>mt,vZ:()=>$i,w1:()=>qe,w9:()=>Ln,xO:()=>Dr,xb:()=>Vn,z$:()=>Ae,zI:()=>G,zd:()=>qr});const L=function(se,ie){if(!se)throw k(ie)},k=function(se){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+se)},q=function(se){const ie=[];let K=0;for(let re=0;re<se.length;re++){let oe=se.charCodeAt(re);oe<128?ie[K++]=oe:oe<2048?(ie[K++]=oe>>6|192,ie[K++]=63&oe|128):55296==(64512&oe)&&re+1<se.length&&56320==(64512&se.charCodeAt(re+1))?(oe=65536+((1023&oe)<<10)+(1023&se.charCodeAt(++re)),ie[K++]=oe>>18|240,ie[K++]=oe>>12&63|128,ie[K++]=oe>>6&63|128,ie[K++]=63&oe|128):(ie[K++]=oe>>12|224,ie[K++]=oe>>6&63|128,ie[K++]=63&oe|128)}return ie},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(se,ie){if(!Array.isArray(se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,re=[];for(let oe=0;oe<se.length;oe+=3){const Le=se[oe],Ye=oe+1<se.length,It=Ye?se[oe+1]:0,un=oe+2<se.length,sn=un?se[oe+2]:0;let ce=(15&It)<<2|sn>>6,ae=63&sn;un||(ae=64,Ye||(ce=64)),re.push(K[Le>>2],K[(3&Le)<<4|It>>4],K[ce],K[ae])}return re.join("")},encodeString(se,ie){return this.HAS_NATIVE_SUPPORT&&!ie?btoa(se):this.encodeByteArray(q(se),ie)},decodeString(se,ie){return this.HAS_NATIVE_SUPPORT&&!ie?atob(se):function(se){const ie=[];let K=0,re=0;for(;K<se.length;){const oe=se[K++];if(oe<128)ie[re++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const Le=se[K++];ie[re++]=String.fromCharCode((31&oe)<<6|63&Le)}else if(oe>239&&oe<365){const un=((7&oe)<<18|(63&se[K++])<<12|(63&se[K++])<<6|63&se[K++])-65536;ie[re++]=String.fromCharCode(55296+(un>>10)),ie[re++]=String.fromCharCode(56320+(1023&un))}else{const Le=se[K++],Ye=se[K++];ie[re++]=String.fromCharCode((15&oe)<<12|(63&Le)<<6|63&Ye)}}return ie.join("")}(this.decodeStringToByteArray(se,ie))},decodeStringToByteArray(se,ie){this.init_();const K=ie?this.charToByteMapWebSafe_:this.charToByteMap_,re=[];for(let oe=0;oe<se.length;){const Le=K[se.charAt(oe++)],It=oe<se.length?K[se.charAt(oe)]:0;++oe;const sn=oe<se.length?K[se.charAt(oe)]:64;++oe;const fe=oe<se.length?K[se.charAt(oe)]:64;if(++oe,null==Le||null==It||null==sn||null==fe)throw Error();re.push(Le<<2|It>>4),64!==sn&&(re.push(It<<4&240|sn>>2),64!==fe&&re.push(sn<<6&192|fe))}return re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let se=0;se<this.ENCODED_VALS.length;se++)this.byteToCharMap_[se]=this.ENCODED_VALS.charAt(se),this.charToByteMap_[this.byteToCharMap_[se]]=se,this.byteToCharMapWebSafe_[se]=this.ENCODED_VALS_WEBSAFE.charAt(se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[se]]=se,se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(se)]=se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(se)]=se)}}},Y=function(se){const ie=q(se);return le.encodeByteArray(ie,!0)},ee=function(se){return Y(se).replace(/\./g,"")},de=function(se){try{return le.decodeString(se,!0)}catch(ie){console.error("base64Decode failed: ",ie)}return null};function j(se){return B(void 0,se)}function B(se,ie){if(!(ie instanceof Object))return ie;switch(ie.constructor){case Date:return new Date(ie.getTime());case Object:void 0===se&&(se={});break;case Array:se=[];break;default:return ie}for(const K in ie)!ie.hasOwnProperty(K)||!$(K)||(se[K]=B(se[K],ie[K]));return se}function $(se){return"__proto__"!==se}class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ie,K)=>{this.resolve=ie,this.reject=K})}wrapCallback(ie){return(K,re)=>{K?this.reject(K):this.resolve(re),"function"==typeof ie&&(this.promise.catch(()=>{}),1===ie.length?ie(K):ie(K,re))}}}function Se(se,ie){if(se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const re=ie||"demo-project",oe=se.iat||0,Le=se.sub||se.user_id;if(!Le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ye=Object.assign({iss:`https://securetoken.google.com/${re}`,aud:re,iat:oe,exp:oe+3600,auth_time:oe,sub:Le,user_id:Le,firebase:{sign_in_provider:"custom",identities:{}}},se);return[ee(JSON.stringify({alg:"none",type:"JWT"})),ee(JSON.stringify(Ye)),""].join(".")}function Ae(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(se){return!1}}function Ce(){return"object"==typeof self&&self.self===self}function ke(){const se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof se&&void 0!==se.id}function Be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){return Ae().indexOf("Electron/")>=0}function qe(){const se=Ae();return se.indexOf("MSIE ")>=0||se.indexOf("Trident/")>=0}function Re(){return Ae().indexOf("MSAppHost/")>=0}function it(){return!1}function be(){return"object"==typeof indexedDB}function F(){return new Promise((se,ie)=>{try{let K=!0;const re="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(re);oe.onsuccess=()=>{oe.result.close(),K||self.indexedDB.deleteDatabase(re),se(!0)},oe.onupgradeneeded=()=>{K=!1},oe.onerror=()=>{var Le;ie((null===(Le=oe.error)||void 0===Le?void 0:Le.message)||"")}}catch(K){ie(K)}})}function G(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ge extends Error{constructor(ie,K,re){super(K),this.code=ie,this.customData=re,this.name="FirebaseError",Object.setPrototypeOf(this,ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X.prototype.create)}}class X{constructor(ie,K,re){this.service=ie,this.serviceName=K,this.errors=re}create(ie,...K){const re=K[0]||{},oe=`${this.service}/${ie}`,Le=this.errors[ie],Ye=Le?function Ge(se,ie){return se.replace(ct,(K,re)=>{const oe=ie[re];return null!=oe?String(oe):`<${re}?>`})}(Le,re):"Error";return new ge(oe,`${this.serviceName}: ${Ye} (${oe}).`,re)}}const ct=/\{\$([^}]+)}/g;function fn(se){return JSON.parse(se)}function He(se){return JSON.stringify(se)}const at=function(se){let ie={},K={},re={},oe="";try{const Le=se.split(".");ie=fn(de(Le[0])||""),K=fn(de(Le[1])||""),oe=Le[2],re=K.d||{},delete K.d}catch(Le){}return{header:ie,claims:K,data:re,signature:oe}},Ln=function(se){const K=at(se).claims;return!!K&&"object"==typeof K&&K.hasOwnProperty("iat")},rn=function(se){const ie=at(se).claims;return"object"==typeof ie&&!0===ie.admin};function zt(se,ie){return Object.prototype.hasOwnProperty.call(se,ie)}function pn(se,ie){if(Object.prototype.hasOwnProperty.call(se,ie))return se[ie]}function Vn(se){for(const ie in se)if(Object.prototype.hasOwnProperty.call(se,ie))return!1;return!0}function Wr(se,ie,K){const re={};for(const oe in se)Object.prototype.hasOwnProperty.call(se,oe)&&(re[oe]=ie.call(K,se[oe],oe,se));return re}function $i(se,ie){if(se===ie)return!0;const K=Object.keys(se),re=Object.keys(ie);for(const oe of K){if(!re.includes(oe))return!1;const Le=se[oe],Ye=ie[oe];if(Gn(Le)&&Gn(Ye)){if(!$i(Le,Ye))return!1}else if(Le!==Ye)return!1}for(const oe of re)if(!K.includes(oe))return!1;return!0}function Gn(se){return null!==se&&"object"==typeof se}function Dr(se){const ie=[];for(const[K,re]of Object.entries(se))Array.isArray(re)?re.forEach(oe=>{ie.push(encodeURIComponent(K)+"="+encodeURIComponent(oe))}):ie.push(encodeURIComponent(K)+"="+encodeURIComponent(re));return ie.length?"&"+ie.join("&"):""}function qr(se){const ie={};return se.replace(/^\?/,"").split("&").forEach(re=>{if(re){const[oe,Le]=re.split("=");ie[decodeURIComponent(oe)]=decodeURIComponent(Le)}}),ie}function Xn(se){const ie=se.indexOf("?");if(!ie)return"";const K=se.indexOf("#",ie);return se.substring(ie,K>0?K:void 0)}class gs{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ie=1;ie<this.blockSize;++ie)this.pad_[ie]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ie,K){K||(K=0);const re=this.W_;if("string"==typeof ie)for(let fe=0;fe<16;fe++)re[fe]=ie.charCodeAt(K)<<24|ie.charCodeAt(K+1)<<16|ie.charCodeAt(K+2)<<8|ie.charCodeAt(K+3),K+=4;else for(let fe=0;fe<16;fe++)re[fe]=ie[K]<<24|ie[K+1]<<16|ie[K+2]<<8|ie[K+3],K+=4;for(let fe=16;fe<80;fe++){const ce=re[fe-3]^re[fe-8]^re[fe-14]^re[fe-16];re[fe]=4294967295&(ce<<1|ce>>>31)}let sn,wi,oe=this.chain_[0],Le=this.chain_[1],Ye=this.chain_[2],It=this.chain_[3],un=this.chain_[4];for(let fe=0;fe<80;fe++){fe<40?fe<20?(sn=It^Le&(Ye^It),wi=1518500249):(sn=Le^Ye^It,wi=1859775393):fe<60?(sn=Le&Ye|It&(Le|Ye),wi=2400959708):(sn=Le^Ye^It,wi=3395469782);const ce=(oe<<5|oe>>>27)+sn+un+wi+re[fe]&4294967295;un=It,It=Ye,Ye=4294967295&(Le<<30|Le>>>2),Le=oe,oe=ce}this.chain_[0]=this.chain_[0]+oe&4294967295,this.chain_[1]=this.chain_[1]+Le&4294967295,this.chain_[2]=this.chain_[2]+Ye&4294967295,this.chain_[3]=this.chain_[3]+It&4294967295,this.chain_[4]=this.chain_[4]+un&4294967295}update(ie,K){if(null==ie)return;void 0===K&&(K=ie.length);const re=K-this.blockSize;let oe=0;const Le=this.buf_;let Ye=this.inbuf_;for(;oe<K;){if(0===Ye)for(;oe<=re;)this.compress_(ie,oe),oe+=this.blockSize;if("string"==typeof ie){for(;oe<K;)if(Le[Ye]=ie.charCodeAt(oe),++Ye,++oe,Ye===this.blockSize){this.compress_(Le),Ye=0;break}}else for(;oe<K;)if(Le[Ye]=ie[oe],++Ye,++oe,Ye===this.blockSize){this.compress_(Le),Ye=0;break}}this.inbuf_=Ye,this.total_+=K}digest(){const ie=[];let K=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let oe=this.blockSize-1;oe>=56;oe--)this.buf_[oe]=255&K,K/=256;this.compress_(this.buf_);let re=0;for(let oe=0;oe<5;oe++)for(let Le=24;Le>=0;Le-=8)ie[re]=this.chain_[oe]>>Le&255,++re;return ie}}function wt(se,ie){const K=new Wi(se,ie);return K.subscribe.bind(K)}class Wi{constructor(ie,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{ie(this)}).catch(re=>{this.error(re)})}next(ie){this.forEachObserver(K=>{K.next(ie)})}error(ie){this.forEachObserver(K=>{K.error(ie)}),this.close(ie)}complete(){this.forEachObserver(ie=>{ie.complete()}),this.close()}subscribe(ie,K,re){let oe;if(void 0===ie&&void 0===K&&void 0===re)throw new Error("Missing Observer.");oe=function mn(se,ie){if("object"!=typeof se||null===se)return!1;for(const K of ie)if(K in se&&"function"==typeof se[K])return!0;return!1}(ie,["next","error","complete"])?ie:{next:ie,error:K,complete:re},void 0===oe.next&&(oe.next=yi),void 0===oe.error&&(oe.error=yi),void 0===oe.complete&&(oe.complete=yi);const Le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch(Ye){}}),this.observers.push(oe),Le}unsubscribeOne(ie){void 0===this.observers||void 0===this.observers[ie]||(delete this.observers[ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ie){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,ie)}sendOne(ie,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ie])try{K(this.observers[ie])}catch(re){"undefined"!=typeof console&&console.error&&console.error(re)}})}close(ie){this.finalized||(this.finalized=!0,void 0!==ie&&(this.finalError=ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yi(){}const qi=function(se,ie,K,re){let oe;if(re<ie?oe="at least "+ie:re>K&&(oe=0===K?"none":"no more than "+K),oe)throw new Error(se+" failed: Was called with "+re+(1===re?" argument.":" arguments.")+" Expects "+oe+".")};function vi(se,ie){return`${se} failed: ${ie} argument `}function bi(se,ie,K,re){if((!re||K)&&"function"!=typeof K)throw new Error(vi(se,ie)+"must be a valid function.")}function Os(se,ie,K,re){if((!re||K)&&("object"!=typeof K||null===K))throw new Error(vi(se,ie)+"must be a valid context object.")}const qt=function(se){const ie=[];let K=0;for(let re=0;re<se.length;re++){let oe=se.charCodeAt(re);if(oe>=55296&&oe<=56319){const Le=oe-55296;re++,L(re<se.length,"Surrogate pair missing trail surrogate."),oe=65536+(Le<<10)+(se.charCodeAt(re)-56320)}oe<128?ie[K++]=oe:oe<2048?(ie[K++]=oe>>6|192,ie[K++]=63&oe|128):oe<65536?(ie[K++]=oe>>12|224,ie[K++]=oe>>6&63|128,ie[K++]=63&oe|128):(ie[K++]=oe>>18|240,ie[K++]=oe>>12&63|128,ie[K++]=oe>>6&63|128,ie[K++]=63&oe|128)}return ie},mt=function(se){let ie=0;for(let K=0;K<se.length;K++){const re=se.charCodeAt(K);re<128?ie++:re<2048?ie+=2:re>=55296&&re<=56319?(ie+=4,K++):ie+=3}return ie};function ei(se,ie=1e3,K=2){const re=ie*Math.pow(K,se),oe=Math.round(.5*re*(Math.random()-.5)*2);return Math.min(144e5,re+oe)}function rr(se){return se&&se._delegate?se._delegate:se}},577:(De,ye,M)=>{"use strict";var o=M(5e3);let L=null;function k(){return L}const Y=new o.OlP("DocumentToken");let ee=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function de(){return(0,o.LFG)(B)}()},providedIn:"platform"}),n})();const j=new o.OlP("Location Initialized");let B=(()=>{class n extends ee{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(e){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){$()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){$()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Me(){return new B((0,o.LFG)(Y))}()},providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function Se(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ae(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Fe(n){return n&&"?"!==n[0]?"?"+n:n}let we=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ce(n){const t=(0,o.LFG)(Y).location;return new Be((0,o.LFG)(ee),t&&t.origin||"")}()},providedIn:"root"}),n})();const ke=new o.OlP("appBaseHref");let Be=(()=>{class n extends we{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Se(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Fe(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const c=this.prepareExternalUrl(r+Fe(s));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){const c=this.prepareExternalUrl(r+Fe(s));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ee),o.LFG(ke,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n extends we{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Se(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let c=this.prepareExternalUrl(r+Fe(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){let c=this.prepareExternalUrl(r+Fe(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ee),o.LFG(ke,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),qe=(()=>{class n{constructor(e,i){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Ae(Q(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Fe(i))}normalize(e){return n.stripTrailingSlash(function it(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Q(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fe(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fe(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Fe,n.joinWithSlash=Se,n.stripTrailingSlash=Ae,n.\u0275fac=function(e){return new(e||n)(o.LFG(we),o.LFG(ee))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Re(){return new qe((0,o.LFG)(we),(0,o.LFG)(ee))}()},providedIn:"root"}),n})();function Q(n){return n.replace(/\/index.html$/,"")}var W=(()=>((W=W||{})[W.Format=0]="Format",W[W.Standalone=1]="Standalone",W))(),te=(()=>((te=te||{})[te.Narrow=0]="Narrow",te[te.Abbreviated=1]="Abbreviated",te[te.Wide=2]="Wide",te[te.Short=3]="Short",te))(),ge=(()=>((ge=ge||{})[ge.Short=0]="Short",ge[ge.Medium=1]="Medium",ge[ge.Long=2]="Long",ge[ge.Full=3]="Full",ge))(),X=(()=>((X=X||{})[X.Decimal=0]="Decimal",X[X.Group=1]="Group",X[X.List=2]="List",X[X.PercentSign=3]="PercentSign",X[X.PlusSign=4]="PlusSign",X[X.MinusSign=5]="MinusSign",X[X.Exponential=6]="Exponential",X[X.SuperscriptingExponent=7]="SuperscriptingExponent",X[X.PerMille=8]="PerMille",X[X.Infinity=9]="Infinity",X[X.NaN=10]="NaN",X[X.TimeSeparator=11]="TimeSeparator",X[X.CurrencyDecimal=12]="CurrencyDecimal",X[X.CurrencyGroup=13]="CurrencyGroup",X))();function rn(n,t){return Un((0,o.cg1)(n)[o.wAp.DateFormat],t)}function zt(n,t){return Un((0,o.cg1)(n)[o.wAp.TimeFormat],t)}function pn(n,t){return Un((0,o.cg1)(n)[o.wAp.DateTimeFormat],t)}function Vn(n,t){const e=(0,o.cg1)(n),i=e[o.wAp.NumberSymbols][t];if(void 0===i){if(t===X.CurrencyDecimal)return e[o.wAp.NumberSymbols][X.Decimal];if(t===X.CurrencyGroup)return e[o.wAp.NumberSymbols][X.Group]}return i}function Xn(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Un(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function mn(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Hn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,bi={},Os=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var qt=(()=>((qt=qt||{})[qt.Short=0]="Short",qt[qt.ShortGMT=1]="ShortGMT",qt[qt.Long=2]="Long",qt[qt.Extended=3]="Extended",qt))(),mt=(()=>((mt=mt||{})[mt.FullYear=0]="FullYear",mt[mt.Month=1]="Month",mt[mt.Date=2]="Date",mt[mt.Hours=3]="Hours",mt[mt.Minutes=4]="Minutes",mt[mt.Seconds=5]="Seconds",mt[mt.FractionalSeconds=6]="FractionalSeconds",mt[mt.Day=7]="Day",mt))(),ut=(()=>((ut=ut||{})[ut.DayPeriods=0]="DayPeriods",ut[ut.Days=1]="Days",ut[ut.Months=2]="Months",ut[ut.Eras=3]="Eras",ut))();function Sr(n,t,e,i){let r=function Oe(n){if(ft(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,c=1]=n.split("-").map(d=>+d);return xr(r,s-1,c)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Hn))return function Xe(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-e,d=Number(n[5]||0)-i,p=Number(n[6]||0),_=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,c,d,p,_),t}(i)}const t=new Date(n);if(!ft(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Zt(e,t)||t;let d,c=[];for(;t;){if(d=Os.exec(t),!d){c.push(t);break}{c=c.concat(d.slice(1));const b=c.pop();if(!b)break;t=b}}let p=r.getTimezoneOffset();i&&(p=fe(i,p),r=function ae(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function ce(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(fe(t,r)-r))}(r,i,!0));let _="";return c.forEach(b=>{const T=function wi(n){if(sn[n])return sn[n];let t;switch(n){case"G":case"GG":case"GGG":t=se(ut.Eras,te.Abbreviated);break;case"GGGG":t=se(ut.Eras,te.Wide);break;case"GGGGG":t=se(ut.Eras,te.Narrow);break;case"y":t=vt(mt.FullYear,1,0,!1,!0);break;case"yy":t=vt(mt.FullYear,2,0,!0,!0);break;case"yyy":t=vt(mt.FullYear,3,0,!1,!0);break;case"yyyy":t=vt(mt.FullYear,4,0,!1,!0);break;case"Y":t=un(1);break;case"YY":t=un(2,!0);break;case"YYY":t=un(3);break;case"YYYY":t=un(4);break;case"M":case"L":t=vt(mt.Month,1,1);break;case"MM":case"LL":t=vt(mt.Month,2,1);break;case"MMM":t=se(ut.Months,te.Abbreviated);break;case"MMMM":t=se(ut.Months,te.Wide);break;case"MMMMM":t=se(ut.Months,te.Narrow);break;case"LLL":t=se(ut.Months,te.Abbreviated,W.Standalone);break;case"LLLL":t=se(ut.Months,te.Wide,W.Standalone);break;case"LLLLL":t=se(ut.Months,te.Narrow,W.Standalone);break;case"w":t=It(1);break;case"ww":t=It(2);break;case"W":t=It(1,!0);break;case"d":t=vt(mt.Date,1);break;case"dd":t=vt(mt.Date,2);break;case"c":case"cc":t=vt(mt.Day,1);break;case"ccc":t=se(ut.Days,te.Abbreviated,W.Standalone);break;case"cccc":t=se(ut.Days,te.Wide,W.Standalone);break;case"ccccc":t=se(ut.Days,te.Narrow,W.Standalone);break;case"cccccc":t=se(ut.Days,te.Short,W.Standalone);break;case"E":case"EE":case"EEE":t=se(ut.Days,te.Abbreviated);break;case"EEEE":t=se(ut.Days,te.Wide);break;case"EEEEE":t=se(ut.Days,te.Narrow);break;case"EEEEEE":t=se(ut.Days,te.Short);break;case"a":case"aa":case"aaa":t=se(ut.DayPeriods,te.Abbreviated);break;case"aaaa":t=se(ut.DayPeriods,te.Wide);break;case"aaaaa":t=se(ut.DayPeriods,te.Narrow);break;case"b":case"bb":case"bbb":t=se(ut.DayPeriods,te.Abbreviated,W.Standalone,!0);break;case"bbbb":t=se(ut.DayPeriods,te.Wide,W.Standalone,!0);break;case"bbbbb":t=se(ut.DayPeriods,te.Narrow,W.Standalone,!0);break;case"B":case"BB":case"BBB":t=se(ut.DayPeriods,te.Abbreviated,W.Format,!0);break;case"BBBB":t=se(ut.DayPeriods,te.Wide,W.Format,!0);break;case"BBBBB":t=se(ut.DayPeriods,te.Narrow,W.Format,!0);break;case"h":t=vt(mt.Hours,1,-12);break;case"hh":t=vt(mt.Hours,2,-12);break;case"H":t=vt(mt.Hours,1);break;case"HH":t=vt(mt.Hours,2);break;case"m":t=vt(mt.Minutes,1);break;case"mm":t=vt(mt.Minutes,2);break;case"s":t=vt(mt.Seconds,1);break;case"ss":t=vt(mt.Seconds,2);break;case"S":t=vt(mt.FractionalSeconds,1);break;case"SS":t=vt(mt.FractionalSeconds,2);break;case"SSS":t=vt(mt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=K(qt.Short);break;case"ZZZZZ":t=K(qt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=K(qt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=K(qt.Long);break;default:return null}return sn[n]=t,t}(b);_+=T?T(r,e,p):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),_}function xr(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Zt(n,t){const e=function ct(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(bi[e]=bi[e]||{},bi[e][t])return bi[e][t];let i="";switch(t){case"shortDate":i=rn(n,ge.Short);break;case"mediumDate":i=rn(n,ge.Medium);break;case"longDate":i=rn(n,ge.Long);break;case"fullDate":i=rn(n,ge.Full);break;case"shortTime":i=zt(n,ge.Short);break;case"mediumTime":i=zt(n,ge.Medium);break;case"longTime":i=zt(n,ge.Long);break;case"fullTime":i=zt(n,ge.Full);break;case"short":const r=Zt(n,"shortTime"),s=Zt(n,"shortDate");i=Zr(pn(n,ge.Short),[r,s]);break;case"medium":const c=Zt(n,"mediumTime"),d=Zt(n,"mediumDate");i=Zr(pn(n,ge.Medium),[c,d]);break;case"long":const p=Zt(n,"longTime"),_=Zt(n,"longDate");i=Zr(pn(n,ge.Long),[p,_]);break;case"full":const b=Zt(n,"fullTime"),T=Zt(n,"fullDate");i=Zr(pn(n,ge.Full),[b,T])}return i&&(bi[e][t]=i),i}function Zr(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function ei(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let c=String(n);for(;c.length<t;)c="0"+c;return i&&(c=c.substr(c.length-t)),s+c}function vt(n,t,e=0,i=!1,r=!1){return function(s,c){let d=function rr(n,t){switch(n){case mt.FullYear:return t.getFullYear();case mt.Month:return t.getMonth();case mt.Date:return t.getDate();case mt.Hours:return t.getHours();case mt.Minutes:return t.getMinutes();case mt.Seconds:return t.getSeconds();case mt.FractionalSeconds:return t.getMilliseconds();case mt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||d>-e)&&(d+=e),n===mt.Hours)0===d&&-12===e&&(d=12);else if(n===mt.FractionalSeconds)return function An(n,t){return ei(n,3).substr(0,t)}(d,t);const p=Vn(c,X.MinusSign);return ei(d,t,p,i,r)}}function se(n,t,e=W.Format,i=!1){return function(r,s){return function ie(n,t,e,i,r,s){switch(e){case ut.Months:return function at(n,t,e){const i=(0,o.cg1)(n),s=Un([i[o.wAp.MonthsFormat],i[o.wAp.MonthsStandalone]],t);return Un(s,e)}(t,r,i)[n.getMonth()];case ut.Days:return function He(n,t,e){const i=(0,o.cg1)(n),s=Un([i[o.wAp.DaysFormat],i[o.wAp.DaysStandalone]],t);return Un(s,e)}(t,r,i)[n.getDay()];case ut.DayPeriods:const c=n.getHours(),d=n.getMinutes();if(s){const _=function gs(n){const t=(0,o.cg1)(n);return Xn(t),(t[o.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?mn(i):[mn(i[0]),mn(i[1])])}(t),b=function wt(n,t,e){const i=(0,o.cg1)(n);Xn(i);const s=Un([i[o.wAp.ExtraData][0],i[o.wAp.ExtraData][1]],t)||[];return Un(s,e)||[]}(t,r,i),T=_.findIndex(A=>{if(Array.isArray(A)){const[N,V]=A,ue=c>=N.hours&&d>=N.minutes,_e=c<V.hours||c===V.hours&&d<V.minutes;if(N.hours<V.hours){if(ue&&_e)return!0}else if(ue||_e)return!0}else if(A.hours===c&&A.minutes===d)return!0;return!1});if(-1!==T)return b[T]}return function fn(n,t,e){const i=(0,o.cg1)(n),s=Un([i[o.wAp.DayPeriodsFormat],i[o.wAp.DayPeriodsStandalone]],t);return Un(s,e)}(t,r,i)[c<12?0:1];case ut.Eras:return function vn(n,t){return Un((0,o.cg1)(n)[o.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function K(n){return function(t,e,i){const r=-1*i,s=Vn(e,X.MinusSign),c=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case qt.Short:return(r>=0?"+":"")+ei(c,2,s)+ei(Math.abs(r%60),2,s);case qt.ShortGMT:return"GMT"+(r>=0?"+":"")+ei(c,1,s);case qt.Long:return"GMT"+(r>=0?"+":"")+ei(c,2,s)+":"+ei(Math.abs(r%60),2,s);case qt.Extended:return 0===i?"Z":(r>=0?"+":"")+ei(c,2,s)+":"+ei(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function Ye(n){return xr(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function It(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,c=e.getDate();r=1+Math.floor((c+s)/7)}else{const s=Ye(e),c=function Le(n){const t=xr(n,0,1).getDay();return xr(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),d=s.getTime()-c.getTime();r=1+Math.round(d/6048e5)}return ei(r,n,Vn(i,X.MinusSign))}}function un(n,t=!1){return function(e,i){return ei(Ye(e).getFullYear(),n,Vn(i,X.MinusSign),t)}}const sn={};function fe(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function ft(n){return n instanceof Date&&!isNaN(n.valueOf())}function Uo(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let Ar=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class da{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bn=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new da(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,c),ho(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{ho(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ho(n,t){n.context.$implicit=t.item}let Mn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new wn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){nd("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){nd("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class wn{constructor(){this.$implicit=null,this.ngIf=null}}function nd(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}class jo{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let or=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Yi=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new jo(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(or,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),nu=(()=>{class n{constructor(e,i,r){r._addDefault(new jo(e,i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(or,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),iu=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();const lg=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let ad=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,s){var c;if(null==e||""===e||e!=e)return null;try{return Sr(e,i,s||this.locale,null!==(c=null!=r?r:this.defaultTimezone)&&void 0!==c?c:void 0)}catch(d){throw function pi(n,t){return new o.vHH(2100,"")}()}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.soG,16),o.Y36(lg,24))},n.\u0275pipe=o.Yjl({name:"date",type:n,pure:!0}),n})(),Ci=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const cd="browser";function Ki(n){return"server"===n}let ic=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new rc((0,o.LFG)(Y),window)}),n})();class rc{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Vs(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ru(this.window.history)||ru(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function ru(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class kn{}class go extends class rl extends class le{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function J(n){L||(L=n)}(new go)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function sc(){return Cn=Cn||document.querySelector("base"),Cn?Cn.getAttribute("href"):null}();return null==e?null:function zo(n){sl=sl||document.createElement("a"),sl.setAttribute("href",n);const t=sl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Cn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Uo(document.cookie,t)}}let sl,Cn=null;const Ai=new o.OlP("TRANSITION_ID"),ni=[{provide:o.ip1,useFactory:function oc(n,t,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const i=k(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Ai,Y,o.zs3],multi:!0}];class Us{static init(){(0,o.VLi)(new Us)}addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const d=function(p){c=c||p,s--,0==s&&i(c)};r.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?k().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Mi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const ga=new o.OlP("EventManagerPlugins");let _s=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ga),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class ou{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=k().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let vr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),mo=(()=>{class n extends vr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(_o),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(_o))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function _o(n){k().remove(n)}const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ol=/%COMP%/g;function Ne(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ne(n,r,e):(r=r.replace(ol,n),e.push(r))}return e}function Yt(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let qn=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new yo(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new lu(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case o.ifc.ShadowDom:return new cu(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ne(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(_s),o.LFG(mo),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class yo{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Et[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Et[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Et[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Yt(i)):this.eventManager.addEventListener(t,e,Yt(i))}}class lu extends yo{constructor(t,e,i,r){super(t),this.component=i;const s=Ne(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function cl(n){return"_ngcontent-%COMP%".replace(ol,n)}(r+"-"+i.id),this.hostAttr=function Xh(n){return"_nghost-%COMP%".replace(ol,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class cu extends yo{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Ne(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const d=document.createElement("style");d.textContent=s[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let pd=(()=>{class n extends ou{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const gd=["alt","control","meta","shift"],ma={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ei={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Kr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let uu=(()=>{class n extends ou{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(e,s.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="";if(gd.forEach(p=>{const _=i.indexOf(p);_>-1&&(i.splice(_,1),c+=p+".")}),c+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=r,d.fullKey=c,d}static getEventFullKey(e){let i="",r=function ys(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Ei.hasOwnProperty(t)&&(t=Ei[t]))}return ma[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),gd.forEach(s=>{s!=r&&Kr[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const _d=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:cd},{provide:o.g9A,useValue:function Hs(){go.makeCurrent(),Us.init()},multi:!0},{provide:Y,useFactory:function md(){return(0,o.RDi)(document),document},deps:[]}]),Go=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function fl(){return new o.qLn},deps:[]},{provide:ga,useClass:pd,multi:!0,deps:[Y,o.R0b,o.Lbi]},{provide:ga,useClass:uu,multi:!0,deps:[Y]},{provide:qn,useClass:qn,deps:[_s,mo,o.AFp]},{provide:o.FYo,useExisting:qn},{provide:vr,useExisting:mo},{provide:mo,useClass:mo,deps:[Y]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:_s,useClass:_s,deps:[ga,o.R0b]},{provide:kn,useClass:Mi,deps:[]}];let ac=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:Ai,useExisting:o.AFp},ni]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(n,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:Go,imports:[Ci,o.hGG]}),n})();"undefined"!=typeof window&&window;let lr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):o.LFG(Cd),i},providedIn:"root"}),n})(),Cd=(()=>{class n extends lr{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)(i),(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function va(n){return new Cd(n.get(Y))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();var fu=M(127),kt=M(7579),$n=M(3269),Zn=M(8996);function lt(...n){const t=(0,$n.yG)(n);return(0,Zn.D)(n,t)}var ai=M(8306),cr=M(6451),Gs=M(5363),br=M(8421),Ht=M(4482),Rn=M(5403);function En(n,t){return(0,Ht.e)((e,i)=>{let r=null,s=0,c=!1;const d=()=>c&&!r&&i.complete();e.subscribe(new Rn.Q(i,p=>{null==r||r.unsubscribe();let _=0;const b=s++;(0,br.Xf)(n(p,b)).subscribe(r=new Rn.Q(i,T=>i.next(t?t(p,T,b,_++):T),()=>{r=null,d()}))},()=>{c=!0,d()}))})}var pt=M(4004),uc=M(6063);class Ed extends kt.x{constructor(t=1/0,e=1/0,i=uc.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;e||(i.push(t),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!t.closed;c+=i?1:2)t.next(s[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=e.now();let d=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)d=p;d&&i.splice(0,d+1)}}}var dc=M(3099);function hc(n,t,e){var i,r;let s,c=!1;return n&&"object"==typeof n?(s=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(r=n.windowTime)&&void 0!==r?r:1/0,c=!!n.refCount,e=n.scheduler):s=null!=n?n:1/0,(0,dc.B)({connector:()=>new Ed(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}const Qr=(0,M(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function dn(n,t){return(0,Ht.e)((e,i)=>{let r=0;e.subscribe(new Rn.Q(i,s=>n.call(t,s,r++)&&i.next(s)))})}var Nn=M(5698);function bs(n){return(0,Ht.e)((t,e)=>{let i=!1;t.subscribe(new Rn.Q(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function yl(n=vl){return(0,Ht.e)((t,e)=>{let i=!1;t.subscribe(new Rn.Q(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function vl(){return new Qr}var vo=M(4671);function Rr(n,t){const e=arguments.length>=2;return i=>i.pipe(n?dn((r,s)=>n(r,s,i)):vo.y,(0,Nn.q)(1),e?bs(t):yl(()=>new Qr))}var Jr=M(576);function Zo(n,t){return(0,Jr.m)(t)?En(()=>n,t):En(()=>n)}var ba=M(9468),Jt=M(5813),gi=M(2011),Or=M(5867);class $s{constructor(t){return t}}class gu{constructor(){return(0,Or.C6)()}}const ur=new o.OlP("angularfire2._apps"),fc={provide:$s,useFactory:function wa(n){return n&&1===n.length?n[0]:new $s((0,Or.Mq)())},deps:[[new o.FiY,ur]]},bl={provide:gu,deps:[[new o.FiY,ur]]};function ws(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new $s(i)}}let Yo=(()=>{class n{constructor(e){(0,Or.KN)("angularfire",Jt.q4.full,"core"),(0,Or.KN)("angularfire",Jt.q4.full,"app"),(0,Or.KN)("angular",o.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[fc,bl]}),n})();function Ko(n,...t){return{ngModule:Yo,providers:[{provide:ur,useFactory:ws(n),multi:!0,deps:[o.R0b,o.zs3,Jt.HU,...t]}]}}const pg=(0,Jt.u3)(Or.ZF,!0);var tt=M(9671),ci=M(9681),bo=M(4859),H=M(2090),wo=M(1877);const mg=new Map,mc={activated:!1,tokenObservers:[]},Id={initialized:!1,enabled:!1};function en(n){return mg.get(n)||mc}function Hi(n,t){mg.set(n,t)}function Ws(){return Id}class Ca{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,tt.Z)(function*(){e.stop();try{e.pending=new H.BH,yield function Dd(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new H.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Oi=new H.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Sd(n){if(!en(n).activated)throw Oi.create("use-before-activation",{appName:n.name})}function Eo(n,t){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,tt.Z)(function*({url:n,body:t},e){var i,r;const s={"Content-Type":"application/json"},c=e.getImmediate({optional:!0});if(c){const N=yield c.getHeartbeatsHeader();N&&(s["X-Firebase-Client"]=N)}const d={method:"POST",body:JSON.stringify(t),headers:s};let p,_;try{p=yield fetch(n,d)}catch(N){throw Oi.create("fetch-network-error",{originalErrorMessage:null===(i=N)||void 0===i?void 0:i.message})}if(200!==p.status)throw Oi.create("fetch-status-error",{httpStatus:p.status});try{_=yield p.json()}catch(N){throw Oi.create("fetch-parse-error",{originalErrorMessage:null===(r=N)||void 0===r?void 0:r.message})}const b=_.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Oi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const T=1e3*Number(b[1]),A=Date.now();return{token:_.token,expireTimeMillis:A+T,issuedAtTimeMillis:A}})).apply(this,arguments)}function _u(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Ta="firebase-app-check-store";let Tl=null;function To(){return Tl||(Tl=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;t(Oi.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ta,{keyPath:"compositeKey"})}}catch(i){t(Oi.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),Tl)}function vu(){return(vu=(0,tt.Z)(function*(n,t){const i=(yield To()).transaction(Ta,"readwrite"),s=i.objectStore(Ta).put({compositeKey:n,value:t});return new Promise((c,d)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var _;d(Oi.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const Ia=new wo.Yd("@firebase/app-check");function Ad(n,t){return(0,H.hl)()?function af(n,t){return function Cr(n,t){return vu.apply(this,arguments)}(function bu(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Ia.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function P(){return Ws().enabled}function Z(){return he.apply(this,arguments)}function he(){return(he=(0,tt.Z)(function*(){const n=Ws();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ue={error:"UNKNOWN_ERROR"};function Je(n){return H.US.encodeString(JSON.stringify(n),!1)}function gt(n){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,tt.Z)(function*(n,t=!1){const e=n.app;Sd(e);const i=en(e);let s,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&Xr(p)&&(r=p)}if(!t&&r&&Xr(r))return{token:r.token};let d,c=!1;if(P()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Eo(_u(e,yield Z()),n.heartbeatServiceProvider).then(_=>(i.exchangeTokenPromise=void 0,_)),c=!0);const p=yield i.exchangeTokenPromise;return yield Ad(e,p),Hi(e,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),c=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Ia.warn(p.message):Ia.error(p),s=p}return r?(d={token:r.token},Hi(e,Object.assign(Object.assign({},i),{token:r})),yield Ad(e,r)):d=Do(s),c&&Io(e,d),d})).apply(this,arguments)}function _t(n,t){const e=en(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Hi(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function Ti(n){const{app:t}=n,e=en(t);let i=e.tokenRefresher;i||(i=function Qi(n){const{app:t}=n;return new Ca((0,tt.Z)(function*(){let i;if(i=en(t).token?yield gt(n,!0):yield gt(n),i.error)throw i.error}),()=>!0,()=>{const e=en(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Hi(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Io(n,t){const e=en(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function Xr(n){return n.expireTimeMillis-Date.now()>0}function Do(n){return{token:Je(Ue),error:n}}class wu{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=en(this.app);for(const e of t)_t(this.app,e.next);return Promise.resolve()}}const Tg="app-check-internal";!function Ys(){(0,ci._registerComponent)(new bo.wA("app-check",n=>function Cu(n,t){return new wu(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Tg).initialize()})),(0,ci._registerComponent)(new bo.wA(Tg,n=>function Es(n){return{getToken:t=>gt(n,t),addTokenListener:t=>function Rt(n,t,e,i){const{app:r}=n,s=en(r),c={next:e,error:i,type:t};if(Hi(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&Xr(s.token)){const d=s.token;Promise.resolve().then(()=>{e({token:d.token}),Ti(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Ti(n))}(n,"INTERNAL",t),removeTokenListener:t=>_t(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ci.registerVersion)("@firebase/app-check","0.5.11")}();class Eu{constructor(){return(0,Jt.vb)("app-check")}}"undefined"!=typeof window&&window;const me=new o.OlP("angularfire2.auth.use-emulator"),Pe=new o.OlP("angularfire2.auth.settings"),st=new o.OlP("angularfire2.auth.tenant-id"),Ct=new o.OlP("angularfire2.auth.langugage-code"),Wt=new o.OlP("angularfire2.auth.use-device-language"),Bn=new o.OlP("angularfire.auth.persistence"),ts=(n,t,e,i,r,s,c,d)=>(0,gi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[_,b]of Object.entries(c))p.settings[_]=b;return d&&p.setPersistence(d),p},[e,i,r,s,c,d]);let ns=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,T,A,N){const V=new kt.x,ue=lt(void 0).pipe((0,Gs.Q)(c.outsideAngular),En(()=>s.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,5881)))),(0,pt.U)(()=>(0,gi.on)(e,s,i)),(0,pt.U)(_e=>ts(_e,s,d,_,b,T,p,A)),hc({bufferSize:1,refCount:!1}));if(Ki(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=lt(null);else{ue.pipe(Rr()).subscribe();const je=ue.pipe(En(et=>et.getRedirectResult().then(Vt=>Vt,()=>null)),Jt.iC,hc({bufferSize:1,refCount:!1})),Ke=ue.pipe(En(et=>new ai.y(Vt=>({unsubscribe:s.runOutsideAngular(()=>et.onAuthStateChanged(Bt=>Vt.next(Bt),Bt=>Vt.error(Bt),()=>Vt.complete()))})))),Qe=ue.pipe(En(et=>new ai.y(Vt=>({unsubscribe:s.runOutsideAngular(()=>et.onIdTokenChanged(Bt=>Vt.next(Bt),Bt=>Vt.error(Bt),()=>Vt.complete()))}))));this.authState=je.pipe(Zo(Ke),(0,ba.R)(c.outsideAngular),(0,Gs.Q)(c.insideAngular)),this.user=je.pipe(Zo(Qe),(0,ba.R)(c.outsideAngular),(0,Gs.Q)(c.insideAngular)),this.idToken=this.user.pipe(En(et=>et?(0,Zn.D)(et.getIdToken()):lt(null))),this.idTokenResult=this.user.pipe(En(et=>et?(0,Zn.D)(et.getIdTokenResult()):lt(null))),this.credential=(0,cr.T)(je,V,this.authState.pipe(dn(et=>!et))).pipe((0,pt.U)(et=>(null==et?void 0:et.user)?et:null),(0,ba.R)(c.outsideAngular),(0,Gs.Q)(c.insideAngular))}return(0,gi.pX)(this,ue,s,{spy:{apply:(_e,je,Ke)=>{(_e.startsWith("signIn")||_e.startsWith("createUser"))&&Ke.then(Qe=>V.next(Qe))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gi.Dh),o.LFG(gi.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Jt.HU),o.LFG(me,8),o.LFG(Pe,8),o.LFG(st,8),o.LFG(Ct,8),o.LFG(Wt,8),o.LFG(Bn,8),o.LFG(Eu,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ff=(()=>{class n{constructor(){fu.Z.registerVersion("angularfire",Jt.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[ns]}),n})();class is extends kt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:kd}=Array,{getPrototypeOf:xg,prototype:Ag,keys:pf}=Object;function gf(n){if(1===n.length){const t=n[0];if(kd(t))return{args:t,keys:null};if(function mf(n){return n&&"object"==typeof n&&xg(n)===Ag}(t)){const e=pf(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:Ic}=Array;function Tu(n){return(0,pt.U)(t=>function _f(n,t){return Ic(t)?n(...t):n(t)}(n,t))}function Rd(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var mi=M(9672);function Mg(n,t,e){n?(0,mi.f)(e,n,t):t()}function Iu(n,t){const e=(0,Jr.m)(n)?n:()=>n,i=r=>r.error(e());return new ai.y(t?r=>t.schedule(i,0,r):i)}var kg=M(8189);function Rg(...n){return function NS(){return(0,kg.J)(1)}()((0,Zn.D)(n,(0,$n.yG)(n)))}function yf(n){return new ai.y(t=>{(0,br.Xf)(n()).subscribe(t)})}var Du=M(515),rs=M(727);function FS(){return(0,Ht.e)((n,t)=>{let e=null;n._refCount++;const i=new Rn.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class vf extends ai.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Ht.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new rs.w0;const e=this.getSubject();t.add(this.source.subscribe(new Rn.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=rs.w0.EMPTY)}return t}refCount(){return FS()(this)}}function Yn(...n){const t=(0,$n.yG)(n);return(0,Ht.e)((e,i)=>{(t?Rg(n,e,t):Rg(n,e)).subscribe(i)})}function Ay(n,t,e,i,r){return(s,c)=>{let d=e,p=t,_=0;s.subscribe(new Rn.Q(c,b=>{const T=_++;p=d?n(p,b,T):(d=!0,b),i&&c.next(p)},r&&(()=>{d&&c.next(p),c.complete()})))}}function bf(n,t){return(0,Ht.e)(Ay(n,t,arguments.length>=2,!0))}function Sa(n){return(0,Ht.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe(new Rn.Q(e,void 0,void 0,c=>{s=(0,br.Xf)(n(c,Sa(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}var yn=M(5577);function xa(n,t){return(0,Jr.m)(t)?(0,yn.z)(n,t,1):(0,yn.z)(n,1)}function wf(n){return n<=0?()=>Du.E:(0,Ht.e)((t,e)=>{let i=[];t.subscribe(new Rn.Q(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}var Er=M(8505);function My(n){return(0,Ht.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class Ml{constructor(t,e){this.id=t,this.url=e}}class Og extends Ml{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cf extends Ml{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ky extends Ml{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class BS extends Ml{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class VS extends Ml{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ry extends Ml{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class US extends Ml{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class HS extends Ml{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oy extends Ml{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q0{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Z0{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pg{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jS{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zS{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GS{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y0{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const nn="primary";class K0{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Od(n){return new K0(n)}const Q0="ngNavigationCancelingError";function Py(n){const t=Error("NavigationCancelingError: "+n);return t[Q0]=!0,t}function WS(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],d=n[s];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Aa(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!X0(n[r],t[r]))return!1;return!0}function X0(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function Su(n){return Array.prototype.concat.apply([],n)}function Jo(n){return n.length>0?n[n.length-1]:null}function Nr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Xo(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,Zn.D)(Promise.resolve(n)):lt(n)}const Ma={exact:function Ny(n,t,e){if(!Rl(n.segments,t.segments)||!Pd(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Ny(n.children[i],t.children[i],e))return!1;return!0},subset:Fy},Ng={exact:function qS(n,t){return Aa(n,t)},subset:function Ef(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>X0(n[e],t[e]))},ignored:()=>!0};function Fg(n,t,e){return Ma[e.paths](n.root,t.root,e.matrixParams)&&Ng[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Fy(n,t,e){return Ly(n,t,t.segments,e)}function Ly(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Rl(r,e)||t.hasChildren()||!Pd(r,e,i))}if(n.segments.length===e.length){if(!Rl(n.segments,e)||!Pd(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Fy(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Rl(n.segments,r)&&Pd(n.segments,r,i)&&n.children[nn])&&Ly(n.children[nn],t,s,i)}}function Pd(n,t,e){return t.every((i,r)=>Ng[e](n[r].parameters,i.parameters))}class kl{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Od(this.queryParams)),this._queryParamMap}toString(){return ZS.serialize(this)}}class on{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Nr(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vg(this)}}class Lg{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Od(this.parameters)),this._parameterMap}toString(){return jg(this)}}function Rl(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class tC{}class Bg{parse(t){const e=new zg(t);return new kl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Tf(t.root,!0)}`,i=function QS(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Ug(e)}=${Ug(r)}`).join("&"):`${Ug(e)}=${Ug(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function YS(n){return encodeURI(n)}(t.fragment)}`:""}`}}const ZS=new Bg;function Vg(n){return n.segments.map(t=>jg(t)).join("/")}function Tf(n,t){if(!n.hasChildren())return Vg(n);if(t){const e=n.children[nn]?Tf(n.children[nn],!1):"",i=[];return Nr(n.children,(r,s)=>{s!==nn&&i.push(`${s}:${Tf(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function eC(n,t){let e=[];return Nr(n.children,(i,r)=>{r===nn&&(e=e.concat(t(i,r)))}),Nr(n.children,(i,r)=>{r!==nn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===nn?[Tf(n.children[nn],!1)]:[`${r}:${Tf(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[nn]?`${Vg(n)}/${e[0]}`:`${Vg(n)}/(${e.join("//")})`}}function nC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ug(n){return nC(n).replace(/%3B/gi,";")}function Hg(n){return nC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fd(n){return decodeURIComponent(n)}function By(n){return Fd(n.replace(/\+/g,"%20"))}function jg(n){return`${Hg(n.path)}${function KS(n){return Object.keys(n).map(t=>`;${Hg(t)}=${Hg(n[t])}`).join("")}(n.parameters)}`}const iC=/^[^\/()?;=#]+/;function If(n){const t=n.match(iC);return t?t[0]:""}const xu=/^[^=?&#]+/,sC=/^[^&#]+/;class zg{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new on([],{}):new on([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[nn]=new on(t,e)),i}parseSegment(){const t=If(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Lg(Fd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=If(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=If(this.remaining);r&&(i=r,this.capture(i))}t[Fd(e)]=Fd(i)}parseQueryParam(t){const e=function rC(n){const t=n.match(xu);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function JS(n){const t=n.match(sC);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=By(e),s=By(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=If(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=nn);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[nn]:new on([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class oC{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Gg(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Gg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=$g(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return $g(t,this._root).map(e=>e.value)}}function Gg(n,t){if(n===t.value)return t;for(const e of t.children){const i=Gg(n,e);if(i)return i}return null}function $g(n,t){if(n===t.value)return[t];for(const e of t.children){const i=$g(n,e);if(i.length)return i.unshift(t),i}return[]}class ka{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Dc(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Vy extends oC{constructor(t,e){super(t),this.snapshot=e,Uy(this,t)}toString(){return this.snapshot.toString()}}function Df(n,t){const e=function Wg(n,t){const c=new Ld([],{},{},"",{},nn,t,null,n.root,-1,{});return new Bd("",new ka(c,[]))}(n,t),i=new is([new Lg("",{})]),r=new is({}),s=new is({}),c=new is({}),d=new is(""),p=new xo(i,r,c,d,s,nn,t,e.root);return p.snapshot=e.root,new Vy(new ka(p,[]),e)}class xo{constructor(t,e,i,r,s,c,d,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(t=>Od(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(t=>Od(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qg(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function aC(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Ld{constructor(t,e,i,r,s,c,d,p,_,b,T){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=b,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Od(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Od(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bd extends oC{constructor(t,e){super(e),this.url=t,Uy(this,e)}toString(){return Hy(this._root)}}function Uy(n,t){t.value._routerState=n,t.children.forEach(e=>Uy(n,e))}function Hy(n){const t=n.children.length>0?` { ${n.children.map(Hy).join(", ")} } `:"";return`${n.value}${t}`}function jy(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Aa(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Aa(t.params,e.params)||n.params.next(e.params),function J0(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Aa(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Aa(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function zy(n,t){const e=Aa(n.params,t.params)&&function Nd(n,t){return Rl(n,t)&&n.every((e,i)=>Aa(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||zy(n.parent,t.parent))}function Au(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function cC(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Au(n,i,r);return Au(n,i)})}(n,t,e);return new ka(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>Au(n,d)),c}}const i=function bN(n){return new xo(new is(n.url),new is(n.params),new is(n.queryParams),new is(n.fragment),new is(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Au(n,s));return new ka(i,r)}}function Zg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Vd(n){return"object"==typeof n&&null!=n&&n.outlets}function Gy(n,t,e,i,r){let s={};if(i&&Nr(i,(d,p)=>{s[p]=Array.isArray(d)?d.map(_=>`${_}`):`${d}`}),n===t)return new kl(e,s,r);const c=dC(n,t,e);return new kl(c,s,r)}function dC(n,t,e){const i={};return Nr(n.children,(r,s)=>{i[s]=r===t?e:dC(r,t,e)}),new on(n.segments,i)}class Ao{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Zg(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Vd);if(r&&r!==Jo(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yg{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function hC(n,t,e){if(n||(n=new on([],{})),0===n.segments.length&&n.hasChildren())return Sf(n,t,e);const i=function ix(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const c=n.segments[r],d=e[i];if(Vd(d))break;const p=`${d}`,_=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!Wy(p,_,c))return s;i+=2}else{if(!Wy(p,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new on(n.segments.slice(0,i.pathIndex),{});return s.children[nn]=new on(n.segments.slice(i.pathIndex),n.children),Sf(s,0,r)}return i.match&&0===r.length?new on(n.segments,{}):i.match&&!n.hasChildren()?$y(n,t,e):i.match?Sf(n,0,r):$y(n,t,e)}function Sf(n,t,e){if(0===e.length)return new on(n.segments,{});{const i=function nx(n){return Vd(n[0])?n[0].outlets:{[nn]:n}}(e),r={};return Nr(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=hC(n.children[c],t,s))}),Nr(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new on(n.segments,r)}}function $y(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(Vd(s)){const p=rx(s.outlets);return new on(i,p)}if(0===r&&Zg(e[0])){i.push(new Lg(n.segments[t].path,Lt(e[0]))),r++;continue}const c=Vd(s)?s.outlets[nn]:`${s}`,d=r<e.length-1?e[r+1]:null;c&&d&&Zg(d)?(i.push(new Lg(c,Lt(d))),r+=2):(i.push(new Lg(c,{})),r++)}return new on(i,{})}function rx(n){const t={};return Nr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=$y(new on([],{}),0,e))}),t}function Lt(n){const t={};return Nr(n,(e,i)=>t[i]=`${e}`),t}function Wy(n,t,e){return n==e.path&&Aa(t,e.parameters)}class pC{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),jy(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Dc(e);t.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),Nr(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Dc(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Dc(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Dc(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new GS(s.value.snapshot))}),t.children.length&&this.forwardEvent(new jS(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(jy(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),jy(d.route.value),this.activateChildRoutes(t,null,c.children)}else{const d=function Kg(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),p=d?d.module.componentFactoryResolver:null;c.attachRef=null,c.route=r,c.resolver=p,c.outlet&&c.outlet.activateWith(r,p),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class Ks{constructor(t,e){this.routes=t,this.module=e}}function Ol(n){return"function"==typeof n}function Pl(n){return n instanceof kl}const Qg=Symbol("INITIAL_VALUE");function Ud(){return En(n=>function W0(...n){const t=(0,$n.yG)(n),e=(0,$n.jO)(n),{args:i,keys:r}=gf(n);if(0===i.length)return(0,Zn.D)([],t);const s=new ai.y(function PS(n,t,e=vo.y){return i=>{Mg(t,()=>{const{length:r}=n,s=new Array(r);let c=r,d=r;for(let p=0;p<r;p++)Mg(t,()=>{const _=(0,Zn.D)(n[p],t);let b=!1;_.subscribe(new Rn.Q(i,T=>{s[p]=T,b||(b=!0,d--),d||i.next(e(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>Rd(r,c):vo.y));return e?s.pipe(Tu(e)):s}(n.map(t=>t.pipe((0,Nn.q)(1),Yn(Qg)))).pipe(bf((t,e)=>{let i=!1;return e.reduce((r,s,c)=>r!==Qg?r:(s===Qg&&(i=!0),i||!1!==s&&c!==e.length-1&&!Pl(s)?r:s),t)},Qg),dn(t=>t!==Qg),(0,pt.U)(t=>Pl(t)?t:!0===t),(0,Nn.q)(1)))}class wN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Sc,this.attachRef=null}}class Sc{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new wN,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Hd=(()=>{class n{constructor(e,i,r,s,c){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=s||nn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const c=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),d=this.parentContexts.getOrCreateContext(this.name).children,p=new Yy(e,d,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,p),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Sc),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Yy{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===xo?this.route:t===Sc?this.childContexts:this.parent.get(t,e)}}let Jg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[Hd],encapsulation:2}),n})();function Xg(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];CN(i,ox(t,i))}}function CN(n,t){n.children&&Xg(n.children,t)}function ox(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Ky(n){const t=n.children&&n.children.map(Ky),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==nn&&(e.component=Jg),e}function Mo(n){return n.outlet||nn}function mC(n,t){const e=n.filter(i=>Mo(i)===t);return e.push(...n.filter(i=>Mo(i)!==t)),e}const Qy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Jy(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Qy):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(t.matcher||WS)(e,n,t);if(!s)return Object.assign({},Qy);const c={};Nr(s.posParams,(p,_)=>{c[_]=p.path});const d=s.consumed.length>0?Object.assign(Object.assign({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:d,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function em(n,t,e,i,r="corrected"){if(e.length>0&&function yC(n,t,e){return e.some(i=>jd(n,t,i)&&Mo(i)!==nn)}(n,e,i)){const c=new on(t,function _C(n,t,e,i){const r={};r[nn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Mo(s)!==nn){const c=new on([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[Mo(s)]=c}return r}(n,t,i,new on(e,n.children)));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function ax(n,t,e){return e.some(i=>jd(n,t,i))}(n,e,i)){const c=new on(n.segments,function EN(n,t,e,i,r,s){const c={};for(const d of i)if(jd(n,e,d)&&!r[Mo(d)]){const p=new on([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:t.length,c[Mo(d)]=p}return Object.assign(Object.assign({},r),c)}(n,t,e,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const s=new on(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function jd(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function lx(n,t,e,i){return!!(Mo(n)===i||i!==nn&&jd(t,e,n))&&("**"===n.path||Jy(t,n,e).matched)}function cx(n,t,e){return 0===t.length&&!n.children[e]}class Xy{constructor(t){this.segmentGroup=t||null}}class ux{constructor(t){this.urlTree=t}}function tm(n){return Iu(new Xy(n))}function dx(n){return Iu(new ux(n))}class SN{constructor(t,e,i,r,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(o.h0i)}apply(){const t=em(this.urlTree.root,[],[],this.config).segmentGroup,e=new on(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,nn).pipe((0,pt.U)(s=>this.createUrlTree(xf(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Sa(s=>{if(s instanceof ux)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Xy?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,nn).pipe((0,pt.U)(r=>this.createUrlTree(xf(r),t.queryParams,t.fragment))).pipe(Sa(r=>{throw r instanceof Xy?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new on([],{[nn]:t}):t;return new kl(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,pt.U)(s=>new on([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Zn.D)(r).pipe(xa(s=>{const c=i.children[s],d=mC(e,s);return this.expandSegmentGroup(t,d,c,s).pipe((0,pt.U)(p=>({segment:p,outlet:s})))}),bf((s,c)=>(s[c.outlet]=c.segment,s),{}),function LS(n,t){const e=arguments.length>=2;return i=>i.pipe(n?dn((r,s)=>n(r,s,i)):vo.y,wf(1),e?bs(t):yl(()=>new Qr))}())}expandSegment(t,e,i,r,s,c){return(0,Zn.D)(i).pipe(xa(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,s,c).pipe(Sa(_=>{if(_ instanceof Xy)return lt(null);throw _}))),Rr(d=>!!d),Sa((d,p)=>{if(d instanceof Qr||"EmptyError"===d.name)return cx(e,r,s)?lt(new on([],{})):tm(e);throw d}))}expandSegmentAgainstRoute(t,e,i,r,s,c,d){return lx(r,e,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c):tm(e):tm(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?dx(s):this.lineralizeSegments(i,s).pipe((0,yn.z)(c=>{const d=new on(c,{});return this.expandSegment(t,d,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){const{matched:d,consumedSegments:p,remainingSegments:_,positionalParamSegments:b}=Jy(e,r,s);if(!d)return tm(e);const T=this.applyRedirectCommands(p,r.redirectTo,b);return r.redirectTo.startsWith("/")?dx(T):this.lineralizeSegments(r,T).pipe((0,yn.z)(A=>this.expandSegment(t,e,i,A.concat(_),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?lt(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,pt.U)(T=>(i._loadedConfig=T,new on(r,{})))):lt(new on(r,{}));const{matched:c,consumedSegments:d,remainingSegments:p}=Jy(e,i,r);return c?this.getChildConfig(t,i,r).pipe((0,yn.z)(b=>{const T=b.module,A=b.routes,{segmentGroup:N,slicedSegments:V}=em(e,d,p,A),ue=new on(N.segments,N.children);if(0===V.length&&ue.hasChildren())return this.expandChildren(T,A,ue).pipe((0,pt.U)(Qe=>new on(d,Qe)));if(0===A.length&&0===V.length)return lt(new on(d,{}));const _e=Mo(i)===s;return this.expandSegment(T,ue,A,V,_e?nn:s,!0).pipe((0,pt.U)(Ke=>new on(d.concat(Ke.segments),Ke.children)))})):tm(e)}getChildConfig(t,e,i){return e.children?lt(new Ks(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?lt(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,yn.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,pt.U)(s=>(e._loadedConfig=s,s))):function IN(n){return Iu(Py(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):lt(new Ks([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?lt(r.map(c=>{const d=t.get(c);let p;if(function Nl(n){return n&&Ol(n.canLoad)}(d))p=d.canLoad(e,i);else{if(!Ol(d))throw new Error("Invalid CanLoad guard");p=d(e,i)}return Xo(p)})).pipe(Ud(),(0,Er.b)(c=>{if(!Pl(c))return;const d=Py(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw d.url=c,d}),(0,pt.U)(c=>!0===c)):lt(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return lt(i);if(r.numberOfChildren>1||!r.children[nn])return Iu(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[nn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new kl(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Nr(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=e[d]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let c={};return Nr(e.children,(d,p)=>{c[p]=this.createSegmentGroup(t,d,i,r)}),new on(s,c)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function xf(n){const t={};for(const i of Object.keys(n.children)){const s=xf(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function xc(n){if(1===n.numberOfChildren&&n.children[nn]){const t=n.children[nn];return new on(n.segments.concat(t.segments),t.children)}return n}(new on(n.segments,t))}class ev{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class zd{constructor(t,e){this.component=t,this.route=e}}function vC(n,t,e){const i=n._root;return Gd(i,t?t._root:null,e,[i.value])}function nm(n,t,e){const i=function Ac(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Gd(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Dc(t);return n.children.forEach(c=>{(function fx(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function nv(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Rl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Rl(n.url,t.url)||!Aa(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zy(n,t)||!Aa(n.queryParams,t.queryParams);default:return!zy(n,t)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new ev(i)):(s.data=c.data,s._resolvedData=c._resolvedData),Gd(n,t,s.component?d?d.children:null:e,i,r),p&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new zd(d.outlet.component,c))}else c&&Af(t,d,r),r.canActivateChecks.push(new ev(i)),Gd(n,null,s.component?d?d.children:null:e,i,r)})(c,s[c.value.outlet],e,i.concat([c.value]),r),delete s[c.value.outlet]}),Nr(s,(c,d)=>Af(c,e.getContext(d),r)),r}function Af(n,t,e){const i=Dc(n),r=n.value;Nr(i,(s,c)=>{Af(s,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new zd(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class qd{}function wC(n){return new ai.y(t=>t.error(n))}class EC{constructor(t,e,i,r,s,c){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=c}recognize(){const t=em(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,nn);if(null===e)return null;const i=new Ld([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},nn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ka(i,e),s=new Bd(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,i=qg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const s of Object.keys(e.children)){const c=e.children[s],d=mC(t,s),p=this.processSegmentGroup(d,c,s);if(null===p)return null;i.push(...p)}const r=Rf(i);return function rv(n){n.sort((t,e)=>t.value.outlet===nn?-1:e.value.outlet===nn?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const s of t){const c=this.processSegmentAgainstRoute(s,e,i,r);if(null!==c)return c}return cx(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!lx(t,e,i,r))return null;let s,c=[],d=[];if("**"===t.path){const N=i.length>0?Jo(i).parameters:{};s=new Ld(i,N,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,av(t),Mo(t),t.component,t,ov(e),mx(e)+i.length,lv(t))}else{const N=Jy(e,t,i);if(!N.matched)return null;c=N.consumedSegments,d=N.remainingSegments,s=new Ld(c,N.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,av(t),Mo(t),t.component,t,ov(e),mx(e)+c.length,lv(t))}const p=function sv(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:_,slicedSegments:b}=em(e,c,d,p.filter(N=>void 0===N.redirectTo),this.relativeLinkResolution);if(0===b.length&&_.hasChildren()){const N=this.processChildren(p,_);return null===N?null:[new ka(s,N)]}if(0===p.length&&0===b.length)return[new ka(s,[])];const T=Mo(t)===r,A=this.processSegment(p,_,b,T?nn:r);return null===A?null:[new ka(s,A)]}}function TC(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Rf(n){const t=[],e=new Set;for(const i of n){if(!TC(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Rf(i.children);t.push(new ka(i.value,r))}return t.filter(i=>!e.has(i))}function ov(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function mx(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function av(n){return n.data||{}}function lv(n){return n.resolve||{}}function Ts(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function cv(n){return En(t=>{const e=n(t);return e?(0,Zn.D)(e).pipe((0,pt.U)(()=>t)):lt(t)})}class DC extends class MN{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const SC=new o.OlP("ROUTES");class xC{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,pt.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const c=s.create(t);return new Ks(Su(c.injector.get(SC,void 0,o.XFs.Self|o.XFs.Optional)).map(Ky),c)}),Sa(s=>{throw e._loader$=void 0,s}));return e._loader$=new vf(r,()=>new kt.x).pipe(FS()),e._loader$}loadModuleFactory(t){return Xo(t()).pipe((0,yn.z)(e=>e instanceof o.YKP?lt(e):(0,Zn.D)(this.compiler.compileModuleAsync(e))))}}class AC{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function wx(n){throw n}function Cx(n,t,e){return t.parse("/")}function MC(n,t){return lt(null)}const kC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ex={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hr=(()=>{class n{constructor(e,i,r,s,c,d,p){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new kt.x,this.errorHandler=wx,this.malformedUriErrorHandler=Cx,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:MC,afterPreactivation:MC},this.urlHandlingStrategy=new AC,this.routeReuseStrategy=new DC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(o.h0i),this.console=c.get(o.c2e);const T=c.get(o.R0b);this.isNgZoneEnabled=T instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function vN(){return new kl(new on([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new xC(c,d,A=>this.triggerEvent(new q0(A)),A=>this.triggerEvent(new Z0(A))),this.routerState=Df(this.currentUrlTree,this.rootComponentType),this.transitions=new is({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(dn(r=>0!==r.id),(0,pt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),En(r=>{let s=!1,c=!1;return lt(r).pipe((0,Er.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.currentRawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),En(d=>{const p=this.browserUrlTree.toString(),_=!this.navigated||d.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return RC(d.source)&&(this.browserUrlTree=d.extractedUrl),lt(d).pipe(En(T=>{const A=this.transitions.getValue();return i.next(new Og(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),A!==this.transitions.getValue()?Du.E:Promise.resolve(T)}),function hx(n,t,e,i){return En(r=>function DN(n,t,e,i,r){return new SN(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,pt.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Er.b)(T=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:T.urlAfterRedirects})}),function _x(n,t,e,i,r){return(0,yn.z)(s=>function CC(n,t,e,i,r="emptyOnly",s="legacy"){try{const c=new EC(n,t,e,i,r,s).recognize();return null===c?wC(new qd):lt(c)}catch(c){return wC(c)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),i,r).pipe((0,pt.U)(c=>Object.assign(Object.assign({},s),{targetSnapshot:c}))))}(this.rootComponentType,this.config,T=>this.serializeUrl(T),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Er.b)(T=>{if("eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const N=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(N,T)}this.browserUrlTree=T.urlAfterRedirects}const A=new VS(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);i.next(A)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:A,extractedUrl:N,source:V,restoredState:ue,extras:_e}=d,je=new Og(A,this.serializeUrl(N),V,ue);i.next(je);const Ke=Df(N,this.rootComponentType).snapshot;return lt(Object.assign(Object.assign({},d),{targetSnapshot:Ke,urlAfterRedirects:N,extras:Object.assign(Object.assign({},_e),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=d.rawUrl,d.resolve(null),Du.E}),cv(d=>{const{targetSnapshot:p,id:_,extractedUrl:b,rawUrl:T,extras:{skipLocationChange:A,replaceUrl:N}}=d;return this.hooks.beforePreactivation(p,{navigationId:_,appliedUrlTree:b,rawUrlTree:T,skipLocationChange:!!A,replaceUrl:!!N})}),(0,Er.b)(d=>{const p=new Ry(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(p)}),(0,pt.U)(d=>Object.assign(Object.assign({},d),{guards:vC(d.targetSnapshot,d.currentSnapshot,this.rootContexts)})),function bC(n,t){return(0,yn.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?lt(Object.assign(Object.assign({},e),{guardsResult:!0})):function px(n,t,e,i){return(0,Zn.D)(n).pipe((0,yn.z)(r=>function kf(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?lt(s.map(d=>{const p=nm(d,t,r);let _;if(function Zy(n){return n&&Ol(n.canDeactivate)}(p))_=Xo(p.canDeactivate(n,t,e,i));else{if(!Ol(p))throw new Error("Invalid CanDeactivate guard");_=Xo(p(n,t,e,i))}return _.pipe(Rr())})).pipe(Ud()):lt(!0)}(r.component,r.route,e,t,i)),Rr(r=>!0!==r,!0))}(c,i,r,n).pipe((0,yn.z)(d=>d&&function sx(n){return"boolean"==typeof n}(d)?function gx(n,t,e,i){return(0,Zn.D)(t).pipe(xa(r=>Rg(function $d(n,t){return null!==n&&t&&t(new Pg(n)),lt(!0)}(r.route.parent,i),function Mf(n,t){return null!==n&&t&&t(new zS(n)),lt(!0)}(r.route,i),function Wd(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(c=>function tv(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>yf(()=>lt(c.guards.map(p=>{const _=nm(p,c.node,e);let b;if(function gC(n){return n&&Ol(n.canActivateChild)}(_))b=Xo(_.canActivateChild(i,n));else{if(!Ol(_))throw new Error("Invalid CanActivateChild guard");b=Xo(_(i,n))}return b.pipe(Rr())})).pipe(Ud())));return lt(s).pipe(Ud())}(n,r.path,e),function iv(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return lt(!0);const r=i.map(s=>yf(()=>{const c=nm(s,t,e);let d;if(function qy(n){return n&&Ol(n.canActivate)}(c))d=Xo(c.canActivate(t,n));else{if(!Ol(c))throw new Error("Invalid CanActivate guard");d=Xo(c(t,n))}return d.pipe(Rr())}));return lt(r).pipe(Ud())}(n,r.route,e))),Rr(r=>!0!==r,!0))}(i,s,n,t):lt(d)),(0,pt.U)(d=>Object.assign(Object.assign({},e),{guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,Er.b)(d=>{if(Pl(d.guardsResult)){const _=Py(`Redirecting to "${this.serializeUrl(d.guardsResult)}"`);throw _.url=d.guardsResult,_}const p=new US(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(p)}),dn(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,""),!1)),cv(d=>{if(d.guards.canActivateChecks.length)return lt(d).pipe((0,Er.b)(p=>{const _=new HS(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),En(p=>{let _=!1;return lt(p).pipe(function IC(n,t){return(0,yn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return lt(e);let s=0;return(0,Zn.D)(r).pipe(xa(c=>function yx(n,t,e,i){return function vx(n,t,e,i){const r=Ts(n);if(0===r.length)return lt({});const s={};return(0,Zn.D)(r).pipe((0,yn.z)(c=>function bx(n,t,e,i){const r=nm(n,t,i);return Xo(r.resolve?r.resolve(t,e):r(t,e))}(n[c],t,e,i).pipe((0,Er.b)(d=>{s[c]=d}))),wf(1),(0,yn.z)(()=>Ts(s).length===r.length?lt(s):Du.E))}(n._resolve,n,t,i).pipe((0,pt.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),qg(n,e).resolve),null)))}(c.route,i,n,t)),(0,Er.b)(()=>s++),wf(1),(0,yn.z)(c=>s===r.length?lt(e):Du.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Er.b)({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(p),this.cancelNavigationTransition(p,"At least one route resolver didn't emit any value."))}}))}),(0,Er.b)(p=>{const _=new Oy(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}))}),cv(d=>{const{targetSnapshot:p,id:_,extractedUrl:b,rawUrl:T,extras:{skipLocationChange:A,replaceUrl:N}}=d;return this.hooks.afterPreactivation(p,{navigationId:_,appliedUrlTree:b,rawUrlTree:T,skipLocationChange:!!A,replaceUrl:!!N})}),(0,pt.U)(d=>{const p=function lC(n,t,e){const i=Au(n,t._root,e?e._root:void 0);return new Vy(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return Object.assign(Object.assign({},d),{targetRouterState:p})}),(0,Er.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,pt.U)(i=>(new pC(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,Er.b)({next(){s=!0},complete(){s=!0}}),My(()=>{var d;s||c||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(d=this.currentNavigation)||void 0===d?void 0:d.id)===r.id&&(this.currentNavigation=null)}),Sa(d=>{if(c=!0,function $S(n){return n&&n[Q0]}(d)){const p=Pl(d.url);p||(this.navigated=!0,this.restoreHistory(r,!0));const _=new ky(r.id,this.serializeUrl(r.extractedUrl),d.message);i.next(_),p?setTimeout(()=>{const b=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),T={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||RC(r.source)};this.scheduleNavigation(b,"imperative",null,T,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new BS(r.id,this.serializeUrl(r.extractedUrl),d);i.next(p);try{r.resolve(this.errorHandler(d))}catch(_){r.reject(_)}}return Du.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},c=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(c){const p=Object.assign({},c);delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const d=this.parseUrl(e.url);this.scheduleNavigation(d,i,c,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Xg(e),this.config=e.map(Ky),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:p}=i,_=r||this.routerState.root,b=p?this.currentUrlTree.fragment:c;let T=null;switch(d){case"merge":T=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=s||null}return null!==T&&(T=this.removeEmptyProps(T)),function uC(n,t,e,i,r){if(0===e.length)return Gy(t.root,t.root,t.root,i,r);const s=function XS(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ao(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return Nr(s.outlets,(p,_)=>{d[_]="string"==typeof p?p.split("/"):p}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new Ao(e,t,i)}(e);if(s.toRoot())return Gy(t.root,t.root,new on([],{}),i,r);const c=function ex(n,t,e){if(n.isAbsolute)return new Yg(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new Yg(s,s===t.root,0)}const i=Zg(n.commands[0])?0:1;return function tx(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Yg(i,!1,r-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,t,n),d=c.processChildren?Sf(c.segmentGroup,c.index,s.commands):hC(c.segmentGroup,c.index,s.commands);return Gy(t.root,c.segmentGroup,d,i,r)}(_,this.currentUrlTree,e,T,null!=b?b:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Pl(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function Tx(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},kC):!1===i?Object.assign({},Ex):i,Pl(e))return Fg(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Fg(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Cf(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,c){var d,p;if(this.disposed)return Promise.resolve(!1);let _,b,T;c?(_=c.resolve,b=c.reject,T=c.promise):T=new Promise((V,ue)=>{_=V,b=ue});const A=++this.navigationId;let N;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),N=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(d=this.browserPageId)&&void 0!==d?d:0:(null!==(p=this.browserPageId)&&void 0!==p?p:0)+1):N=0,this.setTransition({id:A,targetPageId:N,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:_,reject:b,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(V=>Promise.reject(V))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===c?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===c&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new ky(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function RC(n){return"imperative"!==n}let Fl=(()=>{class n{constructor(e,i,r,s,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this.commands=null,this.onChanges=new kt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:Zd(this.skipLocationChange),replaceUrl:Zd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Zd(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(hr),o.Y36(xo),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})();function Zd(n){return""===n||!!n}class OC{}class Dx{preload(t,e){return lt(null)}}let hv=(()=>{class n{constructor(e,i,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new xC(r,i,p=>e.triggerEvent(new q0(p)),p=>e.triggerEvent(new Z0(p)))}setUpPreloading(){this.subscription=this.router.events.pipe(dn(e=>e instanceof Cf),xa(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(o.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const c=s._loadedConfig;r.push(this.processRoutes(c.module,c.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children));return(0,Zn.D)(r).pipe((0,kg.J)(),(0,pt.U)(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?lt(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,yn.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(hr),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(OC))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),fv=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Og?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Cf&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Y0&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Y0(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Mu=new o.OlP("ROUTER_CONFIGURATION"),rm=new o.OlP("ROUTER_FORROOT_GUARD"),Sx=[qe,{provide:tC,useClass:Bg},{provide:hr,useFactory:function PC(n,t,e,i,r,s,c={},d,p){const _=new hr(null,n,t,e,i,r,Su(s));return d&&(_.urlHandlingStrategy=d),p&&(_.routeReuseStrategy=p),function Mx(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(c,_),c.enableTracing&&_.events.subscribe(b=>{var T,A;null===(T=console.group)||void 0===T||T.call(console,`Router Event: ${b.constructor.name}`),console.log(b.toString()),console.log(b),null===(A=console.groupEnd)||void 0===A||A.call(console)}),_},deps:[tC,Sc,qe,o.zs3,o.Sil,SC,Mu,[class uv{},new o.FiY],[class AN{},new o.FiY]]},Sc,{provide:xo,useFactory:function kx(n){return n.routerState.root},deps:[hr]},hv,Dx,class Ix{preload(t,e){return e().pipe(Sa(()=>lt(null)))}},{provide:Mu,useValue:{enableTracing:!1}}];function xx(){return new o.PXZ("Router",hr)}let Yd=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[Sx,sm(e),{provide:rm,useFactory:gv,deps:[[hr,new o.FiY,new o.tp0]]},{provide:Mu,useValue:i||{}},{provide:we,useFactory:Ax,deps:[ee,[new o.tBr(ke),new o.FiY],Mu]},{provide:fv,useFactory:pv,deps:[hr,ic,Mu]},{provide:OC,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Dx},{provide:o.PXZ,multi:!0,useFactory:xx},[Of,{provide:o.ip1,multi:!0,useFactory:RN,deps:[Of]},{provide:mv,useFactory:Rx,deps:[Of]},{provide:o.tb,multi:!0,useExisting:mv}]]}}static forChild(e){return{ngModule:n,providers:[sm(e)]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(rm,8),o.LFG(hr,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function pv(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new fv(n,t,e)}function Ax(n,t,e={}){return e.useHash?new ve(n,t):new Be(n,t)}function gv(n){return"guarded"}function sm(n){return[{provide:o.deG,multi:!0,useValue:n},{provide:SC,multi:!0,useValue:n}]}let Of=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new kt.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(d=>i=d),s=this.injector.get(hr),c=this.injector.get(Mu);return"disabled"===c.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?lt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Mu),r=this.injector.get(hv),s=this.injector.get(fv),c=this.injector.get(hr),d=this.injector.get(o.z2F);e===d.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&c.initialNavigation(),r.setUpPreloading(),s.init(),c.resetRootComponentType(d.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function RN(n){return n.appInitializer.bind(n)}function Rx(n){return n.bootstrapListener.bind(n)}const mv=new o.OlP("Router Initializer");let om=(()=>{class n{constructor(e,i){this.auth=e,this.router=i,this.signedIn=!1,this.auth.authState.subscribe(r=>{console.log(r,"auth"),this.authState=r,this.signedIn=!!r,this.router.navigateByUrl("/")}),e.credential.subscribe(r=>{console.log(r,"cred")})}loginWithGoogle(){this.auth.signInWithPopup(new fu.Z.auth.GoogleAuthProvider)}login(e){}logout(){this.auth.signOut().then(e=>{console.log(e),this.router.navigateByUrl("/auth")})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ns),o.LFG(hr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _v(...n){const t=(0,$n.jO)(n),{args:e,keys:i}=gf(n),r=new ai.y(s=>{const{length:c}=e;if(!c)return void s.complete();const d=new Array(c);let p=c,_=c;for(let b=0;b<c;b++){let T=!1;(0,br.Xf)(e[b]).subscribe(new Rn.Q(s,A=>{T||(T=!0,_--),d[b]=A},()=>p--,void 0,()=>{(!p||!T)&&(_||s.next(i?Rd(i,d):d),s.complete())}))}});return t?r.pipe(Tu(t)):r}let Oa=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),Pa=(()=>{class n extends Oa{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const ko=new o.OlP("NgValueAccessor"),yv={provide:ko,useExisting:(0,o.Gpc)(()=>ea),multi:!0},vv=new o.OlP("CompositionEventMode");let ea=(()=>{class n extends Oa{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function FC(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(vv,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([yv]),o.qOj]}),n})();function Mc(n){return null==n||0===n.length}function am(n){return null!=n&&"number"==typeof n.length}const Ji=new o.OlP("NgValidators"),Ll=new o.OlP("NgAsyncValidators"),LC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pf{static min(t){return function lm(n){return t=>{if(Mc(t.value)||Mc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function BC(n){return t=>{if(Mc(t.value)||Mc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function VC(n){return Mc(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function bv(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function ku(n){return Mc(n.value)||LC.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function wv(n){return t=>Mc(t.value)||!am(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function UC(n){return t=>am(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function HC(n){if(!n)return Bl;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Mc(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Cv(t)}static composeAsync(t){return Ev(t)}}function Bl(n){return null}function jC(n){return null!=n}function zC(n){const t=(0,o.QGY)(n)?(0,Zn.D)(n):n;return(0,o.CqO)(t),t}function GC(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function $C(n,t){return t.map(e=>e(n))}function cm(n){return n.map(t=>function Na(n){return!n.validate}(t)?t:e=>t.validate(e))}function Cv(n){if(!n)return null;const t=n.filter(jC);return 0==t.length?null:function(e){return GC($C(e,t))}}function um(n){return null!=n?Cv(cm(n)):null}function Ev(n){if(!n)return null;const t=n.filter(jC);return 0==t.length?null:function(e){return _v($C(e,t).map(zC)).pipe((0,pt.U)(GC))}}function dm(n){return null!=n?Ev(cm(n)):null}function WC(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function qC(n){return n._rawValidators}function ZC(n){return n._rawAsyncValidators}function Tv(n){return n?Array.isArray(n)?n:[n]:[]}function Nf(n,t){return Array.isArray(n)?n.includes(t):n===t}function Fx(n,t){const e=Tv(t);return Tv(n).forEach(r=>{Nf(e,r)||e.push(r)}),e}function Iv(n,t){return Tv(t).filter(e=>!Nf(n,e))}class YC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=um(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=dm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Fa extends YC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Is extends YC{get formDirective(){return null}get path(){return null}}class Lx{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let Kd=(()=>{class n extends Lx{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Fa,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[o.qOj]}),n})(),Dv=(()=>{class n extends Lx{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Is,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[o.qOj]}),n})();function fm(n,t){return[...t.path,n]}function Ff(n,t){Sv(n,t),t.valueAccessor.writeValue(n.value),function $x(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gm(n,t)})}(n,t),function La(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Wx(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gm(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Qd(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function pm(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),kc(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ru(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Sv(n,t){const e=qC(n);null!==t.validator?n.setValidators(WC(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=ZC(n);null!==t.asyncValidator?n.setAsyncValidators(WC(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Ru(t._rawValidators,r),Ru(t._rawAsyncValidators,r)}function kc(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=qC(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=ZC(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Ru(t._rawValidators,i),Ru(t._rawAsyncValidators,i),e}function gm(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Jd(n,t){Sv(n,t)}function Rc(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function Ou(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Oc(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===ea?e=s:function eh(n){return Object.getPrototypeOf(n.constructor)===Pa}(s)?i=s:r=s}),r||i||e||null}function Pc(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Ba="VALID",Vl="INVALID",Pu="PENDING",th="DISABLED";function _m(n){return(Bf(n)?n.validators:n)||null}function xv(n){return Array.isArray(n)?um(n):n||null}function ym(n,t){return(Bf(t)?t.asyncValidators:n)||null}function Av(n){return Array.isArray(n)?dm(n):n||null}function Bf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const vm=n=>n instanceof Pv,bm=n=>n instanceof Vf,Mv=n=>n instanceof rE;function iE(n){return vm(n)?n.value:n.getRawValue()}function kv(n,t){const e=bm(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new o.vHH(1e3,"");if(!i[t])throw new o.vHH(1001,"")}function Rv(n,t){bm(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new o.vHH(1002,"")})}class Ov{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=xv(this._rawValidators),this._composedAsyncValidatorFn=Av(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ba}get invalid(){return this.status===Vl}get pending(){return this.status==Pu}get disabled(){return this.status===th}get enabled(){return this.status!==th}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=xv(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Av(t)}addValidators(t){this.setValidators(Fx(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Fx(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Iv(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Iv(t,this._rawAsyncValidators))}hasValidator(t){return Nf(this._rawValidators,t)}hasAsyncValidator(t){return Nf(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Pu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=th,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ba,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ba||this.status===Pu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?th:Ba}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Pu,this._hasOwnPendingAsyncValidator=!0;const e=zC(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function nE(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=bm(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:Mv(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?th:this.errors?Vl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pu)?Pu:this._anyControlsHaveStatus(Vl)?Vl:Ba}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Bf(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Pv extends Ov{constructor(t=null,e,i){super(_m(e),ym(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bf(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Pc(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Pc(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Vf extends Ov{constructor(t,e,i){super(_m(e),ym(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Rv(this,t),Object.keys(t).forEach(i=>{kv(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=iE(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class rE extends Ov{constructor(t,e,i){super(_m(e),ym(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Rv(this,t),t.forEach((i,r)=>{kv(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>iE(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const sE={provide:Is,useExisting:(0,o.Gpc)(()=>Hf)},Uf=(()=>Promise.resolve(null))();let Hf=(()=>{class n extends Is{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new Vf({},um(e),dm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Uf.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Ff(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Uf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Uf.then(()=>{const i=this._findContainer(e.path),r=new Vf({});Jd(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Uf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Uf.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Ou(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ji,10),o.Y36(Ll,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([sE]),o.qOj]}),n})();const VN={provide:Fa,useExisting:(0,o.Gpc)(()=>Nu)},lE=(()=>Promise.resolve(null))();let Nu=(()=>{class n extends Fa{constructor(e,i,r,s,c){super(),this._changeDetectorRef=c,this.control=new Pv,this._registered=!1,this.update=new o.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Oc(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Rc(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ff(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){lE.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;lE.then(()=>{var s;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(e){return this._parent?fm(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Is,9),o.Y36(Ji,10),o.Y36(Ll,10),o.Y36(ko,10),o.Y36(o.sBO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([VN]),o.qOj,o.TTD]}),n})(),Yx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Kx={provide:ko,useExisting:(0,o.Gpc)(()=>Fc),multi:!0};let Fc=(()=>{class n extends Pa{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[o._Bn([Kx]),o.qOj]}),n})(),cE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Fv=new o.OlP("NgModelWithFormControlWarning"),tA={provide:Is,useExisting:(0,o.Gpc)(()=>nh)};let nh=(()=>{class n extends Is{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Ff(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){pm(e.control||null,e,!1),Pc(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,Ou(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(pm(i||null,e),vm(r)&&(Ff(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Jd(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Fr(n,t){return kc(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Sv(this.form,this),this._oldForm&&kc(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ji,10),o.Y36(Ll,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([tA]),o.qOj,o.TTD]}),n})();const UN={provide:Fa,useExisting:(0,o.Gpc)(()=>zf)};let zf=(()=>{class n extends Fa{constructor(e,i,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Oc(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Rc(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return fm(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(Is,13),o.Y36(Ji,10),o.Y36(Ll,10),o.Y36(ko,10),o.Y36(Fv,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([UN]),o.qOj,o.TTD]}),n})(),qv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[cE]]}),n})(),Mm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[qv]}),n})(),Zv=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Fv,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[qv]}),n})(),Yv=(()=>{class n{group(e,i=null){const r=this._reduceControls(e);let d,s=null,c=null;return null!=i&&(function CE(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(s=null!=i.validators?i.validators:null,c=null!=i.asyncValidators?i.asyncValidators:null,d=null!=i.updateOn?i.updateOn:void 0):(s=null!=i.validator?i.validator:null,c=null!=i.asyncValidator?i.asyncValidator:null)),new Vf(r,{asyncValidators:c,updateOn:d,validators:s})}control(e,i,r){return new Pv(e,i,r)}array(e,i,r){const s=e.map(c=>this._createControl(c));return new rE(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return vm(e)||bm(e)||Mv(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:Zv}),n})();class EE{}class TE{}class Va{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Va?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Va;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Va?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let c=this.headers.get(e);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class aA{encodeKey(t){return DE(t)}encodeValue(t){return DE(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const IE=/%(\d[a-f0-9])/gi,lA={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function DE(n){return encodeURIComponent(n).replace(IE,(t,e)=>{var i;return null!==(i=lA[e])&&void 0!==i?i:t})}function Kv(n){return`${n}`}class Bc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new aA,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Xi(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,d]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],p=e.get(c)||[];p.push(d),e.set(c,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Bc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Kv(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Kv(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class SE{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function xE(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function AE(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Qv(n){return"undefined"!=typeof FormData&&n instanceof FormData}class rh{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function ih(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Va),this.context||(this.context=new SE),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+c}}else this.params=new Bc,this.urlWithParams=e}serializeBody(){return null===this.body?null:xE(this.body)||AE(this.body)||Qv(this.body)||function uA(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Bc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Qv(this.body)?null:AE(this.body)?this.body.type||null:xE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Bc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,c=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,p=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let _=t.headers||this.headers,b=t.params||this.params;const T=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(_=Object.keys(t.setHeaders).reduce((A,N)=>A.set(N,t.setHeaders[N]),_)),t.setParams&&(b=Object.keys(t.setParams).reduce((A,N)=>A.set(N,t.setParams[N]),b)),new rh(i,r,c,{params:b,headers:_,context:T,reportProgress:p,responseType:s,withCredentials:d})}}var er=(()=>((er=er||{})[er.Sent=0]="Sent",er[er.UploadProgress=1]="UploadProgress",er[er.ResponseHeader=2]="ResponseHeader",er[er.DownloadProgress=3]="DownloadProgress",er[er.Response=4]="Response",er[er.User=5]="User",er))();class qf{constructor(t,e=200,i="OK"){this.headers=t.headers||new Va,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Zf extends qf{constructor(t={}){super(t),this.type=er.ResponseHeader}clone(t={}){return new Zf({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Js extends qf{constructor(t={}){super(t),this.type=er.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Js({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ME extends qf{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Jv(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Xs=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof rh)s=e;else{let p,_;p=r.headers instanceof Va?r.headers:new Va(r.headers),r.params&&(_=r.params instanceof Bc?r.params:new Bc({fromObject:r.params})),s=new rh(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=lt(s).pipe(xa(p=>this.handler.handle(p)));if(e instanceof rh||"events"===r.observe)return c;const d=c.pipe(dn(p=>p instanceof Js));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,pt.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,pt.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,pt.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,pt.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Bc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Jv(r,i))}post(e,i,r={}){return this.request("POST",e,Jv(r,i))}put(e,i,r={}){return this.request("PUT",e,Jv(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(EE))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Ro{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Oo=new o.OlP("HTTP_INTERCEPTORS");let kE=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const OE=/^\)\]\}',?\n/;let Xv=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ai.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((N,V)=>r.setRequestHeader(N,V.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const N=e.detectContentTypeHeader();null!==N&&r.setRequestHeader("Content-Type",N)}if(e.responseType){const N=e.responseType.toLowerCase();r.responseType="json"!==N?N:"text"}const s=e.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const N=r.statusText||"OK",V=new Va(r.getAllResponseHeaders()),ue=function hA(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return c=new Zf({headers:V,status:r.status,statusText:N,url:ue}),c},p=()=>{let{headers:N,status:V,statusText:ue,url:_e}=d(),je=null;204!==V&&(je=void 0===r.response?r.responseText:r.response),0===V&&(V=je?200:0);let Ke=V>=200&&V<300;if("json"===e.responseType&&"string"==typeof je){const Qe=je;je=je.replace(OE,"");try{je=""!==je?JSON.parse(je):null}catch(et){je=Qe,Ke&&(Ke=!1,je={error:et,text:je})}}Ke?(i.next(new Js({body:je,headers:N,status:V,statusText:ue,url:_e||void 0})),i.complete()):i.error(new ME({error:je,headers:N,status:V,statusText:ue,url:_e||void 0}))},_=N=>{const{url:V}=d(),ue=new ME({error:N,status:r.status||0,statusText:r.statusText||"Unknown Error",url:V||void 0});i.error(ue)};let b=!1;const T=N=>{b||(i.next(d()),b=!0);let V={type:er.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(V.total=N.total),"text"===e.responseType&&!!r.responseText&&(V.partialText=r.responseText),i.next(V)},A=N=>{let V={type:er.UploadProgress,loaded:N.loaded};N.lengthComputable&&(V.total=N.total),i.next(V)};return r.addEventListener("load",p),r.addEventListener("error",_),r.addEventListener("timeout",_),r.addEventListener("abort",_),e.reportProgress&&(r.addEventListener("progress",T),null!==s&&r.upload&&r.upload.addEventListener("progress",A)),r.send(s),i.next({type:er.Sent}),()=>{r.removeEventListener("error",_),r.removeEventListener("abort",_),r.removeEventListener("load",p),r.removeEventListener("timeout",_),e.reportProgress&&(r.removeEventListener("progress",T),null!==s&&r.upload&&r.upload.removeEventListener("progress",A)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(kn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Rm=new o.OlP("XSRF_COOKIE_NAME"),sh=new o.OlP("XSRF_HEADER_NAME");class PE{}let NE=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Uo(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y),o.LFG(o.Lbi),o.LFG(Rm))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Om=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(PE),o.LFG(sh))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),eb=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(Oo,[]);this.chain=i.reduceRight((r,s)=>new Ro(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(TE),o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),FE=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Om,useClass:kE}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Rm,useValue:e.cookieName}:[],e.headerName?{provide:sh,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Om,{provide:Oo,useExisting:Om,multi:!0},{provide:PE,useClass:NE},{provide:Rm,useValue:"XSRF-TOKEN"},{provide:sh,useValue:"X-XSRF-TOKEN"}]}),n})(),LE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Xs,{provide:EE,useClass:eb},Xv,{provide:TE,useExisting:Xv}],imports:[[FE.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var nb=M(655);var jn=(()=>{return(n=jn||(jn={}))[n.Text=1]="Text",n[n.File=2]="File",n[n.Image=3]="Image",jn;var n})();class BA{constructor(){this.type=jn.Text}}var tr=(()=>{return(n=tr||(tr={}))[n.Online=0]="Online",n[n.Busy=1]="Busy",n[n.Away=2]="Away",n[n.Offline=3]="Offline",tr;var n})(),_i=(()=>{return(n=_i||(_i={}))[n.User=0]="User",n[n.Group=1]="Group",_i;var n})();class JE{}let nT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ci,Mm,LE]]}),n})();var ah=M(4986),Bm=M(5032);function lb(n){return(0,pt.U)(()=>n)}function cb(n,t){return t?e=>Rg(t.pipe((0,Nn.q)(1),function iT(){return(0,Ht.e)((n,t)=>{n.subscribe(new Rn.Q(t,Bm.Z))})}()),e.pipe(cb(n))):(0,yn.z)((e,i)=>n(e,i).pipe((0,Nn.q)(1),lb(e)))}var qA=M(3532);function YA(n=0,t,e=ah.P){let i=-1;return null!=t&&((0,qA.K)(t)?e=t:i=t),new ai.y(r=>{let s=function ZA(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function rT(n,t=ah.z){const e=YA(n,t);return cb(()=>e)}class Vc extends class Yf{constructor(){this.friendsListChangedHandler=t=>{},this.messageReceivedHandler=(t,e)=>{}}onFriendsListChanged(t){this.friendsListChangedHandler(t)}onMessageReceived(t,e){this.messageReceivedHandler(t,e)}}{listFriends(){return lt(Vc.mockedParticipants.map(t=>{let e=new JE;return e.participant=t,e.metadata={totalUnreadMessages:Math.floor(10*Math.random())},e}))}getMessageHistory(t){let e;return e=[{fromId:1,toId:999,message:"Hi there, just type any message bellow to test this Angular module.",dateSent:new Date}],lt(e).pipe(rT(2e3))}sendMessage(t){setTimeout(()=>{let e=new BA;if(e.message="You have typed '"+t.message+"'",e.dateSent=new Date,isNaN(t.toId)){let i=Vc.mockedParticipants.find(s=>s.id==t.toId),r=Math.floor(Math.random()*i.chattingTo.length);e.fromId=i.chattingTo[r].id,e.toId=t.toId,this.onMessageReceived(i,e)}else{e.fromId=t.toId,e.toId=t.fromId;let i=Vc.mockedParticipants.find(r=>r.id==e.fromId);this.onMessageReceived(i,e)}},1e3)}groupCreated(t){Vc.mockedParticipants.push(t),Vc.mockedParticipants=Vc.mockedParticipants.sort((e,i)=>i.displayName>e.displayName?-1:1),this.listFriends().subscribe(e=>{this.onFriendsListChanged(e)})}}Vc.mockedParticipants=[{participantType:_i.User,id:1,displayName:"Arya Stark",avatar:"https://66.media.tumblr.com/avatar_9dd9bb497b75_128.pnj",status:tr.Online},{participantType:_i.User,id:2,displayName:"Cersei Lannister",avatar:null,status:tr.Online},{participantType:_i.User,id:3,displayName:"Daenerys Targaryen",avatar:"https://68.media.tumblr.com/avatar_d28d7149f567_128.png",status:tr.Busy},{participantType:_i.User,id:4,displayName:"Eddard Stark",avatar:"https://pbs.twimg.com/profile_images/600707945911844864/MNogF757_400x400.jpg",status:tr.Offline},{participantType:_i.User,id:5,displayName:"Hodor",avatar:"https://pbs.twimg.com/profile_images/378800000449071678/27f2e27edd119a7133110f8635f2c130.jpeg",status:tr.Offline},{participantType:_i.User,id:6,displayName:"Jaime Lannister",avatar:"https://pbs.twimg.com/profile_images/378800000243930208/4fa8efadb63777ead29046d822606a57.jpeg",status:tr.Busy},{participantType:_i.User,id:7,displayName:"John Snow",avatar:"https://pbs.twimg.com/profile_images/3456602315/aad436e6fab77ef4098c7a5b86cac8e3.jpeg",status:tr.Busy},{participantType:_i.User,id:8,displayName:"Lorde Petyr 'Littlefinger' Baelish",avatar:"http://68.media.tumblr.com/avatar_ba75cbb26da7_128.png",status:tr.Offline},{participantType:_i.User,id:9,displayName:"Sansa Stark",avatar:"http://pm1.narvii.com/6201/dfe7ad75cd32130a5c844d58315cbca02fe5b804_128.jpg",status:tr.Online},{participantType:_i.User,id:10,displayName:"Theon Greyjoy",avatar:"https://thumbnail.myheritageimages.com/502/323/78502323/000/000114_884889c3n33qfe004v5024_C_64x64C.jpg",status:tr.Away}];const JN=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function sT(){return(0,o.f3M)(Y)}}),Vm=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ub,Hl=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function KA(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Vm.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(JN,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();try{ub="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){ub=!1}let lh,os=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Ui(n){return n===cd}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ub)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const db=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function aT(){if(lh)return lh;if("object"!=typeof document||!document)return lh=new Set(db),lh;let n=document.createElement("input");return lh=new Set(db.filter(t=>(n.setAttribute("type",t),n.type===t))),lh}let Kf,Jf,Vu,Um;function Qf(n){return function ch(){if(null==Kf&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Kf=!0}))}finally{Kf=Kf||!1}return Kf}()?n:!!n.capture}function hb(){if(null==Vu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Vu=!1,Vu;if("scrollBehavior"in document.documentElement.style)Vu=!0;else{const n=Element.prototype.scrollTo;Vu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Vu}function Xf(){if("object"!=typeof document||!document)return 0;if(null==Jf){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Jf=0,0===n.scrollLeft&&(n.scrollLeft=1,Jf=0===n.scrollLeft?1:2),n.remove()}return Jf}function pb(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Uc(n){return n.composedPath?n.composedPath()[0]:n.target}function Hm(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function Ua(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Uu(n,t=ah.z){return(0,Ht.e)((e,i)=>{let r=null,s=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const _=s;s=null,i.next(_)}};function p(){const _=c+n,b=t.now();if(b<_)return r=this.schedule(void 0,_-b),void i.add(r);d()}e.subscribe(new Rn.Q(i,_=>{s=_,c=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}function dh(n,t=vo.y){return n=null!=n?n:AM,(0,Ht.e)((e,i)=>{let r,s=!0;e.subscribe(new Rn.Q(i,c=>{const d=t(c);(s||!n(r,d))&&(s=!1,r=d,i.next(c))}))})}function AM(n,t){return n===t}function Kn(n){return(0,Ht.e)((t,e)=>{(0,br.Xf)(n).subscribe(new Rn.Q(e,()=>e.complete(),Bm.Z)),!e.closed&&t.subscribe(e)})}function Qn(n){return null!=n&&"false"!=`${n}`}function Cb(n,t=0){return function TT(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Xm(n){return Array.isArray(n)?n:[n]}function Pi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ha(n){return n instanceof o.SBq?n.nativeElement:n}class RM{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new kt.x,this._typeaheadSubscription=rs.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new kt.x,this.change=new kt.x,t instanceof o.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Er.b)(e=>this._pressedLetters.push(e)),Uu(t),dn(()=>this._pressedLetters.length>0),(0,pt.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,c=i[s];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Ua(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),r=e[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class rp extends RM{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class OM extends RM{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Ib=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function PM(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function ST(n){try{return n.frameElement}catch(t){return null}}(function kT(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===FM(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=FM(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function MT(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function LM(n){return!function Db(n){return function AT(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function NM(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function xT(n){return function e_(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||t_(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(os))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function t_(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function FM(n){if(!t_(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class n_{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,Nn.q)(1)).subscribe(t)}}let Sb=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new n_(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ib),o.LFG(o.R0b),o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function i_(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function r_(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const BM=new o.OlP("cdk-input-modality-detector-options"),PT={ignoreKeys:[18,17,224,91,16]},hh=Qf({passive:!0,capture:!0});let VM=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new is(null),this._lastTouchMs=0,this._onKeydown=c=>{var d,p;(null===(p=null===(d=this._options)||void 0===d?void 0:d.ignoreKeys)||void 0===p?void 0:p.some(_=>_===c.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Uc(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(i_(c)?"keyboard":"mouse"),this._mostRecentTarget=Uc(c))},this._onTouchstart=c=>{r_(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Uc(c))},this._options=Object.assign(Object.assign({},PT),s),this.modalityDetected=this._modality.pipe(function wb(n){return dn((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(dh()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,hh),r.addEventListener("mousedown",this._onMousedown,hh),r.addEventListener("touchstart",this._onTouchstart,hh)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,hh),document.removeEventListener("mousedown",this._onMousedown,hh),document.removeEventListener("touchstart",this._onTouchstart,hh))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(os),o.LFG(o.R0b),o.LFG(Y),o.LFG(BM,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NT=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function UM(){return null}}),FT=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let LT=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,c;return 1===i.length&&"number"==typeof i[0]?c=i[0]:[s,c]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==c&&r&&(c=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e,i;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(NT,8),o.LFG(o.R0b),o.LFG(Y),o.LFG(FT,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const BT=new o.OlP("cdk-focus-monitor-default-options"),s_=Qf({passive:!0,capture:!0});let fh=(()=>{class n{constructor(e,i,r,s,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new kt.x,this._rootNodeFocusAndBlurListener=d=>{const p=Uc(d),_="focus"===d.type?this._onFocus:this._onBlur;for(let b=p;b;b=b.parentElement)_.call(this,d,b)},this._document=s,this._detectionMode=(null==c?void 0:c.detectionMode)||0}monitor(e,i=!1){const r=Ha(e);if(!this._platform.isBrowser||1!==r.nodeType)return lt(null);const s=function fb(n){if(function JA(){if(null==Um){const n="undefined"!=typeof document?document.head:null;Um=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Um}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new kt.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=Ha(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Ha(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,p])=>this._originChanged(d,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Uc(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,s_),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,s_)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Kn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,s_),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,s_),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(os),o.LFG(VM),o.LFG(Y,8),o.LFG(BT,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ab="cdk-high-contrast-black-on-white",jM="cdk-high-contrast-white-on-black",VT="cdk-high-contrast-active";let JF=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(VT),e.remove(Ab),e.remove(jM),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(VT),e.add(Ab)):2===i&&(e.add(VT),e.add(jM))}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(os),o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class zM{}const Hc="*";function ph(n,t){return{type:7,name:n,definitions:t,options:{}}}function eo(n,t=null){return{type:4,styles:t,timings:n}}function GM(n,t=null){return{type:3,steps:n,options:t}}function Mb(n,t=null){return{type:2,steps:n,options:t}}function Ni(n){return{type:6,styles:n,offset:null}}function ta(n,t,e){return{type:0,name:n,styles:t,options:e}}function ja(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function o_(n=null){return{type:9,options:n}}function a_(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function HT(n){Promise.resolve(null).then(n)}class sp{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){HT(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class l_{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?HT(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const gn=!1;function WM(n){return new o.vHH(3e3,gn)}function uk(){return"undefined"!=typeof window&&void 0!==window.document}function Lb(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Gl(n){switch(n.length){case 0:return new sp;case 1:return n[0];default:return new l_(n)}}function c_(n,t,e,i,r={},s={}){const c=[],d=[];let p=-1,_=null;if(i.forEach(b=>{const T=b.offset,A=T==p,N=A&&_||{};Object.keys(b).forEach(V=>{let ue=V,_e=b[V];if("offset"!==V)switch(ue=t.normalizePropertyName(ue,c),_e){case"!":_e=r[V];break;case Hc:_e=s[V];break;default:_e=t.normalizeStyleValue(V,ue,_e,c)}N[ue]=_e}),A||d.push(N),_=N,p=T}),c.length)throw function WT(n){return new o.vHH(3502,gn)}();return d}function op(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&u_(e,"start",n)));break;case"done":n.onDone(()=>i(e&&u_(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&u_(e,"destroy",n)))}}function u_(n,t,e){const i=e.totalTime,s=Bb(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),c=n._data;return null!=c&&(s._data=c),s}function Bb(n,t,e,i,r="",s=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function Ss(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function Vb(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Ub=(n,t)=>!1,KT=(n,t,e)=>[],dk=null;function QT(n){const t=n.parentNode||n.host;return t===dk?null:t}(Lb()||"undefined"!=typeof Element)&&(uk()?(dk=(()=>document.documentElement)(),Ub=(n,t)=>{for(;t;){if(t===n)return!0;t=QT(t)}return!1}):Ub=(n,t)=>n.contains(t),KT=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let ju=null,JT=!1;function pk(n){ju||(ju=function sL(){return"undefined"!=typeof document?document.body:null}()||{},JT=!!ju.style&&"WebkitAppearance"in ju.style);let t=!0;return ju.style&&!function fk(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in ju.style,!t&&JT&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in ju.style)),t}const gk=Ub,mk=KT;let XT=(()=>{class n{validateStyleProperty(e){return pk(e)}matchesElement(e,i){return!1}containsElement(e,i){return gk(e,i)}getParentElement(e){return QT(e)}query(e,i,r){return mk(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,c,d=[],p){return new sp(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),gh=(()=>{class n{}return n.NOOP=new XT,n})();const $l="ng-enter",ap="ng-leave",mh="ng-trigger",_h=".ng-trigger",nI="ng-animating",lp=".ng-animating";function Wl(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:yh(parseFloat(t[1]),t[2])}function yh(n,t){return"s"===t?1e3*n:n}function Hb(n,t,e){return n.hasOwnProperty("duration")?n:function oL(n,t,e){let r,s=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(WM()),{duration:0,delay:0,easing:""};r=yh(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(s=yh(parseFloat(p),d[4]));const _=d[5];_&&(c=_)}else r=n;if(!e){let d=!1,p=t.length;r<0&&(t.push(function qM(){return new o.vHH(3100,gn)}()),d=!0),s<0&&(t.push(function ZM(){return new o.vHH(3101,gn)}()),d=!0),d&&t.splice(p,0,WM())}return{duration:r,delay:s,easing:c}}(n,t,e)}function cp(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function ql(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else cp(n,e);return e}function iI(n,t,e){return e?t+":"+e+";":""}function rI(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=iI(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=iI(0,lI(e),n.style[e]));n.setAttribute("style",t)}function za(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=aI(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),Lb()&&rI(n))}function zu(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=aI(e);n.style[i]=""}),Lb()&&rI(n))}function vh(n){return Array.isArray(n)?1==n.length?n[0]:Mb(n):n}const d_=new RegExp("{{\\s*(.+?)\\s*}}","g");function oI(n){let t=[];if("string"==typeof n){let e;for(;e=d_.exec(n);)t.push(e[1]);d_.lastIndex=0}return t}function h_(n,t,e){const i=n.toString(),r=i.replace(d_,(s,c)=>{let d=t[c];return t.hasOwnProperty(c)||(e.push(function tL(n){return new o.vHH(3003,gn)}()),d=""),d.toString()});return r==i?n:r}function up(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const jb=/-+([a-z0-9])/g;function aI(n){return n.replace(jb,(...t)=>t[1].toUpperCase())}function lI(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function to(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function KM(n){return new o.vHH(3004,gn)}()}}function bk(n,t){return window.getComputedStyle(n)[t]}function Ck(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function cL(n,t,e){if(":"==n[0]){const p=function uL(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function ik(n){return new o.vHH(3016,gn)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function nk(n){return new o.vHH(3015,gn)}()),t;const r=i[1],s=i[2],c=i[3];t.push(a(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&t.push(a(c,r))}(i,e,t)):e.push(n),e}const Wb=new Set(["true","1"]),qb=new Set(["false","0"]);function a(n,t){const e=Wb.has(n)||qb.has(n),i=Wb.has(t)||qb.has(t);return(r,s)=>{let c="*"==n||n==r,d="*"==t||t==s;return!c&&e&&"boolean"==typeof r&&(c=r?Wb.has(n):qb.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?Wb.has(t):qb.has(t)),c&&d}}const l=":self",u=new RegExp(`s*${l}s*,?`,"g");function h(n,t,e,i){return new g(n).build(t,e,i)}class g{constructor(t){this._driver=t}build(t,e,i){const r=new I(e);this._resetContextStyleTimingState(r);const s=to(this,vh(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function QM(){return new o.vHH(3006,gn)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const p=d,_=p.name;_.toString().split(/\s*,\s*/).forEach(b=>{p.name=b,s.push(this.visitState(p,e))}),p.name=_}else if(1==d.type){const p=this.visitTransition(d,e);i+=p.queryCount,r+=p.depCount,c.push(p)}else e.errors.push(function na(){return new o.vHH(3007,gn)}())}),{type:7,name:t.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(d=>{if(O(d)){const p=d;Object.keys(p).forEach(_=>{oI(p[_]).forEach(b=>{c.hasOwnProperty(b)||s.add(b)})})}}),s.size&&(up(s.values()),e.errors.push(function JM(n,t){return new o.vHH(3008,gn)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=to(this,vh(t.animation),e);return{type:1,matchers:Ck(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:ne(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>to(this,i,e)),options:ne(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(c=>{e.currentTime=i;const d=to(this,c,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:s,options:ne(t.options)}}visitAnimate(t,e){const i=function z(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return pe(Hb(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=pe(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Hb(e,t);return pe(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Ni({});if(5==s.type)r=this.visitKeyframes(s,e);else{let c=t.styles,d=!1;if(!c){d=!0;const _={};i.easing&&(_.easing=i.easing),c=Ni(_)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,e);p.isEmptyStep=d,r=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(c=>{"string"==typeof c?c==Hc?i.push(c):e.errors.push(function Pb(n){return new o.vHH(3002,gn)}()):i.push(c)}):i.push(t.styles);let r=!1,s=null;return i.forEach(c=>{if(O(c)){const d=c,p=d.easing;if(p&&(s=p,delete d.easing),!r)for(let _ in d)if(d[_].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(d=>{if(!this._driver.validateStyleProperty(d))return delete c[d],void e.unsupportedCSSPropertiesFound.add(d);const p=e.collectedStyles[e.currentQuerySelector],_=p[d];let b=!0;_&&(s!=r&&s>=_.startTime&&r<=_.endTime&&(e.errors.push(function XM(n,t,e,i,r){return new o.vHH(3010,gn)}()),b=!1),s=_.startTime),b&&(p[d]={startTime:s,endTime:r}),e.options&&function sI(n,t,e){const i=t.params||{},r=oI(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function YM(n){return new o.vHH(3001,gn)}())})}(c[d],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Nb(){return new o.vHH(3011,gn)}()),i;let s=0;const c=[];let d=!1,p=!1,_=0;const b=t.steps.map(je=>{const Ke=this._makeStyleAst(je,e);let Qe=null!=Ke.offset?Ke.offset:function x(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(O(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(O(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Ke.styles),et=0;return null!=Qe&&(s++,et=Ke.offset=Qe),p=p||et<0||et>1,d=d||et<_,_=et,c.push(et),Ke});p&&e.errors.push(function jT(){return new o.vHH(3012,gn)}()),d&&e.errors.push(function zT(){return new o.vHH(3200,gn)}());const T=t.steps.length;let A=0;s>0&&s<T?e.errors.push(function ek(){return new o.vHH(3202,gn)}()):0==s&&(A=1/(T-1));const N=T-1,V=e.currentTime,ue=e.currentAnimateTimings,_e=ue.duration;return b.forEach((je,Ke)=>{const Qe=A>0?Ke==N?1:A*Ke:c[Ke],et=Qe*_e;e.currentTime=V+ue.delay+et,ue.duration=et,this._validateStyleAst(je,e),je.offset=Qe,i.styles.push(je)}),i}visitReference(t,e){return{type:8,animation:to(this,vh(t.animation),e),options:ne(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:ne(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:ne(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,c]=function v(n){const t=!!n.split(/\s*,\s*/).find(e=>e==l);return t&&(n=n.replace(u,"")),n=n.replace(/@\*/g,_h).replace(/@\w+/g,e=>_h+"-"+e.substr(1)).replace(/:animating/g,lp),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Ss(e.collectedStyles,e.currentQuerySelector,{});const d=to(this,vh(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:t.selector,options:ne(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function GT(){return new o.vHH(3013,gn)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Hb(t.timings,e.errors,!0);return{type:12,animation:to(this,vh(t.animation),e),timings:i,options:null}}}class I{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function O(n){return!Array.isArray(n)&&"object"==typeof n}function ne(n){return n?(n=cp(n)).params&&(n.params=function C(n){return n?cp(n):null}(n.params)):n={},n}function pe(n,t,e){return{duration:n,delay:t,easing:e}}function xe(n,t,e,i,r,s,c=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:d}}class We{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Ve=new RegExp(":enter","g"),an=new RegExp(":leave","g");function Tn(n,t,e,i,r,s={},c={},d,p,_=[]){return(new no).buildKeyframes(n,t,e,i,r,s,c,d,p,_)}class no{buildKeyframes(t,e,i,r,s,c,d,p,_,b=[]){_=_||new We;const T=new dp(t,e,_,r,s,b,[]);T.options=p,T.currentTimeline.setStyles([c],null,T.errors,p),to(this,i,T);const A=T.timelines.filter(N=>N.containsAnimation());if(Object.keys(d).length){let N;for(let V=A.length-1;V>=0;V--){const ue=A[V];if(ue.element===e){N=ue;break}}N&&!N.allowOnlyTimelineStyles()&&N.setStyles([d],null,T.errors,p)}return A.length?A.map(N=>N.buildKeyframes()):[xe(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const c=null!=i.duration?Wl(i.duration):null,d=null!=i.delay?Wl(i.delay):null;return 0!==c&&t.forEach(p=>{const _=e.appendInstructionToTimeline(p,c,d);s=Math.max(s,_.duration+_.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),to(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ga);const c=Wl(s.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>to(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Wl(t.options.delay):0;t.steps.forEach(c=>{const d=e.createSubContext(t.options);s&&d.delayNextStep(s),to(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Hb(e.params?h_(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(p=>{d.forwardTime((p.offset||0)*s),d.setStyles(p.styles,p.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Wl(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ga);let c=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let p=null;d.forEach((_,b)=>{e.currentQueryIndex=b;const T=e.createSubContext(t.options,_);s&&T.delayNextStep(s),_===e.element&&(p=T.currentTimeline),to(this,t.animation,T),T.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,T.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,c=Math.abs(s.duration),d=c*(e.currentQueryTotal-1);let p=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime}const b=e.currentTimeline;p&&b.delayNextStep(p);const T=b.currentTime;to(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-T+(r.startTime-i.currentTimeline.startTime)}}const Ga={};class dp{constructor(t,e,i,r,s,c,d,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ga,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new bh(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Wl(i.duration)),null!=i.delay&&(r.delay=Wl(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!e||!c.hasOwnProperty(d))&&(c[d]=h_(s[d],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new dp(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Ga,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},s=new Zb(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,c){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(Ve,"."+this._enterClassName)).replace(an,"."+this._leaveClassName);let _=this._driver.query(this.element,t,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),d.push(..._)}return!s&&0==d.length&&c.push(function tk(n){return new o.vHH(3014,gn)}()),d}}class bh{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new bh(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Hc,this._currentKeyframe[e]=Hc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},c=function Yb(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=Hc})):ql(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(c).forEach(d=>{const p=h_(c[d],s,i);this._pendingStyles[d]=p,this._localTimelineStyles.hasOwnProperty(d)||(this._backFill[d]=this._globalTimelineStyles.hasOwnProperty(d)?this._globalTimelineStyles[d]:Hc),this._updateStyle(d,p)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,p)=>{const _=ql(d,!0);Object.keys(_).forEach(b=>{const T=_[b];"!"==T?t.add(b):T==Hc&&e.add(b)}),i||(_.offset=p/this.duration),r.push(_)});const s=t.size?up(t.values()):[],c=e.size?up(e.values()):[];if(i){const d=r[0],p=cp(d);d.offset=0,p.offset=1,r=[d,p]}return xe(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class Zb extends bh{constructor(t,e,i,r,s,c,d=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],c=i+e,d=e/c,p=ql(t[0],!1);p.offset=0,s.push(p);const _=ql(t[0],!1);_.offset=p_(d),s.push(_);const b=t.length-1;for(let T=1;T<=b;T++){let A=ql(t[T],!1);A.offset=p_((e+A.offset*i)/c),s.push(A)}i=c,e=0,r="",t=s}return xe(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function p_(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class hp{}class Kb extends hp{normalizePropertyName(t,e){return aI(t)}normalizeStyleValue(t,e,i,r){let s="";const c=i.toString().trim();if(s$[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function Ob(n,t){return new o.vHH(3005,gn)}())}return c+s}}const s$=(()=>function o$(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function dL(n,t,e,i,r,s,c,d,p,_,b,T,A){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:c,timelines:d,queriedElements:p,preStyleProps:_,postStyleProps:b,totalTime:T,errors:A}}const Ek={};class hL{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function a$(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],c=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):c}build(t,e,i,r,s,c,d,p,_,b){const T=[],A=this.ast.options&&this.ast.options.params||Ek,V=this.buildStyles(i,d&&d.params||Ek,T),ue=p&&p.params||Ek,_e=this.buildStyles(r,ue,T),je=new Set,Ke=new Map,Qe=new Map,et="void"===r,Vt={params:Object.assign(Object.assign({},A),ue)},Bt=b?[]:Tn(t,e,this.ast.animation,s,c,V,_e,Vt,_,T);let xn=0;if(Bt.forEach(la=>{xn=Math.max(la.duration+la.delay,xn)}),T.length)return dL(e,this._triggerName,i,r,et,V,_e,[],[],Ke,Qe,xn,T);Bt.forEach(la=>{const td=la.element,PG=Ss(Ke,td,{});la.preStyleProps.forEach(ng=>PG[ng]=!0);const U0=Ss(Qe,td,{});la.postStyleProps.forEach(ng=>U0[ng]=!0),td!==e&&je.add(td)});const ir=up(je.values());return dL(e,this._triggerName,i,r,et,V,_e,Bt,ir,Ke,Qe,xn)}}class l${constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=cp(this.defaultParams);return Object.keys(t).forEach(s=>{const c=t[s];null!=c&&(r[s]=c)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const c=s;Object.keys(c).forEach(d=>{let p=c[d];p.length>1&&(p=h_(p,r,e));const _=this.normalizer.normalizePropertyName(d,e);p=this.normalizer.normalizeStyleValue(d,_,p,e),i[_]=p})}}),i}}class u${constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new l$(r.style,r.options&&r.options.params||{},i)}),fL(this.states,"true","1"),fL(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new hL(t,r,this.states))}),this.fallbackTransition=function d$(n,t,e){return new hL(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function fL(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const h$=new We;class f${constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=h(this._driver,e,i,[]);if(i.length)throw function rk(n){return new o.vHH(3503,gn)}();this._animations[t]=s}_buildPlayer(t,e,i){const r=t.element,s=c_(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let c;const d=new Map;if(s?(c=Tn(this._driver,e,s,$l,ap,{},{},i,h$,r),c.forEach(b=>{const T=Ss(d,b.element,{});b.postStyleProps.forEach(A=>T[A]=null)})):(r.push(function iL(){return new o.vHH(3300,gn)}()),c=[]),r.length)throw function sk(n){return new o.vHH(3504,gn)}();d.forEach((b,T)=>{Object.keys(b).forEach(A=>{b[A]=this._driver.computeStyle(T,A,Hc)})});const _=Gl(c.map(b=>{const T=d.get(b.element);return this._buildPlayer(b,{},T)}));return this._playersById[t]=_,_.onDestroy(()=>this.destroy(t)),this.players.push(_),_}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function ok(n){return new o.vHH(3301,gn)}();return e}listen(t,e,i,r){const s=Bb(e,"","","");return op(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const pL="ng-animate-queued",Tk="ng-animate-disabled",y$=[],gL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},v$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$a="__ng_removed";class Ik{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function E$(n){return null!=n?n:null}(i?t.value:t),i){const s=cp(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Qb="void",Dk=new Ik(Qb);class b${constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Wa(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function ak(n,t){return new o.vHH(3302,gn)}();if(null==i||0==i.length)throw function qT(n){return new o.vHH(3303,gn)}();if(!function T$(n){return"start"==n||"done"==n}(i))throw function lk(n,t){return new o.vHH(3400,gn)}();const s=Ss(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};s.push(c);const d=Ss(this._engine.statesByElement,t,{});return d.hasOwnProperty(e)||(Wa(t,mh),Wa(t,mh+"-"+e),d[e]=Dk),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers[e]||delete d[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function ck(n){return new o.vHH(3401,gn)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),c=new Sk(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(Wa(t,mh),Wa(t,mh+"-"+e),this._engine.statesByElement.set(t,d={}));let p=d[e];const _=new Ik(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),d[e]=_,p||(p=Dk),_.value!==Qb&&p.value===_.value){if(!function S$(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(p.params,_.params)){const ue=[],_e=s.matchStyles(p.value,p.params,ue),je=s.matchStyles(_.value,_.params,ue);ue.length?this._engine.reportError(ue):this._engine.afterFlush(()=>{zu(t,_e),za(t,je)})}return}const A=Ss(this._engine.playersByElement,t,[]);A.forEach(ue=>{ue.namespaceId==this.id&&ue.triggerName==e&&ue.queued&&ue.destroy()});let N=s.matchTransition(p.value,_.value,t,_.params),V=!1;if(!N){if(!r)return;N=s.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:N,fromState:p,toState:_,player:c,isFallbackTransition:V}),V||(Wa(t,pL),c.onStart(()=>{g_(t,pL)})),c.onDone(()=>{let ue=this.players.indexOf(c);ue>=0&&this.players.splice(ue,1);const _e=this._engine.playersByElement.get(t);if(_e){let je=_e.indexOf(c);je>=0&&_e.splice(je,1)}}),this.players.push(c),A.push(c),c}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,_h,!0);i.forEach(r=>{if(r[$a])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),c=new Map;if(s){const d=[];if(Object.keys(s).forEach(p=>{if(c.set(p,s[p].value),this._triggers[p]){const _=this.trigger(t,p,Qb,r);_&&d.push(_)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&Gl(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers[c].fallbackTransition,_=i[c]||Dk,b=new Ik(Qb),T=new Sk(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:p,fromState:_,toState:b,player:T,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[$a];(!s||s===gL)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Wa(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==i.triggerName){const p=Bb(s,i.triggerName,i.fromState.value,i.toState.value);p._data=t,op(i.player,d.phase,p,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class w${constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new b$(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let c=!1;if(void 0!==this.driver.getParentElement){let d=this.driver.getParentElement(e);for(;d;){const p=r.get(d);if(p){const _=i.indexOf(p);i.splice(_+1,0,t),c=!0;break}d=this.driver.getParentElement(d)}}else for(let d=s;d>=0;d--)if(this.driver.containsElement(i[d].hostElement,e)){i.splice(d+1,0,t),c=!0;break}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const c=i[r[s]].namespaceId;if(c){const d=this._fetchNamespace(c);d&&e.add(d)}}}return e}trigger(t,e,i,r){if(dI(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!dI(e))return;const s=e[$a];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Wa(t,Tk)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),g_(t,Tk))}removeNode(t,e,i,r){if(dI(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[$a]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return dI(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,_h,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,lp,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Gl(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[$a];if(i&&i.setForRemoval){if(t[$a]=gL,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Tk))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Wa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Gl(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function rL(n){return new o.vHH(3402,gn)}()}_flushAnimations(t,e){const i=new We,r=[],s=new Map,c=[],d=new Map,p=new Map,_=new Map,b=new Set;this.disabledNodes.forEach(bt=>{b.add(bt);const Mt=this.driver.query(bt,".ng-animate-queued",!0);for(let Nt=0;Nt<Mt.length;Nt++)b.add(Mt[Nt])});const T=this.bodyNode,A=Array.from(this.statesByElement.keys()),N=yL(A,this.collectedEnterElements),V=new Map;let ue=0;N.forEach((bt,Mt)=>{const Nt=$l+ue++;V.set(Mt,Nt),bt.forEach(On=>Wa(On,Nt))});const _e=[],je=new Set,Ke=new Set;for(let bt=0;bt<this.collectedLeaveElements.length;bt++){const Mt=this.collectedLeaveElements[bt],Nt=Mt[$a];Nt&&Nt.setForRemoval&&(_e.push(Mt),je.add(Mt),Nt.hasAnimation?this.driver.query(Mt,".ng-star-inserted",!0).forEach(On=>je.add(On)):Ke.add(Mt))}const Qe=new Map,et=yL(A,Array.from(je));et.forEach((bt,Mt)=>{const Nt=ap+ue++;Qe.set(Mt,Nt),bt.forEach(On=>Wa(On,Nt))}),t.push(()=>{N.forEach((bt,Mt)=>{const Nt=V.get(Mt);bt.forEach(On=>g_(On,Nt))}),et.forEach((bt,Mt)=>{const Nt=Qe.get(Mt);bt.forEach(On=>g_(On,Nt))}),_e.forEach(bt=>{this.processLeaveNode(bt)})});const Vt=[],Bt=[];for(let bt=this._namespaceList.length-1;bt>=0;bt--)this._namespaceList[bt].drainQueuedTransitions(e).forEach(Nt=>{const On=Nt.player,$r=Nt.element;if(Vt.push(On),this.collectedEnterElements.length){const uo=$r[$a];if(uo&&uo.setForMove){if(uo.previousTriggersValues&&uo.previousTriggersValues.has(Nt.triggerName)){const ig=uo.previousTriggersValues.get(Nt.triggerName),Kh=this.statesByElement.get(Nt.element);Kh&&Kh[Nt.triggerName]&&(Kh[Nt.triggerName].value=ig)}return void On.destroy()}}const tu=!T||!this.driver.containsElement(T,$r),ca=Qe.get($r),Yh=V.get($r),Vi=this._buildInstruction(Nt,i,Yh,ca,tu);if(Vi.errors&&Vi.errors.length)return void Bt.push(Vi);if(tu)return On.onStart(()=>zu($r,Vi.fromStyles)),On.onDestroy(()=>za($r,Vi.toStyles)),void r.push(On);if(Nt.isFallbackTransition)return On.onStart(()=>zu($r,Vi.fromStyles)),On.onDestroy(()=>za($r,Vi.toStyles)),void r.push(On);const LG=[];Vi.timelines.forEach(uo=>{uo.stretchStartingKeyframe=!0,this.disabledNodes.has(uo.element)||LG.push(uo)}),Vi.timelines=LG,i.append($r,Vi.timelines),c.push({instruction:Vi,player:On,element:$r}),Vi.queriedElements.forEach(uo=>Ss(d,uo,[]).push(On)),Vi.preStyleProps.forEach((uo,ig)=>{const Kh=Object.keys(uo);if(Kh.length){let rg=p.get(ig);rg||p.set(ig,rg=new Set),Kh.forEach(yN=>rg.add(yN))}}),Vi.postStyleProps.forEach((uo,ig)=>{const Kh=Object.keys(uo);let rg=_.get(ig);rg||_.set(ig,rg=new Set),Kh.forEach(yN=>rg.add(yN))})});if(Bt.length){const bt=[];Bt.forEach(Mt=>{bt.push(function YT(n,t){return new o.vHH(3505,gn)}())}),Vt.forEach(Mt=>Mt.destroy()),this.reportError(bt)}const xn=new Map,ir=new Map;c.forEach(bt=>{const Mt=bt.element;i.has(Mt)&&(ir.set(Mt,Mt),this._beforeAnimationBuild(bt.player.namespaceId,bt.instruction,xn))}),r.forEach(bt=>{const Mt=bt.element;this._getPreviousPlayers(Mt,!1,bt.namespaceId,bt.triggerName,null).forEach(On=>{Ss(xn,Mt,[]).push(On),On.destroy()})});const la=_e.filter(bt=>bL(bt,p,_)),td=new Map;_L(td,this.driver,Ke,_,Hc).forEach(bt=>{bL(bt,p,_)&&la.push(bt)});const U0=new Map;N.forEach((bt,Mt)=>{_L(U0,this.driver,new Set(bt),p,"!")}),la.forEach(bt=>{const Mt=td.get(bt),Nt=U0.get(bt);td.set(bt,Object.assign(Object.assign({},Mt),Nt))});const ng=[],NG=[],FG={};c.forEach(bt=>{const{element:Mt,player:Nt,instruction:On}=bt;if(i.has(Mt)){if(b.has(Mt))return Nt.onDestroy(()=>za(Mt,On.toStyles)),Nt.disabled=!0,Nt.overrideTotalTime(On.totalTime),void r.push(Nt);let $r=FG;if(ir.size>1){let ca=Mt;const Yh=[];for(;ca=ca.parentNode;){const Vi=ir.get(ca);if(Vi){$r=Vi;break}Yh.push(ca)}Yh.forEach(Vi=>ir.set(Vi,$r))}const tu=this._buildAnimation(Nt.namespaceId,On,xn,s,U0,td);if(Nt.setRealPlayer(tu),$r===FG)ng.push(Nt);else{const ca=this.playersByElement.get($r);ca&&ca.length&&(Nt.parentPlayer=Gl(ca)),r.push(Nt)}}else zu(Mt,On.fromStyles),Nt.onDestroy(()=>za(Mt,On.toStyles)),NG.push(Nt),b.has(Mt)&&r.push(Nt)}),NG.forEach(bt=>{const Mt=s.get(bt.element);if(Mt&&Mt.length){const Nt=Gl(Mt);bt.setRealPlayer(Nt)}}),r.forEach(bt=>{bt.parentPlayer?bt.syncPlayerEvents(bt.parentPlayer):bt.destroy()});for(let bt=0;bt<_e.length;bt++){const Mt=_e[bt],Nt=Mt[$a];if(g_(Mt,ap),Nt&&Nt.hasAnimation)continue;let On=[];if(d.size){let tu=d.get(Mt);tu&&tu.length&&On.push(...tu);let ca=this.driver.query(Mt,lp,!0);for(let Yh=0;Yh<ca.length;Yh++){let Vi=d.get(ca[Yh]);Vi&&Vi.length&&On.push(...Vi)}}const $r=On.filter(tu=>!tu.destroyed);$r.length?I$(this,Mt,$r):this.processLeaveNode(Mt)}return _e.length=0,ng.forEach(bt=>{this.players.push(bt),bt.onDone(()=>{bt.destroy();const Mt=this.players.indexOf(bt);this.players.splice(Mt,1)}),bt.play()}),ng}elementContainsData(t,e){let i=!1;const r=e[$a];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let c=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(c=d)}else{const d=this.playersByElement.get(t);if(d){const p=!s||s==Qb;d.forEach(_=>{_.queued||!p&&_.triggerName!=r||c.push(_)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(t,e,i){const s=e.element,c=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const _=p.element,b=_!==s,T=Ss(i,_,[]);this._getPreviousPlayers(_,b,c,d,e.toState).forEach(N=>{const V=N.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),N.destroy(),T.push(N)})}zu(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,c){const d=e.triggerName,p=e.element,_=[],b=new Set,T=new Set,A=e.timelines.map(V=>{const ue=V.element;b.add(ue);const _e=ue[$a];if(_e&&_e.removedBeforeQueried)return new sp(V.duration,V.delay);const je=ue!==p,Ke=function D$(n){const t=[];return vL(n,t),t}((i.get(ue)||y$).map(xn=>xn.getRealPlayer())).filter(xn=>!!xn.element&&xn.element===ue),Qe=s.get(ue),et=c.get(ue),Vt=c_(0,this._normalizer,0,V.keyframes,Qe,et),Bt=this._buildPlayer(V,Vt,Ke);if(V.subTimeline&&r&&T.add(ue),je){const xn=new Sk(t,d,ue);xn.setRealPlayer(Bt),_.push(xn)}return Bt});_.forEach(V=>{Ss(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function C$(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,V.element,V))}),b.forEach(V=>Wa(V,nI));const N=Gl(A);return N.onDestroy(()=>{b.forEach(V=>g_(V,nI)),za(p,e.toStyles)}),T.forEach(V=>{Ss(r,V,[]).push(N)}),N}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new sp(t.duration,t.delay)}}class Sk{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new sp,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>op(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ss(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function dI(n){return n&&1===n.nodeType}function mL(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function _L(n,t,e,i,r){const s=[];e.forEach(p=>s.push(mL(p)));const c=[];i.forEach((p,_)=>{const b={};p.forEach(T=>{const A=b[T]=t.computeStyle(_,T,r);(!A||0==A.length)&&(_[$a]=v$,c.push(_))}),n.set(_,b)});let d=0;return e.forEach(p=>mL(p,s[d++])),c}function yL(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),s=new Map;function c(d){if(!d)return 1;let p=s.get(d);if(p)return p;const _=d.parentNode;return p=e.has(_)?_:r.has(_)?1:c(_),s.set(d,p),p}return t.forEach(d=>{const p=c(d);1!==p&&e.get(p).push(d)}),e}function Wa(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function g_(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function I$(n,t,e){Gl(e).onDone(()=>n.processLeaveNode(t))}function vL(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof l_?vL(i.players,t):t.push(i)}}function bL(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class hI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new w$(t,e,i),this._timelineEngine=new f$(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const c=t+"-"+r;let d=this._triggerCache[c];if(!d){const p=[],b=h(this._driver,s,p,[]);if(p.length)throw function $T(n,t){return new o.vHH(3404,gn)}();d=function c$(n,t,e){return new u$(n,t,e)}(r,b,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,c]=Vb(i);this._timelineEngine.command(s,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[c,d]=Vb(i);return this._timelineEngine.listen(c,e,d,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let A$=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&za(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(za(this._element,this._initialStyles),this._endStyles&&(za(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(zu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zu(this._element,this._endStyles),this._endStyles=null),za(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function xk(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];M$(r)&&(t=t||{},t[r]=n[r])}return t}function M$(n){return"display"===n||"position"===n}class wL{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:bk(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class k${validateStyleProperty(t){return pk(t)}matchesElement(t,e){return!1}containsElement(t,e){return gk(t,e)}getParentElement(t){return QT(t)}query(t,e,i){return mk(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const _={},b=c.filter(A=>A instanceof wL);(function zb(n,t){return 0===n||0===t})(i,r)&&b.forEach(A=>{let N=A.currentSnapshot;Object.keys(N).forEach(V=>_[V]=N[V])}),e=function vk(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],c=[];if(i.forEach(d=>{s.hasOwnProperty(d)||c.push(d),s[d]=e[d]}),c.length)for(var r=1;r<t.length;r++){let d=t[r];c.forEach(function(p){d[p]=bk(n,p)})}}return t}(t,e=e.map(A=>ql(A,!1)),_);const T=function x$(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=xk(t[0]),t.length>1&&(i=xk(t[t.length-1]))):t&&(e=xk(t)),e||i?new A$(n,e,i):null}(t,e);return new wL(t,e,p,T)}}let R$=(()=>{class n extends zM{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Mb(e):e;return CL(this._renderer,null,i,"register",[r]),new O$(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class O$ extends class XF{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new P$(this._id,t,e||{},this._renderer)}}class P${constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return CL(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function CL(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const EL="@.disabled";let N$=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const d=null==c?void 0:c.parentNode(s);d&&c.removeChild(d,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(s);return b||(b=new TL("",s,this.engine),this._rendererCache.set(s,b)),b}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const p=b=>{Array.isArray(b)?b.forEach(p):this.engine.registerTrigger(c,d,e,b.name,b)};return i.data.animation.forEach(p),new F$(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(hI),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class TL{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==EL?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class F$ extends TL{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==EL?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function L$(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),c="";return"@"!=s.charAt(0)&&([s,c]=function B$(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let V$=(()=>{class n extends hI{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y),o.LFG(gh),o.LFG(hp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const jc=new o.OlP("AnimationModuleType"),IL=[{provide:zM,useClass:R$},{provide:hp,useFactory:function U$(){return new Kb}},{provide:hI,useClass:V$},{provide:o.FYo,useFactory:function H$(n,t,e){return new N$(n,t,e)},deps:[qn,hI,o.R0b]}],DL=[{provide:gh,useFactory:()=>new k$},{provide:jc,useValue:"BrowserAnimations"},...IL],j$=[{provide:gh,useClass:XT},{provide:jc,useValue:"NoopAnimations"},...IL];let z$=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?j$:DL}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:DL,imports:[ac]}),n})();function G$(n,t){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=o.oxw();o.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function $$(n,t){if(1&n&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("(",e.group.label,")")}}const W$=["*"],Z$=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function q$(){return!0}});let Wn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Hm()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(JF),o.LFG(Z$,8),o.LFG(Y))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[jl],jl]}),n})();function pI(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Qn(t)}}}function Jb(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function gI(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Qn(t)}}}function xL(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Cb(e):this.defaultTabIndex}}}function AL(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new kt.x,this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}let Ak=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ML=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Wn],Wn]}),n})();class K${constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const kL={enterDuration:225,exitDuration:150},Mk=Qf({passive:!0}),RL=["mousedown","touchstart"],OL=["mouseup","mouseleave","touchend","touchcancel"];class J${constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ha(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},kL),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function e6(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,p=e-r.top,_=s.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=d-c+"px",b.style.top=p-c+"px",b.style.height=2*c+"px",b.style.width=2*c+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(b),function X$(n){window.getComputedStyle(n).getPropertyValue("opacity")}(b),b.style.transform="scale(1)";const T=new K$(this,b,i);return T.state=0,this._activeRipples.add(T),i.persistent||(this._mostRecentTransientRipple=T),this._runTimeoutOutsideZone(()=>{const A=T===this._mostRecentTransientRipple;T.state=1,!i.persistent&&(!A||!this._isPointerDown)&&T.fadeOut()},_),T}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},kL),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ha(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(RL))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(OL),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=i_(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!r_(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Mk)})})}_removeTriggerEvents(){this._triggerElement&&(RL.forEach(t=>{this._triggerElement.removeEventListener(t,this,Mk)}),this._pointerUpEventsRegistered&&OL.forEach(t=>{this._triggerElement.removeEventListener(t,this,Mk)}))}}const t6=new o.OlP("mat-ripple-global-options");let ew=(()=>{class n{constructor(e,i,r,s,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new J$(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(os),o.Y36(t6,8),o.Y36(jc,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),mI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Wn],Wn]}),n})(),n6=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(jc,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),i6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Wn]]}),n})();const PL=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),NL=new o.OlP("MatOptgroup");let r6=0;class s6{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let o6=(()=>{class n{constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+r6++,this.onSelectionChange=new o.vpe,this._stateChanges=new kt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Qn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Ua(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new s6(this,e))}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),FL=(()=>{class n extends o6{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(PL,8),o.Y36(NL,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),o.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:W$,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,G$,1,2,"mat-pseudo-checkbox",0),o.TgZ(1,"span",1),o.Hsn(2),o.qZA(),o.YNc(3,$$,2,1,"span",2),o._UZ(4,"div",3)),2&e&&(o.Q6J("ngIf",i.multiple),o.xp6(3),o.Q6J("ngIf",i.group&&i.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[n6,Mn,ew],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function LL(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let c=0;c<n+1;c++)i[c].group&&i[c].group===r[s]&&s++;return s}return 0}let BL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[mI,Ci,Wn,i6]]}),n})();const l6=["*",[["mat-toolbar-row"]]],c6=["*","mat-toolbar-row"],u6=Jb(class{constructor(n){this._elementRef=n}});let d6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),h6=(()=>{class n extends u6{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(os),o.Y36(Y))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,d6,5),2&e){let s;o.iGM(s=o.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:c6,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(l6),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),f6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Wn],Wn]}),n})();const p6=["mat-button",""],g6=["*"],_6=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],y6=Jb(pI(gI(class{constructor(n){this._elementRef=n}})));let m_=(()=>{class n extends y6{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of _6)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(fh),o.Y36(jc,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&o.Gf(ew,5),2&e){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:p6,ngContentSelectors:g6,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1)(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[ew],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),VL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[mI,Wn],Wn]}),n})();var UL=M(4408);let kk,v6=1;const _I={};function HL(n){return n in _I&&(delete _I[n],!0)}const b6={setImmediate(n){const t=v6++;return _I[t]=!0,kk||(kk=Promise.resolve()),kk.then(()=>HL(t)&&n()),t},clearImmediate(n){HL(n)}},{setImmediate:w6,clearImmediate:C6}=b6,yI={setImmediate(...n){const{delegate:t}=yI;return((null==t?void 0:t.setImmediate)||w6)(...n)},clearImmediate(n){const{delegate:t}=yI;return((null==t?void 0:t.clearImmediate)||C6)(n)},delegate:void 0};var jL=M(7565);const Rk=new class T6 extends jL.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class E6 extends UL.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=yI.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(yI.clearImmediate(e),t._scheduled=void 0)}});class Ok{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Pk extends Ok{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class vI extends Ok{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class I6 extends Ok{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class Nk{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Pk?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof vI?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof I6?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class D6 extends Nk{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let zL=(()=>{class n extends Nk{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const c=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(Y))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),GL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var S6=M(1144);const x6=["addListener","removeListener"],A6=["addEventListener","removeEventListener"],M6=["on","off"];function Gu(n,t,e,i){if((0,Jr.m)(e)&&(i=e,e=void 0),i)return Gu(n,t,e).pipe(Tu(i));const[r,s]=function O6(n){return(0,Jr.m)(n.addEventListener)&&(0,Jr.m)(n.removeEventListener)}(n)?A6.map(c=>d=>n[c](t,d,e)):function k6(n){return(0,Jr.m)(n.addListener)&&(0,Jr.m)(n.removeListener)}(n)?x6.map($L(n,t)):function R6(n){return(0,Jr.m)(n.on)&&(0,Jr.m)(n.off)}(n)?M6.map($L(n,t)):[];if(!r&&(0,S6.z)(n))return(0,yn.z)(c=>Gu(c,t,e))((0,br.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ai.y(c=>{const d=(...p)=>c.next(1<p.length?p:p[0]);return r(d),()=>s(d)})}function $L(n,t){return e=>i=>n[e](t,i)}const tw={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=tw;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new rs.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=tw;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=tw;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};new class N6 extends jL.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class P6 extends UL.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=tw.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(tw.cancelAnimationFrame(e),t._scheduled=void 0)}});function WL(n,t=ah.P){return function L6(n){return(0,Ht.e)((t,e)=>{let i=!1,r=null,s=null,c=!1;const d=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const _=r;r=null,e.next(_)}c&&e.complete()},p=()=>{s=null,c&&e.complete()};t.subscribe(new Rn.Q(e,_=>{i=!0,r=_,s||(0,br.Xf)(n(_)).subscribe(s=new Rn.Q(e,d,p))},()=>{c=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>YA(n,t))}let Fk=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new kt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ai.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(WL(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):lt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(dn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Ha(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Gu(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(os),o.LFG(Y,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lk=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new kt.x,this._elementScrolled=new ai.y(c=>this.ngZone.runOutsideAngular(()=>Gu(this.elementRef.nativeElement,"scroll").pipe(Kn(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Xf()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Xf()?e.left=e.right:1==Xf()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;hb()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==e?e=c?r:i:"end"==e&&(e=c?i:r),c&&2==Xf()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:c&&1==Xf()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Fk),o.Y36(o.R0b),o.Y36(Hl,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),bI=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new kt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(WL(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(os),o.LFG(o.R0b),o.LFG(Y,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),__=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),qL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[jl,__],jl,__]}),n})();const ZL=hb();class H6{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Pi(-this._previousScrollPosition.left),t.style.top=Pi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ZL&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ZL&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class j6{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class YL{enable(){}disable(){}attach(){}}function Bk(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function KL(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class z6{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Bk(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let G6=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new YL,this.close=c=>new j6(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new H6(this._viewportRuler,this._document),this.reposition=c=>new z6(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fk),o.LFG(bI),o.LFG(o.R0b),o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class wI{constructor(t){if(this.scrollStrategy=new YL,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class $6{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class W6{constructor(t,e,i,r,s,c,d,p,_){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=d,this._location=p,this._outsideClickDispatcher=_,this._backdropElement=null,this._backdropClick=new kt.x,this._attachments=new kt.x,this._detachments=new kt.x,this._locationChanges=rs.w0.EMPTY,this._backdropClickHandler=b=>this._backdropClick.next(b),this._backdropTransitionendHandler=b=>{this._disposeBackdrop(b.target)},this._keydownEvents=new kt.x,this._outsidePointerEvents=new kt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Nn.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Pi(this._config.width),t.height=Pi(this._config.height),t.minWidth=Pi(this._config.minWidth),t.minHeight=Pi(this._config.minHeight),t.maxWidth=Pi(this._config.maxWidth),t.maxHeight=Pi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=Xm(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Kn((0,cr.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Vk=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Hm()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),Hm()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y),o.LFG(os))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QL="cdk-overlay-connected-position-bounding-box",q6=/([A-Za-z%]+)$/;class Z6{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new kt.x,this._resizeSubscription=rs.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(QL),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let c;for(let d of this._preferredPositions){let p=this._getOriginPoint(t,r,d),_=this._getOverlayPoint(p,e,d),b=this._getOverlayFit(_,e,i,d);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(b,_,i)?s.push({position:d,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!c||c.overlayFit.visibleArea<b.visibleArea)&&(c={overlayFit:b,overlayPoint:_,originPoint:p,position:d,overlayRect:e})}if(s.length){let d=null,p=-1;for(const _ of s){const b=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);b>p&&(p=b,d=_)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&fp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(QL),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;r="start"==i.originX?c:d}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=XL(e);let{x:c,y:d}=t,p=this._getOffset(r,"x"),_=this._getOffset(r,"y");p&&(c+=p),_&&(d+=_);let A=0-d,N=d+s.height-i.height,V=this._subtractOverflows(s.width,0-c,c+s.width-i.width),ue=this._subtractOverflows(s.height,A,N),_e=V*ue;return{visibleArea:_e,isCompletelyWithinViewport:s.width*s.height===_e,fitsInViewportVertically:ue===s.height,fitsInViewportHorizontally:V==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,c=JL(this._overlayRef.getConfig().minHeight),d=JL(this._overlayRef.getConfig().minWidth),_=t.fitsInViewportHorizontally||null!=d&&d<=s;return(t.fitsInViewportVertically||null!=c&&c<=r)&&_}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=XL(e),s=this._viewportRect,c=Math.max(t.x+r.width-s.width,0),d=Math.max(t.y+r.height-s.height,0),p=Math.max(s.top-i.top-t.y,0),_=Math.max(s.left-i.left-t.x,0);let b=0,T=0;return b=r.width<=s.width?_||-c:t.x<this._viewportMargin?s.left-i.left-t.x:0,T=r.height<=s.height?p||-d:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:b,y:T},{x:t.x+b,y:t.y+T}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new $6(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,c,d,b,T,A;if("top"===e.overlayY)c=t.y,s=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const N=Math.min(i.bottom-t.y+i.top,t.y),V=this._lastBoundingBoxSize.height;s=2*N,c=t.y-N,s>V&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-V/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)A=i.width-t.x+this._viewportMargin,b=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)T=t.x,b=i.right-t.x;else{const N=Math.min(i.right-t.x+i.left,t.x),V=this._lastBoundingBoxSize.width;b=2*N,T=t.x-N,b>V&&!this._isInitialRender&&!this._growAfterOpen&&(T=t.x-V/2)}return{top:c,left:T,bottom:d,right:A,width:b,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=Pi(i.height),r.top=Pi(i.top),r.bottom=Pi(i.bottom),r.width=Pi(i.width),r.left=Pi(i.left),r.right=Pi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Pi(s)),c&&(r.maxWidth=Pi(c))}this._lastBoundingBoxSize=i,fp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){fp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){fp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();fp(i,this._getExactOverlayY(e,t,b)),fp(i,this._getExactOverlayX(e,t,b))}else i.position="static";let d="",p=this._getOffset(e,"x"),_=this._getOffset(e,"y");p&&(d+=`translateX(${p}px) `),_&&(d+=`translateY(${_}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=Pi(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=Pi(c.maxWidth):s&&(i.maxWidth="")),fp(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Pi(s.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Pi(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:KL(t,i),isOriginOutsideView:Bk(t,i),isOverlayClipped:KL(e,i),isOverlayOutsideView:Bk(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Xm(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function fp(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function JL(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(q6);return e&&"px"!==e?null:parseFloat(t)}return n||null}function XL(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const e2="cdk-global-overlay-wrapper";class Y6{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(e2),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:d}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d);t.position=this._cssPosition,t.marginLeft=p?"0":this._leftOffset,t.marginTop=_?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,p?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(e2),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let K6=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new Y6}flexibleConnectedTo(e){return new Z6(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(bI),o.LFG(Y),o.LFG(os),o.LFG(Vk))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),t2=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q6=(()=>{class n extends t2{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const d=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J6=(()=>{class n extends t2{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Uc(s)},this._clickListener=s=>{const c=Uc(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const b=p[_];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(c)||b.overlayElement.contains(d))break;const T=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(s)):T.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Y),o.LFG(os),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X6=0,wh=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,T,A){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=d,this._ngZone=p,this._document=_,this._directionality=b,this._location=T,this._outsideClickDispatcher=A}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new wI(e);return c.direction=c.direction||this._directionality.value,new W6(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+X6++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new D6(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(G6),o.LFG(Vk),o.LFG(o._Vd),o.LFG(K6),o.LFG(Q6),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(Y),o.LFG(Hl),o.LFG(qe),o.LFG(J6))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const eW=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],n2=new o.OlP("cdk-connected-overlay-scroll-strategy");let r2=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),s2=(()=>{class n{constructor(e,i,r,s,c){this._overlay=e,this._dir=c,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=rs.w0.EMPTY,this._attachSubscription=rs.w0.EMPTY,this._detachSubscription=rs.w0.EMPTY,this._positionSubscription=rs.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new vI(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Qn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Qn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Qn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Qn(e)}get push(){return this._push}set push(e){this._push=Qn(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=eW);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Ua(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new wI({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof r2?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function U6(n,t=!1){return(0,Ht.e)((e,i)=>{let r=0;e.subscribe(new Rn.Q(i,s=>{const c=n(s,r++);(c||t)&&i.next(s),!c&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(wh),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(n2),o.Y36(Hl,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[o.TTD]}),n})();const nW={provide:n2,deps:[wh],useFactory:function tW(n){return()=>n.scrollStrategies.reposition()}};let Uk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[wh,nW],imports:[[jl,GL,qL],qL]}),n})();const iW=["mat-menu-item",""];function rW(n,t){1&n&&(o.O4$(),o.TgZ(0,"svg",2),o._UZ(1,"polygon",3),o.qZA())}const o2=["*"];function sW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",0),o.NdJ("keydown",function(r){return o.CHM(e),o.oxw()._handleKeydown(r)})("click",function(){return o.CHM(e),o.oxw().closed.emit("click")})("@transformMenu.start",function(r){return o.CHM(e),o.oxw()._onAnimationStart(r)})("@transformMenu.done",function(r){return o.CHM(e),o.oxw()._onAnimationDone(r)}),o.TgZ(1,"div",1),o.Hsn(2),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),o.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const CI={transformMenu:ph("transformMenu",[ta("void",Ni({opacity:0,transform:"scale(0.8)"})),ja("void => enter",eo("120ms cubic-bezier(0, 0, 0.2, 1)",Ni({opacity:1,transform:"scale(1)"}))),ja("* => void",eo("100ms 25ms linear",Ni({opacity:0})))]),fadeInItems:ph("fadeInItems",[ta("showing",Ni({opacity:1})),ja("void => *",[Ni({opacity:0}),eo("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},oW=new o.OlP("MatMenuContent"),Hk=new o.OlP("MAT_MENU_PANEL"),aW=gI(pI(class{}));let EI=(()=>{class n extends aW{constructor(e,i,r,s,c){var d;super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=c,this.role="menuitem",this._hovered=new kt.x,this._focused=new kt.x,this._highlighted=!1,this._triggersSubmenu=!1,null===(d=null==s?void 0:s.addItem)||void 0===d||d.call(s,this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e;const i=this._elementRef.nativeElement.cloneNode(!0),r=i.querySelectorAll("mat-icon, .material-icons");for(let s=0;s<r.length;s++)r[s].remove();return(null===(e=i.textContent)||void 0===e?void 0:e.trim())||""}_setHighlighted(e){var i;this._highlighted=e,null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Y),o.Y36(fh),o.Y36(Hk,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(o.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),o.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[o.qOj],attrs:iW,ngContentSelectors:o2,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(o.F$t(),o.Hsn(0),o._UZ(1,"div",0),o.YNc(2,rW,2,0,"svg",1)),2&e&&(o.xp6(1),o.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),o.xp6(1),o.Q6J("ngIf",i._triggersSubmenu))},directives:[ew,Mn],encapsulation:2,changeDetection:0}),n})();const a2=new o.OlP("mat-menu-default-options",{providedIn:"root",factory:function lW(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let cW=0,nw=(()=>{class n{constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new o.n_E,this._tabSubscription=rs.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new kt.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new o.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+cW++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Qn(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Qn(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new OM(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Yn(this._directDescendantItems),En(e=>(0,cr.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{var i;const r=this._keyManager;if("enter"===this._panelAnimationState&&(null===(i=r.activeItem)||void 0===i?void 0:i._hasFocus())){const s=e.toArray(),c=Math.max(0,Math.min(s.length-1,r.activeItemIndex||0));s[c]&&!s[c].disabled?r.setActiveItem(c):r.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Yn(this._directDescendantItems),En(i=>(0,cr.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Ua(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe((0,Nn.q)(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(c=>c.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){var r;const s=this._classList;s["mat-menu-before"]="before"===e,s["mat-menu-after"]="after"===e,s["mat-menu-above"]="above"===i,s["mat-menu-below"]="below"===i,null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Yn(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(a2),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,oW,5),o.Suo(r,EI,5),o.Suo(r,EI,4)),2&e){let s;o.iGM(s=o.CRH())&&(i.lazyContent=s.first),o.iGM(s=o.CRH())&&(i._allItems=s),o.iGM(s=o.CRH())&&(i.items=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(o.Rgc,5),2&e){let r;o.iGM(r=o.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),uW=(()=>{class n extends nw{constructor(e,i,r,s){super(e,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(a2),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&o.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[o._Bn([{provide:Hk,useExisting:n}]),o.qOj],ngContentSelectors:o2,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,sW,3,6,"ng-template"))},directives:[Ar],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::before{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[CI.transformMenu,CI.fadeInItems]},changeDetection:0}),n})();const l2=new o.OlP("mat-menu-scroll-strategy"),hW={provide:l2,deps:[wh],useFactory:function dW(n){return()=>n.scrollStrategies.reposition()}},u2=Qf({passive:!0});let fW=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=d,this._dir=p,this._focusMonitor=_,this._ngZone=b,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=rs.w0.EMPTY,this._hoverSubscription=rs.w0.EMPTY,this._menuCloseSubscription=rs.w0.EMPTY,this._handleTouchStart=T=>{r_(T)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new o.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new o.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=c instanceof nw?c:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,u2),d&&(d._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,u2),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),i=e.getConfig(),r=i.positionStrategy;this._setPosition(r),i.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof nw&&(this.menu._startAnimation(),this.menu._directDescendantItems.changes.pipe(Kn(this.menu.close)).subscribe(()=>{r.withLockedPosition(!1).reapplyLastPosition(),r.withLockedPosition(!0)}))}closeMenu(){this.menu.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){var e;null===(e=this._overlayRef)||void 0===e||e.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof nw?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(dn(r=>"void"===r.toState),(0,Nn.q)(1),Kn(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i.lazyContent&&i.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,i=this.menu.parentMenu;for(;i;)e++,i=i.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new wI({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(i=>{const r="start"===i.connectionPair.overlayX?"after":"before",s="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>this.menu.setPositionClasses(r,s)):this.menu.setPositionClasses(r,s)})}_setPosition(e){let[i,r]="before"===this.menu.xPosition?["end","start"]:["start","end"],[s,c]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[d,p]=[s,c],[_,b]=[i,r],T=0;this.triggersSubmenu()?(b=i="before"===this.menu.xPosition?"start":"end",r=_="end"===i?"start":"end",T="bottom"===s?8:-8):this.menu.overlapTrigger||(d="top"===s?"bottom":"top",p="top"===c?"bottom":"top"),e.withPositions([{originX:i,originY:d,overlayX:_,overlayY:s,offsetY:T},{originX:r,originY:d,overlayX:b,overlayY:s,offsetY:T},{originX:i,originY:p,overlayX:_,overlayY:c,offsetY:-T},{originX:r,originY:p,overlayX:b,overlayY:c,offsetY:-T}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:lt(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(dn(c=>c!==this._menuItemInstance),dn(()=>this._menuOpen)):lt();return(0,cr.T)(e,r,s,i)}_handleMousedown(e){i_(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(dn(e=>e===this._menuItemInstance&&!e.disabled),rT(0,Rk)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof nw&&this.menu._isAnimating?this.menu._animationDone.pipe((0,Nn.q)(1),rT(0,Rk),Kn(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new vI(this.menu.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(wh),o.Y36(o.SBq),o.Y36(o.s_b),o.Y36(l2),o.Y36(Hk,8),o.Y36(EI,10),o.Y36(Hl,8),o.Y36(fh),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&e&&o.uIk("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),pW=(()=>{class n extends fW{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[o.qOj]}),n})(),d2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[hW],imports:[[Ci,Wn,mI,Uk],__,Wn]}),n})();const gW=["*"];let TI;function iw(n){var t;return(null===(t=function mW(){if(void 0===TI&&(TI=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(TI=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return TI}())||void 0===t?void 0:t.createHTML(n))||n}function h2(n){return Error(`Unable to find icon with the name "${n}"`)}function f2(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function p2(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class pp{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let II=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new pp(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const c=this._sanitizer.sanitize(o.q3G.HTML,r);if(!c)throw p2(r);const d=iw(c);return this._addSvgIconConfig(e,i,new pp("",d,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new pp(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw p2(i);const c=iw(s);return this._addSvgIconSetConfig(e,new pp("",c,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!i)throw f2(e);const r=this._cachedIconsByUrl.get(i);return r?lt(DI(r)):this._loadSvgIconFromConfig(new pp(e,null)).pipe((0,Er.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,pt.U)(s=>DI(s)))}getNamedSvgIcon(e,i=""){const r=g2(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(e,c):Iu(h2(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?lt(DI(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,pt.U)(i=>DI(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?lt(r):_v(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(Sa(d=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(_)),lt(null)})))).pipe((0,pt.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,i);if(!c)throw h2(e);return c}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(c,e,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Er.b)(i=>e.svgText=i),(0,pt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?lt(null):this._fetchIcon(e).pipe((0,Er.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString(iw("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(iw("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:c,value:d}=r[s];"id"!==c&&i.setAttribute(c,d)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:s}=e,c=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function _W(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const d=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,r);if(!d)throw f2(r);const p=this._inProgressUrlFetches.get(d);if(p)return p;const _=this._httpClient.get(d,{responseType:"text",withCredentials:c}).pipe((0,pt.U)(b=>iw(b)),My(()=>this._inProgressUrlFetches.delete(d)),(0,dc.B)());return this._inProgressUrlFetches.set(d,_),_}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(g2(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return vW(s)?new pp(s.url,null,s.options):new pp(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Xs,8),o.LFG(lr),o.LFG(Y,8),o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DI(n){return n.cloneNode(!0)}function g2(n,t){return n+":"+t}function vW(n){return!(!n.url||!n.options)}const bW=Jb(class{constructor(n){this._elementRef=n}}),wW=new o.OlP("mat-icon-location",{providedIn:"root",factory:function CW(){const n=(0,o.f3M)(Y),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),m2=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],EW=m2.map(n=>`[${n}]`).join(", "),TW=/^url\(['"]?#(.*?)['"]?\)$/;let y_=(()=>{class n extends bW{constructor(e,i,r,s,c){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._currentIconFetch=rs.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Qn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(EW),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)m2.forEach(c=>{const d=i[s],p=d.getAttribute(c),_=p?p.match(TW):null;if(_){let b=r.get(d);b||(b=[],r.set(d,b)),b.push({name:c,value:_[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Nn.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(II),o.$8M("aria-hidden"),o.Y36(wW),o.Y36(o.qLn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),o.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:gW,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),_2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Wn],Wn]}),n})();const y2=["*"],IW=["content"];function DW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(e),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function SW(n,t){1&n&&(o.TgZ(0,"mat-drawer-content"),o.Hsn(1,2),o.qZA())}const xW=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],AW=["mat-drawer","mat-drawer-content","*"],MW={transformDrawer:ph("transform",[ta("open, open-instant",Ni({transform:"none",visibility:"visible"})),ta("void",Ni({"box-shadow":"none",visibility:"hidden"})),ja("void => open-instant",eo("0ms")),ja("void <=> open, open-instant => void",eo("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},kW=new o.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function RW(){return!1}}),v2=new o.OlP("MAT_DRAWER_CONTAINER");let jk=(()=>{class n extends Lk{constructor(e,i,r,s,c){super(r,s,c),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>b_)),o.Y36(o.SBq),o.Y36(Fk),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&o.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[o._Bn([{provide:Lk,useExisting:n}]),o.qOj],ngContentSelectors:y2,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),v_=(()=>{class n{constructor(e,i,r,s,c,d,p,_){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=c,this._interactivityChecker=d,this._doc=p,this._container=_,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new kt.x,this._animationEnd=new kt.x,this._animationState="void",this.openedChange=new o.vpe(!0),this._openedStream=this.openedChange.pipe(dn(b=>b),(0,pt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(dn(b=>b.fromState!==b.toState&&0===b.toState.indexOf("open")),lb(void 0)),this._closedStream=this.openedChange.pipe(dn(b=>!b),(0,pt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(dn(b=>b.fromState!==b.toState&&"void"===b.toState),lb(void 0)),this._destroyed=new kt.x,this.onPositionChanged=new o.vpe,this._modeChanged=new kt.x,this.openedChange.subscribe(b=>{b?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Gu(this._elementRef.nativeElement,"keydown").pipe(dn(b=>27===b.keyCode&&!this.disableClose&&!Ua(b)),Kn(this._destroyed)).subscribe(b=>this._ngZone.run(()=>{this.close(),b.stopPropagation(),b.preventDefault()}))}),this._animationEnd.pipe(dh((b,T)=>b.fromState===T.fromState&&b.toState===T.toState)).subscribe(b=>{const{fromState:T,toState:A}=b;(0===A.indexOf("open")&&"void"===T||"void"===A&&0===T.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Qn(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Qn(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Qn(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var e;this._focusTrap&&this._focusTrap.destroy(),null===(e=this._anchor)||void 0===e||e.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe((0,Nn.q)(1)).subscribe(c=>s(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Sb),o.Y36(fh),o.Y36(os),o.Y36(o.R0b),o.Y36(Ib),o.Y36(Y,8),o.Y36(v2,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&o.Gf(IW,5),2&e){let r;o.iGM(r=o.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&o.WFA("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&e&&(o.uIk("align",null),o.d8E("@transform",i._animationState),o.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:y2,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA())},directives:[Lk],encapsulation:2,data:{animation:[MW.transformDrawer]},changeDetection:0}),n})(),b_=(()=>{class n{constructor(e,i,r,s,c,d=!1,p){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=p,this._drawers=new o.n_E,this.backdropClick=new o.vpe,this._destroyed=new kt.x,this._doCheckSubject=new kt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new kt.x,e&&e.change.pipe(Kn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(Kn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=d}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Qn(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Qn(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Yn(this._allDrawers),Kn(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Yn(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Uu(10),Kn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(dn(i=>i.fromState!==i.toState),Kn(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Kn(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Kn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Nn.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Kn((0,cr.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Hl,8),o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(bI),o.Y36(kW),o.Y36(jc,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,jk,5),o.Suo(r,v_,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._content=s.first),o.iGM(s=o.CRH())&&(i._allDrawers=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(jk,5),2&e){let r;o.iGM(r=o.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o._Bn([{provide:v2,useExisting:n}])],ngContentSelectors:AW,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(o.F$t(xW),o.YNc(0,DW,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,SW,2,0,"mat-drawer-content",1)),2&e&&(o.Q6J("ngIf",i.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!i._content))},directives:[jk,Mn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),b2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ci,Wn,__],__,Wn]}),n})();M(5881);var w2=M(3942);const C2="@firebase/database";let zk="";function T2(n){zk=n}class NW{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,H.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,H.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class FW{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,H.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const I2=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new NW(t)}}catch(t){}return new FW},gp=I2("localStorage"),Gk=I2("sessionStorage"),w_=new wo.Yd("@firebase/database"),D2=function(){let n=1;return function(){return n++}}(),S2=function(n){const t=(0,H.dS)(n),e=new H.gQ;e.update(t);const i=e.digest();return H.US.encodeByteArray(i)},rw=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=rw.apply(null,i):t+="object"==typeof i?(0,H.Pz)(i):i,t+=" "}return t};let mp=null,x2=!0;const A2=function(n,t){(0,H.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(w_.logLevel=wo.in.VERBOSE,mp=w_.log.bind(w_),t&&Gk.set("logging_enabled",!0)):"function"==typeof n?mp=n:(mp=null,Gk.remove("logging_enabled"))},Lr=function(...n){if(!0===x2&&(x2=!1,null===mp&&!0===Gk.get("logging_enabled")&&A2(!0)),mp){const t=rw.apply(null,n);mp(t)}},sw=function(n){return function(...t){Lr(n,...t)}},$k=function(...n){const t="FIREBASE INTERNAL ERROR: "+rw(...n);w_.error(t)},zc=function(...n){const t=`FIREBASE FATAL ERROR: ${rw(...n)}`;throw w_.error(t),new Error(t)},xs=function(...n){const t="FIREBASE WARNING: "+rw(...n);w_.warn(t)},SI=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},$u="[MIN_NAME]",Gc="[MAX_NAME]",_p=function(n,t){if(n===t)return 0;if(n===$u||t===Gc)return-1;if(t===$u||n===Gc)return 1;{const e=xI(n),i=xI(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},VW=function(n,t){return n===t?0:n<t?-1:1},ow=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,H.Pz)(t))},Wk=function(n){if("object"!=typeof n||null===n)return(0,H.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,H.Pz)(t[i]),e+=":",e+=Wk(n[t[i]]);return e+="}",e},M2=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Br(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const k2=function(n){(0,H.hu)(!SI(n),"Invalid JSON number");const i=1023;let r,s,c,d,p;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(r?1:0),_.reverse();const b=_.join("");let T="";for(p=0;p<64;p+=8){let A=parseInt(b.substr(p,8),2).toString(16);1===A.length&&(A="0"+A),T+=A}return T.toLowerCase()},zW=new RegExp("^-?(0*)\\d{1,10}$"),R2=-2147483648,qk=2147483647,xI=function(n){if(zW.test(n)){const t=Number(n);if(t>=R2&&t<=qk)return t}return null},C_=function(n){try{n()}catch(t){setTimeout(()=>{throw xs("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},aw=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class $W{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){xs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class WW{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Lr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xs(t)}}let lw=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const L2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,U2="websocket",H2="long_polling";class Yk{constructor(t,e,i,r,s=!1,c="",d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gp.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&gp.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function j2(n,t,e){let i;if((0,H.hu)("string"==typeof t,"typeof type must == string"),(0,H.hu)("object"==typeof e,"typeof params must == object"),t===U2)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==H2)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function qW(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Br(e,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class ZW{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,H.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,H.p$)(this.counters_)}}const Kk={},Qk={};function Jk(n){const t=n.toString();return Kk[t]||(Kk[t]=new ZW),Kk[t]}class KW{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&C_(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ch{constructor(t,e,i,r,s,c,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sw(t),this.stats_=Jk(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),j2(e,H2,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new KW(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,H.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xk((...s)=>{const[c,d,p,_,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&L2.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ch.forceAllow_=!0}static forceDisallow(){Ch.forceDisallow_=!0}static isAvailable(){return!((0,H.Yr)()||!Ch.forceAllow_&&(Ch.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,H.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,H.h$)(e),r=M2(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,H.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,H.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Xk{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,H.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=D2(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Xk.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){Lr("frame writing exception"),d.stack&&Lr(d.stack),Lr(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Lr("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,H.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Lr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let MI=null;"undefined"!=typeof MozWebSocket?MI=MozWebSocket:"undefined"!=typeof WebSocket&&(MI=WebSocket);let E_=(()=>{class n{constructor(e,i,r,s,c,d,p){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sw(this.connId),this.stats_=Jk(i),this.connURL=n.connectionURL_(i,d,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,c){const d={v:"5"};return!(0,H.Yr)()&&"undefined"!=typeof location&&location.hostname&&L2.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),c&&(d.p=c),j2(e,U2,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gp.set("previous_websocket_failure",!0);try{let r;if((0,H.Yr)()){r={headers:{"User-Agent":`Firebase/5/${zk}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new MI(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==MI&&!n.forceDisallow_}static previouslyFailed(){return gp.isInMemoryStorage||!0===gp.get("previous_websocket_failure")}markConnectionHealthy(){gp.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,H.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,H.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,H.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=M2(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Y2=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ch,E_]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=E_&&E_.isAvailable();let r=i&&!E_.previouslyFailed();if(e.webSocketOnly&&(i||xs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[E_];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class nB{constructor(t,e,i,r,s,c,d,p,_,b){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sw("c:"+this.id+":"),this.transportManager_=new Y2(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=aw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=ow("t",t),i=ow("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=ow("t",t),i=ow("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=ow("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?$k("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$k("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&xs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),aw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):aw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gp.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class iB{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class rB{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,H.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,H.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class kI extends rB{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,H.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new kI}getInitialEvent(t){return(0,H.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class zn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Fn(){return new zn("")}function ln(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Eh(n){return n.pieces_.length-n.pieceNum_}function ri(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new zn(n.pieces_,t)}function tR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function cw(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function aB(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new zn(t,0)}function Ii(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof zn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new zn(e,0)}function cn(n){return n.pieceNum_>=n.pieces_.length}function io(n,t){const e=ln(n),i=ln(t);if(null===e)return t;if(e===i)return io(ri(n),ri(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function yq(n,t){const e=cw(n,0),i=cw(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=_p(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function nR(n,t){if(Eh(n)!==Eh(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function qa(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Eh(n)>Eh(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class vq{constructor(t,e){this.errorPrefix_=e,this.parts_=cw(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,H.ug)(this.parts_[i]);lB(this)}}function lB(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+yp(n))}function yp(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class iR extends rB{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new iR}getInitialEvent(t){return(0,H.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const uw=1e3;let OI,vp=(()=>{class n extends iB{constructor(e,i,r,s,c,d,p,_){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=sw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=uw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,H.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");iR.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&kI.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,c={r:s,a:e,b:i};this.log_((0,H.Pz)(c)),(0,H.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new H.BH,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const p=d.d;"ok"===d.s?i.resolve(p):i.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,H.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,H.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,p=>{const _=p.d,b=p.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",p),"ok"!==b&&this.removeListen_(r,s),e.onComplete&&e.onComplete(b,_))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,H.r3)(e,"w")){const r=(0,H.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();xs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,H.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,H.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,d=s.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,H.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const c={p:e};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,H.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):$k("Unrecognized action received from server: "+(0,H.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,H.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=uw,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=uw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=uw),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,tt.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let p=!1,_=null;const b=function(){_?_.close():(p=!0,s())};e.realtime_={close:b,sendRequest:function(N){(0,H.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(N)}};const A=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[N,V]=yield Promise.all([e.authTokenProvider_.getToken(A),e.appCheckTokenProvider_.getToken(A)]);p?Lr("getToken() completed but was canceled"):(Lr("getToken() completed. Creating connection."),e.authToken_=N&&N.accessToken,e.appCheckToken_=V&&V.token,_=new nB(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,ue=>{xs(ue+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(N){e.log_("Failed to get token: "+N),p||(e.repoInfo_.nodeAdmin&&xs(N),b())}}})()}interrupt(e){Lr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Lr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,H.xb)(this.interruptReasons_)&&(this.reconnectDelay_=uw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>Wk(c)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new zn(e).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){Lr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Lr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,H.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+zk.replace(/\./g,"-")]=1,(0,H.uI)()?e["framework.cordova"]=1:(0,H.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=kI.getInstance().currentlyOnline();return(0,H.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class hn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new hn(t,e)}}class RI{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new hn($u,t),r=new hn($u,e);return 0!==this.compare(i,r)}minPost(){return hn.MIN}}class dB extends RI{static get __EMPTY_NODE(){return OI}static set __EMPTY_NODE(t){OI=t}compare(t,e){return _p(t.name,e.name)}isDefinedOn(t){throw(0,H.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return hn.MIN}maxPost(){return new hn(Gc,OI)}makePost(t,e){return(0,H.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new hn(t,OI)}toString(){return".key"}}const $c=new dB;class PI{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(t=t,c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let sR,Zl=(()=>{class n{constructor(e,i,r,s,c){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:Po.EMPTY_NODE,this.right=null!=c?c:Po.EMPTY_NODE}copy(e,i,r,s,c){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=c?c:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const c=r(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Po.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Po.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Po{constructor(t,e=Po.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Po(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Zl.BLACK,null,null))}remove(t){return new Po(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Zl.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new PI(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new PI(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new PI(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new PI(this.root_,null,this.comparator_,!0,t)}}function Sq(n,t){return _p(n.name,t.name)}function rR(n,t){return _p(n,t)}Po.EMPTY_NODE=new class Dq{copy(t,e,i,r,s){return this}insert(t,e,i){return new Zl(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const hB=function(n){return"number"==typeof n?"number:"+k2(n):"string:"+n},fB=function(n){if(n.isLeafNode()){const t=n.val();(0,H.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,H.r3)(t,".sv"),"Priority must be a string or number.")}else(0,H.hu)(n===sR||n.isEmpty(),"priority of unexpected type.");(0,H.hu)(n===sR||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let pB,gB,mB,T_=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,H.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),fB(this.priorityNode_)}static set __childrenNodeConstructor(e){pB=e}static get __childrenNodeConstructor(){return pB}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return cn(e)?this:".priority"===ln(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=ln(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,H.hu)(".priority"!==r||1===Eh(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ri(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+hB(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?k2(this.value_):this.value_,this.lazyHash_=S2(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,H.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,H.hu)(s>=0,"Unknown leaf type: "+i),(0,H.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const di=new class kq extends RI{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?_p(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return hn.MIN}maxPost(){return new hn(Gc,new T_("[PRIORITY-POST]",mB))}makePost(t,e){const i=gB(t);return new hn(e,new T_("[PRIORITY-POST]",i))}toString(){return".priority"}},Rq=Math.log(2);class Oq{constructor(t){this.count=parseInt(Math.log(t+1)/Rq,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const NI=function(n,t,e,i){n.sort(t);const r=function(p,_){const b=_-p;let T,A;if(0===b)return null;if(1===b)return T=n[p],A=e?e(T):T,new Zl(A,T.node,Zl.BLACK,null,null);{const N=parseInt(b/2,10)+p,V=r(p,N),ue=r(N+1,_);return T=n[N],A=e?e(T):T,new Zl(A,T.node,Zl.BLACK,V,ue)}},d=function(p){let _=null,b=null,T=n.length;const A=function(V,ue){const _e=T-V,je=T;T-=V;const Ke=r(_e+1,je),Qe=n[_e],et=e?e(Qe):Qe;N(new Zl(et,Qe.node,ue,null,Ke))},N=function(V){_?(_.left=V,_=V):(b=V,_=V)};for(let V=0;V<p.count;++V){const ue=p.nextBitIsOne(),_e=Math.pow(2,p.count-(V+1));ue?A(_e,Zl.BLACK):(A(_e,Zl.BLACK),A(_e,Zl.RED))}return b}(new Oq(n.length));return new Po(i||t,d)};let oR;const I_={};class Wu{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,H.hu)(I_&&di,"ChildrenNode.ts has not been loaded"),oR=oR||new Wu({".priority":I_},{".priority":di}),oR}get(t){const e=(0,H.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Po?e:null}hasIndex(t){return(0,H.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,H.hu)(t!==$c,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(hn.Wrap);let d,c=s.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=s.getNext();d=r?NI(i,t.getCompare()):I_;const p=t.toString(),_=Object.assign({},this.indexSet_);_[p]=t;const b=Object.assign({},this.indexes_);return b[p]=d,new Wu(b,_)}addToIndexes(t,e){const i=(0,H.UI)(this.indexes_,(r,s)=>{const c=(0,H.DV)(this.indexSet_,s);if((0,H.hu)(c,"Missing index implementation for "+s),r===I_){if(c.isDefinedOn(t.node)){const d=[],p=e.getIterator(hn.Wrap);let _=p.getNext();for(;_;)_.name!==t.name&&d.push(_),_=p.getNext();return d.push(t),NI(d,c.getCompare())}return I_}{const d=e.get(t.name);let p=r;return d&&(p=p.remove(new hn(t.name,d))),p.insert(t,t.node)}});return new Wu(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,H.UI)(this.indexes_,r=>{if(r===I_)return r;{const s=e.get(t.name);return s?r.remove(new hn(t.name,s)):r}});return new Wu(i,this.indexSet_)}}let dw,Kt=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&fB(this.priorityNode_),this.children_.isEmpty()&&(0,H.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return dw||(dw=new n(new Po(rR),null,Wu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||dw}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?dw:i}}getChild(e){const i=ln(e);return null===i?this:this.getImmediateChild(i).getChild(ri(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,H.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new hn(e,i);let s,c;i.isEmpty()?(s=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?dw:this.priorityNode_;return new n(s,d,c)}}updateChild(e,i){const r=ln(e);if(null===r)return i;{(0,H.hu)(".priority"!==ln(e)||1===Eh(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ri(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(di,(d,p)=>{i[d]=p.val(e),r++,c&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):c=!1}),!e&&c&&s<2*r){const d=[];for(const p in i)d[p]=i[p];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+hB(this.getPriority().val())+":"),this.forEachChild(di,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":S2(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new hn(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new hn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new hn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,hn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,hn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)>0;)s.getNext(),c=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===hw?-1:0}withIndex(e){if(e===$c||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===$c||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(di),s=i.getIterator(di);let c=r.getNext(),d=s.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=s.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(e){return e===$c?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const hw=new class Pq extends Kt{constructor(){super(new Po(rR),Kt.EMPTY_NODE,Wu.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Kt.EMPTY_NODE}isEmpty(){return!1}};function Fi(n,t=null){if(null===n)return Kt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,H.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new T_(n,Fi(t));if(n instanceof Array){let e=Kt.EMPTY_NODE;return Br(n,(i,r)=>{if((0,H.r3)(n,i)&&"."!==i.substring(0,1)){const s=Fi(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(Fi(t))}{const e=[];let i=!1;if(Br(n,(c,d)=>{if("."!==c.substring(0,1)){const p=Fi(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),e.push(new hn(c,p)))}}),0===e.length)return Kt.EMPTY_NODE;const s=NI(e,Sq,c=>c.name,rR);if(i){const c=NI(e,di.getCompare());return new Kt(s,Fi(t),new Wu({".priority":c},{".priority":di}))}return new Kt(s,Fi(t),Wu.Default)}}Object.defineProperties(hn,{MIN:{value:new hn($u,Kt.EMPTY_NODE)},MAX:{value:new hn(Gc,hw)}}),dB.__EMPTY_NODE=Kt.EMPTY_NODE,T_.__childrenNodeConstructor=Kt,function xq(n){sR=n}(hw),function Mq(n){mB=n}(hw),function Aq(n){gB=n}(Fi);class aR extends RI{constructor(t){super(),this.indexPath_=t,(0,H.hu)(!cn(t)&&".priority"!==ln(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?_p(t.name,e.name):s}makePost(t,e){const i=Fi(t),r=Kt.EMPTY_NODE.updateChild(this.indexPath_,i);return new hn(e,r)}maxPost(){const t=Kt.EMPTY_NODE.updateChild(this.indexPath_,hw);return new hn(Gc,t)}toString(){return cw(this.indexPath_,0).join("/")}}const lR=new class Fq extends RI{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?_p(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return hn.MIN}maxPost(){return hn.MAX}makePost(t,e){const i=Fi(t);return new hn(e,i)}toString(){return".value"}},D_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Lq=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=D_.charAt(e%64),e=Math.floor(e/64);(0,H.hu)(0===e,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=D_.charAt(t[r]);return(0,H.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),vB=function(n){if(n===""+qk)return"-";const t=xI(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return Gc;const s=D_.charAt(D_.indexOf(e[i])+1);return e[i]=s,e.slice(0,i+1).join("")},bB=function(n){if(n===""+R2)return $u;const t=xI(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+qk:(delete e[e.length-1],e.join("")):(e[e.length-1]=D_.charAt(D_.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function wB(n){return{type:"value",snapshotNode:n}}function S_(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function fw(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function pw(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class uR{constructor(t){this.index_=t}updateChild(t,e,i,r,s,c){(0,H.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(fw(e,d)):(0,H.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(S_(e,i)):c.trackChildChange(pw(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(di,(r,s)=>{e.hasChild(r)||i.trackChildChange(fw(r,s))}),e.isLeafNode()||e.forEachChild(di,(r,s)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(s)||i.trackChildChange(pw(r,s,c))}else i.trackChildChange(S_(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Kt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class gw{constructor(t){this.indexedFilter_=new uR(t.getIndex()),this.index_=t.getIndex(),this.startPost_=gw.getStartPost_(t),this.endPost_=gw.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,s,c){return this.matches(new hn(e,i))||(i=Kt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Kt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Kt.EMPTY_NODE);const s=this;return e.forEachChild(di,(c,d)=>{s.matches(new hn(c,d))||(r=r.updateImmediateChild(c,Kt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Vq{constructor(t){this.rangedFilter_=new gw(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,s,c){return this.rangedFilter_.matches(new hn(e,i))||(i=Kt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,c):this.fullLimitUpdateChild_(t,e,i,s,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Kt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=Kt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const d=s.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let s,c,d,p;if(r=e.withIndex(this.index_),r=r.updatePriority(Kt.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const T=this.index_.getCompare();d=(A,N)=>T(N,A)}else p=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let _=0,b=!1;for(;p.hasNext();){const T=p.getNext();!b&&d(s,T)<=0&&(b=!0),b&&_<this.limit_&&d(T,c)<=0?_++:r=r.updateImmediateChild(T.name,Kt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let c;if(this.reverse_){const T=this.index_.getCompare();c=(A,N)=>T(N,A)}else c=this.index_.getCompare();const d=t;(0,H.hu)(d.numChildren()===this.limit_,"");const p=new hn(e,i),_=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),b=this.rangedFilter_.matches(p);if(d.hasChild(e)){const T=d.getImmediateChild(e);let A=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=A&&(A.name===e||d.hasChild(A.name));)A=r.getChildAfterChild(this.index_,A,this.reverse_);const N=null==A?1:c(A,p);if(b&&!i.isEmpty()&&N>=0)return null!=s&&s.trackChildChange(pw(e,i,T)),d.updateImmediateChild(e,i);{null!=s&&s.trackChildChange(fw(e,T));const ue=d.updateImmediateChild(e,Kt.EMPTY_NODE);return null!=A&&this.rangedFilter_.matches(A)?(null!=s&&s.trackChildChange(S_(A.name,A.node)),ue.updateImmediateChild(A.name,A.node)):ue}}return i.isEmpty()?t:b&&c(_,p)>=0?(null!=s&&(s.trackChildChange(fw(_.name,_.node)),s.trackChildChange(S_(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(_.name,Kt.EMPTY_NODE)):t}}class FI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=di}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$u}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,H.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===di}copy(){const t=new FI;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function dR(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function hR(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function LI(n,t){const e=n.copy();return e.index_=t,e}function CB(n){const t={};if(n.isDefault())return t;let e;return n.index_===di?e="$priority":n.index_===lR?e="$value":n.index_===$c?e="$key":((0,H.hu)(n.index_ instanceof aR,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,H.Pz)(e),n.startSet_&&(t.startAt=(0,H.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,H.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,H.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,H.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function EB(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==di&&(t.i=n.index_.toString()),t}class BI extends iB{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=sw("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,H.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const c=BI.getListenId_(t,i),d={};this.listens_[c]=d;const p=CB(t._queryParams);this.restRequest_(s+".json",p,(_,b)=>{let T=b;if(404===_&&(T=null,_=null),null===_&&this.onDataUpdate_(s,T,!1,i),(0,H.DV)(this.listens_,c)===d){let A;A=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(A,null)}})}unlisten(t,e){const i=BI.getListenId_(t,e);delete this.listens_[i]}get(t){const e=CB(t._queryParams),i=t._path.toString(),r=new H.BH;return this.restRequest_(i+".json",e,(s,c)=>{let d=c;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,H.xO)(e);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=(0,H.cI)(d.responseText)}catch(_){xs("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,p)}else 401!==d.status&&404!==d.status&&xs("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class $q{constructor(){this.rootNode_=Kt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function VI(){return{value:null,children:new Map}}function x_(n,t,e){if(cn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=ln(t);n.children.has(i)||n.children.set(i,VI()),x_(n.children.get(i),t=ri(t),e)}}function fR(n,t){if(cn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(di,(i,r)=>{x_(n,new zn(i),r)}),fR(n,t)}}if(n.children.size>0){const e=ln(t);return t=ri(t),n.children.has(e)&&fR(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function pR(n,t,e){null!==n.value?e(t,n.value):function Wq(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{pR(r,new zn(t.toString()+"/"+i),e)})}class qq{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Br(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class Kq{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new qq(t);const i=1e4+2e4*Math.random();aw(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Br(t,(r,s)=>{s>0&&(0,H.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),aw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Za=(()=>{return(n=Za||(Za={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Za;var n})();function _R(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class UI{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Za.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(cn(this.path)){if(null!=this.affectedTree.value)return(0,H.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new zn(t));return new UI(Fn(),e,this.revert)}}return(0,H.hu)(ln(this.path)===t,"operationForChild called for unrelated child."),new UI(ri(this.path),this.affectedTree,this.revert)}}class mw{constructor(t,e){this.source=t,this.path=e,this.type=Za.LISTEN_COMPLETE}operationForChild(t){return cn(this.path)?new mw(this.source,Fn()):new mw(this.source,ri(this.path))}}class bp{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Za.OVERWRITE}operationForChild(t){return cn(this.path)?new bp(this.source,Fn(),this.snap.getImmediateChild(t)):new bp(this.source,ri(this.path),this.snap)}}class A_{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Za.MERGE}operationForChild(t){if(cn(this.path)){const e=this.children.subtree(new zn(t));return e.isEmpty()?null:e.value?new bp(this.source,Fn(),e.value):new A_(this.source,Fn(),e)}return(0,H.hu)(ln(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new A_(this.source,ri(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Th{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(cn(t))return this.isFullyInitialized()&&!this.filtered_;const e=ln(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Qq{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function _w(n,t,e,i,r,s){const c=i.filter(d=>d.type===e);c.sort((d,p)=>function e4(n,t,e){if(null==t.childName||null==e.childName)throw(0,H.g5)("Should only compare child_ events.");const i=new hn(t.childName,t.snapshotNode),r=new hn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,p)),c.forEach(d=>{const p=function Xq(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,s);r.forEach(_=>{_.respondsTo(d.type)&&t.push(_.createEvent(p,n.query_))})})}function HI(n,t){return{eventCache:n,serverCache:t}}function yw(n,t,e,i){return HI(new Th(t,e,i),n.serverCache)}function IB(n,t,e,i){return HI(n.eventCache,new Th(t,e,i))}function jI(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function wp(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let yR;class hi{constructor(t,e=(()=>(yR||(yR=new Po(VW)),yR))()){this.value=t,this.children=e}static fromObject(t){let e=new hi(null);return Br(t,(i,r)=>{e=e.set(new zn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Fn(),value:this.value};if(cn(t))return null;{const i=ln(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(ri(t),e);return null!=s?{path:Ii(new zn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(cn(t))return this;{const e=ln(t),i=this.children.get(e);return null!==i?i.subtree(ri(t)):new hi(null)}}set(t,e){if(cn(t))return new hi(e,this.children);{const i=ln(t),s=(this.children.get(i)||new hi(null)).set(ri(t),e),c=this.children.insert(i,s);return new hi(this.value,c)}}remove(t){if(cn(t))return this.children.isEmpty()?new hi(null):new hi(null,this.children);{const e=ln(t),i=this.children.get(e);if(i){const r=i.remove(ri(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new hi(null):new hi(this.value,s)}return this}}get(t){if(cn(t))return this.value;{const e=ln(t),i=this.children.get(e);return i?i.get(ri(t)):null}}setTree(t,e){if(cn(t))return e;{const i=ln(t),s=(this.children.get(i)||new hi(null)).setTree(ri(t),e);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new hi(this.value,c)}}fold(t){return this.fold_(Fn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Ii(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Fn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(cn(t))return null;{const s=ln(t),c=this.children.get(s);return c?c.findOnPath_(ri(t),Ii(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Fn(),e)}foreachOnPath_(t,e,i){if(cn(t))return this;{this.value&&i(e,this.value);const r=ln(t),s=this.children.get(r);return s?s.foreachOnPath_(ri(t),Ii(e,r),i):new hi(null)}}foreach(t){this.foreach_(Fn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Ii(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Yl{constructor(t){this.writeTree_=t}static empty(){return new Yl(new hi(null))}}function vw(n,t,e){if(cn(t))return new Yl(new hi(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const c=io(r,t);return s=s.updateChild(c,e),new Yl(n.writeTree_.set(r,s))}{const r=new hi(e),s=n.writeTree_.setTree(t,r);return new Yl(s)}}}function vR(n,t,e){let i=n;return Br(e,(r,s)=>{i=vw(i,Ii(t,r),s)}),i}function DB(n,t){if(cn(t))return Yl.empty();{const e=n.writeTree_.setTree(t,new hi(null));return new Yl(e)}}function bR(n,t){return null!=Cp(n,t)}function Cp(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(io(e.path,t)):null}function SB(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(di,(i,r)=>{t.push(new hn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new hn(i,r.value))}),t}function Ih(n,t){if(cn(t))return n;{const e=Cp(n,t);return new Yl(null!=e?new hi(e):n.writeTree_.subtree(t))}}function wR(n){return n.writeTree_.isEmpty()}function M_(n,t){return xB(Fn(),n.writeTree_,t)}function xB(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,H.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=xB(Ii(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Ii(n,".priority"),i)),e}}function zI(n,t){return OB(t,n)}function o4(n,t){if(n.snap)return qa(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&qa(Ii(n.path,e),t))return!0;return!1}function l4(n){return n.visible}function AB(n,t,e){let i=Yl.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const c=s.path;let d;if(s.snap)qa(e,c)?(d=io(e,c),i=vw(i,d,s.snap)):qa(c,e)&&(d=io(c,e),i=vw(i,Fn(),s.snap.getChild(d)));else{if(!s.children)throw(0,H.g5)("WriteRecord should have .snap or .children");if(qa(e,c))d=io(e,c),i=vR(i,d,s.children);else if(qa(c,e))if(d=io(c,e),cn(d))i=vR(i,Fn(),s.children);else{const p=(0,H.DV)(s.children,ln(d));if(p){const _=p.getChild(ri(d));i=vw(i,Fn(),_)}}}}}return i}function MB(n,t,e,i,r){if(i||r){const s=Ih(n.visibleWrites,t);return!r&&wR(s)?e:r||null!=e||bR(s,Fn())?M_(AB(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(qa(_.path,t)||qa(t,_.path))},t),e||Kt.EMPTY_NODE):null}{const s=Cp(n.visibleWrites,t);if(null!=s)return s;{const c=Ih(n.visibleWrites,t);return wR(c)?e:null!=e||bR(c,Fn())?M_(c,e||Kt.EMPTY_NODE):null}}}function GI(n,t,e,i){return MB(n.writeTree,n.treePath,t,e,i)}function CR(n,t){return function c4(n,t,e){let i=Kt.EMPTY_NODE;const r=Cp(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(di,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(e){const s=Ih(n.visibleWrites,t);return e.forEachChild(di,(c,d)=>{const p=M_(Ih(s,new zn(c)),d);i=i.updateImmediateChild(c,p)}),SB(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return SB(Ih(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function kB(n,t,e,i){return function u4(n,t,e,i,r){(0,H.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Ii(t,e);if(bR(n.visibleWrites,s))return null;{const c=Ih(n.visibleWrites,s);return wR(c)?r.getChild(e):M_(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function $I(n,t){return function h4(n,t){return Cp(n.visibleWrites,t)}(n.writeTree,Ii(n.treePath,t))}function ER(n,t,e){return function d4(n,t,e,i){const r=Ii(t,e),s=Cp(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?M_(Ih(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function RB(n,t){return OB(Ii(n.treePath,t),n.writeTree)}function OB(n,t){return{treePath:n,writeTree:t}}class m4{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,H.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,H.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,pw(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,fw(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,S_(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,H.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,pw(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const PB=new class _4{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class TR{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Th(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ER(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:wp(this.viewCache_),s=function g4(n,t,e,i,r,s){return function f4(n,t,e,i,r,s,c){let d;const p=Ih(n.visibleWrites,t),_=Cp(p,Fn());if(null!=_)d=_;else{if(null==e)return[];d=M_(p,e)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const b=[],T=c.getCompare(),A=s?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let N=A.getNext();for(;N&&b.length<r;)0!==T(N,i)&&b.push(N),N=A.getNext();return b}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function NB(n,t,e,i,r,s){const c=t.eventCache;if(null!=$I(i,e))return t;{let d,p;if(cn(e))if((0,H.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=wp(t),T=CR(i,_ instanceof Kt?_:Kt.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),T,s)}else{const _=GI(i,wp(t));d=n.filter.updateFullNode(t.eventCache.getNode(),_,s)}else{const _=ln(e);if(".priority"===_){(0,H.hu)(1===Eh(e),"Can't have a priority with additional path components");const b=c.getNode();p=t.serverCache.getNode();const T=kB(i,e,b,p);d=null!=T?n.filter.updatePriority(b,T):c.getNode()}else{const b=ri(e);let T;if(c.isCompleteForChild(_)){p=t.serverCache.getNode();const A=kB(i,e,c.getNode(),p);T=null!=A?c.getNode().getImmediateChild(_).updateChild(b,A):c.getNode().getImmediateChild(_)}else T=ER(i,_,t.serverCache);d=null!=T?n.filter.updateChild(c.getNode(),_,T,b,r,s):c.getNode()}}return yw(t,d,c.isFullyInitialized()||cn(e),n.filter.filtersNodes())}}function WI(n,t,e,i,r,s,c,d){const p=t.serverCache;let _;const b=c?n.filter:n.filter.getIndexedFilter();if(cn(e))_=b.updateFullNode(p.getNode(),i,null);else if(b.filtersNodes()&&!p.isFiltered()){const N=p.getNode().updateChild(e,i);_=b.updateFullNode(p.getNode(),N,null)}else{const N=ln(e);if(!p.isCompleteForPath(e)&&Eh(e)>1)return t;const V=ri(e),_e=p.getNode().getImmediateChild(N).updateChild(V,i);_=".priority"===N?b.updatePriority(p.getNode(),_e):b.updateChild(p.getNode(),N,_e,V,PB,null)}const T=IB(t,_,p.isFullyInitialized()||cn(e),b.filtersNodes());return NB(n,T,e,r,new TR(r,T,s),d)}function IR(n,t,e,i,r,s,c){const d=t.eventCache;let p,_;const b=new TR(r,t,s);if(cn(e))_=n.filter.updateFullNode(t.eventCache.getNode(),i,c),p=yw(t,_,!0,n.filter.filtersNodes());else{const T=ln(e);if(".priority"===T)_=n.filter.updatePriority(t.eventCache.getNode(),i),p=yw(t,_,d.isFullyInitialized(),d.isFiltered());else{const A=ri(e),N=d.getNode().getImmediateChild(T);let V;if(cn(A))V=i;else{const ue=b.getCompleteChild(T);V=null!=ue?".priority"===tR(A)&&ue.getChild(aB(A)).isEmpty()?ue:ue.updateChild(A,i):Kt.EMPTY_NODE}p=N.equals(V)?t:yw(t,n.filter.updateChild(d.getNode(),T,V,A,b,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return p}function FB(n,t){return n.eventCache.isCompleteForChild(t)}function LB(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function DR(n,t,e,i,r,s,c,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let _,p=t;_=cn(e)?i:new hi(null).setTree(e,i);const b=t.serverCache.getNode();return _.children.inorderTraversal((T,A)=>{if(b.hasChild(T)){const V=LB(0,t.serverCache.getNode().getImmediateChild(T),A);p=WI(n,p,new zn(T),V,r,s,c,d)}}),_.children.inorderTraversal((T,A)=>{const N=!t.serverCache.isCompleteForChild(T)&&void 0===A.value;if(!b.hasChild(T)&&!N){const ue=LB(0,t.serverCache.getNode().getImmediateChild(T),A);p=WI(n,p,new zn(T),ue,r,s,c,d)}}),p}class D4{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new uR(i.getIndex()),s=function Uq(n){return n.loadsAllData()?new uR(n.getIndex()):n.hasLimit()?new Vq(n):new gw(n)}(i);this.processor_=function y4(n){return{filter:n}}(s);const c=e.serverCache,d=e.eventCache,p=r.updateFullNode(Kt.EMPTY_NODE,c.getNode(),null),_=s.updateFullNode(Kt.EMPTY_NODE,d.getNode(),null),b=new Th(p,c.isFullyInitialized(),r.filtersNodes()),T=new Th(_,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=HI(T,b),this.eventGenerator_=new Qq(this.query_)}get query(){return this.query_}}function A4(n,t){const e=wp(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!cn(t)&&!e.getImmediateChild(ln(t)).isEmpty())?e.getChild(t):null}function BB(n){return 0===n.eventRegistrations_.length}function VB(n,t,e){const i=[];if(e){(0,H.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function UB(n,t,e,i){t.type===Za.MERGE&&null!==t.source.queryId&&((0,H.hu)(wp(n.viewCache_),"We should always have a full cache before handling merges"),(0,H.hu)(jI(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function b4(n,t,e,i,r){const s=new m4;let c,d;if(e.type===Za.OVERWRITE){const _=e;_.source.fromUser?c=IR(n,t,_.path,_.snap,i,r,s):((0,H.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered()&&!cn(_.path),c=WI(n,t,_.path,_.snap,i,r,d,s))}else if(e.type===Za.MERGE){const _=e;_.source.fromUser?c=function C4(n,t,e,i,r,s,c){let d=t;return i.foreach((p,_)=>{const b=Ii(e,p);FB(t,ln(b))&&(d=IR(n,d,b,_,r,s,c))}),i.foreach((p,_)=>{const b=Ii(e,p);FB(t,ln(b))||(d=IR(n,d,b,_,r,s,c))}),d}(n,t,_.path,_.children,i,r,s):((0,H.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered(),c=DR(n,t,_.path,_.children,i,r,d,s))}else if(e.type===Za.ACK_USER_WRITE){const _=e;c=_.revert?function I4(n,t,e,i,r,s){let c;if(null!=$I(i,e))return t;{const d=new TR(i,t,r),p=t.eventCache.getNode();let _;if(cn(e)||".priority"===ln(e)){let b;if(t.serverCache.isFullyInitialized())b=GI(i,wp(t));else{const T=t.serverCache.getNode();(0,H.hu)(T instanceof Kt,"serverChildren would be complete if leaf node"),b=CR(i,T)}b=b,_=n.filter.updateFullNode(p,b,s)}else{const b=ln(e);let T=ER(i,b,t.serverCache);null==T&&t.serverCache.isCompleteForChild(b)&&(T=p.getImmediateChild(b)),_=null!=T?n.filter.updateChild(p,b,T,ri(e),d,s):t.eventCache.getNode().hasChild(b)?n.filter.updateChild(p,b,Kt.EMPTY_NODE,ri(e),d,s):p,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=GI(i,wp(t)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,s)))}return c=t.serverCache.isFullyInitialized()||null!=$I(i,Fn()),yw(t,_,c,n.filter.filtersNodes())}}(n,t,_.path,i,r,s):function E4(n,t,e,i,r,s,c){if(null!=$I(r,e))return t;const d=t.serverCache.isFiltered(),p=t.serverCache;if(null!=i.value){if(cn(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return WI(n,t,e,p.getNode().getChild(e),r,s,d,c);if(cn(e)){let _=new hi(null);return p.getNode().forEachChild($c,(b,T)=>{_=_.set(new zn(b),T)}),DR(n,t,e,_,r,s,d,c)}return t}{let _=new hi(null);return i.foreach((b,T)=>{const A=Ii(e,b);p.isCompleteForPath(A)&&(_=_.set(b,p.getNode().getChild(A)))}),DR(n,t,e,_,r,s,d,c)}}(n,t,_.path,_.affectedTree,i,r,s)}else{if(e.type!==Za.LISTEN_COMPLETE)throw(0,H.g5)("Unknown operation type: "+e.type);c=function T4(n,t,e,i,r){const s=t.serverCache;return NB(n,IB(t,s.getNode(),s.isFullyInitialized()||cn(e),s.isFiltered()),e,i,PB,r)}(n,t,e.path,i,s)}const p=s.getChanges();return function w4(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=jI(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(wB(jI(t)))}}(t,c,p),{viewCache:c,changes:p}}(n.processor_,r,t,e,i);return function v4(n,t){(0,H.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,H.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,H.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,HB(n,s.changes,s.viewCache.eventCache.getNode(),null)}function HB(n,t,e,i){return function Jq(n,t,e,i){const r=[],s=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function Bq(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),_w(n,r,"child_removed",t,i,e),_w(n,r,"child_added",t,i,e),_w(n,r,"child_moved",s,i,e),_w(n,r,"child_changed",t,i,e),_w(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let qI,YI;class jB{constructor(){this.views=new Map}}function SR(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,H.hu)(null!=s,"SyncTree gave us an op for an invalid query."),UB(s,t,e,i)}{let s=[];for(const c of n.views.values())s=s.concat(UB(c,t,e,i));return s}}function xR(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let d=GI(e,r?i:null),p=!1;d?p=!0:i instanceof Kt?(d=CR(e,i),p=!1):(d=Kt.EMPTY_NODE,p=!1);const _=HI(new Th(d,p,!1),new Th(i,r,!1));return new D4(t,_)}return c}function zB(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Dh(n,t){let e=null;for(const i of n.views.values())e=e||A4(i,t);return e}function GB(n,t){return t._queryParams.loadsAllData()?ZI(n):n.views.get(t._queryIdentifier)}function $B(n,t){return null!=GB(n,t)}function Sh(n){return null!=ZI(n)}function ZI(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let V4=1;class WB{constructor(t){this.listenProvider_=t,this.syncPointTree_=new hi(null),this.pendingWriteTree_=function p4(){return{visibleWrites:Yl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function AR(n,t,e,i,r){return function n4(n,t,e,i,r){(0,H.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=vw(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?k_(n,new bp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function xh(n,t,e=!1){const i=function r4(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function s4(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,H.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=e&&o4(d,i.path)?r=!1:qa(i.path,d.path)&&(s=!0)),c--}return!!r&&(s?(function a4(n){n.visibleWrites=AB(n.allWrites,l4,Fn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=DB(n.visibleWrites,i.path):Br(i.children,p=>{n.visibleWrites=DB(n.visibleWrites,Ii(i.path,p))}),!0))}(n.pendingWriteTree_,t)){let s=new hi(null);return null!=i.snap?s=s.set(Fn(),!0):Br(i.children,c=>{s=s.set(new zn(c),!0)}),k_(n,new UI(i.path,s,e))}return[]}function bw(n,t,e){return k_(n,new bp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function KI(n,t,e,i){const r=t._path,s=n.syncPointTree_.get(r);let c=[];if(s&&("default"===t._queryIdentifier||$B(s,t))){const d=function F4(n,t,e,i){const r=t._queryIdentifier,s=[];let c=[];const d=Sh(n);if("default"===r)for(const[p,_]of n.views.entries())c=c.concat(VB(_,e,i)),BB(_)&&(n.views.delete(p),_.query._queryParams.loadsAllData()||s.push(_.query));else{const p=n.views.get(r);p&&(c=c.concat(VB(p,e,i)),BB(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return d&&!Sh(n)&&s.push(new(function O4(){return(0,H.hu)(qI,"Reference.ts has not been loaded"),qI}())(t._repo,t._path)),{removed:s,events:c}}(s,t,e,i);(function P4(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const p=d.removed;c=d.events;const _=-1!==p.findIndex(T=>T._queryParams.loadsAllData()),b=n.syncPointTree_.findOnPath(r,(T,A)=>Sh(A));if(_&&!b){const T=n.syncPointTree_.subtree(r);if(!T.isEmpty()){const A=function q4(n){return n.fold((t,e,i)=>{if(e&&Sh(e))return[ZI(e)];{let r=[];return e&&(r=zB(e)),Br(i,(s,c)=>{r=r.concat(c)}),r}})}(T);for(let N=0;N<A.length;++N){const V=A[N],ue=V.query,_e=JB(n,V);n.listenProvider_.startListening(Cw(ue),ww(n,ue),_e.hashFn,_e.onComplete)}}}!b&&p.length>0&&!i&&(_?n.listenProvider_.stopListening(Cw(t),null):p.forEach(T=>{const A=n.queryToTagMap.get(JI(T));n.listenProvider_.stopListening(Cw(T),A)})),function Z4(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=JI(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,p)}return c}function qB(n,t,e,i){const r=MR(n,i);if(null!=r){const s=kR(r),c=s.path,d=s.queryId,p=io(c,t);return RR(n,c,new bp(_R(d),p,e))}return[]}function ZB(n,t){const e=n._path;let i=null,r=!1;t.syncPointTree_.foreachOnPath(e,(_,b)=>{const T=io(_,e);i=i||Dh(b,T),r=r||Sh(b)});let c,s=t.syncPointTree_.get(e);s?(r=r||Sh(s),i=i||Dh(s,Fn())):(s=new jB,t.syncPointTree_=t.syncPointTree_.set(e,s)),null!=i?c=!0:(c=!1,i=Kt.EMPTY_NODE,t.syncPointTree_.subtree(e).foreachChild((b,T)=>{const A=Dh(T,Fn());A&&(i=i.updateImmediateChild(b,A))}));const d=$B(s,n);if(!d&&!n._queryParams.loadsAllData()){const _=JI(n);(0,H.hu)(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const b=function Y4(){return V4++}();t.queryToTagMap.set(_,b),t.tagToQueryMap.set(b,_)}return{syncPoint:s,writesCache:zI(t.pendingWriteTree_,e),serverCache:i,serverCacheComplete:c,foundAncestorDefaultView:r,viewAlreadyExists:d}}function YB(n,t,e){const{syncPoint:i,serverCache:r,writesCache:s,serverCacheComplete:c,viewAlreadyExists:d,foundAncestorDefaultView:p}=ZB(t,n);let _=function N4(n,t,e,i,r,s){const c=xR(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function M4(n,t){n.eventRegistrations_.push(t)}(c,e),function k4(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(di,(s,c)=>{i.push(S_(s,c))}),e.isFullyInitialized()&&i.push(wB(e.getNode())),HB(n,i,e.getNode(),t)}(c,e)}(i,t,e,s,r,c);if(!d&&!p){const b=GB(i,t);_=_.concat(function K4(n,t,e){const i=t._path,r=ww(n,t),s=JB(n,e),c=n.listenProvider_.startListening(Cw(t),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,H.hu)(!Sh(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((_,b,T)=>{if(!cn(_)&&b&&Sh(b))return[ZI(b).query];{let A=[];return b&&(A=A.concat(zB(b).map(N=>N.query))),Br(T,(N,V)=>{A=A.concat(V)}),A}});for(let _=0;_<p.length;++_){const b=p[_];n.listenProvider_.stopListening(Cw(b),ww(n,b))}}return c}(n,t,b))}return _}function QI(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(c,d)=>{const _=Dh(d,io(c,t));if(_)return _});return MB(r,t,s,e,!0)}function k_(n,t){return KB(t,n.syncPointTree_,null,zI(n.pendingWriteTree_,Fn()))}function KB(n,t,e,i){if(cn(n.path))return QB(n,t,e,i);{const r=t.get(Fn());null==e&&null!=r&&(e=Dh(r,Fn()));let s=[];const c=ln(n.path),d=n.operationForChild(c),p=t.children.get(c);if(p&&d){const _=e?e.getImmediateChild(c):null,b=RB(i,c);s=s.concat(KB(d,p,_,b))}return r&&(s=s.concat(SR(r,n,i,e))),s}}function QB(n,t,e,i){const r=t.get(Fn());null==e&&null!=r&&(e=Dh(r,Fn()));let s=[];return t.children.inorderTraversal((c,d)=>{const p=e?e.getImmediateChild(c):null,_=RB(i,c),b=n.operationForChild(c);b&&(s=s.concat(QB(b,d,p,_)))}),r&&(s=s.concat(SR(r,n,i,e))),s}function JB(n,t){const e=t.query,i=ww(n,e);return{hashFn:()=>(function S4(n){return n.viewCache_.serverCache.getNode()}(t)||Kt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function z4(n,t,e){const i=MR(n,e);if(i){const r=kR(i),s=r.path,c=r.queryId,d=io(s,t);return RR(n,s,new mw(_R(c),d))}return[]}(n,e._path,i):function j4(n,t){return k_(n,new mw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function jW(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return KI(n,e,null,s)}}}}function ww(n,t){const e=JI(t);return n.queryToTagMap.get(e)}function JI(n){return n._path.toString()+"$"+n._queryIdentifier}function MR(n,t){return n.tagToQueryMap.get(t)}function kR(n){const t=n.indexOf("$");return(0,H.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new zn(n.substr(0,t))}}function RR(n,t,e){const i=n.syncPointTree_.get(t);return(0,H.hu)(i,"Missing sync point for query tag that we're tracking"),SR(i,e,zI(n.pendingWriteTree_,t),null)}function Cw(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function B4(){return(0,H.hu)(YI,"Reference.ts has not been loaded"),YI}())(n._repo,n._path):n}class OR{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new OR(e)}node(){return this.node_}}class PR{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Ii(this.path_,t);return new PR(this.syncTree_,e)}node(){return QI(this.syncTree_,this.path_)}}const XB=function(n,t,e){return n&&"object"==typeof n?((0,H.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?J4(n[".sv"],t,e):"object"==typeof n[".sv"]?X4(n[".sv"],t):void(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},J4=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,H.hu)(!1,"Unexpected server value: "+n)},X4=function(n,t,e){n.hasOwnProperty("increment")||(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,H.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,H.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},eV=function(n,t,e,i){return FR(t,new PR(e,n),i)},NR=function(n,t,e){return FR(n,new OR(t),e)};function FR(n,t,e){const i=n.getPriority().val(),r=XB(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const c=n,d=XB(c.getValue(),t,e);return d!==c.getValue()||r!==c.getPriority().val()?new T_(d,Fi(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new T_(r))),c.forEachChild(di,(d,p)=>{const _=FR(p,t.getImmediateChild(d),e);_!==p&&(s=s.updateImmediateChild(d,_))}),s}}class LR{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function XI(n,t){let e=t instanceof zn?t:new zn(t),i=n,r=ln(e);for(;null!==r;){const s=(0,H.DV)(i.node.children,r)||{children:{},childCount:0};i=new LR(r,i,s),e=ri(e),r=ln(e)}return i}function Ep(n){return n.node.value}function BR(n,t){n.node.value=t,VR(n)}function tV(n){return n.node.childCount>0}function eD(n,t){Br(n.node.children,(e,i)=>{t(new LR(e,n,i))})}function nV(n,t,e,i){e&&!i&&t(n),eD(n,r=>{nV(r,t,!0,i)}),e&&i&&t(n)}function Ew(n){return new zn(null===n.parent?n.name:Ew(n.parent)+"/"+n.name)}function VR(n){null!==n.parent&&function n5(n,t,e){const i=function e5(n){return void 0===Ep(n)&&!tV(n)}(e),r=(0,H.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,VR(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,VR(n))}(n.parent,n.name,n)}const r5=/[\[\].#$\/\u0000-\u001F\u007F]/,s5=/[\[\].#$\u0000-\u001F\u007F]/,UR=10485760,tD=function(n){return"string"==typeof n&&0!==n.length&&!r5.test(n)},iV=function(n){return"string"==typeof n&&0!==n.length&&!s5.test(n)},Tw=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!SI(n)||n&&"object"==typeof n&&(0,H.r3)(n,".sv")},Wc=function(n,t,e,i){i&&void 0===t||Iw((0,H.gK)(n,"value"),t,e)},Iw=function(n,t,e){const i=e instanceof zn?new vq(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+yp(i));if("function"==typeof t)throw new Error(n+"contains a function "+yp(i)+" with contents = "+t.toString());if(SI(t))throw new Error(n+"contains "+t.toString()+" "+yp(i));if("string"==typeof t&&t.length>UR/3&&(0,H.ug)(t)>UR)throw new Error(n+"contains a string greater than "+UR+" utf8 bytes "+yp(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(Br(t,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!tD(c)))throw new Error(n+" contains an invalid key ("+c+") "+yp(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function bq(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,H.ug)(t),lB(n)})(i,c),Iw(n,d,i),function wq(n){const t=n.parts_.pop();n.byteLength_-=(0,H.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+yp(i)+" in addition to actual children.")}},rV=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,H.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];Br(t,(c,d)=>{const p=new zn(c);if(Iw(r,d,Ii(e,p)),".priority"===tR(p)&&!Tw(d))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=cw(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!tD(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(yq);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&qa(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},HR=function(n,t,e){if(!e||void 0!==t){if(SI(t))throw new Error((0,H.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Tw(t))throw new Error((0,H.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Dw=function(n,t,e,i){if(!(i&&void 0===e||tD(e)))throw new Error((0,H.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Sw=function(n,t,e,i){if(!(i&&void 0===e||iV(e)))throw new Error((0,H.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ya=function(n,t){if(".info"===ln(t))throw new Error(n+" failed = Can't modify data under /.info/")},sV=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!tD(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),iV(n)}(e))throw new Error((0,H.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class c5{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function nD(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!nR(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function oV(n,t,e){nD(n,e),aV(n,i=>nR(i,t))}function Ka(n,t,e){nD(n,e),aV(n,i=>qa(i,t)||qa(t,i))}function aV(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(u5(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function u5(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();mp&&Lr("event: "+e.toString()),C_(i)}}}const lV="repo_interrupt";class h5{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new c5,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=VI(),this.transactionQueueTree_=new LR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function cV(n){const e=n.infoData_.getNode(new zn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function xw(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:cV(n)})}function uV(n,t,e,i,r){n.dataUpdateCount++;const s=new zn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const p=(0,H.UI)(e,_=>Fi(_));c=function $4(n,t,e,i){const r=MR(n,i);if(r){const s=kR(r),c=s.path,d=s.queryId,p=io(c,t),_=hi.fromObject(e);return RR(n,c,new A_(_R(d),p,_))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=Fi(e);c=qB(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,H.UI)(e,_=>Fi(_));c=function H4(n,t,e){const i=hi.fromObject(e);return k_(n,new A_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,p)}else{const p=Fi(e);c=bw(n.serverSyncTree_,s,p)}let d=s;c.length>0&&(d=R_(n,s)),Ka(n.eventQueue_,d,c)}function dV(n,t){jR(n,"connected",t),!1===t&&function _5(n){Tp(n,"onDisconnectEvents");const t=xw(n),e=VI();pR(n.onDisconnect_,Fn(),(r,s)=>{const c=eV(r,s,n.serverSyncTree_,t);x_(e,r,c)});let i=[];pR(e,Fn(),(r,s)=>{i=i.concat(bw(n.serverSyncTree_,r,s));const c=WR(n,r);R_(n,c)}),n.onDisconnect_=VI(),Ka(n.eventQueue_,Fn(),i)}(n)}function jR(n,t,e){const i=new zn("/.info/"+t),r=Fi(e);n.infoData_.updateSnapshot(i,r);const s=bw(n.infoSyncTree_,i,r);Ka(n.eventQueue_,i,s)}function iD(n){return n.nextWriteId_++}function g5(n,t){const e=function W4(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(_,b)=>{const T=io(_,e);i=i||Dh(b,T)});let r=n.syncPointTree_.get(e);r?i=i||Dh(r,Fn()):(r=new jB,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,c=s?new Th(i,!0,!1):null;return function x4(n){return jI(n.viewCache_)}(xR(r,t,zI(n.pendingWriteTree_,t._path),s?c.getNode():Kt.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const r=Fi(i).withIndex(t._queryParams.getIndex());if(t._queryParams.loadsAllData())bw(n.serverSyncTree_,t._path,r);else{const c=function G4(n,t){const{syncPoint:e,serverCache:i,writesCache:r,serverCacheComplete:s}=ZB(t,n),c=xR(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,c),t._queryParams.loadsAllData()?null:ww(n,t)}(n.serverSyncTree_,t);qB(n.serverSyncTree_,t._path,r,c)}return KI(n.serverSyncTree_,t,null).length>0&&Tp(n,"unexpected cancel events in repoGetValue"),r},i=>(Tp(n,"get for query "+(0,H.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}function zR(n,t,e,i,r){Tp(n,"set",{path:t.toString(),value:e,priority:i});const s=xw(n),c=Fi(e,i),d=QI(n.serverSyncTree_,t),p=NR(c,d,s),_=iD(n),b=AR(n.serverSyncTree_,t,p,_,!0);nD(n.eventQueue_,b),n.server_.put(t.toString(),c.val(!0),(A,N)=>{const V="ok"===A;V||xs("set at "+t+" failed: "+A);const ue=xh(n.serverSyncTree_,_,!V);Ka(n.eventQueue_,t,ue),Ah(0,r,A,N)});const T=WR(n,t);R_(n,T),Ka(n.eventQueue_,T,[])}function y5(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&fR(n.onDisconnect_,t),Ah(0,e,i,r)})}function hV(n,t,e,i){const r=Fi(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,c)=>{"ok"===s&&x_(n.onDisconnect_,t,r),Ah(0,i,s,c)})}function GR(n,t,e){let i;i=".info"===ln(t._path)?KI(n.infoSyncTree_,t,e):KI(n.serverSyncTree_,t,e),oV(n.eventQueue_,t._path,i)}function fV(n){n.persistentConnection_&&n.persistentConnection_.interrupt(lV)}function Tp(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Lr(e,...t)}function Ah(n,t,e,i){t&&C_(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,t(c)}})}function $R(n,t,e){return QI(n.serverSyncTree_,t,e)||Kt.EMPTY_NODE}function rD(n,t=n.transactionQueueTree_){if(t||sD(n,t),Ep(t)){const e=gV(n,t);(0,H.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function T5(n,t,e){const i=e.map(_=>_.currentWriteId),r=$R(n,t,i);let s=r;const c=r.hash();for(let _=0;_<e.length;_++){const b=e[_];(0,H.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const T=io(t,b.path);s=s.updateChild(T,b.currentOutputSnapshotRaw)}const d=s.val(!0),p=t;n.server_.put(p.toString(),d,_=>{Tp(n,"transaction put response",{path:p.toString(),status:_});let b=[];if("ok"===_){const T=[];for(let A=0;A<e.length;A++)e[A].status=2,b=b.concat(xh(n.serverSyncTree_,e[A].currentWriteId)),e[A].onComplete&&T.push(()=>e[A].onComplete(null,!0,e[A].currentOutputSnapshotResolved)),e[A].unwatcher();sD(n,XI(n.transactionQueueTree_,t)),rD(n,n.transactionQueueTree_),Ka(n.eventQueue_,t,b);for(let A=0;A<T.length;A++)C_(T[A])}else{if("datastale"===_)for(let T=0;T<e.length;T++)e[T].status=3===e[T].status?4:0;else{xs("transaction at "+p.toString()+" failed: "+_);for(let T=0;T<e.length;T++)e[T].status=4,e[T].abortReason=_}R_(n,t)}},c)}(n,Ew(t),e)}else tV(t)&&eD(t,e=>{rD(n,e)})}function R_(n,t){const e=pV(n,t),i=Ew(e);return function I5(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const p=t[d],_=io(e,p.path);let T,b=!1;if((0,H.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)b=!0,T=p.abortReason,r=r.concat(xh(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)b=!0,T="maxretry",r=r.concat(xh(n.serverSyncTree_,p.currentWriteId,!0));else{const A=$R(n,p.path,c);p.currentInputSnapshot=A;const N=t[d].update(A.val());if(void 0!==N){Iw("transaction failed: Data returned ",N,p.path);let V=Fi(N);"object"==typeof N&&null!=N&&(0,H.r3)(N,".priority")||(V=V.updatePriority(A.getPriority()));const _e=p.currentWriteId,je=xw(n),Ke=NR(V,A,je);p.currentOutputSnapshotRaw=V,p.currentOutputSnapshotResolved=Ke,p.currentWriteId=iD(n),c.splice(c.indexOf(_e),1),r=r.concat(AR(n.serverSyncTree_,p.path,Ke,p.currentWriteId,p.applyLocally)),r=r.concat(xh(n.serverSyncTree_,_e,!0))}else b=!0,T="nodata",r=r.concat(xh(n.serverSyncTree_,p.currentWriteId,!0))}Ka(n.eventQueue_,e,r),r=[],b&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===T?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(T),!1,null)))}sD(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)C_(i[d]);rD(n,n.transactionQueueTree_)}(n,gV(n,e),i),i}function pV(n,t){let e,i=n.transactionQueueTree_;for(e=ln(t);null!==e&&void 0===Ep(i);)i=XI(i,e),e=ln(t=ri(t));return i}function gV(n,t){const e=[];return mV(n,t,e),e.sort((i,r)=>i.order-r.order),e}function mV(n,t,e){const i=Ep(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);eD(t,r=>{mV(n,r,e)})}function sD(n,t){const e=Ep(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,BR(t,e.length>0?e:void 0)}eD(t,i=>{sD(n,i)})}function WR(n,t){const e=Ew(pV(n,t)),i=XI(n.transactionQueueTree_,t);return function t5(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{qR(n,r)}),qR(n,i),nV(i,r=>{qR(n,r)}),e}function qR(n,t){const e=Ep(t);if(e){const i=[];let r=[],s=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,H.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,e[c].status=3,e[c].abortReason="set"):((0,H.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(xh(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?BR(t,void 0):e.length=s+1,Ka(n.eventQueue_,Ew(t),r);for(let c=0;c<i.length;c++)C_(i[c])}}const ZR=function(n,t){const e=x5(n),i=e.namespace;return"firebase.com"===e.domain&&zc(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&zc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&xs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Yk(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new zn(e.pathString)}},x5=function(n){let t="",e="",i="",r="",s="",c=!0,d="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(d=n.substring(0,_-1),n=n.substring(_+2));let b=n.indexOf("/");-1===b&&(b=n.length);let T=n.indexOf("?");-1===T&&(T=n.length),t=n.substring(0,Math.min(b,T)),b<T&&(r=function D5(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}t+="/"+r}return t}(n.substring(b,T)));const A=function S5(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):xs(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,T)));_=t.indexOf(":"),_>=0?(c="https"===d||"wss"===d,p=parseInt(t.substring(_+1),10)):_=t.length;const N=t.slice(0,_);if("localhost"===N.toLowerCase())e="localhost";else if(N.split(".").length<=2)e=N;else{const V=t.indexOf(".");i=t.substring(0,V).toLowerCase(),e=t.substring(V+1),s=i}"ns"in A&&(s=A.ns)}return{host:t,port:p,domain:e,subdomain:i,secure:c,scheme:d,pathString:r,namespace:s}};class _V{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,H.Pz)(this.snapshot.exportVal())}}class yV{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class vV{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,H.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class bV{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new H.BH;return y5(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ya("OnDisconnect.remove",this._path);const t=new H.BH;return hV(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ya("OnDisconnect.set",this._path),Wc("OnDisconnect.set",t,this._path,!1);const e=new H.BH;return hV(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ya("OnDisconnect.setWithPriority",this._path),Wc("OnDisconnect.setWithPriority",t,this._path,!1),HR("OnDisconnect.setWithPriority",e,!1);const i=new H.BH;return function v5(n,t,e,i,r){const s=Fi(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(c,d)=>{"ok"===c&&x_(n.onDisconnect_,t,s),Ah(0,r,c,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Ya("OnDisconnect.update",this._path),rV("OnDisconnect.update",t,this._path,!1);const e=new H.BH;return function b5(n,t,e,i){if((0,H.xb)(e))return Lr("onDisconnect().update() called with empty data.  Don't do anything."),void Ah(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&Br(e,(c,d)=>{const p=Fi(d);x_(n.onDisconnect_,Ii(t,c),p)}),Ah(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class No{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return cn(this._path)?null:tR(this._path)}get ref(){return new Qa(this._repo,this._path)}get _queryIdentifier(){const t=EB(this._queryParams),e=Wk(t);return"{}"===e?"default":e}get _queryObject(){return EB(this._queryParams)}isEqual(t){if(!((t=(0,H.m9)(t))instanceof No))return!1;const e=this._repo===t._repo,i=nR(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function _q(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function oD(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Mh(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===$c){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==$u)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Gc)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===di){if(null!=t&&!Tw(t)||null!=e&&!Tw(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,H.hu)(n.getIndex()instanceof aR||n.getIndex()===lR,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function aD(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Qa extends No{constructor(t,e){super(t,e,new FI,!1)}get parent(){const t=aB(this._path);return null===t?null:new Qa(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Ip{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new zn(t),i=Dp(this.ref,t);return new Ip(this._node.getChild(e),i,di)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Ip(r,Dp(this.ref,i),di)))}hasChild(t){const e=new zn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function wV(n,t){return(n=(0,H.m9)(n))._checkNotDeleted("ref"),void 0!==t?Dp(n._root,t):n._root}function CV(n,t){(n=(0,H.m9)(n))._checkNotDeleted("refFromURL");const e=ZR(t,n._repo.repoInfo_.nodeAdmin);sV("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&zc("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),wV(n,e.path.toString())}function Dp(n,t){return null===ln((n=(0,H.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Sw("child","path",e,!1)):Sw("child","path",t,!1),new Qa(n._repo,Ii(n._path,t));var e}function YR(n,t){n=(0,H.m9)(n),Ya("set",n._path),Wc("set",t,n._path,!1);const e=new H.BH;return zR(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function O5(n,t){rV("update",t,n._path,!1);const e=new H.BH;return function m5(n,t,e,i){Tp(n,"update",{path:t.toString(),value:e});let r=!0;const s=xw(n),c={};if(Br(e,(d,p)=>{r=!1,c[d]=eV(Ii(t,d),Fi(p),n.serverSyncTree_,s)}),r)Lr("update() called with empty data.  Don't do anything."),Ah(0,i,"ok",void 0);else{const d=iD(n),p=function U4(n,t,e,i){!function i4(n,t,e,i){(0,H.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=vR(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=hi.fromObject(e);return k_(n,new A_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,d);nD(n.eventQueue_,p),n.server_.merge(t.toString(),e,(_,b)=>{const T="ok"===_;T||xs("update at "+t+" failed: "+_);const A=xh(n.serverSyncTree_,d,!T),N=A.length>0?R_(n,t):t;Ka(n.eventQueue_,N,A),Ah(0,i,_,b)}),Br(e,_=>{const b=WR(n,Ii(t,_));R_(n,b)}),Ka(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}class lD{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new _V("value",this,new Ip(t.snapshotNode,new Qa(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new yV(this,t,e):null}matches(t){return t instanceof lD&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class cD{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new yV(this,t,e):null}createEvent(t,e){(0,H.hu)(null!=t.childName,"Child events should have a childName.");const i=Dp(new Qa(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new _V(t.type,this,new Ip(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof cD&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Aw(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=e,_=(b,T)=>{GR(n._repo,n,d),p(b,T)};_.userCallback=e.userCallback,_.context=e.context,e=_}const c=new vV(e,s||void 0),d="value"===t?new lD(c):new cD(t,c);return function w5(n,t,e){let i;i=".info"===ln(t._path)?YB(n.infoSyncTree_,t,e):YB(n.serverSyncTree_,t,e),oV(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>GR(n._repo,n,d)}function KR(n,t,e,i){return Aw(n,"value",t,e,i)}function EV(n,t,e,i){return Aw(n,"child_added",t,e,i)}function TV(n,t,e,i){return Aw(n,"child_changed",t,e,i)}function IV(n,t,e,i){return Aw(n,"child_moved",t,e,i)}function DV(n,t,e,i){return Aw(n,"child_removed",t,e,i)}function SV(n,t,e){let i=null;const r=e?new vV(e):null;"value"===t?i=new lD(r):t&&(i=new cD(t,r)),GR(n._repo,n,i)}class Kl{}class xV extends Kl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Wc("endAt",this._value,t._path,!0);const e=hR(t._queryParams,this._value,this._key);if(aD(e),Mh(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new No(t._repo,t._path,e,t._orderByCalled)}}class F5 extends Kl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Wc("endBefore",this._value,t._path,!1);const e=function Gq(n,t,e){let i,r;return n.index_===$c?("string"==typeof t&&(t=bB(t)),r=hR(n,t,e)):(i=null==e?$u:bB(e),r=hR(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(aD(e),Mh(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new No(t._repo,t._path,e,t._orderByCalled)}}class AV extends Kl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Wc("startAt",this._value,t._path,!0);const e=dR(t._queryParams,this._value,this._key);if(aD(e),Mh(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new No(t._repo,t._path,e,t._orderByCalled)}}class V5 extends Kl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Wc("startAfter",this._value,t._path,!1);const e=function zq(n,t,e){let i;if(n.index_===$c)"string"==typeof t&&(t=vB(t)),i=dR(n,t,e);else{let r;r=null==e?Gc:vB(e),i=dR(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(aD(e),Mh(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new No(t._repo,t._path,e,t._orderByCalled)}}class H5 extends Kl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new No(t._repo,t._path,function Hq(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class z5 extends Kl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new No(t._repo,t._path,function jq(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class $5 extends Kl{constructor(t){super(),this._path=t}_apply(t){oD(t,"orderByChild");const e=new zn(this._path);if(cn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new aR(e),r=LI(t._queryParams,i);return Mh(r),new No(t._repo,t._path,r,!0)}}class q5 extends Kl{_apply(t){oD(t,"orderByKey");const e=LI(t._queryParams,$c);return Mh(e),new No(t._repo,t._path,e,!0)}}class Y5 extends Kl{_apply(t){oD(t,"orderByPriority");const e=LI(t._queryParams,di);return Mh(e),new No(t._repo,t._path,e,!0)}}class Q5 extends Kl{_apply(t){oD(t,"orderByValue");const e=LI(t._queryParams,lR);return Mh(e),new No(t._repo,t._path,e,!0)}}class X5 extends Kl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Wc("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new xV(this._value,this._key)._apply(new AV(this._value,this._key)._apply(t))}}function Ql(n,...t){let e=(0,H.m9)(n);for(const i of t)e=i._apply(e);return e}(function R4(n){(0,H.hu)(!qI,"__referenceConstructor has already been defined"),qI=n})(Qa),function L4(n){(0,H.hu)(!YI,"__referenceConstructor has already been defined"),YI=n}(Qa);const QR={};function kV(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||zc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Lr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,c=ZR(s,r),d=c.repoInfo;"undefined"!=typeof process&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(p=!0,s=`http://${_}?ns=${d.namespace}`,c=ZR(s,r),d=c.repoInfo):p=!c.repoInfo.secure;const b=r&&p?new lw(lw.OWNER):new WW(n.name,n.options,t);sV("Invalid Firebase Database URL",c),cn(c.path)||zc("Database URL must point to the root of a Firebase Database (not including a child path).");const T=function r8(n,t,e,i){let r=QR[t.name];r||(r={},QR[t.name]=r);let s=r[n.toURLString()];return s&&zc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new h5(n,false,e,i),r[n.toURLString()]=s,s}(d,n,b,new $W(n.name,e));return new o8(T,n)}class o8{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function f5(n,t,e){if(n.stats_=Jk(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new BI(n.repoInfo_,(i,r,s,c)=>{uV(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>dV(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,H.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new vp(n.repoInfo_,t,(i,r,s,c)=>{uV(n,i,r,s,c)},i=>{dV(n,i)},i=>{!function p5(n,t){Br(t,(e,i)=>{jR(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function YW(n,t){const e=n.toString();return Qk[e]||(Qk[e]=t()),Qk[e]}(n.repoInfo_,()=>new Kq(n.stats_,n.server_)),n.infoData_=new $q,n.infoSyncTree_=new WB({startListening:(i,r,s,c)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=bw(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),jR(n,"connected",!1),n.serverSyncTree_=new WB({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(d,p)=>{const _=c(d,p);Ka(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qa(this._repo,Fn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function i8(n,t){const e=QR[t];(!e||e[n.key]!==n)&&zc(`Database ${t}(${n.repoInfo_}) has already been deleted.`),fV(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&zc("Cannot call "+t+" on a deleted database.")}}function RV(){Y2.IS_TRANSPORT_INITIALIZED&&xs("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function a8(){RV(),Ch.forceDisallow()}function l8(){RV(),E_.forceDisallow(),Ch.forceAllow()}function h8(n,t){A2(n,t)}const p8={".sv":"timestamp"};class _8{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}vp.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},vp.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function f8(n){T2(ci.SDK_VERSION),(0,ci._registerComponent)(new bo.wA("database",(t,{instanceIdentifier:e})=>kV(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ci.registerVersion)(C2,"0.13.3",n),(0,ci.registerVersion)(C2,"0.13.3","esm2017")}();const w8=new wo.Yd("@firebase/database-compat"),OV=function(n){w8.warn("FIREBASE WARNING: "+n)};class T8{constructor(t){this._delegate=t}cancel(t){(0,H.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,H.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,H.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,H.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,H.Dv)("OnDisconnect.set",1,2,arguments.length),(0,H.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,H.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,H.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,H.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,OV("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,H.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class I8{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,H.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class kh{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,H.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,H.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,H.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,H.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,H.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Sw("DataSnapshot.child","path",t,!1),new kh(this._database,this._delegate.child(t))}hasChild(t){return(0,H.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Sw("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,H.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,H.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,H.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new kh(this._database,e)))}hasChildren(){return(0,H.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,H.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,H.Dv)("DataSnapshot.ref",0,0,arguments.length),new ia(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ls{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,H.Dv)("Query.on",2,4,arguments.length),(0,H.Wj)("Query.on","callback",e,!1);const c=ls.getCancelAndContextArgs_("Query.on",i,r),d=(_,b)=>{e.call(c.context,new kh(this.database,_),b)};d.userCallback=e,d.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(t){case"value":return KR(this._delegate,d,p),e;case"child_added":return EV(this._delegate,d,p),e;case"child_removed":return DV(this._delegate,d,p),e;case"child_changed":return TV(this._delegate,d,p),e;case"child_moved":return IV(this._delegate,d,p),e;default:throw new Error((0,H.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,H.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,H.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,H.Wj)("Query.off","callback",e,!0),(0,H.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,SV(this._delegate,t,r)}else SV(this._delegate,t)}get(){return function P5(n){return g5((n=(0,H.m9)(n))._repo,n).then(t=>new Ip(t,new Qa(n._repo,n._path),n._queryParams.getIndex()))}(this._delegate).then(t=>new kh(this.database,t))}once(t,e,i,r){(0,H.Dv)("Query.once",1,4,arguments.length),(0,H.Wj)("Query.once","callback",e,!0);const s=ls.getCancelAndContextArgs_("Query.once",i,r),c=new H.BH,d=(_,b)=>{const T=new kh(this.database,_);e&&e.call(s.context,T,b),c.resolve(T)};d.userCallback=e,d.context=s.context;const p=_=>{s.cancel&&s.cancel.call(s.context,_),c.reject(_)};switch(t){case"value":KR(this._delegate,d,p,{onlyOnce:!0});break;case"child_added":EV(this._delegate,d,p,{onlyOnce:!0});break;case"child_removed":DV(this._delegate,d,p,{onlyOnce:!0});break;case"child_changed":TV(this._delegate,d,p,{onlyOnce:!0});break;case"child_moved":IV(this._delegate,d,p,{onlyOnce:!0});break;default:throw new Error((0,H.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,H.Dv)("Query.limitToFirst",1,1,arguments.length),new ls(this.database,Ql(this._delegate,function j5(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new H5(n)}(t)))}limitToLast(t){return(0,H.Dv)("Query.limitToLast",1,1,arguments.length),new ls(this.database,Ql(this._delegate,function G5(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new z5(n)}(t)))}orderByChild(t){return(0,H.Dv)("Query.orderByChild",1,1,arguments.length),new ls(this.database,Ql(this._delegate,function W5(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Sw("orderByChild","path",n,!1),new $5(n)}(t)))}orderByKey(){return(0,H.Dv)("Query.orderByKey",0,0,arguments.length),new ls(this.database,Ql(this._delegate,function Z5(){return new q5}()))}orderByPriority(){return(0,H.Dv)("Query.orderByPriority",0,0,arguments.length),new ls(this.database,Ql(this._delegate,function K5(){return new Y5}()))}orderByValue(){return(0,H.Dv)("Query.orderByValue",0,0,arguments.length),new ls(this.database,Ql(this._delegate,function J5(){return new Q5}()))}startAt(t=null,e){return(0,H.Dv)("Query.startAt",0,2,arguments.length),new ls(this.database,Ql(this._delegate,function B5(n=null,t){return Dw("startAt","key",t,!0),new AV(n,t)}(t,e)))}startAfter(t=null,e){return(0,H.Dv)("Query.startAfter",0,2,arguments.length),new ls(this.database,Ql(this._delegate,function U5(n,t){return Dw("startAfter","key",t,!0),new V5(n,t)}(t,e)))}endAt(t=null,e){return(0,H.Dv)("Query.endAt",0,2,arguments.length),new ls(this.database,Ql(this._delegate,function N5(n,t){return Dw("endAt","key",t,!0),new xV(n,t)}(t,e)))}endBefore(t=null,e){return(0,H.Dv)("Query.endBefore",0,2,arguments.length),new ls(this.database,Ql(this._delegate,function L5(n,t){return Dw("endBefore","key",t,!0),new F5(n,t)}(t,e)))}equalTo(t,e){return(0,H.Dv)("Query.equalTo",1,2,arguments.length),new ls(this.database,Ql(this._delegate,function e8(n,t){return Dw("equalTo","key",t,!0),new X5(n,t)}(t,e)))}toString(){return(0,H.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,H.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,H.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ls))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,H.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,H.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,H.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new ia(this.database,new Qa(this._delegate._repo,this._delegate._path))}}class ia extends ls{constructor(t,e){super(t,new No(e._repo,e._path,new FI,!1)),this.database=t,this._delegate=e}getKey(){return(0,H.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,H.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ia(this.database,Dp(this._delegate,t))}getParent(){(0,H.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ia(this.database,t):null}getRoot(){return(0,H.Dv)("Reference.root",0,0,arguments.length),new ia(this.database,this._delegate.root)}set(t,e){(0,H.Dv)("Reference.set",1,2,arguments.length),(0,H.Wj)("Reference.set","onComplete",e,!0);const i=YR(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,H.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,OV("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ya("Reference.update",this._delegate._path),(0,H.Wj)("Reference.update","onComplete",e,!0);const i=O5(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,H.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,H.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function R5(n,t,e){if(Ya("setWithPriority",n._path),Wc("setWithPriority",t,n._path,!1),HR("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new H.BH;return zR(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,H.Dv)("Reference.remove",0,1,arguments.length),(0,H.Wj)("Reference.remove","onComplete",t,!0);const e=function M5(n){return Ya("remove",n._path),YR(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,H.Dv)("Reference.transaction",1,3,arguments.length),(0,H.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,H.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,H.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function y8(n,t,e){var i;if(n=(0,H.m9)(n),Ya("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,s=new H.BH,d=KR(n,()=>{});return function E5(n,t,e,i,r,s){Tp(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:D2(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=$R(n,t,void 0);c.currentInputSnapshot=d;const p=c.update(d.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Iw("transaction failed: Data returned ",p,c.path),c.status=0;const _=XI(n.transactionQueueTree_,t),b=Ep(_)||[];let T;b.push(c),BR(_,b),"object"==typeof p&&null!==p&&(0,H.r3)(p,".priority")?(T=(0,H.DV)(p,".priority"),(0,H.hu)(Tw(T),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):T=(QI(n.serverSyncTree_,t)||Kt.EMPTY_NODE).getPriority().val();const A=xw(n),N=Fi(p,T),V=NR(N,d,A);c.currentOutputSnapshotRaw=N,c.currentOutputSnapshotResolved=V,c.currentWriteId=iD(n);const ue=AR(n.serverSyncTree_,t,V,c.currentWriteId,c.applyLocally);Ka(n.eventQueue_,t,ue),rD(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(p,_,b)=>{let T=null;p?s.reject(p):(T=new Ip(b,new Qa(n._repo,n._path),di),s.resolve(new _8(_,T)))},d,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new I8(s.committed,new kh(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,H.Dv)("Reference.setPriority",1,2,arguments.length),(0,H.Wj)("Reference.setPriority","onComplete",e,!0);const i=function k5(n,t){n=(0,H.m9)(n),Ya("setPriority",n._path),HR("setPriority",t,!1);const e=new H.BH;return zR(n._repo,Ii(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,H.Dv)("Reference.push",0,2,arguments.length),(0,H.Wj)("Reference.push","onComplete",e,!0);const i=function A5(n,t){n=(0,H.m9)(n),Ya("push",n._path),Wc("push",t,n._path,!0);const e=cV(n._repo),i=Lq(e),r=Dp(n,i),s=Dp(n,i);let c;return c=null!=t?YR(s,t).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new ia(this.database,c));e&&r.then(()=>e(null),c=>e(c));const s=new ia(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Ya("Reference.onDisconnect",this._delegate._path),new T8(new bV(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Mw{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:a8,forceLongPolling:l8}}useEmulator(t,e,i={}){!function c8(n,t,e,i={}){(n=(0,H.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&zc("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&zc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new lw(lw.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,H.Sg)(i.mockUserToken,n.app.options.projectId);s=new lw(c)}!function n8(n,t,e,i){n.repoInfo_=new Yk(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,H.Dv)("database.ref",0,1,arguments.length),t instanceof ia){const e=CV(this._delegate,t.toString());return new ia(this,e)}{const e=wV(this._delegate,t);return new ia(this,e)}}refFromURL(t){(0,H.Dv)("database.refFromURL",1,1,arguments.length);const i=CV(this._delegate,t);return new ia(this,i)}goOffline(){return(0,H.Dv)("database.goOffline",0,0,arguments.length),function u8(n){(n=(0,H.m9)(n))._checkNotDeleted("goOffline"),fV(n._repo)}(this._delegate)}goOnline(){return(0,H.Dv)("database.goOnline",0,0,arguments.length),function d8(n){(n=(0,H.m9)(n))._checkNotDeleted("goOnline"),function C5(n){n.persistentConnection_&&n.persistentConnection_.resume(lV)}(n._repo)}(this._delegate)}}Mw.ServerValue={TIMESTAMP:function g8(){return p8}(),increment:n=>function m8(n){return{".sv":{increment:n}}}(n)};var S8=Object.freeze({__proto__:null,initStandalone:function D8({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){T2(e);const c=new bo.zt("auth-internal",new bo.H0("database-standalone"));return c.setComponent(new bo.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Mw(kV(n,c,void 0,t,s),n),namespace:r}}});const x8=Mw.ServerValue;function PV(n){return null==n}function NV(n){return"function"==typeof n.set}function FV(n,t){return NV(t)?t:n.ref(t)}function LV(n,t){if(function M8(n){return"string"==typeof n}(n))return t.stringCase();if(NV(n))return t.firebaseCase();if(function k8(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function kw(n,t,e="on",i=ah.z){return new ai.y(r=>{let s=null;return s=n[e](t,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,pt.U)(r=>{const{snapshot:s,prevKey:c}=r;let d=null;return s.exists()&&(d=s.key),{type:t,payload:s,prevKey:c,key:d}}),(0,dc.B)())}function BV(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function P8(n,t){const{payload:e,prevKey:i,key:r}=t,s=BV(n,r),c=function O8(n,t){if(PV(t))return 0;{const e=BV(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(p=>{const _={payload:p,type:"value",prevKey:d,key:p.key};return d=p.key,n=[...n,_],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(p=>p.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function VV(n){return(PV(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function UV(n,t,e){return function R8(n,t,e){return kw(n,"value","once",e).pipe(En(i=>{const r=[lt(i)];return t.forEach(s=>r.push(kw(n,s,"on",e))),(0,cr.T)(...r).pipe(bf(P8,[]))}),dh())}(n,t=VV(t),e)}function HV(n,t,e){const i=(t=VV(t)).map(r=>kw(n,r,"on",e));return(0,cr.T)(...i)}function jV(n,t){return function(i,r){return LV(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function B8(n){return function(e){return e?LV(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function zV(n,t){return function(){return kw(n,"value","on",t)}}!function A8(n){n.INTERNAL.registerComponent(new bo.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new Mw(r,i)},"PUBLIC").setServiceProps({Reference:ia,Query:ls,Database:Mw,DataSnapshot:kh,enableLogging:h8,INTERNAL:S8,ServerValue:x8}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.3")}(w2.Z);const H8=new o.OlP("angularfire2.realtimeDatabaseURL"),j8=new o.OlP("angularfire2.database.use-emulator");let JR=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,T,A,N,V,ue,_e){this.schedulers=d;const je=p,Ke=(0,gi.on)(e,c,i);_&&ts(Ke,c,b,A,N,V,T,ue),this.database=(0,gi.cc)(`${Ke.name}.database.${r}`,"AngularFireDatabase",Ke.name,()=>{const Qe=c.runOutsideAngular(()=>Ke.database(r||void 0));return je&&Qe.useEmulator(...je),Qe},[je])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>FV(this.database,e));let s=r;return i&&(s=i(r)),function V8(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:jV(i,"update"),set:jV(i,"set"),push:r=>i.push(r),remove:B8(i),snapshotChanges:r=>UV(n,r,e).pipe(Jt.iC),stateChanges:r=>HV(n,r,e).pipe(Jt.iC),auditTrail:r=>function N8(n,t,e){return function L8(n,t,e){return function F8(n,t){return kw(n,"value","on",t).pipe((0,pt.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function OW(...n){const t=(0,$n.jO)(n);return(0,Ht.e)((e,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),d=!1;for(let p=0;p<r;p++)(0,br.Xf)(n[p]).subscribe(new Rn.Q(i,_=>{s[p]=_,!d&&!c[p]&&(c[p]=!0,(d=c.every(vo.y))&&(c=null))},Bm.Z));e.subscribe(new Rn.Q(i,p=>{if(d){const _=[p,...s];i.next(t?t(..._):_)}}))})}(t),(0,pt.U)(([r,s])=>{const c=r.lastKeyToLoad,d=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:d}}),function PW(n){return(0,Ht.e)((t,e)=>{let i=!1,r=0;t.subscribe(new Rn.Q(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,pt.U)(r=>r.actions))}(n,HV(n,t).pipe(bf((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(Jt.iC),valueChanges:(r,s)=>UV(n,r,e).pipe((0,pt.U)(d=>d.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),Jt.iC)}}(s,this)}object(e){return function U8(n,t){return{query:n,snapshotChanges:()=>zV(n,t.schedulers.outsideAngular)().pipe(Jt.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>zV(n,t.schedulers.outsideAngular)().pipe(Jt.iC,(0,pt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>FV(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gi.Dh),o.LFG(gi.xv,8),o.LFG(H8,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Jt.HU),o.LFG(j8,8),o.LFG(ns,8),o.LFG(me,8),o.LFG(Pe,8),o.LFG(st,8),o.LFG(Ct,8),o.LFG(Wt,8),o.LFG(Bn,8),o.LFG(Eu,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),z8=(()=>{class n{constructor(){fu.Z.registerVersion("angularfire",Jt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[JR]}),n})(),G8=(()=>{class n{constructor(e,i){this.menu=[],e.list("menu").valueChanges().subscribe(s=>{this.menu=s})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(JR),o.LFG(xo))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $8=function(n){return[n]};function W8(n,t){if(1&n&&(o.TgZ(0,"div",2)(1,"mat-icon",3),o._uU(2),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.qZA()()),2&n){const e=t.$implicit,i=o.oxw();o.Gre("menu-item  ",i.router.url.includes(e.route)?"selected":"",""),o.Q6J("routerLink",o.VKq(6,$8,e.route)),o.xp6(2),o.Oqu(e.icon),o.xp6(2),o.Oqu(e.name)}}let q8=(()=>{class n{constructor(e,i){this.menuProvider=e,this.router=i}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(G8),o.Y36(hr))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomi-menu"]],decls:2,vars:1,consts:[[1,"menu"],[3,"class","routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],[1,"material-symbols-outlined"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.YNc(1,W8,5,8,"div",1),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngForOf",i.menuProvider.menu))},directives:[bn,Fl,y_],styles:[".menu[_ngcontent-%COMP%]{height:100vh;width:14em;background-color:#424962}.menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{color:#fff;text-align:left;padding:6px 12px;border-bottom:1px solid white;display:flex;justify-content:space-between;transition:.4s ease}.menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover, .menu[_ngcontent-%COMP%]   .menu-item.selected[_ngcontent-%COMP%]{background-color:#fff;color:var(--accent-color);cursor:pointer}.menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-transform:uppercase;font-size:.8em}"]}),n})(),GV=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Z8=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Ha(e);return new ai.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new kt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(GV))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$V=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Qn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Cb(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Uu(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Z8),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),WV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[GV]}),n})();const Y8=["connectionContainer"],K8=["inputContainer"],Q8=["label"];function J8(n,t){1&n&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15)(3,"div",16)(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15)(7,"div",16)(8,"div",17),o.qZA(),o.BQk())}function X8(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",19),o.NdJ("cdkObserveContent",function(){return o.CHM(e),o.oxw().updateOutlineGap()}),o.Hsn(1,1),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function eZ(n,t){if(1&n&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&n){const e=o.oxw(2);o.xp6(3),o.Oqu(e._control.placeholder)}}function tZ(n,t){1&n&&o.Hsn(0,3,["*ngSwitchCase","true"])}function nZ(n,t){1&n&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function iZ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){return o.CHM(e),o.oxw().updateOutlineGap()}),o.YNc(2,eZ,4,1,"ng-container",12),o.YNc(3,tZ,1,0,"ng-content",12),o.YNc(4,nZ,2,0,"span",22),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),o.uIk("for",e._control.id)("aria-owns",e._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function rZ(n,t){1&n&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function sZ(n,t){if(1&n&&(o.TgZ(0,"div",25),o._UZ(1,"span",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function oZ(n,t){if(1&n&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function aZ(n,t){if(1&n&&(o.TgZ(0,"div",30),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function lZ(n,t){if(1&n&&(o.TgZ(0,"div",27),o.YNc(1,aZ,2,2,"div",28),o.Hsn(2,6),o._UZ(3,"div",29),o.Hsn(4,7),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const cZ=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],uZ=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],dZ=new o.OlP("MatError"),hZ={transitionMessages:ph("transitionMessages",[ta("enter",Ni({opacity:1,transform:"translateY(0%)"})),ja("void => enter",[Ni({opacity:0,transform:"translateY(-5px)"}),eo("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let uD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n}),n})();const fZ=new o.OlP("MatHint");let Rw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),pZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const gZ=new o.OlP("MatPrefix"),qV=new o.OlP("MatSuffix");let XR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSuffix",""]],features:[o._Bn([{provide:qV,useExisting:n}])]}),n})(),ZV=0;const _Z=Jb(class{constructor(n){this._elementRef=n}},"primary"),yZ=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),e1=new o.OlP("MatFormField");let t1=(()=>{class n extends _Z{constructor(e,i,r,s,c,d,p){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=c,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new kt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+ZV++,this._labelId="mat-form-field-label-"+ZV++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Qn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Yn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Kn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Kn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,cr.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Yn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Yn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Kn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Gu(this._label.nativeElement,"transitionend").pipe((0,Nn.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const b=i.querySelectorAll(`${r}, ${s}`);for(let T=0;T<b.length;T++)b[T].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,d=0;const p=i.querySelectorAll(r),_=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const b=i.getBoundingClientRect();if(0===b.width&&0===b.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const T=this._getStartEnd(b),A=e.children,N=this._getStartEnd(A[0].getBoundingClientRect());let V=0;for(let ue=0;ue<A.length;ue++)V+=A[ue].offsetWidth;c=Math.abs(N-T)-5,d=V>0?.75*V+10:0}for(let b=0;b<p.length;b++)p[b].style.width=`${c}px`;for(let b=0;b<_.length;b++)_[b].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Hl,8),o.Y36(yZ,8),o.Y36(os),o.Y36(o.R0b),o.Y36(jc,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,uD,5),o.Suo(r,uD,7),o.Suo(r,Rw,5),o.Suo(r,Rw,7),o.Suo(r,pZ,5),o.Suo(r,dZ,5),o.Suo(r,fZ,5),o.Suo(r,gZ,5),o.Suo(r,qV,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._controlNonStatic=s.first),o.iGM(s=o.CRH())&&(i._controlStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._placeholderChild=s.first),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(Y8,7),o.Gf(K8,5),o.Gf(Q8,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._connectionContainerRef=r.first),o.iGM(r=o.CRH())&&(i._inputContainerRef=r.first),o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&o.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:e1,useExisting:n}]),o.qOj],ngContentSelectors:uZ,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(o.F$t(cZ),o.TgZ(0,"div",0)(1,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),o.YNc(3,J8,9,0,"ng-container",3),o.YNc(4,X8,2,1,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,iZ,5,16,"label",8),o.qZA()(),o.YNc(10,rZ,2,0,"div",9),o.qZA(),o.YNc(11,sZ,2,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,oZ,2,1,"div",12),o.YNc(14,lZ,5,2,"div",13),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("ngIf","outline"==i.appearance),o.xp6(1),o.Q6J("ngIf",i._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",i._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",i._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=i.appearance),o.xp6(1),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},directives:[Mn,$V,or,Yi],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[hZ.transitionMessages]},changeDetection:0}),n})(),n1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ci,Wn,WV],Wn]}),n})();const KV=Qf({passive:!0});let vZ=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Du.E;const i=Ha(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new kt.x,c="cdk-text-field-autofilled",d=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,KV),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,KV)}}),s}stopMonitoring(e){const i=Ha(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(os),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const bZ=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),wZ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let CZ=0;const EZ=AL(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let r1=(()=>{class n extends EZ{constructor(e,i,r,s,c,d,p,_,b,T){super(d,s,c,r),this._elementRef=e,this._platform=i,this._autofillMonitor=_,this._formField=T,this._uid="mat-input-"+CZ++,this.focused=!1,this.stateChanges=new kt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(V=>aT().has(V)),this._iOSKeyupListener=V=>{const ue=V.target;!ue.value&&0===ue.selectionStart&&0===ue.selectionEnd&&(ue.setSelectionRange(1,1),ue.setSelectionRange(0,0))};const A=this._elementRef.nativeElement,N=A.nodeName.toLowerCase();this._inputValueAccessor=p||A,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&b.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===N,this._isTextarea="textarea"===N,this._isInFormField=!!T,this._isNativeSelect&&(this.controlType=A.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Qn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(Pf.required))&&void 0!==s&&s}set required(e){this._required=Qn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&aT().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Qn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){wZ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(os),o.Y36(Fa,10),o.Y36(Hf,8),o.Y36(nh,8),o.Y36(Ak),o.Y36(bZ,10),o.Y36(vZ),o.Y36(o.R0b),o.Y36(e1,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(o.Ikx("disabled",i.disabled)("required",i.required),o.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),o.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:uD,useExisting:n}]),o.qOj,o.TTD]}),n})(),JV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Ak],imports:[[QV,n1,Wn],QV,n1]}),n})();function TZ(n,t){1&n&&(o.ynx(0),o.TgZ(1,"mat-form-field",7)(2,"mat-label"),o._uU(3,"Usuario o Correo"),o.qZA(),o._UZ(4,"input",8),o.TgZ(5,"button",9)(6,"mat-icon"),o._uU(7,"close"),o.qZA()()(),o.TgZ(8,"mat-form-field",7)(9,"mat-label"),o._uU(10,"Contrase\xf1a"),o.qZA(),o._UZ(11,"input",10),o.TgZ(12,"button",9)(13,"mat-icon"),o._uU(14,"close"),o.qZA()()(),o.TgZ(15,"div",11)(16,"button",12),o._uU(17,"Crear cuenta"),o.qZA(),o.TgZ(18,"button",12),o._uU(19,"Siguiente"),o.qZA()(),o.BQk())}let XV=(()=>{class n{constructor(e){this.auth=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(om))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomii-auth"]],decls:9,vars:1,consts:[[1,"auth-container"],[1,"layout"],["src","assets/images/lomi.svg"],[2,"padding-top","1em","margin-bottom","1em"],[4,"ngIf"],["mat-button","",3,"click"],["src","assets/images/google-g.png"],["appearance","fill",1,"example-form-field"],["matInput","","type","text"],["matSuffix","","mat-icon-button","","aria-label","Clear"],["matInput","","type","password"],[2,"display","flex","justify-content","space-between","width","100%"],["mat-button",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"img",2),o.TgZ(3,"h1",3),o._uU(4,"\xbf Quien eres ?"),o.qZA(),o.YNc(5,TZ,20,0,"ng-container",4),o.TgZ(6,"button",5),o.NdJ("click",function(){return i.auth.loginWithGoogle()}),o._UZ(7,"img",6),o._uU(8,"Iniciar sesi\xf3n con Google"),o.qZA()()()),2&e&&(o.xp6(5),o.Q6J("ngIf",!1))},directives:[Mn,t1,Rw,r1,m_,XR,y_],styles:[".auth-container[_ngcontent-%COMP%]{background-color:var(--accent-color);height:calc(100vh - 4em);width:100vw;display:flex;justify-content:center;align-items:center}.layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:16px;border-radius:15px;width:40em;background-color:#fff}.layout[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:30px}"]}),n})();function IZ(n,t){1&n&&(o.ynx(0),o.TgZ(1,"mat-drawer-container",8)(2,"mat-drawer",9,10),o._UZ(4,"lomi-menu"),o.qZA(),o.TgZ(5,"div",11)(6,"div",12),o._UZ(7,"router-outlet"),o.qZA()()(),o.BQk())}const DZ=function(){return["/"]};let SZ=(()=>{class n{constructor(e){this.auth=e,this.userId=0,this.adapter=new Vc,this.title="lomi-material"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(om))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomii-root"]],decls:19,vars:4,consts:[["color","tertiary"],["src","assets/images/lomi.svg",2,"max-height","60px",3,"routerLink"],[1,"spacer"],["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item",""],[4,"ngIf"],["autosize","",1,"example-container"],["opened","","mode","side",1,"example-sidenav"],["drawer",""],[1,"example-sidenav-content"],[1,"p",2,"padding-top","0em","height","100vh"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div")(1,"mat-toolbar",0),o._UZ(2,"img",1)(3,"span",2),o.TgZ(4,"button",3)(5,"mat-icon"),o._uU(6,"menu"),o.qZA()(),o.TgZ(7,"mat-menu",null,4)(9,"button",5),o.NdJ("click",function(){return i.auth.logout()}),o.TgZ(10,"mat-icon"),o._uU(11,"logout"),o.qZA(),o._uU(12,"Cerrar Sesi\xf3n"),o.qZA(),o.TgZ(13,"button",6)(14,"mat-icon"),o._uU(15,"settings"),o.qZA(),o._uU(16,"Configuraci\xf3n"),o.qZA()()()(),o.YNc(17,IZ,8,0,"ng-container",7),o._UZ(18,"lomii-auth")),2&e){const r=o.MAs(8);o.xp6(2),o.Q6J("routerLink",o.DdM(3,DZ)),o.xp6(2),o.Q6J("matMenuTriggerFor",r),o.xp6(13),o.Q6J("ngIf",i.auth.signedIn)}},directives:[h6,Fl,m_,pW,y_,uW,EI,Mn,b_,v_,q8,Hd,XV],styles:[""]}),n})();const xZ=["*",[["mat-card-footer"]]],AZ=["*","mat-card-footer"];let eU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),tU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),n})(),dD=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(jc,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:AZ,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(xZ),o.Hsn(0),o.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),nU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Wn],Wn]}),n})(),rU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[ML,Wn],ML,Wn]}),n})();M(6457);class oU{constructor(){return(0,Jt.vb)("auth")}}var ht,NZ="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},qu={},a1=a1||{},jt=NZ||self;function hD(){}function l1(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Ow(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var c1="closure_uid_"+(1e9*Math.random()>>>0),LZ=0;function BZ(n,t,e){return n.call.apply(n.bind,arguments)}function VZ(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function cs(n,t,e){return(cs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?BZ:VZ).apply(null,arguments)}function fD(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function us(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return t.prototype[r].apply(i,c)}}function Rh(){this.s=this.s,this.o=this.o}var HZ={};Rh.prototype.s=!1,Rh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function FZ(n){return Object.prototype.hasOwnProperty.call(n,c1)&&n[c1]||(n[c1]=++LZ)}(this);delete HZ[n]}},Rh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const aU=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},lU=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&t.call(e,r[s],s,n)};function cU(n){return Array.prototype.concat.apply([],arguments)}function u1(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function pD(n){return/^[\s\xa0]*$/.test(n)}var so,uU=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ro(n,t){return-1!=n.indexOf(t)}function d1(n,t){return n<t?-1:n>t?1:0}e:{var dU=jt.navigator;if(dU){var hU=dU.userAgent;if(hU){so=hU;break e}}so=""}function h1(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function fU(n){const t={};for(const e in n)t[e]=n[e];return t}var pU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gU(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<pU.length;s++)e=pU[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function f1(n){return f1[" "](n),n}f1[" "]=hD;var gD,n,GZ=ro(so,"Opera"),O_=ro(so,"Trident")||ro(so,"MSIE"),mU=ro(so,"Edge"),p1=mU||O_,_U=ro(so,"Gecko")&&!(ro(so.toLowerCase(),"webkit")&&!ro(so,"Edge"))&&!(ro(so,"Trident")||ro(so,"MSIE"))&&!ro(so,"Edge"),$Z=ro(so.toLowerCase(),"webkit")&&!ro(so,"Edge");function yU(){var n=jt.document;return n?n.documentMode:void 0}e:{var g1="",m1=(n=so,_U?/rv:([^\);]+)(\)|;)/.exec(n):mU?/Edge\/([\d\.]+)/.exec(n):O_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):$Z?/WebKit\/(\S+)/.exec(n):GZ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(m1&&(g1=m1?m1[1]:""),O_){var _1=yU();if(null!=_1&&_1>parseFloat(g1)){gD=String(_1);break e}}gD=g1}var WZ={};var ZZ=jt.document&&O_&&(yU()||parseInt(gD,10))||void 0,YZ=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",hD,t),jt.removeEventListener("test",hD,t)}catch(e){}return n}();function As(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Pw(n,t){if(As.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(_U){e:{try{f1(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:KZ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Pw.Z.h.call(this)}}As.prototype.h=function(){this.defaultPrevented=!0},us(Pw,As);var KZ={2:"touch",3:"pen",4:"mouse"};Pw.prototype.h=function(){Pw.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Nw="closure_listenable_"+(1e6*Math.random()|0),QZ=0;function JZ(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++QZ,this.ca=this.fa=!1}function mD(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function _D(n){this.src=n,this.g={},this.h=0}function v1(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=aU(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(mD(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function b1(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==t&&s.capture==!!e&&s.ia==i)return r}return-1}_D.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=b1(n,t,i,r);return-1<c?(t=n[c],e||(t.fa=!1)):((t=new JZ(t,this.src,s,!!i,r)).fa=e,n.push(t)),t};var w1="closure_lm_"+(1e6*Math.random()|0),C1={};function bU(n,t,e,i,r){if(i&&i.once)return CU(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)bU(n,t[s],e,i,r);return null}return e=D1(e),n&&n[Nw]?n.N(t,e,Ow(i)?!!i.capture:!!i,r):wU(n,t,e,!1,i,r)}function wU(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var c=Ow(r)?!!r.capture:!!r,d=T1(n);if(d||(n[w1]=d=new _D(n)),(e=d.add(t,e,i,c,s)).proxy)return e;if(i=function XZ(){var t=eY;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)YZ||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(TU(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function CU(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)CU(n,t[s],e,i,r);return null}return e=D1(e),n&&n[Nw]?n.O(t,e,Ow(i)?!!i.capture:!!i,r):wU(n,t,e,!0,i,r)}function EU(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)EU(n,t[s],e,i,r);else i=Ow(i)?!!i.capture:!!i,e=D1(e),n&&n[Nw]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=b1(s=n.g[t],e,i,r))&&(mD(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=T1(n))&&(t=n.g[t.toString()],n=-1,t&&(n=b1(t,e,i,r)),(e=-1<n?t[n]:null)&&E1(e))}function E1(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Nw])v1(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(TU(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=T1(t))?(v1(e,n),0==e.h&&(e.src=null,t[w1]=null)):mD(n)}}}function TU(n){return n in C1?C1[n]:C1[n]="on"+n}function eY(n,t){if(n.ca)n=!0;else{t=new Pw(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&E1(n),n=e.call(i,t)}return n}function T1(n){return(n=n[w1])instanceof _D?n:null}var I1="__closure_events_fn_"+(1e9*Math.random()>>>0);function D1(n){return"function"==typeof n?n:(n[I1]||(n[I1]=function(t){return n.handleEvent(t)}),n[I1])}function Vr(){Rh.call(this),this.i=new _D(this),this.P=this,this.I=null}function ds(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new As(t,n);else if(t instanceof As)t.target=t.target||n;else{var r=t;gU(t=new As(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var c=t.g=e[s];r=yD(c,i,!0,t)&&r}if(r=yD(c=t.g=n,i,!0,t)&&r,r=yD(c,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=yD(c=t.g=e[s],i,!1,t)&&r}function yD(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var c=t[s];if(c&&!c.ca&&c.capture==e){var d=c.listener,p=c.ia||c.src;c.fa&&v1(n.i,c),r=!1!==d.call(p,i)&&r}}return r&&!i.defaultPrevented}us(Vr,Rh),Vr.prototype[Nw]=!0,Vr.prototype.removeEventListener=function(n,t,e,i){EU(this,n,t,e,i)},Vr.prototype.M=function(){if(Vr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)mD(e[i]);delete n.g[t],n.h--}}this.I=null},Vr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Vr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var S1=jt.JSON.stringify;function tY(){var n=DU;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var A1,IU=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new iY,n=>n.reset());class iY{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function rY(n){jt.setTimeout(()=>{throw n},0)}function x1(n,t){A1||function sY(){var n=jt.Promise.resolve(void 0);A1=function(){n.then(oY)}}(),M1||(A1(),M1=!0),DU.add(n,t)}var M1=!1,DU=new class nY{constructor(){this.h=this.g=null}add(t,e){const i=IU.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function oY(){for(var n;n=tY();){try{n.h.call(n.g)}catch(e){rY(e)}var t=IU;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}M1=!1}function vD(n,t){Vr.call(this),this.h=n||1,this.g=t||jt,this.j=cs(this.kb,this),this.l=Date.now()}function k1(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function R1(n,t,e){if("function"==typeof n)e&&(n=cs(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=cs(n.handleEvent,n)}return 2147483647<Number(t)?-1:jt.setTimeout(n,t||0)}function SU(n){n.g=R1(()=>{n.g=null,n.i&&(n.i=!1,SU(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}us(vD,Vr),(ht=vD.prototype).da=!1,ht.S=null,ht.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ds(this,"tick"),this.da&&(k1(this),this.start()))}},ht.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ht.M=function(){vD.Z.M.call(this),k1(this),delete this.g};class aY extends Rh{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:SU(this)}M(){super.M(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fw(n){Rh.call(this),this.h=n,this.g={}}us(Fw,Rh);var xU=[];function AU(n,t,e,i){Array.isArray(e)||(e&&(xU[0]=e.toString()),e=xU);for(var r=0;r<e.length;r++){var s=bU(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function MU(n){h1(n.g,function(t,e){this.g.hasOwnProperty(e)&&E1(t)},n),n.g={}}function bD(){this.g=!0}function P_(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function dY(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return S1(e)}catch(d){return t}}(n,e)+(i?" "+i:"")})}Fw.prototype.M=function(){Fw.Z.M.call(this),MU(this)},Fw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bD.prototype.Aa=function(){this.g=!1},bD.prototype.info=function(){};var xp={},kU=null;function wD(){return kU=kU||new Vr}function RU(n){As.call(this,xp.Ma,n)}function Lw(n){const t=wD();ds(t,new RU(t,n))}function OU(n,t){As.call(this,xp.STAT_EVENT,n),this.stat=t}function oo(n){const t=wD();ds(t,new OU(t,n))}function PU(n,t){As.call(this,xp.Na,n),this.size=t}function Bw(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},t)}xp.Ma="serverreachability",us(RU,As),xp.STAT_EVENT="statevent",us(OU,As),xp.Na="timingevent",us(PU,As);var CD={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},NU={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function O1(){}function LU(){}O1.prototype.h=null;var F1,Vw={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function P1(){As.call(this,"d")}function N1(){As.call(this,"c")}function ED(){}function Uw(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Fw(this),this.P=hY,this.W=new vD(n=p1?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new BU}function BU(){this.i=null,this.g="",this.h=!1}us(P1,As),us(N1,As),us(ED,O1),ED.prototype.g=function(){return new XMLHttpRequest},ED.prototype.i=function(){return{}},F1=new ED;var hY=45e3,L1={},TD={};function B1(n,t,e){n.K=1,n.v=AD(Zu(t)),n.s=e,n.U=!0,VU(n,null)}function VU(n,t){n.F=Date.now(),Hw(n),n.A=Zu(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),ZU(e.h,"t",i),n.C=0,e=n.l.H,n.h=new BU,n.g=_H(n.l,e?t:null,!n.s),0<n.O&&(n.L=new aY(cs(n.Ia,n,n.g),n.O)),AU(n.V,n.g,"readystatechange",n.gb),t=n.H?fU(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Lw(1),function lY(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),p=0;p<d.length;p++){var _=d[p].split("=");if(1<_.length){var b=_[0];_=_[1];var T=b.split("_");c=2<=T.length&&"type"==T[1]?c+(b+"=")+_+"&":c+(b+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function UU(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function HU(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=fY(n,e),r==TD){4==t&&(n.o=4,oo(14),i=!1),P_(n.j,n.m,null,"[Incomplete Response]");break}if(r==L1){n.o=4,oo(15),P_(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}P_(n.j,n.m,r,null),V1(n,r)}UU(n)&&r!=TD&&r!=L1&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,oo(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),K1(t),t.L=!0,oo(11))):(P_(n.j,n.m,e,"[Invalid Chunked Response]"),Ap(n),jw(n))}function fY(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?TD:(e=Number(t.substring(e,i)),isNaN(e)?L1:(i+=1)+e>t.length?TD:(t=t.substr(i,e),n.C=i+e,t))}function Hw(n){n.Y=Date.now()+n.P,jU(n,n.P)}function jU(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Bw(cs(n.eb,n),t)}function ID(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function jw(n){0==n.l.G||n.I||fH(n.l,n)}function Ap(n){ID(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,k1(n.W),MU(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function V1(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||j1(e.i,n)))if(e.I=n.N,!n.J&&j1(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(_){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=Bw(cs(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;ND(e),OD(e)}Y1(e),oo(18)}if(1>=QU(e.i)&&e.ka){try{e.ka()}catch(_){}e.ka=void 0}}else Rp(e,11)}else if((n.J||e.g==n)&&ND(e),!pD(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let _=r[t];if(e.U=_[0],_=_[1],2==e.G)if("c"==_[0]){e.J=_[1],e.la=_[2];const b=_[3];null!=b&&(e.ma=b,e.h.info("VER="+e.ma));const T=_[4];null!=T&&(e.za=T,e.h.info("SVER="+e.za));const A=_[5];null!=A&&"number"==typeof A&&0<A&&(e.K=i=1.5*A,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const N=n.g;if(N){const V=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var s=i.i;!s.g&&(ro(V,"spdy")||ro(V,"quic")||ro(V,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(z1(s,s.h),s.h=null))}if(i.D){const ue=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;ue&&(i.sa=ue,Di(i.F,i.D,ue))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var c=n;if((i=e).oa=mH(i,i.H?i.la:null,i.W),c.J){JU(i.i,c);var d=c,p=i.K;p&&d.setTimeout(p),d.B&&(ID(d),Hw(d)),i.g=c}else dH(i);0<e.l.length&&PD(e)}else"stop"!=_[0]&&"close"!=_[0]||Rp(e,7);else 3==e.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Rp(e,7):q1(e):"noop"!=_[0]&&e.j&&e.j.wa(_),e.A=0)}Lw(4)}catch(_){}}function U1(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(l1(n)||"string"==typeof n)lU(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(l1(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function pY(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(l1(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}}function N_(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof N_)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function H1(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];Mp(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)Mp(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function Mp(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(ht=Uw.prototype).setTimeout=function(n){this.P=n},ht.gb=function(n){n=n.target;const t=this.L;t&&3==Yu(n)?t.l():this.Ia(n)},ht.Ia=function(n){try{if(n==this.g)e:{const b=Yu(this.g);var t=this.g.Da();const T=this.g.ba();if(!(3>b)&&(3!=b||p1||this.g&&(this.h.h||this.g.ga()||oH(this.g)))){this.I||4!=b||7==t||Lw(8==t||0>=T?3:2),ID(this);var e=this.g.ba();this.N=e;t:if(UU(this)){var i=oH(this.g);n="";var r=i.length,s=4==Yu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ap(this),jw(this);var c="";break t}this.h.i=new jt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==e,function cY(n,t,e,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.X,b,e),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pD(d)){var _=d;break t}}_=null}if(!(e=_)){this.i=!1,this.o=3,oo(12),Ap(this),jw(this);break e}P_(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,V1(this,e)}this.U?(HU(this,b,c),p1&&this.i&&3==b&&(AU(this.V,this.W,"tick",this.fb),this.W.start())):(P_(this.j,this.m,c,null),V1(this,c)),4==b&&Ap(this),this.i&&!this.I&&(4==b?fH(this.l,this):(this.i=!1,Hw(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,oo(12)):(this.o=0,oo(13)),Ap(this),jw(this)}}}catch(b){}},ht.fb=function(){if(this.g){var n=Yu(this.g),t=this.g.ga();this.C<t.length&&(ID(this),HU(this,n,t),this.i&&4!=n&&Hw(this))}},ht.cancel=function(){this.I=!0,Ap(this)},ht.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function uY(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Lw(3),oo(17)),Ap(this),this.o=2,jw(this)):jU(this,this.Y-n)},(ht=N_.prototype).R=function(){H1(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},ht.T=function(){return H1(this),this.g.concat()},ht.get=function(n,t){return Mp(this.h,n)?this.h[n]:t},ht.set=function(n,t){Mp(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},ht.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],s=this.get(r);n.call(t,s,r,this)}};var zU=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function kp(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof kp){this.g=void 0!==t?t:n.g,DD(this,n.j),this.s=n.s,SD(this,n.i),xD(this,n.m),this.l=n.l,t=n.h;var e=new $w;e.i=t.i,t.g&&(e.g=new N_(t.g),e.h=t.h),GU(this,e),this.o=n.o}else n&&(e=String(n).match(zU))?(this.g=!!t,DD(this,e[1]||"",!0),this.s=zw(e[2]||""),SD(this,e[3]||"",!0),xD(this,e[4]),this.l=zw(e[5]||"",!0),GU(this,e[6]||"",!0),this.o=zw(e[7]||"")):(this.g=!!t,this.h=new $w(null,this.g))}function Zu(n){return new kp(n)}function DD(n,t,e){n.j=e?zw(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function SD(n,t,e){n.i=e?zw(t,!0):t}function xD(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function GU(n,t,e){t instanceof $w?(n.h=t,function EY(n,t){t&&!n.j&&(Oh(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(WU(this,i),ZU(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=Gw(t,wY)),n.h=new $w(t,n.g))}function Di(n,t,e){n.h.set(t,e)}function AD(n){return Di(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function zw(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gw(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,yY),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function yY(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}kp.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Gw(t,$U,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Gw(t,$U,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(Gw(e,"/"==e.charAt(0)?bY:vY,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Gw(e,CY)),n.join("")};var $U=/[#\/\?@]/g,vY=/[#\?:]/g,bY=/[#\?]/g,wY=/[#\?@]/g,CY=/#/g;function $w(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Oh(n){n.g||(n.g=new N_,n.h=0,n.i&&function gY(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function WU(n,t){Oh(n),t=F_(n,t),Mp(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Mp((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&H1(n)))}function qU(n,t){return Oh(n),t=F_(n,t),Mp(n.g.h,t)}function ZU(n,t,e){WU(n,t),0<e.length&&(n.i=null,n.g.set(F_(n,t),u1(e)),n.h+=e.length)}function F_(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function YU(n){this.l=n||IY,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ea&&jt.g.Ea()&&jt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ht=$w.prototype).add=function(n,t){Oh(this),this.i=null,n=F_(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ht.forEach=function(n,t){Oh(this),this.g.forEach(function(e,i){lU(e,function(r){n.call(t,r,i,this)},this)},this)},ht.T=function(){Oh(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],s=0;s<r.length;s++)e.push(t[i]);return e},ht.R=function(n){Oh(this);var t=[];if("string"==typeof n)qU(this,n)&&(t=cU(t,this.g.get(F_(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=cU(t,n[e])}return t},ht.set=function(n,t){return Oh(this),this.i=null,qU(this,n=F_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ht.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},ht.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var c=r;""!==i[s]&&(c+="="+encodeURIComponent(String(i[s]))),n.push(c)}}return this.i=n.join("&")};var IY=10;function KU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function QU(n){return n.h?1:n.g?n.g.size:0}function j1(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function z1(n,t){n.g?n.g.add(t):n.h=t}function JU(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function XU(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return u1(n.i)}function G1(){}function DY(){this.g=new G1}function SY(n,t,e){const i=e||"";try{U1(n,function(r,s){let c=r;Ow(r)&&(c=S1(r)),t.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function MD(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(s){}}function Ww(n){this.l=n.$b||null,this.j=n.ib||!1}function kD(n,t){Vr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=$1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}YU.prototype.cancel=function(){if(this.i=XU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},G1.prototype.stringify=function(n){return jt.JSON.stringify(n,void 0)},G1.prototype.parse=function(n){return jt.JSON.parse(n,void 0)},us(Ww,O1),Ww.prototype.g=function(){return new kD(this.l,this.j)},Ww.prototype.i=function(n){return function(){return n}}({}),us(kD,Vr);var $1=0;function eH(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function qw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Zw(n)}function Zw(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ht=kD.prototype).open=function(n,t){if(this.readyState!=$1)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Zw(this)},ht.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||jt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ht.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qw(this)),this.readyState=$1},ht.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Zw(this)),this.g&&(this.readyState=3,Zw(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==jt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eH(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ht.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?qw(this):Zw(this),3==this.readyState&&eH(this)}},ht.Ua=function(n){this.g&&(this.response=this.responseText=n,qw(this))},ht.Ta=function(n){this.g&&(this.response=n,qw(this))},ht.ha=function(){this.g&&qw(this)},ht.setRequestHeader=function(n,t){this.v.append(n,t)},ht.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ht.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(kD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var AY=jt.JSON.parse;function fr(n){Vr.call(this),this.headers=new N_,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=tH,this.K=this.L=!1}us(fr,Vr);var tH="",MY=/^https?$/i,kY=["POST","PUT"];function OY(n){return"content-type"==n.toLowerCase()}function nH(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,iH(n),RD(n)}function iH(n){n.D||(n.D=!0,ds(n,"complete"),ds(n,"error"))}function rH(n){if(n.h&&void 0!==a1&&(!n.C[1]||4!=Yu(n)||2!=n.ba()))if(n.v&&4==Yu(n))R1(n.Fa,0,n);else if(ds(n,"readystatechange"),4==Yu(n)){n.h=!1;try{const d=n.ba();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===d){var r=String(n.H).match(zU)[1]||null;if(!r&&jt.self&&jt.self.location){var s=jt.self.location.protocol;r=s.substr(0,s.length-1)}i=!MY.test(r?r.toLowerCase():"")}e=i}if(e)ds(n,"complete"),ds(n,"success");else{n.m=6;try{var c=2<Yu(n)?n.g.statusText:""}catch(p){c=""}n.j=c+" ["+n.ba()+"]",iH(n)}}finally{RD(n)}}}function RD(n,t){if(n.g){sH(n);const e=n.g,i=n.C[0]?hD:null;n.g=null,n.C=null,t||ds(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function sH(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function Yu(n){return n.g?n.g.readyState:0}function oH(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case tH:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function W1(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function PY(n){let t="";return h1(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Di(n,t,e))}function Yw(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function aH(n){this.za=0,this.l=[],this.h=new bD,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Yw("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Yw("baseRetryDelayMs",5e3,n),this.$a=Yw("retryDelaySeedMs",1e4,n),this.Ya=Yw("forwardChannelMaxRetries",2,n),this.ra=Yw("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new YU(n&&n.concurrentRequestLimit),this.Ca=new DY,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function q1(n){if(lH(n),3==n.G){var t=n.V++,e=Zu(n.F);Di(e,"SID",n.J),Di(e,"RID",t),Di(e,"TYPE","terminate"),Kw(n,e),(t=new Uw(n,n.h,t,void 0)).K=2,t.v=AD(Zu(e)),e=!1,jt.navigator&&jt.navigator.sendBeacon&&(e=jt.navigator.sendBeacon(t.v.toString(),"")),!e&&jt.Image&&((new Image).src=t.v,e=!0),e||(t.g=_H(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Hw(t)}gH(n)}function OD(n){n.g&&(K1(n),n.g.cancel(),n.g=null)}function lH(n){OD(n),n.u&&(jt.clearTimeout(n.u),n.u=null),ND(n),n.i.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function Z1(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&PD(n)}function PD(n){KU(n.i)||n.m||(n.m=!0,x1(n.Ha,n),n.C=0)}function cH(n,t){var e;e=t?t.m:n.V++;const i=Zu(n.F);Di(i,"SID",n.J),Di(i,"RID",e),Di(i,"AID",n.U),Kw(n,i),n.o&&n.s&&W1(i,n.o,n.s),e=new Uw(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=uH(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),z1(n.i,e),B1(e,i,t)}function Kw(n,t){n.j&&U1({},function(e,i){Di(t,i,e)})}function uH(n,t,e){e=Math.min(n.l.length,e);var i=n.j?cs(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const c=["count="+e];-1==s?0<e?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let p=0;p<e;p++){let _=r[p].h;const b=r[p].g;if(_-=s,0>_)s=Math.max(0,r[p].h-100),d=!1;else try{SY(b,c,"req"+_+"_")}catch(T){i&&i(b)}}if(d){i=c.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function dH(n){n.g||n.u||(n.Y=1,x1(n.Ga,n),n.A=0)}function Y1(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Bw(cs(n.Ga,n),pH(n,n.A)),n.A++,0))}function K1(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function hH(n){n.g=new Uw(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Zu(n.oa);Di(t,"RID","rpc"),Di(t,"SID",n.J),Di(t,"CI",n.N?"0":"1"),Di(t,"AID",n.U),Kw(n,t),Di(t,"TYPE","xmlhttp"),n.o&&n.s&&W1(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=AD(Zu(t)),e.s=null,e.U=!0,VU(e,n)}function ND(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function fH(n,t){var e=null;if(n.g==t){ND(n),K1(n),n.g=null;var i=2}else{if(!j1(n.i,t))return;e=t.D,JU(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;ds(i=wD(),new PU(i,e,t,r)),PD(n)}else dH(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function NY(n,t){return!(QU(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Bw(cs(n.Ha,n,t),pH(n,n.C)),n.C++,0)))}(n,t)||2==i&&Y1(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Rp(n,5);break;case 4:Rp(n,10);break;case 3:Rp(n,6);break;default:Rp(n,2)}}function pH(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Rp(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=cs(n.jb,n);e||(e=new kp("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||DD(e,"https"),AD(e)),function xY(n,t){const e=new bD;if(jt.Image){const i=new Image;i.onload=fD(MD,e,i,"TestLoadImage: loaded",!0,t),i.onerror=fD(MD,e,i,"TestLoadImage: error",!1,t),i.onabort=fD(MD,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=fD(MD,e,i,"TestLoadImage: timeout",!1,t),jt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else oo(2);n.G=0,n.j&&n.j.va(t),gH(n),lH(n)}function gH(n){n.G=0,n.I=-1,n.j&&((0!=XU(n.i).length||0!=n.l.length)&&(n.i.i.length=0,u1(n.l),n.l.length=0),n.j.ua())}function mH(n,t,e){let i=function mY(n){return n instanceof kp?Zu(n):new kp(n,void 0)}(e);if(""!=i.i)t&&SD(i,t+"."+i.i),xD(i,i.m);else{const r=jt.location;i=function _Y(n,t,e,i){var r=new kp(null,void 0);return n&&DD(r,n),t&&SD(r,t),e&&xD(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&h1(n.aa,function(r,s){Di(i,s,r)}),e=n.sa,(t=n.D)&&e&&Di(i,t,e),Di(i,"VER",n.ma),Kw(n,i),i}function _H(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new fr(e&&n.Ba&&!n.qa?new Ww({ib:!0}):n.qa)).L=n.H,t}function yH(){}function FD(){if(O_&&!(10<=Number(ZZ)))throw Error("Environmental error: no available transport.")}function ra(n,t){Vr.call(this),this.g=new aH(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!pD(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!pD(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new L_(this)}function vH(n){P1.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function bH(){N1.call(this),this.status=1}function L_(n){this.g=n}(ht=fr.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():F1.g(),this.C=function FU(n){return n.h||(n.h=n.i())}(this.u?this.u:F1),this.g.onreadystatechange=cs(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void nH(this,s)}n=e||"";const r=new N_(this.headers);i&&U1(i,function(s,c){r.set(c,s)}),i=function jZ(n){e:{var t=OY;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=jt.FormData&&n instanceof jt.FormData,!(0<=aU(kY,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sH(this),0<this.B&&((this.K=function RY(n){return O_&&function qZ(){return function zZ(n){var t=WZ;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=uU(String(gD)).split("."),e=uU("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",s=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=d1(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||d1(0==r[2].length,0==s[2].length)||d1(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cs(this.pa,this)):this.A=R1(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){nH(this,s)}},ht.pa=function(){void 0!==a1&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ds(this,"timeout"),this.abort(8))},ht.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ds(this,"complete"),ds(this,"abort"),RD(this))},ht.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),RD(this,!0)),fr.Z.M.call(this)},ht.Fa=function(){this.s||(this.F||this.v||this.l?rH(this):this.cb())},ht.cb=function(){rH(this)},ht.ba=function(){try{return 2<Yu(this)?this.g.status:-1}catch(n){return-1}},ht.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ht.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),AY(t)}},ht.Da=function(){return this.m},ht.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ht=aH.prototype).ma=8,ht.G=1,ht.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},ht.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Uw(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=fU(s),gU(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=uH(this,r,t),Di(e=Zu(this.F),"RID",n),Di(e,"CVER",22),this.D&&Di(e,"X-HTTP-Session-Id",this.D),Kw(this,e),this.o&&s&&W1(e,this.o,s),z1(this.i,r),this.Ra&&Di(e,"TYPE","init"),this.ja?(Di(e,"$req",t),Di(e,"SID","null"),r.$=!0,B1(r,e,null)):B1(r,e,t),this.G=2}}else 3==this.G&&(n?cH(this,n):0==this.l.length||KU(this.i)||cH(this))},ht.Ga=function(){if(this.u=null,hH(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Bw(cs(this.bb,this),n)}},ht.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,oo(10),OD(this),hH(this))},ht.ab=function(){null!=this.v&&(this.v=null,OD(this),Y1(this),oo(19))},ht.jb=function(n){n?(this.h.info("Successfully pinged google.com"),oo(2)):(this.h.info("Failed to ping google.com"),oo(1))},(ht=yH.prototype).xa=function(){},ht.wa=function(){},ht.va=function(){},ht.ua=function(){},ht.Oa=function(){},FD.prototype.g=function(n,t){return new ra(n,t)},us(ra,Vr),ra.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),x1(cs(n.hb,n,t))),oo(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=mH(n,null,n.W),PD(n)},ra.prototype.close=function(){q1(this.g)},ra.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,Z1(this.g,t)}else this.v?((t={}).__data__=S1(n),Z1(this.g,t)):Z1(this.g,n)},ra.prototype.M=function(){this.g.j=null,delete this.j,q1(this.g),delete this.g,ra.Z.M.call(this)},us(vH,P1),us(bH,N1),us(L_,yH),L_.prototype.xa=function(){ds(this.g,"a")},L_.prototype.wa=function(n){ds(this.g,new vH(n))},L_.prototype.va=function(n){ds(this.g,new bH(n))},L_.prototype.ua=function(){ds(this.g,"b")},FD.prototype.createWebChannel=FD.prototype.g,ra.prototype.send=ra.prototype.u,ra.prototype.open=ra.prototype.m,ra.prototype.close=ra.prototype.close,CD.NO_ERROR=0,CD.TIMEOUT=8,CD.HTTP_ERROR=6,NU.COMPLETE="complete",LU.EventType=Vw,Vw.OPEN="a",Vw.CLOSE="b",Vw.ERROR="c",Vw.MESSAGE="d",Vr.prototype.listen=Vr.prototype.N,fr.prototype.listenOnce=fr.prototype.O,fr.prototype.getLastError=fr.prototype.La,fr.prototype.getLastErrorCode=fr.prototype.Da,fr.prototype.getStatus=fr.prototype.ba,fr.prototype.getResponseJson=fr.prototype.Qa,fr.prototype.getResponseText=fr.prototype.ga,fr.prototype.send=fr.prototype.ea;var FY=qu.createWebChannelTransport=function(){return new FD},LY=qu.getStatEventTarget=function(){return wD()},Q1=qu.ErrorCode=CD,BY=qu.EventType=NU,VY=qu.Event=xp,wH=qu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},UY=qu.FetchXmlHttpFactory=Ww,LD=qu.WebChannel=LU,HY=qu.XhrIo=fr;const CH="@firebase/firestore";class Ur{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ur.UNAUTHENTICATED=new Ur(null),Ur.GOOGLE_CREDENTIALS=new Ur("google-credentials-uid"),Ur.FIRST_PARTY=new Ur("first-party-uid"),Ur.MOCK_USER=new Ur("mock-user");let B_="9.9.0";const Ph=new wo.Yd("@firebase/firestore");function J1(){return Ph.logLevel}function $e(n,...t){if(Ph.logLevel<=wo.in.DEBUG){const e=t.map(X1);Ph.debug(`Firestore (${B_}): ${n}`,...e)}}function pr(n,...t){if(Ph.logLevel<=wo.in.ERROR){const e=t.map(X1);Ph.error(`Firestore (${B_}): ${n}`,...e)}}function BD(n,...t){if(Ph.logLevel<=wo.in.WARN){const e=t.map(X1);Ph.warn(`Firestore (${B_}): ${n}`,...e)}}function X1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function yt(n="Unexpected state"){const t=`FIRESTORE (${B_}) INTERNAL ASSERTION FAILED: `+n;throw pr(t),new Error(t)}function Pt(n,t){n||yt()}function ot(n,t){return n}const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends H.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class EH{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ur.UNAUTHENTICATED))}shutdown(){}}class GY{constructor(t){this.t=t,this.currentUser=Ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,e(_)):Promise.resolve();let c=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Hr,t.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const _=c;t.enqueueRetryable((0,tt.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},p=_=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Hr)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Pt("string"==typeof i.accessToken),new EH(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Pt(null===t||"string"==typeof t),new Ur(t)}}class $Y{constructor(t,e,i){this.type="FirstParty",this.user=Ur.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class WY{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new $Y(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TH{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qY{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=s=>{null!=s.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.p;return this.p=s.token,$e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Pt("string"==typeof e.token),this.p=e.token,new TH(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ZY(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class IH{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=ZY(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function Xt(n,t){return n<t?-1:n>t?1:0}function V_(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}class Li{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ze(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ze(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ze(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ze(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Li.fromMillis(Date.now())}static fromDate(t){return Li.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Li(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Xt(this.nanoseconds,t.nanoseconds):Xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ot{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ot(t)}static min(){return new Ot(new Li(0,0))}static max(){return new Ot(new Li(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qw{constructor(t,e,i){void 0===e?e=0:e>t.length&&yt(),void 0===i?i=t.length-e:i>t.length-e&&yt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Qw.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Qw?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),c=e.get(r);if(s<c)return-1;if(s>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class In extends Qw{construct(t,e,i){return new In(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ze(Ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new In(e)}static emptyPath(){return new In([])}}const YY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends Qw{construct(t,e,i){return new gr(t,e,i)}static isValidIdentifier(t){return YY.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new ze(Ie.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new ze(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new ze(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(s(),r++)}if(s(),c)throw new ze(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gr(e)}static emptyPath(){return new gr([])}}class rt{constructor(t){this.path=t}static fromPath(t){return new rt(In.fromString(t))}static fromName(t){return new rt(In.fromString(t).popFirst(5))}static empty(){return new rt(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===In.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return In.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new rt(new In(t.slice()))}}function xH(n){return new sa(n.readTime,n.key,-1)}class sa{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new sa(Ot.min(),rt.empty(),-1)}static max(){return new sa(Ot.max(),rt.empty(),-1)}}function tO(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=rt.comparator(n.documentKey,t.documentKey),0!==e?e:Xt(n.largestBatchId,t.largestBatchId))}const AH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Nh(n){return nO.apply(this,arguments)}function nO(){return nO=(0,tt.Z)(function*(n){if(n.code!==Ie.FAILED_PRECONDITION||n.message!==AH)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),nO.apply(this,arguments)}class Te{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Te((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Te?e:Te.resolve(e)}catch(e){return Te.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Te.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Te.reject(e)}static resolve(t){return new Te((e,i)=>{e(t)})}static reject(t){return new Te((e,i)=>{i(t)})}static waitFor(t){return new Te((e,i)=>{let r=0,s=0,c=!1;t.forEach(d=>{++r,d.next(()=>{++s,c&&s===r&&e()},p=>i(p))}),c=!0,s===r&&e()})}static or(t){let e=Te.resolve(!1);for(const i of t)e=e.next(r=>r?Te.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new Te((i,r)=>{const s=t.length,c=new Array(s);let d=0;for(let p=0;p<s;p++){const _=p;e(t[_]).next(b=>{c[_]=b,++d,d===s&&i(c)},b=>r(b))}})}static doWhile(t,e){return new Te((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}function Fh(n){return"IndexedDbTransactionError"===n.name}class Fo{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.it(i),this.rt=i=>e.writeSequenceNumber(i))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}function kH(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Np(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function RH(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}Fo.ot=-1;class ji{constructor(t,e){this.comparator=t,this.root=e||hs.EMPTY}insert(t,e){return new ji(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,hs.BLACK,null,null))}remove(t){return new ji(this.comparator,this.root.remove(t,this.comparator).copy(null,null,hs.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new jD(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new jD(this.root,t,this.comparator,!1)}getReverseIterator(){return new jD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new jD(this.root,t,this.comparator,!0)}}class jD{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class hs{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=null!=i?i:hs.RED,this.left=null!=r?r:hs.EMPTY,this.right=null!=s?s:hs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new hs(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return hs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return hs.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,hs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,hs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const t=this.left.check();if(t!==this.right.check())throw yt();return t+(this.isRed()?0:1)}}hs.EMPTY=null,hs.RED=!0,hs.BLACK=!1,hs.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new hs(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jn{constructor(t){this.comparator=t,this.data=new ji(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new OH(this.data.getIterator())}getIteratorFrom(t){return new OH(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Jn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Jn(this.comparator);return e.data=t,e}}class OH{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class oa{constructor(t){this.fields=t,t.sort(gr.comparator)}static empty(){return new oa([])}unionWith(t){let e=new Jn(gr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new oa(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return V_(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Tr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Tr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Tr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const tK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lh(n){if(Pt(!!n),"string"==typeof n){let t=0;const e=tK.exec(n);if(Pt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:zi(n.seconds),nanos:zi(n.nanos)}}function zi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Fp(n){return"string"==typeof n?Tr.fromBase64String(n):Tr.fromUint8Array(n)}function rO(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function PH(n){const t=n.mapValue.fields.__previous_value__;return rO(t)?PH(t):t}function e0(n){const t=Lh(n.mapValue.fields.__local_write_time__.timestampValue);return new Li(t.seconds,t.nanos)}class nK{constructor(t,e,i,r,s,c,d,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class Bh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Bh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Bh&&t.projectId===this.projectId&&t.database===this.database}}function t0(n){return null==n}function n0(n){return 0===n&&1/n==-1/0}const Vh_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Lp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rO(n)?4:VH(n)?9007199254740991:10:yt()}function qc(n,t){if(n===t)return!0;const e=Lp(n);if(e!==Lp(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return e0(n).isEqual(e0(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Lh(i.timestampValue),c=Lh(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Fp(n.bytesValue).isEqual(Fp(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return zi(i.geoPointValue.latitude)===zi(r.geoPointValue.latitude)&&zi(i.geoPointValue.longitude)===zi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return zi(i.integerValue)===zi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=zi(i.doubleValue),c=zi(r.doubleValue);return s===c?n0(s)===n0(c):isNaN(s)&&isNaN(c)}return!1}(n,t);case 9:return V_(n.arrayValue.values||[],t.arrayValue.values||[],qc);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(kH(s)!==kH(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!qc(s[d],c[d])))return!1;return!0}(n,t);default:return yt()}var r}function r0(n,t){return void 0!==(n.values||[]).find(e=>qc(e,t))}function Uh(n,t){if(n===t)return 0;const e=Lp(n),i=Lp(t);if(e!==i)return Xt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Xt(n.booleanValue,t.booleanValue);case 2:return function(r,s){const c=zi(r.integerValue||r.doubleValue),d=zi(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,t);case 3:return FH(n.timestampValue,t.timestampValue);case 4:return FH(e0(n),e0(t));case 5:return Xt(n.stringValue,t.stringValue);case 6:return function(r,s){const c=Fp(r),d=Fp(s);return c.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const c=r.split("/"),d=s.split("/");for(let p=0;p<c.length&&p<d.length;p++){const _=Xt(c[p],d[p]);if(0!==_)return _}return Xt(c.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const c=Xt(zi(r.latitude),zi(s.latitude));return 0!==c?c:Xt(zi(r.longitude),zi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const c=r.values||[],d=s.values||[];for(let p=0;p<c.length&&p<d.length;++p){const _=Uh(c[p],d[p]);if(_)return _}return Xt(c.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===Vh_mapValue&&s===Vh_mapValue)return 0;if(r===Vh_mapValue)return 1;if(s===Vh_mapValue)return-1;const c=r.fields||{},d=Object.keys(c),p=s.fields||{},_=Object.keys(p);d.sort(),_.sort();for(let b=0;b<d.length&&b<_.length;++b){const T=Xt(d[b],_[b]);if(0!==T)return T;const A=Uh(c[d[b]],p[_[b]]);if(0!==A)return A}return Xt(d.length,_.length)}(n.mapValue,t.mapValue);default:throw yt()}}function FH(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Xt(n,t);const e=Lh(n),i=Lh(t),r=Xt(e.seconds,i.seconds);return 0!==r?r:Xt(e.nanos,i.nanos)}function H_(n){return sO(n)}function sO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Lh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Fp(n.bytesValue).toBase64():"referenceValue"in n?rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=sO(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const d of r)c?c=!1:s+=",",s+=`${d}:${sO(i.fields[d])}`;return s+"}"}(n.mapValue):yt();var t}function Bp(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function oO(n){return!!n&&"integerValue"in n}function s0(n){return!!n&&"arrayValue"in n}function LH(n){return!!n&&"nullValue"in n}function BH(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function GD(n){return!!n&&"mapValue"in n}function o0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Np(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=o0(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=o0(n.arrayValue.values[e]);return t}return Object.assign({},n)}function VH(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class fs{constructor(t){this.value=t}static empty(){return new fs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!GD(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=o0(e)}setAll(t){let e=gr.emptyPath(),i={},r=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=d.popLast()}c?i[d.lastSegment()]=o0(c):r.push(d.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());GD(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return qc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];GD(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Np(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new fs(o0(this.value))}}function jH(n){const t=[];return Np(n.fields,(e,i)=>{const r=new gr([e]);if(GD(i)){const s=jH(i.mapValue).fields;if(0===s.length)t.push(r);else for(const c of s)t.push(r.child(c))}else t.push(r)}),new oa(t)}class fi{constructor(t,e,i,r,s,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(t){return new fi(t,0,Ot.min(),Ot.min(),fs.empty(),0)}static newFoundDocument(t,e,i){return new fi(t,1,e,Ot.min(),i,0)}static newNoDocument(t,e){return new fi(t,2,e,Ot.min(),fs.empty(),0)}static newUnknownDocument(t,e){return new fi(t,3,e,Ot.min(),fs.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof fi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sK{constructor(t,e=null,i=[],r=[],s=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=d,this.ut=null}}function zH(n,t=null,e=[],i=[],r=null,s=null,c=null){return new sK(n,t,e,i,r,s,c)}function Vp(n){const t=ot(n);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+H_(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),t0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>H_(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>H_(i)).join(",")),t.ut=e}return t.ut}function a0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!pK(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!qc(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!ZH(n.startAt,t.startAt)&&ZH(n.endAt,t.endAt)}function $D(n){return rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ps extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.ct(t,e,i):new aK(t,e,i):"array-contains"===e?new uK(t,i):"in"===e?new dK(t,i):"not-in"===e?new hK(t,i):"array-contains-any"===e?new fK(t,i):new ps(t,e,i)}static ct(t,e,i){return"in"===e?new lK(t,i):new cK(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.at(Uh(e,this.value)):null!==e&&Lp(this.value)===Lp(e)&&this.at(Uh(e,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return yt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class aK extends ps{constructor(t,e,i){super(t,e,i),this.key=rt.fromName(i.referenceValue)}matches(t){const e=rt.comparator(t.key,this.key);return this.at(e)}}class lK extends ps{constructor(t,e){super(t,"in",e),this.keys=WH(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class cK extends ps{constructor(t,e){super(t,"not-in",e),this.keys=WH(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function WH(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>rt.fromName(i.referenceValue))}class uK extends ps{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return s0(e)&&r0(e.arrayValue,this.value)}}class dK extends ps{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&r0(this.value.arrayValue,e)}}class hK extends ps{constructor(t,e){super(t,"not-in",e)}matches(t){if(r0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!r0(this.value.arrayValue,e)}}class fK extends ps{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!s0(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>r0(this.value.arrayValue,i))}}class Hh{constructor(t,e){this.position=t,this.inclusive=e}}class j_{constructor(t,e="asc"){this.field=t,this.dir=e}}function pK(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function qH(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],c=n.position[r];if(i=s.field.isKeyField()?rt.comparator(rt.fromName(c.referenceValue),e.key):Uh(c,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function ZH(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!qc(n.position[e],t.position[e]))return!1;return!0}class Ku{constructor(t,e=null,i=[],r=[],s=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=p,this.lt=null,this.ft=null}}function z_(n){return new Ku(n)}function aO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function lO(n){for(const t of n.filters)if(t.ht())return t.field;return null}function cO(n){return null!==n.collectionGroup}function G_(n){const t=ot(n);if(null===t.lt){t.lt=[];const e=lO(t),i=aO(t);if(null!==e&&null===i)e.isKeyField()||t.lt.push(new j_(e)),t.lt.push(new j_(gr.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.lt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new j_(gr.keyField(),s))}}}return t.lt}function Ja(n){const t=ot(n);if(!t.ft)if("F"===t.limitType)t.ft=zH(t.path,t.collectionGroup,G_(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of G_(t))e.push(new j_(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new Hh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hh(t.startAt.position,t.startAt.inclusive):null;t.ft=zH(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.ft}function l0(n,t){return a0(Ja(n),Ja(t))&&n.limitType===t.limitType}function QH(n){return`${Vp(Ja(n))}|lt:${n.limitType}`}function uO(n){return`Query(target=${function oK(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${H_(i.value)}`;var i}).join(", ")}]`),t0(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>H_(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>H_(e)).join(",")),`Target(${t})`}(Ja(n))}; limitType=${n.limitType})`}function dO(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):rt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,c){const d=qH(r,s,c);return r.inclusive?d<=0:d<0}(e.startAt,G_(e),i)||e.endAt&&!function(r,s,c){const d=qH(r,s,c);return r.inclusive?d>=0:d>0}(e.endAt,G_(e),i)));var e,i}function XH(n){return(t,e)=>{let i=!1;for(const r of G_(n)){const s=mK(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function mK(n,t,e){const i=n.field.isKeyField()?rt.comparator(t.key,e.key):function(r,s,c){const d=s.data.field(r),p=c.data.field(r);return null!==d&&null!==p?Uh(d,p):yt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return yt()}}function ej(n,t){if(n.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:n0(t)?"-0":t}}function tj(n){return{integerValue:""+n}}function nj(n,t){return function NH(n){return"number"==typeof n&&Number.isInteger(n)&&!n0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(t)?tj(t):ej(n,t)}class qD{constructor(){this._=void 0}}function _K(n,t,e){return n instanceof $_?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof Up?rj(n,t):n instanceof Hp?sj(n,t):function(i,r){const s=ij(i,r),c=oj(s)+oj(i._t);return oO(s)&&oO(i._t)?tj(c):ej(i.wt,c)}(n,t)}function yK(n,t,e){return n instanceof Up?rj(n,t):n instanceof Hp?sj(n,t):e}function ij(n,t){return n instanceof W_?oO(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class $_ extends qD{}class Up extends qD{constructor(t){super(),this.elements=t}}function rj(n,t){const e=aj(t);for(const i of n.elements)e.some(r=>qc(r,i))||e.push(i);return{arrayValue:{values:e}}}class Hp extends qD{constructor(t){super(),this.elements=t}}function sj(n,t){let e=aj(t);for(const i of n.elements)e=e.filter(r=>!qc(r,i));return{arrayValue:{values:e}}}class W_ extends qD{constructor(t,e){super(),this.wt=t,this._t=e}}function oj(n){return zi(n.integerValue||n.doubleValue)}function aj(n){return s0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class bK{constructor(t,e){this.version=t,this.transformResults=e}}class Bi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Bi}static exists(t){return new Bi(void 0,t)}static updateTime(t){return new Bi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ZD(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class YD{}function lj(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Z_(n.key,Bi.none()):new q_(n.key,n.data,Bi.none());{const e=n.data,i=fs.empty();let r=new Jn(gr.comparator);for(let s of t.fields)if(!r.has(s)){let c=e.field(s);null===c&&s.length>1&&(s=s.popLast(),c=e.field(s)),null===c?i.delete(s):i.set(s,c),r=r.add(s)}return new Qu(n.key,i,new oa(r.toArray()),Bi.none())}}function wK(n,t,e){n instanceof q_?function(i,r,s){const c=i.value.clone(),d=dj(i.fieldTransforms,r,s.transformResults);c.setAll(d),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Qu?function(i,r,s){if(!ZD(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=dj(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(uj(i)),d.setAll(c),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function u0(n,t,e,i){return n instanceof q_?function(r,s,c,d){if(!ZD(r.precondition,s))return c;const p=r.value.clone(),_=hj(r.fieldTransforms,d,s);return p.setAll(_),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,t,e,i):n instanceof Qu?function(r,s,c,d){if(!ZD(r.precondition,s))return c;const p=hj(r.fieldTransforms,d,s),_=s.data;return _.setAll(uj(r)),_.setAll(p),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,t,e,i):(c=e,ZD(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function CK(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=ij(i.transform,r||null);null!=s&&(null===e&&(e=fs.empty()),e.set(i.field,s))}return e||null}function cj(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&V_(e,i,(r,s)=>function vK(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Up&&i instanceof Up||e instanceof Hp&&i instanceof Hp?V_(e.elements,i.elements,qc):e instanceof W_&&i instanceof W_?qc(e._t,i._t):e instanceof $_&&i instanceof $_);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class q_ extends YD{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Qu extends YD{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function uj(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function dj(n,t,e){const i=new Map;Pt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],c=s.transform,d=t.data.field(s.field);i.set(s.field,yK(c,d,e[r]))}return i}function hj(n,t,e){const i=new Map;for(const r of n){const s=r.transform,c=e.data.field(r.field);i.set(r.field,_K(s,c,t))}return i}class Z_ extends YD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hO extends YD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class EK{constructor(t){this.count=t}}var mr,Dn;function fj(n){switch(n){default:return yt();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0}}function pj(n){if(void 0===n)return pr("GRPC error has no .code"),Ie.UNKNOWN;switch(n){case mr.OK:return Ie.OK;case mr.CANCELLED:return Ie.CANCELLED;case mr.UNKNOWN:return Ie.UNKNOWN;case mr.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case mr.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case mr.INTERNAL:return Ie.INTERNAL;case mr.UNAVAILABLE:return Ie.UNAVAILABLE;case mr.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case mr.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case mr.NOT_FOUND:return Ie.NOT_FOUND;case mr.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case mr.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case mr.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case mr.ABORTED:return Ie.ABORTED;case mr.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case mr.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case mr.DATA_LOSS:return Ie.DATA_LOSS;default:return yt()}}(Dn=mr||(mr={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";class jh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Np(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return RH(this.inner)}size(){return this.innerSize}}const TK=new ji(rt.comparator);function Lo(){return TK}const gj=new ji(rt.comparator);function d0(...n){let t=gj;for(const e of n)t=t.insert(e.key,e);return t}function mj(n){let t=gj;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Zc(){return h0()}function _j(){return h0()}function h0(){return new jh(n=>n.toString(),(n,t)=>n.isEqual(t))}const IK=new ji(rt.comparator),DK=new Jn(rt.comparator);function tn(...n){let t=DK;for(const e of n)t=t.add(e);return t}const SK=new Jn(Xt);function KD(){return SK}class f0{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,p0.createSynthesizedTargetChangeForCurrentChange(t,e)),new f0(Ot.min(),i,KD(),Lo(),tn())}}class p0{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new p0(Tr.EMPTY_BYTE_STRING,e,tn(),tn(),tn())}}class QD{constructor(t,e,i,r){this.gt=t,this.removedTargetIds=e,this.key=i,this.yt=r}}class yj{constructor(t,e){this.targetId=t,this.It=e}}class vj{constructor(t,e,i=Tr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class bj{constructor(){this.Tt=0,this.Et=Cj(),this.At=Tr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=tn(),e=tn(),i=tn();return this.Et.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:yt()}}),new p0(this.At,this.Rt,t,e,i)}Dt(){this.bt=!1,this.Et=Cj()}Ct(t,e){this.bt=!0,this.Et=this.Et.insert(t,e)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class xK{constructor(t){this.Mt=t,this.Ft=new Map,this.$t=Lo(),this.Bt=wj(),this.Lt=new Jn(Xt)}Ut(t){for(const e of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(e,t.yt):this.Kt(e,t.key,t.yt);for(const e of t.removedTargetIds)this.Kt(e,t.key,t.yt)}Gt(t){this.forEachTarget(t,e=>{const i=this.Qt(e);switch(t.state){case 0:this.jt(e)&&i.Vt(t.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(t.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(e);break;case 3:this.jt(e)&&(i.Ot(),i.Vt(t.resumeToken));break;case 4:this.jt(e)&&(this.Wt(e),i.Vt(t.resumeToken));break;default:yt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ft.forEach((i,r)=>{this.jt(r)&&e(r)})}zt(t){const e=t.targetId,i=t.It.count,r=this.Ht(e);if(r){const s=r.target;if($D(s))if(0===i){const c=new rt(s.path);this.Kt(e,c,fi.newNoDocument(c,Ot.min()))}else Pt(1===i);else this.Jt(e)!==i&&(this.Wt(e),this.Lt=this.Lt.add(e))}}Yt(t){const e=new Map;this.Ft.forEach((s,c)=>{const d=this.Ht(c);if(d){if(s.current&&$D(d.target)){const p=new rt(d.target.path);null!==this.$t.get(p)||this.Xt(c,p)||this.Kt(c,p,fi.newNoDocument(p,t))}s.vt&&(e.set(c,s.St()),s.Dt())}});let i=tn();this.Bt.forEach((s,c)=>{let d=!0;c.forEachWhile(p=>{const _=this.Ht(p);return!_||2===_.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.$t.forEach((s,c)=>c.setReadTime(t));const r=new f0(t,e,this.Lt,this.$t,i);return this.$t=Lo(),this.Bt=wj(),this.Lt=new Jn(Xt),r}qt(t,e){if(!this.jt(t))return;const i=this.Xt(t,e.key)?2:0;this.Qt(t).Ct(e.key,i),this.$t=this.$t.insert(e.key,e),this.Bt=this.Bt.insert(e.key,this.Zt(e.key).add(t))}Kt(t,e,i){if(!this.jt(t))return;const r=this.Qt(t);this.Xt(t,e)?r.Ct(e,1):r.xt(e),this.Bt=this.Bt.insert(e,this.Zt(e).delete(t)),i&&(this.$t=this.$t.insert(e,i))}removeTarget(t){this.Ft.delete(t)}Jt(t){const e=this.Qt(t).St();return this.Mt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let e=this.Ft.get(t);return e||(e=new bj,this.Ft.set(t,e)),e}Zt(t){let e=this.Bt.get(t);return e||(e=new Jn(Xt),this.Bt=this.Bt.insert(t,e)),e}jt(t){const e=null!==this.Ht(t);return e||$e("WatchChangeAggregator","Detected inactive target",t),e}Ht(t){const e=this.Ft.get(t);return e&&e.Pt?null:this.Mt.te(t)}Wt(t){this.Ft.set(t,new bj),this.Mt.getRemoteKeysForTarget(t).forEach(e=>{this.Kt(t,e,null)})}Xt(t,e){return this.Mt.getRemoteKeysForTarget(t).has(e)}}function wj(){return new ji(rt.comparator)}function Cj(){return new ji(rt.comparator)}const AK={asc:"ASCENDING",desc:"DESCENDING"},MK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class kK{constructor(t,e){this.databaseId=t,this.dt=e}}function g0(n,t){return n.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ej(n,t){return n.dt?t.toBase64():t.toUint8Array()}function RK(n,t){return g0(n,t.toTimestamp())}function jr(n){return Pt(!!n),Ot.fromTimestamp(function(t){const e=Lh(t);return new Li(e.seconds,e.nanos)}(n))}function fO(n,t){return(e=n,new In(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function Tj(n){const t=In.fromString(n);return Pt(Oj(t)),t}function m0(n,t){return fO(n.databaseId,t.path)}function Yc(n,t){const e=Tj(t);if(e.get(1)!==n.databaseId.projectId)throw new ze(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ze(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new rt(Dj(e))}function pO(n,t){return fO(n.databaseId,t)}function _0(n){return new In(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Dj(n){return Pt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Sj(n,t,e){return{name:m0(n,t),fields:e.value.mapValue.fields}}function Aj(n,t){return{documents:[pO(n,t.path)]}}function Mj(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=pO(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=pO(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const _=p.map(b=>function(T){if("=="===T.op){if(BH(T.value))return{unaryFilter:{field:Y_(T.field),op:"IS_NAN"}};if(LH(T.value))return{unaryFilter:{field:Y_(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(BH(T.value))return{unaryFilter:{field:Y_(T.field),op:"IS_NOT_NAN"}};if(LH(T.value))return{unaryFilter:{field:Y_(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Y_(T.field),op:BK(T.op),value:T.value}}}(b));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(_=>{return{field:Y_((b=_).field),direction:LK(b.dir)};var b})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const c=(_=t.limit,n.dt||t0(_)?_:{value:_});var _,d,p;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function kj(n){let t=function Ij(n){const t=Tj(n);return 4===t.length?In.emptyPath():Dj(t)}(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Pt(1===i);const b=e.from[0];b.allDescendants?r=b.collectionId:t=t.child(b.collectionId)}let s=[];e.where&&(s=Rj(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(b=>{return new j_(K_((T=b).field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let d=null;e.limit&&(d=function(b){let T;return T="object"==typeof b?b.value:b,t0(T)?null:T}(e.limit));let p=null;var b;e.startAt&&(p=new Hh((b=e.startAt).values||[],!!b.before));let _=null;return e.endAt&&(_=function(b){return new Hh(b.values||[],!b.before)}(e.endAt)),function YH(n,t,e,i,r,s,c,d){return new Ku(n,t,e,i,r,s,c,d)}(t,r,c,s,d,"F",p,_)}function Rj(n){return n?void 0!==n.unaryFilter?[UK(n)]:void 0!==n.fieldFilter?[VK(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>Rj(t)).reduce((t,e)=>t.concat(e)):yt():[]}function LK(n){return AK[n]}function BK(n){return MK[n]}function Y_(n){return{fieldPath:n.canonicalString()}}function K_(n){return gr.fromServerFormat(n.fieldPath)}function VK(n){return ps.create(K_(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(n.fieldFilter.op),n.fieldFilter.value)}function UK(n){switch(n.unaryFilter.op){case"IS_NAN":const t=K_(n.unaryFilter.field);return ps.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=K_(n.unaryFilter.field);return ps.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=K_(n.unaryFilter.field);return ps.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=K_(n.unaryFilter.field);return ps.create(r,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}function HK(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Oj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class _O{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&wK(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=u0(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=u0(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=_j();return this.mutations.forEach(r=>{const s=t.get(r.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=e.has(r.key)?null:d;const p=lj(c,d);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(Ot.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),tn())}isEqual(t){return this.batchId===t.batchId&&V_(this.mutations,t.mutations,(e,i)=>cj(e,i))&&V_(this.baseMutations,t.baseMutations,(e,i)=>cj(e,i))}}class yO{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Pt(t.mutations.length===i.length);let r=IK;const s=t.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new yO(t,e,i,r)}}class vO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zh{constructor(t,e,i,r,s=Ot.min(),c=Ot.min(),d=Tr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(t){return new zh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new zh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new zh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class Uj{constructor(t){this.ne=t}}function bO(n){const t=kj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?function KH(n,t,e){return new Ku(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}(t,t.limit,"L"):t}class $p{constructor(){}re(t,e){this.oe(t,e),e.ue()}oe(t,e){if("nullValue"in t)this.ce(e,5);else if("booleanValue"in t)this.ce(e,10),e.ae(t.booleanValue?1:0);else if("integerValue"in t)this.ce(e,15),e.ae(zi(t.integerValue));else if("doubleValue"in t){const i=zi(t.doubleValue);isNaN(i)?this.ce(e,13):(this.ce(e,15),n0(i)?e.ae(0):e.ae(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ce(e,20),"string"==typeof i?e.he(i):(e.he(`${i.seconds||""}`),e.ae(i.nanos||0))}else if("stringValue"in t)this.le(t.stringValue,e),this.fe(e);else if("bytesValue"in t)this.ce(e,30),e.de(Fp(t.bytesValue)),this.fe(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ce(e,45),e.ae(i.latitude||0),e.ae(i.longitude||0)}else"mapValue"in t?VH(t)?this.ce(e,Number.MAX_SAFE_INTEGER):(this.we(t.mapValue,e),this.fe(e)):"arrayValue"in t?(this.me(t.arrayValue,e),this.fe(e)):yt()}le(t,e){this.ce(e,25),this.ge(t,e)}ge(t,e){e.he(t)}we(t,e){const i=t.fields||{};this.ce(e,55);for(const r of Object.keys(i))this.le(r,e),this.oe(i[r],e)}me(t,e){const i=t.values||[];this.ce(e,50);for(const r of i)this.oe(r,e)}_e(t,e){this.ce(e,37),rt.fromName(t).path.forEach(i=>{this.ce(e,60),this.ge(i,e)})}ce(t,e){t.ae(e)}fe(t){t.ae(2)}}$p.ye=new $p;class f7{constructor(){this.ze=new CO}addToCollectionParentIndex(t,e){return this.ze.add(e),Te.resolve()}getCollectionParents(t,e){return Te.resolve(this.ze.getEntries(e))}addFieldIndex(t,e){return Te.resolve()}deleteFieldIndex(t,e){return Te.resolve()}getDocumentsMatchingTarget(t,e){return Te.resolve(null)}getIndexType(t,e){return Te.resolve(0)}getFieldIndexes(t,e){return Te.resolve([])}getNextCollectionGroupToUpdate(t){return Te.resolve(null)}getMinOffset(t,e){return Te.resolve(sa.min())}getMinOffsetFromCollectionGroup(t,e){return Te.resolve(sa.min())}updateCollectionGroup(t,e,i){return Te.resolve()}updateIndexEntries(t,e){return Te.resolve()}}class CO{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Jn(In.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Jn(In.comparator)).toArray()}}new Uint8Array(0);class Bo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Bo(t,Bo.DEFAULT_COLLECTION_PERCENTILE,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Bo.DEFAULT_COLLECTION_PERCENTILE=10,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bo.DEFAULT=new Bo(41943040,Bo.DEFAULT_COLLECTION_PERCENTILE,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bo.DISABLED=new Bo(-1,0,0);class Zp{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new Zp(0)}static Rn(){return new Zp(-1)}}class E7{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class l3{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&u0(i.mutation,r,oa.empty(),Li.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,tn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=tn()){const r=Zc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let c=d0();return s.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=Zc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,tn()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,i,r){let s=Lo();const c=h0(),d=h0();return e.forEach((p,_)=>{const b=i.get(_.key);r.has(_.key)&&(void 0===b||b.mutation instanceof Qu)?s=s.insert(_.key,_):void 0!==b&&(c.set(_.key,b.mutation.getFieldMask()),u0(b.mutation,_,b.mutation.getFieldMask(),Li.now()))}),this.recalculateAndSaveOverlays(t,s).next(p=>(p.forEach((_,b)=>c.set(_,b)),e.forEach((_,b)=>{var T;return d.set(_,new E7(b,null!==(T=c.get(_))&&void 0!==T?T:null))}),d))}recalculateAndSaveOverlays(t,e){const i=h0();let r=new ji((c,d)=>c-d),s=tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(p=>{const _=e.get(p);if(null===_)return;let b=i.get(p)||oa.empty();b=d.applyToLocalView(_,b),i.set(p,b);const T=(r.get(d.batchId)||tn()).add(p);r=r.insert(d.batchId,T)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),_=p.key,b=p.value,T=_j();b.forEach(A=>{if(!s.has(A)){const N=lj(e.get(A),i.get(A));null!==N&&T.set(A,N),s=s.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(t,_,T))}return Te.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return rt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):cO(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):Te.resolve(Zc());let d=-1,p=s;return c.next(_=>Te.forEach(_,(b,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),s.get(b)?Te.resolve():this.getBaseDocument(t,b,T).next(A=>{p=p.insert(b,A)}))).next(()=>this.populateOverlays(t,_,s)).next(()=>this.computeViews(t,p,_,tn())).next(b=>({batchId:d,changes:mj(b)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new rt(e)).next(i=>{let r=d0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=d0();return this.indexManager.getCollectionParents(t,r).next(c=>Te.forEach(c,d=>{const p=(_=e,b=d.child(r),new Ku(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(t,p,i).next(_=>{_.forEach((b,T)=>{s=s.insert(b,T)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(s=>{s.forEach((d,p)=>{const _=p.getKey();null===r.get(_)&&(r=r.insert(_,fi.newInvalidDocument(_)))});let c=d0();return r.forEach((d,p)=>{const _=s.get(d);void 0!==_&&u0(_.mutation,p,oa.empty(),Li.now()),dO(e,p)&&(c=c.insert(d,p))}),c})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):Te.resolve(fi.newInvalidDocument(e))}}class T7{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,e){return Te.resolve(this.Jn.get(e))}saveBundleMetadata(t,e){var i;return this.Jn.set(e.id,{id:(i=e).id,version:i.version,createTime:jr(i.createTime)}),Te.resolve()}getNamedQuery(t,e){return Te.resolve(this.Yn.get(e))}saveNamedQuery(t,e){return this.Yn.set(e.name,{name:(i=e).name,query:bO(i.bundledQuery),readTime:jr(i.readTime)}),Te.resolve();var i}}class I7{constructor(){this.overlays=new ji(rt.comparator),this.Xn=new Map}getOverlay(t,e){return Te.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Zc();return Te.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.ie(t,e,s)}),Te.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(i)),Te.resolve()}getOverlaysForCollection(t,e,i){const r=Zc(),s=e.length+1,c=new rt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,_=p.getKey();if(!e.isPrefixOf(_.path))break;_.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return Te.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new ji((_,b)=>_-b);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===e&&_.largestBatchId>i){let b=s.get(_.largestBatchId);null===b&&(b=Zc(),s=s.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const d=Zc(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,b)=>d.set(_,b)),!(d.size()>=r)););return Te.resolve(d)}ie(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new vO(e,i));let s=this.Xn.get(e);void 0===s&&(s=tn(),this.Xn.set(e,s)),this.Xn.set(e,s.add(i.key))}}class EO{constructor(){this.Zn=new Jn(Gr.ts),this.es=new Jn(Gr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const i=new Gr(t,e);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.rs(new Gr(t,e))}os(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new rt(new In([])),i=new Gr(e,t),r=new Gr(e,t+1),s=[];return this.es.forEachInRange([i,r],c=>{this.rs(c),s.push(c.key)}),s}cs(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new rt(new In([])),i=new Gr(e,t),r=new Gr(e,t+1);let s=tn();return this.es.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(t){const e=new Gr(t,0),i=this.Zn.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Gr{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return rt.comparator(t.key,e.key)||Xt(t.ls,e.ls)}static ns(t,e){return Xt(t.ls,e.ls)||rt.comparator(t.key,e.key)}}class D7{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.fs=1,this.ds=new Jn(Gr.ts)}checkEmpty(t){return Te.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.fs;this.fs++;const c=new _O(s,e,i,r);this.mutationQueue.push(c);for(const d of r)this.ds=this.ds.add(new Gr(d.key,s)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return Te.resolve(c)}lookupMutationBatch(t,e){return Te.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ws(e+1),s=r<0?0:r;return Te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(t){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Gr(e,0),r=new Gr(e,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([i,r],c=>{const d=this._s(c.ls);s.push(d)}),Te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Jn(Xt);return e.forEach(r=>{const s=new Gr(r,0),c=new Gr(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,c],d=>{i=i.add(d.ls)})}),Te.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;rt.isDocumentKey(s)||(s=s.child(""));const c=new Gr(new rt(s),0);let d=new Jn(Xt);return this.ds.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(d=d.add(p.ls)),!0)},c),Te.resolve(this.gs(d))}gs(t){const e=[];return t.forEach(i=>{const r=this._s(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Pt(0===this.ys(e.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return Te.forEach(e.mutations,r=>{const s=new Gr(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ds=i})}In(t){}containsKey(t,e){const i=new Gr(e,0),r=this.ds.firstAfterOrEqual(i);return Te.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Te.resolve()}ys(t,e){return this.ws(t)}ws(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}_s(t){const e=this.ws(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class S7{constructor(t){this.ps=t,this.docs=new ji(rt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,c=this.ps(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Te.resolve(i?i.document.mutableCopy():fi.newInvalidDocument(e))}getEntries(t,e){let i=Lo();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():fi.newInvalidDocument(r))}),Te.resolve(i)}getAllFromCollection(t,e,i){let r=Lo();const s=new rt(e.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!e.isPrefixOf(d.path))break;d.path.length>e.length+1||tO(xH(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return Te.resolve(r)}getAllFromCollectionGroup(t,e,i,r){yt()}Is(t,e){return Te.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new x7(this)}getSize(t){return Te.resolve(this.size)}}class x7 extends class b7{constructor(){this.changes=new jh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,fi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Te.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}{constructor(t){super(),this.zn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.zn.addEntry(t,r)):this.zn.removeEntry(i)}),Te.waitFor(e)}getFromCache(t,e){return this.zn.getEntry(t,e)}getAllFromCache(t,e){return this.zn.getEntries(t,e)}}class A7{constructor(t){this.persistence=t,this.Ts=new jh(e=>Vp(e),a0),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.Es=0,this.As=new EO,this.targetCount=0,this.Rs=Zp.An()}forEachTarget(t,e){return this.Ts.forEach((i,r)=>e(r)),Te.resolve()}getLastRemoteSnapshotVersion(t){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Te.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Es&&(this.Es=e),Te.resolve()}vn(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new Zp(e),this.highestTargetId=e),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,e){return this.vn(e),this.targetCount+=1,Te.resolve()}updateTargetData(t,e){return this.vn(e),Te.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.us(e.targetId),this.targetCount-=1,Te.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Ts.forEach((c,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.Ts.delete(c),s.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),Te.waitFor(s).next(()=>r)}getTargetCount(t){return Te.resolve(this.targetCount)}getTargetData(t,e){const i=this.Ts.get(e)||null;return Te.resolve(i)}addMatchingKeys(t,e,i){return this.As.ss(e,i),Te.resolve()}removeMatchingKeys(t,e,i){this.As.os(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(c=>{s.push(r.markPotentiallyOrphaned(t,c))}),Te.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.As.us(e),Te.resolve()}getMatchingKeysForTargetId(t,e){const i=this.As.hs(e);return Te.resolve(i)}containsKey(t,e){return Te.resolve(this.As.containsKey(e))}}class c3{constructor(t,e){this.bs={},this.overlays={},this.Ps=new Fo(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new A7(this),this.indexManager=new f7,this.remoteDocumentCache=new S7(i=>this.referenceDelegate.Ss(i)),this.wt=new Uj(e),this.Ds=new T7(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new I7,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.bs[t.toKey()];return i||(i=new D7(e,this.referenceDelegate),this.bs[t.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,e,i){$e("MemoryPersistence","Starting transaction:",t);const r=new M7(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(s=>this.referenceDelegate.xs(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ns(t,e){return Te.or(Object.values(this.bs).map(i=>()=>i.containsKey(t,e)))}}class M7 extends class KY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}{constructor(t){super(),this.currentSequenceNumber=t}}class oS{constructor(t){this.persistence=t,this.ks=new EO,this.Os=null}static Ms(t){return new oS(t)}get Fs(){if(this.Os)return this.Os;throw yt()}addReference(t,e,i){return this.ks.addReference(i,e),this.Fs.delete(i.toString()),Te.resolve()}removeReference(t,e,i){return this.ks.removeReference(i,e),this.Fs.add(i.toString()),Te.resolve()}markPotentiallyOrphaned(t,e){return this.Fs.add(e.toString()),Te.resolve()}removeTarget(t,e){this.ks.us(e.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Fs.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Cs(){this.Os=new Set}xs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.Fs,i=>{const r=rt.fromPath(i);return this.$s(t,r).next(s=>{s||e.removeEntry(r,Ot.min())})}).next(()=>(this.Os=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.Fs.delete(e.toString()):this.Fs.add(e.toString())})}Ss(t){return 0}$s(t,e){return Te.or([()=>Te.resolve(this.ks.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ns(t,e)])}}class SO{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Pi=i,this.vi=r}static Vi(t,e){let i=tn(),r=tn();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new SO(t,e.fromCache,i,r)}}class d3{constructor(){this.Si=!1}initialize(t,e){this.Di=t,this.indexManager=e,this.Si=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ci(t,e).next(s=>s||this.xi(t,e,r,i)).next(s=>s||this.Ni(t,e))}Ci(t,e){return Te.resolve(null)}xi(t,e,i,r){return function gK(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(e)||r.isEqual(Ot.min())?this.Ni(t,e):this.Di.getDocuments(t,i).next(s=>{const c=this.ki(e,s);return this.Oi(e,c,i,r)?this.Ni(t,e):(J1()<=wo.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),uO(e)),this.Mi(t,c,e,function SH(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ot.fromTimestamp(1e9===i?new Li(e+1,0):new Li(e,i));return new sa(r,rt.empty(),t)}(r,-1)))})}ki(t,e){let i=new Jn(XH(t));return e.forEach((r,s)=>{dO(t,s)&&(i=i.add(s))}),i}Oi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ni(t,e){return J1()<=wo.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",uO(e)),this.Di.getDocumentsMatchingQuery(t,e,sa.min())}Mi(t,e,i,r){return this.Di.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(c=>{s=s.insert(c.key,c)}),s))}}class R7{constructor(t,e,i,r){this.persistence=t,this.Fi=e,this.wt=r,this.$i=new ji(Xt),this.Bi=new jh(s=>Vp(s),a0),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(i)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new l3(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.$i))}}function f3(n,t){return xO.apply(this,arguments)}function xO(){return xO=(0,tt.Z)(function*(n,t){const e=ot(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.qi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],d=[];let p=tn();for(const _ of r){c.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of s){d.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return e.localDocuments.getDocuments(i,p).next(_=>({Ki:_,removedBatchIds:c,addedBatchIds:d}))})})}),xO.apply(this,arguments)}function O7(n,t){const e=ot(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Ui.newChangeBuffer({trackRemovals:!0});return function(c,d,p,_){const b=p.batch,T=b.keys();let A=Te.resolve();return T.forEach(N=>{A=A.next(()=>_.getEntry(d,N)).next(V=>{const ue=p.docVersions.get(N);Pt(null!==ue),V.version.compareTo(ue)<0&&(b.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),_.addEntry(V)))})}),A.next(()=>c.mutationQueue.removeMutationBatch(d,b))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=tn();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function p3(n){const t=ot(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Vs.getLastRemoteSnapshotVersion(e))}function P7(n,t){const e=ot(n),i=t.snapshotVersion;let r=e.$i;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=e.Ui.newChangeBuffer({trackRemovals:!0});r=e.$i;const d=[];t.targetChanges.forEach((b,T)=>{const A=r.get(T);if(!A)return;d.push(e.Vs.removeMatchingKeys(s,b.removedDocuments,T).next(()=>e.Vs.addMatchingKeys(s,b.addedDocuments,T)));let N=A.withSequenceNumber(s.currentSequenceNumber);var V,ue,_e;t.targetMismatches.has(T)?N=N.withResumeToken(Tr.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):b.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(b.resumeToken,i)),r=r.insert(T,N),ue=N,_e=b,(0===(V=A).resumeToken.approximateByteSize()||ue.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8||_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0)&&d.push(e.Vs.updateTargetData(s,N))});let p=Lo(),_=tn();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(s,b))}),d.push(function g3(n,t,e){let i=tn(),r=tn();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let c=Lo();return e.forEach((d,p)=>{const _=s.get(d);p.isFoundDocument()!==_.isFoundDocument()&&(r=r.add(d)),p.isNoDocument()&&p.version.isEqual(Ot.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||0===p.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):$e("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",p.version)}),{Gi:c,Qi:r}})}(s,c,t.documentUpdates).next(b=>{p=b.Gi,_=b.Qi})),!i.isEqual(Ot.min())){const b=e.Vs.getLastRemoteSnapshotVersion(s).next(T=>e.Vs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(b)}return Te.waitFor(d).next(()=>c.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,p,_)).next(()=>p)}).then(s=>(e.$i=r,s))}function N7(n,t){const e=ot(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function X_(n,t){const e=ot(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Vs.getTargetData(i,t).next(s=>s?(r=s,Te.resolve(r)):e.Vs.allocateTargetId(i).next(c=>(r=new zh(t,c,0,i.currentSequenceNumber),e.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.$i=e.$i.insert(i.targetId,i),e.Bi.set(t,i.targetId)),i})}function ey(n,t,e){return AO.apply(this,arguments)}function AO(){return AO=(0,tt.Z)(function*(n,t,e){const i=ot(n),r=i.$i.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Fh(c))throw c;$e("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.$i=i.$i.remove(t),i.Bi.delete(r.target)}),AO.apply(this,arguments)}function lS(n,t,e){const i=ot(n);let r=Ot.min(),s=tn();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,p,_){const b=ot(d),T=b.Bi.get(_);return void 0!==T?Te.resolve(b.$i.get(T)):b.Vs.getTargetData(p,_)}(i,c,Ja(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(c,d.targetId).next(p=>{s=p})}).next(()=>i.Fi.getDocumentsMatchingQuery(c,t,e?r:Ot.min(),e?s:tn())).next(d=>(function y3(n,t,e){let i=Ot.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Li.set(t,i)}(i,function JH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(t),d),{documents:d,ji:s})))}class PO{constructor(){this.activeTargetIds=KD()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class w3{constructor(){this.Fr=new PO,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,i){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new PO,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class B7{Br(t){}shutdown(){}}class C3{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const V7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class U7{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class H7 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,i,r,s){const c=this.oo(t,e);$e("RestConnection","Sending: ",c,i);const d={};return this.uo(d,r,s),this.co(t,c,d,i).then(p=>($e("RestConnection","Received: ",p),p),p=>{throw BD("RestConnection",`${t} failed with error: `,p,"url: ",c,"request:",i),p})}ao(t,e,i,r,s,c){return this.ro(t,e,i,r,s)}uo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+B_,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}oo(t,e){return`${this.so}/v1/${e}:${V7[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,i,r){return new Promise((s,c)=>{const d=new HY;d.listenOnce(BY.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Q1.NO_ERROR:const _=d.getResponseJson();$e("Connection","XHR received:",JSON.stringify(_)),s(_);break;case Q1.TIMEOUT:$e("Connection",'RPC "'+t+'" timed out'),c(new ze(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case Q1.HTTP_ERROR:const b=d.getStatus();if($e("Connection",'RPC "'+t+'" failed with status:',b,"response text:",d.getResponseText()),b>0){const T=d.getResponseJson().error;if(T&&T.status&&T.message){const A=function(N){const V=N.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(V)>=0?V:Ie.UNKNOWN}(T.status);c(new ze(A,T.message))}else c(new ze(Ie.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ze(Ie.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{$e("Connection",'RPC "'+t+'" completed.')}});const p=JSON.stringify(r);d.send(e,"POST",p,i,15)})}ho(t,e,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=FY(),c=LY(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new UY({})),this.uo(d.initMessageHeaders,e,i),(0,H.uI)()||(0,H.b$)()||(0,H.d)()||(0,H.w1)()||(0,H.Mn)()||(0,H.ru)()||(d.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");$e("Connection","Creating WebChannel: "+p,d);const _=s.createWebChannel(p,d);let b=!1,T=!1;const A=new U7({jr:V=>{T?$e("Connection","Not sending because WebChannel is closed:",V):(b||($e("Connection","Opening WebChannel transport."),_.open(),b=!0),$e("Connection","WebChannel sending:",V),_.send(V))},Wr:()=>_.close()}),N=(V,ue,_e)=>{V.listen(ue,je=>{try{_e(je)}catch(Ke){setTimeout(()=>{throw Ke},0)}})};return N(_,LD.EventType.OPEN,()=>{T||$e("Connection","WebChannel transport opened.")}),N(_,LD.EventType.CLOSE,()=>{T||(T=!0,$e("Connection","WebChannel transport closed"),A.eo())}),N(_,LD.EventType.ERROR,V=>{T||(T=!0,BD("Connection","WebChannel transport errored:",V),A.eo(new ze(Ie.UNAVAILABLE,"The operation could not be completed")))}),N(_,LD.EventType.MESSAGE,V=>{var ue;if(!T){const _e=V.data[0];Pt(!!_e);const je=_e,Ke=je.error||(null===(ue=je[0])||void 0===ue?void 0:ue.error);if(Ke){$e("Connection","WebChannel received error:",Ke);const Qe=Ke.status;let et=function(Bt){const xn=mr[Bt];if(void 0!==xn)return pj(xn)}(Qe),Vt=Ke.message;void 0===et&&(et=Ie.INTERNAL,Vt="Unknown error status: "+Qe+" with message "+Ke.message),T=!0,A.eo(new ze(et,Vt)),_.close()}else $e("Connection","WebChannel received:",_e),A.no(_e)}}),N(c,VY.STAT_EVENT,V=>{V.stat===wH.PROXY?$e("Connection","Detected buffering proxy"):V.stat===wH.NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(()=>{A.Zr()},0),A}}function dS(){return"undefined"!=typeof document?document:null}function S0(n){return new kK(n,!0)}class FO{constructor(t,e,i=1e3,r=1.5,s=6e4){this.js=t,this.timerId=e,this.lo=i,this.fo=r,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,e-i);r>0&&$e("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class T3{constructor(t,e,i,r,s,c,d,p){this.js=t,this.Ao=i,this.Ro=r,this.bo=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new FO(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,tt.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(t){this.Fo(),this.stream.send(t)}Oo(){var t=this;return(0,tt.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(t,e){var i=this;return(0,tt.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==t?i.So.reset():e&&e.code===Ie.RESOURCE_EXHAUSTED?(pr(e.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):e&&e.code===Ie.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===e&&this.Uo(i,r)},i=>{t(()=>{const r=new ze(Ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(t,e){const i=this.Lo(this.Po);this.stream=this.Ko(t,e),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var t=this;this.state=5,this.So.Io((0,tt.Z)(function*(){t.state=0,t.start()}))}qo(t){return $e("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.js.enqueueAndForget(()=>this.Po===t?e():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class j7 extends T3{constructor(t,e,i,r,s,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.wt=s}Ko(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function PK(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:yt(),r=t.targetChange.targetIds||[],s=function(p,_){return p.dt?(Pt(void 0===_||"string"==typeof _),Tr.fromBase64String(_||"")):(Pt(void 0===_||_ instanceof Uint8Array),Tr.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const _=void 0===p.code?Ie.UNKNOWN:pj(p.code);return new ze(_,p.message||"")}(c);e=new vj(i,r,s,d||null)}else if("documentChange"in t){const i=t.documentChange,r=Yc(n,i.document.name),s=jr(i.document.updateTime),c=new fs({mapValue:{fields:i.document.fields}}),d=fi.newFoundDocument(r,s,c);e=new QD(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){const i=t.documentDelete,r=Yc(n,i.document),s=i.readTime?jr(i.readTime):Ot.min(),c=fi.newNoDocument(r,s);e=new QD([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=Yc(n,i.document);e=new QD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return yt();{const i=t.filter,s=new EK(i.count||0);e=new yj(i.targetId,s)}}var p;return e}(this.wt,t),i=function(r){if(!("targetChange"in r))return Ot.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Ot.min():s.readTime?jr(s.readTime):Ot.min()}(t);return this.listener.Go(e,i)}Qo(t){const e={};e.database=_0(this.wt),e.addTarget=function(r,s){let c;const d=s.target;return c=$D(d)?{documents:Aj(r,d)}:{query:Mj(r,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=Ej(r,s.resumeToken):s.snapshotVersion.compareTo(Ot.min())>0&&(c.readTime=g0(r,s.snapshotVersion.toTimestamp())),c}(this.wt,t);const i=function FK(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Mo(e)}jo(t){const e={};e.database=_0(this.wt),e.removeTarget=t,this.Mo(e)}}class z7 extends T3{constructor(t,e,i,r,s,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(Pt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function NK(n,t){return n&&n.length>0?(Pt(void 0!==t),n.map(e=>function(i,r){let s=jr(i.updateTime?i.updateTime:r);return s.isEqual(Ot.min())&&(s=jr(r)),new bK(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=jr(t.commitTime);return this.listener.Jo(i,e)}return Pt(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=_0(this.wt),this.Mo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>function y0(n,t){let e;if(t instanceof q_)e={update:Sj(n,t.key,t.value)};else if(t instanceof Z_)e={delete:m0(n,t.key)};else if(t instanceof Qu)e={update:Sj(n,t.key,t.data),updateMask:HK(t.fieldMask)};else{if(!(t instanceof hO))return yt();e={verify:m0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof $_)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Up)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Hp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof W_)return{fieldPath:s.field.canonicalString(),increment:c._t};throw yt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:RK(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:yt()),e;var r}(this.wt,i))};this.Mo(e)}}class G7 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new ze(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.bo.ro(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ze(Ie.UNKNOWN,r.toString())})}ao(t,e,i,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.bo.ao(t,e,i,s,c,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ze(Ie.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class $7{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(pr(e),this.su=!1):$e("OnlineStateTracker",e)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class W7{constructor(t,e,i,r,s){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(d=>{i.enqueueAndForget((0,tt.Z)(function*(){var p;Wh(c)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,tt.Z)(function*(_){const b=ot(_);b.lu.add(4),yield ty(b),b._u.set("Unknown"),b.lu.delete(4),yield x0(b)}),function(_){return p.apply(this,arguments)})(c))}))}),this._u=new $7(i,r)}}function x0(n){return LO.apply(this,arguments)}function LO(){return LO=(0,tt.Z)(function*(n){if(Wh(n))for(const t of n.fu)yield t(!0)}),LO.apply(this,arguments)}function ty(n){return BO.apply(this,arguments)}function BO(){return BO=(0,tt.Z)(function*(n){for(const t of n.fu)yield t(!1)}),BO.apply(this,arguments)}function hS(n,t){const e=ot(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),HO(e)?UO(e):iy(e).Co()&&VO(e,t))}function A0(n,t){const e=ot(n),i=iy(e);e.hu.delete(t),i.Co()&&I3(e,t),0===e.hu.size&&(i.Co()?i.ko():Wh(e)&&e._u.set("Unknown"))}function VO(n,t){n.wu.Nt(t.targetId),iy(n).Qo(t)}function I3(n,t){n.wu.Nt(t),iy(n).jo(t)}function UO(n){n.wu=new xK({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),te:t=>n.hu.get(t)||null}),iy(n).start(),n._u.iu()}function HO(n){return Wh(n)&&!iy(n).Do()&&n.hu.size>0}function Wh(n){return 0===ot(n).lu.size}function D3(n){n.wu=void 0}function q7(n){return jO.apply(this,arguments)}function jO(){return jO=(0,tt.Z)(function*(n){n.hu.forEach((t,e)=>{VO(n,t)})}),jO.apply(this,arguments)}function Z7(n,t){return zO.apply(this,arguments)}function zO(){return zO=(0,tt.Z)(function*(n,t){D3(n),HO(n)?(n._u.uu(t),UO(n)):n._u.set("Unknown")}),zO.apply(this,arguments)}function Y7(n,t,e){return GO.apply(this,arguments)}function GO(){return GO=(0,tt.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof vj&&2===t.state&&t.cause)try{yield(i=(0,tt.Z)(function*(r,s){const c=s.cause;for(const d of s.targetIds)r.hu.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.hu.delete(d),r.wu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){$e("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield fS(n,i)}else if(t instanceof QD?n.wu.Ut(t):t instanceof yj?n.wu.zt(t):n.wu.Gt(t),!e.isEqual(Ot.min()))try{const i=yield p3(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const c=r.wu.Yt(s);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const _=r.hu.get(p);_&&r.hu.set(p,_.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach(d=>{const p=r.hu.get(d);if(!p)return;r.hu.set(d,p.withResumeToken(Tr.EMPTY_BYTE_STRING,p.snapshotVersion)),I3(r,d);const _=new zh(p.target,d,1,p.sequenceNumber);VO(r,_)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){$e("RemoteStore","Failed to raise snapshot:",i),yield fS(n,i)}var i}),GO.apply(this,arguments)}function fS(n,t,e){return $O.apply(this,arguments)}function $O(){return $O=(0,tt.Z)(function*(n,t,e){if(!Fh(t))throw t;n.lu.add(1),yield ty(n),n._u.set("Offline"),e||(e=()=>p3(n.localStore)),n.asyncQueue.enqueueRetryable((0,tt.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield x0(n)}))}),$O.apply(this,arguments)}function S3(n,t){return t().catch(e=>fS(n,e,t))}function ny(n){return WO.apply(this,arguments)}function WO(){return WO=(0,tt.Z)(function*(n){const t=ot(n),e=qh(t);let i=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;K7(t);)try{const r=yield N7(t.localStore,i);if(null===r){0===t.au.length&&e.ko();break}i=r.batchId,Q7(t,r)}catch(r){yield fS(t,r)}x3(t)&&A3(t)}),WO.apply(this,arguments)}function K7(n){return Wh(n)&&n.au.length<10}function Q7(n,t){n.au.push(t);const e=qh(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function x3(n){return Wh(n)&&!qh(n).Do()&&n.au.length>0}function A3(n){qh(n).start()}function J7(n){return qO.apply(this,arguments)}function qO(){return qO=(0,tt.Z)(function*(n){qh(n).Xo()}),qO.apply(this,arguments)}function X7(n){return ZO.apply(this,arguments)}function ZO(){return ZO=(0,tt.Z)(function*(n){const t=qh(n);for(const e of n.au)t.Ho(e.mutations)}),ZO.apply(this,arguments)}function eQ(n,t,e){return YO.apply(this,arguments)}function YO(){return YO=(0,tt.Z)(function*(n,t,e){const i=n.au.shift(),r=yO.from(i,t,e);yield S3(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ny(n)}),YO.apply(this,arguments)}function tQ(n,t){return KO.apply(this,arguments)}function KO(){return KO=(0,tt.Z)(function*(n,t){var e;t&&qh(n).zo&&(yield(e=(0,tt.Z)(function*(i,r){if(fj(s=r.code)&&s!==Ie.ABORTED){const c=i.au.shift();qh(i).No(),yield S3(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield ny(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),x3(n)&&A3(n)}),KO.apply(this,arguments)}function M3(n,t){return QO.apply(this,arguments)}function QO(){return QO=(0,tt.Z)(function*(n,t){const e=ot(n);e.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const i=Wh(e);e.lu.add(3),yield ty(e),i&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield x0(e)}),QO.apply(this,arguments)}function XO(){return XO=(0,tt.Z)(function*(n,t){const e=ot(n);t?(e.lu.delete(2),yield x0(e)):t||(e.lu.add(2),yield ty(e),e._u.set("Unknown"))}),XO.apply(this,arguments)}function iy(n){return n.mu||(n.mu=function(t,e,i){const r=ot(t);return r.tu(),new j7(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:q7.bind(null,n),Jr:Z7.bind(null,n),Go:Y7.bind(null,n)}),n.fu.push(function(){var t=(0,tt.Z)(function*(e){e?(n.mu.No(),HO(n)?UO(n):n._u.set("Unknown")):(yield n.mu.stop(),D3(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function qh(n){return n.gu||(n.gu=function(t,e,i){const r=ot(t);return r.tu(),new z7(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:J7.bind(null,n),Jr:tQ.bind(null,n),Yo:X7.bind(null,n),Jo:eQ.bind(null,n)}),n.fu.push(function(){var t=(0,tt.Z)(function*(e){e?(n.gu.No(),yield ny(n)):(yield n.gu.stop(),n.au.length>0&&($e("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class eP{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,s){const c=Date.now()+i,d=new eP(t,e,c,r,s);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ze(Ie.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ry(n,t){if(pr("AsyncQueue",`${t}: ${n}`),Fh(n))return new ze(Ie.UNAVAILABLE,`${t}: ${n}`);throw n}class sy{constructor(t){this.comparator=t?(e,i)=>t(e,i)||rt.comparator(e.key,i.key):(e,i)=>rt.comparator(e.key,i.key),this.keyedMap=d0(),this.sortedSet=new ji(this.comparator)}static emptySet(t){return new sy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof sy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new sy;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class k3{constructor(){this.yu=new ji(rt.comparator)}track(t){const e=t.doc.key,i=this.yu.get(e);i?0!==t.type&&3===i.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==i.type?this.yu=this.yu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.yu=this.yu.remove(e):1===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):yt():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,i)=>{t.push(i)}),t}}class oy{constructor(t,e,i,r,s,c,d,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p}static fromInitialDocuments(t,e,i,r){const s=[];return e.forEach(c=>{s.push({type:0,doc:c})}),new oy(t,e,sy.emptySet(e),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&l0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class nQ{constructor(){this.Iu=void 0,this.listeners=[]}}class iQ{constructor(){this.queries=new jh(t=>QH(t),l0),this.onlineState="Unknown",this.Tu=new Set}}function tP(n,t){return nP.apply(this,arguments)}function nP(){return nP=(0,tt.Z)(function*(n,t){const e=ot(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new nQ),r)try{s.Iu=yield e.onListen(i)}catch(c){const d=ry(c,`Initialization of query '${uO(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,s),s.listeners.push(t),t.Eu(e.onlineState),s.Iu&&t.Au(s.Iu)&&sP(e)}),nP.apply(this,arguments)}function iP(n,t){return rP.apply(this,arguments)}function rP(){return rP=(0,tt.Z)(function*(n,t){const e=ot(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const c=s.listeners.indexOf(t);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),rP.apply(this,arguments)}function rQ(n,t){const e=ot(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const d of c.listeners)d.Au(r)&&(i=!0);c.Iu=r}}i&&sP(e)}function sQ(n,t,e){const i=ot(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function sP(n){n.Tu.forEach(t=>{t.next()})}class oP{constructor(t,e,i){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new oy(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),e=!0):this.Vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}Vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=oy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class P3{constructor(t){this.key=t}}class N3{constructor(t){this.key=t}}class F3{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=tn(),this.mutatedKeys=tn(),this.Lu=XH(t),this.Uu=new sy(this.Lu)}get qu(){return this.Fu}Ku(t,e){const i=e?e.Gu:new k3,r=e?e.Uu:this.Uu;let s=e?e.mutatedKeys:this.mutatedKeys,c=r,d=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((b,T)=>{const A=r.get(b),N=dO(this.query,T)?T:null,V=!!A&&this.mutatedKeys.has(A.key),ue=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let _e=!1;A&&N?A.data.isEqual(N.data)?V!==ue&&(i.track({type:3,doc:N}),_e=!0):this.Qu(A,N)||(i.track({type:2,doc:N}),_e=!0,(p&&this.Lu(N,p)>0||_&&this.Lu(N,_)<0)&&(d=!0)):!A&&N?(i.track({type:0,doc:N}),_e=!0):A&&!N&&(i.track({type:1,doc:A}),_e=!0,(p||_)&&(d=!0)),_e&&(N?(c=c.add(N),s=ue?s.add(b):s.delete(b)):(c=c.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const b="F"===this.query.limitType?c.last():c.first();c=c.delete(b.key),s=s.delete(b.key),i.track({type:1,doc:b})}return{Uu:c,Gu:i,Oi:d,mutatedKeys:s}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const s=t.Gu.pu();s.sort((_,b)=>function(T,A){const N=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return N(T)-N(A)}(_.type,b.type)||this.Lu(_.doc,b.doc)),this.ju(i);const c=e?this.Wu():[],d=0===this.Bu.size&&this.current?1:0,p=d!==this.$u;return this.$u=d,0!==s.length||p?{snapshot:new oy(this.query,t.Uu,r,s,t.mutatedKeys,0===d,p,!1),zu:c}:{zu:c}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new k3,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=tn(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const e=[];return t.forEach(i=>{this.Bu.has(i)||e.push(new N3(i))}),this.Bu.forEach(i=>{t.has(i)||e.push(new P3(i))}),e}Ju(t){this.Fu=t.ji,this.Bu=tn();const e=this.Ku(t.documents);return this.applyChanges(e,!0)}Yu(){return oy.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class lQ{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class cQ{constructor(t){this.key=t,this.Xu=!1}}class uQ{constructor(t,e,i,r,s,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new jh(d=>QH(d),l0),this.ec=new Map,this.nc=new Set,this.sc=new ji(rt.comparator),this.ic=new Map,this.rc=new EO,this.oc={},this.uc=new Map,this.cc=Zp.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function dQ(n,t){return aP.apply(this,arguments)}function aP(){return aP=(0,tt.Z)(function*(n,t){const e=MP(n);let i,r;const s=e.tc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.Yu();else{const c=yield X_(e.localStore,Ja(t));e.isPrimaryClient&&hS(e.remoteStore,c);const d=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield lP(e,t,i,"current"===d)}return r}),aP.apply(this,arguments)}function lP(n,t,e,i){return cP.apply(this,arguments)}function cP(){return cP=(0,tt.Z)(function*(n,t,e,i){n.hc=(b,T,A)=>{return(N=(0,tt.Z)(function*(V,ue,_e,je){let Ke=ue.view.Ku(_e);Ke.Oi&&(Ke=yield lS(V.localStore,ue.query,!1).then(({documents:Vt})=>ue.view.Ku(Vt,Ke)));const Qe=je&&je.targetChanges.get(ue.targetId),et=ue.view.applyChanges(Ke,V.isPrimaryClient,Qe);return vP(V,ue.targetId,et.zu),et.snapshot}),function(V,ue,_e,je){return N.apply(this,arguments)})(n,b,T,A);var N};const r=yield lS(n.localStore,t,!0),s=new F3(t,r.ji),c=s.Ku(r.documents),d=p0.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),p=s.applyChanges(c,n.isPrimaryClient,d);vP(n,e,p.zu);const _=new lQ(t,e,s);return n.tc.set(t,_),n.ec.has(e)?n.ec.get(e).push(t):n.ec.set(e,[t]),p.snapshot}),cP.apply(this,arguments)}function hQ(n,t){return uP.apply(this,arguments)}function uP(){return uP=(0,tt.Z)(function*(n,t){const e=ot(n),i=e.tc.get(t),r=e.ec.get(i.targetId);if(r.length>1)return e.ec.set(i.targetId,r.filter(s=>!l0(s,t))),void e.tc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ey(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),A0(e.remoteStore,i.targetId),ay(e,i.targetId)}).catch(Nh))):(ay(e,i.targetId),yield ey(e.localStore,i.targetId,!0))}),uP.apply(this,arguments)}function dP(){return dP=(0,tt.Z)(function*(n,t,e){const i=kP(n);try{const r=yield function(s,c){const d=ot(s),p=Li.now(),_=c.reduce((A,N)=>A.add(N.key),tn());let b,T;return d.persistence.runTransaction("Locally write mutations","readwrite",A=>{let N=Lo(),V=tn();return d.Ui.getEntries(A,_).next(ue=>{N=ue,N.forEach((_e,je)=>{je.isValidDocument()||(V=V.add(_e))})}).next(()=>d.localDocuments.getOverlayedDocuments(A,N)).next(ue=>{b=ue;const _e=[];for(const je of c){const Ke=CK(je,b.get(je.key).overlayedDocument);null!=Ke&&_e.push(new Qu(je.key,Ke,jH(Ke.value.mapValue),Bi.exists(!0)))}return d.mutationQueue.addMutationBatch(A,p,_e,c)}).next(ue=>{T=ue;const _e=ue.applyToLocalDocumentSet(b,V);return d.documentOverlayCache.saveOverlays(A,ue.batchId,_e)})}).then(()=>({batchId:T.batchId,changes:mj(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,d){let p=s.oc[s.currentUser.toKey()];p||(p=new ji(Xt)),p=p.insert(c,d),s.oc[s.currentUser.toKey()]=p}(i,r.batchId,e),yield Ju(i,r.changes),yield ny(i.remoteStore)}catch(r){const s=ry(r,"Failed to persist write");e.reject(s)}}),dP.apply(this,arguments)}function L3(n,t){return hP.apply(this,arguments)}function hP(){return hP=(0,tt.Z)(function*(n,t){const e=ot(n);try{const i=yield P7(e.localStore,t);t.targetChanges.forEach((r,s)=>{const c=e.ic.get(s);c&&(Pt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.Xu=!0:r.modifiedDocuments.size>0?Pt(c.Xu):r.removedDocuments.size>0&&(Pt(c.Xu),c.Xu=!1))}),yield Ju(e,i,t)}catch(i){yield Nh(i)}}),hP.apply(this,arguments)}function B3(n,t,e){const i=ot(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.tc.forEach((s,c)=>{const d=c.view.Eu(t);d.snapshot&&r.push(d.snapshot)}),function(s,c){const d=ot(s);d.onlineState=c;let p=!1;d.queries.forEach((_,b)=>{for(const T of b.listeners)T.Eu(c)&&(p=!0)}),p&&sP(d)}(i.eventManager,t),r.length&&i.Zu.Go(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function pQ(n,t,e){return fP.apply(this,arguments)}function fP(){return fP=(0,tt.Z)(function*(n,t,e){const i=ot(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ic.get(t),s=r&&r.key;if(s){let c=new ji(rt.comparator);c=c.insert(s,fi.newNoDocument(s,Ot.min()));const d=tn().add(s),p=new f0(Ot.min(),new Map,new Jn(Xt),c,d);yield L3(i,p),i.sc=i.sc.remove(s),i.ic.delete(t),bP(i)}else yield ey(i.localStore,t,!1).then(()=>ay(i,t,e)).catch(Nh)}),fP.apply(this,arguments)}function gQ(n,t){return pP.apply(this,arguments)}function pP(){return pP=(0,tt.Z)(function*(n,t){const e=ot(n),i=t.batch.batchId;try{const r=yield O7(e.localStore,t);yP(e,i,null),_P(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Ju(e,r)}catch(r){yield Nh(r)}}),pP.apply(this,arguments)}function mQ(n,t,e){return gP.apply(this,arguments)}function gP(){return gP=(0,tt.Z)(function*(n,t,e){const i=ot(n);try{const r=yield function(s,c){const d=ot(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return d.mutationQueue.lookupMutationBatch(p,c).next(b=>(Pt(null!==b),_=b.keys(),d.mutationQueue.removeMutationBatch(p,b))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,_,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>d.localDocuments.getDocuments(p,_))})}(i.localStore,t);yP(i,t,e),_P(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Ju(i,r)}catch(r){yield Nh(r)}}),gP.apply(this,arguments)}function _P(n,t){(n.uc.get(t)||[]).forEach(e=>{e.resolve()}),n.uc.delete(t)}function yP(n,t,e){const i=ot(n);let r=i.oc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.oc[i.currentUser.toKey()]=r}}function ay(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ec.get(t))n.tc.delete(i),e&&n.Zu.lc(i,e);n.ec.delete(t),n.isPrimaryClient&&n.rc.us(t).forEach(i=>{n.rc.containsKey(i)||V3(n,i)})}function V3(n,t){n.nc.delete(t.path.canonicalString());const e=n.sc.get(t);null!==e&&(A0(n.remoteStore,e),n.sc=n.sc.remove(t),n.ic.delete(e),bP(n))}function vP(n,t,e){for(const i of e)i instanceof P3?(n.rc.addReference(i.key,t),yQ(n,i)):i instanceof N3?($e("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,t),n.rc.containsKey(i.key)||V3(n,i.key)):yt()}function yQ(n,t){const e=t.key,i=e.path.canonicalString();n.sc.get(e)||n.nc.has(i)||($e("SyncEngine","New document in limbo: "+e),n.nc.add(i),bP(n))}function bP(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const t=n.nc.values().next().value;n.nc.delete(t);const e=new rt(In.fromString(t)),i=n.cc.next();n.ic.set(i,new cQ(e)),n.sc=n.sc.insert(e,i),hS(n.remoteStore,new zh(Ja(z_(e.path)),i,2,Fo.ot))}}function Ju(n,t,e){return wP.apply(this,arguments)}function wP(){return wP=(0,tt.Z)(function*(n,t,e){const i=ot(n),r=[],s=[],c=[];var d;i.tc.isEmpty()||(i.tc.forEach((d,p)=>{c.push(i.hc(p,t,e).then(_=>{if(_){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,_.fromCache?"not-current":"current"),r.push(_);const b=SO.Vi(p.targetId,_);s.push(b)}}))}),yield Promise.all(c),i.Zu.Go(r),yield(d=(0,tt.Z)(function*(p,_){const b=ot(p);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Te.forEach(_,A=>Te.forEach(A.Pi,N=>b.persistence.referenceDelegate.addReference(T,A.targetId,N)).next(()=>Te.forEach(A.vi,N=>b.persistence.referenceDelegate.removeReference(T,A.targetId,N)))))}catch(T){if(!Fh(T))throw T;$e("LocalStore","Failed to update sequence numbers: "+T)}for(const T of _){const A=T.targetId;if(!T.fromCache){const N=b.$i.get(A),ue=N.withLastLimboFreeSnapshotVersion(N.snapshotVersion);b.$i=b.$i.insert(A,ue)}}}),function(p,_){return d.apply(this,arguments)})(i.localStore,s))}),wP.apply(this,arguments)}function vQ(n,t){return CP.apply(this,arguments)}function CP(){return CP=(0,tt.Z)(function*(n,t){const e=ot(n);if(!e.currentUser.isEqual(t)){$e("SyncEngine","User change. New user:",t.toKey());const i=yield f3(e.localStore,t);e.currentUser=t,(r=e).uc.forEach(c=>{c.forEach(d=>{d.reject(new ze(Ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Ju(e,i.Ki)}var r}),CP.apply(this,arguments)}function bQ(n,t){const e=ot(n),i=e.ic.get(t);if(i&&i.Xu)return tn().add(i.key);{let r=tn();const s=e.ec.get(t);if(!s)return r;for(const c of s){const d=e.tc.get(c);r=r.unionWith(d.view.qu)}return r}}function MP(n){const t=ot(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=L3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bQ.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pQ.bind(null,t),t.Zu.Go=rQ.bind(null,t.eventManager),t.Zu.lc=sQ.bind(null,t.eventManager),t}function kP(n){const t=ot(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gQ.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mQ.bind(null,t),t}class AQ{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,tt.Z)(function*(){e.wt=S0(t.databaseInfo.databaseId),e.sharedClientState=e.dc(t),e.persistence=e._c(t),yield e.persistence.start(),e.localStore=e.wc(t),e.gcScheduler=e.mc(t,e.localStore),e.indexBackfillerScheduler=e.gc(t,e.localStore)})()}mc(t,e){return null}gc(t,e){return null}wc(t){return function h3(n,t,e,i){return new R7(n,t,e,i)}(this.persistence,new d3,t.initialUser,this.wt)}_c(t){return new c3(oS.Ms,this.wt)}dc(t){return new w3}terminate(){var t=this;return(0,tt.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class RP{initialize(t,e){var i=this;return(0,tt.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>B3(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=vQ.bind(null,i.syncEngine),yield function JO(n,t){return XO.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new iQ}createDatastore(t){const e=S0(t.databaseInfo.databaseId),i=new H7(t.databaseInfo);return new G7(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=d=>B3(this.syncEngine,d,0),c=C3.V()?new C3:new B7,new W7(e,i,r,s,c);var e,i,r,s,c}createSyncEngine(t,e){return function(i,r,s,c,d,p,_){const b=new uQ(i,r,s,c,d,p);return _&&(b.ac=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,tt.Z)(function*(e){const i=ot(e);$e("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield ty(i),i.du.shutdown(),i._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}class pS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class NQ{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Ur.UNAUTHENTICATED,this.clientId=IH.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,tt.Z)(function*(d){$e("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>($e("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,tt.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ze(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,tt.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=ry(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function z3(n,t){return OP.apply(this,arguments)}function OP(){return OP=(0,tt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,tt.Z)(function*(s){i.isEqual(s)||(yield f3(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),OP.apply(this,arguments)}function G3(n,t){return PP.apply(this,arguments)}function PP(){return PP=(0,tt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield NP(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>M3(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>M3(t.remoteStore,s)),n.onlineComponents=t}),PP.apply(this,arguments)}function NP(n){return FP.apply(this,arguments)}function FP(){return FP=(0,tt.Z)(function*(n){return n.offlineComponents||($e("FirestoreClient","Using default OfflineComponentProvider"),yield z3(n,new AQ)),n.offlineComponents}),FP.apply(this,arguments)}function gS(n){return LP.apply(this,arguments)}function LP(){return LP=(0,tt.Z)(function*(n){return n.onlineComponents||($e("FirestoreClient","Using default OnlineComponentProvider"),yield G3(n,new RP)),n.onlineComponents}),LP.apply(this,arguments)}function ly(n){return UP.apply(this,arguments)}function UP(){return UP=(0,tt.Z)(function*(n){const t=yield gS(n),e=t.eventManager;return e.onListen=dQ.bind(null,t.syncEngine),e.onUnlisten=hQ.bind(null,t.syncEngine),e}),UP.apply(this,arguments)}const Y3=new Map;function HP(n,t,e){if(!e)throw new ze(Ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function K3(n){if(!rt.isDocumentKey(n))throw new ze(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Q3(n){if(rt.isDocumentKey(n))throw new ze(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":yt()}function Sn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ze(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=mS(n);throw new ze(Ie.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}class X3{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ze(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ze(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function GQ(n,t,e,i){if(!0===t&&!0===i)throw new ze(Ie.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class M0{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X3({}),this._settingsFrozen=!1,t instanceof Bh?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ze(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bh(r.options.projectId)}(t))}get app(){if(!this._app)throw new ze(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ze(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X3(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new jY;switch(e.type){case"gapi":const i=e.client;return Pt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new WY(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ze(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Y3.get(t);e&&($e("ComponentProvider","Removing Datastore"),Y3.delete(t),e.terminate())}(this),Promise.resolve()}}class nr{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new nr(this.firestore,t,this._key)}}class Ms{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ms(this.firestore,t,this._query)}}class Qc extends Ms{constructor(t,e,i){super(t,e,z_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new nr(this.firestore,null,new rt(t))}withConverter(t){return new Qc(this.firestore,t,this._path)}}function k0(n,t,...e){if(n=(0,H.m9)(n),HP("collection","path",t),n instanceof M0){const i=In.fromString(t,...e);return Q3(i),new Qc(n,null,i)}{if(!(n instanceof nr||n instanceof Qc))throw new ze(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(In.fromString(t,...e));return Q3(i),new Qc(n.firestore,null,i)}}function cy(n,t,...e){if(n=(0,H.m9)(n),1===arguments.length&&(t=IH.I()),HP("doc","path",t),n instanceof M0){const i=In.fromString(t,...e);return K3(i),new nr(n,null,new rt(i))}{if(!(n instanceof nr||n instanceof Qc))throw new ze(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(In.fromString(t,...e));return K3(i),new nr(n.firestore,n instanceof Qc?n.converter:null,new rt(i))}}class WQ{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new FO(this,"async_queue_retry"),this.Kc=()=>{const e=dS();e&&$e("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=dS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const e=dS();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise(()=>{});const e=new Hr;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Mc.push(t),this.jc()))}jc(){var t=this;return(0,tt.Z)(function*(){if(0!==t.Mc.length){try{yield t.Mc[0](),t.Mc.shift(),t.So.reset()}catch(e){if(!Fh(e))throw e;$e("AsyncQueue","Operation failed with retryable error: "+e)}t.Mc.length>0&&t.So.Io(()=>t.jc())}})()}Qc(t){const e=this.Oc.then(()=>(this.Lc=!0,t().catch(i=>{throw this.Bc=i,this.Lc=!1,pr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Oc=e,e}enqueueAfterDelay(t,e,i){this.Gc(),this.qc.indexOf(t)>-1&&(e=0);const r=eP.createAndSchedule(this,t,e,i,s=>this.Wc(s));return this.$c.push(r),r}Gc(){this.Bc&&yt()}verifyOperationInProgress(){}zc(){var t=this;return(0,tt.Z)(function*(){let e;do{e=t.Oc,yield e}while(e!==t.Oc)})()}Hc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Jc(t){return this.zc().then(()=>{this.$c.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Yc(t){this.qc.push(t)}Wc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}function jP(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Si extends M0{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new WQ,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ez(this),this._firestoreClient.terminate()}}function ZQ(n=(0,ci.getApp)()){return(0,ci._getProvider)(n,"firestore").getImmediate()}function Ir(n){return n._firestoreClient||ez(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function ez(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new nK(n._databaseId,s,n._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new NQ(n._authCredentials,n._appCheckCredentials,n._queue,i)}class uy{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ze(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Kp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kp(Tr.fromBase64String(t))}catch(e){throw new ze(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Kp(Tr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class zP{constructor(t){this._methodName=t}}class GP{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ze(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ze(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Xt(this._lat,t._lat)||Xt(this._long,t._long)}}const YQ=/^__.*__$/;class KQ{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Qu(t,this.data,this.fieldMask,e,this.fieldTransforms):new q_(t,this.data,e,this.fieldTransforms)}}class iz{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Qu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function rz(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class _S{constructor(t,e,i,r,s,c){this.settings=t,this.databaseId=e,this.wt=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new _S(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.sa(t),r}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return vS(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(0===t.length)throw this.oa("Document fields must not be empty");if(rz(this.Zc)&&YQ.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class QQ{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.wt=i||S0(t)}aa(t,e,i,r=!1){return new _S({Zc:t,methodName:e,ca:i,path:gr.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function dy(n){const t=n._freezeSettings(),e=S0(n._databaseId);return new QQ(n._databaseId,!!t.ignoreUndefinedProperties,e)}function $P(n,t,e,i,r,s={}){const c=n.aa(s.merge||s.mergeFields?2:0,t,e,r);qP("Data must be an object, but it was:",c,i);const d=cz(i,c);let p,_;if(s.merge)p=new oa(c.fieldMask),_=c.fieldTransforms;else if(s.mergeFields){const b=[];for(const T of s.mergeFields){const A=ZP(t,T,e);if(!c.contains(A))throw new ze(Ie.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);dz(b,A)||b.push(A)}p=new oa(b),_=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,_=c.fieldTransforms;return new KQ(new fs(d),p,_)}class R0 extends zP{_toFieldTransform(t){if(2!==t.Zc)throw t.oa(1===t.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof R0}}function Qp(n,t){if(uz(n=(0,H.m9)(n)))return qP("Unsupported field value:",t,n),cz(n,t);if(n instanceof zP)return function(e,i){if(!rz(i.Zc))throw i.oa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const c of e){let d=Qp(c,i.ra(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,H.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return nj(i.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Li.fromDate(e);return{timestampValue:g0(i.wt,r)}}if(e instanceof Li){const r=new Li(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:g0(i.wt,r)}}if(e instanceof GP)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Kp)return{bytesValue:Ej(i.wt,e._byteString)};if(e instanceof nr){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:fO(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.oa(`Unsupported field value: ${mS(e)}`)}(n,t)}function cz(n,t){const e={};return RH(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Np(n,(i,r)=>{const s=Qp(r,t.ea(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function uz(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Li||n instanceof GP||n instanceof Kp||n instanceof nr||n instanceof zP)}function qP(n,t,e){if(!uz(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=mS(e);throw t.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function ZP(n,t,e){if((t=(0,H.m9)(t))instanceof uy)return t._internalPath;if("string"==typeof t)return yS(n,t);throw vS("Field path arguments must be of type string or ",n,!1,void 0,e)}const t9=new RegExp("[~\\*/\\[\\]]");function yS(n,t,e){if(t.search(t9)>=0)throw vS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new uy(...t.split("."))._internalPath}catch(i){throw vS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function vS(n,t,e,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new ze(Ie.INVALID_ARGUMENT,d+n+p)}function dz(n,t){return n.some(e=>e.isEqual(t))}class YP{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new n9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(bS("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class n9 extends YP{data(){return super.data()}}function bS(n,t){return"string"==typeof t?yS(n,t):t instanceof uy?t._internalPath:t._delegate._internalPath}class Jp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class hy extends YP{constructor(t,e,i,r,s,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new wS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(bS("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class wS extends hy{data(t={}){return super.data(t)}}class fy{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Jp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new wS(this._firestore,this._userDataWriter,i.key,i,new Jp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ze(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new wS(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Jp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new wS(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Jp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),_=s.indexOf(c.doc.key)),{type:i9(c.type),doc:d,oldIndex:p,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function i9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}function fz(n,...t){for(const e of t)n=e._apply(n);return n}class s9 extends class r9{}{constructor(t,e,i){super(),this.fa=t,this.da=e,this._a=i,this.type="where"}_apply(t){const e=dy(t.firestore),i=function(r,s,c,d,p,_,b){let T;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new ze(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){vz(b,_);const N=[];for(const V of b)N.push(yz(d,r,V));T={arrayValue:{values:N}}}else T=yz(d,r,b)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||vz(b,_),T=function lz(n,t,e,i=!1){return Qp(e,n.aa(i?4:3,t))}(c,"where",b,"in"===_||"not-in"===_);const A=ps.create(p,_,T);return function(N,V){if(V.ht()){const _e=lO(N);if(null!==_e&&!_e.isEqual(V.field))throw new ze(Ie.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_e.toString()}' and '${V.field.toString()}'`);const je=aO(N);null!==je&&function bz(n,t,e){if(!e.isEqual(t))throw new ze(Ie.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}(0,V.field,je)}const ue=function(_e,je){for(const Ke of _e.filters)if(je.indexOf(Ke.op)>=0)return Ke.op;return null}(N,function(_e){switch(_e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(V.op));if(null!==ue)throw new ze(Ie.INVALID_ARGUMENT,ue===V.op?`Invalid query. You cannot use more than one '${V.op.toString()}' filter.`:`Invalid query. You cannot use '${V.op.toString()}' filters with '${ue.toString()}' filters.`)}(r,A),A}(t._query,0,e,t.firestore._databaseId,this.fa,this.da,this._a);return new Ms(t.firestore,t.converter,function(r,s){const c=r.filters.concat([s]);return new Ku(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}function o9(n,t,e){const i=t,r=bS("where",n);return new s9(r,i,e)}function yz(n,t,e){if("string"==typeof(e=(0,H.m9)(e))){if(""===e)throw new ze(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cO(t)&&-1!==e.indexOf("/"))throw new ze(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(In.fromString(e));if(!rt.isDocumentKey(i))throw new ze(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Bp(n,new rt(i))}if(e instanceof nr)return Bp(n,e._key);throw new ze(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mS(e)}.`)}function vz(n,t){if(!Array.isArray(n)||0===n.length)throw new ze(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new ze(Ie.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}class Xp extends class c9{convertValue(t,e="none"){switch(Lp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Fp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw yt()}}convertObject(t,e){const i={};return Np(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new GP(zi(t.latitude),zi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=PH(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(e0(t));default:return null}}convertTimestamp(t){const e=Lh(t);return new Li(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=In.fromString(t);Pt(Oj(i));const r=new Bh(i.get(1),i.get(3)),s=new rt(i.popFirst(5));return r.isEqual(e)||pr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kp(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new nr(this.firestore,null,e)}}function wz(n,t,e){n=Sn(n,nr);const i=Sn(n.firestore,Si),r=function KP(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}(n.converter,t,e);return O0(i,[$P(dy(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Bi.none())])}function f9(n){return O0(Sn(n.firestore,Si),[new Z_(n._key,Bi.none())])}function Cz(n,...t){var e,i,r;n=(0,H.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||jP(t[c])||(s=t[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if(jP(t[c])){const T=t[c];t[c]=null===(e=T.next)||void 0===e?void 0:e.bind(T),t[c+1]=null===(i=T.error)||void 0===i?void 0:i.bind(T),t[c+2]=null===(r=T.complete)||void 0===r?void 0:r.bind(T)}let p,_,b;if(n instanceof nr)_=Sn(n.firestore,Si),b=z_(n._key.path),p={next:T=>{t[c]&&t[c](QP(_,n,T))},error:t[c+1],complete:t[c+2]};else{const T=Sn(n,Ms);_=Sn(T.firestore,Si),b=T._query;const A=new Xp(_);p={next:N=>{t[c]&&t[c](new fy(_,A,T,N))},error:t[c+1],complete:t[c+2]},function hz(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ze(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(T,A,N,V){const ue=new pS(V),_e=new oP(A,ue,N);return T.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return tP(yield ly(T),_e)})),()=>{ue.Tc(),T.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return iP(yield ly(T),_e)}))}}(Ir(_),b,d,p)}function O0(n,t){return function(e,i){const r=new Hr;return e.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return function fQ(n,t,e){return dP.apply(this,arguments)}(yield function VP(n){return gS(n).then(t=>t.syncEngine)}(e),i,r)})),r.promise}(Ir(n),t)}function QP(n,t,e){const i=e.docs.get(t._key),r=new Xp(n);return new hy(n,r,t._key,i,new Jp(e.hasPendingWrites,e.fromCache),t.converter)}!function(n,t=!0){B_=ci.SDK_VERSION,(0,ci._registerComponent)(new bo.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),s=new Si(r,new GY(e.getProvider("auth-internal")),new qY(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC")),(0,ci.registerVersion)(CH,"3.4.12",n),(0,ci.registerVersion)(CH,"3.4.12","esm2017")}();var g9={includeMetadataChanges:!1};function C9(n,t){return void 0===t&&(t={}),function w9(n){return function JP(n,t){return void 0===t&&(t=g9),new ai.y(function(e){return{unsubscribe:Cz(n,t,{next:e.next.bind(e),error:e.error.bind(e),complete:e.complete.bind(e)})}})}(n,{includeMetadataChanges:!0}).pipe((0,pt.U)(function(t){return t.docs}))}(n).pipe((0,pt.U)(function(e){return e.map(function(i){return function Tz(n,t){void 0===t&&(t={});var e=n.data();return!n.exists()||"object"!=typeof e||null===e||t.idField&&(e[t.idField]=n.id),e}(i,t)})}))}class eg{constructor(t){return t}}const xz="firestore",tN=new o.OlP("angularfire2.firestore-instances");function I9(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new eg(i)}}const D9={provide:class E9{constructor(){return(0,Jt.vb)(xz)}},deps:[[new o.FiY,tN]]},S9={provide:eg,useFactory:function T9(n,t){const e=(0,Jt.JM)(xz,n,t);return e&&new eg(e)},deps:[[new o.FiY,tN],$s]};let x9=(()=>{class n{constructor(){(0,Or.KN)("angularfire",Jt.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[S9,D9]}),n})();function A9(n,...t){return{ngModule:x9,providers:[{provide:tN,useFactory:I9(n),multi:!0,deps:[o.R0b,o.zs3,Jt.HU,gu,[new o.FiY,oU],[new o.FiY,Eu],...t]}]}}const nN=(0,Jt.u3)(C9,!0),M9=(0,Jt.u3)(f9,!0),k9=(0,Jt.u3)(ZQ,!0),R9=(0,Jt.u3)(Cz,!0),O9=(0,Jt.u3)(fz,!0),P9=(0,Jt.u3)(o9,!0);var N9=M(3014),F9=M.n(N9);let Az=(()=>{class n{constructor(){}searchProducts(e){return(0,tt.Z)(function*(){return(yield F9().get("https://lomi.cl/api/v2/storefront/products?include=images%2Cvariants&keywords="+e+"&page=1&per_page=4&include=images,variants")).data})()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mz="firebasestorage.googleapis.com",kz="storageBucket";class Gi extends H.ZR{constructor(t,e){super(iN(t),`Firebase Storage: ${e} (${iN(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gi.prototype)}_codeEquals(t){return iN(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function iN(n){return"storage/"+n}function rN(){return new Gi("unknown","An unknown error occurred, please check the error payload for server response.")}function Rz(){return new Gi("canceled","User canceled the upload/download.")}function Oz(){return new Gi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function py(n){return new Gi("invalid-argument",n)}function Pz(){return new Gi("app-deleted","The Firebase app was deleted.")}function Nz(n){return new Gi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function P0(n,t){return new Gi("invalid-format","String does not match format '"+n+"': "+t)}function N0(n){throw new Gi("internal-error","Internal error: "+n)}class ks{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=ks.makeFromUrl(t,e)}catch(r){return new ks(t,"")}if(""===i.path)return i;throw function W9(n){return new Gi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function _(et){et.path_=decodeURIComponent(et.path)}const T=e.replace(/[.]/g,"\\."),Qe=[{regex:d,indices:{bucket:1,path:3},postModify:function s(et){"/"===et.path.charAt(et.path.length-1)&&(et.path_=et.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${T}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${e===Mz?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let et=0;et<Qe.length;et++){const Vt=Qe[et],Bt=Vt.regex.exec(t);if(Bt){let ir=Bt[Vt.indices.path];ir||(ir=""),i=new ks(Bt[Vt.indices.bucket],ir),Vt.postModify(i);break}}if(null==i)throw function $9(n){return new Gi("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class K9{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function ES(n){return"string"==typeof n||n instanceof String}function Fz(n){return sN()&&n instanceof Blob}function sN(){return"undefined"!=typeof Blob}function oN(n,t,e,i){if(i<t)throw py(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw py(`Invalid value for '${n}'. Expected ${e} or less.`)}function Xu(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function Lz(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Zh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Zh||(Zh={})),Zh))();class nJ{constructor(t,e,i,r,s,c,d,p,_,b,T){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=b,this.connectionFactory_=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,N)=>{this.resolve_=A,this.reject_=N,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function X9(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==d){const p=rN();p.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,p):p)}else c(r.canceled?this.appDelete_?Pz():Rz():function G9(){return new Gi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new TS(!1,null,!0)):this.backoffId_=function Q9(n,t,e){let i=1,r=null,s=null,c=!1,d=0;function p(){return 2===d}let _=!1;function b(..._e){_||(_=!0,t.apply(null,_e))}function T(_e){r=setTimeout(()=>{r=null,n(N,p())},_e)}function A(){s&&clearTimeout(s)}function N(_e,...je){if(_)return void A();if(_e)return A(),void b.call(null,_e,...je);if(p()||c)return A(),void b.call(null,_e,...je);let Qe;i<64&&(i*=2),1===d?(d=2,Qe=0):Qe=1e3*(i+Math.random()),T(Qe)}let V=!1;function ue(_e){V||(V=!0,A(),!_&&(null!==r?(_e||(d=2),clearTimeout(r),T(0)):_e||(d=1)))}return T(0),s=setTimeout(()=>{c=!0,ue(!0)},e),ue}((i,r)=>{if(r)return void i(!1,new TS(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===Zh.NO_ERROR,p=s.getStatus();if(!d||this.isRetryStatusCode_(p)){const b=s.getErrorCode()===Zh.ABORT;return void i(!1,new TS(!1,null,b))}const _=-1!==this.successCodes_.indexOf(p);i(!0,new TS(_,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function J9(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),s=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||s}}class TS{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function cJ(...n){const t=function lJ(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(sN())return new Blob(n);throw new Gi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const aa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class aN{constructor(t,e){this.data=t,this.contentType=e||null}}function lN(n,t){switch(n){case aa.RAW:return new aN(Bz(t));case aa.BASE64:case aa.BASE64URL:return new aN(Vz(n,t));case aa.DATA_URL:return new aN(function fJ(n){const t=new Uz(n);return t.base64?Vz(aa.BASE64,t.rest):function hJ(n){let t;try{t=decodeURIComponent(n)}catch(e){throw P0(aa.DATA_URL,"Malformed data URL.")}return Bz(t)}(t.rest)}(t),function pJ(n){return new Uz(n).contentType}(t))}throw rN()}function Bz(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function Vz(n,t){switch(n){case aa.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw P0(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case aa.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw P0(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function dJ(n){return atob(n)}(t)}catch(r){throw P0(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class Uz{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw P0(aa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function gJ(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Jc{constructor(t,e){let i=0,r="";Fz(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(Fz(this.data_)){const r=function uJ(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new Jc(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Jc(i,!0)}}static getBlob(...t){if(sN()){const e=t.map(i=>i instanceof Jc?i.data_:i);return new Jc(cJ.apply(null,e))}{const e=t.map(c=>ES(c)?lN(aa.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(c=>{for(let d=0;d<c.length;d++)r[s++]=c[d]}),new Jc(r,!0)}}uploadData(){return this.data_}}function cN(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function tJ(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function Hz(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function yJ(n,t){return t}class lo{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||yJ}}let IS=null;function F0(){if(IS)return IS;const n=[];n.push(new lo("bucket")),n.push(new lo("generation")),n.push(new lo("metageneration")),n.push(new lo("name","fullPath",!0));const e=new lo("name");e.xform=function t(s,c){return function vJ(n){return!ES(n)||n.length<2?n:Hz(n)}(c)},n.push(e);const r=new lo("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new lo("timeCreated")),n.push(new lo("updated")),n.push(new lo("md5Hash",null,!0)),n.push(new lo("cacheControl",null,!0)),n.push(new lo("contentDisposition",null,!0)),n.push(new lo("contentEncoding",null,!0)),n.push(new lo("contentLanguage",null,!0)),n.push(new lo("contentType",null,!0)),n.push(new lo("metadata","customMetadata",!0)),IS=n,IS}function jz(n,t,e){const i=cN(t);return null===i?null:function wJ(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const c=e[s];i[c.local]=c.xform(i,t[c.server])}return function bJ(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new ks(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function uN(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const zz="prefixes";class Xc{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function eu(n){if(!n)throw rN()}function DS(n,t){return function e(i,r){const s=jz(n,r,t);return eu(null!==s),s}}function gy(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function j9(){return new Gi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function H9(){return new Gi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function U9(n){return new Gi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function z9(n){return new Gi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function L0(n){const t=gy(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function V9(n){return new Gi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function $z(n,t,e){const r=Xu(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Xc(r,"GET",DS(n,e),c);return d.errorHandler=L0(t),d}function SJ(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=Xu(t.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,b=new Xc(d,"GET",function IJ(n,t){return function e(i,r){const s=function TJ(n,t,e){const i=cN(e);return null===i?null:function EJ(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[zz])for(const r of e[zz]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new ks(t,s));i.prefixes.push(c)}if(e.items)for(const r of e.items){const s=n._makeStorageReference(new ks(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return eu(null!==s),s}}(n,t.bucket),_);return b.urlParams=s,b.errorHandler=gy(t),b}function qz(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function kJ(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class SS{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function dN(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){eu(!1)}return eu(!!e&&-1!==(t||["active"]).indexOf(e)),e}const NJ={STATE_CHANGED:"state_changed"},co={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hN(n){switch(n){case"running":case"pausing":case"canceling":return co.RUNNING;case"paused":return co.PAUSED;case"success":return co.SUCCESS;case"canceled":return co.CANCELED;default:return co.ERROR}}class FJ{constructor(t,e,i){if(function eJ(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function my(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class BJ extends class LJ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw N0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw N0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw N0("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw N0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw N0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Xl(){return new BJ}class Qz{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=F0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function RJ(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c=qz(t,i,r),d={name:c.fullPath},p=Xu(s,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},T=uN(c,e),V=new Xc(p,"POST",function N(ue){let _e;dN(ue);try{_e=ue.getResponseHeader("X-Goog-Upload-URL")}catch(je){eu(!1)}return eu(ES(_e)),_e},n.maxUploadRetryTime);return V.urlParams=d,V.headers=b,V.body=T,V.errorHandler=gy(t),V}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Xl,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function OJ(n,t,e,i){const p=new Xc(e,"POST",function s(_){const b=dN(_,["active","final"]);let T=null;try{T=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch(N){eu(!1)}T||eu(!1);const A=Number(T);return eu(!isNaN(A)),new SS(A,i.size(),"final"===b)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=gy(t),p}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,Xl,e,i);this._request=s,s.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new SS(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function PJ(n,t,e,i,r,s,c,d){const p=new SS(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function Z9(){return new Gi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const _=p.total-p.current;let b=_;r>0&&(b=Math.min(b,r));const T=p.current,V={"X-Goog-Upload-Command":b===_?"upload, finalize":"upload","X-Goog-Upload-Offset":`${p.current}`},ue=i.slice(T,T+b);if(null===ue)throw Oz();const Qe=new Xc(e,"POST",function _e(et,Vt){const Bt=dN(et,["active","final"]),xn=p.current+b,ir=i.size();let la;return la="final"===Bt?DS(t,s)(et,Vt):null,new SS(xn,ir,"final"===Bt,la)},t.maxUploadRetryTime);return Qe.headers=V,Qe.body=ue.uploadData(),Qe.progressCallback=d||null,Qe.errorHandler=gy(n),Qe}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const d=this._ref.storage._makeRequest(c,Xl,r,s);this._request=d,d.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=$z(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Xl,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function Zz(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function d(){let Qe="";for(let et=0;et<2;et++)Qe+=Math.random().toString().slice(2);return Qe}();c["Content-Type"]="multipart/related; boundary="+p;const _=qz(t,i,r),b=uN(_,e),N=Jc.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+p+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===N)throw Oz();const V={name:_.fullPath},ue=Xu(s,n.host,n._protocol),je=n.maxUploadRetryTime,Ke=new Xc(ue,"POST",DS(n,e),je);return Ke.urlParams=V,Ke.headers=c,Ke.body=N.uploadData(),Ke.errorHandler=gy(t),Ke}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Xl,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=Rz(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=hN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new FJ(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(hN(this._state)){case co.SUCCESS:my(this._resolve.bind(null,this.snapshot))();break;case co.CANCELED:case co.ERROR:my(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(hN(this._state)){case co.RUNNING:case co.PAUSED:t.next&&my(t.next.bind(t,this.snapshot))();break;case co.SUCCESS:t.complete&&my(t.complete.bind(t))();break;default:t.error&&my(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class tg{constructor(t,e){this._service=t,this._location=e instanceof ks?e:ks.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new tg(t,e)}get root(){const t=new ks(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Hz(this._location.path)}get storage(){return this._service}get parent(){const t=function mJ(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new ks(this._location.bucket,t);return new tg(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw Nz(t)}}function Xz(n,t,e){return fN.apply(this,arguments)}function fN(){return fN=(0,tt.Z)(function*(n,t,e){const r=yield eG(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield Xz(n,t,r.nextPageToken))}),fN.apply(this,arguments)}function eG(n,t){null!=t&&"number"==typeof t.maxResults&&oN("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=SJ(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Xl)}function KJ(n){n._throwIfRoot("getDownloadURL");const t=function xJ(n,t,e){const r=Xu(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Xc(r,"GET",function DJ(n,t){return function e(i,r){const s=jz(n,r,t);return eu(null!==s),function CJ(n,t,e,i){const r=cN(t);if(null===r||!ES(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(_=>{const T=n.fullPath;return Xu("/b/"+c(n.bucket)+"/o/"+c(T),e,i)+Lz({alt:"media",token:_})})[0]}(s,r,n.host,n._protocol)}}(n,e),c);return d.errorHandler=L0(t),d}(n.storage,n._location,F0());return n.storage.makeRequestWithTokens(t,Xl).then(e=>{if(null===e)throw function Y9(){return new Gi("no-download-url","The given file does not have any download URLs.")}();return e})}function tG(n,t){const e=function _J(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new ks(n._location.bucket,e);return new tg(n.storage,i)}function nG(n,t){if(n instanceof pN){const e=n;if(null==e._bucket)throw function q9(){return new Gi("no-default-bucket","No default bucket found. Did you set the '"+kz+"' property when initializing the app?")}();const i=new tg(e,e._bucket);return null!=t?nG(i,t):i}return void 0!==t?tG(n,t):n}function eX(n,t){if(t&&function JJ(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof pN)return function XJ(n,t){return new tg(n,t)}(n,t);throw py("To use ref(service, url), the first argument must be a Storage instance.")}return nG(n,t)}function iG(n,t){const e=null==t?void 0:t[kz];return null==e?null:ks.makeFromBucketSpec(e,n)}class pN{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=Mz,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ks.makeFromBucketSpec(r,this._host):iG(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?ks.makeFromBucketSpec(this._url,t):iG(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){oN("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){oN("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,tt.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,tt.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new tg(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new K9(Pz());{const s=function aJ(n,t,e,i,r,s){const c=Lz(n.urlParams),d=n.url+c,p=Object.assign({},n.headers);return function sJ(n,t){t&&(n["X-Firebase-GMPID"]=t)}(p,t),function iJ(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(p,e),function rJ(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(p,s),function oJ(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(p,i),new nJ(d,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){var i=this;return(0,tt.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const rG="@firebase/storage",oG="storage";function aG(n,t){return eX(n=(0,H.m9)(n),t)}function lG(n=(0,ci.getApp)(),t){return n=(0,H.m9)(n),(0,ci._getProvider)(n,oG).getImmediate({identifier:t})}function dX(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new pN(e,i,r,t,ci.SDK_VERSION)}!function hX(){(0,ci._registerComponent)(new bo.wA(oG,dX,"PUBLIC").setMultipleInstances(!0)),(0,ci.registerVersion)(rG,"0.9.9",""),(0,ci.registerVersion)(rG,"0.9.9","esm2017")}();const B0_firebase={projectId:"lomi-35ab6",appId:"1:394847830425:web:ee909ee573e436db0f9308",storageBucket:"lomi-35ab6.appspot.com",locationId:"southamerica-east1",apiKey:"AIzaSyCC1UbhAV4WpCpUZsEiNPd_TVUD40Lh5Bc",authDomain:"lomi-35ab6.firebaseapp.com",messagingSenderId:"394847830425",measurementId:"G-E3L40DPW9M"};class xS{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class cG{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new xS(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new xS(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?c=>e(new xS(c,this,this._ref)):{next:e.next?c=>e.next(new xS(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class uG{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new ed(t,this._service))}get items(){return this._delegate.items.map(t=>new ed(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ed{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function cX(n,t){return tG(n,t)}(this._delegate,t);return new ed(e,this.storage)}get root(){return new ed(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new ed(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new cG(function nX(n,t,e){return function $J(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new Qz(n,new Jc(t),e)}(n=(0,H.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=aa.RAW,i){this._throwIfRoot("putString");const r=lN(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new cG(new Qz(this._delegate,new Jc(r.data,!0),s),this)}listAll(){return function oX(n){return function qJ(n){const t={prefixes:[],items:[]};return Xz(n,t).then(()=>t)}(n=(0,H.m9)(n))}(this._delegate).then(t=>new uG(t,this.storage))}list(t){return function sX(n,t){return eG(n=(0,H.m9)(n),t)}(this._delegate,t||void 0).then(e=>new uG(e,this.storage))}getMetadata(){return function iX(n){return function ZJ(n){n._throwIfRoot("getMetadata");const t=$z(n.storage,n._location,F0());return n.storage.makeRequestWithTokens(t,Xl)}(n=(0,H.m9)(n))}(this._delegate)}updateMetadata(t){return function rX(n,t){return function YJ(n,t){n._throwIfRoot("updateMetadata");const e=function AJ(n,t,e,i){const s=Xu(t.fullServerUrl(),n.host,n._protocol),d=uN(e,i),_=n.maxOperationRetryTime,b=new Xc(s,"PATCH",DS(n,i),_);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=d,b.errorHandler=L0(t),b}(n.storage,n._location,t,F0());return n.storage.makeRequestWithTokens(e,Xl)}(n=(0,H.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function aX(n){return KJ(n=(0,H.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function lX(n){return function QJ(n){n._throwIfRoot("deleteObject");const t=function MJ(n,t){const i=Xu(t.fullServerUrl(),n.host,n._protocol),d=new Xc(i,"DELETE",function c(p,_){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=L0(t),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Xl)}(n=(0,H.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw Nz(t)}}class dG{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(hG(t))throw py("ref() expected a child path but got a URL, use refFromURL instead.");return new ed(aG(this._delegate,t),this)}refFromURL(t){if(!hG(t))throw py("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ks.makeFromUrl(t,this._delegate.host)}catch(e){throw py("refFromUrl() expected a valid full URL but got an invalid one.")}return new ed(aG(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function uX(n,t,e,i={}){!function tX(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,H.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function hG(n){return/^[A-Za-z]+:\/\//.test(n)}function mX(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new dG(e,i)}function fG(n){const t=function yX(n){return new ai.y(t=>{const e=c=>t.next(c);e(n.snapshot);const s=n.on("state_changed",e);return n.then(c=>{e(c),t.complete()},c=>{e(n.snapshot),(c=>{t.error(c)})(c)}),function(){s()}}).pipe(Uu(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,pt.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function AS(n){return{getDownloadURL:()=>lt(void 0).pipe(Jt.fc,En(()=>n.getDownloadURL()),Jt.iC),getMetadata:()=>lt(void 0).pipe(Jt.fc,En(()=>n.getMetadata()),Jt.iC),delete:()=>(0,Zn.D)(n.delete()),child:t=>AS(n.child(t)),updateMetadata:t=>(0,Zn.D)(n.updateMetadata(t)),put:(t,e)=>fG(n.put(t,e)),putString:(t,e,i)=>fG(n.putString(t,e,i)),list:t=>(0,Zn.D)(n.list(t)),listAll:()=>(0,Zn.D)(n.listAll())}}!function _X(n){const t={TaskState:co,TaskEvent:NJ,StringFormat:aa,Storage:dG,Reference:ed};n.INTERNAL.registerComponent(new bo.wA("storage-compat",mX,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(w2.Z);const vX=new o.OlP("angularfire2.storageBucket"),bX=new o.OlP("angularfire2.storage.maxUploadRetryTime"),wX=new o.OlP("angularfire2.storage.maxOperationRetryTime"),CX=new o.OlP("angularfire2.storage.use-emulator");let pG=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,T){const A=(0,gi.on)(e,c,i);this.storage=(0,gi.cc)(`${A.name}.storage.${r}`,"AngularFireStorage",A.name,()=>{const N=c.runOutsideAngular(()=>A.storage(r||void 0)),V=b;return V&&N.useEmulator(...V),p&&N.setMaxUploadRetryTime(p),_&&N.setMaxOperationRetryTime(_),N},[p,_])}ref(e){return AS(this.storage.ref(e))}refFromURL(e){return AS(this.storage.refFromURL(e))}upload(e,i,r){return AS(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gi.Dh),o.LFG(gi.xv,8),o.LFG(vX,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Jt.HU),o.LFG(bX,8),o.LFG(wX,8),o.LFG(CX,8),o.LFG(Eu,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),EX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),gG=(()=>{class n{constructor(){fu.Z.registerVersion("angularfire",Jt.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[pG],imports:[EX]}),n})(),TX=(()=>{class n{constructor(e){this.sanitizer=e,this.fileOver=!1,this.fileDropped=new o.vpe}onDragOver(e){e.preventDefault(),e.stopPropagation(),this.fileOver=!0}onDragLeave(e){e.preventDefault(),e.stopPropagation(),this.fileOver=!1}ondrop(e){e.preventDefault(),e.stopPropagation(),this.fileOver=!1;let i=e.dataTransfer.files;i.length>0&&this.fileDropped.emit(i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(lr))},n.\u0275dir=o.lG2({type:n,selectors:[["","drag-n-drop",""]],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("dragover",function(s){return i.onDragOver(s)})("dragleave",function(s){return i.onDragLeave(s)})("drop",function(s){return i.ondrop(s)}),2&e&&o.ekj("fileover",i.fileOver)},outputs:{fileDropped:"fileDropped"}}),n})();function IX(n,t){1&n&&o._UZ(0,"div",2)}function DX(n,t){1&n&&o._UZ(0,"pre",2)}function SX(n,t){if(1&n&&(o.ynx(0),o.YNc(1,IX,1,0,"div",1),o.YNc(2,DX,1,0,"pre",1),o.BQk()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",!e.preserve),o.xp6(1),o.Q6J("ngIf",e.preserve)}}function xX(n,t){1&n&&o._UZ(0,"div",2)}function AX(n,t){1&n&&o._UZ(0,"pre",2)}function MX(n,t){if(1&n&&(o.ynx(0),o.YNc(1,xX,1,0,"div",1),o.YNc(2,AX,1,0,"pre",1),o.BQk()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",!e.preserve),o.xp6(1),o.Q6J("ngIf",e.preserve)}}const kX=[[["","quill-editor-toolbar",""]]],RX=["[quill-editor-toolbar]"],gN={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},MS=(n,t)=>n||t||"html",mG=new o.OlP("config",{providedIn:"root",factory:()=>({modules:gN})});let _G=(()=>{class n{constructor(e,i){this.config=i,this.quill$=yf(()=>(0,nb.mG)(this,void 0,void 0,function*(){var r,s;if(!this.Quill){const c=this.document.addEventListener;this.document.addEventListener=this.document.__zone_symbol__addEventListener||this.document.addEventListener;const d=yield M.e(971).then(M.t.bind(M,9971,19));this.document.addEventListener=c,this.Quill=d.default?d.default:d}return null===(r=this.config.customOptions)||void 0===r||r.forEach(c=>{const d=this.Quill.import(c.import);d.whitelist=c.whitelist,this.Quill.register(d,!0,this.config.suppressGlobalRegisterWarning)}),null===(s=this.config.customModules)||void 0===s||s.forEach(({implementation:c,path:d})=>{this.Quill.register(d,c,this.config.suppressGlobalRegisterWarning)}),this.Quill})).pipe(hc({bufferSize:1,refCount:!0})),this.document=e.get(Y),this.config||(this.config={modules:gN})}getQuill(){return this.quill$}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3),o.LFG(mG,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OX=(()=>{class n{constructor(e,i,r,s,c,d,p,_){this.elementRef=i,this.cd=r,this.domSanitizer=s,this.platformId=c,this.renderer=d,this.zone=p,this.service=_,this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new o.vpe,this.onEditorChanged=new o.vpe,this.onContentChanged=new o.vpe,this.onSelectionChanged=new o.vpe,this.onFocus=new o.vpe,this.onBlur=new o.vpe,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.valueGetter=(b,T)=>{let A=T.querySelector(".ql-editor").innerHTML;("<p><br></p>"===A||"<div><br></div>"===A)&&(A=this.defaultEmptyValue);let N=A;const V=MS(this.format,this.service.config.format);if("text"===V)N=b.getText();else if("object"===V)N=b.getContents();else if("json"===V)try{N=JSON.stringify(b.getContents())}catch(ue){N=b.getText()}return N},this.valueSetter=(b,T)=>{const A=MS(this.format,this.service.config.format);if("html"===A)return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(T=this.domSanitizer.sanitize(o.q3G.HTML,T)),b.clipboard.convert(T);if("json"===A)try{return JSON.parse(T)}catch(N){return[{insert:T}]}return T},this.selectionChangeHandler=(b,T,A)=>{const N=!b&&!!this.onModelTouched;!this.onBlur.observers.length&&!this.onFocus.observers.length&&!this.onSelectionChanged.observers.length&&!N||this.zone.run(()=>{null===b?this.onBlur.emit({editor:this.quillEditor,source:A}):null===T&&this.onFocus.emit({editor:this.quillEditor,source:A}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:T,range:b,source:A}),N&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(b,T,A)=>{const N=this.quillEditor.getText(),V=this.quillEditor.getContents();let ue=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===ue||"<div><br></div>"===ue)&&(ue=this.defaultEmptyValue);const _e=this.trackChanges||this.service.config.trackChanges,je=("user"===A||_e&&"all"===_e)&&!!this.onModelChange;!this.onContentChanged.observers.length&&!je||this.zone.run(()=>{je&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:V,delta:b,editor:this.quillEditor,html:ue,oldDelta:T,source:A,text:N}),this.cd.markForCheck()})},this.editorChangeHandler=(b,T,A,N)=>{if(this.onEditorChanged.observers.length)if("text-change"===b){const V=this.quillEditor.getText(),ue=this.quillEditor.getContents();let _e=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===_e||"<div><br></div>"===_e)&&(_e=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:ue,delta:T,editor:this.quillEditor,event:b,html:_e,oldDelta:A,source:N,text:V}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:b,oldRange:A,range:T,source:N}),this.cd.markForCheck()})},this.document=e.get(Y)}static normalizeClassNames(e){return e.trim().split(" ").reduce((r,s)=>{const c=s.trim();return c&&r.push(c),r},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){Ki(this.platformId)||(this.quillSubscription=this.service.getQuill().subscribe(e=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const i=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),r=Object.assign({},this.modules||this.service.config.modules);i?r.toolbar=i:void 0===r.toolbar&&(r.toolbar=gN.toolbar);let s=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===s&&(s="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(A=>{this.renderer.setStyle(this.editorElem,A,this.styles[A])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(A=>{const N=e.import(A.import);N.whitelist=A.whitelist,e.register(N,!0)}),this.customModules.forEach(({implementation:A,path:N})=>{e.register(N,A)});let c=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;c||(c=this.service.config.bounds?this.service.config.bounds:this.document.body);let d=this.debug;!d&&!1!==d&&this.service.config.debug&&(d=this.service.config.debug);let p=this.readOnly;!p&&!1!==this.readOnly&&(p=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let _=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(_=this.service.config.defaultEmptyValue);let b=this.scrollingContainer;!b&&null!==this.scrollingContainer&&(b=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let T=this.formats;if(!T&&void 0===T&&(T=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{var A,N,V;if(this.quillEditor=new e(this.editorElem,{bounds:c,debug:d,formats:T,modules:r,placeholder:s,readOnly:p,defaultEmptyValue:_,scrollingContainer:b,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.linkPlaceholder){const ue=null===(N=null===(A=this.quillEditor)||void 0===A?void 0:A.theme)||void 0===N?void 0:N.tooltip,_e=null===(V=null==ue?void 0:ue.root)||void 0===V?void 0:V.querySelector("input[data-link]");(null==_e?void 0:_e.dataset)&&(_e.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===MS(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const N=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(N,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observers.length||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor)})}))}ngOnDestroy(){var e;this.dispose(),null===(e=this.quillSubscription)||void 0===e||e.unsubscribe(),this.quillSubscription=null}ngOnChanges(e){if(this.quillEditor){if(e.readOnly&&this.quillEditor.enable(!e.readOnly.currentValue),e.placeholder&&(this.quillEditor.root.dataset.placeholder=e.placeholder.currentValue),e.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=e.defaultEmptyValue.currentValue),e.styles){const i=e.styles.currentValue,r=e.styles.previousValue;r&&Object.keys(r).forEach(s=>{this.renderer.removeStyle(this.editorElem,s)}),i&&Object.keys(i).forEach(s=>{this.renderer.setStyle(this.editorElem,s,this.styles[s])})}if(e.classes){const i=e.classes.currentValue,r=e.classes.previousValue;r&&this.removeClasses(r),i&&this.addClasses(i)}e.debounceTime&&this.addQuillEventListeners()}}addClasses(e){n.normalizeClassNames(e).forEach(i=>{this.renderer.addClass(this.editorElem,i)})}removeClasses(e){n.normalizeClassNames(e).forEach(i=>{this.renderer.removeClass(this.editorElem,i)})}writeValue(e){if(this.filterNull&&null===e||(this.content=e,!this.quillEditor))return;const i=MS(this.format,this.service.config.format),r=this.valueSetter(this.quillEditor,e);if(this.compareValues){const s=this.quillEditor.getContents();if(JSON.stringify(s)===JSON.stringify(r))return}e?"text"===i?this.quillEditor.setText(e):this.quillEditor.setContents(r):this.quillEditor.setText("")}setDisabledState(e=this.disabled){this.disabled=e,this.quillEditor&&(e?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}registerOnValidatorChange(e){this.onValidatorChanged=e}validate(){if(!this.quillEditor)return null;const e={};let i=!0;const r=this.quillEditor.getText(),s=this.trimOnValidation?r.trim().length:1===r.length&&0===r.trim().length?0:r.length-1,c=this.quillEditor.getContents().ops,d=c&&1===c.length&&["\n",""].includes(c[0].insert);return this.minLength&&s&&s<this.minLength&&(e.minLengthError={given:s,minLength:this.minLength},i=!1),this.maxLength&&s>this.maxLength&&(e.maxLengthError={given:s,maxLength:this.maxLength},i=!1),this.required&&!s&&d&&(e.requiredError={empty:!0},i=!1),i?null:e}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new rs.w0,this.subscription.add(Gu(this.quillEditor,"selection-change").subscribe(([r,s,c])=>{this.selectionChangeHandler(r,s,c)}));let e=Gu(this.quillEditor,"text-change"),i=Gu(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(e=e.pipe(Uu(this.debounceTime)),i=i.pipe(Uu(this.debounceTime))),this.subscription.add(e.subscribe(([r,s,c])=>{this.textChangeHandler(r,s,c)})),this.subscription.add(i.subscribe(([r,s,c,d])=>{this.editorChangeHandler(r,s,c,d)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.zs3),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(lr),o.Y36(o.Lbi),o.Y36(o.Qsj),o.Y36(o.R0b),o.Y36(_G))},n.\u0275dir=o.lG2({type:n,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[o.TTD]}),n})(),PX=(()=>{class n extends OX{constructor(e,i,r,s,c,d,p,_){super(e,i,r,s,c,d,p,_)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.zs3),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(lr),o.Y36(o.Lbi),o.Y36(o.Qsj),o.Y36(o.R0b),o.Y36(_G))},n.\u0275cmp=o.Xpm({type:n,selectors:[["quill-editor"]],features:[o._Bn([{multi:!0,provide:ko,useExisting:(0,o.Gpc)(()=>n)},{multi:!0,provide:Ji,useExisting:(0,o.Gpc)(()=>n)}]),o.qOj],ngContentSelectors:RX,decls:3,vars:2,consts:[[4,"ngIf"],["quill-editor-element","",4,"ngIf"],["quill-editor-element",""]],template:function(e,i){1&e&&(o.F$t(kX),o.YNc(0,SX,3,2,"ng-container",0),o.Hsn(1),o.YNc(2,MX,3,2,"ng-container",0)),2&e&&(o.Q6J("ngIf","top"!==i.toolbarPosition),o.xp6(2),o.Q6J("ngIf","top"===i.toolbarPosition))},directives:[Mn],styles:[":host{display:inline-block}\n"],encapsulation:2}),n})(),yG=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:mG,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ci]]}),n})();function NX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",24),o.NdJ("click",function(){return o.CHM(e),o.oxw().keyword=""}),o.TgZ(1,"mat-icon"),o._uU(2,"close"),o.qZA()()}}function FX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"mat-card",25),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().addIngredient(s)}),o.TgZ(2,"p"),o._uU(3),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(3),o.hij("",e.attributes.name," ")}}function LX(n,t){if(1&n){const e=o.EpF();o.ynx(0),o.TgZ(1,"div",21)(2,"div",5)(3,"div",26)(4,"h1",27)(5,"b"),o._uU(6),o.qZA()()()(),o.TgZ(7,"button",23),o.NdJ("click",function(){return o.CHM(e),o.oxw().recipe.title=""}),o._uU(8," Editar titulo "),o.TgZ(9,"mat-icon"),o._uU(10,"edit"),o.qZA()()(),o._UZ(11,"div",15),o.BQk()}if(2&n){const e=o.oxw();o.xp6(6),o.Oqu(e.recipe.title)}}function BX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",24),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).keyword=""}),o.TgZ(1,"mat-icon"),o._uU(2,"close"),o.qZA()()}}function VX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",5)(1,"div",26)(2,"mat-form-field",6)(3,"mat-label"),o._uU(4,"Titulo"),o.qZA(),o.TgZ(5,"input",28),o.NdJ("keydown.enter",function(r){return o.CHM(e),o.oxw().setTitle(r)}),o.qZA(),o.YNc(6,BX,3,0,"button",8),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(6),o.Q6J("ngIf",e.recipe.title)}}function UX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"div",29)(2,"mat-form-field")(3,"mat-label"),o._uU(4,"Cantidad"),o.qZA(),o.TgZ(5,"input",30),o.NdJ("change",function(){return o.CHM(e),o.oxw().updateDocument()})("ngModelChange",function(r){return o.CHM(e).$implicit.quantity=r}),o.qZA()(),o.TgZ(6,"h6"),o._uU(7,"-"),o.qZA(),o.TgZ(8,"p"),o._uU(9),o.qZA(),o.TgZ(10,"mat-icon",31),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().deleteIngredient(s)}),o._uU(11,"delete"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(5),o.Q6J("ngModel",e.quantity),o.xp6(4),o.Oqu(e.attributes.name)}}function HX(n,t){1&n&&o._UZ(0,"img",33),2&n&&o.Q6J("src",t.$implicit,o.LSH)}function jX(n,t){if(1&n&&(o.ynx(0),o.YNc(1,HX,1,1,"img",32),o.BQk()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.recipe.images)}}function zX(n,t){if(1&n&&(o.TgZ(0,"div",5)(1,"div",26),o._UZ(2,"span",34),o.qZA()()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("innerHtml",e.recipe.description,o.oJD)}}function GX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",5)(1,"div",35)(2,"quill-editor",36),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw().recipe.description=r}),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngModel",e.recipe.description)}}lG((0,Or.ZF)(B0_firebase));let vG=(()=>{class n{constructor(e,i,r,s){this.firestore=e,this.route=i,this.productsService=r,this.angularFireStorage=s,this.keyword="",this.products={},this.ingredients=[],this.editingDescription=!1,this.images=[],this.recipe={title:"",description:"",img:"",ingredients:[],images:[]}}setTitle(e){console.log(e.target.value),this.recipe.title=e.target.value,this.updateDocument()}setDescription(e){console.log(e.target.value),this.recipe.description=e.target.value,this.updateDocument()}ngOnInit(){this.route.params.subscribe(e=>{const i=k0(this.firestore,"recetas-lomi");this.unsubscribe(),this.recipe$=nN(fz(i,P9("title","==",e.recipeTitle))),this.listenToRecipe(),this.updateDocument()})}onImageDropped(e){for(const i of e.target.files?e.target.files:e){this.images.push(i);const s=this.angularFireStorage.ref("recetas/"+this.recipe.title+"-"+this.images.length);s.put(i).then(d=>{console.log(d.metadata),console.log(s.getDownloadURL().subscribe(p=>{this.recipe.images?this.recipe.images.push(p):this.recipe.images=[p],this.updateDocument()}))})}}updateDocument(){wz(cy(this.firestore,"recetas-lomi/"+this.recipe.title),this.recipe)}searchProducts(){this.productsService.searchProducts(this.keyword).then(e=>{this.products=e,this.products.data=this.products.data.filter(i=>!this.ingredients.find(r=>r.id==i.id))})}deleteIngredient(e){const i=this.recipe.ingredients.findIndex(r=>r.id==e.id);this.recipe.ingredients.splice(i,1),this.updateDocument()}addIngredient(e){e.quantity=1,this.recipe.ingredients.push(e);const i=this.products.data.findIndex(r=>r.id==e.id);this.products.data.splice(i,1),this.updateDocument(),console.log(this.ingredients)}listenToRecipe(){this.recipe$.subscribe(e=>{e.length&&(this.recipe=e[0],console.log(this.recipe))})}unsubscribe(){var e;(null===(e=this.recipe$)||void 0===e?void 0:e.unsubscribe)&&this.recipe$.unsubscribe()}ngOnDestroy(){this.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(eg),o.Y36(xo),o.Y36(Az),o.Y36(pG))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomii-recipe"]],decls:44,vars:10,consts:[["autosize","",1,"example-container"],["opened","","mode","side","position","end",1,"example-sidenav"],["drawer",""],[1,"p",2,"width","300px"],[1,"ingredients-container"],[1,"flex-column"],["appearance","fill",1,"example-form-field"],["matInput","","type","text",3,"ngModel","keypress","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"content","p",2,"height","100vh"],[1,"content",2,"padding-right","2em"],[4,"ngIf"],["class","flex-column",4,"ngIf"],[1,"ingredients-list"],[1,"divider"],[1,"firestore-images"],["drag-n-drop","",1,"drag-n-drop",3,"fileDropped"],["src","assets/images/image-upload.png",3,"click"],["type","file",2,"position","absolute","opacity","0",3,"change"],["fileUpload",""],[2,"width","100%","display","flex","justify-content","space-between"],[2,"margin","0 0 16px 0"],["mat-button","","color","primary","aria-label","Example icon button with a delete icon",3,"click"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"hoverable",3,"click"],[1,"flex-row"],[2,"margin","0"],["matInput","","type","text",3,"keydown.enter"],[1,"ingredient"],["matInput","","type","number",3,"ngModel","change","ngModelChange"],[3,"click"],["class","mini-image",3,"src",4,"ngFor","ngForOf"],[1,"mini-image",3,"src"],[3,"innerHtml"],[2,"height","300px","padding-bottom","112px"],[3,"ngModel","ngModelChange"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"div",4)(5,"h2"),o._uU(6,"BUSCADOR DE INGREDIENTES"),o.qZA(),o.TgZ(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),o._uU(10,"Buscador de ingredientes lomi"),o.qZA(),o.TgZ(11,"input",7),o.NdJ("keypress",function(){return i.searchProducts()})("ngModelChange",function(c){return i.keyword=c}),o.qZA(),o.YNc(12,NX,3,0,"button",8),o.qZA(),o.YNc(13,FX,4,1,"div",9),o.qZA()()()(),o.TgZ(14,"div",10)(15,"div",11),o.YNc(16,LX,12,1,"ng-container",12),o.YNc(17,VX,7,1,"div",13),o.TgZ(18,"h1"),o._uU(19,"Ingredientes"),o.qZA(),o.TgZ(20,"div",14),o.YNc(21,UX,12,2,"div",9),o.qZA(),o._UZ(22,"div",15),o.TgZ(23,"h2")(24,"b"),o._uU(25,"IMAGENES"),o.qZA()(),o.TgZ(26,"div",16),o.YNc(27,jX,2,1,"ng-container",12),o.TgZ(28,"div",17),o.NdJ("fileDropped",function(c){return i.onImageDropped(c)}),o.TgZ(29,"img",18),o.NdJ("click",function(){return o.CHM(r),o.MAs(31).click()}),o.qZA(),o.TgZ(30,"input",19,20),o.NdJ("change",function(c){return i.onImageDropped(c)}),o.qZA()()(),o._UZ(32,"div",15),o.TgZ(33,"div",21)(34,"h2",22)(35,"b"),o._uU(36,"LOMI RECETA"),o.qZA()(),o.TgZ(37,"button",23),o.NdJ("click",function(){return i.updateDocument(),i.editingDescription=!i.editingDescription}),o._uU(38),o.TgZ(39,"mat-icon"),o._uU(40,"edit"),o.qZA()()(),o.YNc(41,zX,3,1,"div",13),o.YNc(42,GX,3,1,"div",13),o._UZ(43,"div",15),o.qZA()()()}2&e&&(o.xp6(11),o.Q6J("ngModel",i.keyword),o.xp6(1),o.Q6J("ngIf",i.keyword),o.xp6(1),o.Q6J("ngForOf",i.products.data),o.xp6(3),o.Q6J("ngIf",i.recipe.title),o.xp6(1),o.Q6J("ngIf",!i.recipe.title),o.xp6(4),o.Q6J("ngForOf",i.recipe.ingredients),o.xp6(6),o.Q6J("ngIf",i.recipe.images),o.xp6(11),o.hij(" ",i.editingDescription?"Finalizar edici\xf3n":"Editar receta"," "),o.xp6(3),o.Q6J("ngIf",!i.editingDescription),o.xp6(1),o.Q6J("ngIf",i.editingDescription))},directives:[b_,v_,t1,Rw,r1,ea,Kd,Nu,Mn,m_,XR,y_,bn,dD,Fc,TX,PX],styles:["[_nghost-%COMP%]{font-size:.7em}.image[_ngcontent-%COMP%]{width:40vw;height:100vh}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:-1;height:100%;width:auto;filter:contrast(.4);position:absolute;top:0}.image[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:12px}.ingredients-container[_ngcontent-%COMP%]{transition:.4s ease;background-color:#fff;box-shadow:-1px 0 5px 15px #0000}"]}),n})(),bG=(()=>{class n{constructor(e){this.firestore=e,this.lomiBoxes$=new is([]),this.recipesRef=k0(this.firestore,"recetas-lomi"),this.recipes$=nN(this.recipesRef),this.lomiBoxRef=k0(this.firestore,"lomi-box");const i=O9(k0(this.firestore,"lomi-box"));R9(i,r=>{let s=[];r.forEach(c=>{s.push(Object.assign({id:c.id},c.data()))}),this.lomiBoxes$.next(s)})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(eg))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const WX=function(n){return[n]};function qX(n,t){if(1&n&&(o.TgZ(0,"mat-card",4)(1,"mat-card-title",5),o._uU(2),o.qZA(),o._UZ(3,"img",6),o.TgZ(4,"div",7)(5,"mat-icon"),o._uU(6,"person"),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.qZA()(),o.TgZ(9,"div",7)(10,"mat-icon"),o._uU(11,"schedule"),o.qZA(),o.TgZ(12,"p"),o._uU(13),o.qZA()()()),2&n){const e=t.$implicit;o.Q6J("routerLink",o.VKq(5,WX,"/recipes/"+e.title)),o.xp6(2),o.Oqu(e.title),o.xp6(1),o.s9C("src",e.images?e.images[0]:"assets/images/recipe.png",o.LSH),o.xp6(5),o.Oqu(e.persons?e.persons:"?"),o.xp6(5),o.Oqu(e.time?e.time:"?")}}const ZX=function(){return["/recipes/new"]};let wG=(()=>{class n{constructor(e){this.firestore=e,this.recipes=[]}ngOnInit(){this.firestore.recipes$.subscribe(e=>{this.recipes=e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(bG))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomii-home"]],decls:5,vars:3,consts:[[2,"height","12px","width","100vw"],["mat-raised-button","","mat-button","","color","primary",2,"width","calc(100% - 24px)","margin","0 12px",3,"routerLink"],[1,"flex-row",2,"flex-wrap","wrap"],["class","small hoverable",3,"routerLink",4,"ngFor","ngForOf"],[1,"small","hoverable",3,"routerLink"],[1,"primary-color",2,"font-size","0.9em","width","96px","height","1.75em","white-space","nowrap","text-overflow","ellipsis","overflow","hidden"],["mat-card-image","",2,"filter","grayscale(0.6)",3,"src"],[1,"info"]],template:function(e,i){1&e&&(o._UZ(0,"div",0),o.TgZ(1,"button",1),o._uU(2," Nueva receta\n"),o.qZA(),o.TgZ(3,"div",2),o.YNc(4,qX,14,7,"mat-card",3),o.qZA()),2&e&&(o.xp6(1),o.Q6J("routerLink",o.DdM(2,ZX)),o.xp6(3),o.Q6J("ngForOf",i.recipes))},directives:[m_,Fl,bn,dD,eU,tU,y_],styles:[""]}),n})(),mN=(()=>{class n{constructor(e,i,r){this.firestore=r,this.orders=[],this.pendingOrders=[],this.completedOrders=[],this.activatedFilters=[],this.booleanFilters=[{name:"Pedidos completados",action:this.completedFilter}],this.ordersRef=k0(this.firestore,"SPREE_ORDERS_1"),this.orders$=nN(this.ordersRef),this.orders$.subscribe(s=>{s.reverse(),this.orders.forEach(c=>{c.badges=[],c.name.includes("Retiro en")?c.badges.push({abreviation:"RT",color:"green"}):c.hermexOrder?(console.log(c),c.badges.push({abreviation:"Hmx",color:"teal"})):c.journey_state&&c.badges.push({abreviation:"CAB",color:"purple"})})})}completedFilter(e){return e.hermexOrder?8==e.status.id:"drop off"==e.journey_state||"withdrawaled"==e.journey_state}doFilter(e){this.orders=this.orders.filter(e.action),this.activatedFilters.push(e)}getOrderByNumber(e){return console.log(this.orders),this.orders.find(i=>i.number==e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(JR),o.LFG(xo),o.LFG(eg))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YX=["thumbContainer"],KX=["toggleBar"],QX=["input"],JX=function(n){return{enterDuration:n}},XX=["*"],eee=new o.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let tee=0;const nee={provide:ko,useExisting:(0,o.Gpc)(()=>CG),multi:!0};class iee{constructor(t,e){this.source=t,this.checked=e}}const ree=xL(Jb(gI(pI(class{constructor(n){this._elementRef=n}}))));let CG=(()=>{class n extends ree{constructor(e,i,r,s,c,d){super(e),this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=c,this._onChange=p=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++tee,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new o.vpe,this.toggleChange=new o.vpe,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=c.color||"accent",this._noopAnimations="NoopAnimations"===d}get required(){return this._required}set required(e){this._required=Qn(e)}get checked(){return this._checked}set checked(e){this._checked=Qn(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(e){e.stopPropagation()}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new iee(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(fh),o.Y36(o.sBO),o.$8M("tabindex"),o.Y36(eee),o.Y36(jc,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(e,i){if(1&e&&(o.Gf(YX,5),o.Gf(KX,5),o.Gf(QX,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._thumbEl=r.first),o.iGM(r=o.CRH())&&(i._thumbBarEl=r.first),o.iGM(r=o.CRH())&&(i._inputElement=r.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(e,i){2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),o.ekj("mat-checked",i.checked)("mat-disabled",i.disabled)("mat-slide-toggle-label-before","before"==i.labelPosition)("_mat-animation-noopable",i._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[o._Bn([nee]),o.qOj],ngContentSelectors:XX,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,i){if(1&e&&(o.F$t(),o.TgZ(0,"label",0,1)(2,"span",2,3)(4,"input",4,5),o.NdJ("change",function(s){return i._onChangeEvent(s)})("click",function(s){return i._onInputClick(s)}),o.qZA(),o.TgZ(6,"span",6,7),o._UZ(8,"span",8),o.TgZ(9,"span",9),o._UZ(10,"span",10),o.qZA()()(),o.TgZ(11,"span",11,12),o.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),o.TgZ(13,"span",13),o._uU(14,"\xa0"),o.qZA(),o.Hsn(15),o.qZA()()),2&e){const r=o.MAs(1),s=o.MAs(12);o.uIk("for",i.inputId),o.xp6(2),o.ekj("mat-slide-toggle-bar-no-side-margin",!s.textContent||!s.textContent.trim()),o.xp6(2),o.Q6J("id",i.inputId)("required",i.required)("tabIndex",i.tabIndex)("checked",i.checked)("disabled",i.disabled),o.uIk("name",i.name)("aria-checked",i.checked)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),o.xp6(5),o.Q6J("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",o.VKq(18,JX,i._noopAnimations?0:150))}},directives:[ew,$V],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),n})(),EG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),TG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[EG,mI,Wn,WV],EG,Wn]}),n})();const aee=function(n){return{"background-color":n}};function lee(n,t){if(1&n&&(o.TgZ(0,"div",12),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("ngStyle",o.VKq(2,aee,e.color)),o.xp6(1),o.hij(" ",e.abreviation," ")}}const cee=function(n){return[n]};function uee(n,t){if(1&n&&(o.ynx(0),o.TgZ(1,"div",9)(2,"p"),o._uU(3),o.qZA(),o.TgZ(4,"div",10),o.YNc(5,lee,2,4,"div",11),o.qZA(),o.TgZ(6,"p"),o._uU(7),o.qZA(),o.TgZ(8,"p"),o._uU(9),o.qZA(),o.TgZ(10,"p"),o._uU(11),o.ALo(12,"date"),o.qZA(),o.TgZ(13,"p"),o._uU(14),o.ALo(15,"date"),o.qZA(),o.TgZ(16,"p"),o._uU(17),o.qZA()(),o._UZ(18,"div",8),o.BQk()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("routerLink",o.VKq(14,cee,"/orders/"+e.number)),o.xp6(2),o.Oqu(e.number),o.xp6(2),o.Q6J("ngForOf",e.badges),o.xp6(2),o.Oqu(e.shipment_state),o.xp6(2),o.Oqu(e.store_id),o.xp6(2),o.Oqu(o.xi3(12,8,e.completed_at,"dd - MMM")),o.xp6(3),o.Oqu(o.xi3(15,11,e.completed_at,"HH:mm:ss")),o.xp6(3),o.Oqu(e.ship_address.address1)}}function dee(n,t){if(1&n&&(o.TgZ(0,"div",6)(1,"h1"),o._uU(2,"Ordenes"),o.qZA(),o._UZ(3,"div"),o.YNc(4,uee,19,16,"ng-container",7),o._UZ(5,"div",8),o.qZA()),2&n){const e=o.oxw();o.xp6(4),o.Q6J("ngForOf",e.ordersProvider.orders)}}let hee=(()=>{class n{constructor(e,i){this.ordersProvider=e,this.formBuilder=i,this.recipes=[],this.filtersForm=this.formBuilder.group({stockLocationId:["Tienda"]})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(mN),o.Y36(Yv))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomii-orders"]],decls:9,vars:1,consts:[["autosize","",1,"example-container"],["opened","","mode","side","position","end",1,"actions-sidenav",2,"width","300px"],["drawer",""],[1,"p"],[1,"example-margin"],["class","example-sidenav-content p",4,"ngIf"],[1,"example-sidenav-content","p"],[4,"ngFor","ngForOf"],[1,"divider"],[1,"order",3,"routerLink"],[1,"badges",2,"display","flex","flex-direction","column"],["class","badge","style","color:white;padding: 4px;",3,"ngStyle",4,"ngFor","ngForOf"],[1,"badge",2,"color","white","padding","4px",3,"ngStyle"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"h3"),o._uU(4,"Filtros"),o.qZA(),o.TgZ(5,"div",3)(6,"mat-slide-toggle",4),o._uU(7," Pedidos completados "),o.qZA()()(),o.YNc(8,dee,6,1,"div",5),o.qZA()),2&e&&(o.xp6(8),o.Q6J("ngIf",i.ordersProvider.orders))},directives:[b_,v_,CG,Mn,bn,Fl,iu],pipes:[ad],styles:[".order[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.order[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:30em}.order[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:2em;width:auto}"]}),n})(),fee=(()=>{class n{constructor(e,i){this.activatedRoute=e,this.ordersProvider=i}ngOnInit(){this.activatedRoute.params.subscribe(e=>{this.order=this.ordersProvider.getOrderByNumber(e.number),console.log(this.order)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(xo),o.Y36(mN))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomi-order"]],decls:6,vars:1,consts:[["autosize","",1,"example-container"],["opened","","mode","side","position","end",1,"example-sidenav",2,"width","300px"],["drawer",""],[1,"example-sidenav-content","p",2,"height","100vh"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-drawer-container",0),o._UZ(1,"mat-drawer",1,2),o.TgZ(3,"div",3)(4,"h1"),o._uU(5),o.qZA()()()),2&e&&(o.xp6(5),o.Oqu(null==i.order?null:i.order.order.number))},directives:[b_,v_],styles:["[_nghost-%COMP%]{font-size:.7em}.content[_ngcontent-%COMP%]{width:60vw}.image[_ngcontent-%COMP%]{width:40vw;height:100vh}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:-1;height:100%;width:auto;filter:contrast(.4);position:absolute;top:0}.image[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:12px}.ingredients-container[_ngcontent-%COMP%]{transition:.4s ease;background-color:#fff;box-shadow:-1px 0 5px 15px #0000}"]}),n})(),pee=(()=>{class n{constructor(e,i){this.router=e,this.auth=i}canActivate(e,i){return this.auth.signedIn||this.router.navigateByUrl("auth"),this.auth.signedIn}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(hr),o.LFG(om))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gee=function(n){return[n]};function mee(n,t){if(1&n&&(o.TgZ(0,"mat-card",4)(1,"mat-card-title",5),o._uU(2),o.qZA(),o._UZ(3,"img",6),o.TgZ(4,"div")(5,"p"),o._uU(6),o.qZA()(),o.TgZ(7,"div")(8,"p"),o._uU(9),o.qZA()(),o.TgZ(10,"div")(11,"p"),o._uU(12),o.qZA()()()),2&n){const e=t.$implicit;o.Q6J("routerLink",o.VKq(6,gee,"/lomi-box/"+e.id)),o.xp6(2),o.Oqu(e.title),o.xp6(1),o.s9C("src",e.images?e.images[0]:"assets/images/recipe.png",o.LSH),o.xp6(3),o.Oqu(e.title?e.title:"?"),o.xp6(3),o.Oqu(e.option_text?e.option_text:"?"),o.xp6(3),o.hij("",e.products?e.products.length:"?"," Productos")}}const _ee=function(){return["/lomi-box/new"]};let yee=(()=>{class n{constructor(e){this.firestore=e,this.lomiBoxes=[]}ngOnInit(){this.firestore.lomiBoxes$.subscribe(e=>{this.lomiBoxes=e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(bG))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomii-box-list"]],decls:5,vars:3,consts:[[2,"height","12px","width","100vw"],["mat-raised-button","","mat-button","","color","primary",2,"width","calc(100% - 24px)","margin","0 12px",3,"routerLink"],[1,"flex-row",2,"flex-wrap","wrap"],["class","small hoverable",3,"routerLink",4,"ngFor","ngForOf"],[1,"small","hoverable",3,"routerLink"],[1,"primary-color",2,"font-size","0.9em","width","96px","height","1.75em","white-space","nowrap","text-overflow","ellipsis","overflow","hidden"],["mat-card-image","",2,"filter","grayscale(0.6)",3,"src"]],template:function(e,i){1&e&&(o._UZ(0,"div",0),o.TgZ(1,"button",1),o._uU(2," Nueva Lomi Box\n"),o.qZA(),o.TgZ(3,"div",2),o.YNc(4,mee,13,8,"mat-card",3),o.qZA()),2&e&&(o.xp6(1),o.Q6J("routerLink",o.DdM(2,_ee)),o.xp6(3),o.Q6J("ngForOf",i.lomiBoxes))},directives:[m_,Fl,bn,dD,eU,tU],styles:[""]}),n})();class vee{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new kt.x,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const bee=["trigger"],wee=["panel"];function Cee(n,t){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.placeholder)}}function Eee(n,t){if(1&n&&(o.TgZ(0,"span",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.triggerValue)}}function Tee(n,t){1&n&&o.Hsn(0,0,["*ngSwitchCase","true"])}function Iee(n,t){if(1&n&&(o.TgZ(0,"span",9),o.YNc(1,Eee,2,1,"span",10),o.YNc(2,Tee,1,0,"ng-content",11),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngSwitch",!!e.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function Dee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",13)(1,"div",14,15),o.NdJ("@transformPanel.done",function(r){return o.CHM(e),o.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return o.CHM(e),o.oxw()._handleKeydown(r)}),o.Hsn(3,1),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("@transformPanelWrap",void 0),o.xp6(1),o.Gre("mat-select-panel ",e._getPanelTheme(),""),o.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),o.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),o.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const See=[[["mat-select-trigger"]],"*"],xee=["mat-select-trigger","*"],IG={transformPanelWrap:ph("transformPanelWrap",[ja("* => void",a_("@transformPanel",[o_()],{optional:!0}))]),transformPanel:ph("transformPanel",[ta("void",Ni({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),ta("showing",Ni({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),ta("showing-multiple",Ni({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),ja("void => *",eo("120ms cubic-bezier(0, 0, 0.2, 1)")),ja("* => void",eo("100ms 25ms linear",Ni({opacity:0})))])};let DG=0;const xG=new o.OlP("mat-select-scroll-strategy"),Ree=new o.OlP("MAT_SELECT_CONFIG"),Oee={provide:xG,deps:[wh],useFactory:function kee(n){return()=>n.scrollStrategies.reposition()}};class Pee{constructor(t,e){this.source=t,this.value=e}}const Nee=gI(xL(pI(AL(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r}})))),Fee=new o.OlP("MatSelectTrigger");let Lee=(()=>{class n extends Nee{constructor(e,i,r,s,c,d,p,_,b,T,A,N,V,ue){var _e,je,Ke;super(c,s,p,_,T),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=d,this._parentFormField=b,this._liveAnnouncer=V,this._defaultOptions=ue,this._panelOpen=!1,this._compareWith=(Qe,et)=>Qe===et,this._uid="mat-select-"+DG++,this._triggerAriaLabelledBy=null,this._destroy=new kt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+DG++,this._panelDoneAnimatingStream=new kt.x,this._overlayPanelClass=(null===(_e=this._defaultOptions)||void 0===_e?void 0:_e.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(Ke=null===(je=this._defaultOptions)||void 0===je?void 0:je.disableOptionCentering)&&void 0!==Ke&&Ke,this.ariaLabel="",this.optionSelectionChanges=yf(()=>{const Qe=this.options;return Qe?Qe.changes.pipe(Yn(Qe),En(()=>(0,cr.T)(...Qe.map(et=>et.onSelectionChange)))):this._ngZone.onStable.pipe((0,Nn.q)(1),En(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe(dn(Qe=>Qe),(0,pt.U)(()=>{})),this._closedStream=this.openedChange.pipe(dn(Qe=>!Qe),(0,pt.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==ue?void 0:ue.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=ue.typeaheadDebounceInterval),this._scrollStrategyFactory=N,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(A)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,r,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(Pf.required))&&void 0!==s&&s}set required(e){this._required=Qn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Qn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Qn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Cb(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new vee(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(dh(),Kn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Kn(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Yn(null),Kn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,c=this._keyManager;if(!c.isTyping()&&s&&!Ua(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;c.onKeydown(e);const p=this.selected;p&&d!==p&&this._liveAnnouncer.announce(p.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,c=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(c||13!==r&&32!==r||!i.activeItem||Ua(e))if(!c&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const d=this.options.some(p=>!p.disabled&&!p.selected);this.options.forEach(p=>{p.disabled||(d?p.select():p.deselect())})}else{const d=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==d&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Nn.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch(s){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new rp(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Kn(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Kn(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,cr.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Kn(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,cr.T)(...this.options.map(i=>i._stateChanges)).pipe(Kn(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(bI),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(Ak),o.Y36(o.SBq),o.Y36(Hl,8),o.Y36(Hf,8),o.Y36(nh,8),o.Y36(e1,8),o.Y36(Fa,10),o.$8M("tabindex"),o.Y36(xG),o.Y36(LT),o.Y36(Ree,8))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&(o.Gf(bee,5),o.Gf(wee,5),o.Gf(s2,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.trigger=r.first),o.iGM(r=o.CRH())&&(i.panel=r.first),o.iGM(r=o.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),n})(),Bee=(()=>{class n extends Lee{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Kn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Nn.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=LL(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function a6(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new Pee(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let c;if(this.multiple)c=40;else if(this.disableOptionCentering)c=16;else{let _=this._selectionModel.selected[0]||this.options.first;c=_&&_.group?32:16}r||(c*=-1);const d=0-(e.left+c-(r?s:0)),p=e.right+c-i.width+(r?0:s);d>0?c+=d+8:p>0&&(c-=p+8),this._overlayDir.offsetX=Math.round(c),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const s=this._getItemHeight(),c=(s-this._triggerRect.height)/2,d=Math.floor(256/s);let p;return this.disableOptionCentering?0:(p=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-d))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*p-c))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,c=r.height-this._triggerRect.bottom-8,d=Math.abs(this._offsetY),_=Math.min(this._getItemCount()*i,256)-d-this._triggerRect.height;_>c?this._adjustPanelUp(_,c):d>s?this._adjustPanelDown(d,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),c=i*e-r;let d;d=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),d+=LL(d,this.options,this.optionGroups);const p=r/2;this._scrollTop=this._calculateOverlayScroll(d,p,c),this._offsetY=this._calculateOverlayOffsetY(d,p,c),this._checkOverlayWithinViewport(c)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,Fee,5),o.Suo(r,FL,5),o.Suo(r,NL,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.customTrigger=s.first),o.iGM(s=o.CRH())&&(i.options=s),o.iGM(s=o.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&o.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(o.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),o.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o._Bn([{provide:uD,useExisting:n},{provide:PL,useExisting:n}]),o.qOj],ngContentSelectors:xee,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(o.F$t(See),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return i.toggle()}),o.TgZ(3,"div",2),o.YNc(4,Cee,2,1,"span",3),o.YNc(5,Iee,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5),o._UZ(7,"div",6),o.qZA()(),o.YNc(8,Dee,4,14,"ng-template",7),o.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=o.MAs(1);o.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",i.empty),o.uIk("id",i._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(3),o.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[r2,or,Yi,nu,s2,Ar],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[IG.transformPanelWrap,IG.transformPanel]},changeDetection:0}),n})(),AG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Oee],imports:[[Ci,Uk,BL,Wn],__,n1,BL,Wn]}),n})();function Vee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",26),o.NdJ("click",function(){return o.CHM(e),o.oxw().keyword=""}),o.TgZ(1,"mat-icon"),o._uU(2,"close"),o.qZA()()}}function Uee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"mat-card",27),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().addIngredient(s)}),o.TgZ(2,"p"),o._uU(3),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(3),o.Oqu(e.attributes.name)}}function Hee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"div",28)(2,"mat-form-field")(3,"mat-label"),o._uU(4,"Cantidad"),o.qZA(),o._UZ(5,"input",29),o.qZA(),o.TgZ(6,"h6"),o._uU(7,"-"),o.qZA(),o.TgZ(8,"p"),o._uU(9),o.qZA(),o.TgZ(10,"mat-icon",30),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().deleteIngredient(s)}),o._uU(11,"delete"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(9),o.Oqu(e.attributes.name)}}function jee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",31),o.NdJ("click",function(){return o.CHM(e),o.oxw().deleteItem()}),o._uU(1," Eliminar Box "),o.qZA()}}function zee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",32),o.NdJ("click",function(){return o.CHM(e),o.oxw().updateBox()}),o._uU(1,"Guardar Box"),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("disabled",!e.lomiBoxForm.valid||e.ingredients.length<1)}}function Gee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",32),o.NdJ("click",function(){return o.CHM(e),o.oxw().createBox()}),o._uU(1,"Crear Box"),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("disabled",!e.lomiBoxForm.valid||e.ingredients.length<1)}}lG((0,Or.ZF)(B0_firebase));const Wee=[{path:"auth",component:XV},{path:"",canActivate:[pee],children:[{path:"dashboard",component:wG},{path:"orders",component:hee},{path:"orders/:number",component:fee},{path:"recipes",component:wG},{path:"recipes/new",component:vG},{path:"recipes/:recipeTitle",component:vG},{path:"lomi-box/:boxId",component:(()=>{class n{constructor(e,i,r,s,c){this.firestore=e,this.route=i,this.router=r,this.productsService=s,this.formBuilder=c,this.keyword="",this.products={},this.ingredients=[],this.editingDescription=!1,this.selectCategory="",this.isNew=!1,this.id="",this.lomiBoxForm=this.formBuilder.group({title:["",[Pf.required]],category:["",[Pf.required]],images:["1",[]],products:[""],option_text:["",[Pf.required]]})}ngOnInit(){var e=this;this.route.params.subscribe(function(){var i=(0,tt.Z)(function*(r){e.id=r.boxId;const s=cy(e.firestore,"lomi-box",e.id);"new"===r.boxId&&(e.isNew=!0),e.unsubscribe(),e.box$=yield function d9(n){n=Sn(n,nr);const t=Sn(n.firestore,Si);return function q3(n,t,e={}){const i=new Hr;return n.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return function(r,s,c,d,p){const _=new pS({next:T=>{s.enqueueAndForget(()=>iP(r,b));const A=T.docs.has(c);!A&&T.fromCache?p.reject(new ze(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&T.fromCache&&d&&"server"===d.source?p.reject(new ze(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),b=new oP(z_(c.path),_,{includeMetadataChanges:!0,Du:!0});return tP(r,b)}(yield ly(n),n.asyncQueue,t,e,i)})),i.promise}(Ir(t),n._key).then(e=>QP(t,n,e))}(s),e.getBox()});return function(r){return i.apply(this,arguments)}}())}searchProducts(){this.productsService.searchProducts(this.keyword).then(e=>{this.products=e,this.products.data=this.products.data.filter(i=>!this.ingredients.find(r=>r.id==i.id))})}deleteIngredient(e){const i=this.ingredients.findIndex(r=>r.id==e.id);this.ingredients.splice(i,1)}addIngredient(e){e.quantity=1,this.ingredients.push(e);const i=this.products.data.findIndex(r=>r.id==e.id);this.products.data.splice(i,1)}getBox(){"new"!=this.box$.id&&(console.log(this.box$),this.id=this.id,this.lomiBoxForm.setValue({title:this.box$.data().title,category:this.box$.data().category,images:this.box$.data().images,products:this.box$.data().products,option_text:this.box$.data().option_text}),this.ingredients=this.box$.data().products)}updateBox(){var e=this;return(0,tt.Z)(function*(){if(!e.lomiBoxForm.valid&&e.ingredients.length<=0)return;e.lomiBoxForm.value.products=e.ingredients,e.lomiBoxForm.value.images=[];let i=cy(e.firestore,"lomi-box",e.id);yield function h9(n,t,e,...i){n=Sn(n,nr);const r=Sn(n.firestore,Si),s=dy(r);let c;return c="string"==typeof(t=(0,H.m9)(t))||t instanceof uy?function az(n,t,e,i,r,s){const c=n.aa(1,t,e),d=[ZP(t,i,e)],p=[r];if(s.length%2!=0)throw new ze(Ie.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<s.length;A+=2)d.push(ZP(t,s[A])),p.push(s[A+1]);const _=[],b=fs.empty();for(let A=d.length-1;A>=0;--A)if(!dz(_,d[A])){const N=d[A];let V=p[A];V=(0,H.m9)(V);const ue=c.ia(N);if(V instanceof R0)_.push(N);else{const _e=Qp(V,ue);null!=_e&&(_.push(N),b.set(N,_e))}}const T=new oa(_);return new iz(b,T,c.fieldTransforms)}(s,"updateDoc",n._key,t,e,i):function oz(n,t,e,i){const r=n.aa(1,t,e);qP("Data must be an object, but it was:",r,i);const s=[],c=fs.empty();Np(i,(p,_)=>{const b=yS(t,p,e);_=(0,H.m9)(_);const T=r.ia(b);if(_ instanceof R0)s.push(b);else{const A=Qp(_,T);null!=A&&(s.push(b),c.set(b,A))}});const d=new oa(s);return new iz(c,d,r.fieldTransforms)}(s,"updateDoc",n._key,t),O0(r,[c.toMutation(n._key,Bi.exists(!0))])}(i,Object.assign({},e.lomiBoxForm.value)),e.router.navigate(["lomi-box"])})()}createBox(){var e=this;return(0,tt.Z)(function*(){!e.lomiBoxForm.valid&&e.ingredients.length<=0||(e.lomiBoxForm.value.products=e.ingredients,e.lomiBoxForm.value.images=[],yield wz(cy(e.firestore,"lomi-box",e.lomiBoxForm.value.title),e.lomiBoxForm.value),e.router.navigate(["lomi-box"]))})()}deleteItem(){var e=this;return(0,tt.Z)(function*(){yield M9(cy(e.firestore,"lomi-box",e.id)),e.router.navigate(["lomi-box"])})()}unsubscribe(){var e;(null===(e=this.box$)||void 0===e?void 0:e.unsubscribe)&&this.box$.unsubscribe()}ngOnDestroy(){this.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(eg),o.Y36(xo),o.Y36(hr),o.Y36(Az),o.Y36(Yv))},n.\u0275cmp=o.Xpm({type:n,selectors:[["lomii-box"]],decls:50,vars:8,consts:[["autosize","",1,"example-container"],["opened","","mode","side","position","end",1,"example-sidenav"],["drawer",""],[1,"p",2,"width","300px"],[1,"ingredients-container"],[1,"flex-column"],["appearance","outline",1,"example-form-field"],["matInput","","type","text",3,"ngModel","keypress","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"example-sidenav-content","p",2,"height","100vh"],[1,"content",2,"padding-right","2em"],[1,"flex-column",3,"formGroup","submit"],[1,"flex-row"],["formControlName","title","matInput","","type","text"],[1,"divider"],["formControlName","option_text","matInput","","type","text"],["appearance","outline"],["formControlName","category"],["value","frutasVerduras"],["value","bebidas"],["value","junta"],[1,"ingredients-list"],[2,"display","flex"],["style","width: 100%; margin: 0 12px; background-color: #eb445a;","mat-raised-button","","mat-button","",3,"click",4,"ngIf"],["style","width: 100%; margin: 0 12px;","mat-raised-button","","mat-button","","color","primary",3,"disabled","click",4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"hoverable",3,"click"],[1,"ingredient"],["matInput","","type","number"],[3,"click"],["mat-raised-button","","mat-button","",2,"width","100%","margin","0 12px","background-color","#eb445a",3,"click"],["mat-raised-button","","mat-button","","color","primary",2,"width","100%","margin","0 12px",3,"disabled","click"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"div",4)(5,"h2"),o._uU(6,"BUSCADOR DE INGREDIENTES"),o.qZA(),o.TgZ(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),o._uU(10,"Buscador de ingredientes lomi"),o.qZA(),o.TgZ(11,"input",7),o.NdJ("keypress",function(){return i.searchProducts()})("ngModelChange",function(s){return i.keyword=s}),o.qZA(),o.YNc(12,Vee,3,0,"button",8),o.qZA(),o.YNc(13,Uee,4,1,"div",9),o.qZA()()()(),o.TgZ(14,"div",10)(15,"div",11)(16,"form",12),o.NdJ("submit",function(){return i.createBox()}),o.TgZ(17,"div",13)(18,"mat-form-field",6)(19,"mat-label"),o._uU(20,"Titulo"),o.qZA(),o._UZ(21,"input",14),o.qZA()(),o._UZ(22,"div",15),o.TgZ(23,"div",13)(24,"mat-form-field",6)(25,"mat-label"),o._uU(26,"Unidad"),o.qZA(),o._UZ(27,"input",16),o.qZA()(),o._UZ(28,"div",15),o.TgZ(29,"div",13)(30,"mat-form-field",17)(31,"mat-label"),o._uU(32,"Categoria"),o.qZA(),o.TgZ(33,"mat-select",18)(34,"mat-option",19),o._uU(35,"Frutas y Verduras"),o.qZA(),o.TgZ(36,"mat-option",20),o._uU(37,"Bebidas"),o.qZA(),o.TgZ(38,"mat-option",21),o._uU(39,"Juntas"),o.qZA()()()(),o._UZ(40,"div",15),o.qZA(),o.TgZ(41,"h1")(42,"b"),o._uU(43,"Productos"),o.qZA()(),o.TgZ(44,"div",22),o.YNc(45,Hee,12,1,"div",9),o.qZA()(),o.TgZ(46,"div",23),o.YNc(47,jee,2,0,"button",24),o.YNc(48,zee,2,1,"button",25),o.YNc(49,Gee,2,1,"button",25),o.qZA()()()),2&e&&(o.xp6(11),o.Q6J("ngModel",i.keyword),o.xp6(1),o.Q6J("ngIf",i.keyword),o.xp6(1),o.Q6J("ngForOf",i.products.data),o.xp6(3),o.Q6J("formGroup",i.lomiBoxForm),o.xp6(29),o.Q6J("ngForOf",i.ingredients),o.xp6(2),o.Q6J("ngIf",!i.isNew),o.xp6(1),o.Q6J("ngIf",!i.isNew),o.xp6(1),o.Q6J("ngIf",i.isNew))},directives:[b_,v_,t1,Rw,r1,ea,Kd,Nu,Mn,m_,XR,y_,bn,dD,Yx,Dv,nh,zf,Bee,FL],styles:["[_nghost-%COMP%]{font-size:.7em}.image[_ngcontent-%COMP%]{width:40vw;height:100vh}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:-1;height:100%;width:auto;filter:contrast(.4);position:absolute;top:0}.image[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:12px}.ingredients-container[_ngcontent-%COMP%]{transition:.4s ease;background-color:#fff;box-shadow:-1px 0 5px 15px #0000}"]}),n})()},{path:"lomi-box",component:yee},{path:"",redirectTo:"/dashboard",pathMatch:"full"}]}];let MG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Yd.forChild(Wee)],Yd]}),n})();function qee(n,t){}class _N{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Zee={dialogContainer:ph("dialogContainer",[ta("void, exit",Ni({opacity:0,transform:"scale(0.7)"})),ta("enter",Ni({transform:"none"})),ja("* => enter",GM([eo("150ms cubic-bezier(0, 0, 0.2, 1)",Ni({transform:"none",opacity:1})),a_("@*",o_(),{optional:!0})])),ja("* => void, * => exit",GM([eo("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Ni({opacity:0})),a_("@*",o_(),{optional:!0})]))])};let Yee=(()=>{class n extends Nk{constructor(e,i,r,s,c,d,p,_){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=c,this._interactivityChecker=d,this._ngZone=p,this._focusMonitor=_,this._animationStateChanged=new o.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(b)),this._ariaLabelledBy=c.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=pb())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=pb(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=pb();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Sb),o.Y36(o.sBO),o.Y36(Y,8),o.Y36(_N),o.Y36(Ib),o.Y36(o.R0b),o.Y36(fh))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(zL,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},features:[o.qOj]}),n})(),Kee=(()=>{class n extends Yee{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&o.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(o.Ikx("id",i._id),o.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),o.d8E("@dialogContainer",i._state))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,qee,0,0,"ng-template",0)},directives:[zL],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Zee.dialogContainer]}}),n})(),Qee=0;class Jee{constructor(t,e,i="mat-dialog-"+Qee++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new kt.x,this._afterClosed=new kt.x,this._beforeClosed=new kt.x,this._state=0,e._id=i,e._animationStateChanged.pipe(dn(r=>"opened"===r.state),(0,Nn.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(dn(r=>"closed"===r.state),(0,Nn.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(dn(r=>27===r.keyCode&&!this.disableClose&&!Ua(r))).subscribe(r=>{r.preventDefault(),kG(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():kG(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(dn(e=>"closing"===e.state),(0,Nn.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function kG(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const Xee=new o.OlP("MatDialogData"),ete=new o.OlP("mat-dialog-default-options"),RG=new o.OlP("mat-dialog-scroll-strategy"),nte={provide:RG,deps:[wh],useFactory:function tte(n){return()=>n.scrollStrategies.block()}};let ite=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,T){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=c,this._dialogRefConstructor=p,this._dialogContainerType=_,this._dialogDataToken=b,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new kt.x,this._afterOpenedAtThisLevel=new kt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=yf(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Yn(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function ste(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new _N),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),s=this._attachDialogContainer(r,i),c=this._attachDialogContent(e,s,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.afterClosed().subscribe(()=>this._removeOpenDialog(c)),this.afterOpened.next(c),s._initializeWithAttachedContent(),c}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new wI({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const s=o.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:_N,useValue:i}]}),c=new Pk(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return e.attach(c).instance}_attachDialogContent(e,i,r,s){const c=new this._dialogRefConstructor(r,i,s.id);if(e instanceof o.Rgc)i.attachTemplatePortal(new vI(e,null,{$implicit:s.data,dialogRef:c}));else{const d=this._createInjector(s,c,i),p=i.attachComponentPortal(new Pk(e,s.viewContainerRef,d,s.componentFactoryResolver));c.componentInstance=p.instance}return c.updateSize(s.width,s.height).updatePosition(s.position),c}_createInjector(e,i,r){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,c=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!s||!s.get(Hl,null,o.XFs.Optional))&&c.push({provide:Hl,useValue:{value:e.direction,change:lt()}}),o.zs3.create({parent:s||this._injector,providers:c})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n}),n})(),rte=(()=>{class n extends ite{constructor(e,i,r,s,c,d,p,_){super(e,i,s,d,p,c,Jee,Kee,Xee,_)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(wh),o.LFG(o.zs3),o.LFG(qe,8),o.LFG(ete,8),o.LFG(RG),o.LFG(n,12),o.LFG(Vk),o.LFG(jc,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),OG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[rte,nte],imports:[[Uk,GL,Wn],Wn]}),n})(),RS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[mN],imports:[[Ci,nU,rU,MG,JV,_2,b2,AG,Mm,VL,OG,yG.forRoot(),gi.hO.initializeApp(B0_firebase),Ko(()=>pg(B0_firebase)),A9(()=>k9()),gG,z8,ff,d2,TG,nT],nU,rU,MG,JV,VL,AG,_2,b2,Mm,OG,yG,gG,d2,TG,nT]}),n})(),ote=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ci,RS]]}),n})(),ate=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ci,RS]]}),n})(),lte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ci,RS,Zv]]}),n})(),cte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[SZ]}),n.\u0275inj=o.cJS({providers:[],imports:[[ac,f6,Yd.forRoot([],{initialNavigation:"enabledBlocking"}),z$,ote,ate,lte,RS]]}),n})();(0,o.G48)(),_d().bootstrapModule(cte).catch(n=>console.error(n))},3014:(De,ye,M)=>{De.exports=M(7114)},7729:(De,ye,M)=>{"use strict";var o=M(4701),L=M(858),k=M(5738),q=M(1625),J=M(5215),le=M(2099),Y=M(6100),ee=M(5593),de=M(985),j=M(1413);De.exports=function($){return new Promise(function(Se,Ae){var ke,Fe=$.data,we=$.headers,Ce=$.responseType;function Be(){$.cancelToken&&$.cancelToken.unsubscribe(ke),$.signal&&$.signal.removeEventListener("abort",ke)}o.isFormData(Fe)&&delete we["Content-Type"];var ve=new XMLHttpRequest;if($.auth){var qe=$.auth.username||"",Re=$.auth.password?unescape(encodeURIComponent($.auth.password)):"";we.Authorization="Basic "+btoa(qe+":"+Re)}var it=J($.baseURL,$.url);function Q(){if(ve){var F="getAllResponseHeaders"in ve?le(ve.getAllResponseHeaders()):null;L(function(ge){Se(ge),Be()},function(ge){Ae(ge),Be()},{data:Ce&&"text"!==Ce&&"json"!==Ce?ve.response:ve.responseText,status:ve.status,statusText:ve.statusText,headers:F,config:$,request:ve}),ve=null}}if(ve.open($.method.toUpperCase(),q(it,$.params,$.paramsSerializer),!0),ve.timeout=$.timeout,"onloadend"in ve?ve.onloadend=Q:ve.onreadystatechange=function(){!ve||4!==ve.readyState||0===ve.status&&(!ve.responseURL||0!==ve.responseURL.indexOf("file:"))||setTimeout(Q)},ve.onabort=function(){!ve||(Ae(ee("Request aborted",$,"ECONNABORTED",ve)),ve=null)},ve.onerror=function(){Ae(ee("Network Error",$,null,ve)),ve=null},ve.ontimeout=function(){var G=$.timeout?"timeout of "+$.timeout+"ms exceeded":"timeout exceeded";$.timeoutErrorMessage&&(G=$.timeoutErrorMessage),Ae(ee(G,$,($.transitional||de).clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",ve)),ve=null},o.isStandardBrowserEnv()){var be=($.withCredentials||Y(it))&&$.xsrfCookieName?k.read($.xsrfCookieName):void 0;be&&(we[$.xsrfHeaderName]=be)}"setRequestHeader"in ve&&o.forEach(we,function(G,W){void 0===Fe&&"content-type"===W.toLowerCase()?delete we[W]:ve.setRequestHeader(W,G)}),o.isUndefined($.withCredentials)||(ve.withCredentials=!!$.withCredentials),Ce&&"json"!==Ce&&(ve.responseType=$.responseType),"function"==typeof $.onDownloadProgress&&ve.addEventListener("progress",$.onDownloadProgress),"function"==typeof $.onUploadProgress&&ve.upload&&ve.upload.addEventListener("progress",$.onUploadProgress),($.cancelToken||$.signal)&&(ke=function(F){!ve||(Ae(!F||F&&F.type?new j("canceled"):F),ve.abort(),ve=null)},$.cancelToken&&$.cancelToken.subscribe(ke),$.signal&&($.signal.aborted?ke():$.signal.addEventListener("abort",ke))),Fe||(Fe=null),ve.send(Fe)})}},7114:(De,ye,M)=>{"use strict";var o=M(4701),L=M(2414),k=M(6490),q=M(2971),Y=function le(ee){var de=new k(ee),j=L(k.prototype.request,de);return o.extend(j,k.prototype,de),o.extend(j,de),j.create=function($){return le(q(ee,$))},j}(M(4498));Y.Axios=k,Y.Cancel=M(1413),Y.CancelToken=M(3056),Y.isCancel=M(8827),Y.VERSION=M(1773).version,Y.all=function(de){return Promise.all(de)},Y.spread=M(9211),Y.isAxiosError=M(4603),De.exports=Y,De.exports.default=Y},1413:De=>{"use strict";function ye(M){this.message=M}ye.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},ye.prototype.__CANCEL__=!0,De.exports=ye},3056:(De,ye,M)=>{"use strict";var o=M(1413);function L(k){if("function"!=typeof k)throw new TypeError("executor must be a function.");var q;this.promise=new Promise(function(Y){q=Y});var J=this;this.promise.then(function(le){if(J._listeners){var Y,ee=J._listeners.length;for(Y=0;Y<ee;Y++)J._listeners[Y](le);J._listeners=null}}),this.promise.then=function(le){var Y,ee=new Promise(function(de){J.subscribe(de),Y=de}).then(le);return ee.cancel=function(){J.unsubscribe(Y)},ee},k(function(Y){J.reason||(J.reason=new o(Y),q(J.reason))})}L.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},L.prototype.subscribe=function(q){this.reason?q(this.reason):this._listeners?this._listeners.push(q):this._listeners=[q]},L.prototype.unsubscribe=function(q){if(this._listeners){var J=this._listeners.indexOf(q);-1!==J&&this._listeners.splice(J,1)}},L.source=function(){var q;return{token:new L(function(Y){q=Y}),cancel:q}},De.exports=L},8827:De=>{"use strict";De.exports=function(M){return!(!M||!M.__CANCEL__)}},6490:(De,ye,M)=>{"use strict";var o=M(4701),L=M(1625),k=M(607),q=M(957),J=M(2971),le=M(4828),Y=le.validators;function ee(de){this.defaults=de,this.interceptors={request:new k,response:new k}}ee.prototype.request=function(j,B){"string"==typeof j?(B=B||{}).url=j:B=j||{},(B=J(this.defaults,B)).method=B.method?B.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var $=B.transitional;void 0!==$&&le.assertOptions($,{silentJSONParsing:Y.transitional(Y.boolean),forcedJSONParsing:Y.transitional(Y.boolean),clarifyTimeoutError:Y.transitional(Y.boolean)},!1);var Me=[],Se=!0;this.interceptors.request.forEach(function(qe){"function"==typeof qe.runWhen&&!1===qe.runWhen(B)||(Se=Se&&qe.synchronous,Me.unshift(qe.fulfilled,qe.rejected))});var Fe,Ae=[];if(this.interceptors.response.forEach(function(qe){Ae.push(qe.fulfilled,qe.rejected)}),!Se){var we=[q,void 0];for(Array.prototype.unshift.apply(we,Me),we=we.concat(Ae),Fe=Promise.resolve(B);we.length;)Fe=Fe.then(we.shift(),we.shift());return Fe}for(var Ce=B;Me.length;){var ke=Me.shift(),Be=Me.shift();try{Ce=ke(Ce)}catch(ve){Be(ve);break}}try{Fe=q(Ce)}catch(ve){return Promise.reject(ve)}for(;Ae.length;)Fe=Fe.then(Ae.shift(),Ae.shift());return Fe},ee.prototype.getUri=function(j){return j=J(this.defaults,j),L(j.url,j.params,j.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],function(j){ee.prototype[j]=function(B,$){return this.request(J($||{},{method:j,url:B,data:($||{}).data}))}}),o.forEach(["post","put","patch"],function(j){ee.prototype[j]=function(B,$,Me){return this.request(J(Me||{},{method:j,url:B,data:$}))}}),De.exports=ee},607:(De,ye,M)=>{"use strict";var o=M(4701);function L(){this.handlers=[]}L.prototype.use=function(q,J,le){return this.handlers.push({fulfilled:q,rejected:J,synchronous:!!le&&le.synchronous,runWhen:le?le.runWhen:null}),this.handlers.length-1},L.prototype.eject=function(q){this.handlers[q]&&(this.handlers[q]=null)},L.prototype.forEach=function(q){o.forEach(this.handlers,function(le){null!==le&&q(le)})},De.exports=L},5215:(De,ye,M)=>{"use strict";var o=M(8692),L=M(4554);De.exports=function(q,J){return q&&!o(J)?L(q,J):J}},5593:(De,ye,M)=>{"use strict";var o=M(5124);De.exports=function(k,q,J,le,Y){var ee=new Error(k);return o(ee,q,J,le,Y)}},957:(De,ye,M)=>{"use strict";var o=M(4701),L=M(5134),k=M(8827),q=M(4498),J=M(1413);function le(Y){if(Y.cancelToken&&Y.cancelToken.throwIfRequested(),Y.signal&&Y.signal.aborted)throw new J("canceled")}De.exports=function(ee){return le(ee),ee.headers=ee.headers||{},ee.data=L.call(ee,ee.data,ee.headers,ee.transformRequest),ee.headers=o.merge(ee.headers.common||{},ee.headers[ee.method]||{},ee.headers),o.forEach(["delete","get","head","post","put","patch","common"],function(B){delete ee.headers[B]}),(ee.adapter||q.adapter)(ee).then(function(B){return le(ee),B.data=L.call(ee,B.data,B.headers,ee.transformResponse),B},function(B){return k(B)||(le(ee),B&&B.response&&(B.response.data=L.call(ee,B.response.data,B.response.headers,ee.transformResponse))),Promise.reject(B)})}},5124:De=>{"use strict";De.exports=function(M,o,L,k,q){return M.config=o,L&&(M.code=L),M.request=k,M.response=q,M.isAxiosError=!0,M.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},M}},2971:(De,ye,M)=>{"use strict";var o=M(4701);De.exports=function(k,q){q=q||{};var J={};function le($,Me){return o.isPlainObject($)&&o.isPlainObject(Me)?o.merge($,Me):o.isPlainObject(Me)?o.merge({},Me):o.isArray(Me)?Me.slice():Me}function Y($){return o.isUndefined(q[$])?o.isUndefined(k[$])?void 0:le(void 0,k[$]):le(k[$],q[$])}function ee($){if(!o.isUndefined(q[$]))return le(void 0,q[$])}function de($){return o.isUndefined(q[$])?o.isUndefined(k[$])?void 0:le(void 0,k[$]):le(void 0,q[$])}function j($){return $ in q?le(k[$],q[$]):$ in k?le(void 0,k[$]):void 0}var B={url:ee,method:ee,data:ee,baseURL:de,transformRequest:de,transformResponse:de,paramsSerializer:de,timeout:de,timeoutMessage:de,withCredentials:de,adapter:de,responseType:de,xsrfCookieName:de,xsrfHeaderName:de,onUploadProgress:de,onDownloadProgress:de,decompress:de,maxContentLength:de,maxBodyLength:de,transport:de,httpAgent:de,httpsAgent:de,cancelToken:de,socketPath:de,responseEncoding:de,validateStatus:j};return o.forEach(Object.keys(k).concat(Object.keys(q)),function(Me){var Se=B[Me]||Y,Ae=Se(Me);o.isUndefined(Ae)&&Se!==j||(J[Me]=Ae)}),J}},858:(De,ye,M)=>{"use strict";var o=M(5593);De.exports=function(k,q,J){var le=J.config.validateStatus;J.status&&le&&!le(J.status)?q(o("Request failed with status code "+J.status,J.config,null,J.request,J)):k(J)}},5134:(De,ye,M)=>{"use strict";var o=M(4701),L=M(4498);De.exports=function(q,J,le){var Y=this||L;return o.forEach(le,function(de){q=de.call(Y,q,J)}),q}},4498:(De,ye,M)=>{"use strict";var o=M(4701),L=M(5620),k=M(5124),q=M(985),J={"Content-Type":"application/x-www-form-urlencoded"};function le(j,B){!o.isUndefined(j)&&o.isUndefined(j["Content-Type"])&&(j["Content-Type"]=B)}var de={transitional:q,adapter:function Y(){var j;return("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(j=M(7729)),j}(),transformRequest:[function(B,$){return L($,"Accept"),L($,"Content-Type"),o.isFormData(B)||o.isArrayBuffer(B)||o.isBuffer(B)||o.isStream(B)||o.isFile(B)||o.isBlob(B)?B:o.isArrayBufferView(B)?B.buffer:o.isURLSearchParams(B)?(le($,"application/x-www-form-urlencoded;charset=utf-8"),B.toString()):o.isObject(B)||$&&"application/json"===$["Content-Type"]?(le($,"application/json"),function ee(j,B,$){if(o.isString(j))try{return(B||JSON.parse)(j),o.trim(j)}catch(Me){if("SyntaxError"!==Me.name)throw Me}return($||JSON.stringify)(j)}(B)):B}],transformResponse:[function(B){var $=this.transitional||de.transitional,Ae=!($&&$.silentJSONParsing)&&"json"===this.responseType;if(Ae||$&&$.forcedJSONParsing&&o.isString(B)&&B.length)try{return JSON.parse(B)}catch(Fe){if(Ae)throw"SyntaxError"===Fe.name?k(Fe,this,"E_JSON_PARSE"):Fe}return B}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(B){return B>=200&&B<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],function(B){de.headers[B]={}}),o.forEach(["post","put","patch"],function(B){de.headers[B]=o.merge(J)}),De.exports=de},985:De=>{"use strict";De.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},1773:De=>{De.exports={version:"0.26.1"}},2414:De=>{"use strict";De.exports=function(M,o){return function(){for(var k=new Array(arguments.length),q=0;q<k.length;q++)k[q]=arguments[q];return M.apply(o,k)}}},1625:(De,ye,M)=>{"use strict";var o=M(4701);function L(k){return encodeURIComponent(k).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}De.exports=function(q,J,le){if(!J)return q;var Y;if(le)Y=le(J);else if(o.isURLSearchParams(J))Y=J.toString();else{var ee=[];o.forEach(J,function(B,$){null==B||(o.isArray(B)?$+="[]":B=[B],o.forEach(B,function(Se){o.isDate(Se)?Se=Se.toISOString():o.isObject(Se)&&(Se=JSON.stringify(Se)),ee.push(L($)+"="+L(Se))}))}),Y=ee.join("&")}if(Y){var de=q.indexOf("#");-1!==de&&(q=q.slice(0,de)),q+=(-1===q.indexOf("?")?"?":"&")+Y}return q}},4554:De=>{"use strict";De.exports=function(M,o){return o?M.replace(/\/+$/,"")+"/"+o.replace(/^\/+/,""):M}},5738:(De,ye,M)=>{"use strict";var o=M(4701);De.exports=o.isStandardBrowserEnv()?{write:function(q,J,le,Y,ee,de){var j=[];j.push(q+"="+encodeURIComponent(J)),o.isNumber(le)&&j.push("expires="+new Date(le).toGMTString()),o.isString(Y)&&j.push("path="+Y),o.isString(ee)&&j.push("domain="+ee),!0===de&&j.push("secure"),document.cookie=j.join("; ")},read:function(q){var J=document.cookie.match(new RegExp("(^|;\\s*)("+q+")=([^;]*)"));return J?decodeURIComponent(J[3]):null},remove:function(q){this.write(q,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},8692:De=>{"use strict";De.exports=function(M){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(M)}},4603:(De,ye,M)=>{"use strict";var o=M(4701);De.exports=function(k){return o.isObject(k)&&!0===k.isAxiosError}},6100:(De,ye,M)=>{"use strict";var o=M(4701);De.exports=o.isStandardBrowserEnv()?function(){var J,k=/(msie|trident)/i.test(navigator.userAgent),q=document.createElement("a");function le(Y){var ee=Y;return k&&(q.setAttribute("href",ee),ee=q.href),q.setAttribute("href",ee),{href:q.href,protocol:q.protocol?q.protocol.replace(/:$/,""):"",host:q.host,search:q.search?q.search.replace(/^\?/,""):"",hash:q.hash?q.hash.replace(/^#/,""):"",hostname:q.hostname,port:q.port,pathname:"/"===q.pathname.charAt(0)?q.pathname:"/"+q.pathname}}return J=le(window.location.href),function(ee){var de=o.isString(ee)?le(ee):ee;return de.protocol===J.protocol&&de.host===J.host}}():function(){return!0}},5620:(De,ye,M)=>{"use strict";var o=M(4701);De.exports=function(k,q){o.forEach(k,function(le,Y){Y!==q&&Y.toUpperCase()===q.toUpperCase()&&(k[q]=le,delete k[Y])})}},2099:(De,ye,M)=>{"use strict";var o=M(4701),L=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];De.exports=function(q){var le,Y,ee,J={};return q&&o.forEach(q.split("\n"),function(j){if(ee=j.indexOf(":"),le=o.trim(j.substr(0,ee)).toLowerCase(),Y=o.trim(j.substr(ee+1)),le){if(J[le]&&L.indexOf(le)>=0)return;J[le]="set-cookie"===le?(J[le]?J[le]:[]).concat([Y]):J[le]?J[le]+", "+Y:Y}}),J}},9211:De=>{"use strict";De.exports=function(M){return function(L){return M.apply(null,L)}}},4828:(De,ye,M)=>{"use strict";var o=M(1773).version,L={};["object","boolean","number","function","string","symbol"].forEach(function(J,le){L[J]=function(ee){return typeof ee===J||"a"+(le<1?"n ":" ")+J}});var k={};L.transitional=function(le,Y,ee){function de(j,B){return"[Axios v"+o+"] Transitional option '"+j+"'"+B+(ee?". "+ee:"")}return function(j,B,$){if(!1===le)throw new Error(de(B," has been removed"+(Y?" in "+Y:"")));return Y&&!k[B]&&(k[B]=!0,console.warn(de(B," has been deprecated since v"+Y+" and will be removed in the near future"))),!le||le(j,B,$)}},De.exports={assertOptions:function q(J,le,Y){if("object"!=typeof J)throw new TypeError("options must be an object");for(var ee=Object.keys(J),de=ee.length;de-- >0;){var j=ee[de],B=le[j];if(B){var $=J[j],Me=void 0===$||B($,j,J);if(!0!==Me)throw new TypeError("option "+j+" must be "+Me)}else if(!0!==Y)throw Error("Unknown option "+j)}},validators:L}},4701:(De,ye,M)=>{"use strict";var o=M(2414),L=Object.prototype.toString;function k(Q){return Array.isArray(Q)}function q(Q){return void 0===Q}function le(Q){return"[object ArrayBuffer]"===L.call(Q)}function B(Q){return null!==Q&&"object"==typeof Q}function $(Q){if("[object Object]"!==L.call(Q))return!1;var be=Object.getPrototypeOf(Q);return null===be||be===Object.prototype}function Fe(Q){return"[object Function]"===L.call(Q)}function ve(Q,be){if(null!=Q)if("object"!=typeof Q&&(Q=[Q]),k(Q))for(var F=0,G=Q.length;F<G;F++)be.call(null,Q[F],F,Q);else for(var W in Q)Object.prototype.hasOwnProperty.call(Q,W)&&be.call(null,Q[W],W,Q)}De.exports={isArray:k,isArrayBuffer:le,isBuffer:function J(Q){return null!==Q&&!q(Q)&&null!==Q.constructor&&!q(Q.constructor)&&"function"==typeof Q.constructor.isBuffer&&Q.constructor.isBuffer(Q)},isFormData:function Y(Q){return"[object FormData]"===L.call(Q)},isArrayBufferView:function ee(Q){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(Q):Q&&Q.buffer&&le(Q.buffer)},isString:function de(Q){return"string"==typeof Q},isNumber:function j(Q){return"number"==typeof Q},isObject:B,isPlainObject:$,isUndefined:q,isDate:function Me(Q){return"[object Date]"===L.call(Q)},isFile:function Se(Q){return"[object File]"===L.call(Q)},isBlob:function Ae(Q){return"[object Blob]"===L.call(Q)},isFunction:Fe,isStream:function we(Q){return B(Q)&&Fe(Q.pipe)},isURLSearchParams:function Ce(Q){return"[object URLSearchParams]"===L.call(Q)},isStandardBrowserEnv:function Be(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:ve,merge:function qe(){var Q={};function be(W,te){Q[te]=$(Q[te])&&$(W)?qe(Q[te],W):$(W)?qe({},W):k(W)?W.slice():W}for(var F=0,G=arguments.length;F<G;F++)ve(arguments[F],be);return Q},extend:function Re(Q,be,F){return ve(be,function(W,te){Q[te]=F&&"function"==typeof W?o(W,F):W}),Q},trim:function ke(Q){return Q.trim?Q.trim():Q.replace(/^\s+|\s+$/g,"")},stripBOM:function it(Q){return 65279===Q.charCodeAt(0)&&(Q=Q.slice(1)),Q}}},5867:(De,ye,M)=>{"use strict";M.d(ye,{C6:()=>o.getApps,KN:()=>o.registerVersion,Mq:()=>o.getApp,ZF:()=>o.initializeApp});var o=M(9681);(0,o.registerVersion)("firebase","9.9.0","app")},127:(De,ye,M)=>{"use strict";M.d(ye,{Z:()=>o.Z});var o=M(3942);o.Z.registerVersion("firebase","9.9.0","app-compat")},5881:(De,ye,M)=>{"use strict";M.r(ye);var o=M(9671),L=M(3942),k=M(6457),q=M(2090),Y=(M(9681),M(1877),M(4859));function ee(){return window}function B(){return(B=(0,o.Z)(function*(fe,ce,ae){var Oe;const{BuildInfo:Xe}=ee();(0,k.aq)(ce.sessionId,"AuthEvent did not contain a session ID");const ft=yield Ce(ce.sessionId),At={};return(0,k.ar)()?At.ibi=Xe.packageName:(0,k.as)()?At.apn=Xe.packageName:(0,k.at)(fe,"operation-not-supported-in-this-environment"),Xe.displayName&&(At.appDisplayName=Xe.displayName),At.sessionId=ft,(0,k.au)(fe,ae,ce.type,void 0,null!==(Oe=ce.eventId)&&void 0!==Oe?Oe:void 0,At)})).apply(this,arguments)}function Me(){return(Me=(0,o.Z)(function*(fe){const{BuildInfo:ce}=ee(),ae={};(0,k.ar)()?ae.iosBundleId=ce.packageName:(0,k.as)()?ae.androidPackageName=ce.packageName:(0,k.at)(fe,"operation-not-supported-in-this-environment"),yield(0,k.av)(fe,ae)})).apply(this,arguments)}function Fe(){return(Fe=(0,o.Z)(function*(fe,ce,ae){const{cordova:Oe}=ee();let Xe=()=>{};try{yield new Promise((ft,At)=>{let Qt=null;function Gt(){var $t;ft();const Zi=null===($t=Oe.plugins.browsertab)||void 0===$t?void 0:$t.close;"function"==typeof Zi&&Zi(),"function"==typeof(null==ae?void 0:ae.close)&&ae.close()}function si(){Qt||(Qt=window.setTimeout(()=>{At((0,k.aw)(fe,"redirect-cancelled-by-user"))},2e3))}function _r(){"visible"===(null==document?void 0:document.visibilityState)&&si()}ce.addPassiveListener(Gt),document.addEventListener("resume",si,!1),(0,k.as)()&&document.addEventListener("visibilitychange",_r,!1),Xe=()=>{ce.removePassiveListener(Gt),document.removeEventListener("resume",si,!1),document.removeEventListener("visibilitychange",_r,!1),Qt&&window.clearTimeout(Qt)}})}finally{Xe()}})).apply(this,arguments)}function Ce(fe){return ke.apply(this,arguments)}function ke(){return(ke=(0,o.Z)(function*(fe){const ce=Be(fe),ae=yield crypto.subtle.digest("SHA-256",ce);return Array.from(new Uint8Array(ae)).map(Xe=>Xe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Be(fe){if((0,k.aq)(/[0-9a-zA-Z]+/.test(fe),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(fe);const ce=new ArrayBuffer(fe.length),ae=new Uint8Array(ce);for(let Oe=0;Oe<fe.length;Oe++)ae[Oe]=fe.charCodeAt(Oe);return ae}class qe extends k.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ce=>{this.resolveInialized=ce})}addPassiveListener(ce){this.passiveListeners.add(ce)}removePassiveListener(ce){this.passiveListeners.delete(ce)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ce){return this.resolveInialized(),this.passiveListeners.forEach(ae=>ae(ce)),super.onEvent(ce)}initialized(){var ce=this;return(0,o.Z)(function*(){yield ce.initPromise})()}}function Q(fe){return be.apply(this,arguments)}function be(){return(be=(0,o.Z)(function*(fe){const ce=yield W()._get(te(fe));return ce&&(yield W()._remove(te(fe))),ce})).apply(this,arguments)}function G(){const fe=[],ce="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ae=0;ae<20;ae++){const Oe=Math.floor(Math.random()*ce.length);fe.push(ce.charAt(Oe))}return fe.join("")}function W(){return(0,k.ay)(k.b)}function te(fe){return(0,k.az)("authEvent",fe.config.apiKey,fe.name)}function Ge(fe){if(!(null==fe?void 0:fe.includes("?")))return{};const[ce,...ae]=fe.split("?");return(0,q.zd)(ae.join("?"))}function at(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.aw)("no-auth-event")}}function zt(){var fe;return(null===(fe=null==self?void 0:self.location)||void 0===fe?void 0:fe.protocol)||null}function Vn(fe=(0,q.z$)()){return!("file:"!==zt()&&"ionic:"!==zt()&&"capacitor:"!==zt()||!fe.toLowerCase().match(/iphone|ipad|ipod|android/))}function Dr(){try{const fe=self.localStorage,ce=k.aI();if(fe)return fe.setItem(ce,"1"),fe.removeItem(ce),!function Rs(fe=(0,q.z$)()){return function $i(){return(0,q.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Gn(fe=(0,q.z$)()){return/Edge\/\d+/.test(fe)}(fe)}()||(0,q.hl)()}catch(fe){return qr()&&(0,q.hl)()}return!1}function qr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xn(){return(function pn(){return"http:"===zt()||"https:"===zt()}()||(0,q.ru)()||Vn())&&!function Wr(){return(0,q.b$)()||(0,q.UG)()}()&&Dr()&&!qr()}function gs(){return Vn()&&"undefined"!=typeof document}function Wi(){return(Wi=(0,o.Z)(function*(){return!!gs()&&new Promise(fe=>{const ce=setTimeout(()=>{fe(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ce),fe(!0)})})})).apply(this,arguments)}const mn={LOCAL:"local",NONE:"none",SESSION:"session"},yi=k.ax,qi="persistence";function Hn(fe){return bi.apply(this,arguments)}function bi(){return(bi=(0,o.Z)(function*(fe){yield fe._initializationPromise;const ce=qt(),ae=k.az(qi,fe.config.apiKey,fe.name);ce&&ce.setItem(ae,fe._getPersistence())})).apply(this,arguments)}function qt(){var fe;try{return(null===(fe=function Un(){return"undefined"!=typeof window?window:null}())||void 0===fe?void 0:fe.sessionStorage)||null}catch(ce){return null}}const mt=k.ax;class ut{constructor(){this.browserResolver=k.ay(k.k),this.cordovaResolver=k.ay(class fn{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(ce){var ae=this;return(0,o.Z)(function*(){const Oe=ce._key();let Xe=ae.eventManagers.get(Oe);return Xe||(Xe=new qe(ce),ae.eventManagers.set(Oe,Xe),ae.attachCallbackListeners(ce,Xe)),Xe})()}_openPopup(ce){(0,k.at)(ce,"operation-not-supported-in-this-environment")}_openRedirect(ce,ae,Oe,Xe){var ft=this;return(0,o.Z)(function*(){!function we(fe){var ce,ae,Oe,Xe,ft,At,Qt,Gt,si,_r;const $t=ee();(0,k.ax)("function"==typeof(null===(ce=null==$t?void 0:$t.universalLinks)||void 0===ce?void 0:ce.subscribe),fe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.ax)(void 0!==(null===(ae=null==$t?void 0:$t.BuildInfo)||void 0===ae?void 0:ae.packageName),fe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.ax)("function"==typeof(null===(ft=null===(Xe=null===(Oe=null==$t?void 0:$t.cordova)||void 0===Oe?void 0:Oe.plugins)||void 0===Xe?void 0:Xe.browsertab)||void 0===ft?void 0:ft.openUrl),fe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(Gt=null===(Qt=null===(At=null==$t?void 0:$t.cordova)||void 0===At?void 0:At.plugins)||void 0===Qt?void 0:Qt.browsertab)||void 0===Gt?void 0:Gt.isAvailable),fe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(_r=null===(si=null==$t?void 0:$t.cordova)||void 0===si?void 0:si.InAppBrowser)||void 0===_r?void 0:_r.open),fe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ce);const At=yield ft._initialize(ce);yield At.initialized(),At.resetRedirect(),(0,k.aD)(),yield ft._originValidation(ce);const Qt=function Re(fe,ce,ae=null){return{type:ce,eventId:ae,urlResponse:null,sessionId:G(),postBody:null,tenantId:fe.tenantId,error:(0,k.aw)(fe,"no-auth-event")}}(ce,Oe,Xe);yield function it(fe,ce){return W()._set(te(fe),ce)}(ce,Qt);const Gt=yield function j(fe,ce,ae){return B.apply(this,arguments)}(ce,Qt,ae),si=yield function Se(fe){const{cordova:ce}=ee();return new Promise(ae=>{ce.plugins.browsertab.isAvailable(Oe=>{let Xe=null;Oe?ce.plugins.browsertab.openUrl(fe):Xe=ce.InAppBrowser.open(fe,(0,k.ap)()?"_blank":"_system","location=yes"),ae(Xe)})})}(Gt);return function Ae(fe,ce,ae){return Fe.apply(this,arguments)}(ce,At,si)})()}_isIframeWebStorageSupported(ce,ae){throw new Error("Method not implemented.")}_originValidation(ce){const ae=ce._key();return this.originValidationPromises[ae]||(this.originValidationPromises[ae]=function $(fe){return Me.apply(this,arguments)}(ce)),this.originValidationPromises[ae]}attachCallbackListeners(ce,ae){const{universalLinks:Oe,handleOpenURL:Xe,BuildInfo:ft}=ee(),At=setTimeout((0,o.Z)(function*(){yield Q(ce),ae.onEvent(at())}),500),Qt=function(){var _r=(0,o.Z)(function*($t){clearTimeout(At);const Zi=yield Q(ce);let ms=null;Zi&&(null==$t?void 0:$t.url)&&(ms=function F(fe,ce){var ae,Oe;const Xe=function X(fe){const ce=Ge(fe),ae=ce.link?decodeURIComponent(ce.link):void 0,Oe=Ge(ae).link,Xe=ce.deep_link_id?decodeURIComponent(ce.deep_link_id):void 0;return Ge(Xe).link||Xe||Oe||ae||fe}(ce);if(Xe.includes("/__/auth/callback")){const ft=Ge(Xe),At=ft.firebaseError?function ge(fe){try{return JSON.parse(fe)}catch(ce){return null}}(decodeURIComponent(ft.firebaseError)):null,Qt=null===(Oe=null===(ae=null==At?void 0:At.code)||void 0===ae?void 0:ae.split("auth/"))||void 0===Oe?void 0:Oe[1],Gt=Qt?(0,k.aw)(Qt):null;return Gt?{type:fe.type,eventId:fe.eventId,tenantId:fe.tenantId,error:Gt,urlResponse:null,sessionId:null,postBody:null}:{type:fe.type,eventId:fe.eventId,tenantId:fe.tenantId,sessionId:fe.sessionId,urlResponse:Xe,postBody:null}}return null}(Zi,$t.url)),ae.onEvent(ms||at())});return function(Zi){return _r.apply(this,arguments)}}();void 0!==Oe&&"function"==typeof Oe.subscribe&&Oe.subscribe(null,Qt);const Gt=Xe,si=`${ft.packageName.toLowerCase()}://`;ee().handleOpenURL=function(){var _r=(0,o.Z)(function*($t){if($t.toLowerCase().startsWith(si)&&Qt({url:$t}),"function"==typeof Gt)try{Gt($t)}catch(Zi){console.error(Zi)}});return function($t){return _r.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(ce){var ae=this;return(0,o.Z)(function*(){return yield ae.selectUnderlyingResolver(),ae.assertedUnderlyingResolver._initialize(ce)})()}_openPopup(ce,ae,Oe,Xe){var ft=this;return(0,o.Z)(function*(){return yield ft.selectUnderlyingResolver(),ft.assertedUnderlyingResolver._openPopup(ce,ae,Oe,Xe)})()}_openRedirect(ce,ae,Oe,Xe){var ft=this;return(0,o.Z)(function*(){return yield ft.selectUnderlyingResolver(),ft.assertedUnderlyingResolver._openRedirect(ce,ae,Oe,Xe)})()}_isIframeWebStorageSupported(ce,ae){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ce,ae)}_originValidation(ce){return this.assertedUnderlyingResolver._originValidation(ce)}get _shouldInitProactively(){return gs()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ce=this;return(0,o.Z)(function*(){if(ce.underlyingResolver)return;const ae=yield function wt(){return Wi.apply(this,arguments)}();ce.underlyingResolver=ae?ce.cordovaResolver:ce.browserResolver})()}}function Sr(fe){return fe.unwrap()}function Zt(fe){return ei(fe)}function ei(fe){const{_tokenResponse:ce}=fe instanceof q.ZR?fe.customData:fe;if(!ce)return null;if(!(fe instanceof q.ZR)&&"temporaryProof"in ce&&"phoneNumber"in ce)return k.P.credentialFromResult(fe);const ae=ce.providerId;if(!ae||ae===k.o.PASSWORD)return null;let Oe;switch(ae){case k.o.GOOGLE:Oe=k.Q;break;case k.o.FACEBOOK:Oe=k.N;break;case k.o.GITHUB:Oe=k.T;break;case k.o.TWITTER:Oe=k.W;break;default:const{oauthIdToken:Xe,oauthAccessToken:ft,oauthTokenSecret:At,pendingToken:Qt,nonce:Gt}=ce;return ft||At||Xe||Qt?Qt?ae.startsWith("saml.")?k.aL._create(ae,Qt):k.J._fromParams({providerId:ae,signInMethod:ae,pendingToken:Qt,idToken:Xe,accessToken:ft}):new k.U(ae).credential({idToken:Xe,accessToken:ft,rawNonce:Gt}):null}return fe instanceof q.ZR?Oe.credentialFromError(fe):Oe.credentialFromResult(fe)}function An(fe,ce){return ce.catch(ae=>{throw ae instanceof q.ZR&&function Zr(fe,ce){var ae,Oe;const Xe=null===(ae=ce.customData)||void 0===ae?void 0:ae._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Oe=ce)||void 0===Oe?void 0:Oe.code))ce.resolver=new se(fe,k.an(fe,ce));else if(Xe){const ft=ei(ce),At=ce;ft&&(At.credential=ft,At.tenantId=Xe.tenantId||void 0,At.email=Xe.email||void 0,At.phoneNumber=Xe.phoneNumber||void 0)}}(fe,ae),ae}).then(ae=>{const Xe=ae.user;return{operationType:ae.operationType,credential:Zt(ae),additionalUserInfo:k.al(ae),user:ie.getOrCreate(Xe)}})}function vt(fe,ce){return rr.apply(this,arguments)}function rr(){return(rr=(0,o.Z)(function*(fe,ce){const ae=yield ce;return{verificationId:ae.verificationId,confirm:Oe=>An(fe,ae.confirm(Oe))}})).apply(this,arguments)}class se{constructor(ce,ae){this.resolver=ae,this.auth=function xr(fe){return fe.wrapped()}(ce)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ce){return An(Sr(this.auth),this.resolver.resolveSignIn(ce))}}class ie{constructor(ce){this._delegate=ce,this.multiFactor=k.ao(ce)}static getOrCreate(ce){return ie.USER_MAP.has(ce)||ie.USER_MAP.set(ce,new ie(ce)),ie.USER_MAP.get(ce)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ce){return this._delegate.getIdTokenResult(ce)}getIdToken(ce){return this._delegate.getIdToken(ce)}linkAndRetrieveDataWithCredential(ce){return this.linkWithCredential(ce)}linkWithCredential(ce){var ae=this;return(0,o.Z)(function*(){return An(ae.auth,k.Z(ae._delegate,ce))})()}linkWithPhoneNumber(ce,ae){var Oe=this;return(0,o.Z)(function*(){return vt(Oe.auth,k.l(Oe._delegate,ce,ae))})()}linkWithPopup(ce){var ae=this;return(0,o.Z)(function*(){return An(ae.auth,k.d(ae._delegate,ce,ut))})()}linkWithRedirect(ce){var ae=this;return(0,o.Z)(function*(){return yield Hn(k.aE(ae.auth)),k.g(ae._delegate,ce,ut)})()}reauthenticateAndRetrieveDataWithCredential(ce){return this.reauthenticateWithCredential(ce)}reauthenticateWithCredential(ce){var ae=this;return(0,o.Z)(function*(){return An(ae.auth,k._(ae._delegate,ce))})()}reauthenticateWithPhoneNumber(ce,ae){return vt(this.auth,k.r(this._delegate,ce,ae))}reauthenticateWithPopup(ce){return An(this.auth,k.e(this._delegate,ce,ut))}reauthenticateWithRedirect(ce){var ae=this;return(0,o.Z)(function*(){return yield Hn(k.aE(ae.auth)),k.h(ae._delegate,ce,ut)})()}sendEmailVerification(ce){return k.ab(this._delegate,ce)}unlink(ce){var ae=this;return(0,o.Z)(function*(){return yield k.ak(ae._delegate,ce),ae})()}updateEmail(ce){return k.ag(this._delegate,ce)}updatePassword(ce){return k.ah(this._delegate,ce)}updatePhoneNumber(ce){return k.u(this._delegate,ce)}updateProfile(ce){return k.af(this._delegate,ce)}verifyBeforeUpdateEmail(ce,ae){return k.ac(this._delegate,ce,ae)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ie.USER_MAP=new WeakMap;const K=k.ax;let re=(()=>{class fe{constructor(ae,Oe){if(this.app=ae,Oe.isInitialized())return this._delegate=Oe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Xe}=ae.options;K(Xe,"invalid-api-key",{appName:ae.name}),K(Xe,"invalid-api-key",{appName:ae.name});const ft="undefined"!=typeof window?ut:void 0;this._delegate=Oe.initialize({options:{persistence:Le(Xe,ae.name),popupRedirectResolver:ft}}),this._delegate._updateErrorMap(k.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ie.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ae){this._delegate.languageCode=ae}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ae){this._delegate.tenantId=ae}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ae,Oe){k.G(this._delegate,ae,Oe)}applyActionCode(ae){return k.a2(this._delegate,ae)}checkActionCode(ae){return k.a3(this._delegate,ae)}confirmPasswordReset(ae,Oe){return k.a1(this._delegate,ae,Oe)}createUserWithEmailAndPassword(ae,Oe){var Xe=this;return(0,o.Z)(function*(){return An(Xe._delegate,k.a5(Xe._delegate,ae,Oe))})()}fetchProvidersForEmail(ae){return this.fetchSignInMethodsForEmail(ae)}fetchSignInMethodsForEmail(ae){return k.aa(this._delegate,ae)}isSignInWithEmailLink(ae){return k.a8(this._delegate,ae)}getRedirectResult(){var ae=this;return(0,o.Z)(function*(){K(Xn(),ae._delegate,"operation-not-supported-in-this-environment");const Oe=yield k.j(ae._delegate,ut);return Oe?An(ae._delegate,Promise.resolve(Oe)):{credential:null,user:null}})()}addFrameworkForLogging(ae){!function vn(fe,ce){(0,k.aE)(fe)._logFramework(ce)}(this._delegate,ae)}onAuthStateChanged(ae,Oe,Xe){const{next:ft,error:At,complete:Qt}=oe(ae,Oe,Xe);return this._delegate.onAuthStateChanged(ft,At,Qt)}onIdTokenChanged(ae,Oe,Xe){const{next:ft,error:At,complete:Qt}=oe(ae,Oe,Xe);return this._delegate.onIdTokenChanged(ft,At,Qt)}sendSignInLinkToEmail(ae,Oe){return k.a7(this._delegate,ae,Oe)}sendPasswordResetEmail(ae,Oe){return k.a0(this._delegate,ae,Oe||void 0)}setPersistence(ae){var Oe=this;return(0,o.Z)(function*(){let Xe;switch(function vi(fe,ce){yi(Object.values(mn).includes(ce),fe,"invalid-persistence-type"),(0,q.b$)()?yi(ce!==mn.SESSION,fe,"unsupported-persistence-type"):(0,q.UG)()?yi(ce===mn.NONE,fe,"unsupported-persistence-type"):qr()?yi(ce===mn.NONE||ce===mn.LOCAL&&(0,q.hl)(),fe,"unsupported-persistence-type"):yi(ce===mn.NONE||Dr(),fe,"unsupported-persistence-type")}(Oe._delegate,ae),ae){case mn.SESSION:Xe=k.a;break;case mn.LOCAL:Xe=(yield k.ay(k.i)._isAvailable())?k.i:k.b;break;case mn.NONE:Xe=k.L;break;default:return k.at("argument-error",{appName:Oe._delegate.name})}return Oe._delegate.setPersistence(Xe)})()}signInAndRetrieveDataWithCredential(ae){return this.signInWithCredential(ae)}signInAnonymously(){return An(this._delegate,k.X(this._delegate))}signInWithCredential(ae){return An(this._delegate,k.Y(this._delegate,ae))}signInWithCustomToken(ae){return An(this._delegate,k.$(this._delegate,ae))}signInWithEmailAndPassword(ae,Oe){return An(this._delegate,k.a6(this._delegate,ae,Oe))}signInWithEmailLink(ae,Oe){return An(this._delegate,k.a9(this._delegate,ae,Oe))}signInWithPhoneNumber(ae,Oe){return vt(this._delegate,k.s(this._delegate,ae,Oe))}signInWithPopup(ae){var Oe=this;return(0,o.Z)(function*(){return K(Xn(),Oe._delegate,"operation-not-supported-in-this-environment"),An(Oe._delegate,k.c(Oe._delegate,ae,ut))})()}signInWithRedirect(ae){var Oe=this;return(0,o.Z)(function*(){return K(Xn(),Oe._delegate,"operation-not-supported-in-this-environment"),yield Hn(Oe._delegate),k.f(Oe._delegate,ae,ut)})()}updateCurrentUser(ae){return this._delegate.updateCurrentUser(ae)}verifyPasswordResetCode(ae){return k.a4(this._delegate,ae)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return fe.Persistence=mn,fe})();function oe(fe,ce,ae){let Oe=fe;"function"!=typeof fe&&({next:Oe,error:ce,complete:ae}=fe);const Xe=Oe;return{next:At=>Xe(At&&ie.getOrCreate(At)),error:ce,complete:ae}}function Le(fe,ce){const ae=function Os(fe,ce){const ae=qt();if(!ae)return[];const Oe=k.az(qi,fe,ce);switch(ae.getItem(Oe)){case mn.NONE:return[k.L];case mn.LOCAL:return[k.i,k.a];case mn.SESSION:return[k.a];default:return[]}}(fe,ce);if("undefined"!=typeof self&&!ae.includes(k.i)&&ae.push(k.i),"undefined"!=typeof window)for(const Oe of[k.b,k.a])ae.includes(Oe)||ae.push(Oe);return ae.includes(k.L)||ae.push(k.L),ae}class Ye{constructor(){this.providerId="phone",this._delegate=new k.P(Sr(L.Z.auth()))}static credential(ce,ae){return k.P.credential(ce,ae)}verifyPhoneNumber(ce,ae){return this._delegate.verifyPhoneNumber(ce,ae)}unwrap(){return this._delegate}}Ye.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,Ye.PROVIDER_ID=k.P.PROVIDER_ID;const It=k.ax;class un{constructor(ce,ae,Oe=L.Z.app()){var Xe;It(null===(Xe=Oe.options)||void 0===Xe?void 0:Xe.apiKey,"invalid-api-key",{appName:Oe.name}),this._delegate=new k.R(ce,ae,Oe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function wi(fe){fe.INTERNAL.registerComponent(new Y.wA("auth-compat",ce=>{const ae=ce.getProvider("app-compat").getImmediate(),Oe=ce.getProvider("auth");return new re(ae,Oe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.M,FacebookAuthProvider:k.N,GithubAuthProvider:k.T,GoogleAuthProvider:k.Q,OAuthProvider:k.U,SAMLAuthProvider:k.V,PhoneAuthProvider:Ye,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:un,TwitterAuthProvider:k.W,Auth:re,AuthCredential:k.H,Error:q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),fe.registerVersion("@firebase/auth-compat","0.2.18")}(L.Z)},8306:(De,ye,M)=>{"use strict";M.d(ye,{y:()=>j});var o=M(930),L=M(727),k=M(8822),q=M(4671);var Y=M(2416),ee=M(576),de=M(2806);let j=(()=>{class Se{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const we=new Se;return we.source=this,we.operator=Fe,we}subscribe(Fe,we,Ce){const ke=function Me(Se){return Se&&Se instanceof o.Lv||function $(Se){return Se&&(0,ee.m)(Se.next)&&(0,ee.m)(Se.error)&&(0,ee.m)(Se.complete)}(Se)&&(0,L.Nn)(Se)}(Fe)?Fe:new o.Hp(Fe,we,Ce);return(0,de.x)(()=>{const{operator:Be,source:ve}=this;ke.add(Be?Be.call(ke,ve):ve?this._subscribe(ke):this._trySubscribe(ke))}),ke}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(we){Fe.error(we)}}forEach(Fe,we){return new(we=B(we))((Ce,ke)=>{let Be;Be=this.subscribe(ve=>{try{Fe(ve)}catch(qe){ke(qe),null==Be||Be.unsubscribe()}},ke,Ce)})}_subscribe(Fe){var we;return null===(we=this.source)||void 0===we?void 0:we.subscribe(Fe)}[k.L](){return this}pipe(...Fe){return function le(Se){return 0===Se.length?q.y:1===Se.length?Se[0]:function(Fe){return Se.reduce((we,Ce)=>Ce(we),Fe)}}(Fe)(this)}toPromise(Fe){return new(Fe=B(Fe))((we,Ce)=>{let ke;this.subscribe(Be=>ke=Be,Be=>Ce(Be),()=>we(ke))})}}return Se.create=Ae=>new Se(Ae),Se})();function B(Se){var Ae;return null!==(Ae=null!=Se?Se:Y.v.Promise)&&void 0!==Ae?Ae:Promise}},7579:(De,ye,M)=>{"use strict";M.d(ye,{x:()=>Y});var o=M(8306),L=M(727);const q=(0,M(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=M(8737),le=M(2806);let Y=(()=>{class de extends o.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const $=new ee(this,this);return $.operator=B,$}_throwIfClosed(){if(this.closed)throw new q}next(B){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const $=this.observers.slice();for(const Me of $)Me.next(B)}})}error(B){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:$}=this;for(;$.length;)$.shift().error(B)}})}complete(){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:$,isStopped:Me,observers:Se}=this;return $||Me?L.Lc:(Se.push(B),new L.w0(()=>(0,J.P)(Se,B)))}_checkFinalizedStatuses(B){const{hasError:$,thrownError:Me,isStopped:Se}=this;$?B.error(Me):Se&&B.complete()}asObservable(){const B=new o.y;return B.source=this,B}}return de.create=(j,B)=>new ee(j,B),de})();class ee extends Y{constructor(j,B){super(),this.destination=j,this.source=B}next(j){var B,$;null===($=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===$||$.call(B,j)}error(j){var B,$;null===($=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===$||$.call(B,j)}complete(){var j,B;null===(B=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===B||B.call(j)}_subscribe(j){var B,$;return null!==($=null===(B=this.source)||void 0===B?void 0:B.subscribe(j))&&void 0!==$?$:L.Lc}}},930:(De,ye,M)=>{"use strict";M.d(ye,{Hp:()=>Me,Lv:()=>$});var o=M(576),L=M(727),k=M(2416),q=M(7849),J=M(5032);const le=de("C",void 0,void 0);function de(Ce,ke,Be){return{kind:Ce,value:ke,error:Be}}var j=M(3410),B=M(2806);class $ extends L.w0{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,L.Nn)(ke)&&ke.add(this)):this.destination=we}static create(ke,Be,ve){return new Me(ke,Be,ve)}next(ke){this.isStopped?Fe(function ee(Ce){return de("N",Ce,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?Fe(function Y(Ce){return de("E",void 0,Ce)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?Fe(le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Me extends ${constructor(ke,Be,ve){let qe;if(super(),(0,o.m)(ke))qe=ke;else if(ke){let Re;({next:qe,error:Be,complete:ve}=ke),this&&k.v.useDeprecatedNextContext?(Re=Object.create(ke),Re.unsubscribe=()=>this.unsubscribe()):Re=ke,qe=null==qe?void 0:qe.bind(Re),Be=null==Be?void 0:Be.bind(Re),ve=null==ve?void 0:ve.bind(Re)}this.destination={next:qe?Se(qe):J.Z,error:Se(null!=Be?Be:Ae),complete:ve?Se(ve):J.Z}}}function Se(Ce,ke){return(...Be)=>{try{Ce(...Be)}catch(ve){k.v.useDeprecatedSynchronousErrorHandling?(0,B.O)(ve):(0,q.h)(ve)}}}function Ae(Ce){throw Ce}function Fe(Ce,ke){const{onStoppedNotification:Be}=k.v;Be&&j.z.setTimeout(()=>Be(Ce,ke))}const we={closed:!0,next:J.Z,error:Ae,complete:J.Z}},727:(De,ye,M)=>{"use strict";M.d(ye,{Lc:()=>le,w0:()=>J,Nn:()=>Y});var o=M(576);const k=(0,M(3888).d)(de=>function(B){de(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map(($,Me)=>`${Me+1}) ${$.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var q=M(8737);class J{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const Se of B)Se.remove(this);else B.remove(this);const{initialTeardown:$}=this;if((0,o.m)($))try{$()}catch(Se){j=Se instanceof k?Se.errors:[Se]}const{_teardowns:Me}=this;if(Me){this._teardowns=null;for(const Se of Me)try{ee(Se)}catch(Ae){j=null!=j?j:[],Ae instanceof k?j=[...j,...Ae.errors]:j.push(Ae)}}if(j)throw new k(j)}}add(j){var B;if(j&&j!==this)if(this.closed)ee(j);else{if(j instanceof J){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._teardowns=null!==(B=this._teardowns)&&void 0!==B?B:[]).push(j)}}_hasParent(j){const{_parentage:B}=this;return B===j||Array.isArray(B)&&B.includes(j)}_addParent(j){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(j),B):B?[B,j]:j}_removeParent(j){const{_parentage:B}=this;B===j?this._parentage=null:Array.isArray(B)&&(0,q.P)(B,j)}remove(j){const{_teardowns:B}=this;B&&(0,q.P)(B,j),j instanceof J&&j._removeParent(this)}}J.EMPTY=(()=>{const de=new J;return de.closed=!0,de})();const le=J.EMPTY;function Y(de){return de instanceof J||de&&"closed"in de&&(0,o.m)(de.remove)&&(0,o.m)(de.add)&&(0,o.m)(de.unsubscribe)}function ee(de){(0,o.m)(de)?de():de.unsubscribe()}},2416:(De,ye,M)=>{"use strict";M.d(ye,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(De,ye,M)=>{"use strict";M.d(ye,{E:()=>L});const L=new(M(8306).y)(J=>J.complete())},8996:(De,ye,M)=>{"use strict";M.d(ye,{D:()=>qe});var o=M(8421),L=M(5363),k=M(9468),le=M(8306),ee=M(2202),de=M(576),j=M(9672);function $(Re,it){if(!Re)throw new Error("Iterable cannot be null");return new le.y(Q=>{(0,j.f)(Q,it,()=>{const be=Re[Symbol.asyncIterator]();(0,j.f)(Q,it,()=>{be.next().then(F=>{F.done?Q.complete():Q.next(F.value)})},0,!0)})})}var Me=M(3670),Se=M(8239),Ae=M(1144),Fe=M(6495),we=M(2206),Ce=M(4532),ke=M(3260);function qe(Re,it){return it?function ve(Re,it){if(null!=Re){if((0,Me.c)(Re))return function q(Re,it){return(0,o.Xf)(Re).pipe((0,k.R)(it),(0,L.Q)(it))}(Re,it);if((0,Ae.z)(Re))return function Y(Re,it){return new le.y(Q=>{let be=0;return it.schedule(function(){be===Re.length?Q.complete():(Q.next(Re[be++]),Q.closed||this.schedule())})})}(Re,it);if((0,Se.t)(Re))return function J(Re,it){return(0,o.Xf)(Re).pipe((0,k.R)(it),(0,L.Q)(it))}(Re,it);if((0,we.D)(Re))return $(Re,it);if((0,Fe.T)(Re))return function B(Re,it){return new le.y(Q=>{let be;return(0,j.f)(Q,it,()=>{be=Re[ee.h](),(0,j.f)(Q,it,()=>{let F,G;try{({value:F,done:G}=be.next())}catch(W){return void Q.error(W)}G?Q.complete():Q.next(F)},0,!0)}),()=>(0,de.m)(null==be?void 0:be.return)&&be.return()})}(Re,it);if((0,ke.L)(Re))return function Be(Re,it){return $((0,ke.Q)(Re),it)}(Re,it)}throw(0,Ce.z)(Re)}(Re,it):(0,o.Xf)(Re)}},8421:(De,ye,M)=>{"use strict";M.d(ye,{Xf:()=>Me});var o=M(5987),L=M(1144),k=M(8239),q=M(8306),J=M(3670),le=M(2206),Y=M(4532),ee=M(6495),de=M(3260),j=M(576),B=M(7849),$=M(8822);function Me(ve){if(ve instanceof q.y)return ve;if(null!=ve){if((0,J.c)(ve))return function Se(ve){return new q.y(qe=>{const Re=ve[$.L]();if((0,j.m)(Re.subscribe))return Re.subscribe(qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ve);if((0,L.z)(ve))return function Ae(ve){return new q.y(qe=>{for(let Re=0;Re<ve.length&&!qe.closed;Re++)qe.next(ve[Re]);qe.complete()})}(ve);if((0,k.t)(ve))return function Fe(ve){return new q.y(qe=>{ve.then(Re=>{qe.closed||(qe.next(Re),qe.complete())},Re=>qe.error(Re)).then(null,B.h)})}(ve);if((0,le.D)(ve))return Ce(ve);if((0,ee.T)(ve))return function we(ve){return new q.y(qe=>{for(const Re of ve)if(qe.next(Re),qe.closed)return;qe.complete()})}(ve);if((0,de.L)(ve))return function ke(ve){return Ce((0,de.Q)(ve))}(ve)}throw(0,Y.z)(ve)}function Ce(ve){return new q.y(qe=>{(function Be(ve,qe){var Re,it,Q,be;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Re=(0,o.KL)(ve);!(it=yield Re.next()).done;)if(qe.next(it.value),qe.closed)return}catch(F){Q={error:F}}finally{try{it&&!it.done&&(be=Re.return)&&(yield be.call(Re))}finally{if(Q)throw Q.error}}qe.complete()})})(ve,qe).catch(Re=>qe.error(Re))})}},6451:(De,ye,M)=>{"use strict";M.d(ye,{T:()=>le});var o=M(8189),L=M(8421),k=M(515),q=M(3269),J=M(8996);function le(...Y){const ee=(0,q.yG)(Y),de=(0,q._6)(Y,1/0),j=Y;return j.length?1===j.length?(0,L.Xf)(j[0]):(0,o.J)(de)((0,J.D)(j,ee)):k.E}},5403:(De,ye,M)=>{"use strict";M.d(ye,{Q:()=>L});var o=M(930);class L extends o.Lv{constructor(q,J,le,Y,ee){super(q),this.onFinalize=ee,this._next=J?function(de){try{J(de)}catch(j){q.error(j)}}:super._next,this._error=Y?function(de){try{Y(de)}catch(j){q.error(j)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(de){q.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var q;const{closed:J}=this;super.unsubscribe(),!J&&(null===(q=this.onFinalize)||void 0===q||q.call(this))}}},4004:(De,ye,M)=>{"use strict";M.d(ye,{U:()=>k});var o=M(4482),L=M(5403);function k(q,J){return(0,o.e)((le,Y)=>{let ee=0;le.subscribe(new L.Q(Y,de=>{Y.next(q.call(J,de,ee++))}))})}},8189:(De,ye,M)=>{"use strict";M.d(ye,{J:()=>k});var o=M(5577),L=M(4671);function k(q=1/0){return(0,o.z)(L.y,q)}},5577:(De,ye,M)=>{"use strict";M.d(ye,{z:()=>ee});var o=M(4004),L=M(8421),k=M(4482),q=M(9672),J=M(5403),Y=M(576);function ee(de,j,B=1/0){return(0,Y.m)(j)?ee(($,Me)=>(0,o.U)((Se,Ae)=>j($,Se,Me,Ae))((0,L.Xf)(de($,Me))),B):("number"==typeof j&&(B=j),(0,k.e)(($,Me)=>function le(de,j,B,$,Me,Se,Ae,Fe){const we=[];let Ce=0,ke=0,Be=!1;const ve=()=>{Be&&!we.length&&!Ce&&j.complete()},qe=it=>Ce<$?Re(it):we.push(it),Re=it=>{Se&&j.next(it),Ce++;let Q=!1;(0,L.Xf)(B(it,ke++)).subscribe(new J.Q(j,be=>{null==Me||Me(be),Se?qe(be):j.next(be)},()=>{Q=!0},void 0,()=>{if(Q)try{for(Ce--;we.length&&Ce<$;){const be=we.shift();Ae?(0,q.f)(j,Ae,()=>Re(be)):Re(be)}ve()}catch(be){j.error(be)}}))};return de.subscribe(new J.Q(j,qe,()=>{Be=!0,ve()})),()=>{null==Fe||Fe()}}($,Me,de,B)))}},5363:(De,ye,M)=>{"use strict";M.d(ye,{Q:()=>q});var o=M(9672),L=M(4482),k=M(5403);function q(J,le=0){return(0,L.e)((Y,ee)=>{Y.subscribe(new k.Q(ee,de=>(0,o.f)(ee,J,()=>ee.next(de),le),()=>(0,o.f)(ee,J,()=>ee.complete(),le),de=>(0,o.f)(ee,J,()=>ee.error(de),le)))})}},3099:(De,ye,M)=>{"use strict";M.d(ye,{B:()=>le});var o=M(8996),L=M(5698),k=M(7579),q=M(930),J=M(4482);function le(ee={}){const{connector:de=(()=>new k.x),resetOnError:j=!0,resetOnComplete:B=!0,resetOnRefCountZero:$=!0}=ee;return Me=>{let Se=null,Ae=null,Fe=null,we=0,Ce=!1,ke=!1;const Be=()=>{null==Ae||Ae.unsubscribe(),Ae=null},ve=()=>{Be(),Se=Fe=null,Ce=ke=!1},qe=()=>{const Re=Se;ve(),null==Re||Re.unsubscribe()};return(0,J.e)((Re,it)=>{we++,!ke&&!Ce&&Be();const Q=Fe=null!=Fe?Fe:de();it.add(()=>{we--,0===we&&!ke&&!Ce&&(Ae=Y(qe,$))}),Q.subscribe(it),Se||(Se=new q.Hp({next:be=>Q.next(be),error:be=>{ke=!0,Be(),Ae=Y(ve,j,be),Q.error(be)},complete:()=>{Ce=!0,Be(),Ae=Y(ve,B),Q.complete()}}),(0,o.D)(Re).subscribe(Se))})(Me)}}function Y(ee,de,...j){return!0===de?(ee(),null):!1===de?null:de(...j).pipe((0,L.q)(1)).subscribe(()=>ee())}},9468:(De,ye,M)=>{"use strict";M.d(ye,{R:()=>L});var o=M(4482);function L(k,q=0){return(0,o.e)((J,le)=>{le.add(k.schedule(()=>J.subscribe(le),q))})}},5698:(De,ye,M)=>{"use strict";M.d(ye,{q:()=>q});var o=M(515),L=M(4482),k=M(5403);function q(J){return J<=0?()=>o.E:(0,L.e)((le,Y)=>{let ee=0;le.subscribe(new k.Q(Y,de=>{++ee<=J&&(Y.next(de),J<=ee&&Y.complete())}))})}},8505:(De,ye,M)=>{"use strict";M.d(ye,{b:()=>J});var o=M(576),L=M(4482),k=M(5403),q=M(4671);function J(le,Y,ee){const de=(0,o.m)(le)||Y||ee?{next:le,error:Y,complete:ee}:le;return de?(0,L.e)((j,B)=>{var $;null===($=de.subscribe)||void 0===$||$.call(de);let Me=!0;j.subscribe(new k.Q(B,Se=>{var Ae;null===(Ae=de.next)||void 0===Ae||Ae.call(de,Se),B.next(Se)},()=>{var Se;Me=!1,null===(Se=de.complete)||void 0===Se||Se.call(de),B.complete()},Se=>{var Ae;Me=!1,null===(Ae=de.error)||void 0===Ae||Ae.call(de,Se),B.error(Se)},()=>{var Se,Ae;Me&&(null===(Se=de.unsubscribe)||void 0===Se||Se.call(de)),null===(Ae=de.finalize)||void 0===Ae||Ae.call(de)}))}):q.y}},4408:(De,ye,M)=>{"use strict";M.d(ye,{o:()=>J});var o=M(727);class L extends o.w0{constructor(Y,ee){super()}schedule(Y,ee=0){return this}}const k={setInterval(...le){const{delegate:Y}=k;return((null==Y?void 0:Y.setInterval)||setInterval)(...le)},clearInterval(le){const{delegate:Y}=k;return((null==Y?void 0:Y.clearInterval)||clearInterval)(le)},delegate:void 0};var q=M(8737);class J extends L{constructor(Y,ee){super(Y,ee),this.scheduler=Y,this.work=ee,this.pending=!1}schedule(Y,ee=0){if(this.closed)return this;this.state=Y;const de=this.id,j=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(j,de,ee)),this.pending=!0,this.delay=ee,this.id=this.id||this.requestAsyncId(j,this.id,ee),this}requestAsyncId(Y,ee,de=0){return k.setInterval(Y.flush.bind(Y,this),de)}recycleAsyncId(Y,ee,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return ee;k.clearInterval(ee)}execute(Y,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(Y,ee);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Y,ee){let j,de=!1;try{this.work(Y)}catch(B){de=!0,j=B||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:Y,scheduler:ee}=this,{actions:de}=ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,q.P)(de,this),null!=Y&&(this.id=this.recycleAsyncId(ee,Y,null)),this.delay=null,super.unsubscribe()}}}},7565:(De,ye,M)=>{"use strict";M.d(ye,{v:()=>k});var o=M(6063);class L{constructor(J,le=L.now){this.schedulerActionCtor=J,this.now=le}schedule(J,le=0,Y){return new this.schedulerActionCtor(this,J).schedule(Y,le)}}L.now=o.l.now;class k extends L{constructor(J,le=L.now){super(J,le),this.actions=[],this._active=!1,this._scheduled=void 0}flush(J){const{actions:le}=this;if(this._active)return void le.push(J);let Y;this._active=!0;do{if(Y=J.execute(J.state,J.delay))break}while(J=le.shift());if(this._active=!1,Y){for(;J=le.shift();)J.unsubscribe();throw Y}}}},4986:(De,ye,M)=>{"use strict";M.d(ye,{P:()=>q,z:()=>k});var o=M(4408);const k=new(M(7565).v)(o.o),q=k},6063:(De,ye,M)=>{"use strict";M.d(ye,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(De,ye,M)=>{"use strict";M.d(ye,{z:()=>o});const o={setTimeout(...L){const{delegate:k}=o;return((null==k?void 0:k.setTimeout)||setTimeout)(...L)},clearTimeout(L){const{delegate:k}=o;return((null==k?void 0:k.clearTimeout)||clearTimeout)(L)},delegate:void 0}},2202:(De,ye,M)=>{"use strict";M.d(ye,{h:()=>L});const L=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(De,ye,M)=>{"use strict";M.d(ye,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(De,ye,M)=>{"use strict";M.d(ye,{_6:()=>le,jO:()=>q,yG:()=>J});var o=M(576),L=M(3532);function k(Y){return Y[Y.length-1]}function q(Y){return(0,o.m)(k(Y))?Y.pop():void 0}function J(Y){return(0,L.K)(k(Y))?Y.pop():void 0}function le(Y,ee){return"number"==typeof k(Y)?Y.pop():ee}},8737:(De,ye,M)=>{"use strict";function o(L,k){if(L){const q=L.indexOf(k);0<=q&&L.splice(q,1)}}M.d(ye,{P:()=>o})},3888:(De,ye,M)=>{"use strict";function o(L){const q=L(J=>{Error.call(J),J.stack=(new Error).stack});return q.prototype=Object.create(Error.prototype),q.prototype.constructor=q,q}M.d(ye,{d:()=>o})},2806:(De,ye,M)=>{"use strict";M.d(ye,{O:()=>q,x:()=>k});var o=M(2416);let L=null;function k(J){if(o.v.useDeprecatedSynchronousErrorHandling){const le=!L;if(le&&(L={errorThrown:!1,error:null}),J(),le){const{errorThrown:Y,error:ee}=L;if(L=null,Y)throw ee}}else J()}function q(J){o.v.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=J)}},9672:(De,ye,M)=>{"use strict";function o(L,k,q,J=0,le=!1){const Y=k.schedule(function(){q(),le?L.add(this.schedule(null,J)):this.unsubscribe()},J);if(L.add(Y),!le)return Y}M.d(ye,{f:()=>o})},4671:(De,ye,M)=>{"use strict";function o(L){return L}M.d(ye,{y:()=>o})},1144:(De,ye,M)=>{"use strict";M.d(ye,{z:()=>o});const o=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(De,ye,M)=>{"use strict";M.d(ye,{D:()=>L});var o=M(576);function L(k){return Symbol.asyncIterator&&(0,o.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(De,ye,M)=>{"use strict";function o(L){return"function"==typeof L}M.d(ye,{m:()=>o})},3670:(De,ye,M)=>{"use strict";M.d(ye,{c:()=>k});var o=M(8822),L=M(576);function k(q){return(0,L.m)(q[o.L])}},6495:(De,ye,M)=>{"use strict";M.d(ye,{T:()=>k});var o=M(2202),L=M(576);function k(q){return(0,L.m)(null==q?void 0:q[o.h])}},8239:(De,ye,M)=>{"use strict";M.d(ye,{t:()=>L});var o=M(576);function L(k){return(0,o.m)(null==k?void 0:k.then)}},3260:(De,ye,M)=>{"use strict";M.d(ye,{L:()=>q,Q:()=>k});var o=M(5987),L=M(576);function k(J){return(0,o.FC)(this,arguments,function*(){const Y=J.getReader();try{for(;;){const{value:ee,done:de}=yield(0,o.qq)(Y.read());if(de)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(ee)}}finally{Y.releaseLock()}})}function q(J){return(0,L.m)(null==J?void 0:J.getReader)}},3532:(De,ye,M)=>{"use strict";M.d(ye,{K:()=>L});var o=M(576);function L(k){return k&&(0,o.m)(k.schedule)}},4482:(De,ye,M)=>{"use strict";M.d(ye,{A:()=>L,e:()=>k});var o=M(576);function L(q){return(0,o.m)(null==q?void 0:q.lift)}function k(q){return J=>{if(L(J))return J.lift(function(le){try{return q(le,this)}catch(Y){this.error(Y)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(De,ye,M)=>{"use strict";function o(){}M.d(ye,{Z:()=>o})},7849:(De,ye,M)=>{"use strict";M.d(ye,{h:()=>k});var o=M(2416),L=M(3410);function k(q){L.z.setTimeout(()=>{const{onUnhandledError:J}=o.v;if(!J)throw q;J(q)})}},4532:(De,ye,M)=>{"use strict";function o(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(ye,{z:()=>o})},5987:(De,ye,M)=>{"use strict";function ee(F,G,W,te){return new(W||(W=Promise))(function(X,Ge){function ct(at){try{He(te.next(at))}catch(vn){Ge(vn)}}function fn(at){try{He(te.throw(at))}catch(vn){Ge(vn)}}function He(at){at.done?X(at.value):function ge(X){return X instanceof W?X:new W(function(Ge){Ge(X)})}(at.value).then(ct,fn)}He((te=te.apply(F,G||[])).next())})}function we(F){return this instanceof we?(this.v=F,this):new we(F)}function Ce(F,G,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,te=W.apply(F,G||[]),X=[];return ge={},Ge("next"),Ge("throw"),Ge("return"),ge[Symbol.asyncIterator]=function(){return this},ge;function Ge(St){te[St]&&(ge[St]=function(Ln){return new Promise(function(rn,zt){X.push([St,Ln,rn,zt])>1||ct(St,Ln)})})}function ct(St,Ln){try{!function fn(St){St.value instanceof we?Promise.resolve(St.value.v).then(He,at):vn(X[0][2],St)}(te[St](Ln))}catch(rn){vn(X[0][3],rn)}}function He(St){ct("next",St)}function at(St){ct("throw",St)}function vn(St,Ln){St(Ln),X.shift(),X.length&&ct(X[0][0],X[0][1])}}function Be(F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,G=F[Symbol.asyncIterator];return G?G.call(F):(F=function $(F){var G="function"==typeof Symbol&&Symbol.iterator,W=G&&F[G],te=0;if(W)return W.call(F);if(F&&"number"==typeof F.length)return{next:function(){return F&&te>=F.length&&(F=void 0),{value:F&&F[te++],done:!F}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}(F),W={},te("next"),te("throw"),te("return"),W[Symbol.asyncIterator]=function(){return this},W);function te(X){W[X]=F[X]&&function(Ge){return new Promise(function(ct,fn){!function ge(X,Ge,ct,fn){Promise.resolve(fn).then(function(He){X({value:He,done:ct})},Ge)}(ct,fn,(Ge=F[X](Ge)).done,Ge.value)})}}}M.d(ye,{FC:()=>Ce,KL:()=>Be,mG:()=>ee,qq:()=>we})},655:(De,ye,M)=>{"use strict";function q(F,G){var W={};for(var te in F)Object.prototype.hasOwnProperty.call(F,te)&&G.indexOf(te)<0&&(W[te]=F[te]);if(null!=F&&"function"==typeof Object.getOwnPropertySymbols){var ge=0;for(te=Object.getOwnPropertySymbols(F);ge<te.length;ge++)G.indexOf(te[ge])<0&&Object.prototype.propertyIsEnumerable.call(F,te[ge])&&(W[te[ge]]=F[te[ge]])}return W}function ee(F,G,W,te){return new(W||(W=Promise))(function(X,Ge){function ct(at){try{He(te.next(at))}catch(vn){Ge(vn)}}function fn(at){try{He(te.throw(at))}catch(vn){Ge(vn)}}function He(at){at.done?X(at.value):function ge(X){return X instanceof W?X:new W(function(Ge){Ge(X)})}(at.value).then(ct,fn)}He((te=te.apply(F,G||[])).next())})}M.d(ye,{_T:()=>q,mG:()=>ee})},9671:(De,ye,M)=>{"use strict";function o(k,q,J,le,Y,ee,de){try{var j=k[ee](de),B=j.value}catch($){return void J($)}j.done?q(B):Promise.resolve(B).then(le,Y)}function L(k){return function(){var q=this,J=arguments;return new Promise(function(le,Y){var ee=k.apply(q,J);function de(B){o(ee,le,Y,de,j,"next",B)}function j(B){o(ee,le,Y,de,j,"throw",B)}de(void 0)})}}M.d(ye,{Z:()=>L})},5e3:(De,ye,M)=>{"use strict";M.d(ye,{$8M:()=>bl,$Z:()=>Em,AFp:()=>ta,ALo:()=>EM,AaK:()=>ee,BQk:()=>Wf,CHM:()=>ul,CRH:()=>Eb,CZH:()=>Ni,CqO:()=>Hv,DdM:()=>pM,EJc:()=>kb,EiD:()=>_f,EpF:()=>mE,F$t:()=>wE,F4k:()=>_E,FYo:()=>oM,FiY:()=>Dt,G48:()=>KT,Gf:()=>Ha,GfV:()=>aM,Gpc:()=>B,Gre:()=>UE,Hsn:()=>$v,Ikx:()=>rb,JOm:()=>Ma,JVY:()=>Eu,Jf7:()=>J0,L6k:()=>Dy,LAX:()=>Ig,LFG:()=>D,LSH:()=>Mg,Lbi:()=>eL,MAs:()=>kv,NdJ:()=>jv,O4$:()=>vy,OlP:()=>li,Oqu:()=>eb,PXZ:()=>ok,Q6J:()=>Bv,QGY:()=>Dm,Qsj:()=>pF,R0b:()=>na,RDi:()=>ru,Rgc:()=>Jm,SBq:()=>Zm,Sil:()=>ZM,Suo:()=>MM,TTD:()=>nl,TgZ:()=>Tm,Udp:()=>qf,VKq:()=>gM,VLi:()=>ik,WFA:()=>zv,WLB:()=>mM,X6Q:()=>Ub,XFs:()=>wt,Xpm:()=>Ye,Y36:()=>Gf,YKP:()=>bT,YNc:()=>Mv,Yjl:()=>Xe,Yz7:()=>rn,ZZ4:()=>jb,_Bn:()=>nM,_UZ:()=>$f,_Vd:()=>gb,_c5:()=>f_,_uU:()=>Om,aQg:()=>zb,c2e:()=>HT,cJS:()=>pn,cg1:()=>ob,d8E:()=>sb,dDg:()=>GT,deG:()=>gg,dqk:()=>Zt,eBb:()=>hf,eFA:()=>qT,ekj:()=>Zf,f3M:()=>P,g9A:()=>o_,h0i:()=>uh,hGG:()=>wk,hij:()=>tb,iGM:()=>Pi,ifc:()=>qt,ip1:()=>Mb,kL8:()=>KE,kYT:()=>ce,l5B:()=>_M,lG2:()=>Oe,lcZ:()=>TM,mCW:()=>m,n5z:()=>ur,n_E:()=>_b,oAB:()=>fe,oJD:()=>W0,oxw:()=>vE,pB0:()=>Sy,q3G:()=>mi,q4F:()=>lM,qLn:()=>Pg,qOj:()=>eE,qZA:()=>Uv,qzn:()=>Al,s9C:()=>Wv,sBO:()=>fk,sIi:()=>kc,s_b:()=>vb,soG:()=>l_,tBr:()=>gt,tb:()=>a_,tp0:()=>_t,uIk:()=>tE,uOi:()=>Iu,vHH:()=>Ae,vpe:()=>zl,wAp:()=>xt,xi3:()=>IM,xp6:()=>Wy,yhl:()=>Tc,ynx:()=>Im,z2F:()=>c_,z3N:()=>Ys,zSh:()=>vv,zs3:()=>Na});var o=M(7579),L=M(727),k=M(8306),q=M(6451),J=M(3099);function le(a){for(let l in a)if(a[l]===le)return l;throw Error("Could not find renamed property on target object.")}function Y(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function ee(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(ee).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function de(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const j=le({__forward_ref__:le});function B(a){return a.__forward_ref__=B,a.toString=function(){return ee(this())},a}function $(a){return Me(a)?a():a}function Me(a){return"function"==typeof a&&a.hasOwnProperty(j)&&a.__forward_ref__===B}class Ae extends Error{constructor(l,u){super(function Fe(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,u)),this.code=l}}function we(a){return"string"==typeof a?a:null==a?"":String(a)}function Ce(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():we(a)}function qe(a,l){const u=l?` in ${l}`:"";throw new Ae(-201,`No provider for ${Ce(a)} found${u}`)}function He(a,l){null==a&&function at(a,l,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function rn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function pn(a){return{providers:a.providers||[],imports:a.imports||[]}}function Vn(a){return Wr(a,Dr)||Wr(a,Xn)}function Wr(a,l){return a.hasOwnProperty(l)?a[l]:null}function Rs(a){return a&&(a.hasOwnProperty(qr)||a.hasOwnProperty(gs))?a[qr]:null}const Dr=le({\u0275prov:le}),qr=le({\u0275inj:le}),Xn=le({ngInjectableDef:le}),gs=le({ngInjectorDef:le});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let Wi;function mn(a){const l=Wi;return Wi=a,l}function yi(a,l,u){const h=Vn(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&wt.Optional?null:void 0!==l?l:void qe(ee(a),"Injector")}function vi(a){return{toString:a}.toString()}var Hn=(()=>((Hn=Hn||{})[Hn.OnPush=0]="OnPush",Hn[Hn.Default=1]="Default",Hn))(),qt=(()=>{return(a=qt||(qt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",qt;var a})();const mt="undefined"!=typeof globalThis&&globalThis,ut="undefined"!=typeof window&&window,Sr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Zt=mt||"undefined"!=typeof global&&global||ut||Sr,An={},vt=[],rr=le({\u0275cmp:le}),se=le({\u0275dir:le}),ie=le({\u0275pipe:le}),K=le({\u0275mod:le}),re=le({\u0275fac:le}),oe=le({__NG_ELEMENT_ID__:le});let Le=0;function Ye(a){return vi(()=>{const u={},h={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Hn.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||vt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||qt.Emulated,id:"c",styles:a.styles||vt,_:null,setInput:null,schemas:a.schemas||null,tView:null},f=a.directives,g=a.features,v=a.pipes;return h.id+=Le++,h.inputs=ae(a.inputs,u),h.outputs=ae(a.outputs),g&&g.forEach(C=>C(h)),h.directiveDefs=f?()=>("function"==typeof f?f():f).map(un):null,h.pipeDefs=v?()=>("function"==typeof v?v():v).map(sn):null,h})}function un(a){return ft(a)||function At(a){return a[se]||null}(a)}function sn(a){return function Qt(a){return a[ie]||null}(a)}const wi={};function fe(a){return vi(()=>{const l={type:a.type,bootstrap:a.bootstrap||vt,declarations:a.declarations||vt,imports:a.imports||vt,exports:a.exports||vt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(wi[a.id]=a.type),l})}function ce(a,l){return vi(()=>{const u=Gt(a,!0);u.declarations=l.declarations||vt,u.imports=l.imports||vt,u.exports=l.exports||vt})}function ae(a,l){if(null==a)return An;const u={};for(const h in a)if(a.hasOwnProperty(h)){let f=a[h],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),u[f]=h,l&&(l[f]=g)}return u}const Oe=Ye;function Xe(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function ft(a){return a[rr]||null}function Gt(a,l){const u=a[K]||null;if(!u&&!0===l)throw new Error(`Type ${ee(a)} does not have '\u0275mod' property.`);return u}function or(a){return Array.isArray(a)&&"object"==typeof a[1]}function Yi(a){return Array.isArray(a)&&!0===a[1]}function nu(a){return 0!=(8&a.flags)}function ec(a){return 2==(2&a.flags)}function fo(a){return 1==(1&a.flags)}function Mr(a){return null!==a.template}function iu(a){return 0!=(512&a[2])}function kr(a,l){return a.hasOwnProperty(re)?a[re]:null}class pa{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function nl(){return il}function il(a){return a.type.prototype.ngOnChanges&&(a.setInput=ug),Jh}function Jh(){const a=cd(this),l=null==a?void 0:a.current;if(l){const u=a.previous;if(u===An)a.previous=l;else for(let h in l)u[h]=l[h];a.current=null,this.ngOnChanges(l)}}function ug(a,l,u,h){const f=cd(a)||function Bs(a,l){return a[Ci]=l}(a,{previous:An,current:null}),g=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[u],I=v[C];g[C]=new pa(I&&I.currentValue,l,v===An),a[h]=l}nl.ngInherit=!0;const Ci="__ngSimpleChanges__";function cd(a){return a[Ci]||null}let rc;function ru(a){rc=a}function Vs(){return void 0!==rc?rc:"undefined"!=typeof document?document:void 0}function kn(a){return!!a.listen}const rl={createRenderer:(a,l)=>Vs()};function Cn(a){for(;Array.isArray(a);)a=a[0];return a}function zo(a,l){return Cn(l[a])}function Ai(a,l){return Cn(l[a.index])}function ni(a,l){return a.data[l]}function Us(a,l){return a[l]}function Mi(a,l){const u=l[a];return or(u)?u:u[0]}function ga(a){return 4==(4&a[2])}function _s(a){return 128==(128&a[2])}function vr(a,l){return null==l?null:a[l]}function mo(a){a[18]=0}function _o(a,l){a[5]+=l;let u=a,h=a[3];for(;null!==h&&(1===l&&1===u[5]||-1===l&&0===u[5]);)h[5]+=l,u=h,h=h[3]}const Et={lFrame:Wo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function au(){return Et.bindingsEnabled}function Ne(){return Et.lFrame.lView}function Yt(){return Et.lFrame.tView}function ul(a){return Et.lFrame.contextLView=a,a[8]}function qn(){let a=yo();for(;null!==a&&64===a.type;)a=a.parent;return a}function yo(){return Et.lFrame.currentTNode}function ar(a,l){const u=Et.lFrame;u.currentTNode=a,u.isParent=l}function lu(){return Et.lFrame.isParent}function cu(){Et.lFrame.isParent=!1}function hl(){return Et.isInCheckNoChangesMode}function ma(a){Et.isInCheckNoChangesMode=a}function Ei(){const a=Et.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function ys(){return Et.lFrame.bindingIndex++}function Hs(a){const l=Et.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function pl(a,l){const u=Et.lFrame;u.bindingIndex=u.bindingRootIndex=a,Go(l)}function Go(a){Et.lFrame.currentDirectiveIndex=a}function ac(a){const l=Et.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function gl(){return Et.lFrame.currentQueryIndex}function du(a){Et.lFrame.currentQueryIndex=a}function dg(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function lc(a,l,u){if(u&wt.SkipSelf){let f=l,g=a;for(;!(f=f.parent,null!==f||u&wt.Host||(f=dg(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;l=f,a=g}const h=Et.lFrame=hu();return h.currentTNode=l,h.lView=a,!0}function $o(a){const l=hu(),u=a[1];Et.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function hu(){const a=Et.lFrame,l=null===a?null:a.child;return null===l?Wo(a):l}function Wo(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function yd(){const a=Et.lFrame;return Et.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const ef=yd;function _a(){const a=yd();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function ki(){return Et.lFrame.selectedIndex}function js(a){Et.lFrame.selectedIndex=a}function ii(){const a=Et.lFrame;return ni(a.tView,a.selectedIndex)}function vy(){Et.lFrame.currentNamespace="svg"}function ml(a,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const g=a.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:x,ngOnDestroy:O}=g;v&&(a.contentHooks||(a.contentHooks=[])).push(-u,v),C&&((a.contentHooks||(a.contentHooks=[])).push(u,C),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,C)),I&&(a.viewHooks||(a.viewHooks=[])).push(-u,I),x&&((a.viewHooks||(a.viewHooks=[])).push(u,x),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,x)),null!=O&&(a.destroyHooks||(a.destroyHooks=[])).push(u,O)}}function zs(a,l,u){Ri(a,l,3,u)}function _l(a,l,u,h){(3&a[2])===u&&Ri(a,l,u,h)}function cc(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function Ri(a,l,u,h){const g=null!=h?h:-1,v=l.length-1;let C=0;for(let I=void 0!==h?65535&a[18]:0;I<v;I++)if("number"==typeof l[I+1]){if(C=l[I],null!=h&&C>=h)break}else l[I]<0&&(a[18]+=65536),(C<g||-1==g)&&(rf(a,u,l,I),a[18]=(4294901760&a[18])+I+2),I++}function rf(a,l,u,h){const f=u[h]<0,g=u[h+1],C=a[f?-u[h]:u[h]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class ya{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function $n(a,l,u){const h=kn(a);let f=0;for(;f<u.length;){const g=u[f];if("number"==typeof g){if(0!==g)break;f++;const v=u[f++],C=u[f++],I=u[f++];h?a.setAttribute(l,C,I,v):l.setAttributeNS(v,C,I)}else{const v=g,C=u[++f];lt(v)?h&&a.setProperty(l,v,C):h?a.setAttribute(l,v,C):l.setAttribute(v,C),f++}}return f}function Zn(a){return 3===a||4===a||6===a}function lt(a){return 64===a.charCodeAt(0)}function ai(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const f=l[h];"number"==typeof f?u=f:0===u||cr(a,u,f,null,-1===u||2===u?l[++h]:null)}}return a}function cr(a,l,u,h,f){let g=0,v=a.length;if(-1===l)v=-1;else for(;g<a.length;){const C=a[g++];if("number"==typeof C){if(C===l){v=-1;break}if(C>l){v=g-1;break}}}for(;g<a.length;){const C=a[g];if("number"==typeof C)break;if(C===u){if(null===h)return void(null!==f&&(a[g+1]=f));if(h===a[g+1])return void(a[g+2]=f)}g++,null!==h&&g++,null!==f&&g++}-1!==v&&(a.splice(v,0,l),g=v+1),a.splice(g++,0,u),null!==h&&a.splice(g++,0,h),null!==f&&a.splice(g++,0,f)}function Gs(a){return-1!==a}function br(a){return 32767&a}function Rn(a,l){let u=function Ht(a){return a>>16}(a),h=l;for(;u>0;)h=h[15],u--;return h}let En=!0;function pt(a){const l=En;return En=a,l}let hc=0;function Qr(a,l){const u=Nn(a,l);if(-1!==u)return u;const h=l[1];h.firstCreatePass&&(a.injectorIndex=l.length,dn(h.data,a),dn(l,null),dn(h.blueprint,null));const f=bs(a,l),g=a.injectorIndex;if(Gs(f)){const v=br(f),C=Rn(f,l),I=C[1].data;for(let x=0;x<8;x++)l[g+x]=C[v+x]|I[v+x]}return l[g+8]=f,g}function dn(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Nn(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function bs(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,f=l;for(;null!==f;){const g=f[1],v=g.type;if(h=2===v?g.declTNode:1===v?f[6]:null,null===h)return-1;if(u++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function yl(a,l,u){!function pu(a,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(oe)&&(h=u[oe]),null==h&&(h=u[oe]=hc++);const f=255&h;l.data[a+(f>>5)]|=1<<f}(a,l,u)}function vo(a,l,u){if(u&wt.Optional)return a;qe(l,"NodeInjector")}function Rr(a,l,u,h){if(u&wt.Optional&&void 0===h&&(h=null),0==(u&(wt.Self|wt.Host))){const f=a[9],g=mn(void 0);try{return f?f.get(l,h,u&wt.Optional):yi(l,h,u&wt.Optional)}finally{mn(g)}}return vo(h,l,u)}function Jr(a,l,u,h=wt.Default,f){if(null!==a){const g=function $s(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(oe)?a[oe]:void 0;return"number"==typeof l?l>=0?255&l:ba:l}(u);if("function"==typeof g){if(!lc(l,a,h))return h&wt.Host?vo(f,u,h):Rr(l,u,h,f);try{const v=g(h);if(null!=v||h&wt.Optional)return v;qe(u)}finally{ef()}}else if("number"==typeof g){let v=null,C=Nn(a,l),I=-1,x=h&wt.Host?l[16][6]:null;for((-1===C||h&wt.SkipSelf)&&(I=-1===C?bs(a,l):l[C+8],-1!==I&&mu(h,!1)?(v=l[1],C=br(I),l=Rn(I,l)):C=-1);-1!==C;){const O=l[1];if(gu(g,C,O.data)){const z=Jt(C,l,u,v,h,x);if(z!==Zo)return z}I=l[C+8],-1!==I&&mu(h,l[1].data[C+8]===x)&&gu(g,C,l)?(v=O,C=br(I),l=Rn(I,l)):C=-1}}}return Rr(l,u,h,f)}const Zo={};function ba(){return new wa(qn(),Ne())}function Jt(a,l,u,h,f,g){const v=l[1],C=v.data[a+8],O=gi(C,v,u,null==h?ec(C)&&En:h!=v&&0!=(3&C.type),f&wt.Host&&g===C);return null!==O?Or(l,v,O,C):Zo}function gi(a,l,u,h,f){const g=a.providerIndexes,v=l.data,C=1048575&g,I=a.directiveStart,O=g>>20,ne=f?C+O:a.directiveEnd;for(let pe=h?C:C+O;pe<ne;pe++){const xe=v[pe];if(pe<I&&u===xe||pe>=I&&xe.type===u)return pe}if(f){const pe=v[I];if(pe&&Mr(pe)&&pe.type===u)return I}return null}function Or(a,l,u,h){let f=a[u];const g=l.data;if(function bd(a){return a instanceof ya}(f)){const v=f;v.resolving&&function ke(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${a}${u}`)}(Ce(g[u]));const C=pt(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?mn(v.injectImpl):null;lc(a,h,wt.Default);try{f=a[u]=v.factory(void 0,g,a,h),l.firstCreatePass&&u>=h.directiveStart&&function hg(a,l,u){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:g}=l.type.prototype;if(h){const v=il(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,v)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,f),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,g))}(u,g[u],l)}finally{null!==I&&mn(I),pt(C),v.resolving=!1,ef()}}return f}function gu(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function mu(a,l){return!(a&wt.Self||a&wt.Host&&l)}class wa{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,h){return Jr(this._tNode,this._lView,l,h,u)}}function ur(a){return vi(()=>{const l=a.prototype.constructor,u=l[re]||fc(l),h=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==h;){const g=f[re]||fc(f);if(g&&g!==u)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function fc(a){return Me(a)?()=>{const l=fc($(a));return l&&l()}:kr(a)}function bl(a){return function vl(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const h=u.length;let f=0;for(;f<h;){const g=u[f];if(Zn(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<h&&"string"==typeof u[f];)f++;else{if(g===l)return u[f+1];f+=2}}}return null}(qn(),a)}const Yo="__parameters__";function gc(a,l,u){return vi(()=>{const h=function pc(a){return function(...u){if(a){const h=a(...u);for(const f in h)this[f]=h[f]}}}(l);function f(...g){if(this instanceof f)return h.apply(this,g),this;const v=new f(...g);return C.annotation=v,C;function C(I,x,O){const z=I.hasOwnProperty(Yo)?I[Yo]:Object.defineProperty(I,Yo,{value:[]})[Yo];for(;z.length<=O;)z.push(null);return(z[O]=z[O]||[]).push(v),I}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class li{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=rn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const gg=new li("AnalyzeForEntryComponents");function dr(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let h=a[u];Array.isArray(h)?(l===a&&(l=a.slice(0,u)),dr(h,l)):l!==a&&l.push(h)}return l}function wr(a,l){a.forEach(u=>Array.isArray(u)?wr(u,l):l(u))}function wl(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function yc(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Ca(a,l){const u=[];for(let h=0;h<a;h++)u.push(l);return u}function ui(a,l,u){let h=Cs(a,l);return h>=0?a[1|h]=u:(h=~h,function Oi(a,l,u,h){let f=a.length;if(f==l)a.push(u,h);else if(1===f)a.push(h,a[0]),a[0]=u;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=u,a[l+1]=h}}(a,h,l,u)),h}function Eo(a,l){const u=Cs(a,l);if(u>=0)return a[1|u]}function Cs(a,l){return function Ea(a,l,u){let h=0,f=a.length>>u;for(;f!==h;){const g=h+(f-h>>1),v=a[g<<u];if(l===v)return g<<u;v>l?f=g:h=g+1}return~(f<<u)}(a,l,1)}const Qo={},Il="__NG_DI_FLAG__",Cr="ngTempTokenPath",Zs=/\n/gm,bu="__source",Ia=le({provide:String,useValue:le});let Dl;function Da(a){const l=Dl;return Dl=a,l}function Ad(a,l=wt.Default){if(void 0===Dl)throw new Ae(203,"");return null===Dl?yi(a,void 0,l):Dl.get(a,l&wt.Optional?null:void 0,l)}function D(a,l=wt.Default){return(function Un(){return Wi}()||Ad)($(a),l)}const P=D;function Z(a){const l=[];for(let u=0;u<a.length;u++){const h=$(a[u]);if(Array.isArray(h)){if(0===h.length)throw new Ae(900,"");let f,g=wt.Default;for(let v=0;v<h.length;v++){const C=h[v],I=Ee(C);"number"==typeof I?-1===I?f=C.token:g|=I:f=C}l.push(D(f,g))}else l.push(D(h))}return l}function he(a,l){return a[Il]=l,a.prototype[Il]=l,a}function Ee(a){return a[Il]}const gt=he(gc("Inject",a=>({token:a})),-1),Dt=he(gc("Optional"),8),_t=he(gc("SkipSelf"),4);let wc,xl;function Cc(a){var l;return(null===(l=function cf(){if(void 0===wc&&(wc=null,Zt.trustedTypes))try{wc=Zt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return wc}())||void 0===l?void 0:l.createHTML(a))||a}function Md(){if(void 0===xl&&(xl=null,Zt.trustedTypes))try{xl=Zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return xl}function uf(a){var l;return(null===(l=Md())||void 0===l?void 0:l.createHTML(a))||a}function Eg(a){var l;return(null===(l=Md())||void 0===l?void 0:l.createScriptURL(a))||a}class Ec{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ty extends Ec{getTypeName(){return"HTML"}}class df extends Ec{getTypeName(){return"Style"}}class z0 extends Ec{getTypeName(){return"Script"}}class Iy extends Ec{getTypeName(){return"URL"}}class Tg extends Ec{getTypeName(){return"ResourceURL"}}function Ys(a){return a instanceof Ec?a.changingThisBreaksApplicationSecurity:a}function Al(a,l){const u=Tc(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function Tc(a){return a instanceof Ec&&a.getTypeName()||null}function Eu(a){return new Ty(a)}function Dy(a){return new df(a)}function hf(a){return new z0(a)}function Ig(a){return new Iy(a)}function Sy(a){return new Tg(a)}class Sg{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Cc(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class xy{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Cc(l),u;const h=this.inertDocument.createElement("body");return h.innerHTML=Cc(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const u=l.attributes;for(let f=u.length-1;0<f;f--){const v=u.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const $0=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,w=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function m(a){return(a=String(a)).match($0)||a.match(w)?a:"unsafe:"+a}function E(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function R(...a){const l={};for(const u of a)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const U=E("area,br,col,hr,img,wbr"),me=E("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pe=E("rp,rt"),Bn=R(U,R(me,E("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),R(Pe,E("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),R(Pe,me)),ts=E("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ns=E("srcset"),kd=R(ts,ns,E("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),E("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),xg=E("script,style,template");class Ag{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Bn.hasOwnProperty(u))return this.sanitizedSomething=!0,!xg.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let f=0;f<h.length;f++){const g=h.item(f),v=g.name,C=v.toLowerCase();if(!kd.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let I=g.value;ts[C]&&(I=m(I)),ns[C]&&(a=I,I=(a=String(a)).split(",").map(l=>m(l.trim())).join(", ")),this.buf.push(" ",v,'="',mf(I),'"')}var a;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Bn.hasOwnProperty(u)&&!U.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(mf(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const pf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gf=/([^\#-~ |!])/g;function mf(a){return a.replace(/&/g,"&amp;").replace(pf,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(gf,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ic;function _f(a,l){let u=null;try{Ic=Ic||function Dg(a){const l=new xy(a);return function G0(){try{return!!(new window.DOMParser).parseFromString(Cc(""),"text/html")}catch(a){return!1}}()?new Sg(l):l}(a);let h=l?String(l):"";u=Ic.getInertBodyElement(h);let f=5,g=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=g,g=u.innerHTML,u=Ic.getInertBodyElement(h)}while(h!==g);return Cc((new Ag).sanitizeChildren(Tu(u)||u))}finally{if(u){const h=Tu(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Tu(a){return"content"in a&&function Rd(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var mi=(()=>((mi=mi||{})[mi.NONE=0]="NONE",mi[mi.HTML=1]="HTML",mi[mi.STYLE=2]="STYLE",mi[mi.SCRIPT=3]="SCRIPT",mi[mi.URL=4]="URL",mi[mi.RESOURCE_URL=5]="RESOURCE_URL",mi))();function W0(a){const l=vf();return l?uf(l.sanitize(mi.HTML,a)||""):Al(a,"HTML")?uf(Ys(a)):_f(Vs(),we(a))}function Mg(a){const l=vf();return l?l.sanitize(mi.URL,a)||"":Al(a,"URL")?Ys(a):m(we(a))}function Iu(a){const l=vf();if(l)return Eg(l.sanitize(mi.RESOURCE_URL,a)||"");if(Al(a,"ResourceURL"))return Eg(Ys(a));throw new Ae(904,"")}function vf(){const a=Ne();return a&&a[12]}const Sa="__ngContext__";function yn(a,l){a[Sa]=l}function wf(a){const l=function xa(a){return a[Sa]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function Oy(a){return a.ngOriginalError}function Z0(a,...l){a.error(...l)}class Pg{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l),h=function q0(a){return a&&a.ngErrorLogger||Z0}(l);h(this._console,"ERROR",l),u&&h(this._console,"ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Oy(l);for(;u&&Oy(u);)u=Oy(u);return u||null}}const WS=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Zt))();function J0(a){return a.ownerDocument.defaultView}function Jo(a){return a instanceof Function?a():a}var Ma=(()=>((Ma=Ma||{})[Ma.Important=1]="Important",Ma[Ma.DashCase=2]="DashCase",Ma))();function Fg(a,l){return undefined(a,l)}function Ef(a){const l=a[3];return Yi(l)?l[3]:l}function Pd(a){return on(a[13])}function kl(a){return on(a[4])}function on(a){for(;null!==a&&!Yi(a);)a=a[4];return a}function Nd(a,l,u,h,f){if(null!=h){let g,v=!1;Yi(h)?g=h:or(h)&&(v=!0,h=h[0]);const C=Cn(h);0===a&&null!==u?null==f?rC(l,u,C):xu(l,u,C,f||null,!0):1===a&&null!==u?xu(l,u,C,f||null,!0):2===a?function aC(a,l,u){const h=zg(a,l);h&&function JS(a,l,u,h){kn(a)?a.removeChild(l,u,h):l.removeChild(u)}(a,h,l,u)}(l,C,v):3===a&&l.destroyNode(C),null!=g&&function jy(a,l,u,h,f){const g=u[7];g!==Cn(u)&&Nd(l,a,h,g,f);for(let C=10;C<u.length;C++){const I=u[C];Bd(I[1],I,a,l,h,g)}}(l,a,g,u,f)}}function Bg(a,l,u){if(kn(a))return a.createElement(l,u);{const h=null!==u?function ic(a){const l=a.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(u):null;return null===h?a.createElement(l):a.createElementNS(h,l)}}function Hg(a,l){const u=a[9],h=u.indexOf(l),f=l[3];1024&l[2]&&(l[2]&=-1025,_o(f,-1)),u.splice(h,1)}function Fd(a,l){if(a.length<=10)return;const u=10+l,h=a[u];if(h){const f=h[17];null!==f&&f!==a&&Hg(f,h),l>0&&(a[u-1][4]=h[4]);const g=yc(a,10+l);!function ZS(a,l){Bd(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const v=g[19];null!==v&&v.detachView(g[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function By(a,l){if(!(256&l[2])){const u=l[11];kn(u)&&u.destroyNode&&Bd(a,l,u,3,null,null),function nC(a){let l=a[13];if(!l)return jg(a[1],a);for(;l;){let u=null;if(or(l))u=l[13];else{const h=l[10];h&&(u=h)}if(!u){for(;l&&!l[4]&&l!==a;)or(l)&&jg(l[1],l),l=l[3];null===l&&(l=a),or(l)&&jg(l[1],l),u=l&&l[4]}l=u}}(l)}}function jg(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function QS(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const f=l[u[h]];if(!(f instanceof ya)){const g=u[h+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=f[g[v]],I=g[v+1];try{I.call(C)}finally{}}else try{g.call(f)}finally{}}}}(a,l),function KS(a,l){const u=a.cleanup,h=l[7];let f=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const v=u[g+1],C="function"==typeof v?v(l):Cn(l[v]),I=h[f=u[g+2]],x=u[g+3];"boolean"==typeof x?C.removeEventListener(u[g],I,x):x>=0?h[f=x]():h[f=-x].unsubscribe(),g+=2}else{const v=h[f=u[g+1]];u[g].call(v)}if(null!==h){for(let g=f+1;g<h.length;g++)h[g]();l[7]=null}}(a,l),1===l[1].type&&kn(l[11])&&l[11].destroy();const u=l[17];if(null!==u&&Yi(l[3])){u!==l[3]&&Hg(u,l);const h=l[19];null!==h&&h.detachView(a)}}}function iC(a,l,u){return function If(a,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[0];if(2&h.flags){const f=a.data[h.directiveStart].encapsulation;if(f===qt.None||f===qt.Emulated)return null}return Ai(h,u)}(a,l.parent,u)}function xu(a,l,u,h,f){kn(a)?a.insertBefore(l,u,h,f):l.insertBefore(u,h,f)}function rC(a,l,u){kn(a)?a.appendChild(l,u):l.appendChild(u)}function sC(a,l,u,h,f){null!==h?xu(a,l,u,h,f):rC(a,l,u)}function zg(a,l){return kn(a)?a.parentNode(l):l.parentNode}function Gg(a,l,u){return ka(a,l,u)}let ka=function $g(a,l,u){return 40&a.type?Ai(a,u):null};function Df(a,l,u,h){const f=iC(a,h,l),g=l[11],C=Gg(h.parent||l[6],h,l);if(null!=f)if(Array.isArray(u))for(let I=0;I<u.length;I++)sC(g,f,u[I],C,!1);else sC(g,f,u,C,!1)}function Wg(a,l){if(null!==l){const u=l.type;if(3&u)return Ai(l,a);if(4&u)return qg(-1,a[l.index]);if(8&u){const h=l.child;if(null!==h)return Wg(a,h);{const f=a[l.index];return Yi(f)?qg(-1,f):Cn(f)}}if(32&u)return Fg(l,a)()||Cn(a[l.index]);{const h=xo(a,l);return null!==h?Array.isArray(h)?h[0]:Wg(Ef(a[16]),h):Wg(a,l.next)}}return null}function xo(a,l){return null!==l?a[16][6].projection[l.projection]:null}function qg(a,l){const u=10+a+1;if(u<l.length){const h=l[u],f=h[1].firstChild;if(null!==f)return Wg(h,f)}return l[7]}function Ld(a,l,u,h,f,g,v){for(;null!=u;){const C=h[u.index],I=u.type;if(v&&0===l&&(C&&yn(Cn(C),h),u.flags|=4),64!=(64&u.flags))if(8&I)Ld(a,l,u.child,h,f,g,!1),Nd(l,a,f,C,g);else if(32&I){const x=Fg(u,h);let O;for(;O=x();)Nd(l,a,f,O,g);Nd(l,a,f,C,g)}else 16&I?Hy(a,l,h,u,f,g):Nd(l,a,f,C,g);u=v?u.projectionNext:u.next}}function Bd(a,l,u,h,f,g){Ld(u,h,a.firstChild,l,f,g,!1)}function Hy(a,l,u,h,f,g){const v=u[16],I=v[6].projection[h.projection];if(Array.isArray(I))for(let x=0;x<I.length;x++)Nd(l,a,f,I[x],g);else Ld(a,l,I,v[3],f,g,!0)}function lC(a,l,u){kn(a)?a.setAttribute(l,"style",u):l.style.cssText=u}function Au(a,l,u){kn(a)?""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u):l.className=u}function cC(a,l,u){let h=a.length;for(;;){const f=a.indexOf(l,u);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const g=l.length;if(f+g===h||a.charCodeAt(f+g)<=32)return f}u=f+1}}const uC="ng-template";function Zg(a,l,u){let h=0;for(;h<a.length;){let f=a[h++];if(u&&"class"===f){if(f=a[h],-1!==cC(f.toLowerCase(),l,0))return!0}else if(1===f){for(;h<a.length&&"string"==typeof(f=a[h++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function Vd(a){return 4===a.type&&a.value!==uC}function Gy(a,l,u){return l===(4!==a.type||u?a.value:uC)}function dC(a,l,u){let h=4;const f=a.attrs||[],g=function tx(a){for(let l=0;l<a.length;l++)if(Zn(a[l]))return l;return a.length}(f);let v=!1;for(let C=0;C<l.length;C++){const I=l[C];if("number"!=typeof I){if(!v)if(4&h){if(h=2|1&h,""!==I&&!Gy(a,I,u)||""===I&&1===l.length){if(Ao(h))return!1;v=!0}}else{const x=8&h?I:l[++C];if(8&h&&null!==a.attrs){if(!Zg(a.attrs,x,u)){if(Ao(h))return!1;v=!0}continue}const z=XS(8&h?"class":I,f,Vd(a),u);if(-1===z){if(Ao(h))return!1;v=!0;continue}if(""!==x){let ne;ne=z>g?"":f[z+1].toLowerCase();const pe=8&h?ne:null;if(pe&&-1!==cC(pe,x,0)||2&h&&x!==ne){if(Ao(h))return!1;v=!0}}}}else{if(!v&&!Ao(h)&&!Ao(I))return!1;if(v&&Ao(I))continue;v=!1,h=I|1&h}}return Ao(h)||v}function Ao(a){return 0==(1&a)}function XS(a,l,u,h){if(null===l)return-1;let f=0;if(h||!u){let g=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=l[++f];for(;"string"==typeof C;)C=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function nx(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,a)}function Yg(a,l,u=!1){for(let h=0;h<l.length;h++)if(dC(a,l[h],u))return!0;return!1}function hC(a,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(a.length===h.length){for(let f=0;f<a.length;f++)if(a[f]!==h[f])continue e;return!0}}return!1}function Sf(a,l){return a?":not("+l.trim()+")":l}function ix(a){let l=a[0],u=1,h=2,f="",g=!1;for(;u<a.length;){let v=a[u];if("string"==typeof v)if(2&h){const C=a[++u];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?f+="."+v:4&h&&(f+=" "+v);else""!==f&&!Ao(v)&&(l+=Sf(g,f),f=""),h=v,g=g||!Ao(h);u++}return""!==f&&(l+=Sf(g,f)),l}const Lt={};function Wy(a){fC(Yt(),Ne(),ki()+a,hl())}function fC(a,l,u,h){if(!h)if(3==(3&l[2])){const g=a.preOrderCheckHooks;null!==g&&zs(l,g,u)}else{const g=a.preOrderHooks;null!==g&&_l(l,g,0,u)}js(u)}function Kg(a,l){return a<<17|l<<2}function Ks(a){return a>>17&32767}function Pl(a){return 2|a}function Nl(a){return(131068&a)>>2}function qy(a,l){return-131069&a|l<<2}function Zy(a){return 1|a}function bC(a,l){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const f=u[h],g=u[h+1];if(-1!==g){const v=a.data[g];du(f),v.contentQueries(2,l[g],g)}}}function Mf(a,l,u,h,f,g,v,C,I,x){const O=l.blueprint.slice();return O[0]=f,O[2]=140|h,mo(O),O[3]=O[15]=a,O[8]=u,O[10]=v||a&&a[10],O[11]=C||a&&a[11],O[12]=I||a&&a[12]||null,O[9]=x||a&&a[9]||null,O[6]=g,O[16]=2==l.type?a[16]:O,O}function $d(a,l,u,h,f){let g=a.data[l];if(null===g)g=function iv(a,l,u,h,f){const g=yo(),v=lu(),I=a.data[l]=function _x(a,l,u,h,f,g){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,u,l,h,f);return null===a.firstChild&&(a.firstChild=I),null!==g&&(v?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(a,l,u,h,f),function fl(){return Et.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=h,g.attrs=f;const v=function dl(){const a=Et.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return ar(g,!0),g}function Wd(a,l,u,h){if(0===u)return-1;const f=l.length;for(let g=0;g<u;g++)l.push(h),a.blueprint.push(h),a.data.push(null);return f}function kf(a,l,u){$o(l);try{const h=a.viewQuery;null!==h&&Of(1,h,u);const f=a.template;null!==f&&CC(a,l,f,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&bC(a,l),a.staticViewQueries&&Of(2,a.viewQuery,u);const g=a.components;null!==g&&function gx(a,l){for(let u=0;u<l.length;u++)Sx(a,l[u])}(l,g)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[2]&=-5,_a()}}function qd(a,l,u,h){const f=l[2];if(256==(256&f))return;$o(l);const g=hl();try{mo(l),function uu(a){return Et.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&CC(a,l,u,2,h);const v=3==(3&f);if(!g)if(v){const x=a.preOrderCheckHooks;null!==x&&zs(l,x,null)}else{const x=a.preOrderHooks;null!==x&&_l(l,x,0,null),cc(l,0)}if(function kN(a){for(let l=Pd(a);null!==l;l=kl(l)){if(!l[2])continue;const u=l[9];for(let h=0;h<u.length;h++){const f=u[h],g=f[3];0==(1024&f[2])&&_o(g,1),f[2]|=1024}}}(l),function fv(a){for(let l=Pd(a);null!==l;l=kl(l))for(let u=10;u<l.length;u++){const h=l[u],f=h[1];_s(h)&&qd(f,h,f.template,h[8])}}(l),null!==a.contentQueries&&bC(a,l),!g)if(v){const x=a.contentCheckHooks;null!==x&&zs(l,x)}else{const x=a.contentHooks;null!==x&&_l(l,x,1),cc(l,1)}!function Af(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const f=u[h];if(f<0)js(~f);else{const g=f,v=u[++h],C=u[++h];pl(v,g),C(2,l[g])}}}finally{js(-1)}}(a,l);const C=a.components;null!==C&&function px(a,l){for(let u=0;u<l.length;u++)Mu(a,l[u])}(l,C);const I=a.viewQuery;if(null!==I&&Of(2,I,h),!g)if(v){const x=a.viewCheckHooks;null!==x&&zs(l,x)}else{const x=a.viewHooks;null!==x&&_l(l,x,2),cc(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),g||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,_o(l[3],-1))}finally{_a()}}function wC(a,l,u,h){const f=l[10],g=!hl(),v=ga(l);try{g&&!v&&f.begin&&f.begin(),v&&kf(a,l,h),qd(a,l,u,h)}finally{g&&!v&&f.end&&f.end()}}function CC(a,l,u,h,f){const g=ki(),v=2&h;try{js(-1),v&&l.length>20&&fC(a,l,20,hl()),u(h,f)}finally{js(g)}}function EC(a,l,u){if(nu(l)){const f=l.directiveEnd;for(let g=l.directiveStart;g<f;g++){const v=a.data[g];v.contentQueries&&v.contentQueries(1,u[g],g)}}}function rv(a,l,u){!au()||(function Cx(a,l,u,h){const f=u.directiveStart,g=u.directiveEnd;a.firstCreatePass||Qr(u,l),yn(h,l);const v=u.initialInputs;for(let C=f;C<g;C++){const I=a.data[C],x=Mr(I);x&&Zd(l,u,I);const O=Or(l,a,C,u);yn(O,l),null!==v&&OC(0,C-f,O,I,0,v),x&&(Mi(u.index,l)[8]=O)}}(a,l,u,Ai(u,l)),128==(128&u.flags)&&function MC(a,l,u){const h=u.directiveStart,f=u.directiveEnd,v=u.index,C=function _d(){return Et.lFrame.currentDirectiveIndex}();try{js(v);for(let I=h;I<f;I++){const x=a.data[I],O=l[I];Go(I),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&kC(x,O)}}finally{js(-1),Go(C)}}(a,l,u))}function sv(a,l,u=Ai){const h=l.localNames;if(null!==h){let f=l.index+1;for(let g=0;g<h.length;g+=2){const v=h[g+1],C=-1===v?u(l,a):a[v];a[f++]=C}}}function TC(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Rf(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Rf(a,l,u,h,f,g,v,C,I,x){const O=20+h,z=O+f,ne=function xN(a,l){const u=[];for(let h=0;h<l;h++)u.push(h<a?null:Lt);return u}(O,z),pe="function"==typeof x?x():x;return ne[1]={type:a,blueprint:ne,template:u,queries:null,viewQuery:C,declTNode:l,data:ne.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:pe,incompleteFirstPass:!1}}function lv(a,l,u,h){const f=mv(l);null===u?f.push(h):(f.push(u),a.firstCreatePass&&NC(a).push(h,f.length-1))}function IC(a,l,u){for(let h in a)if(a.hasOwnProperty(h)){const f=a[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(l,f):u[h]=[l,f]}return u}function Ts(a,l,u,h,f,g,v,C){const I=Ai(l,u);let O,x=l.inputs;!C&&null!=x&&(O=x[h])?(_v(a,u,O,h,f),ec(l)&&function bx(a,l){const u=Mi(l,a);16&u[2]||(u[2]|=64)}(u,l.index)):3&l.type&&(h=function vx(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),f=null!=v?v(f,l.value||"",h):f,kn(g)?g.setProperty(I,h,f):lt(h)||(I.setProperty?I.setProperty(h,f):I[h]=f))}function uv(a,l,u,h){let f=!1;if(au()){const g=function Ex(a,l,u){const h=a.directiveRegistry;let f=null;if(h)for(let g=0;g<h.length;g++){const v=h[g];Yg(u,v.selectors,!1)&&(f||(f=[]),yl(Qr(u,l),a,v.type),Mr(v)?(hr(a,u),f.unshift(v)):f.push(v))}return f}(a,l,u),v=null===h?null:{"":-1};if(null!==g){f=!0,Fl(u,a.data.length,g.length);for(let O=0;O<g.length;O++){const z=g[O];z.providersResolver&&z.providersResolver(z)}let C=!1,I=!1,x=Wd(a,l,g.length,null);for(let O=0;O<g.length;O++){const z=g[O];u.mergedAttrs=ai(u.mergedAttrs,z.hostAttrs),im(a,u,l,x,z),RC(x,z,v),null!==z.contentQueries&&(u.flags|=8),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(u.flags|=128);const ne=z.type.prototype;!C&&(ne.ngOnChanges||ne.ngOnInit||ne.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),C=!0),!I&&(ne.ngOnChanges||ne.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),I=!0),x++}!function yx(a,l){const h=l.directiveEnd,f=a.data,g=l.attrs,v=[];let C=null,I=null;for(let x=l.directiveStart;x<h;x++){const O=f[x],z=O.inputs,ne=null===g||Vd(l)?null:Ix(z,g);v.push(ne),C=IC(z,x,C),I=IC(O.outputs,x,I)}null!==C&&(C.hasOwnProperty("class")&&(l.flags|=16),C.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=C,l.outputs=I}(a,u)}v&&function Tx(a,l,u){if(l){const h=a.localNames=[];for(let f=0;f<l.length;f+=2){const g=u[l[f+1]];if(null==g)throw new Ae(-301,!1);h.push(l[f],g)}}}(u,h,v)}return u.mergedAttrs=ai(u.mergedAttrs,u.attrs),f}function AC(a,l,u,h,f,g){const v=g.hostBindings;if(v){let C=a.hostBindingOpCodes;null===C&&(C=a.hostBindingOpCodes=[]);const I=~l.index;(function wx(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(C)!=I&&C.push(I),C.push(h,f,v)}}function kC(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function hr(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function RC(a,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=a;Mr(l)&&(u[""]=a)}}function Fl(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function im(a,l,u,h,f){a.data[h]=f;const g=f.factory||(f.factory=kr(f.type)),v=new ya(g,Mr(f),null);a.blueprint[h]=v,u[h]=v,AC(a,l,0,h,Wd(a,u,f.hostVars,Lt),f)}function Zd(a,l,u){const h=Ai(l,a),f=TC(u),g=a[10],v=Yd(a,Mf(a,f,null,u.onPush?64:16,h,l,g,g.createRenderer(h,u),null,null));a[l.index]=v}function Ra(a,l,u,h,f,g){const v=Ai(a,l);!function dv(a,l,u,h,f,g,v){if(null==g)kn(a)?a.removeAttribute(l,f,u):l.removeAttribute(f);else{const C=null==v?we(g):v(g,h||"",f);kn(a)?a.setAttribute(l,f,C,u):u?l.setAttributeNS(u,f,C):l.setAttribute(f,C)}}(l[11],v,g,a.value,u,h,f)}function OC(a,l,u,h,f,g){const v=g[l];if(null!==v){const C=h.setInput;for(let I=0;I<v.length;){const x=v[I++],O=v[I++],z=v[I++];null!==C?h.setInput(u,z,x,O):u[O]=z}}}function Ix(a,l){let u=null,h=0;for(;h<l.length;){const f=l[h];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,a[f],l[h+1])),h+=2}else h+=2;else h+=4}return u}function hv(a,l,u,h){return new Array(a,!0,!1,l,null,0,h,u,null,null)}function Mu(a,l){const u=Mi(l,a);if(_s(u)){const h=u[1];80&u[2]?qd(h,u,h.template,u[8]):u[5]>0&&rm(u)}}function rm(a){for(let h=Pd(a);null!==h;h=kl(h))for(let f=10;f<h.length;f++){const g=h[f];if(1024&g[2]){const v=g[1];qd(v,g,v.template,g[8])}else g[5]>0&&rm(g)}const u=a[1].components;if(null!==u)for(let h=0;h<u.length;h++){const f=Mi(u[h],a);_s(f)&&f[5]>0&&rm(f)}}function Sx(a,l){const u=Mi(l,a),h=u[1];(function xx(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(h,u),kf(h,u,u[8])}function Yd(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function pv(a){for(;a;){a[2]|=64;const l=Ef(a);if(iu(a)&&!l)return a;a=l}return null}function sm(a,l,u){const h=l[10];h.begin&&h.begin();try{qd(a,l,a.template,u)}catch(f){throw om(l,f),f}finally{h.end&&h.end()}}function PC(a){!function gv(a){for(let l=0;l<a.components.length;l++){const u=a.components[l],h=wf(u),f=h[1];wC(f,h,f.template,u)}}(a[8])}function Of(a,l,u){du(0),l(a,u)}const Rx=(()=>Promise.resolve(null))();function mv(a){return a[7]||(a[7]=[])}function NC(a){return a.cleanup||(a.cleanup=[])}function Ox(a,l,u){return(null===a||Mr(a))&&(u=function sc(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[l.index])),u[11]}function om(a,l){const u=a[9],h=u?u.get(Pg,null):null;h&&h.handleError(l)}function _v(a,l,u,h,f){for(let g=0;g<u.length;){const v=u[g++],C=u[g++],I=l[v],x=a.data[v];null!==x.setInput?x.setInput(I,f,h,C):I[C]=f}}function Oa(a,l,u){const h=zo(l,a);!function eC(a,l,u){kn(a)?a.setValue(l,u):l.textContent=u}(a[11],h,u)}function Pa(a,l,u){let h=u?a.styles:null,f=u?a.classes:null,g=0;if(null!==l)for(let v=0;v<l.length;v++){const C=l[v];"number"==typeof C?g=C:1==g?f=de(f,C):2==g&&(h=de(h,C+": "+l[++v]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=f:a.classesWithoutHost=f}const yv=new li("INJECTOR",-1);class FC{get(l,u=Qo){if(u===Qo){const h=new Error(`NullInjectorError: No provider for ${ee(l)}!`);throw h.name="NullInjectorError",h}return u}}const vv=new li("Set Injector scope."),ea={},Mc={};let am;function Ji(){return void 0===am&&(am=new FC),am}function Ll(a,l=null,u=null,h){const f=LC(a,l,u,h);return f._resolveInjectorDefTypes(),f}function LC(a,l=null,u=null,h){return new Pf(a,u,l||Ji(),h)}class Pf{constructor(l,u,h,f=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];u&&wr(u,C=>this.processProvider(C,l,u)),wr([l],C=>this.processInjectorType(C,[],g)),this.records.set(yv,ku(void 0,this));const v=this.records.get(vv);this.scope=null!=v?v.value:null,this.source=f||("object"==typeof l?null:ee(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,u=Qo,h=wt.Default){this.assertNotDestroyed();const f=Da(this),g=mn(void 0);try{if(!(h&wt.SkipSelf)){let C=this.records.get(l);if(void 0===C){const I=function $C(a){return"function"==typeof a||"object"==typeof a&&a instanceof li}(l)&&Vn(l);C=I&&this.injectableDefInScope(I)?ku(lm(l),ea):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(h&wt.Self?Ji():this.parent).get(l,u=h&wt.Optional&&u===Qo?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Cr]=v[Cr]||[]).unshift(ee(l)),f)throw v;return function Ue(a,l,u,h){const f=a[Cr];throw l[bu]&&f.unshift(l[bu]),a.message=function Je(a,l,u,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let f=ee(l);if(Array.isArray(l))f=l.map(ee).join(" -> ");else if("object"==typeof l){let g=[];for(let v in l)if(l.hasOwnProperty(v)){let C=l[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):ee(C)))}f=`{${g.join(", ")}}`}return`${u}${h?"("+h+")":""}[${f}]: ${a.replace(Zs,"\n  ")}`}("\n"+a.message,f,u,h),a.ngTokenPath=f,a[Cr]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{mn(g),Da(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((h,f)=>l.push(ee(f))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processInjectorType(l,u,h){if(!(l=$(l)))return!1;let f=Rs(l);const g=null==f&&l.ngModule||void 0,v=void 0===g?l:g,C=-1!==h.indexOf(v);if(void 0!==g&&(f=Rs(g)),null==f)return!1;if(null!=f.imports&&!C){let O;h.push(v);try{wr(f.imports,z=>{this.processInjectorType(z,u,h)&&(void 0===O&&(O=[]),O.push(z))})}finally{}if(void 0!==O)for(let z=0;z<O.length;z++){const{ngModule:ne,providers:pe}=O[z];wr(pe,xe=>this.processProvider(xe,ne,pe||vt))}}this.injectorDefTypes.add(v);const I=kr(v)||(()=>new v);this.records.set(v,ku(I,ea));const x=f.providers;if(null!=x&&!C){const O=l;wr(x,z=>this.processProvider(z,O,x))}return void 0!==g&&void 0!==l.providers}processProvider(l,u,h){let f=Bl(l=$(l))?l:$(l&&l.provide);const g=function VC(a,l,u){return wv(a)?ku(void 0,a.useValue):ku(bv(a),ea)}(l);if(Bl(l)||!0!==l.multi)this.records.get(f);else{let v=this.records.get(f);v||(v=ku(void 0,ea,!0),v.factory=()=>Z(v.multi),this.records.set(f,v)),f=l,v.multi.push(l)}this.records.set(f,g)}hydrate(l,u){return u.value===ea&&(u.value=Mc,u.value=u.factory()),"object"==typeof u.value&&u.value&&function GC(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=$(l.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function lm(a){const l=Vn(a),u=null!==l?l.factory:kr(a);if(null!==u)return u;if(a instanceof li)throw new Ae(204,!1);if(a instanceof Function)return function BC(a){const l=a.length;if(l>0)throw Ca(l,"?"),new Ae(204,!1);const u=function $i(a){const l=a&&(a[Dr]||a[Xn]);if(l){const u=function Gn(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Ae(204,!1)}function bv(a,l,u){let h;if(Bl(a)){const f=$(a);return kr(f)||lm(f)}if(wv(a))h=()=>$(a.useValue);else if(function HC(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...Z(a.deps||[]));else if(function UC(a){return!(!a||!a.useExisting)}(a))h=()=>D($(a.useExisting));else{const f=$(a&&(a.useClass||a.provide));if(!function zC(a){return!!a.deps}(a))return kr(f)||lm(f);h=()=>new f(...Z(a.deps))}return h}function ku(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function wv(a){return null!==a&&"object"==typeof a&&Ia in a}function Bl(a){return"function"==typeof a}let Na=(()=>{class a{static create(u,h){var f;if(Array.isArray(u))return Ll({name:""},h,u,"");{const g=null!==(f=u.name)&&void 0!==f?f:"";return Ll({name:g},u.parent,u.providers,g)}}}return a.THROW_IF_NOT_FOUND=Qo,a.NULL=new FC,a.\u0275prov=rn({token:a,providedIn:"any",factory:()=>D(yv)}),a.__NG_ELEMENT_ID__=-1,a})();function NN(a,l){ml(wf(a)[1],qn())}function eE(a){let l=function Ux(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;l;){let f;if(Mr(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ae(903,"");f=l.\u0275dir}if(f){if(u){h.push(f);const v=a;v.inputs=hm(a.inputs),v.declaredInputs=hm(a.declaredInputs),v.outputs=hm(a.outputs);const C=f.hostBindings;C&&Gx(a,C);const I=f.viewQuery,x=f.contentQueries;if(I&&jx(a,I),x&&zx(a,x),Y(a.inputs,f.inputs),Y(a.declaredInputs,f.declaredInputs),Y(a.outputs,f.outputs),Mr(f)&&f.data.animation){const O=a.data;O.animation=(O.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(a),C===eE&&(u=!1)}}l=Object.getPrototypeOf(l)}!function Hx(a){let l=0,u=null;for(let h=a.length-1;h>=0;h--){const f=a[h];f.hostVars=l+=f.hostVars,f.hostAttrs=ai(f.hostAttrs,u=ai(u,f.hostAttrs))}}(h)}function hm(a){return a===An?{}:a===vt?[]:a}function jx(a,l){const u=a.viewQuery;a.viewQuery=u?(h,f)=>{l(h,f),u(h,f)}:l}function zx(a,l){const u=a.contentQueries;a.contentQueries=u?(h,f,g)=>{l(h,f,g),u(h,f,g)}:l}function Gx(a,l){const u=a.hostBindings;a.hostBindings=u?(h,f)=>{l(h,f),u(h,f)}:l}let Ru=null;function Qd(){if(!Ru){const a=Zt.Symbol;if(a&&a.iterator)Ru=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const h=l[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Ru=h)}}}return Ru}function kc(a){return!!gm(a)&&(Array.isArray(a)||!(a instanceof Map)&&Qd()in a)}function gm(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function La(a,l,u){return a[l]=u}function Fr(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function Xd(a,l,u,h){const f=Fr(a,l,u);return Fr(a,l+1,h)||f}function tE(a,l,u,h){const f=Ne();return Fr(f,ys(),l)&&(Yt(),Ra(ii(),f,a,l,u,h)),tE}function eh(a,l,u,h){return Fr(a,ys(),u)?l+we(u)+h:Lt}function Mv(a,l,u,h,f,g,v,C){const I=Ne(),x=Yt(),O=a+20,z=x.firstCreatePass?function bm(a,l,u,h,f,g,v,C,I){const x=l.consts,O=$d(l,a,4,v||null,vr(x,C));uv(l,u,O,vr(x,I)),ml(l,O);const z=O.tViews=Rf(2,O,h,f,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,x);return null!==l.queries&&(l.queries.template(l,O),z.queries=l.queries.embeddedTView(O)),O}(O,x,I,l,u,h,f,g,v):x.data[O];ar(z,!1);const ne=I[11].createComment("");Df(x,I,ne,z),yn(ne,I),Yd(I,I[O]=hv(ne,I,ne,z)),fo(z)&&rv(x,I,z),null!=v&&sv(I,z,C)}function kv(a){return Us(function gd(){return Et.lFrame.contextLView}(),20+a)}function Gf(a,l=wt.Default){const u=Ne();return null===u?D(a,l):Jr(qn(),u,$(a),l)}function Em(){throw new Error("invalid")}function Bv(a,l,u){const h=Ne();return Fr(h,ys(),l)&&Ts(Yt(),ii(),h,a,l,h[11],u,!1),Bv}function Vv(a,l,u,h,f){const v=f?"class":"style";_v(a,u,l.inputs[v],v,h)}function Tm(a,l,u,h){const f=Ne(),g=Yt(),v=20+a,C=f[11],I=f[v]=Bg(C,l,function vd(){return Et.lFrame.currentNamespace}()),x=g.firstCreatePass?function pE(a,l,u,h,f,g,v){const C=l.consts,x=$d(l,a,2,f,vr(C,g));return uv(l,u,x,vr(C,v)),null!==x.attrs&&Pa(x,x.attrs,!1),null!==x.mergedAttrs&&Pa(x,x.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,x),x}(v,g,f,0,l,u,h):g.data[v];ar(x,!0);const O=x.mergedAttrs;null!==O&&$n(C,I,O);const z=x.classes;null!==z&&Au(C,I,z);const ne=x.styles;return null!==ne&&lC(C,I,ne),64!=(64&x.flags)&&Df(g,f,I,x),0===function al(){return Et.lFrame.elementDepthCount}()&&yn(I,f),function fd(){Et.lFrame.elementDepthCount++}(),fo(x)&&(rv(g,f,x),EC(g,x,f)),null!==h&&sv(f,x),Tm}function Uv(){let a=qn();lu()?cu():(a=a.parent,ar(a,!1));const l=a;!function ll(){Et.lFrame.elementDepthCount--}();const u=Yt();return u.firstCreatePass&&(ml(u,a),nu(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Cd(a){return 0!=(16&a.flags)}(l)&&Vv(u,l,Ne(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function fg(a){return 0!=(32&a.flags)}(l)&&Vv(u,l,Ne(),l.stylesWithoutHost,!1),Uv}function $f(a,l,u,h){return Tm(a,l,u,h),Uv(),$f}function Im(a,l,u){const h=Ne(),f=Yt(),g=a+20,v=f.firstCreatePass?function gE(a,l,u,h,f){const g=l.consts,v=vr(g,h),C=$d(l,a,8,"ng-container",v);return null!==v&&Pa(C,v,!0),uv(l,u,C,vr(g,f)),null!==l.queries&&l.queries.elementStart(l,C),C}(g,f,h,l,u):f.data[g];ar(v,!0);const C=h[g]=h[11].createComment("");return Df(f,h,C,v),yn(C,h),fo(v)&&(rv(f,h,v),EC(f,v,h)),null!=u&&sv(h,v),Im}function Wf(){let a=qn();const l=Yt();return lu()?cu():(a=a.parent,ar(a,!1)),l.firstCreatePass&&(ml(l,a),nu(a)&&l.queries.elementEnd(a)),Wf}function mE(){return Ne()}function Dm(a){return!!a&&"function"==typeof a.then}function _E(a){return!!a&&"function"==typeof a.subscribe}const Hv=_E;function jv(a,l,u,h){const f=Ne(),g=Yt(),v=qn();return Sm(g,f,f[11],v,a,l,!!u,h),jv}function zv(a,l){const u=qn(),h=Ne(),f=Yt();return Sm(f,h,Ox(ac(f.data),u,h),u,a,l,!1),zv}function Sm(a,l,u,h,f,g,v,C){const I=fo(h),O=a.firstCreatePass&&NC(a),z=l[8],ne=mv(l);let pe=!0;if(3&h.type||C){const nt=Ai(h,l),dt=C?C(nt):nt,Ve=ne.length,Tt=C?an=>C(Cn(an[h.index])):h.index;if(kn(u)){let an=null;if(!C&&I&&(an=function Gv(a,l,u,h){const f=a.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===u&&f[g+1]===h){const C=l[7],I=f[g+2];return C.length>I?C[I]:null}"string"==typeof v&&(g+=2)}return null}(a,l,f,h.index)),null!==an)(an.__ngLastListenerFn__||an).__ngNextListenerFn__=g,an.__ngLastListenerFn__=g,pe=!1;else{g=xm(h,l,z,g,!1);const Tn=u.listen(dt,f,g);ne.push(g,Tn),O&&O.push(f,Tt,Ve,Ve+1)}}else g=xm(h,l,z,g,!0),dt.addEventListener(f,g,v),ne.push(g),O&&O.push(f,Tt,Ve,v)}else g=xm(h,l,z,g,!1);const xe=h.outputs;let We;if(pe&&null!==xe&&(We=xe[f])){const nt=We.length;if(nt)for(let dt=0;dt<nt;dt+=2){const no=l[We[dt]][We[dt+1]].subscribe(g),Ga=ne.length;ne.push(g,no),O&&O.push(f,h.index,Ga,-(Ga+1))}}}function yE(a,l,u,h){try{return!1!==u(h)}catch(f){return om(a,f),!1}}function xm(a,l,u,h,f){return function g(v){if(v===Function)return h;const C=2&a.flags?Mi(a.index,l):l;0==(32&l[2])&&pv(C);let I=yE(l,0,h,v),x=g.__ngNextListenerFn__;for(;x;)I=yE(l,0,x,v)&&I,x=x.__ngNextListenerFn__;return f&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function vE(a=1){return function vs(a){return(Et.lFrame.contextLView=function tf(a,l){for(;a>0;)l=l[15],a--;return l}(a,Et.lFrame.contextLView))[8]}(a)}function bE(a,l){let u=null;const h=function ex(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let f=0;f<l.length;f++){const g=l[f];if("*"!==g){if(null===h?Yg(a,g,!0):hC(h,g))return f}else u=f}return u}function wE(a){const l=Ne()[16][6];if(!l.projection){const h=l.projection=Ca(a?a.length:1,null),f=h.slice();let g=l.child;for(;null!==g;){const v=a?bE(g,a):0;null!==v&&(f[v]?f[v].projectionNext=g:h[v]=g,f[v]=g),g=g.next}}}function $v(a,l=0,u){const h=Ne(),f=Yt(),g=$d(f,20+a,16,null,u||null);null===g.projection&&(g.projection=l),cu(),64!=(64&g.flags)&&function Uy(a,l,u){Hy(l[11],0,l,u,iC(a,u,l),Gg(u.parent||l[6],u,l))}(f,h,g)}function Wv(a,l,u){return Am(a,"",l,"",u),Wv}function Am(a,l,u,h,f){const g=Ne(),v=eh(g,l,u,h);return v!==Lt&&Ts(Yt(),ii(),g,a,v,g[11],f,!1),Am}function Va(a,l,u,h,f){const g=a[u+1],v=null===l;let C=h?Ks(g):Nl(g),I=!1;for(;0!==C&&(!1===I||v);){const O=a[C+1];aA(a[C],l)&&(I=!0,a[C+1]=h?Zy(O):Pl(O)),C=h?Ks(O):Nl(O)}I&&(a[u+1]=h?Pl(g):Zy(g))}function aA(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Cs(a,l)>=0}const Xi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function IE(a){return a.substring(Xi.key,Xi.keyEnd)}function Kv(a,l){const u=Xi.textEnd;return u===l?-1:(l=Xi.keyEnd=function xE(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,Xi.key=l,u),ih(a,l,u))}function ih(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function qf(a,l,u){return Ro(a,l,u,!1),qf}function Zf(a,l){return Ro(a,l,null,!0),Zf}function Xs(a,l){for(let u=function DE(a){return function SE(a){Xi.key=0,Xi.keyEnd=0,Xi.value=0,Xi.valueEnd=0,Xi.textEnd=a.length}(a),Kv(a,ih(a,0,Xi.textEnd))}(l);u>=0;u=Kv(l,u))ui(a,IE(l),!0)}function Ro(a,l,u,h){const f=Ne(),g=Yt(),v=Hs(2);g.firstUpdatePass&&dA(g,a,v,h),l!==Lt&&Fr(f,v,l)&&Xv(g,g.data[ki()],f,f[11],a,f[v+1]=function PE(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=ee(Ys(a)))),a}(l,u),h,v)}function kE(a,l){return l>=a.expandoStartIndex}function dA(a,l,u,h){const f=a.data;if(null===f[u+1]){const g=f[ki()],v=kE(a,u);NE(g,h)&&null===l&&!v&&(l=!1),l=function jN(a,l,u,h){const f=ac(a);let g=h?l.residualClasses:l.residualStyles;if(null===f)0===(h?l.classBindings:l.styleBindings)&&(u=km(u=RE(null,a,l,u,h),l.attrs,h),g=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(u=RE(f,a,l,u,h),null===g){let I=function zN(a,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==Nl(h))return a[Ks(h)]}(a,l,h);void 0!==I&&Array.isArray(I)&&(I=RE(null,a,l,I[1],h),I=km(I,l.attrs,h),function GN(a,l,u,h){a[Ks(u?l.classBindings:l.styleBindings)]=h}(a,l,h,I))}else g=function $N(a,l,u){let h;const f=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<f;g++)h=km(h,a[g].hostAttrs,u);return km(h,l.attrs,u)}(a,l,h)}return void 0!==g&&(h?l.residualClasses=g:l.residualStyles=g),u}(f,g,l,h),function EE(a,l,u,h,f,g){let v=g?l.classBindings:l.styleBindings,C=Ks(v),I=Nl(v);a[h]=u;let O,x=!1;if(Array.isArray(u)){const z=u;O=z[1],(null===O||Cs(z,O)>0)&&(x=!0)}else O=u;if(f)if(0!==I){const ne=Ks(a[C+1]);a[h+1]=Kg(ne,C),0!==ne&&(a[ne+1]=qy(a[ne+1],h)),a[C+1]=function sx(a,l){return 131071&a|l<<17}(a[C+1],h)}else a[h+1]=Kg(C,0),0!==C&&(a[C+1]=qy(a[C+1],h)),C=h;else a[h+1]=Kg(I,0),0===C?C=h:a[I+1]=qy(a[I+1],h),I=h;x&&(a[h+1]=Pl(a[h+1])),Va(a,O,h,!0),Va(a,O,h,!1),function TE(a,l,u,h,f){const g=f?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof l&&Cs(g,l)>=0&&(u[h+1]=Zy(u[h+1]))}(l,O,a,h,g),v=Kg(C,I),g?l.classBindings=v:l.styleBindings=v}(f,g,l,u,v,h)}}function RE(a,l,u,h,f){let g=null;const v=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<v&&(g=l[C],h=km(h,g.hostAttrs,f),g!==a);)C++;return null!==a&&(u.directiveStylingLast=C),h}function km(a,l,u){const h=u?1:2;let f=-1;if(null!==l)for(let g=0;g<l.length;g++){const v=l[g];"number"==typeof v?f=v:f===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),ui(a,v,!!u||l[++g]))}return void 0===a?null:a}function Xv(a,l,u,h,f,g,v,C){if(!(3&l.type))return;const I=a.data,x=I[C+1];sh(function gC(a){return 1==(1&a)}(x)?Rm(I,l,u,f,Nl(x),v):void 0)||(sh(g)||function Ol(a){return 2==(2&a)}(x)&&(g=Rm(I,null,u,f,C,v)),function zy(a,l,u,h,f){const g=kn(a);if(l)f?g?a.addClass(u,h):u.classList.add(h):g?a.removeClass(u,h):u.classList.remove(h);else{let v=-1===h.indexOf("-")?void 0:Ma.DashCase;if(null==f)g?a.removeStyle(u,h,v):u.style.removeProperty(h);else{const C="string"==typeof f&&f.endsWith("!important");C&&(f=f.slice(0,-10),v|=Ma.Important),g?a.setStyle(u,h,f,v):u.style.setProperty(h,f,C?"important":"")}}}(h,v,zo(ki(),u),f,g))}function Rm(a,l,u,h,f,g){const v=null===l;let C;for(;f>0;){const I=a[f],x=Array.isArray(I),O=x?I[1]:I,z=null===O;let ne=u[f+1];ne===Lt&&(ne=z?vt:void 0);let pe=z?Eo(ne,h):O===h?ne:void 0;if(x&&!sh(pe)&&(pe=Eo(I,h)),sh(pe)&&(C=pe,v))return C;const xe=a[f+1];f=v?Ks(xe):Nl(xe)}if(null!==l){let I=g?l.residualClasses:l.residualStyles;null!=I&&(C=Eo(I,h))}return C}function sh(a){return void 0!==a}function NE(a,l){return 0!=(a.flags&(l?16:32))}function Om(a,l=""){const u=Ne(),h=Yt(),f=a+20,g=h.firstCreatePass?$d(h,f,1,l,null):h.data[f],v=u[f]=function Rl(a,l){return kn(a)?a.createText(l):a.createTextNode(l)}(u[11],l);Df(h,u,v,g),ar(g,!1)}function eb(a){return tb("",a,""),eb}function tb(a,l,u){const h=Ne(),f=eh(h,a,l,u);return f!==Lt&&Oa(h,ki(),f),tb}function UE(a,l,u){!function Oo(a,l,u,h){const f=Yt(),g=Hs(2);f.firstUpdatePass&&dA(f,null,g,h);const v=Ne();if(u!==Lt&&Fr(v,g,u)){const C=f.data[ki()];if(NE(C,h)&&!kE(f,g)){let I=h?C.classesWithoutHost:C.stylesWithoutHost;null!==I&&(u=de(I,u||"")),Vv(f,C,v,u,h)}else!function hA(a,l,u,h,f,g,v,C){f===Lt&&(f=vt);let I=0,x=0,O=0<f.length?f[0]:null,z=0<g.length?g[0]:null;for(;null!==O||null!==z;){const ne=I<f.length?f[I+1]:void 0,pe=x<g.length?g[x+1]:void 0;let We,xe=null;O===z?(I+=2,x+=2,ne!==pe&&(xe=z,We=pe)):null===z||null!==O&&O<z?(I+=2,xe=O):(x+=2,xe=z,We=pe),null!==xe&&Xv(a,l,u,h,xe,We,v,C),O=I<f.length?f[I]:null,z=x<g.length?g[x]:null}}(f,C,v,v[11],v[g+1],v[g+1]=function WN(a,l,u){if(null==u||""===u)return vt;const h=[],f=Ys(u);if(Array.isArray(f))for(let g=0;g<f.length;g++)a(h,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&a(h,g,f[g]);else"string"==typeof f&&l(h,f);return h}(a,l,u),h,g)}}(ui,Xs,eh(Ne(),a,l,u),!0)}function rb(a,l,u){const h=Ne();return Fr(h,ys(),l)&&Ts(Yt(),ii(),h,a,l,h[11],u,!0),rb}function sb(a,l,u){const h=Ne();if(Fr(h,ys(),l)){const g=Yt(),v=ii();Ts(g,v,h,a,l,Ox(ac(g.data),v,h),u,!0)}return sb}const Fu=void 0;var OA=["en",[["a","p"],["AM","PM"],Fu],[["AM","PM"],Fu,Fu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fu,"{1} 'at' {0}",Fu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function RA(a){const u=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let Lu={};function ob(a){const l=function PA(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=QE(l);if(u)return u;const h=l.split("-")[0];if(u=QE(h),u)return u;if("en"===h)return OA;throw new Error(`Missing locale data for the locale "${a}".`)}function KE(a){return ob(a)[xt.PluralCase]}function QE(a){return a in Lu||(Lu[a]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[a]),Lu[a]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const Pm="en-US";let tr=Pm;function hT(a,l,u,h,f){if(a=$(a),Array.isArray(a))for(let g=0;g<a.length;g++)hT(a[g],l,u,h,f);else{const g=Yt(),v=Ne();let C=Bl(a)?a:$(a.provide),I=bv(a);const x=qn(),O=1048575&x.providerIndexes,z=x.directiveStart,ne=x.providerIndexes>>20;if(Bl(a)||!a.multi){const pe=new ya(I,f,Gf),xe=gT(C,l,f?O:O+ne,z);-1===xe?(yl(Qr(x,v),g,C),fT(g,a,l.length),l.push(C),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),u.push(pe),v.push(pe)):(u[xe]=pe,v[xe]=pe)}else{const pe=gT(C,l,O+ne,z),xe=gT(C,l,O,O+ne),We=pe>=0&&u[pe],nt=xe>=0&&u[xe];if(f&&!nt||!f&&!We){yl(Qr(x,v),g,C);const dt=function uF(a,l,u,h,f){const g=new ya(a,u,Gf);return g.multi=[],g.index=l,g.componentProviders=0,pT(g,f,h&&!u),g}(f?cF:lF,u.length,f,h,I);!f&&nt&&(u[xe].providerFactory=dt),fT(g,a,l.length,0),l.push(C),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),u.push(dt),v.push(dt)}else fT(g,a,pe>-1?pe:xe,pT(u[f?xe:pe],I,!f&&h));!f&&h&&nt&&u[xe].componentProviders++}}}function fT(a,l,u,h){const f=Bl(l),g=function jC(a){return!!a.useClass}(l);if(f||g){const I=(g?$(l.useClass):l).prototype.ngOnDestroy;if(I){const x=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const O=x.indexOf(u);-1===O?x.push(u,[h,I]):x[O+1].push(h,I)}else x.push(u,I)}}}function pT(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function gT(a,l,u,h){for(let f=u;f<h;f++)if(l[f]===a)return f;return-1}function lF(a,l,u,h){return mT(this.multi,[])}function cF(a,l,u,h){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Or(u,u[1],this.providerFactory.index,h);g=C.slice(0,v),mT(f,g);for(let I=v;I<C.length;I++)g.push(C[I])}else g=[],mT(f,g);return g}function mT(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function nM(a,l=[]){return u=>{u.providersResolver=(h,f)=>function aF(a,l,u){const h=Yt();if(h.firstCreatePass){const f=Mr(a);hT(u,h.data,h.blueprint,f,!0),hT(l,h.data,h.blueprint,f,!1)}}(h,f?f(a):a,l)}}class iM{}class hF{resolveComponentFactory(l){throw function rM(a){const l=Error(`No component factory found for ${ee(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let gb=(()=>{class a{}return a.NULL=new hF,a})();function _T(){return tp(qn(),Ne())}function tp(a,l){return new Zm(Ai(a,l))}let Zm=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=_T,a})();function fF(a){return a instanceof Zm?a.nativeElement:a}class oM{}let pF=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function mF(){const a=Ne(),u=Mi(qn().index,a);return function gF(a){return a[11]}(or(u)?u:a)}(),a})(),_F=(()=>{class a{}return a.\u0275prov=rn({token:a,providedIn:"root",factory:()=>null}),a})();class aM{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const lM=new aM("13.3.5"),yT={};function mb(a,l,u,h,f=!1){for(;null!==u;){const g=l[u.index];if(null!==g&&h.push(Cn(g)),Yi(g))for(let C=10;C<g.length;C++){const I=g[C],x=I[1].firstChild;null!==x&&mb(I[1],I,x,h)}const v=u.type;if(8&v)mb(a,l,u.child,h);else if(32&v){const C=Fg(u,l);let I;for(;I=C();)h.push(I)}else if(16&v){const C=xo(l,u);if(Array.isArray(C))h.push(...C);else{const I=Ef(l[16]);mb(I[1],I,C,h,!0)}}u=f?u.projectionNext:u.next}return h}class Ym{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return mb(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Yi(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(Fd(l,h),yc(u,h))}this._attachedToViewContainer=!1}By(this._lView[1],this._lView)}onDestroy(l){lv(this._lView[1],this._lView,null,l)}markForCheck(){pv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){sm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Mx(a,l,u){ma(!0);try{sm(a,l,u)}finally{ma(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Tf(a,l){Bd(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ae(902,"");this._appRef=l}}class yF extends Ym{constructor(l){super(l),this._view=l}detectChanges(){PC(this._view)}checkNoChanges(){!function kx(a){ma(!0);try{PC(a)}finally{ma(!1)}}(this._view)}get context(){return null}}class cM extends gb{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=ft(l);return new vT(u,this.ngModule)}}function uM(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class vT extends iM{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function $y(a){return a.map(ix).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return uM(this.componentDef.inputs)}get outputs(){return uM(this.componentDef.outputs)}create(l,u,h,f){const g=(f=f||this.ngModule)?function bF(a,l){return{get:(u,h,f)=>{const g=a.get(u,yT,f);return g!==yT||h===yT?g:l.get(u,h,f)}}}(l,f.injector):l,v=g.get(oM,rl),C=g.get(_F,null),I=v.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",O=h?function av(a,l,u){if(kn(a))return a.selectRootElement(l,u===qt.ShadowDom);let h="string"==typeof l?a.querySelector(l):l;return h.textContent="",h}(I,h,this.componentDef.encapsulation):Bg(v.createRenderer(null,this.componentDef),x,function vF(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(x)),z=this.componentDef.onPush?576:528,ne=function Vx(a,l){return{components:[],scheduler:a||WS,clean:Rx,playerHandler:l||null,flags:0}}(),pe=Rf(0,null,null,1,0,null,null,null,null,null),xe=Mf(null,pe,ne,z,null,null,v,I,C,g);let We,nt;$o(xe);try{const dt=function XC(a,l,u,h,f,g){const v=u[1];u[20]=a;const I=$d(v,20,2,"#host",null),x=I.mergedAttrs=l.hostAttrs;null!==x&&(Pa(I,x,!0),null!==a&&($n(f,a,x),null!==I.classes&&Au(f,a,I.classes),null!==I.styles&&lC(f,a,I.styles)));const O=h.createRenderer(a,l),z=Mf(u,TC(l),null,l.onPush?64:16,u[20],I,h,O,g||null,null);return v.firstCreatePass&&(yl(Qr(I,u),v,l.type),hr(v,I),Fl(I,u.length,1)),Yd(u,z),u[20]=z}(O,this.componentDef,xe,v,I);if(O)if(h)$n(I,O,["ng-version",lM.full]);else{const{attrs:Ve,classes:Tt}=function rx(a){const l=[],u=[];let h=1,f=2;for(;h<a.length;){let g=a[h];if("string"==typeof g)2===f?""!==g&&l.push(g,a[++h]):8===f&&u.push(g);else{if(!Ao(f))break;f=g}h++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Ve&&$n(I,O,Ve),Tt&&Tt.length>0&&Au(I,O,Tt.join(" "))}if(nt=ni(pe,20),void 0!==u){const Ve=nt.projection=[];for(let Tt=0;Tt<this.ngContentSelectors.length;Tt++){const an=u[Tt];Ve.push(null!=an?Array.from(an):null)}}We=function Bx(a,l,u,h,f){const g=u[1],v=function xC(a,l,u){const h=qn();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),im(a,h,l,Wd(a,l,1,null),u));const f=Or(l,a,h.directiveStart,h);yn(f,l);const g=Ai(h,l);return g&&yn(g,l),f}(g,u,l);if(h.components.push(v),a[8]=v,f&&f.forEach(I=>I(v,l)),l.contentQueries){const I=qn();l.contentQueries(1,v,I.directiveStart)}const C=qn();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(js(C.index),AC(u[1],C,0,C.directiveStart,C.directiveEnd,l),kC(l,v)),v}(dt,this.componentDef,xe,ne,[NN]),kf(pe,xe,null)}finally{_a()}return new CF(this.componentType,We,tp(nt,xe),xe,nt)}}class CF extends class dF{}{constructor(l,u,h,f,g){super(),this.location=h,this._rootLView=f,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new yF(f),this.componentType=l}get injector(){return new wa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class uh{}class bT{}const np=new Map;class fM extends uh{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new cM(this);const h=Gt(l);this._bootstrapComponents=Jo(h.bootstrap),this._r3Injector=LC(l,u,[{provide:uh,useValue:this},{provide:gb,useValue:this.componentFactoryResolver}],ee(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,u=Na.THROW_IF_NOT_FOUND,h=wt.Default){return l===Na||l===uh||l===yv?this:this._r3Injector.get(l,u,h)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class wT extends bT{constructor(l){super(),this.moduleType=l,null!==Gt(l)&&function TF(a){const l=new Set;!function u(h){const f=Gt(h,!0),g=f.id;null!==g&&(function dM(a,l,u){if(l&&l!==u)throw new Error(`Duplicate module registered for ${a} - ${ee(l)} vs ${ee(l.name)}`)}(g,np.get(g),h),np.set(g,h));const v=Jo(f.imports);for(const C of v)l.has(C)||(l.add(C),u(C))}(a)}(l)}create(l){return new fM(this.moduleType,l)}}function pM(a,l,u){const h=Ei()+a,f=Ne();return f[h]===Lt?La(f,h,u?l.call(u):l()):function Jd(a,l){return a[l]}(f,h)}function gM(a,l,u,h){return yM(Ne(),Ei(),a,l,u,h)}function mM(a,l,u,h,f){return vM(Ne(),Ei(),a,l,u,h,f)}function _M(a,l,u,h,f,g,v){return function wM(a,l,u,h,f,g,v,C,I){const x=l+u;return function Qs(a,l,u,h,f,g){const v=Xd(a,l,u,h);return Xd(a,l+2,f,g)||v}(a,x,f,g,v,C)?La(a,x+4,I?h.call(I,f,g,v,C):h(f,g,v,C)):Km(a,x+4)}(Ne(),Ei(),a,l,u,h,f,g,v)}function Km(a,l){const u=a[l];return u===Lt?void 0:u}function yM(a,l,u,h,f,g){const v=l+u;return Fr(a,v,f)?La(a,v+1,g?h.call(g,f):h(f)):Km(a,v+1)}function vM(a,l,u,h,f,g,v){const C=l+u;return Xd(a,C,f,g)?La(a,C+2,v?h.call(v,f,g):h(f,g)):Km(a,C+2)}function EM(a,l){const u=Yt();let h;const f=a+20;u.firstCreatePass?(h=function kF(a,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(a===h.name)return h}}(l,u.pipeRegistry),u.data[f]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,h.onDestroy)):h=u.data[f];const g=h.factory||(h.factory=kr(h.type)),v=mn(Gf);try{const C=pt(!1),I=g();return pt(C),function iE(a,l,u,h){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=h}(u,Ne(),f,I),I}finally{mn(v)}}function TM(a,l,u){const h=a+20,f=Ne(),g=Us(f,h);return Qm(f,h)?yM(f,Ei(),l,g.transform,u,g):g.transform(u)}function IM(a,l,u,h){const f=a+20,g=Ne(),v=Us(g,f);return Qm(g,f)?vM(g,Ei(),l,v.transform,u,h,v):v.transform(u,h)}function Qm(a,l){return a[1].data[l].pure}function CT(a){return l=>{setTimeout(a,void 0,l)}}const zl=class NF extends o.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){var f,g,v;let C=l,I=u||(()=>null),x=h;if(l&&"object"==typeof l){const z=l;C=null===(f=z.next)||void 0===f?void 0:f.bind(z),I=null===(g=z.error)||void 0===g?void 0:g.bind(z),x=null===(v=z.complete)||void 0===v?void 0:v.bind(z)}this.__isAsync&&(I=CT(I),C&&(C=CT(C)),x&&(x=CT(x)));const O=super.subscribe({next:C,error:I,complete:x});return l instanceof L.w0&&l.add(O),O}};function FF(){return this._results[Qd()]()}class _b{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Qd(),h=_b.prototype;h[u]||(h[u]=FF)}get changes(){return this._changes||(this._changes=new zl)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const f=dr(l);(this._changesDetected=!function sf(a,l,u){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let f=a[h],g=l[h];if(u&&(f=u(f),g=u(g)),g!==f)return!1}return!0}(h._results,f,u))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Jm=(()=>{class a{}return a.__NG_ELEMENT_ID__=VF,a})();const LF=Jm,BF=class extends LF{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(l){const u=this._declarationTContainer.tViews,h=Mf(this._declarationLView,u,l,16,null,u.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(h[19]=g.createEmbeddedView(u)),kf(u,h,l),new Ym(h)}};function VF(){return yb(qn(),Ne())}function yb(a,l){return 4&a.type?new BF(l,a,tp(a,l)):null}let vb=(()=>{class a{}return a.__NG_ELEMENT_ID__=UF,a})();function UF(){return xM(qn(),Ne())}const HF=vb,DM=class extends HF{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return tp(this._hostTNode,this._hostLView)}get injector(){return new wa(this._hostTNode,this._hostLView)}get parentInjector(){const l=bs(this._hostTNode,this._hostLView);if(Gs(l)){const u=Rn(l,this._hostLView),h=br(l);return new wa(u[1].data[h+8],u)}return new wa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=SM(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,h){const f=l.createEmbeddedView(u||{});return this.insert(f,h),f}createComponent(l,u,h,f,g){const v=l&&!function Ws(a){return"function"==typeof a}(l);let C;if(v)C=u;else{const z=u||{};C=z.index,h=z.injector,f=z.projectableNodes,g=z.ngModuleRef}const I=v?l:new vT(ft(l)),x=h||this.parentInjector;if(!g&&null==I.ngModule){const ne=(v?x:this.parentInjector).get(uh,null);ne&&(g=ne)}const O=I.create(x,f,void 0,g);return this.insert(O.hostView,C),O}insert(l,u){const h=l._lView,f=h[1];if(function ou(a){return Yi(a[3])}(h)){const O=this.indexOf(l);if(-1!==O)this.detach(O);else{const z=h[3],ne=new DM(z,z[6],z[3]);ne.detach(ne.indexOf(l))}}const g=this._adjustIndex(u),v=this._lContainer;!function Ug(a,l,u,h){const f=10+h,g=u.length;h>0&&(u[f-1][4]=l),h<g-10?(l[4]=u[f],wl(u,10+h,l)):(u.push(l),l[4]=null),l[3]=u;const v=l[17];null!==v&&u!==v&&function YS(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(v,l);const C=l[19];null!==C&&C.insertView(a),l[2]|=128}(f,h,v,g);const C=qg(g,v),I=h[11],x=zg(I,v[7]);return null!==x&&function Vg(a,l,u,h,f,g){h[0]=f,h[6]=l,Bd(a,h,u,1,f,g)}(f,v[6],I,h,x,C),l.attachToViewContainerRef(),wl(ET(v),g,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=SM(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=Fd(this._lContainer,u);h&&(yc(ET(this._lContainer),u),By(h[1],h))}detach(l){const u=this._adjustIndex(l,-1),h=Fd(this._lContainer,u);return h&&null!=yc(ET(this._lContainer),u)?new Ym(h):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function SM(a){return a[8]}function ET(a){return a[8]||(a[8]=[])}function xM(a,l){let u;const h=l[a.index];if(Yi(h))u=h;else{let f;if(8&a.type)f=Cn(h);else{const g=l[11];f=g.createComment("");const v=Ai(a,l);xu(g,zg(g,v),f,function oC(a,l){return kn(a)?a.nextSibling(l):l.nextSibling}(g,v),!1)}l[a.index]=u=hv(h,l,f,a),Yd(l,u)}return new DM(u,a,l)}class bb{constructor(l){this.queryList=l,this.matches=null}clone(){return new bb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ua{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let g=0;g<h;g++){const v=u.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new Ua(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==IT(l,u).matches&&this.queries[u].setDirty()}}class Uu{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class wb{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const f=null!==u?u.length:0,g=this.getByIndex(h).embeddedTView(l,f);g&&(g.indexInDeclarationView=h,null!==u?u.push(g):u=[g])}return null!==u?new wb(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class dh{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new dh(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const g=h[f];this.matchTNodeWithReadOption(l,u,AM(u,g)),this.matchTNodeWithReadOption(l,u,gi(u,l,g,!1,!1))}else h===Jm?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,gi(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===Zm||f===vb||f===Jm&&4&u.type)this.addMatch(u.index,-2);else{const g=gi(u,l,f,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function AM(a,l){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function Qn(a,l,u,h){return-1===u?function Kn(a,l){return 11&a.type?tp(a,l):4&a.type?yb(a,l):null}(l,a):-2===u?function Cb(a,l,u){return u===Zm?tp(l,a):u===Jm?yb(l,a):u===vb?xM(l,a):void 0}(a,l,h):Or(a,a[1],u,l)}function TT(a,l,u,h){const f=l[19].queries[h];if(null===f.matches){const g=a.data,v=u.matches,C=[];for(let I=0;I<v.length;I+=2){const x=v[I];C.push(x<0?null:Qn(l,g[x],v[I+1],u.metadata.read))}f.matches=C}return f.matches}function Xm(a,l,u,h){const f=a.queries.getByIndex(u),g=f.matches;if(null!==g){const v=TT(a,l,f,u);for(let C=0;C<g.length;C+=2){const I=g[C];if(I>0)h.push(v[C/2]);else{const x=g[C+1],O=l[-I];for(let z=10;z<O.length;z++){const ne=O[z];ne[17]===ne[3]&&Xm(ne[1],ne,x,h)}if(null!==O[9]){const z=O[9];for(let ne=0;ne<z.length;ne++){const pe=z[ne];Xm(pe[1],pe,x,h)}}}}}return h}function Pi(a){const l=Ne(),u=Yt(),h=gl();du(h+1);const f=IT(u,h);if(a.dirty&&ga(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const g=f.crossesNgTemplate?Xm(u,l,h,[]):TT(u,l,f,h);a.reset(g,fF),a.notifyOnChanges()}return!0}return!1}function Ha(a,l,u){const h=Yt();h.firstCreatePass&&(Tb(h,new Uu(a,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),kM(h,Ne(),l)}function MM(a,l,u,h){const f=Yt();if(f.firstCreatePass){const g=qn();Tb(f,new Uu(l,u,h),g.index),function $F(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(f,a),2==(2&u)&&(f.staticContentQueries=!0)}kM(f,Ne(),u)}function Eb(){return function GF(a,l){return a[19].queries[l].queryList}(Ne(),gl())}function kM(a,l,u){const h=new _b(4==(4&u));lv(a,l,h,h.destroy),null===l[19]&&(l[19]=new Ua),l[19].queries.push(new bb(h))}function Tb(a,l,u){null===a.queries&&(a.queries=new wb),a.queries.track(new dh(l,u))}function IT(a,l){return a.queries.getByIndex(l)}function eo(...a){}const Mb=new li("Application Initializer");let Ni=(()=>{class a{constructor(u){this.appInits=u,this.resolve=eo,this.reject=eo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(Dm(g))u.push(g);else if(Hv(g)){const v=new Promise((C,I)=>{g.subscribe({complete:C,error:I})});u.push(v)}}Promise.all(u).then(()=>{h()}).catch(f=>{this.reject(f)}),0===u.length&&h(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(D(Mb,8))},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const ta=new li("AppId",{providedIn:"root",factory:function $M(){return`${UT()}${UT()}${UT()}`}});function UT(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const o_=new li("Platform Initializer"),eL=new li("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),a_=new li("appBootstrapListener");let HT=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const l_=new li("LocaleId",{providedIn:"root",factory:()=>P(l_,wt.Optional|wt.SkipSelf)||function sp(){return"undefined"!=typeof $localize&&$localize.locale||Pm}()}),kb=new li("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class qM{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let ZM=(()=>{class a{compileModuleSync(u){return new wT(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),g=Jo(Gt(u).declarations).reduce((v,C)=>{const I=ft(C);return I&&v.push(new vT(I)),v},[]);return new qM(h,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const KM=(()=>Promise.resolve(0))();function Ob(a){"undefined"==typeof Zone?KM.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class na{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zl(!1),this.onMicrotaskEmpty=new zl(!1),this.onStable=new zl(!1),this.onError=new zl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&u,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function QM(){let a=Zt.requestAnimationFrame,l=Zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function XM(a){const l=()=>{!function nL(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Zt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Nb(a),a.isCheckStableRunning=!0,Pb(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Nb(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,f,g,v,C)=>{try{return jT(a),u.invokeTask(f,g,v,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&l(),zT(a)}},onInvoke:(u,h,f,g,v,C,I)=>{try{return jT(a),u.invoke(f,g,v,C,I)}finally{a.shouldCoalesceRunChangeDetection&&l(),zT(a)}},onHasTask:(u,h,f,g)=>{u.hasTask(f,g),h===f&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,Nb(a),Pb(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,h,f,g)=>(u.handleError(f,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!na.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(na.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,l,JM,eo,eo);try{return g.runTask(v,u,h)}finally{g.cancelTask(v)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const JM={};function Pb(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Nb(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function jT(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function zT(a){a._nesting--,Pb(a)}class ek{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zl,this.onMicrotaskEmpty=new zl,this.onStable=new zl,this.onError=new zl}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,f){return l.apply(u,h)}}let GT=(()=>{class a{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{na.assertNotInAngularZone(),Ob(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ob(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,f){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:f})}whenStable(u,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,h,f){return[]}}return a.\u0275fac=function(u){return new(u||a)(D(na))},a.\u0275prov=rn({token:a,factory:a.\u0275fac}),a})(),tk=(()=>{class a{constructor(){this._applications=new Map,Fb.addToWindow(this)}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return Fb.findTestabilityInTree(this,u,h)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();class nk{addToWindow(l){}findTestabilityInTree(l,u,h){return null}}function ik(a){Fb=a}let Fb=new nk,Hu=null;const $T=new li("AllowMultipleToken"),WT=new li("PlatformOnDestroy");class ok{constructor(l,u){this.name=l,this.token=u}}function qT(a,l,u=[]){const h=`Platform: ${l}`,f=new li(h);return(g=[])=>{let v=ZT();if(!v||v.injector.get($T,!1)){const C=[...u,...g,{provide:f,useValue:!0}];a?a(C):function ak(a){if(Hu&&!Hu.get($T,!1))throw new Ae(400,"");Hu=a;const l=a.get(YT),u=a.get(o_,null);u&&u.forEach(h=>h())}(function ck(a=[],l){return Na.create({name:l,providers:[{provide:vv,useValue:"platform"},{provide:WT,useValue:()=>Hu=null},...a]})}(C,h))}return function lk(a){const l=ZT();if(!l)throw new Ae(401,"");return l}()}}function ZT(){var a;return null!==(a=null==Hu?void 0:Hu.get(YT))&&void 0!==a?a:null}let YT=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const C=function uk(a,l){let u;return u="noop"===a?new ek:("zone.js"===a?void 0:a)||new na({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),u}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),I=[{provide:na,useValue:C}];return C.run(()=>{const x=Na.create({providers:I,parent:this.injector,name:u.moduleType.name}),O=u.create(x),z=O.injector.get(Pg,null);if(!z)throw new Ae(402,"");return C.runOutsideAngular(()=>{const ne=C.onError.subscribe({next:pe=>{z.handleError(pe)}});O.onDestroy(()=>{op(this._modules,O),ne.unsubscribe()})}),function Lb(a,l,u){try{const h=u();return Dm(h)?h.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(z,C,()=>{const ne=O.injector.get(Ni);return ne.runInitializers(),ne.donePromise.then(()=>(function _i(a){He(a,"Expected localeId to be defined"),"string"==typeof a&&(tr=a.toLowerCase().replace(/_/g,"-"))}(O.injector.get(l_,Pm)||Pm),this._moduleDoBootstrap(O),O))})})}bootstrapModule(u,h=[]){const f=Gl({},h);return function rk(a,l,u){const h=new wT(u);return Promise.resolve(h)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(u){const h=u.injector.get(c_);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new Ae(403,"");u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,"");this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(WT,null);null==u||u(),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(D(Na))},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function Gl(a,l){return Array.isArray(l)?l.reduce(Gl,a):Object.assign(Object.assign({},a),l)}let c_=(()=>{class a{constructor(u,h,f,g){this._zone=u,this._injector=h,this._exceptionHandler=f,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new k.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),C=new k.y(I=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{na.assertNotInAngularZone(),Ob(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{na.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{x.unsubscribe(),O.unsubscribe()}});this.isStable=(0,q.T)(v,C.pipe((0,J.B)()))}bootstrap(u,h){if(!this._initStatus.done)throw new Ae(405,"");let f;f=u instanceof iM?u:this._injector.get(gb).resolveComponentFactory(u),this.componentTypes.push(f.componentType);const g=function sk(a){return a.isBoundToModule}(f)?void 0:this._injector.get(uh),C=f.create(Na.NULL,[],h||f.selector,g),I=C.location.nativeElement,x=C.injector.get(GT,null),O=x&&C.injector.get(tk);return x&&O&&O.registerApplication(I,x),C.onDestroy(()=>{this.detachView(C.hostView),op(this.components,C),O&&O.unregisterApplication(I)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Ae(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;op(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(a_,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(u){return new(u||a)(D(na),D(Na),D(Pg),D(Ni))},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function op(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let Ss=!0,Vb=!1;function Ub(){return Vb=!0,Ss}function KT(){if(Vb)throw new Error("Cannot enable prod mode after platform setup.");Ss=!1}let fk=(()=>{class a{}return a.__NG_ELEMENT_ID__=ju,a})();function ju(a){return function JT(a,l,u){if(ec(a)&&!u){const h=Mi(a.index,l);return new Ym(h,h)}return 47&a.type?new Ym(l[16],l):null}(qn(),Ne(),16==(16&a))}class ql{constructor(){}supports(l){return kc(l)}create(l){return new rI(l)}}const iI=(a,l)=>l;class rI{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||iI}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,f=0,g=null;for(;u||h;){const v=!h||u&&u.currentIndex<sI(h,f,g)?u:h,C=sI(v,f,g),I=v.currentIndex;if(v===h)f--,h=h._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{g||(g=[]);const x=C-f,O=I-f;if(x!=O){for(let ne=0;ne<x;ne++){const pe=ne<g.length?g[ne]:g[ne]=0,xe=pe+ne;O<=xe&&xe<x&&(g[ne]=pe+1)}g[v.previousIndex]=O-x}}C!==I&&l(v,C,I)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!kc(l))throw new Ae(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,g,v,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)g=l[C],v=this._trackByFn(C,g),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,g,v,C)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,v,C),h=!0),u=u._next}else f=0,function Wx(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[Qd()]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,C=>{v=this._trackByFn(f,C),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,C,v,f)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,v,f),h=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,f){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,g,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,g,f)):l=this._addAfter(new za(u,h),g,f),l}_verifyReinsertion(l,u,h,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?l=this._reinsertAfter(g,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,g=l._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new vh),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vh),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class za{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zu{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class vh{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new zu,this.map.set(u,h)),h.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sI(a,l,u){const h=a.previousIndex;if(null===h)return h;let f=0;return u&&h<u.length&&(f=u[h]),h+l+f}class d_{constructor(){}supports(l){return l instanceof Map||gm(l)}create(){return new oI}}class oI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||gm(l)))throw new Ae(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(f,h);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const h=new h_(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class h_{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function up(){return new jb([new ql])}let jb=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(null!=h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||up()),deps:[[a,new _t,new Dt]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(null!=h)return h;throw new Ae(901,"")}}return a.\u0275prov=rn({token:a,providedIn:"root",factory:up}),a})();function lI(){return new zb([new d_])}let zb=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||lI()),deps:[[a,new _t,new Dt]]}}find(u){const h=this.factories.find(g=>g.supports(u));if(h)return h;throw new Ae(901,"")}}return a.\u0275prov=rn({token:a,providedIn:"root",factory:lI}),a})();const f_=qT(null,"core",[]);let wk=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(D(c_))},a.\u0275mod=fe({type:a}),a.\u0275inj=pn({}),a})()},3942:(De,ye,M)=>{"use strict";M.d(ye,{Z:()=>Ae});var o=M(2090),L=M(4859),k=M(9681),q=M(1877);class J{constructor(we,Ce){this._delegate=we,this.firebase=Ce,(0,k._addComponent)(we,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(we,Ce=k._DEFAULT_ENTRY_NAME){var ke;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(we);return!Be.isInitialized()&&"EXPLICIT"===(null===(ke=Be.getComponent())||void 0===ke?void 0:ke.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:Ce})}_removeServiceInstance(we,Ce=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(Ce)}_addComponent(we){(0,k._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,k._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Y=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function de(){const Fe=function ee(Fe){const we={},Ce={__esModule:!0,initializeApp:function ve(Q,be={}){const F=k.initializeApp(Q,be);if((0,o.r3)(we,F.name))return we[F.name];const G=new Fe(F,Ce);return we[F.name]=G,G},app:Be,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Re(Q){const be=Q.name,F=be.replace("-compat","");if(k._registerComponent(Q)&&"PUBLIC"===Q.type){const G=(W=Be())=>{if("function"!=typeof W[F])throw Y.create("invalid-app-argument",{appName:be});return W[F]()};void 0!==Q.serviceProps&&(0,o.ZB)(G,Q.serviceProps),Ce[F]=G,Fe.prototype[F]=function(...W){return this._getService.bind(this,be).apply(this,Q.multipleInstances?W:[])}}return"PUBLIC"===Q.type?Ce[F]:null},removeApp:function ke(Q){delete we[Q]},useAsService:function it(Q,be){return"serverAuth"===be?null:be},modularAPIs:k}};function Be(Q){if(!(0,o.r3)(we,Q=Q||k._DEFAULT_ENTRY_NAME))throw Y.create("no-app",{appName:Q});return we[Q]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function qe(){return Object.keys(we).map(Q=>we[Q])}}),Be.App=Fe,Ce}(J);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function we(Ce){(0,o.ZB)(Fe,Ce)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Fe}(),B=new q.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=j;!function Se(Fe){(0,k.registerVersion)("@firebase/app-compat","0.1.29",Fe)}()},9681:(De,ye,M)=>{"use strict";M.r(ye),M.d(ye,{FirebaseError:()=>q.ZR,SDK_VERSION:()=>Dr,_DEFAULT_ENTRY_NAME:()=>He,_addComponent:()=>Ln,_addOrOverwriteComponent:()=>rn,_apps:()=>vn,_clearComponents:()=>Wr,_components:()=>St,_getProvider:()=>pn,_registerComponent:()=>zt,_removeServiceInstance:()=>Vn,deleteApp:()=>wt,getApp:()=>Xn,getApps:()=>gs,initializeApp:()=>qr,onLog:()=>mn,registerVersion:()=>Un,setLogLevel:()=>yi});var o=M(9671),L=M(4859),k=M(1877),q=M(2090),J=M(8766);class le{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(oe=>{if(function Y(K){const re=K.getComponent();return"VERSION"===(null==re?void 0:re.type)}(oe)){const Le=oe.getImmediate();return`${Le.library}/${Le.version}`}return null}).filter(oe=>oe).join(" ")}}const ee="@firebase/app",j=new k.Yd("@firebase/app"),He="[DEFAULT]",at={[ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vn=new Map,St=new Map;function Ln(K,re){try{K.container.addComponent(re)}catch(oe){j.debug(`Component ${re.name} failed to register with FirebaseApp ${K.name}`,oe)}}function rn(K,re){K.container.addOrOverwriteComponent(re)}function zt(K){const re=K.name;if(St.has(re))return j.debug(`There were multiple attempts to register component ${re}.`),!1;St.set(re,K);for(const oe of vn.values())Ln(oe,K);return!0}function pn(K,re){const oe=K.container.getProvider("heartbeat").getImmediate({optional:!0});return oe&&oe.triggerHeartbeat(),K.container.getProvider(re)}function Vn(K,re,oe=He){pn(K,re).clearInstance(oe)}function Wr(){St.clear()}const Gn=new q.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Rs{constructor(re,oe,Le){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},oe),this._name=oe.name,this._automaticDataCollectionEnabled=oe.automaticDataCollectionEnabled,this._container=Le,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}const Dr="9.9.0";function qr(K,re={}){"object"!=typeof re&&(re={name:re});const oe=Object.assign({name:He,automaticDataCollectionEnabled:!1},re),Le=oe.name;if("string"!=typeof Le||!Le)throw Gn.create("bad-app-name",{appName:String(Le)});const Ye=vn.get(Le);if(Ye){if((0,q.vZ)(K,Ye.options)&&(0,q.vZ)(oe,Ye.config))return Ye;throw Gn.create("duplicate-app",{appName:Le})}const It=new L.H0(Le);for(const sn of St.values())It.addComponent(sn);const un=new Rs(K,oe,It);return vn.set(Le,un),un}function Xn(K=He){const re=vn.get(K);if(!re)throw Gn.create("no-app",{appName:K});return re}function gs(){return Array.from(vn.values())}function wt(K){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,o.Z)(function*(K){const re=K.name;vn.has(re)&&(vn.delete(re),yield Promise.all(K.container.getProviders().map(oe=>oe.delete())),K.isDeleted=!0)})).apply(this,arguments)}function Un(K,re,oe){var Le;let Ye=null!==(Le=at[K])&&void 0!==Le?Le:K;oe&&(Ye+=`-${oe}`);const It=Ye.match(/\s|\//),un=re.match(/\s|\//);if(It||un){const sn=[`Unable to register library "${Ye}" with version "${re}":`];return It&&sn.push(`library name "${Ye}" contains illegal characters (whitespace or "/")`),It&&un&&sn.push("and"),un&&sn.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void j.warn(sn.join(" "))}zt(new L.wA(`${Ye}-version`,()=>({library:Ye,version:re}),"VERSION"))}function mn(K,re){if(null!==K&&"function"!=typeof K)throw Gn.create("invalid-log-argument");(0,k.Am)(K,re)}function yi(K){(0,k.Ub)(K)}const Hn="firebase-heartbeat-store";let bi=null;function Os(){return bi||(bi=(0,J.X3)("firebase-heartbeat-database",1,{upgrade:(K,re)=>{0===re&&K.createObjectStore(Hn)}}).catch(K=>{throw Gn.create("storage-open",{originalErrorMessage:K.message})})),bi}function mt(){return(mt=(0,o.Z)(function*(K){var re;try{return(yield Os()).transaction(Hn).objectStore(Hn).get(xr(K))}catch(oe){throw Gn.create("storage-get",{originalErrorMessage:null===(re=oe)||void 0===re?void 0:re.message})}})).apply(this,arguments)}function ut(K,re){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,o.Z)(function*(K,re){var oe;try{const Ye=(yield Os()).transaction(Hn,"readwrite");return yield Ye.objectStore(Hn).put(re,xr(K)),Ye.done}catch(Le){throw Gn.create("storage-set",{originalErrorMessage:null===(oe=Le)||void 0===oe?void 0:oe.message})}})).apply(this,arguments)}function xr(K){return`${K.name}!${K.options.appId}`}class ei{constructor(re){this.container=re,this._heartbeatsCache=null;const oe=this.container.getProvider("app").getImmediate();this._storage=new rr(oe),this._heartbeatsCachePromise=this._storage.read().then(Le=>(this._heartbeatsCache=Le,Le))}triggerHeartbeat(){var re=this;return(0,o.Z)(function*(){const Le=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ye=An();if(null===re._heartbeatsCache&&(re._heartbeatsCache=yield re._heartbeatsCachePromise),re._heartbeatsCache.lastSentHeartbeatDate!==Ye&&!re._heartbeatsCache.heartbeats.some(It=>It.date===Ye))return re._heartbeatsCache.heartbeats.push({date:Ye,agent:Le}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter(It=>{const un=new Date(It.date).valueOf();return Date.now()-un<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,o.Z)(function*(){if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null===re._heartbeatsCache||0===re._heartbeatsCache.heartbeats.length)return"";const oe=An(),{heartbeatsToSend:Le,unsentEntries:Ye}=function vt(K,re=1024){const oe=[];let Le=K.slice();for(const Ye of K){const It=oe.find(un=>un.agent===Ye.agent);if(It){if(It.dates.push(Ye.date),se(oe)>re){It.dates.pop();break}}else if(oe.push({agent:Ye.agent,dates:[Ye.date]}),se(oe)>re){oe.pop();break}Le=Le.slice(1)}return{heartbeatsToSend:oe,unsentEntries:Le}}(re._heartbeatsCache.heartbeats),It=(0,q.L)(JSON.stringify({version:2,heartbeats:Le}));return re._heartbeatsCache.lastSentHeartbeatDate=oe,Ye.length>0?(re._heartbeatsCache.heartbeats=Ye,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),It})()}}function An(){return(new Date).toISOString().substring(0,10)}class rr{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,q.hl)()&&(0,q.eu)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,o.Z)(function*(){return(yield re._canUseIndexedDBPromise)&&(yield function qt(K){return mt.apply(this,arguments)}(re.app))||{heartbeats:[]}})()}overwrite(re){var oe=this;return(0,o.Z)(function*(){var Le;if(yield oe._canUseIndexedDBPromise){const It=yield oe.read();return ut(oe.app,{lastSentHeartbeatDate:null!==(Le=re.lastSentHeartbeatDate)&&void 0!==Le?Le:It.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var oe=this;return(0,o.Z)(function*(){var Le;if(yield oe._canUseIndexedDBPromise){const It=yield oe.read();return ut(oe.app,{lastSentHeartbeatDate:null!==(Le=re.lastSentHeartbeatDate)&&void 0!==Le?Le:It.lastSentHeartbeatDate,heartbeats:[...It.heartbeats,...re.heartbeats]})}})()}}function se(K){return(0,q.L)(JSON.stringify({version:2,heartbeats:K})).length}!function ie(K){zt(new L.wA("platform-logger",re=>new le(re),"PRIVATE")),zt(new L.wA("heartbeat",re=>new ei(re),"PRIVATE")),Un(ee,"0.7.28",K),Un(ee,"0.7.28","esm2017"),Un("fire-js","")}("")},4859:(De,ye,M)=>{"use strict";M.d(ye,{H0:()=>ee,wA:()=>k,zt:()=>J});var o=M(9671),L=M(2090);class k{constructor(j,B,$){this.name=j,this.instanceFactory=B,this.type=$,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const q="[DEFAULT]";class J{constructor(j,B){this.name=j,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const B=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(B)){const $=new L.BH;if(this.instancesDeferred.set(B,$),this.isInitialized(B)||this.shouldAutoInitialize())try{const Me=this.getOrInitializeService({instanceIdentifier:B});Me&&$.resolve(Me)}catch(Me){}}return this.instancesDeferred.get(B).promise}getImmediate(j){var B;const $=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),Me=null!==(B=null==j?void 0:j.optional)&&void 0!==B&&B;if(!this.isInitialized($)&&!this.shouldAutoInitialize()){if(Me)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:$})}catch(Se){if(Me)return null;throw Se}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function Y(de){return"EAGER"===de.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:q})}catch(B){}for(const[B,$]of this.instancesDeferred.entries()){const Me=this.normalizeInstanceIdentifier(B);try{const Se=this.getOrInitializeService({instanceIdentifier:Me});$.resolve(Se)}catch(Se){}}}}clearInstance(j=q){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,o.Z)(function*(){const B=Array.from(j.instances.values());yield Promise.all([...B.filter($=>"INTERNAL"in $).map($=>$.INTERNAL.delete()),...B.filter($=>"_delete"in $).map($=>$._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=q){return this.instances.has(j)}getOptions(j=q){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:B={}}=j,$=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized($))throw Error(`${this.name}(${$}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Me=this.getOrInitializeService({instanceIdentifier:$,options:B});for(const[Se,Ae]of this.instancesDeferred.entries())$===this.normalizeInstanceIdentifier(Se)&&Ae.resolve(Me);return Me}onInit(j,B){var $;const Me=this.normalizeInstanceIdentifier(B),Se=null!==($=this.onInitCallbacks.get(Me))&&void 0!==$?$:new Set;Se.add(j),this.onInitCallbacks.set(Me,Se);const Ae=this.instances.get(Me);return Ae&&j(Ae,Me),()=>{Se.delete(j)}}invokeOnInitCallbacks(j,B){const $=this.onInitCallbacks.get(B);if($)for(const Me of $)try{Me(j,B)}catch(Se){}}getOrInitializeService({instanceIdentifier:j,options:B={}}){let $=this.instances.get(j);if(!$&&this.component&&($=this.component.instanceFactory(this.container,{instanceIdentifier:(de=j,de===q?void 0:de),options:B}),this.instances.set(j,$),this.instancesOptions.set(j,B),this.invokeOnInitCallbacks($,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,$)}catch(Me){}var de;return $||null}normalizeInstanceIdentifier(j=q){return this.component?this.component.multipleInstances?j:q:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ee{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const B=this.getProvider(j.name);if(B.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);B.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const B=new J(j,this);return this.providers.set(j,B),B}getProviders(){return Array.from(this.providers.values())}}},1877:(De,ye,M)=>{"use strict";M.d(ye,{Am:()=>de,Ub:()=>ee,Yd:()=>Y,in:()=>L});const o=[];var L=(()=>{return(j=L||(L={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",L;var j})();const k={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},q=L.INFO,J={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},le=(j,B,...$)=>{if(B<j.logLevel)return;const Me=(new Date).toISOString(),Se=J[B];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[Se](`[${Me}]  ${j.name}:`,...$)};class Y{constructor(B){this.name=B,this._logLevel=q,this._logHandler=le,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in L))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?k[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...B),this._logHandler(this,L.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...B),this._logHandler(this,L.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,L.INFO,...B),this._logHandler(this,L.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,L.WARN,...B),this._logHandler(this,L.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...B),this._logHandler(this,L.ERROR,...B)}}function ee(j){o.forEach(B=>{B.setLogLevel(j)})}function de(j,B){for(const $ of o){let Me=null;B&&B.level&&(Me=k[B.level]),$.userLogHandler=null===j?null:(Se,Ae,...Fe)=>{const we=Fe.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch(ke){return null}}).filter(Ce=>Ce).join(" ");Ae>=(null!=Me?Me:Se.logLevel)&&j({level:L[Ae].toLowerCase(),message:we,args:Fe,type:Se.name})}}}},8766:(De,ye,M)=>{"use strict";M.d(ye,{Lj:()=>ve,X3:()=>Be});var o=M(9671);let k,q;const Y=new WeakMap,ee=new WeakMap,de=new WeakMap,j=new WeakMap,B=new WeakMap;let Se={get(be,F,G){if(be instanceof IDBTransaction){if("done"===F)return ee.get(be);if("objectStoreNames"===F)return be.objectStoreNames||de.get(be);if("store"===F)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return Ce(be[F])},set:(be,F,G)=>(be[F]=G,!0),has:(be,F)=>be instanceof IDBTransaction&&("done"===F||"store"===F)||F in be};function we(be){return"function"==typeof be?function Fe(be){return be!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function le(){return q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(be)?function(...F){return be.apply(ke(this),F),Ce(Y.get(this))}:function(...F){return Ce(be.apply(ke(this),F))}:function(F,...G){const W=be.call(ke(this),F,...G);return de.set(W,F.sort?F.sort():[F]),Ce(W)}}(be):(be instanceof IDBTransaction&&function Me(be){if(ee.has(be))return;const F=new Promise((G,W)=>{const te=()=>{be.removeEventListener("complete",ge),be.removeEventListener("error",X),be.removeEventListener("abort",X)},ge=()=>{G(),te()},X=()=>{W(be.error||new DOMException("AbortError","AbortError")),te()};be.addEventListener("complete",ge),be.addEventListener("error",X),be.addEventListener("abort",X)});ee.set(be,F)}(be),((be,F)=>F.some(G=>be instanceof G))(be,function J(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(be,Se):be)}function Ce(be){if(be instanceof IDBRequest)return function $(be){const F=new Promise((G,W)=>{const te=()=>{be.removeEventListener("success",ge),be.removeEventListener("error",X)},ge=()=>{G(Ce(be.result)),te()},X=()=>{W(be.error),te()};be.addEventListener("success",ge),be.addEventListener("error",X)});return F.then(G=>{G instanceof IDBCursor&&Y.set(G,be)}).catch(()=>{}),B.set(F,be),F}(be);if(j.has(be))return j.get(be);const F=we(be);return F!==be&&(j.set(be,F),B.set(F,be)),F}const ke=be=>B.get(be);function Be(be,F,{blocked:G,upgrade:W,blocking:te,terminated:ge}={}){const X=indexedDB.open(be,F),Ge=Ce(X);return W&&X.addEventListener("upgradeneeded",ct=>{W(Ce(X.result),ct.oldVersion,ct.newVersion,Ce(X.transaction))}),G&&X.addEventListener("blocked",()=>G()),Ge.then(ct=>{ge&&ct.addEventListener("close",()=>ge()),te&&ct.addEventListener("versionchange",()=>te())}).catch(()=>{}),Ge}function ve(be,{blocked:F}={}){const G=indexedDB.deleteDatabase(be);return F&&G.addEventListener("blocked",()=>F()),Ce(G).then(()=>{})}const qe=["get","getKey","getAll","getAllKeys","count"],Re=["put","add","delete","clear"],it=new Map;function Q(be,F){if(!(be instanceof IDBDatabase)||F in be||"string"!=typeof F)return;if(it.get(F))return it.get(F);const G=F.replace(/FromIndex$/,""),W=F!==G,te=Re.includes(G);if(!(G in(W?IDBIndex:IDBObjectStore).prototype)||!te&&!qe.includes(G))return;const ge=function(){var X=(0,o.Z)(function*(Ge,...ct){const fn=this.transaction(Ge,te?"readwrite":"readonly");let He=fn.store;return W&&(He=He.index(ct.shift())),(yield Promise.all([He[G](...ct),te&&fn.done]))[0]});return function(ct){return X.apply(this,arguments)}}();return it.set(F,ge),ge}!function Ae(be){Se=be(Se)}(be=>HG(UG({},be),{get:(F,G,W)=>Q(F,G)||be.get(F,G,W),has:(F,G)=>!!Q(F,G)||be.has(F,G)}))}},De=>{De(De.s=577)}]);