
<table mat-table [dataSource]="componentOrders">
    <ng-container matColumnDef="number">
        <th mat-header-cell *matHeaderCellDef> Nº Orden </th>
        <td mat-cell *matCellDef="let order" [routerLink]="['/orders/'+order.number]" class="hoverable"> {{order.number}} </td>
    </ng-container>

    <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> Acciones</th>
        <td mat-cell *matCellDef="let order"  > 
            <button mat-mini-fab *ngFor="let action of actions" (click)="actionFunction(order)" color="accent" aria-label="Example icon button with a menu icon">
                <mat-icon>{{actionIcon}}</mat-icon>
            </button> 

            
        </td>
    </ng-container>

    <ng-container matColumnDef="cabify_estimated">
        <th mat-header-cell *matHeaderCellDef> Estimaciones </th>
        <td mat-cell *matCellDef="let order" > 
            <div style="display: flex;align-items: center;">
                <span *ngIf="order.cabifyEstimated">{{(order.cabifyEstimated[0].distance / 1000).toFixed(1) }} Km</span> 
            </div>
        </td>
    </ng-container>

    <ng-container matColumnDef="completed_at">
        <th mat-header-cell *matHeaderCellDef> Hora del pedido </th>
        <td mat-cell *matCellDef="let order" > {{order.completed_at.seconds*1000 | date:'dd/MM HH:mm:ss'}} </td>
    </ng-container>

    <ng-container matColumnDef="state">
        <th mat-header-cell *matHeaderCellDef> Journey Status </th>
        <td mat-cell *matCellDef="let order" > 
            <img *ngIf="order.uberTrips" style="height: 1.5em;width: auto;margin: 0 1em 0 0;" src="assets/images/uber.png">
            <span class="status-chip status-chip-{{order.uberTrips[0].status}}" *ngIf="order.uberTrips">{{order.uberTrips[0].status | uberStatus }}</span>
        </td>
    </ng-container>

    <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Nombre </th>
        <td mat-cell *matCellDef="let order" > {{order.name}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
    <tr mat-row *matRowDef="let row; columns: columnsToDisplay"></tr>
  </table>