<mat-drawer-container *ngIf="order" class="example-container" autosize style="height: 100%">
  
    <div *ngIf="order" class="example-sidenav-content p" style="padding-bottom: 10em;">
      
      <div class="half-card" style="padding:2em">
        <div *ngFor="let journey of order.journeys">
          <div class="display-info-card">
            <div class="title">
              <h1>Informacion de despacho</h1>
            </div>
            <div class="section-header">
              <p>Operador: {{journey.uberTrip ? 'Uber' : 'Hermex'}} </p>
              <p>Estado: {{journey.status | uberStatus}}</p>
              <iframe *ngIf="false" [src]="journey.uberTrip.tracking_url | safe"> </iframe>
              <button [disabled]="cancelingJourney" style="margin-bottom:1em;margin-top:0.25em" *ngIf="journey.status == 'Order queued sucesfully'" mat-raised-button color="accent">Cancelar</button>
              <button [disabled]="cancelingJourney" style="margin-bottom:1em;margin-top:0.25em" (click)="cancelUber(journey.uberTrip.id)" *ngIf="journey.uberTrip && journey.uberTrip.status == 'pending'" mat-raised-button color="accent">Cancelar</button>
            </div>
            <div class="section-body">
              <p *ngIf="journey.uberTrip">Monto: ${{journey.uberTrip.fee}}</p>
              <p>Tracking Id: {{journey.uberTrip.id}} </p>
              <p *ngIf="journey.uberTrip">Tracking Url: <a href="{{journey.uberTrip.tracking_url}}">{{journey.uberTrip.tracking_url}}</a></p>
              <p *ngIf="journey.uberTrip">Hora solicitado: {{journey.uberTrip.created | date:'YYYY-MM-dd HH:mm:ss'}}</p>
            </div>
          </div>
        </div>
        <div class="display-info-card">
          <div class="title">
            <h1>Informacion de pago</h1>
          </div>
          <div class="section-header">
            <p>Estado: {{order.payment_state}}</p>
          </div>
        </div>
        <div class="display-info-card">
          <div class="title">
            <h1>Line Items</h1>
          </div>
          <div class="section-body">
            <lomii-line-item *ngFor="let lineItem of order.line_items" [lineItem]="lineItem"></lomii-line-item>
          </div>
        </div>

        <div class="display-info-card">
          <div class="title">
            <h1>Dirección de envio</h1>
          </div>
          <div class="section-body" style="padding: 0px;">
            <div class="section-separator">
              <p class="title-grid">Nombre Completo:</p>
              <p class="info-grid">{{order.name ? order.name: 'No name'}}</p>
            </div>
            <div class="section-separator">
              <p class="title-grid">Correo:</p>
              <p class="info-grid">{{order.email}}</p>
            </div>
            <div class="section-separator">
              <p class="title-grid">Dirección completa:</p>
              <p class="info-grid">{{order.ship_address_address1}}</p>
            </div>
            <div class="section-separator">
              <p class="title-grid">Número de departamento o residencia:</p>
              <p class="info-grid">{{order.ship_address_address2}}</p>
            </div>
            <div class="section-separator">
              <p class="title-grid">Región:</p>
              <p class="info-grid">{{order.ship_address_state}}</p>
            </div>
            <div class="section-separator">
              <p class="title-grid">Comuna:</p>
              <p class="info-grid">{{order.ship_address_county}}</p>
            </div>
            <div class="section-separator">
              <p class="title-grid">País:</p>
              <p class="info-grid">{{order.ship_address_country}}</p>
            </div>
            <div class="section-separator">
              <p class="title-grid">Teléfono:</p>
              <p class="info-grid">{{order.ship_address_phone}}</p>
            </div>
            <div class="section-separator">
              <p class="title-grid">Notas:</p>
              <p class="info-grid">{{order.special_instructions? order.special_instructions: ''}}</p>
            </div>
          </div>
        </div>
      </div>
    </div>

  </mat-drawer-container>

