<mat-drawer-container class="example-container" autosize>

    <mat-drawer #drawer opened class="actions-sidenav" mode="side" style="width:300px" position="end">
        <div class="p">
            <h3>Filtros</h3>
            <form [formGroup]="filtersForm">

                <mat-form-field>
                    <mat-label>E-mail</mat-label>
                    <input matInput>
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Numero de pedido empieza por</mat-label>
                    <input matInput>
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Nombre empieza por</mat-label>
                    <input matInput>
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Estado</mat-label>
                    <mat-select formControlName="deliveryState">
                        <mat-option value="frutasVerduras">Confirmado</mat-option>
                        <mat-option value="bebidas">Preparando pedido</mat-option>
                        <mat-option value="junta">Listo para el despacho</mat-option>
                        <mat-option value="">En despacho</mat-option>
                        <mat-option value="">Entregado</mat-option>
                        <mat-option value="">Devuelto</mat-option>
                    </mat-select>
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Tienda</mat-label>
                    <mat-select formControlName="stockLocationId" (selectionChange)="changeStockLocation()" >
                        <mat-option value="25">Vicuña Mackenna Poniente 6690 local 30 - La Florida</mat-option>
                        <mat-option value="1">Balmoral 309 local 217 - Las Condes</mat-option>
                        <mat-option value="24">Irarrázaval 200 local 107 - Ñuñoa</mat-option>
                        <mat-option value="28">Sewell 20, Local 3 - Machalí</mat-option>
                        <mat-option value="27">Av. Edmundo Eluchans 1737, Local 3 - Viña del Mar</mat-option>
                        <mat-option value="-1">Todos</mat-option>
                    </mat-select>
                </mat-form-field>
            </form>

       </div>
    </mat-drawer>

    <div class="example-sidenav-content p" *ngIf="ordersProvider.orders">
        <h1>Ordenes</h1>
        <div>

        </div>
        <table mat-table [dataSource]="ordersProvider.orders" style="width: 100%;">
            <ng-container [matColumnDef]="'number'">
                <th mat-header-cell *matHeaderCellDef> Nº Orden </th>
                <td mat-cell *matCellDef="let order" [routerLink]="['/orders/'+order.number]" > {{order.number}} </td>
            </ng-container>

            <ng-container [matColumnDef]="'actions'">
                <th mat-header-cell *matHeaderCellDef> Nº Orden </th>
                <td mat-cell *matCellDef="let order"  > 
                    <button mat-mini-fab color="primary" aria-label="Example icon button with a menu icon">
                        <mat-icon>receipt</mat-icon>
                    </button> 
                    <button (click)="showItems()" style="margin-left:16px" mat-mini-fab color="primary" aria-label="Example icon button with a menu icon">
                        <mat-icon>receipt_long</mat-icon>
                    </button> 
                </td>
            </ng-container>

            <ng-container *ngFor="let def of commonColumns" [matColumnDef]="def">
                <th mat-header-cell *matHeaderCellDef> {{def}} </th>
                <td mat-cell *matCellDef="let order" > {{order[def]}} </td>
            </ng-container>
            <tr mat-row *matRowDef="let row; columns: columnsToDisplay"></tr>
          </table>
          <!--
        <ng-container *ngFor="let order of ordersProvider.orders">
            <div class="order" [routerLink]="['/orders/'+order.number]">
                <p>{{order.number}}</p>
                <div class="badges" style="display: flex;flex-direction: column;">
                    <div class="badge" style="color:white;padding: 4px;" [ngStyle]='{"background-color":badge.color}' *ngFor="let badge of order.badges">
                        {{ badge.abreviation }}
                    </div>
                </div>
                    <p *ngIf="!order.bill_address.company">{{order.hermexOrder ? order.hermexOrder.status.description : order.journey_state }}</p>
                    <p *ngIf="order.bill_address.company && order.journey_state == 'withdrawaled'">Pedido Retirado</p>
                    <p *ngIf="order.bill_address.company && order.journey_state != 'withdrawaled'">Pedido por recoger</p>
                    <img *ngIf="false && order.order.journey_state && order.order.journey_state != 'withdrawaled'" src="assets/images/cabify.png">
                    <img *ngIf="false && order.order.journey_state && order.order.journey_state == 'withdrawaled'" src="assets/images/lomi.svg">
            
                    <p>{{order.shipment_state}}</p>
                    <p>{{order.store_id}}</p>
                    <p>{{order.completed_at | date:'dd - MMM'}}</p>
                    <p>{{order.completed_at | date:'HH:mm:ss'}}</p>
                    <p>{{order.ship_address_address1}}</p>
                </div>
                <div class="divider"></div>
            </ng-container>
        -->
        <div class="divider"></div>

    </div>

</mat-drawer-container>