<lomii-half-card
    [title]="'Viaje #'+ (journey.id ? journey.id : '???')"
>

<div>
    <div class="display-info-card">
      <div class="title">
        <h1>Informacion de despacho</h1>
      </div>
      <div class="section-header">
        <p>Operador:Â {{journey.uberTrip ? 'Uber' : 'Hermex'}} </p>
        <p>Estado: {{journey.status | uberStatus}}</p>
        <iframe *ngIf="false" [src]="journey.uberTrip.tracking_url | safe"> </iframe>
        <button [disabled]="cancelingJourney" style="margin-bottom:1em;margin-top:0.25em" *ngIf="journey.status == 'Order queued sucesfully'" mat-raised-button color="accent">Cancelar</button>
        <button [disabled]="cancelingJourney" style="margin-bottom:1em;margin-top:0.25em" (click)="cancelTrip()" *ngIf="journey.uberTrip && journey.uberTrip.status == 'pending'" mat-raised-button color="accent">Cancelar</button>
      </div>
      <div class="section-body" *ngIf="journey.uberTrip">
        <p >Monto: ${{journey.uberTrip.fee}}</p>
        <p>Tracking Id: {{journey.uberTrip.id}} </p>
        <p *ngIf="journey.uberTrip">Tracking Url: <a href="{{journey.uberTrip.tracking_url}}">{{journey.uberTrip.tracking_url}}</a></p>
        <p *ngIf="journey.uberTrip">Hora solicitado: {{journey.uberTrip.created | date:'YYYY-MM-dd HH:mm:ss'}}</p>
      </div>
    </div>

    <div class="display-info-card" *ngIf="journey.uberTrip && journey.uberTrip.courier">
      <div class="title">
        <h1>Informacion del repartidor</h1>
      </div>
      <div class="section-header">
        <p>Nombre : {{journey.uberTrip.courier.name }} </p>
        <p>Numero de telefono: {{journey.uberTrip.courier.phone_number}}</p>
      </div>
      <div class="section-body">
        <p>Color del vehiculo: ${{journey.uberTrip.courier.vehicle_color}}</p>
        <p>Marca del vehicula: {{journey.uberTrip.courier.vehicle_make}} </p>
      </div>
    </div>

  </div>

</lomii-half-card>